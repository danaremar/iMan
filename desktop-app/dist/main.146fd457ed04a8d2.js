(self.webpackChunkdesktop_app=self.webpackChunkdesktop_app||[]).push([[179],{514:(Or,j,X)=>{"use strict";function R(t){return"function"==typeof t}function I(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const O=I(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,a)=>`${a+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function x(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class D{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const d of e)d.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(R(r))try{r()}catch(d){n=d instanceof O?d.errors:[d]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const d of a)try{y(d)}catch(h){n=null!=n?n:[],h instanceof O?n=[...n,...h.errors]:n.push(h)}}if(n)throw new O(n)}}add(n){var e;if(n&&n!==this)if(this.closed)y(n);else{if(n instanceof D){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&x(e,n)}remove(n){const{_finalizers:e}=this;e&&x(e,n),n instanceof D&&n._removeParent(this)}}D.EMPTY=(()=>{const t=new D;return t.closed=!0,t})();const C=D.EMPTY;function _(t){return t instanceof D||t&&"closed"in t&&R(t.remove)&&R(t.add)&&R(t.unsubscribe)}function y(t){R(t)?t():t.unsubscribe()}const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},g={setTimeout(t,n,...e){const{delegate:r}=g;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=g;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function w(t){g.setTimeout(()=>{const{onUnhandledError:n}=f;if(!n)throw t;n(t)})}function b(){}const T=F("C",void 0,void 0);function F(t,n,e){return{kind:t,value:n,error:e}}let G=null;function V(t){if(f.useDeprecatedSynchronousErrorHandling){const n=!G;if(n&&(G={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=G;if(G=null,e)throw r}}else t()}class K extends D{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,_(n)&&n.add(this)):this.destination=ge}static create(n,e,r){return new J(n,e,r)}next(n){this.isStopped?ce(function E(t){return F("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ce(function P(t){return F("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ce(T,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const U=Function.prototype.bind;function ee(t,n){return U.call(t,n)}class ie{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Q(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Q(r)}else Q(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Q(e)}}}class J extends K{constructor(n,e,r){let a;if(super(),R(n)||!n)a={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let d;this&&f.useDeprecatedNextContext?(d=Object.create(n),d.unsubscribe=()=>this.unsubscribe(),a={next:n.next&&ee(n.next,d),error:n.error&&ee(n.error,d),complete:n.complete&&ee(n.complete,d)}):a=n}this.destination=new ie(a)}}function Q(t){f.useDeprecatedSynchronousErrorHandling?function B(t){f.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=t)}(t):w(t)}function ce(t,n){const{onStoppedNotification:e}=f;e&&g.setTimeout(()=>e(t,n))}const ge={closed:!0,next:b,error:function oe(t){throw t},complete:b},_e="function"==typeof Symbol&&Symbol.observable||"@@observable";function we(t){return t}let Oe=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,a){const d=function nt(t){return t&&t instanceof K||function je(t){return t&&R(t.next)&&R(t.error)&&R(t.complete)}(t)&&_(t)}(e)?e:new J(e,r,a);return V(()=>{const{operator:h,source:m}=this;d.add(h?h.call(d,m):m?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Be(r))((a,d)=>{const h=new J({next:m=>{try{e(m)}catch(S){d(S),h.unsubscribe()}},error:d,complete:a});this.subscribe(h)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[_e](){return this}pipe(...e){return function Me(t){return 0===t.length?we:1===t.length?t[0]:function(e){return t.reduce((r,a)=>a(r),e)}}(e)(this)}toPromise(e){return new(e=Be(e))((r,a)=>{let d;this.subscribe(h=>d=h,h=>a(h),()=>r(d))})}}return t.create=n=>new t(n),t})();function Be(t){var n;return null!==(n=null!=t?t:f.Promise)&&void 0!==n?n:Promise}const We=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ze=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new ft(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new We}next(e){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){V(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:a,observers:d}=this;return r||a?C:(this.currentObservers=null,d.push(e),new D(()=>{this.currentObservers=null,x(d,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:a,isStopped:d}=this;r?e.error(a):d&&e.complete()}asObservable(){const e=new Oe;return e.source=this,e}}return t.create=(n,e)=>new ft(n,e),t})();class ft extends ze{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:C}}function Ct(t){return R(null==t?void 0:t.lift)}function ke(t){return n=>{if(Ct(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(t,n,e,r,a){return new jn(t,n,e,r,a)}class jn extends K{constructor(n,e,r,a,d,h){super(n),this.onFinalize=d,this.shouldUnsubscribe=h,this._next=e?function(m){try{e(m)}catch(S){n.error(S)}}:super._next,this._error=a?function(m){try{a(m)}catch(S){n.error(S)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function vt(t,n){return ke((e,r)=>{let a=0;e.subscribe(It(r,d=>{r.next(t.call(n,d,a++))}))})}function Jn(t){return this instanceof Jn?(this.v=t,this):new Jn(t)}function eo(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,r=e.apply(t,n||[]),d=[];return a={},h("next"),h("throw"),h("return"),a[Symbol.asyncIterator]=function(){return this},a;function h(q){r[q]&&(a[q]=function(ne){return new Promise(function(fe,ye){d.push([q,ne,fe,ye])>1||m(q,ne)})})}function m(q,ne){try{!function S(q){q.value instanceof Jn?Promise.resolve(q.value.v).then(k,N):H(d[0][2],q)}(r[q](ne))}catch(fe){H(d[0][3],fe)}}function k(q){m("next",q)}function N(q){m("throw",q)}function H(q,ne){q(ne),d.shift(),d.length&&m(d[0][0],d[0][1])}}function _o(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Yt(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(d){e[d]=t[d]&&function(h){return new Promise(function(m,S){!function a(d,h,m,S){Promise.resolve(S).then(function(k){d({value:k,done:m})},h)}(m,S,(h=t[d](h)).done,h.value)})}}}const Qt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function xt(t){return R(null==t?void 0:t.then)}function In(t){return R(t[_e])}function ki(t){return Symbol.asyncIterator&&R(null==t?void 0:t[Symbol.asyncIterator])}function ci(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jr=function ws(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function si(t){return R(null==t?void 0:t[jr])}function Ea(t){return eo(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:a}=yield Jn(e.read());if(a)return yield Jn(void 0);yield yield Jn(r)}}finally{e.releaseLock()}})}function pc(t){return R(null==t?void 0:t.getReader)}function yr(t){if(t instanceof Oe)return t;if(null!=t){if(In(t))return function Xf(t){return new Oe(n=>{const e=t[_e]();if(R(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Qt(t))return function vo(t){return new Oe(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(xt(t))return function Kw(t){return new Oe(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,w)})}(t);if(ki(t))return Nv(t);if(si(t))return function Qf(t){return new Oe(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(pc(t))return function qw(t){return Nv(Ea(t))}(t)}throw ci(t)}function Nv(t){return new Oe(n=>{(function Xw(t,n){var e,r,a,d;return function Ci(t,n,e,r){return new(e||(e=Promise))(function(d,h){function m(N){try{k(r.next(N))}catch(H){h(H)}}function S(N){try{k(r.throw(N))}catch(H){h(H)}}function k(N){N.done?d(N.value):function a(d){return d instanceof e?d:new e(function(h){h(d)})}(N.value).then(m,S)}k((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=_o(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(h){a={error:h}}finally{try{r&&!r.done&&(d=e.return)&&(yield d.call(e))}finally{if(a)throw a.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Us(t,n,e,r=0,a=!1){const d=n.schedule(function(){e(),a?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(d),!a)return d}function En(t,n,e=1/0){return R(n)?En((r,a)=>vt((d,h)=>n(r,d,a,h))(yr(t(r,a))),e):("number"==typeof n&&(e=n),ke((r,a)=>function Cr(t,n,e,r,a,d,h,m){const S=[];let k=0,N=0,H=!1;const q=()=>{H&&!S.length&&!k&&n.complete()},ne=ye=>k<r?fe(ye):S.push(ye),fe=ye=>{d&&n.next(ye),k++;let me=!1;yr(e(ye,N++)).subscribe(It(n,De=>{null==a||a(De),d?ne(De):n.next(De)},()=>{me=!0},void 0,()=>{if(me)try{for(k--;S.length&&k<r;){const De=S.shift();h?Us(n,h,()=>fe(De)):fe(De)}q()}catch(De){n.error(De)}}))};return t.subscribe(It(n,ne,()=>{H=!0,q()})),()=>{null==m||m()}}(r,a,t,e)))}function ku(t=1/0){return En(we,t)}const Mo=new Oe(t=>t.complete());function il(t){return t&&R(t.schedule)}function No(t){return t[t.length-1]}function fc(t){return R(No(t))?t.pop():void 0}function Da(t){return il(No(t))?t.pop():void 0}function Pu(t,n=0){return ke((e,r)=>{e.subscribe(It(r,a=>Us(r,t,()=>r.next(a),n),()=>Us(r,t,()=>r.complete(),n),a=>Us(r,t,()=>r.error(a),n)))})}function Jf(t,n=0){return ke((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function gc(t,n){if(!t)throw new Error("Iterable cannot be null");return new Oe(e=>{Us(e,n,()=>{const r=t[Symbol.asyncIterator]();Us(e,n,()=>{r.next().then(a=>{a.done?e.complete():e.next(a.value)})},0,!0)})})}function Zi(t,n){return n?function ex(t,n){if(null!=t){if(In(t))return function Zw(t,n){return yr(t).pipe(Jf(n),Pu(n))}(t,n);if(Qt(t))return function Fv(t,n){return new Oe(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(xt(t))return function eg(t,n){return yr(t).pipe(Jf(n),Pu(n))}(t,n);if(ki(t))return gc(t,n);if(si(t))return function Jw(t,n){return new Oe(e=>{let r;return Us(e,n,()=>{r=t[jr](),Us(e,n,()=>{let a,d;try{({value:a,done:d}=r.next())}catch(h){return void e.error(h)}d?e.complete():e.next(a)},0,!0)}),()=>R(null==r?void 0:r.return)&&r.return()})}(t,n);if(pc(t))return function dt(t,n){return gc(Ea(t),n)}(t,n)}throw ci(t)}(t,n):yr(t)}function Dh(...t){const n=Da(t),e=function Qw(t,n){return"number"==typeof No(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?yr(r[0]):ku(e)(Zi(r,n)):Mo}function Ji(t){return t<=0?()=>Mo:ke((n,e)=>{let r=0;n.subscribe(It(e,a=>{++r<=t&&(e.next(a),t<=r&&e.complete())}))})}function xe(t={}){const{connector:n=(()=>new ze),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=t;return d=>{let h=null,m=null,S=null,k=0,N=!1,H=!1;const q=()=>{null==m||m.unsubscribe(),m=null},ne=()=>{q(),h=S=null,N=H=!1},fe=()=>{const ye=h;ne(),null==ye||ye.unsubscribe()};return ke((ye,me)=>{k++,!H&&!N&&q();const De=S=null!=S?S:n();me.add(()=>{k--,0===k&&!H&&!N&&(m=Iu(fe,a))}),De.subscribe(me),h||(h=new J({next:Te=>De.next(Te),error:Te=>{H=!0,q(),m=Iu(ne,e,Te),De.error(Te)},complete:()=>{N=!0,q(),m=Iu(ne,r),De.complete()}}),Zi(ye).subscribe(h))})(d)}}function Iu(t,n,...e){return!0===n?(t(),null):!1===n?null:n(...e).pipe(Ji(1)).subscribe(()=>t())}function ui(t){for(let n in t)if(t[n]===ui)return n;throw Error("Could not find renamed property on target object.")}function tg(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ni(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ni).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ah(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Lv=ui({__forward_ref__:ui});function zn(t){return t.__forward_ref__=zn,t.toString=function(){return ni(this())},t}function sn(t){return Rh(t)?t():t}function Rh(t){return"function"==typeof t&&t.hasOwnProperty(Lv)&&t.__forward_ref__===zn}class Lt extends Error{constructor(n,e){super(function ng(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function bn(t){return"string"==typeof t?t:null==t?"":String(t)}function $r(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():bn(t)}function Mu(t,n){const e=n?` in ${n}`:"";throw new Lt(-201,`No provider for ${$r(t)} found${e}`)}function Co(t,n){null==t&&function mi(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function St(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function en(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nu(t){return ig(t,kh)||ig(t,Ph)}function ig(t,n){return t.hasOwnProperty(n)?t[n]:null}function Hv(t){return t&&(t.hasOwnProperty(Fu)||t.hasOwnProperty(rg))?t[Fu]:null}const kh=ui({\u0275prov:ui}),Fu=ui({\u0275inj:ui}),Ph=ui({ngInjectableDef:ui}),rg=ui({ngInjectorDef:ui});var cn=(()=>((cn=cn||{})[cn.Default=0]="Default",cn[cn.Host=1]="Host",cn[cn.Self=2]="Self",cn[cn.SkipSelf=4]="SkipSelf",cn[cn.Optional=8]="Optional",cn))();let Lu;function Ss(t){const n=Lu;return Lu=t,n}function Ih(t,n,e){const r=Nu(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&cn.Optional?null:void 0!==n?n:void Mu(ni(t),"Injector")}function Jo(t){return{toString:t}.toString()}var Wr=(()=>((Wr=Wr||{})[Wr.OnPush=0]="OnPush",Wr[Wr.Default=1]="Default",Wr))(),kr=(()=>{return(t=kr||(kr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kr;var t})();const Nh="undefined"!=typeof globalThis&&globalThis,$v="undefined"!=typeof window&&window,Wv="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ii=Nh||"undefined"!=typeof global&&global||$v||Wv,ol={},di=[],sl=ui({\u0275cmp:ui}),sg=ui({\u0275dir:ui}),Fh=ui({\u0275pipe:ui}),ai=ui({\u0275mod:ui}),Ts=ui({\u0275fac:ui}),Es=ui({__NG_ELEMENT_ID__:ui});let Lh=0;function tn(t){return Jo(()=>{const e={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Wr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||di,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kr.Emulated,id:"c",styles:t.styles||di,_:null,setInput:null,schemas:t.schemas||null,tView:null},a=t.directives,d=t.features,h=t.pipes;return r.id+=Lh++,r.inputs=ju(t.inputs,e),r.outputs=ju(t.outputs),d&&d.forEach(m=>m(r)),r.directiveDefs=a?()=>("function"==typeof a?a():a).map(Bu):null,r.pipeDefs=h?()=>("function"==typeof h?h():h).map(Gh):null,r})}function Bu(t){return _i(t)||function bo(t){return t[sg]||null}(t)}function Gh(t){return function Si(t){return t[Fh]||null}(t)}const Vu={};function Xt(t){return Jo(()=>{const n={type:t.type,bootstrap:t.bootstrap||di,declarations:t.declarations||di,imports:t.imports||di,exports:t.exports||di,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Vu[t.id]=t.type),n})}function ju(t,n){if(null==t)return ol;const e={};for(const r in t)if(t.hasOwnProperty(r)){let a=t[r],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),e[a]=r,n&&(n[a]=d)}return e}const gt=tn;function to(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _i(t){return t[sl]||null}function Fo(t,n){const e=t[ai]||null;if(!e&&!0===n)throw new Error(`Type ${ni(t)} does not have '\u0275mod' property.`);return e}function hi(t){return Array.isArray(t)&&"object"==typeof t[1]}function wr(t){return Array.isArray(t)&&!0===t[1]}function Vh(t){return 0!=(8&t.flags)}function rr(t){return 2==(2&t.flags)}function zu(t){return 1==(1&t.flags)}function Lo(t){return null!==t.template}function Uv(t){return 0!=(512&t[2])}function qs(t,n){return t.hasOwnProperty(Ts)?t[Ts]:null}class Zv{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wn(){return Jv}function Jv(t){return t.type.prototype.ngOnChanges&&(t.setInput=yx),vx}function vx(){const t=ey(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===ol)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function yx(t,n,e,r){const a=ey(t)||function Cx(t,n){return t[jh]=n}(t,{previous:ol,current:null}),d=a.current||(a.current={}),h=a.previous,m=this.declaredInputs[e],S=h[m];d[m]=new Zv(S&&S.currentValue,n,h===ol),t[r]=n}Wn.ngInherit=!0;const jh="__ngSimpleChanges__";function ey(t){return t[jh]||null}let Wh;function Uh(){return void 0!==Wh?Wh:"undefined"!=typeof document?document:void 0}function Rn(t){return!!t.listen}const iy={createRenderer:(t,n)=>Uh()};function er(t){for(;Array.isArray(t);)t=t[0];return t}function qu(t,n){return er(n[t])}function Bo(t,n){return er(n[t.index])}function Xu(t,n){return t.data[n]}function wo(t,n){const e=n[t];return hi(e)?e:e[0]}function oy(t){return 4==(4&t[2])}function hg(t){return 128==(128&t[2])}function Oa(t,n){return null==n?null:t[n]}function Pi(t){t[18]=0}function fg(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const ht={lFrame:is(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zh(){return ht.bindingsEnabled}function ut(){return ht.lFrame.lView}function Kn(){return ht.lFrame.tView}function Et(t){return ht.lFrame.contextLView=t,t[8]}function sr(){let t=gg();for(;null!==t&&64===t.type;)t=t.parent;return t}function gg(){return ht.lFrame.currentTNode}function As(t,n){const e=ht.lFrame;e.currentTNode=t,e.isParent=n}function st(){return ht.lFrame.isParent}function Yh(){ht.lFrame.isParent=!1}function Kh(){return ht.isInCheckNoChangesMode}function Zu(t){ht.isInCheckNoChangesMode=t}function Ur(){const t=ht.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function dl(){return ht.lFrame.bindingIndex++}function Xs(t){const n=ht.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function mg(t,n){const e=ht.lFrame;e.bindingIndex=e.bindingRootIndex=t,ns(n)}function ns(t){ht.lFrame.currentDirectiveIndex=t}function _g(t){const n=ht.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Xh(){return ht.lFrame.currentQueryIndex}function hl(t){ht.lFrame.currentQueryIndex=t}function Dx(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function ly(t,n,e){if(e&cn.SkipSelf){let a=n,d=t;for(;!(a=a.parent,null!==a||e&cn.Host||(a=Dx(d),null===a||(d=d[15],10&a.type))););if(null===a)return!1;n=a,t=d}const r=ht.lFrame=cy();return r.currentTNode=n,r.lView=t,!0}function xc(t){const n=cy(),e=t[1];ht.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function cy(){const t=ht.lFrame,n=null===t?null:t.child;return null===n?is(t):n}function is(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function uy(){const t=ht.lFrame;return ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ju=uy;function ed(){const t=uy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pr(){return ht.lFrame.selectedIndex}function ka(t){ht.lFrame.selectedIndex=t}function Ii(){const t=ht.lFrame;return Xu(t.tView,t.selectedIndex)}function pi(){ht.lFrame.currentNamespace="svg"}function Sc(){!function Qs(){ht.lFrame.currentNamespace=null}()}function tr(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const d=t.data[e].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:m,ngAfterViewInit:S,ngAfterViewChecked:k,ngOnDestroy:N}=d;h&&(t.contentHooks||(t.contentHooks=[])).push(-e,h),m&&((t.contentHooks||(t.contentHooks=[])).push(e,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,m)),S&&(t.viewHooks||(t.viewHooks=[])).push(-e,S),k&&((t.viewHooks||(t.viewHooks=[])).push(e,k),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,k)),null!=N&&(t.destroyHooks||(t.destroyHooks=[])).push(e,N)}}function bi(t,n,e){dy(t,n,3,e)}function Qh(t,n,e,r){(3&t[2])===e&&dy(t,n,e,r)}function Ui(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function dy(t,n,e,r){const d=null!=r?r:-1,h=n.length-1;let m=0;for(let S=void 0!==r?65535&t[18]:0;S<h;S++)if("number"==typeof n[S+1]){if(m=n[S],null!=r&&m>=r)break}else n[S]<0&&(t[18]+=65536),(m<d||-1==d)&&(vg(t,e,n,S),t[18]=(4294901760&t[18])+S+2),S++}function vg(t,n,e,r){const a=e[r]<0,d=e[r+1],m=t[a?-e[r]:e[r]];if(a){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{d.call(m)}finally{}}}else try{d.call(m)}finally{}}class Tc{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Jh(t,n,e){const r=Rn(t);let a=0;for(;a<e.length;){const d=e[a];if("number"==typeof d){if(0!==d)break;a++;const h=e[a++],m=e[a++],S=e[a++];r?t.setAttribute(n,m,S,h):n.setAttributeNS(h,m,S)}else{const h=d,m=e[++a];bg(h)?r&&t.setProperty(n,h,m):r?t.setAttribute(n,h,m):n.setAttribute(h,m),a++}}return a}function py(t){return 3===t||4===t||6===t}function bg(t){return 64===t.charCodeAt(0)}function fl(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const a=n[r];"number"==typeof a?e=a:0===e||ep(t,e,a,null,-1===e||2===e?n[++r]:null)}}return t}function ep(t,n,e,r,a){let d=0,h=t.length;if(-1===n)h=-1;else for(;d<t.length;){const m=t[d++];if("number"==typeof m){if(m===n){h=-1;break}if(m>n){h=d-1;break}}}for(;d<t.length;){const m=t[d];if("number"==typeof m)break;if(m===e){if(null===r)return void(null!==a&&(t[d+1]=a));if(r===t[d+1])return void(t[d+2]=a)}d++,null!==r&&d++,null!==a&&d++}-1!==h&&(t.splice(h,0,n),d=h+1),t.splice(d++,0,e),null!==r&&t.splice(d++,0,r),null!==a&&t.splice(d++,0,a)}function fy(t){return-1!==t}function Zs(t){return 32767&t}function Js(t,n){let e=function tp(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let wg=!0;function Ec(t){const n=wg;return wg=t,n}let Mx=0;function Ir(t,n){const e=jo(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,xg(r.data,t),xg(n,null),xg(r.blueprint,null));const a=np(t,n),d=t.injectorIndex;if(fy(a)){const h=Zs(a),m=Js(a,n),S=m[1].data;for(let k=0;k<8;k++)n[d+k]=m[h+k]|S[h+k]}return n[d+8]=a,d}function xg(t,n){t.push(0,0,0,0,0,0,0,0,n)}function jo(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function np(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,a=n;for(;null!==a;){const d=a[1],h=d.type;if(r=2===h?d.declTNode:1===h?a[6]:null,null===r)return-1;if(e++,a=a[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function ip(t,n,e){!function _y(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Es)&&(r=e[Es]),null==r&&(r=e[Es]=Mx++);const a=255&r;n.data[t+(a>>5)]|=1<<a}(t,n,e)}function vy(t,n,e){if(e&cn.Optional)return t;Mu(n,"NodeInjector")}function yy(t,n,e,r){if(e&cn.Optional&&void 0===r&&(r=null),0==(e&(cn.Self|cn.Host))){const a=t[9],d=Ss(void 0);try{return a?a.get(n,r,e&cn.Optional):Ih(n,r,e&cn.Optional)}finally{Ss(d)}}return vy(r,n,e)}function gl(t,n,e,r=cn.Default,a){if(null!==t){const d=function Tg(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Es)?t[Es]:void 0;return"number"==typeof n?n>=0?255&n:Nx:n}(e);if("function"==typeof d){if(!ly(n,t,r))return r&cn.Host?vy(a,e,r):yy(n,e,r,a);try{const h=d(r);if(null!=h||r&cn.Optional)return h;Mu(e)}finally{Ju()}}else if("number"==typeof d){let h=null,m=jo(t,n),S=-1,k=r&cn.Host?n[16][6]:null;for((-1===m||r&cn.SkipSelf)&&(S=-1===m?np(t,n):n[m+8],-1!==S&&Eg(r,!1)?(h=n[1],m=Zs(S),n=Js(S,n)):m=-1);-1!==m;){const N=n[1];if(wy(d,m,N.data)){const H=by(m,n,e,h,r,k);if(H!==Cy)return H}S=n[m+8],-1!==S&&Eg(r,n[1].data[m+8]===k)&&wy(d,m,n)?(h=N,m=Zs(S),n=Js(S,n)):m=-1}}}return yy(n,e,r,a)}const Cy={};function Nx(){return new Ac(sr(),ut())}function by(t,n,e,r,a,d){const h=n[1],m=h.data[t+8],N=rp(m,h,e,null==r?rr(m)&&wg:r!=h&&0!=(3&m.type),a&cn.Host&&d===m);return null!==N?Dc(n,h,N,m):Cy}function rp(t,n,e,r,a){const d=t.providerIndexes,h=n.data,m=1048575&d,S=t.directiveStart,N=d>>20,q=a?m+N:t.directiveEnd;for(let ne=r?m:m+N;ne<q;ne++){const fe=h[ne];if(ne<S&&e===fe||ne>=S&&fe.type===e)return ne}if(a){const ne=h[S];if(ne&&Lo(ne)&&ne.type===e)return S}return null}function Dc(t,n,e,r){let a=t[e];const d=n.data;if(function hy(t){return t instanceof Tc}(a)){const h=a;h.resolving&&function tx(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Lt(-200,`Circular dependency in DI detected for ${t}${e}`)}($r(d[e]));const m=Ec(h.canSeeViewProviders);h.resolving=!0;const S=h.injectImpl?Ss(h.injectImpl):null;ly(t,r,cn.Default);try{a=t[e]=h.factory(void 0,d,t,r),n.firstCreatePass&&e>=r.directiveStart&&function pl(t,n,e){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:d}=n.type.prototype;if(r){const h=Jv(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,h),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,h)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),d&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,d),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,d))}(e,d[e],n)}finally{null!==S&&Ss(S),Ec(m),h.resolving=!1,Ju()}}return a}function wy(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Eg(t,n){return!(t&cn.Self||t&cn.Host&&n)}class Ac{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return gl(this._tNode,this._lView,n,r,e)}}function fr(t){return Jo(()=>{const n=t.prototype.constructor,e=n[Ts]||Rc(n),r=Object.prototype;let a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==r;){const d=a[Ts]||Rc(a);if(d&&d!==e)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Rc(t){return Rh(t)?()=>{const n=Rc(sn(t));return n&&n()}:qs(t)}function ml(t){return function Sg(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let a=0;for(;a<r;){const d=e[a];if(py(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<r&&"string"==typeof e[a];)a++;else{if(d===n)return e[a+1];a+=2}}}return null}(sr(),t)}const Oc="__parameters__",kc="__prop__metadata__";function Dg(t){return function(...e){if(t){const r=t(...e);for(const a in r)this[a]=r[a]}}}function vl(t,n,e){return Jo(()=>{const r=Dg(n);function a(...d){if(this instanceof a)return r.apply(this,d),this;const h=new a(...d);return m.annotation=h,m;function m(S,k,N){const H=S.hasOwnProperty(Oc)?S[Oc]:Object.defineProperty(S,Oc,{value:[]})[Oc];for(;H.length<=N;)H.push(null);return(H[N]=H[N]||[]).push(h),S}}return e&&(a.prototype=Object.create(e.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}function Ag(t,n,e,r){return Jo(()=>{const a=Dg(n);function d(...h){if(this instanceof d)return a.apply(this,h),this;const m=new d(...h);return function S(k,N){const H=k.constructor,q=H.hasOwnProperty(kc)?H[kc]:Object.defineProperty(H,kc,{value:{}})[kc];q[N]=q.hasOwnProperty(N)&&q[N]||[],q[N].unshift(m),r&&r(k,N,...h)}}return e&&(d.prototype=Object.create(e.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class Kt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=St({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const mn=new Kt("AnalyzeForEntryComponents");class Sy{}const op=Ag("ContentChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},n),Sy);function $o(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),$o(r,n)):n!==t&&n.push(r)}return n}function xo(t,n){t.forEach(e=>Array.isArray(e)?xo(e,n):n(e))}function Nc(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function nd(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function id(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function So(t,n,e){let r=Lc(t,n);return r>=0?t[1|r]=e:(r=~r,function Vx(t,n,e,r){let a=t.length;if(a==n)t.push(e,r);else if(1===a)t.push(r,t[0]),t[0]=e;else{for(a--,t.push(t[a-1],t[a]);a>n;)t[a]=t[a-2],a--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function kg(t,n){const e=Lc(t,n);if(e>=0)return t[1|e]}function Lc(t,n){return function Ey(t,n,e){let r=0,a=t.length>>e;for(;a!==r;){const d=r+(a-r>>1),h=t[d<<e];if(n===h)return d<<e;h>n?a=d:r=d+1}return~(a<<e)}(t,n,1)}const rd={},Pg="__NG_DI_FLAG__",cp="ngTempTokenPath",zx=/\n/gm,Ry="__source",Kx=ui({provide:String,useValue:ui});let od;function Oy(t){const n=od;return od=t,n}function qx(t,n=cn.Default){if(void 0===od)throw new Lt(203,"");return null===od?Ih(t,void 0,n):od.get(t,n&cn.Optional?null:void 0,n)}function Qe(t,n=cn.Default){return(function og(){return Lu}()||qx)(sn(t),n)}const yl=Qe;function up(t){const n=[];for(let e=0;e<t.length;e++){const r=sn(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Lt(900,"");let a,d=cn.Default;for(let h=0;h<r.length;h++){const m=r[h],S=Cl(m);"number"==typeof S?-1===S?a=m.token:d|=S:a=m}n.push(Qe(a,d))}else n.push(Qe(r))}return n}function sd(t,n){return t[Pg]=n,t.prototype[Pg]=n,t}function Cl(t){return t[Pg]}const bl=sd(vl("Inject",t=>({token:t})),-1),xr=sd(vl("Optional"),8),ad=sd(vl("SkipSelf"),4);let hp,fp;function At(t){var n;return(null===(n=function pp(){if(void 0===hp&&(hp=null,ii.trustedTypes))try{hp=ii.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return hp}())||void 0===n?void 0:n.createHTML(t))||t}function Ly(t){var n;return(null===(n=function Wo(){if(void 0===fp&&(fp=null,ii.trustedTypes))try{fp=ii.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return fp}())||void 0===n?void 0:n.createHTML(t))||t}class ea{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class oo extends ea{getTypeName(){return"HTML"}}class eS extends ea{getTypeName(){return"Style"}}class tS extends ea{getTypeName(){return"Script"}}class nS extends ea{getTypeName(){return"URL"}}class iS extends ea{getTypeName(){return"ResourceURL"}}function Ei(t){return t instanceof ea?t.changingThisBreaksApplicationSecurity:t}function rs(t,n){const e=Vg(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}function Vg(t){return t instanceof ea&&t.getTypeName()||null}class sS{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(At(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class aS{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=At(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=At(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let a=e.length-1;0<a;a--){const h=e.item(a).name;("xmlns:ns1"===h||0===h.indexOf("ns1:"))&&n.removeAttribute(h)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const cS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,uS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function dd(t){return(t=String(t)).match(cS)||t.match(uS)?t:"unsafe:"+t}function Os(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function hd(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const $y=Os("area,br,col,hr,img,wbr"),gp=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wn=Os("rp,rt"),Hg=hd($y,hd(gp,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hd(wn,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hd(wn,gp)),jg=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$g=Os("srcset"),Uy=hd(jg,$g,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mp=Os("script,style,template");class dS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let a=this.checkClobberedElement(e,e.nextSibling);if(a){e=a;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Hg.hasOwnProperty(e))return this.sanitizedSomething=!0,!mp.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let a=0;a<r.length;a++){const d=r.item(a),h=d.name,m=h.toLowerCase();if(!Uy.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let S=d.value;jg[m]&&(S=dd(S)),$g[m]&&(t=S,S=(t=String(t)).split(",").map(n=>dd(n.trim())).join(", ")),this.buf.push(" ",h,'="',zy(S),'"')}var t;return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Hg.hasOwnProperty(e)&&!$y.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(zy(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const hS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pS=/([^\#-~ |!])/g;function zy(t){return t.replace(/&/g,"&amp;").replace(hS,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(pS,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _p;function Yy(t,n){let e=null;try{_p=_p||function Hy(t){const n=new aS(t);return function lS(){try{return!!(new window.DOMParser).parseFromString(At(""),"text/html")}catch(t){return!1}}()?new sS(n):n}(t);let r=n?String(n):"";e=_p.getInertBodyElement(r);let a=5,d=r;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,r=d,d=e.innerHTML,e=_p.getInertBodyElement(r)}while(r!==d);return At((new dS).sanitizeChildren(vp(e)||e))}finally{if(e){const r=vp(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function vp(t){return"content"in t&&function fS(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function yp(t){const n=Sr();return n?Ly(n.sanitize(fi.HTML,t)||""):rs(t,"HTML")?Ly(Ei(t)):Yy(Uh(),bn(t))}function To(t){const n=Sr();return n?n.sanitize(fi.URL,t)||"":rs(t,"URL")?Ei(t):dd(bn(t))}function Sr(){const t=ut();return t&&t[12]}const Sl="__ngContext__";function Mr(t,n){t[Sl]=n}function Cp(t){const n=function pd(t){return t[Sl]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function fd(t){return t.ngOriginalError}function Tl(t,...n){t.error(...n)}class gd{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),r=function TS(t){return t&&t.ngErrorLogger||Tl}(n);r(this._console,"ERROR",n),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&fd(n);for(;e&&fd(e);)e=fd(e);return e||null}}const PS=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ii))();function Bc(t){return t.ownerDocument.defaultView}function os(t){return t instanceof Function?t():t}var Eo=(()=>((Eo=Eo||{})[Eo.Important=1]="Important",Eo[Eo.DashCase=2]="DashCase",Eo))();function bp(t,n){return undefined(t,n)}function _d(t){const n=t[3];return wr(n)?n[3]:n}function vd(t){return rC(t[13])}function Ia(t){return rC(t[4])}function rC(t){for(;null!==t&&!wr(t);)t=t[4];return t}function Al(t,n,e,r,a){if(null!=r){let d,h=!1;wr(r)?d=r:hi(r)&&(h=!0,r=r[0]);const m=er(r);0===t&&null!==e?null==a?lC(n,e,m):Rl(n,e,m,a||null,!0):1===t&&null!==e?Rl(n,e,m,a||null,!0):2===t?function im(t,n,e){const r=Nn(t,n);r&&function bd(t,n,e,r){Rn(t)?t.removeChild(n,e,r):n.removeChild(e)}(t,r,n,e)}(n,m,h):3===t&&n.destroyNode(m),null!=d&&function $c(t,n,e,r,a){const d=e[7];d!==er(e)&&Al(n,t,r,d,a);for(let m=10;m<e.length;m++){const S=e[m];kl(S[1],S,t,n,r,d)}}(n,t,d,e,a)}}function Qg(t,n,e){if(Rn(t))return t.createElement(n,e);{const r=null!==e?function ny(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?t.createElement(n):t.createElementNS(r,n)}}function xp(t,n){const e=t[9],r=e.indexOf(n),a=n[3];1024&n[2]&&(n[2]&=-1025,fg(a,-1)),e.splice(r,1)}function Jg(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const a=r[17];null!==a&&a!==t&&xp(a,r),n>0&&(t[e-1][4]=r[4]);const d=nd(t,10+n);!function yd(t,n){kl(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const h=d[19];null!==h&&h.detachView(d[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function aC(t,n){if(!(256&n[2])){const e=n[11];Rn(e)&&e.destroyNode&&kl(t,n,e,3,null,null),function GS(t){let n=t[13];if(!n)return Cd(t[1],t);for(;n;){let e=null;if(hi(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)hi(n)&&Cd(n[1],n),n=n[3];null===n&&(n=t),hi(n)&&Cd(n[1],n),e=n&&n[4]}n=e}}(n)}}function Cd(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function HS(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const a=n[e[r]];if(!(a instanceof Tc)){const d=e[r+1];if(Array.isArray(d))for(let h=0;h<d.length;h+=2){const m=a[d[h]],S=d[h+1];try{S.call(m)}finally{}}else try{d.call(a)}finally{}}}}(t,n),function VS(t,n){const e=t.cleanup,r=n[7];let a=-1;if(null!==e)for(let d=0;d<e.length-1;d+=2)if("string"==typeof e[d]){const h=e[d+1],m="function"==typeof h?h(n):er(n[h]),S=r[a=e[d+2]],k=e[d+3];"boolean"==typeof k?m.removeEventListener(e[d],S,k):k>=0?r[a=k]():r[a=-k].unsubscribe(),d+=2}else{const h=r[a=e[d+1]];e[d].call(h)}if(null!==r){for(let d=a+1;d<r.length;d++)r[d]();n[7]=null}}(t,n),1===n[1].type&&Rn(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&wr(n[3])){e!==n[3]&&xp(e,n);const r=n[19];null!==r&&r.detachView(t)}}}function em(t,n,e){return function tm(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const a=t.data[r.directiveStart].encapsulation;if(a===kr.None||a===kr.Emulated)return null}return Bo(r,e)}(t,n.parent,e)}function Rl(t,n,e,r,a){Rn(t)?t.insertBefore(n,e,r,a):n.insertBefore(e,r,a)}function lC(t,n,e){Rn(t)?t.appendChild(n,e):n.appendChild(e)}function cC(t,n,e,r,a){null!==r?Rl(t,n,e,r,a):lC(t,n,e)}function Nn(t,n){return Rn(t)?t.parentNode(n):n.parentNode}function nm(t,n,e){return dC(t,n,e)}let dC=function uC(t,n,e){return 40&t.type?Bo(t,e):null};function wd(t,n,e,r){const a=em(t,r,n),d=n[11],m=nm(r.parent||n[6],r,n);if(null!=a)if(Array.isArray(e))for(let S=0;S<e.length;S++)cC(d,a,e[S],m,!1);else cC(d,a,e,m,!1)}function jc(t,n){if(null!==n){const e=n.type;if(3&e)return Bo(n,t);if(4&e)return Ma(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return jc(t,r);{const a=t[n.index];return wr(a)?Ma(-1,a):er(a)}}if(32&e)return bp(n,t)()||er(t[n.index]);{const r=pC(t,n);return null!==r?Array.isArray(r)?r[0]:jc(_d(t[16]),r):jc(t,n.next)}}return null}function pC(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Ma(t,n){const e=10+t+1;if(e<n.length){const r=n[e],a=r[1].firstChild;if(null!==a)return jc(r,a)}return n[7]}function rm(t,n,e,r,a,d,h){for(;null!=e;){const m=r[e.index],S=e.type;if(h&&0===n&&(m&&Mr(er(m),r),e.flags|=4),64!=(64&e.flags))if(8&S)rm(t,n,e.child,r,a,d,!1),Al(n,t,a,m,d);else if(32&S){const k=bp(e,r);let N;for(;N=k();)Al(n,t,a,N,d);Al(n,t,a,m,d)}else 16&S?fC(t,n,r,e,a,d):Al(n,t,a,m,d);e=h?e.projectionNext:e.next}}function kl(t,n,e,r,a,d){rm(e,r,t.firstChild,n,a,d,!1)}function fC(t,n,e,r,a,d){const h=e[16],S=h[6].projection[r.projection];if(Array.isArray(S))for(let k=0;k<S.length;k++)Al(n,t,a,S[k],d);else rm(t,n,S,h[3],a,d,!0)}function xd(t,n,e){Rn(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function om(t,n,e){Rn(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function gC(t,n,e){let r=t.length;for(;;){const a=t.indexOf(n,e);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){const d=n.length;if(a+d===r||t.charCodeAt(a+d)<=32)return a}e=a+1}}const sm="ng-template";function WS(t,n,e){let r=0;for(;r<t.length;){let a=t[r++];if(e&&"class"===a){if(a=t[r],-1!==gC(a.toLowerCase(),n,0))return!0}else if(1===a){for(;r<t.length&&"string"==typeof(a=t[r++]);)if(a.toLowerCase()===n)return!0;return!1}}return!1}function Sd(t){return 4===t.type&&t.value!==sm}function US(t,n,e){return n===(4!==t.type||e?t.value:sm)}function zS(t,n,e){let r=4;const a=t.attrs||[],d=function _C(t){for(let n=0;n<t.length;n++)if(py(t[n]))return n;return t.length}(a);let h=!1;for(let m=0;m<n.length;m++){const S=n[m];if("number"!=typeof S){if(!h)if(4&r){if(r=2|1&r,""!==S&&!US(t,S,e)||""===S&&1===n.length){if(ss(r))return!1;h=!0}}else{const k=8&r?S:n[++m];if(8&r&&null!==t.attrs){if(!WS(t.attrs,k,e)){if(ss(r))return!1;h=!0}continue}const H=YS(8&r?"class":S,a,Sd(t),e);if(-1===H){if(ss(r))return!1;h=!0;continue}if(""!==k){let q;q=H>d?"":a[H+1].toLowerCase();const ne=8&r?q:null;if(ne&&-1!==gC(ne,k,0)||2&r&&k!==q){if(ss(r))return!1;h=!0}}}}else{if(!h&&!ss(r)&&!ss(S))return!1;if(h&&ss(S))continue;h=!1,r=S|1&r}}return ss(r)||h}function ss(t){return 0==(1&t)}function YS(t,n,e,r){if(null===n)return-1;let a=0;if(r||!e){let d=!1;for(;a<n.length;){const h=n[a];if(h===t)return a;if(3===h||6===h)d=!0;else{if(1===h||2===h){let m=n[++a];for(;"string"==typeof m;)m=n[++a];continue}if(4===h)break;if(0===h){a+=4;continue}}a+=d?1:2}return-1}return function KS(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function mC(t,n,e=!1){for(let r=0;r<n.length;r++)if(zS(t,n[r],e))return!0;return!1}function am(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let a=0;a<t.length;a++)if(t[a]!==r[a])continue e;return!0}}return!1}function vC(t,n){return t?":not("+n.trim()+")":n}function Sp(t){let n=t[0],e=1,r=2,a="",d=!1;for(;e<t.length;){let h=t[e];if("string"==typeof h)if(2&r){const m=t[++e];a+="["+h+(m.length>0?'="'+m+'"':"")+"]"}else 8&r?a+="."+h:4&r&&(a+=" "+h);else""!==a&&!ss(h)&&(n+=vC(d,a),a=""),r=h,d=d||!ss(r);e++}return""!==a&&(n+=vC(d,a)),n}const xn={};function W(t){lm(Kn(),ut(),Pr()+t,Kh())}function lm(t,n,e,r){if(!r)if(3==(3&n[2])){const d=t.preOrderCheckHooks;null!==d&&bi(n,d,e)}else{const d=t.preOrderHooks;null!==d&&Qh(n,d,0,e)}ka(e)}function Uc(t,n){return t<<17|n<<2}function so(t){return t>>17&32767}function Tp(t){return 2|t}function ia(t){return(131068&t)>>2}function Yc(t,n){return-131069&t|n<<2}function um(t){return 1|t}function EC(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const a=e[r],d=e[r+1];if(-1!==d){const h=t.data[d];hl(a),h.contentQueries(2,n[d],d)}}}function oa(t,n,e,r,a,d,h,m,S,k){const N=n.blueprint.slice();return N[0]=a,N[2]=140|r,Pi(N),N[3]=N[15]=t,N[8]=e,N[10]=h||t&&t[10],N[11]=m||t&&t[11],N[12]=S||t&&t[12]||null,N[9]=k||t&&t[9]||null,N[6]=d,N[16]=2==n.type?t[16]:N,N}function Ml(t,n,e,r,a){let d=t.data[n];if(null===d)d=function vm(t,n,e,r,a){const d=gg(),h=st(),S=t.data[n]=function Ip(t,n,e,r,a,d){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?d:d&&d.parent,e,n,r,a);return null===t.firstChild&&(t.firstChild=S),null!==d&&(h?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S)),S}(t,n,e,r,a),function lt(){return ht.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=e,d.value=r,d.attrs=a;const h=function un(){const t=ht.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===h?-1:h.injectorIndex}return As(d,!0),d}function Nl(t,n,e,r){if(0===e)return-1;const a=n.length;for(let d=0;d<e;d++)n.push(r),t.blueprint.push(r),t.data.push(null);return a}function qc(t,n,e){xc(n);try{const r=t.viewQuery;null!==r&&cs(1,r,e);const a=t.template;null!==a&&RC(t,n,a,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&EC(t,n),t.staticViewQueries&&cs(2,t.viewQuery,e);const d=t.components;null!==d&&function sT(t,n){for(let e=0;e<n.length;e++)vT(t,n[e])}(n,d)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,ed()}}function Xc(t,n,e,r){const a=n[2];if(256==(256&a))return;xc(n);const d=Kh();try{Pi(n),function qh(t){return ht.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&RC(t,n,e,2,r);const h=3==(3&a);if(!d)if(h){const k=t.preOrderCheckHooks;null!==k&&bi(n,k,null)}else{const k=t.preOrderHooks;null!==k&&Qh(n,k,0,null),Ui(n,0)}if(function mT(t){for(let n=vd(t);null!==n;n=Ia(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const a=e[r],d=a[3];0==(1024&a[2])&&fg(d,1),a[2]|=1024}}}(n),function MC(t){for(let n=vd(t);null!==n;n=Ia(n))for(let e=10;e<n.length;e++){const r=n[e],a=r[1];hg(r)&&Xc(a,r,a.template,r[8])}}(n),null!==t.contentQueries&&EC(t,n),!d)if(h){const k=t.contentCheckHooks;null!==k&&bi(n,k)}else{const k=t.contentHooks;null!==k&&Qh(n,k,1),Ui(n,1)}!function _m(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const a=e[r];if(a<0)ka(~a);else{const d=a,h=e[++r],m=e[++r];mg(h,d),m(2,n[d])}}}finally{ka(-1)}}(t,n);const m=t.components;null!==m&&function DC(t,n){for(let e=0;e<n.length;e++)_T(t,n[e])}(n,m);const S=t.viewQuery;if(null!==S&&cs(2,S,r),!d)if(h){const k=t.viewCheckHooks;null!==k&&bi(n,k)}else{const k=t.viewHooks;null!==k&&Qh(n,k,2),Ui(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),d||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,fg(n[3],-1))}finally{ed()}}function AC(t,n,e,r){const a=n[10],d=!Kh(),h=oy(n);try{d&&!h&&a.begin&&a.begin(),h&&qc(t,n,r),Xc(t,n,e,r)}finally{d&&!h&&a.end&&a.end()}}function RC(t,n,e,r,a){const d=Pr(),h=2&r;try{ka(-1),h&&n.length>20&&lm(t,n,20,Kh()),e(r,a)}finally{ka(d)}}function ym(t,n,e){if(Vh(n)){const a=n.directiveEnd;for(let d=n.directiveStart;d<a;d++){const h=t.data[d];h.contentQueries&&h.contentQueries(1,e[d],d)}}}function Cm(t,n,e){!zh()||(function Em(t,n,e,r){const a=e.directiveStart,d=e.directiveEnd;t.firstCreatePass||Ir(e,n),Mr(r,n);const h=e.initialInputs;for(let m=a;m<d;m++){const S=t.data[m],k=Lo(S);k&&fT(n,e,S);const N=Dc(n,t,m,e);Mr(N,n),null!==h&&kd(0,m-a,N,S,0,h),k&&(wo(e.index,n)[8]=N)}}(t,n,e,Bo(e,n)),128==(128&e.flags)&&function dT(t,n,e){const r=e.directiveStart,a=e.directiveEnd,h=e.index,m=function ay(){return ht.lFrame.currentDirectiveIndex}();try{ka(h);for(let S=r;S<a;S++){const k=t.data[S],N=n[S];ns(S),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Dm(k,N)}}finally{ka(-1),ns(m)}}(t,n,e))}function Dd(t,n,e=Bo){const r=n.localNames;if(null!==r){let a=n.index+1;for(let d=0;d<r.length;d+=2){const h=r[d+1],m=-1===h?e(n,t):t[h];t[a++]=m}}}function OC(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Ad(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Ad(t,n,e,r,a,d,h,m,S,k){const N=20+r,H=N+a,q=function aT(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:xn);return e}(N,H),ne="function"==typeof k?k():k;return q[1]={type:t,blueprint:q,template:e,queries:null,viewQuery:m,declTNode:n,data:q.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:S,consts:ne,incompleteFirstPass:!1}}function kC(t,n,e,r){const a=LC(n);null===e?a.push(r):(a.push(e),t.firstCreatePass&&Id(t).push(r,a.length-1))}function xm(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const a=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,a):e[r]=[n,a]}return e}function ao(t,n,e,r,a,d,h,m){const S=Bo(n,e);let N,k=n.inputs;!m&&null!=k&&(N=k[r])?(VC(t,e,N,r,a),rr(n)&&function cT(t,n){const e=wo(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(r=function Rd(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),a=null!=h?h(a,n.value||"",r):a,Rn(d)?d.setProperty(S,r,a):bg(r)||(S.setProperty?S.setProperty(r,a):S[r]=a))}function Tm(t,n,e,r){let a=!1;if(zh()){const d=function hT(t,n,e){const r=t.directiveRegistry;let a=null;if(r)for(let d=0;d<r.length;d++){const h=r[d];mC(e,h.selectors,!1)&&(a||(a=[]),ip(Ir(e,n),t,h.type),Lo(h)?(aa(t,e),a.unshift(h)):a.push(h))}return a}(t,n,e),h=null===r?null:{"":-1};if(null!==d){a=!0,Am(e,t.data.length,d.length);for(let N=0;N<d.length;N++){const H=d[N];H.providersResolver&&H.providersResolver(H)}let m=!1,S=!1,k=Nl(t,n,d.length,null);for(let N=0;N<d.length;N++){const H=d[N];e.mergedAttrs=fl(e.mergedAttrs,H.hostAttrs),Rm(t,e,n,k,H),pT(k,H,h),null!==H.contentQueries&&(e.flags|=8),(null!==H.hostBindings||null!==H.hostAttrs||0!==H.hostVars)&&(e.flags|=128);const q=H.type.prototype;!m&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),m=!0),!S&&(q.ngOnChanges||q.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),S=!0),k++}!function lT(t,n){const r=n.directiveEnd,a=t.data,d=n.attrs,h=[];let m=null,S=null;for(let k=n.directiveStart;k<r;k++){const N=a[k],H=N.inputs,q=null===d||Sd(n)?null:gT(H,d);h.push(q),m=xm(H,k,m),S=xm(N.outputs,k,S)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=h,n.inputs=m,n.outputs=S}(t,e)}h&&function IC(t,n,e){if(n){const r=t.localNames=[];for(let a=0;a<n.length;a+=2){const d=e[n[a+1]];if(null==d)throw new Lt(-301,!1);r.push(n[a],d)}}}(e,r,h)}return e.mergedAttrs=fl(e.mergedAttrs,e.attrs),a}function Od(t,n,e,r,a,d){const h=d.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const S=~n.index;(function uT(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(m)!=S&&m.push(S),m.push(r,a,h)}}function Dm(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function aa(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function pT(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Lo(n)&&(e[""]=t)}}function Am(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Rm(t,n,e,r,a){t.data[r]=a;const d=a.factory||(a.factory=qs(a.type)),h=new Tc(d,Lo(a),null);t.blueprint[r]=h,e[r]=h,Od(t,n,0,r,Nl(t,e,a.hostVars,xn),a)}function fT(t,n,e){const r=Bo(n,t),a=OC(e),d=t[10],h=la(t,oa(t,a,null,e.onPush?64:16,r,n,d,d.createRenderer(r,e),null,null));t[n.index]=h}function ks(t,n,e,r,a,d){const h=Bo(t,n);!function Om(t,n,e,r,a,d,h){if(null==d)Rn(t)?t.removeAttribute(n,a,e):n.removeAttribute(a);else{const m=null==h?bn(d):h(d,r||"",a);Rn(t)?t.setAttribute(n,a,m,e):e?n.setAttributeNS(e,a,m):n.setAttribute(a,m)}}(n[11],h,d,t.value,e,r,a)}function kd(t,n,e,r,a,d){const h=d[n];if(null!==h){const m=r.setInput;for(let S=0;S<h.length;){const k=h[S++],N=h[S++],H=h[S++];null!==m?r.setInput(e,H,k,N):e[N]=H}}}function gT(t,n){let e=null,r=0;for(;r<n.length;){const a=n[r];if(0!==a)if(5!==a){if("number"==typeof a)break;t.hasOwnProperty(a)&&(null===e&&(e=[]),e.push(a,t[a],n[r+1])),r+=2}else r+=2;else r+=4}return e}function Pm(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function _T(t,n){const e=wo(n,t);if(hg(e)){const r=e[1];80&e[2]?Xc(r,e,r.template,e[8]):e[5]>0&&Np(e)}}function Np(t){for(let r=vd(t);null!==r;r=Ia(r))for(let a=10;a<r.length;a++){const d=r[a];if(1024&d[2]){const h=d[1];Xc(h,d,h.template,d[8])}else d[5]>0&&Np(d)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const a=wo(e[r],t);hg(a)&&a[5]>0&&Np(a)}}function vT(t,n){const e=wo(n,t),r=e[1];(function NC(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),qc(r,e,e[8])}function la(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Im(t){for(;t;){t[2]|=64;const n=_d(t);if(Uv(t)&&!n)return t;t=n}return null}function Nm(t,n,e){const r=n[10];r.begin&&r.begin();try{Xc(t,n,t.template,e)}catch(a){throw BC(n,a),a}finally{r.end&&r.end()}}function Fl(t){!function Mm(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=Cp(e),a=r[1];AC(a,r,a.template,e)}}(t[8])}function cs(t,n,e){hl(0),n(t,e)}const FC=(()=>Promise.resolve(null))();function LC(t){return t[7]||(t[7]=[])}function Id(t){return t.cleanup||(t.cleanup=[])}function BC(t,n){const e=t[9],r=e?e.get(gd,null):null;r&&r.handleError(n)}function VC(t,n,e,r,a){for(let d=0;d<e.length;){const h=e[d++],m=e[d++],S=n[h],k=t.data[h];null!==k.setInput?k.setInput(S,a,r,m):S[m]=a}}function Ps(t,n,e){const r=qu(n,t);!function Vc(t,n,e){Rn(t)?t.setValue(n,e):n.textContent=e}(t[11],r,e)}function Fp(t,n,e){let r=e?t.styles:null,a=e?t.classes:null,d=0;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?d=m:1==d?a=Ah(a,m):2==d&&(r=Ah(r,m+": "+n[++h]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=a:t.classesWithoutHost=a}const Ll=new Kt("INJECTOR",-1);class jC{get(n,e=rd){if(e===rd){const r=new Error(`NullInjectorError: No provider for ${ni(n)}!`);throw r.name="NullInjectorError",r}return e}}const Lp=new Kt("Set Injector scope."),Nd={},Qc={};let Fm;function Lm(){return void 0===Fm&&(Fm=new jC),Fm}function Gp(t,n=null,e=null,r){const a=Gm(t,n,e,r);return a._resolveInjectorDefTypes(),a}function Gm(t,n=null,e=null,r){return new CT(t,e,n||Lm(),r)}class CT{constructor(n,e,r,a=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];e&&xo(e,m=>this.processProvider(m,n,e)),xo([n],m=>this.processInjectorType(m,[],d)),this.records.set(Ll,Zc(void 0,this));const h=this.records.get(Lp);this.scope=null!=h?h.value:null,this.source=a||("object"==typeof n?null:ni(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=rd,r=cn.Default){this.assertNotDestroyed();const a=Oy(this),d=Ss(void 0);try{if(!(r&cn.SkipSelf)){let m=this.records.get(n);if(void 0===m){const S=function UC(t){return"function"==typeof t||"object"==typeof t&&t instanceof Kt}(n)&&Nu(n);m=S&&this.injectableDefInScope(S)?Zc(Gl(n),Nd):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(r&cn.Self?Lm():this.parent).get(n,e=r&cn.Optional&&e===rd?null:e)}catch(h){if("NullInjectorError"===h.name){if((h[cp]=h[cp]||[]).unshift(ni(n)),a)throw h;return function Py(t,n,e,r){const a=t[cp];throw n[Ry]&&a.unshift(n[Ry]),t.message=function Xx(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let a=ni(n);if(Array.isArray(n))a=n.map(ni).join(" -> ");else if("object"==typeof n){let d=[];for(let h in n)if(n.hasOwnProperty(h)){let m=n[h];d.push(h+":"+("string"==typeof m?JSON.stringify(m):ni(m)))}a=`{${d.join(", ")}}`}return`${e}${r?"("+r+")":""}[${a}]: ${t.replace(zx,"\n  ")}`}("\n"+t.message,a,e,r),t.ngTokenPath=a,t[cp]=null,t}(h,n,"R3InjectorError",this.source)}throw h}finally{Ss(d),Oy(a)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,a)=>n.push(ni(a))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Lt(205,!1)}processInjectorType(n,e,r){if(!(n=sn(n)))return!1;let a=Hv(n);const d=null==a&&n.ngModule||void 0,h=void 0===d?n:d,m=-1!==r.indexOf(h);if(void 0!==d&&(a=Hv(d)),null==a)return!1;if(null!=a.imports&&!m){let N;r.push(h);try{xo(a.imports,H=>{this.processInjectorType(H,e,r)&&(void 0===N&&(N=[]),N.push(H))})}finally{}if(void 0!==N)for(let H=0;H<N.length;H++){const{ngModule:q,providers:ne}=N[H];xo(ne,fe=>this.processProvider(fe,q,ne||di))}}this.injectorDefTypes.add(h);const S=qs(h)||(()=>new h);this.records.set(h,Zc(S,Nd));const k=a.providers;if(null!=k&&!m){const N=n;xo(k,H=>this.processProvider(H,N,k))}return void 0!==d&&void 0!==n.providers}processProvider(n,e,r){let a=Bl(n=sn(n))?n:sn(n&&n.provide);const d=function bT(t,n,e){return Vm(t)?Zc(void 0,t.useValue):Zc(Bm(t),Nd)}(n);if(Bl(n)||!0!==n.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Zc(void 0,Nd,!0),h.factory=()=>up(h.multi),this.records.set(a,h)),a=n,h.multi.push(n)}this.records.set(a,d)}hydrate(n,e){return e.value===Nd&&(e.value=Qc,e.value=e.factory()),"object"==typeof e.value&&e.value&&function TT(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=sn(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Gl(t){const n=Nu(t),e=null!==n?n.factory:qs(t);if(null!==e)return e;if(t instanceof Kt)throw new Lt(204,!1);if(t instanceof Function)return function $C(t){const n=t.length;if(n>0)throw id(n,"?"),new Lt(204,!1);const e=function mc(t){const n=t&&(t[kh]||t[Ph]);if(n){const e=function Vv(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Lt(204,!1)}function Bm(t,n,e){let r;if(Bl(t)){const a=sn(t);return qs(a)||Gl(a)}if(Vm(t))r=()=>sn(t.useValue);else if(function xT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...up(t.deps||[]));else if(function wT(t){return!(!t||!t.useExisting)}(t))r=()=>Qe(sn(t.useExisting));else{const a=sn(t&&(t.useClass||t.provide));if(!function WC(t){return!!t.deps}(t))return qs(a)||Gl(a);r=()=>new a(...up(t.deps))}return r}function Zc(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Vm(t){return null!==t&&"object"==typeof t&&Kx in t}function Bl(t){return"function"==typeof t}let gi=(()=>{class t{static create(e,r){var a;if(Array.isArray(e))return Gp({name:""},r,e,"");{const d=null!==(a=e.name)&&void 0!==a?a:"";return Gp({name:d},e.parent,e.providers,d)}}}return t.THROW_IF_NOT_FOUND=rd,t.NULL=new jC,t.\u0275prov=St({token:t,providedIn:"any",factory:()=>Qe(Ll)}),t.__NG_ELEMENT_ID__=-1,t})();function kT(t,n){tr(Cp(t)[1],sr())}function Bn(t){let n=function t0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let a;if(Lo(t))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Lt(903,"");a=n.\u0275dir}if(a){if(e){r.push(a);const h=t;h.inputs=Um(t.inputs),h.declaredInputs=Um(t.declaredInputs),h.outputs=Um(t.outputs);const m=a.hostBindings;m&&zm(t,m);const S=a.viewQuery,k=a.contentQueries;if(S&&IT(t,S),k&&n0(t,k),tg(t.inputs,a.inputs),tg(t.declaredInputs,a.declaredInputs),tg(t.outputs,a.outputs),Lo(a)&&a.data.animation){const N=t.data;N.animation=(N.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let h=0;h<d.length;h++){const m=d[h];m&&m.ngInherit&&m(t),m===Bn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function Wm(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const a=t[r];a.hostVars=n+=a.hostVars,a.hostAttrs=fl(a.hostAttrs,e=fl(e,a.hostAttrs))}}(r)}function Um(t){return t===ol?{}:t===di?[]:t}function IT(t,n){const e=t.viewQuery;t.viewQuery=e?(r,a)=>{n(r,a),e(r,a)}:n}function n0(t,n){const e=t.contentQueries;t.contentQueries=e?(r,a,d)=>{n(r,a,d),e(r,a,d)}:n}function zm(t,n){const e=t.hostBindings;t.hostBindings=e?(r,a)=>{n(r,a),e(r,a)}:n}let Hp=null;function Vl(){if(!Hp){const t=ii.Symbol;if(t&&t.iterator)Hp=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Hp=r)}}}return Hp}function eu(t){return!!function qm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vl()in t)}function Is(t,n,e){return t[n]=e}function Er(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Fa(t,n,e,r){const a=Er(t,n,e);return Er(t,n+1,r)||a}function Ut(t,n,e,r){const a=ut();return Er(a,dl(),n)&&(Kn(),ks(Ii(),a,t,n,e,r)),Ut}function ds(t,n,e,r){return Er(t,dl(),e)?n+bn(e)+r:xn}function zo(t,n,e,r,a,d){const m=Fa(t,function Rs(){return ht.lFrame.bindingIndex}(),e,a);return Xs(2),m?n+bn(e)+r+bn(a)+d:xn}function he(t,n,e,r,a,d,h,m){const S=ut(),k=Kn(),N=t+20,H=k.firstCreatePass?function Zm(t,n,e,r,a,d,h,m,S){const k=n.consts,N=Ml(n,t,4,h||null,Oa(k,m));Tm(n,e,N,Oa(k,S)),tr(n,N);const H=N.tViews=Ad(2,N,r,a,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k);return null!==n.queries&&(n.queries.template(n,N),H.queries=n.queries.embeddedTView(N)),N}(N,k,S,n,e,r,a,d,h):k.data[N];As(H,!1);const q=S[11].createComment("");wd(k,S,q,H),Mr(q,S),la(S,S[N]=Pm(q,S,q,H)),zu(H)&&Cm(k,S,H),null!=h&&Dd(S,H,m)}function wi(t){return function bc(t,n){return t[n]}(function Ex(){return ht.lFrame.contextLView}(),20+t)}function Se(t,n=cn.Default){const e=ut();return null===e?Qe(t,n):gl(sr(),e,sn(t),n)}function jd(){throw new Error("invalid")}function te(t,n,e){const r=ut();return Er(r,dl(),n)&&ao(Kn(),Ii(),r,t,n,r[11],e,!1),te}function n_(t,n,e,r,a){const h=a?"class":"style";VC(t,e,n.inputs[h],h,r)}function $(t,n,e,r){const a=ut(),d=Kn(),h=20+t,m=a[11],S=a[h]=Qg(m,n,function kx(){return ht.lFrame.currentNamespace}()),k=d.firstCreatePass?function Qp(t,n,e,r,a,d,h){const m=n.consts,k=Ml(n,t,2,a,Oa(m,d));return Tm(n,e,k,Oa(m,h)),null!==k.attrs&&Fp(k,k.attrs,!1),null!==k.mergedAttrs&&Fp(k,k.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,k),k}(h,d,a,0,n,e,r):d.data[h];As(k,!0);const N=k.mergedAttrs;null!==N&&Jh(m,S,N);const H=k.classes;null!==H&&om(m,S,H);const q=k.styles;return null!==q&&xd(m,S,q),64!=(64&k.flags)&&wd(d,a,S,k),0===function ro(){return ht.lFrame.elementDepthCount}()&&Mr(S,a),function Sx(){ht.lFrame.elementDepthCount++}(),zu(k)&&(Cm(d,a,k),ym(d,k,a)),null!==r&&Dd(a,k),$}function z(){let t=sr();st()?Yh():(t=t.parent,As(t,!1));const n=t;!function Tx(){ht.lFrame.elementDepthCount--}();const e=Kn();return e.firstCreatePass&&(tr(e,t),Vh(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Px(t){return 0!=(16&t.flags)}(n)&&n_(e,n,ut(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Cg(t){return 0!=(32&t.flags)}(n)&&n_(e,n,ut(),n.stylesWithoutHost,!1),z}function Ee(t,n,e,r){return $(t,n,e,r),z(),Ee}function Di(t,n,e){const r=ut(),a=Kn(),d=t+20,h=a.firstCreatePass?function XT(t,n,e,r,a){const d=n.consts,h=Oa(d,r),m=Ml(n,t,8,"ng-container",h);return null!==h&&Fp(m,h,!0),Tm(n,e,m,Oa(d,a)),null!==n.queries&&n.queries.elementStart(n,m),m}(d,a,r,n,e):a.data[d];As(h,!0);const m=r[d]=r[11].createComment("");return wd(a,r,m,h),Mr(m,r),zu(h)&&(Cm(a,r,h),ym(a,h,r)),null!=e&&Dd(r,h),Di}function lr(){let t=sr();const n=Kn();return st()?Yh():(t=t.parent,As(t,!1)),n.firstCreatePass&&(tr(n,t),Vh(t)&&n.queries.elementEnd(t)),lr}function Wt(){return ut()}function $d(t){return!!t&&"function"==typeof t.then}const Jp=function Zp(t){return!!t&&"function"==typeof t.subscribe};function tt(t,n,e,r){const a=ut(),d=Kn(),h=sr();return function _0(t,n,e,r,a,d,h,m){const S=zu(r),N=t.firstCreatePass&&Id(t),H=n[8],q=LC(n);let ne=!0;if(3&r.type||m){const me=Bo(r,n),De=m?m(me):me,Te=q.length,Fe=m?Ve=>m(er(Ve[r.index])):r.index;if(Rn(e)){let Ve=null;if(!m&&S&&(Ve=function QT(t,n,e,r){const a=t.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const h=a[d];if(h===e&&a[d+1]===r){const m=n[7],S=a[d+2];return m.length>S?m[S]:null}"string"==typeof h&&(d+=2)}return null}(t,n,a,r.index)),null!==Ve)(Ve.__ngLastListenerFn__||Ve).__ngNextListenerFn__=d,Ve.__ngLastListenerFn__=d,ne=!1;else{d=Yo(r,n,H,d,!1);const qe=e.listen(De,a,d);q.push(d,qe),N&&N.push(a,Fe,Te,Te+1)}}else d=Yo(r,n,H,d,!0),De.addEventListener(a,d,h),q.push(d),N&&N.push(a,Fe,Te,h)}else d=Yo(r,n,H,d,!1);const fe=r.outputs;let ye;if(ne&&null!==fe&&(ye=fe[a])){const me=ye.length;if(me)for(let De=0;De<me;De+=2){const Je=n[ye[De]][ye[De+1]].subscribe(d),Dt=q.length;q.push(d,Je),N&&N.push(a,r.index,Dt,-(Dt+1))}}}(d,a,a[11],h,t,n,!!e,r),tt}function v0(t,n,e,r){try{return!1!==e(r)}catch(a){return BC(t,a),!1}}function Yo(t,n,e,r,a){return function d(h){if(h===Function)return r;const m=2&t.flags?wo(t.index,n):n;0==(32&n[2])&&Im(m);let S=v0(n,0,r,h),k=d.__ngNextListenerFn__;for(;k;)S=v0(n,0,k,h)&&S,k=k.__ngNextListenerFn__;return a&&!1===S&&(h.preventDefault(),h.returnValue=!1),S}}function ve(t=1){return function Ax(t){return(ht.lFrame.contextLView=function Rx(t,n){for(;t>0;)n=n[15],t--;return n}(t,ht.lFrame.contextLView))[8]}(t)}function ZT(t,n){let e=null;const r=function Wc(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let a=0;a<n.length;a++){const d=n[a];if("*"!==d){if(null===r?mC(t,d,!0):am(r,d))return a}else e=a}return e}function lu(t){const n=ut()[16][6];if(!n.projection){const r=n.projection=id(t?t.length:1,null),a=r.slice();let d=n.child;for(;null!==d;){const h=t?ZT(d,t):0;null!==h&&(a[h]?a[h].projectionNext=d:r[h]=d,a[h]=d),d=d.next}}}function cu(t,n=0,e){const r=ut(),a=Kn(),d=Ml(a,20+t,16,null,e||null);null===d.projection&&(d.projection=n),Yh(),64!=(64&d.flags)&&function jS(t,n,e){fC(n[11],0,n,e,em(t,e,n),nm(e.parent||n[6],e,n))}(a,r,d)}function Qn(t,n,e){return Kr(t,"",n,"",e),Qn}function Kr(t,n,e,r,a){const d=ut(),h=ds(d,n,e,r);return h!==xn&&ao(Kn(),Ii(),d,t,h,d[11],a,!1),Kr}function w0(t,n,e,r,a){const d=t[e+1],h=null===n;let m=r?so(d):ia(d),S=!1;for(;0!==m&&(!1===S||h);){const N=t[m+1];tE(t[m],n)&&(S=!0,t[m+1]=r?um(N):Tp(N)),m=r?so(N):ia(N)}S&&(t[e+1]=r?Tp(d):um(d))}function tE(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Lc(t,n)>=0}const cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function u(t){return t.substring(cr.key,cr.keyEnd)}function o(t){return t.substring(cr.value,cr.valueEnd)}function s(t,n){const e=cr.textEnd;return e===n?-1:(n=cr.keyEnd=function M(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,cr.key=n,e),v(t,n,e))}function c(t,n){const e=cr.textEnd;let r=cr.key=v(t,n,e);return e===r?-1:(r=cr.keyEnd=function L(t,n,e){let r;for(;n<e&&(45===(r=t.charCodeAt(n))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)n++;return n}(t,r,e),r=Y(t,r,e),r=cr.value=v(t,r,e),r=cr.valueEnd=function re(t,n,e){let r=-1,a=-1,d=-1,h=n,m=h;for(;h<e;){const S=t.charCodeAt(h++);if(59===S)return m;34===S||39===S?m=h=de(t,S,h,e):n===h-4&&85===d&&82===a&&76===r&&40===S?m=h=de(t,41,h,e):S>32&&(m=h),d=a,a=r,r=-33&S}return m}(t,r,e),Y(t,r,e))}function p(t){cr.key=0,cr.keyEnd=0,cr.value=0,cr.valueEnd=0,cr.textEnd=t.length}function v(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function Y(t,n,e,r){return(n=v(t,n,e))<e&&n++,n}function de(t,n,e,r){let a=-1,d=e;for(;d<r;){const h=t.charCodeAt(d++);if(h==n&&92!==a)return d;a=92==h&&92===a?0:h}throw new Error}function Ce(t,n,e){return pt(t,n,e,!1),Ce}function Re(t,n){return pt(t,n,null,!0),Re}function Ge(t){Bt(lo,Ze,t,!1)}function Ze(t,n){for(let e=function l(t){return p(t),c(t,v(t,0,cr.textEnd))}(n);e>=0;e=c(n,e))lo(t,u(n),o(n))}function He(t){Bt(So,Ke,t,!0)}function Ke(t,n){for(let e=function i(t){return p(t),s(t,v(t,0,cr.textEnd))}(n);e>=0;e=s(n,e))So(t,u(n),!0)}function pt(t,n,e,r){const a=ut(),d=Kn(),h=Xs(2);d.firstUpdatePass&&Tn(d,t,h,r),n!==xn&&Er(a,h,n)&&Ga(d,d.data[Pr()],a,a[11],t,a[h+1]=function sV(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ni(Ei(t)))),t}(n,e),r,h)}function Bt(t,n,e,r){const a=Kn(),d=Xs(2);a.firstUpdatePass&&Tn(a,null,d,r);const h=ut();if(e!==xn&&Er(h,d,e)){const m=a.data[Pr()];if(EO(m,r)&&!Sn(a,d)){let S=r?m.classesWithoutHost:m.stylesWithoutHost;null!==S&&(e=Ah(S,e||"")),n_(a,m,h,e,r)}else!function uu(t,n,e,r,a,d,h,m){a===xn&&(a=di);let S=0,k=0,N=0<a.length?a[0]:null,H=0<d.length?d[0]:null;for(;null!==N||null!==H;){const q=S<a.length?a[S+1]:void 0,ne=k<d.length?d[k+1]:void 0;let ye,fe=null;N===H?(S+=2,k+=2,q!==ne&&(fe=H,ye=ne)):null===H||null!==N&&N<H?(S+=2,fe=N):(k+=2,fe=H,ye=ne),null!==fe&&Ga(t,n,e,r,fe,ye,h,m),N=S<a.length?a[S]:null,H=k<d.length?d[k]:null}}(a,m,h,h[11],h[d+1],h[d+1]=function ps(t,n,e){if(null==e||""===e)return di;const r=[],a=Ei(e);if(Array.isArray(a))for(let d=0;d<a.length;d++)t(r,a[d],!0);else if("object"==typeof a)for(const d in a)a.hasOwnProperty(d)&&t(r,d,a[d]);else"string"==typeof a&&n(r,a);return r}(t,n,e),r,d)}}function Sn(t,n){return n>=t.expandoStartIndex}function Tn(t,n,e,r){const a=t.data;if(null===a[e+1]){const d=a[Pr()],h=Sn(t,e);EO(d,r)&&null===n&&!h&&(n=!1),n=function zt(t,n,e,r){const a=_g(t);let d=r?n.residualClasses:n.residualStyles;if(null===a)0===(r?n.classBindings:n.styleBindings)&&(e=qr(e=Ai(null,t,n,e,r),n.attrs,r),d=null);else{const h=n.directiveStylingLast;if(-1===h||t[h]!==a)if(e=Ai(a,t,n,e,r),null===d){let S=function kn(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==ia(r))return t[so(r)]}(t,n,r);void 0!==S&&Array.isArray(S)&&(S=Ai(null,t,n,S[1],r),S=qr(S,n.attrs,r),function Pn(t,n,e,r){t[so(e?n.classBindings:n.styleBindings)]=r}(t,n,r,S))}else d=function Vi(t,n,e){let r;const a=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<a;d++)r=qr(r,t[d].hostAttrs,e);return qr(r,n.attrs,e)}(t,n,r)}return void 0!==d&&(r?n.residualClasses=d:n.residualStyles=d),e}(a,d,n,r),function ef(t,n,e,r,a,d){let h=d?n.classBindings:n.styleBindings,m=so(h),S=ia(h);t[r]=e;let N,k=!1;if(Array.isArray(e)){const H=e;N=H[1],(null===N||Lc(H,N)>0)&&(k=!0)}else N=e;if(a)if(0!==S){const q=so(t[m+1]);t[r+1]=Uc(q,m),0!==q&&(t[q+1]=Yc(t[q+1],r)),t[m+1]=function zc(t,n){return 131071&t|n<<17}(t[m+1],r)}else t[r+1]=Uc(m,0),0!==m&&(t[m+1]=Yc(t[m+1],r)),m=r;else t[r+1]=Uc(S,0),0===m?m=r:t[S+1]=Yc(t[S+1],r),S=r;k&&(t[r+1]=Tp(t[r+1])),w0(t,N,r,!0),w0(t,N,r,!1),function eE(t,n,e,r,a){const d=a?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Lc(d,n)>=0&&(e[r+1]=um(e[r+1]))}(n,N,t,r,d),h=Uc(m,S),d?n.classBindings=h:n.styleBindings=h}(a,d,n,e,h,r)}}function Ai(t,n,e,r,a){let d=null;const h=e.directiveEnd;let m=e.directiveStylingLast;for(-1===m?m=e.directiveStart:m++;m<h&&(d=n[m],r=qr(r,d.hostAttrs,a),d!==t);)m++;return null!==t&&(e.directiveStylingLast=m),r}function qr(t,n,e){const r=e?1:2;let a=-1;if(null!==n)for(let d=0;d<n.length;d++){const h=n[d];"number"==typeof h?a=h:a===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),So(t,h,!!e||n[++d]))}return void 0===t?null:t}function lo(t,n,e){So(t,n,Ei(e))}function Ga(t,n,e,r,a,d,h,m){if(!(3&n.type))return;const S=t.data,k=S[m+1];tf(function cm(t){return 1==(1&t)}(k)?s_(S,n,e,a,ia(k),h):void 0)||(tf(d)||function CC(t){return 2==(2&t)}(k)&&(d=s_(S,null,e,a,m,h)),function $S(t,n,e,r,a){const d=Rn(t);if(n)a?d?t.addClass(e,r):e.classList.add(r):d?t.removeClass(e,r):e.classList.remove(r);else{let h=-1===r.indexOf("-")?void 0:Eo.DashCase;if(null==a)d?t.removeStyle(e,r,h):e.style.removeProperty(r);else{const m="string"==typeof a&&a.endsWith("!important");m&&(a=a.slice(0,-10),h|=Eo.Important),d?t.setStyle(e,r,a,h):e.style.setProperty(r,a,m?"important":"")}}}(r,h,qu(Pr(),e),a,d))}function s_(t,n,e,r,a,d){const h=null===n;let m;for(;a>0;){const S=t[a],k=Array.isArray(S),N=k?S[1]:S,H=null===N;let q=e[a+1];q===xn&&(q=H?di:void 0);let ne=H?kg(q,r):N===r?q:void 0;if(k&&!tf(ne)&&(ne=kg(S,r)),tf(ne)&&(m=ne,h))return m;const fe=t[a+1];a=h?so(fe):ia(fe)}if(null!==n){let S=d?n.residualClasses:n.residualStyles;null!=S&&(m=kg(S,r))}return m}function tf(t){return void 0!==t}function EO(t,n){return 0!=(t.flags&(n?16:32))}function pe(t,n=""){const e=ut(),r=Kn(),a=t+20,d=r.firstCreatePass?Ml(r,a,1,n,null):r.data[a],h=e[a]=function wp(t,n){return Rn(t)?t.createText(n):t.createTextNode(n)}(e[11],n);wd(r,e,h,d),As(d,!1)}function Fi(t){return wt("",t,""),Fi}function wt(t,n,e){const r=ut(),a=ds(r,t,n,e);return a!==xn&&Ps(r,Pr(),a),wt}function ur(t,n,e,r,a){const d=ut(),h=zo(d,t,n,e,r,a);return h!==xn&&Ps(d,Pr(),h),ur}function Nt(t,n,e){Bt(So,Ke,ds(ut(),t,n,e),!0)}function $l(t,n,e){const r=ut();return Er(r,dl(),n)&&ao(Kn(),Ii(),r,t,n,r[11],e,!0),$l}function nE(t,n,e){const r=ut();if(Er(r,dl(),n)){const d=Kn(),h=Ii();ao(d,h,r,t,n,function GC(t,n,e){return(null===t||Lo(t))&&(e=function ry(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[n.index])),e[11]}(_g(d.data),h,r),e,!0)}return nE}const Ud=void 0;var TV=["en",[["a","p"],["AM","PM"],Ud],[["AM","PM"],Ud,Ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ud,"{1} 'at' {0}",Ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SV(t){const e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let nf={};function Do(t){const n=function EV(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=WO(n);if(e)return e;const r=n.split("-")[0];if(e=WO(r),e)return e;if("en"===r)return TV;throw new Error(`Missing locale data for the locale "${t}".`)}function WO(t){return t in nf||(nf[t]=ii.ng&&ii.ng.common&&ii.ng.common.locales&&ii.ng.common.locales[t]),nf[t]}var Vt=(()=>((Vt=Vt||{})[Vt.LocaleId=0]="LocaleId",Vt[Vt.DayPeriodsFormat=1]="DayPeriodsFormat",Vt[Vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Vt[Vt.DaysFormat=3]="DaysFormat",Vt[Vt.DaysStandalone=4]="DaysStandalone",Vt[Vt.MonthsFormat=5]="MonthsFormat",Vt[Vt.MonthsStandalone=6]="MonthsStandalone",Vt[Vt.Eras=7]="Eras",Vt[Vt.FirstDayOfWeek=8]="FirstDayOfWeek",Vt[Vt.WeekendRange=9]="WeekendRange",Vt[Vt.DateFormat=10]="DateFormat",Vt[Vt.TimeFormat=11]="TimeFormat",Vt[Vt.DateTimeFormat=12]="DateTimeFormat",Vt[Vt.NumberSymbols=13]="NumberSymbols",Vt[Vt.NumberFormats=14]="NumberFormats",Vt[Vt.CurrencyCode=15]="CurrencyCode",Vt[Vt.CurrencySymbol=16]="CurrencySymbol",Vt[Vt.CurrencyName=17]="CurrencyName",Vt[Vt.Currencies=18]="Currencies",Vt[Vt.Directionality=19]="Directionality",Vt[Vt.PluralCase=20]="PluralCase",Vt[Vt.ExtraData=21]="ExtraData",Vt))();const x0="en-US";let UO=x0;function sE(t,n,e,r,a){if(t=sn(t),Array.isArray(t))for(let d=0;d<t.length;d++)sE(t[d],n,e,r,a);else{const d=Kn(),h=ut();let m=Bl(t)?t:sn(t.provide),S=Bm(t);const k=sr(),N=1048575&k.providerIndexes,H=k.directiveStart,q=k.providerIndexes>>20;if(Bl(t)||!t.multi){const ne=new Tc(S,a,Se),fe=lE(m,n,a?N:N+q,H);-1===fe?(ip(Ir(k,h),d,m),aE(d,t,n.length),n.push(m),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),e.push(ne),h.push(ne)):(e[fe]=ne,h[fe]=ne)}else{const ne=lE(m,n,N+q,H),fe=lE(m,n,N,N+q),ye=ne>=0&&e[ne],me=fe>=0&&e[fe];if(a&&!me||!a&&!ye){ip(Ir(k,h),d,m);const De=function wH(t,n,e,r,a){const d=new Tc(t,e,Se);return d.multi=[],d.index=n,d.componentProviders=0,gk(d,a,r&&!e),d}(a?bH:CH,e.length,a,r,S);!a&&me&&(e[fe].providerFactory=De),aE(d,t,n.length,0),n.push(m),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),e.push(De),h.push(De)}else aE(d,t,ne>-1?ne:fe,gk(e[a?fe:ne],S,!a&&r));!a&&r&&me&&e[fe].componentProviders++}}}function aE(t,n,e,r){const a=Bl(n),d=function ST(t){return!!t.useClass}(n);if(a||d){const S=(d?sn(n.useClass):n).prototype.ngOnDestroy;if(S){const k=t.destroyHooks||(t.destroyHooks=[]);if(!a&&n.multi){const N=k.indexOf(e);-1===N?k.push(e,[r,S]):k[N+1].push(r,S)}else k.push(e,S)}}}function gk(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function lE(t,n,e,r){for(let a=e;a<r;a++)if(n[a]===t)return a;return-1}function CH(t,n,e,r){return cE(this.multi,[])}function bH(t,n,e,r){const a=this.multi;let d;if(this.providerFactory){const h=this.providerFactory.componentProviders,m=Dc(e,e[1],this.providerFactory.index,r);d=m.slice(0,h),cE(a,d);for(let S=h;S<m.length;S++)d.push(m[S])}else d=[],cE(a,d);return d}function cE(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function ei(t,n=[]){return e=>{e.providersResolver=(r,a)=>function yH(t,n,e){const r=Kn();if(r.firstCreatePass){const a=Lo(t);sE(e,r.data,r.blueprint,a,!0),sE(n,r.data,r.blueprint,a,!1)}}(r,a?a(t):t,n)}}class mk{}class TH{resolveComponentFactory(n){throw function SH(t){const n=Error(`No component factory found for ${ni(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Ba=(()=>{class t{}return t.NULL=new TH,t})();function EH(){return sf(sr(),ut())}function sf(t,n){return new Vn(Bo(t,n))}let Vn=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=EH,t})();function DH(t){return t instanceof Vn?t.nativeElement:t}class af{}let Ao=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function RH(){const t=ut(),e=wo(sr().index,t);return function AH(t){return t[11]}(hi(e)?e:t)}(),t})(),OH=(()=>{class t{}return t.\u0275prov=St({token:t,providedIn:"root",factory:()=>null}),t})();class d_{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const kH=new d_("13.2.7"),uE={};function A0(t,n,e,r,a=!1){for(;null!==e;){const d=n[e.index];if(null!==d&&r.push(er(d)),wr(d))for(let m=10;m<d.length;m++){const S=d[m],k=S[1].firstChild;null!==k&&A0(S[1],S,k,r)}const h=e.type;if(8&h)A0(t,n,e.child,r);else if(32&h){const m=bp(e,n);let S;for(;S=m();)r.push(S)}else if(16&h){const m=pC(n,e);if(Array.isArray(m))r.push(...m);else{const S=_d(n[16]);A0(S[1],S,m,r,!0)}}e=a?e.projectionNext:e.next}return r}class h_{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return A0(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(wr(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(Jg(n,r),nd(e,r))}this._attachedToViewContainer=!1}aC(this._lView[1],this._lView)}onDestroy(n){kC(this._lView[1],this._lView,null,n)}markForCheck(){Im(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Nm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function yT(t,n,e){Zu(!0);try{Nm(t,n,e)}finally{Zu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Lt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LS(t,n){kl(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Lt(902,"");this._appRef=n}}class PH extends h_{constructor(n){super(n),this._view=n}detectChanges(){Fl(this._view)}checkNoChanges(){!function Pd(t){Zu(!0);try{Fl(t)}finally{Zu(!1)}}(this._view)}get context(){return null}}class vk extends Ba{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=_i(n);return new dE(e,this.ngModule)}}function yk(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class dE extends mk{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function qS(t){return t.map(Sp).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return yk(this.componentDef.inputs)}get outputs(){return yk(this.componentDef.outputs)}create(n,e,r,a){const d=(a=a||this.ngModule)?function MH(t,n){return{get:(e,r,a)=>{const d=t.get(e,uE,a);return d!==uE||r===uE?d:n.get(e,r,a)}}}(n,a.injector):n,h=d.get(af,iy),m=d.get(OH,null),S=h.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",N=r?function wm(t,n,e){if(Rn(t))return t.selectRootElement(n,e===kr.ShadowDom);let r="string"==typeof n?t.querySelector(n):n;return r.textContent="",r}(S,r,this.componentDef.encapsulation):Qg(h.createRenderer(null,this.componentDef),k,function IH(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(k)),H=this.componentDef.onPush?576:528,q=function e0(t,n){return{components:[],scheduler:t||PS,clean:FC,playerHandler:n||null,flags:0}}(),ne=Ad(0,null,null,1,0,null,null,null,null,null),fe=oa(null,ne,q,H,null,null,h,S,m,d);let ye,me;xc(fe);try{const De=function JC(t,n,e,r,a,d){const h=e[1];e[20]=t;const S=Ml(h,20,2,"#host",null),k=S.mergedAttrs=n.hostAttrs;null!==k&&(Fp(S,k,!0),null!==t&&(Jh(a,t,k),null!==S.classes&&om(a,t,S.classes),null!==S.styles&&xd(a,t,S.styles)));const N=r.createRenderer(t,n),H=oa(e,OC(n),null,n.onPush?64:16,e[20],S,r,N,d||null,null);return h.firstCreatePass&&(ip(Ir(S,e),h,n.type),aa(h,S),Am(S,e.length,1)),la(e,H),e[20]=H}(N,this.componentDef,fe,h,S);if(N)if(r)Jh(S,N,["ng-version",kH.full]);else{const{attrs:Te,classes:Fe}=function Td(t){const n=[],e=[];let r=1,a=2;for(;r<t.length;){let d=t[r];if("string"==typeof d)2===a?""!==d&&n.push(d,t[++r]):8===a&&e.push(d);else{if(!ss(a))break;a=d}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);Te&&Jh(S,N,Te),Fe&&Fe.length>0&&om(S,N,Fe.join(" "))}if(me=Xu(ne,20),void 0!==e){const Te=me.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const Ve=e[Fe];Te.push(null!=Ve?Array.from(Ve):null)}}ye=function Ld(t,n,e,r,a){const d=e[1],h=function Sm(t,n,e){const r=sr();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Rm(t,r,n,Nl(t,n,1,null),e));const a=Dc(n,t,r.directiveStart,r);Mr(a,n);const d=Bo(r,n);return d&&Mr(d,n),a}(d,e,n);if(r.components.push(h),t[8]=h,a&&a.forEach(S=>S(h,n)),n.contentQueries){const S=sr();n.contentQueries(1,h,S.directiveStart)}const m=sr();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ka(m.index),Od(e[1],m,0,m.directiveStart,m.directiveEnd,n),Dm(n,h)),h}(De,this.componentDef,fe,q,[kT]),qc(ne,fe,null)}finally{ed()}return new FH(this.componentType,ye,sf(me,fe),fe,me)}}class FH extends class xH{}{constructor(n,e,r,a,d){super(),this.location=r,this._rootLView=a,this._tNode=d,this.instance=e,this.hostView=this.changeDetectorRef=new PH(a),this.componentType=n}get injector(){return new Ac(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Wl{}class Ck{}const lf=new Map;class xk extends Wl{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vk(this);const r=Fo(n);this._bootstrapComponents=os(r.bootstrap),this._r3Injector=Gm(n,e,[{provide:Wl,useValue:this},{provide:Ba,useValue:this.componentFactoryResolver}],ni(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=gi.THROW_IF_NOT_FOUND,r=cn.Default){return n===gi||n===Wl||n===Ll?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class hE extends Ck{constructor(n){super(),this.moduleType=n,null!==Fo(n)&&function GH(t){const n=new Set;!function e(r){const a=Fo(r,!0),d=a.id;null!==d&&(function bk(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${ni(n)} vs ${ni(n.name)}`)}(d,lf.get(d),r),lf.set(d,r));const h=os(a.imports);for(const m of h)n.has(m)||(n.add(m),e(m))}(t)}(n)}create(n){return new xk(this.moduleType,n)}}function zi(t,n,e){const r=Ur()+t,a=ut();return a[r]===xn?Is(a,r,e?n.call(e):n()):function Bd(t,n){return t[n]}(a,r)}function cf(t,n,e,r){return function Sk(t,n,e,r,a,d){const h=n+e;return Er(t,h,a)?Is(t,h+1,d?r.call(d,a):r(a)):p_(t,h+1)}(ut(),Ur(),t,n,e,r)}function uf(t,n,e,r,a){return function Tk(t,n,e,r,a,d,h){const m=n+e;return Fa(t,m,a,d)?Is(t,m+2,h?r.call(h,a,d):r(a,d)):p_(t,m+2)}(ut(),Ur(),t,n,e,r,a)}function p_(t,n){const e=t[n];return e===xn?void 0:e}function fE(t){return n=>{setTimeout(t,void 0,n)}}const Ae=class ZH extends ze{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){var a,d,h;let m=n,S=e||(()=>null),k=r;if(n&&"object"==typeof n){const H=n;m=null===(a=H.next)||void 0===a?void 0:a.bind(H),S=null===(d=H.error)||void 0===d?void 0:d.bind(H),k=null===(h=H.complete)||void 0===h?void 0:h.bind(H)}this.__isAsync&&(S=fE(S),m&&(m=fE(m)),k&&(k=fE(k)));const N=super.subscribe({next:m,error:S,complete:k});return n instanceof D&&n.add(N),N}};function JH(){return this._results[Vl()]()}class g_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Vl(),r=g_.prototype;r[e]||(r[e]=JH)}get changes(){return this._changes||(this._changes=new Ae)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const a=$o(n);(this._changesDetected=!function Bx(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let a=t[r],d=n[r];if(e&&(a=e(a),d=e(d)),d!==a)return!1}return!0}(r._results,a,e))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Yi=(()=>{class t{}return t.__NG_ELEMENT_ID__=n3,t})();const e3=Yi,t3=class extends e3{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n){const e=this._declarationTContainer.tViews,r=oa(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(r[19]=d.createEmbeddedView(e)),qc(e,r,n),new h_(r)}};function n3(){return R0(sr(),ut())}function R0(t,n){return 4&t.type?new t3(n,t,sf(t,n)):null}let co=(()=>{class t{}return t.__NG_ELEMENT_ID__=r3,t})();function r3(){return kk(sr(),ut())}const o3=co,Rk=class extends o3{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return sf(this._hostTNode,this._hostLView)}get injector(){return new Ac(this._hostTNode,this._hostLView)}get parentInjector(){const n=np(this._hostTNode,this._hostLView);if(fy(n)){const e=Js(n,this._hostLView),r=Zs(n);return new Ac(e[1].data[r+8],e)}return new Ac(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=Ok(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){const a=n.createEmbeddedView(e||{});return this.insert(a,r),a}createComponent(n,e,r,a,d){const h=n&&!function Mc(t){return"function"==typeof t}(n);let m;if(h)m=e;else{const H=e||{};m=H.index,r=H.injector,a=H.projectableNodes,d=H.ngModuleRef}const S=h?n:new dE(_i(n)),k=r||this.parentInjector;if(!d&&null==S.ngModule){const q=(h?k:this.parentInjector).get(Wl,null);q&&(d=q)}const N=S.create(k,a,void 0,d);return this.insert(N.hostView,m),N}insert(n,e){const r=n._lView,a=r[1];if(function pg(t){return wr(t[3])}(r)){const N=this.indexOf(n);if(-1!==N)this.detach(N);else{const H=r[3],q=new Rk(H,H[6],H[3]);q.detach(q.indexOf(n))}}const d=this._adjustIndex(e),h=this._lContainer;!function Zg(t,n,e,r){const a=10+r,d=e.length;r>0&&(e[a-1][4]=n),r<d-10?(n[4]=e[a],Nc(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const h=n[17];null!==h&&e!==h&&function BS(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(h,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=128}(a,r,h,d);const m=Ma(d,h),S=r[11],k=Nn(S,h[7]);return null!==k&&function sC(t,n,e,r,a,d){r[0]=a,r[6]=n,kl(t,r,e,1,a,d)}(a,h[6],S,r,k,m),n.attachToViewContainerRef(),Nc(gE(h),d,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=Ok(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=Jg(this._lContainer,e);r&&(nd(gE(this._lContainer),e),aC(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=Jg(this._lContainer,e);return r&&null!=nd(gE(this._lContainer),e)?new h_(r):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function Ok(t){return t[8]}function gE(t){return t[8]||(t[8]=[])}function kk(t,n){let e;const r=n[t.index];if(wr(r))e=r;else{let a;if(8&t.type)a=er(r);else{const d=n[11];a=d.createComment("");const h=Bo(t,n);Rl(d,Nn(d,h),a,function Ol(t,n){return Rn(t)?t.nextSibling(n):n.nextSibling}(d,h),!1)}n[t.index]=e=Pm(r,n,a,t),la(n,e)}return new Rk(e,t,n)}class mE{constructor(n){this.queryList=n,this.matches=null}clone(){return new mE(this.queryList)}setDirty(){this.queryList.setDirty()}}class _E{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,a=[];for(let d=0;d<r;d++){const h=e.getByIndex(d);a.push(this.queries[h.indexInDeclarationView].clone())}return new _E(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==Fk(n,e).matches&&this.queries[e].setDirty()}}class Pk{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class vE{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const a=null!==e?e.length:0,d=this.getByIndex(r).embeddedTView(n,a);d&&(d.indexInDeclarationView=r,null!==e?e.push(d):e=[d])}return null!==e?new vE(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class yE{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new yE(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const d=r[a];this.matchTNodeWithReadOption(n,e,l3(e,d)),this.matchTNodeWithReadOption(n,e,rp(e,n,d,!1,!1))}else r===Yi?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,rp(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===Vn||a===co||a===Yi&&4&e.type)this.addMatch(e.index,-2);else{const d=rp(e,n,a,!1,!1);null!==d&&this.addMatch(e.index,d)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function l3(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function u3(t,n,e,r){return-1===e?function c3(t,n){return 11&t.type?sf(t,n):4&t.type?R0(t,n):null}(n,t):-2===e?function d3(t,n,e){return e===Vn?sf(n,t):e===Yi?R0(n,t):e===co?kk(n,t):void 0}(t,n,r):Dc(t,t[1],e,n)}function Ik(t,n,e,r){const a=n[19].queries[r];if(null===a.matches){const d=t.data,h=e.matches,m=[];for(let S=0;S<h.length;S+=2){const k=h[S];m.push(k<0?null:u3(n,d[k],h[S+1],e.metadata.read))}a.matches=m}return a.matches}function CE(t,n,e,r){const a=t.queries.getByIndex(e),d=a.matches;if(null!==d){const h=Ik(t,n,a,e);for(let m=0;m<d.length;m+=2){const S=d[m];if(S>0)r.push(h[m/2]);else{const k=d[m+1],N=n[-S];for(let H=10;H<N.length;H++){const q=N[H];q[17]===q[3]&&CE(q[1],q,k,r)}if(null!==N[9]){const H=N[9];for(let q=0;q<H.length;q++){const ne=H[q];CE(ne[1],ne,k,r)}}}}}return r}function dn(t){const n=ut(),e=Kn(),r=Xh();hl(r+1);const a=Fk(e,r);if(t.dirty&&oy(n)===(2==(2&a.metadata.flags))){if(null===a.matches)t.reset([]);else{const d=a.crossesNgTemplate?CE(e,n,r,[]):Ik(e,n,a,r);t.reset(d,DH),t.notifyOnChanges()}return!0}return!1}function Ki(t,n,e){const r=Kn();r.firstCreatePass&&(Nk(r,new Pk(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),Mk(r,ut(),n)}function xi(t,n,e,r){const a=Kn();if(a.firstCreatePass){const d=sr();Nk(a,new Pk(n,e,r),d.index),function p3(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(a,t),2==(2&e)&&(a.staticContentQueries=!0)}Mk(a,ut(),e)}function hn(){return function h3(t,n){return t[19].queries[n].queryList}(ut(),Xh())}function Mk(t,n,e){const r=new g_(4==(4&e));kC(t,n,r,r.destroy),null===n[19]&&(n[19]=new _E),n[19].queries.push(new mE(r))}function Nk(t,n,e){null===t.queries&&(t.queries=new vE),t.queries.track(new yE(n,e))}function Fk(t,n){return t.queries.getByIndex(n)}function Hi(t,n){return R0(t,n)}const ue=Ag("Input",t=>({bindingPropertyName:t})),Ht=Ag("Output",t=>({bindingPropertyName:t}));function P0(...t){}const EE=new Kt("Application Initializer");let DE=(()=>{class t{constructor(e){this.appInits=e,this.resolve=P0,this.reject=P0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const d=this.appInits[a]();if($d(d))e.push(d);else if(Jp(d)){const h=new Promise((m,S)=>{d.subscribe({complete:m,error:S})});e.push(h)}}Promise.all(e).then(()=>{r()}).catch(a=>{this.reject(a)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Qe(EE,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const __=new Kt("AppId",{providedIn:"root",factory:function Jk(){return`${AE()}${AE()}${AE()}`}});function AE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eP=new Kt("Platform Initializer"),ha=new Kt("Platform ID"),tP=new Kt("appBootstrapListener");let nP=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const hu=new Kt("LocaleId",{providedIn:"root",factory:()=>yl(hu,cn.Optional|cn.SkipSelf)||function O3(){return"undefined"!=typeof $localize&&$localize.locale||x0}()});class P3{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let iP=(()=>{class t{compileModuleSync(e){return new hE(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),d=os(Fo(e).declarations).reduce((h,m)=>{const S=_i(m);return S&&h.push(new dE(S)),h},[]);return new P3(r,d)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const M3=(()=>Promise.resolve(0))();function RE(t){"undefined"==typeof Zone?M3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class $n{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&e,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function N3(){let t=ii.requestAnimationFrame,n=ii.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function G3(t){const n=()=>{!function L3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ii,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,kE(t),t.isCheckStableRunning=!0,OE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),kE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,a,d,h,m)=>{try{return rP(t),e.invokeTask(a,d,h,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),oP(t)}},onInvoke:(e,r,a,d,h,m,S)=>{try{return rP(t),e.invoke(a,d,h,m,S)}finally{t.shouldCoalesceRunChangeDetection&&n(),oP(t)}},onHasTask:(e,r,a,d)=>{e.hasTask(a,d),r===a&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,kE(t),OE(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(e,r,a,d)=>(e.handleError(a,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$n.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($n.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,a){const d=this._inner,h=d.scheduleEventTask("NgZoneEvent: "+a,n,F3,P0,P0);try{return d.runTask(h,e,r)}finally{d.cancelTask(h)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const F3={};function OE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function rP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oP(t){t._nesting--,OE(t)}class B3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,a){return n.apply(e,r)}}let PE=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$n.assertNotInAngularZone(),RE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())RE(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,a){let d=-1;r&&r>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==d),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:d,updateCb:a})}whenStable(e,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,a){return[]}}return t.\u0275fac=function(e){return new(e||t)(Qe($n))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),sP=(()=>{class t{constructor(){this._applications=new Map,IE.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return IE.findTestabilityInTree(this,e,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class V3{addToWindow(n){}findTestabilityInTree(n,e,r){return null}}let pa,IE=new V3;const aP=new Kt("AllowMultipleToken");class lP{constructor(n,e){this.name=n,this.token=e}}function cP(t,n,e=[]){const r=`Platform: ${n}`,a=new Kt(r);return(d=[])=>{let h=uP();if(!h||h.injector.get(aP,!1))if(t)t(e.concat(d).concat({provide:a,useValue:!0}));else{const m=e.concat(d).concat({provide:a,useValue:!0},{provide:Lp,useValue:"platform"});!function W3(t){if(pa&&!pa.destroyed&&!pa.injector.get(aP,!1))throw new Lt(400,"");pa=t.get(dP);const n=t.get(eP,null);n&&n.forEach(e=>e())}(gi.create({providers:m,name:r}))}return function U3(t){const n=uP();if(!n)throw new Lt(401,"");return n}()}}function uP(){return pa&&!pa.destroyed?pa:null}let dP=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const m=function z3(t,n){let e;return e="noop"===t?new B3:("zone.js"===t?void 0:t)||new $n({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),S=[{provide:$n,useValue:m}];return m.run(()=>{const k=gi.create({providers:S,parent:this.injector,name:e.moduleType.name}),N=e.create(k),H=N.injector.get(gd,null);if(!H)throw new Lt(402,"");return m.runOutsideAngular(()=>{const q=m.onError.subscribe({next:ne=>{H.handleError(ne)}});N.onDestroy(()=>{ME(this._modules,N),q.unsubscribe()})}),function Y3(t,n,e){try{const r=e();return $d(r)?r.catch(a=>{throw n.runOutsideAngular(()=>t.handleError(a)),a}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(H,m,()=>{const q=N.injector.get(DE);return q.runInitializers(),q.donePromise.then(()=>(function OV(t){Co(t,"Expected localeId to be defined"),"string"==typeof t&&(UO=t.toLowerCase().replace(/_/g,"-"))}(N.injector.get(hu,x0)||x0),this._moduleDoBootstrap(N),N))})})}bootstrapModule(e,r=[]){const a=hP({},r);return function j3(t,n,e){const r=new hE(e);return Promise.resolve(r)}(0,0,e).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(e){const r=e.injector.get(pu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!e.instance.ngDoBootstrap)throw new Lt(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Lt(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Qe(gi))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();function hP(t,n){return Array.isArray(n)?n.reduce(hP,t):Object.assign(Object.assign({},t),n)}let pu=(()=>{class t{constructor(e,r,a,d,h){this._zone=e,this._injector=r,this._exceptionHandler=a,this._componentFactoryResolver=d,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new Oe(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),S=new Oe(k=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{$n.assertNotInAngularZone(),RE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{$n.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{N.unsubscribe(),H.unsubscribe()}});this.isStable=Dh(m,S.pipe(xe()))}bootstrap(e,r){if(!this._initStatus.done)throw new Lt(405,"");let a;a=e instanceof mk?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(a.componentType);const d=function $3(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Wl),m=a.create(gi.NULL,[],r||a.selector,d),S=m.location.nativeElement,k=m.injector.get(PE,null),N=k&&m.injector.get(sP);return k&&N&&N.registerApplication(S,k),m.onDestroy(()=>{this.detachView(m.hostView),ME(this.components,m),N&&N.unregisterApplication(S)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Lt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;ME(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(tP,[]).concat(this._bootstrapListeners).forEach(a=>a(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Qe($n),Qe(gi),Qe(gd),Qe(Ba),Qe(DE))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ME(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let fP=!0,Nr=(()=>{class t{}return t.__NG_ELEMENT_ID__=X3,t})();function X3(t){return function Q3(t,n,e){if(rr(t)&&!e){const r=wo(t.index,n);return new h_(r,r)}return 47&t.type?new h_(n[16],n):null}(sr(),ut(),16==(16&t))}class yP{constructor(){}supports(n){return eu(n)}create(n){return new ij(n)}}const nj=(t,n)=>n;class ij{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||nj}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,a=0,d=null;for(;e||r;){const h=!r||e&&e.currentIndex<bP(r,a,d)?e:r,m=bP(h,a,d),S=h.currentIndex;if(h===r)a--,r=r._nextRemoved;else if(e=e._next,null==h.previousIndex)a++;else{d||(d=[]);const k=m-a,N=S-a;if(k!=N){for(let q=0;q<k;q++){const ne=q<d.length?d[q]:d[q]=0,fe=ne+q;N<=fe&&fe<k&&(d[q]=ne+1)}d[h.previousIndex]=N-k}}m!==S&&n(h,m,S)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!eu(n))throw new Lt(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,d,h,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)d=n[m],h=this._trackByFn(m,d),null!==e&&Object.is(e.trackById,h)?(r&&(e=this._verifyReinsertion(e,d,h,m)),Object.is(e.item,d)||this._addIdentityChange(e,d)):(e=this._mismatch(e,d,h,m),r=!0),e=e._next}else a=0,function jp(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Vl()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,m=>{h=this._trackByFn(a,m),null!==e&&Object.is(e.trackById,h)?(r&&(e=this._verifyReinsertion(e,m,h,a)),Object.is(e.item,m)||this._addIdentityChange(e,m)):(e=this._mismatch(e,m,h,a),r=!0),e=e._next,a++}),this.length=a;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,a){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,d,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,d,a)):n=this._addAfter(new rj(e,r),d,a),n}_verifyReinsertion(n,e,r,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==d?n=this._reinsertAfter(d,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,d=n._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const a=null===e?this._itHead:e._next;return n._next=a,n._prev=e,null===a?this._itTail=n:a._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new CP),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CP),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class rj{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oj{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class CP{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new oj,this.map.set(e,r)),r.add(n)}get(n,e){const a=this.map.get(n);return a?a.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bP(t,n,e){const r=t.previousIndex;if(null===r)return r;let a=0;return e&&r<e.length&&(a=e[r]),r+n+a}function xP(){return new N0([new yP])}let N0=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const a=r.factories.slice();e=e.concat(a)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||xP()),deps:[[t,new ad,new xr]]}}find(e){const r=this.factories.find(a=>a.supports(e));if(null!=r)return r;throw new Lt(901,"")}}return t.\u0275prov=St({token:t,providedIn:"root",factory:xP}),t})();const uj=cP(null,"core",[{provide:ha,useValue:"unknown"},{provide:dP,deps:[gi]},{provide:sP,deps:[]},{provide:nP,deps:[]}]);let dj=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Qe(pu))},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})(),F0=null;function Va(){return F0}const ri=new Kt("DocumentToken");let Yd=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:function(){return function gj(){return Qe(TP)}()},providedIn:"platform"}),t})();const mj=new Kt("Location Initialized");let TP=(()=>{class t extends Yd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Va().getBaseHref(this._doc)}onPopState(e){const r=Va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){EP()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){EP()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri))},t.\u0275prov=St({token:t,factory:function(){return function _j(){return new TP(Qe(ri))}()},providedIn:"platform"}),t})();function EP(){return!!window.history.pushState}function BE(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function DP(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ul(t){return t&&"?"!==t[0]?"?"+t:t}let hf=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:function(){return function vj(t){const n=Qe(ri).location;return new AP(Qe(Yd),n&&n.origin||"")}()},providedIn:"root"}),t})();const VE=new Kt("appBaseHref");let AP=(()=>{class t extends hf{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return BE(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ul(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,d){const h=this.prepareExternalUrl(a+Ul(d));this._platformLocation.pushState(e,r,h)}replaceState(e,r,a,d){const h=this.prepareExternalUrl(a+Ul(d));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(Yd),Qe(VE,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),yj=(()=>{class t extends hf{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=BE(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,d){let h=this.prepareExternalUrl(a+Ul(d));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,a,d){let h=this.prepareExternalUrl(a+Ul(d));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(Yd),Qe(VE,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),HE=(()=>{class t{constructor(e,r){this._subject=new Ae,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=DP(RP(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ul(r))}normalize(e){return t.stripTrailingSlash(function bj(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,RP(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ul(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ul(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return t.normalizeQueryParams=Ul,t.joinWithSlash=BE,t.stripTrailingSlash=DP,t.\u0275fac=function(e){return new(e||t)(Qe(hf),Qe(Yd))},t.\u0275prov=St({token:t,factory:function(){return function Cj(){return new HE(Qe(hf),Qe(Yd))}()},providedIn:"root"}),t})();function RP(t){return t.replace(/\/index.html$/,"")}var dr=(()=>((dr=dr||{})[dr.Format=0]="Format",dr[dr.Standalone=1]="Standalone",dr))(),Yn=(()=>((Yn=Yn||{})[Yn.Narrow=0]="Narrow",Yn[Yn.Abbreviated=1]="Abbreviated",Yn[Yn.Wide=2]="Wide",Yn[Yn.Short=3]="Short",Yn))(),qi=(()=>((qi=qi||{})[qi.Short=0]="Short",qi[qi.Medium=1]="Medium",qi[qi.Long=2]="Long",qi[qi.Full=3]="Full",qi))(),an=(()=>((an=an||{})[an.Decimal=0]="Decimal",an[an.Group=1]="Group",an[an.List=2]="List",an[an.PercentSign=3]="PercentSign",an[an.PlusSign=4]="PlusSign",an[an.MinusSign=5]="MinusSign",an[an.Exponential=6]="Exponential",an[an.SuperscriptingExponent=7]="SuperscriptingExponent",an[an.PerMille=8]="PerMille",an[an.Infinity=9]="Infinity",an[an.NaN=10]="NaN",an[an.TimeSeparator=11]="TimeSeparator",an[an.CurrencyDecimal=12]="CurrencyDecimal",an[an.CurrencyGroup=13]="CurrencyGroup",an))();function L0(t,n){return Ns(Do(t)[Vt.DateFormat],n)}function G0(t,n){return Ns(Do(t)[Vt.TimeFormat],n)}function B0(t,n){return Ns(Do(t)[Vt.DateTimeFormat],n)}function Ms(t,n){const e=Do(t),r=e[Vt.NumberSymbols][n];if(void 0===r){if(n===an.CurrencyDecimal)return e[Vt.NumberSymbols][an.Decimal];if(n===an.CurrencyGroup)return e[Vt.NumberSymbols][an.Group]}return r}function kP(t){if(!t[Vt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Vt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ns(t,n){for(let e=n;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function $E(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const Mj=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,y_={},Nj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dr=(()=>((Dr=Dr||{})[Dr.Short=0]="Short",Dr[Dr.ShortGMT=1]="ShortGMT",Dr[Dr.Long=2]="Long",Dr[Dr.Extended=3]="Extended",Dr))(),pn=(()=>((pn=pn||{})[pn.FullYear=0]="FullYear",pn[pn.Month=1]="Month",pn[pn.Date=2]="Date",pn[pn.Hours=3]="Hours",pn[pn.Minutes=4]="Minutes",pn[pn.Seconds=5]="Seconds",pn[pn.FractionalSeconds=6]="FractionalSeconds",pn[pn.Day=7]="Day",pn))(),Fn=(()=>((Fn=Fn||{})[Fn.DayPeriods=0]="DayPeriods",Fn[Fn.Days=1]="Days",Fn[Fn.Months=2]="Months",Fn[Fn.Eras=3]="Eras",Fn))();function Fj(t,n,e,r){let a=function Uj(t){if(MP(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[a,d=1,h=1]=t.split("-").map(m=>+m);return V0(a,d-1,h)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(Mj))return function zj(t){const n=new Date(0);let e=0,r=0;const a=t[8]?n.setUTCFullYear:n.setFullYear,d=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),a.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const h=Number(t[4]||0)-e,m=Number(t[5]||0)-r,S=Number(t[6]||0),k=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return d.call(n,h,m,S,k),n}(r)}const n=new Date(t);if(!MP(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=zl(e,n)||n;let m,h=[];for(;n;){if(m=Nj.exec(n),!m){h.push(n);break}{h=h.concat(m.slice(1));const N=h.pop();if(!N)break;n=N}}let S=a.getTimezoneOffset();r&&(S=IP(r,S),a=function Wj(t,n,e){const r=e?-1:1,a=t.getTimezoneOffset();return function $j(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,r*(IP(n,a)-a))}(a,r,!0));let k="";return h.forEach(N=>{const H=function jj(t){if(UE[t])return UE[t];let n;switch(t){case"G":case"GG":case"GGG":n=Ri(Fn.Eras,Yn.Abbreviated);break;case"GGGG":n=Ri(Fn.Eras,Yn.Wide);break;case"GGGGG":n=Ri(Fn.Eras,Yn.Narrow);break;case"y":n=_r(pn.FullYear,1,0,!1,!0);break;case"yy":n=_r(pn.FullYear,2,0,!0,!0);break;case"yyy":n=_r(pn.FullYear,3,0,!1,!0);break;case"yyyy":n=_r(pn.FullYear,4,0,!1,!0);break;case"Y":n=W0(1);break;case"YY":n=W0(2,!0);break;case"YYY":n=W0(3);break;case"YYYY":n=W0(4);break;case"M":case"L":n=_r(pn.Month,1,1);break;case"MM":case"LL":n=_r(pn.Month,2,1);break;case"MMM":n=Ri(Fn.Months,Yn.Abbreviated);break;case"MMMM":n=Ri(Fn.Months,Yn.Wide);break;case"MMMMM":n=Ri(Fn.Months,Yn.Narrow);break;case"LLL":n=Ri(Fn.Months,Yn.Abbreviated,dr.Standalone);break;case"LLLL":n=Ri(Fn.Months,Yn.Wide,dr.Standalone);break;case"LLLLL":n=Ri(Fn.Months,Yn.Narrow,dr.Standalone);break;case"w":n=WE(1);break;case"ww":n=WE(2);break;case"W":n=WE(1,!0);break;case"d":n=_r(pn.Date,1);break;case"dd":n=_r(pn.Date,2);break;case"c":case"cc":n=_r(pn.Day,1);break;case"ccc":n=Ri(Fn.Days,Yn.Abbreviated,dr.Standalone);break;case"cccc":n=Ri(Fn.Days,Yn.Wide,dr.Standalone);break;case"ccccc":n=Ri(Fn.Days,Yn.Narrow,dr.Standalone);break;case"cccccc":n=Ri(Fn.Days,Yn.Short,dr.Standalone);break;case"E":case"EE":case"EEE":n=Ri(Fn.Days,Yn.Abbreviated);break;case"EEEE":n=Ri(Fn.Days,Yn.Wide);break;case"EEEEE":n=Ri(Fn.Days,Yn.Narrow);break;case"EEEEEE":n=Ri(Fn.Days,Yn.Short);break;case"a":case"aa":case"aaa":n=Ri(Fn.DayPeriods,Yn.Abbreviated);break;case"aaaa":n=Ri(Fn.DayPeriods,Yn.Wide);break;case"aaaaa":n=Ri(Fn.DayPeriods,Yn.Narrow);break;case"b":case"bb":case"bbb":n=Ri(Fn.DayPeriods,Yn.Abbreviated,dr.Standalone,!0);break;case"bbbb":n=Ri(Fn.DayPeriods,Yn.Wide,dr.Standalone,!0);break;case"bbbbb":n=Ri(Fn.DayPeriods,Yn.Narrow,dr.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ri(Fn.DayPeriods,Yn.Abbreviated,dr.Format,!0);break;case"BBBB":n=Ri(Fn.DayPeriods,Yn.Wide,dr.Format,!0);break;case"BBBBB":n=Ri(Fn.DayPeriods,Yn.Narrow,dr.Format,!0);break;case"h":n=_r(pn.Hours,1,-12);break;case"hh":n=_r(pn.Hours,2,-12);break;case"H":n=_r(pn.Hours,1);break;case"HH":n=_r(pn.Hours,2);break;case"m":n=_r(pn.Minutes,1);break;case"mm":n=_r(pn.Minutes,2);break;case"s":n=_r(pn.Seconds,1);break;case"ss":n=_r(pn.Seconds,2);break;case"S":n=_r(pn.FractionalSeconds,1);break;case"SS":n=_r(pn.FractionalSeconds,2);break;case"SSS":n=_r(pn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=j0(Dr.Short);break;case"ZZZZZ":n=j0(Dr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=j0(Dr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=j0(Dr.Long);break;default:return null}return UE[t]=n,n}(N);k+=H?H(a,e,S):"''"===N?"'":N.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),k}function V0(t,n,e){const r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function zl(t,n){const e=function wj(t){return Do(t)[Vt.LocaleId]}(t);if(y_[e]=y_[e]||{},y_[e][n])return y_[e][n];let r="";switch(n){case"shortDate":r=L0(t,qi.Short);break;case"mediumDate":r=L0(t,qi.Medium);break;case"longDate":r=L0(t,qi.Long);break;case"fullDate":r=L0(t,qi.Full);break;case"shortTime":r=G0(t,qi.Short);break;case"mediumTime":r=G0(t,qi.Medium);break;case"longTime":r=G0(t,qi.Long);break;case"fullTime":r=G0(t,qi.Full);break;case"short":const a=zl(t,"shortTime"),d=zl(t,"shortDate");r=H0(B0(t,qi.Short),[a,d]);break;case"medium":const h=zl(t,"mediumTime"),m=zl(t,"mediumDate");r=H0(B0(t,qi.Medium),[h,m]);break;case"long":const S=zl(t,"longTime"),k=zl(t,"longDate");r=H0(B0(t,qi.Long),[S,k]);break;case"full":const N=zl(t,"fullTime"),H=zl(t,"fullDate");r=H0(B0(t,qi.Full),[N,H])}return r&&(y_[e][n]=r),r}function H0(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return null!=n&&r in n?n[r]:e})),t}function fa(t,n,e="-",r,a){let d="";(t<0||a&&t<=0)&&(a?t=1-t:(t=-t,d=e));let h=String(t);for(;h.length<n;)h="0"+h;return r&&(h=h.substr(h.length-n)),d+h}function _r(t,n,e=0,r=!1,a=!1){return function(d,h){let m=function Gj(t,n){switch(t){case pn.FullYear:return n.getFullYear();case pn.Month:return n.getMonth();case pn.Date:return n.getDate();case pn.Hours:return n.getHours();case pn.Minutes:return n.getMinutes();case pn.Seconds:return n.getSeconds();case pn.FractionalSeconds:return n.getMilliseconds();case pn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,d);if((e>0||m>-e)&&(m+=e),t===pn.Hours)0===m&&-12===e&&(m=12);else if(t===pn.FractionalSeconds)return function Lj(t,n){return fa(t,3).substr(0,n)}(m,n);const S=Ms(h,an.MinusSign);return fa(m,n,S,r,a)}}function Ri(t,n,e=dr.Format,r=!1){return function(a,d){return function Bj(t,n,e,r,a,d){switch(e){case Fn.Months:return function Tj(t,n,e){const r=Do(t),d=Ns([r[Vt.MonthsFormat],r[Vt.MonthsStandalone]],n);return Ns(d,e)}(n,a,r)[t.getMonth()];case Fn.Days:return function Sj(t,n,e){const r=Do(t),d=Ns([r[Vt.DaysFormat],r[Vt.DaysStandalone]],n);return Ns(d,e)}(n,a,r)[t.getDay()];case Fn.DayPeriods:const h=t.getHours(),m=t.getMinutes();if(d){const k=function Rj(t){const n=Do(t);return kP(n),(n[Vt.ExtraData][2]||[]).map(r=>"string"==typeof r?$E(r):[$E(r[0]),$E(r[1])])}(n),N=function Oj(t,n,e){const r=Do(t);kP(r);const d=Ns([r[Vt.ExtraData][0],r[Vt.ExtraData][1]],n)||[];return Ns(d,e)||[]}(n,a,r),H=k.findIndex(q=>{if(Array.isArray(q)){const[ne,fe]=q,ye=h>=ne.hours&&m>=ne.minutes,me=h<fe.hours||h===fe.hours&&m<fe.minutes;if(ne.hours<fe.hours){if(ye&&me)return!0}else if(ye||me)return!0}else if(q.hours===h&&q.minutes===m)return!0;return!1});if(-1!==H)return N[H]}return function xj(t,n,e){const r=Do(t),d=Ns([r[Vt.DayPeriodsFormat],r[Vt.DayPeriodsStandalone]],n);return Ns(d,e)}(n,a,r)[h<12?0:1];case Fn.Eras:return function Ej(t,n){return Ns(Do(t)[Vt.Eras],n)}(n,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(a,d,t,n,e,r)}}function j0(t){return function(n,e,r){const a=-1*r,d=Ms(e,an.MinusSign),h=a>0?Math.floor(a/60):Math.ceil(a/60);switch(t){case Dr.Short:return(a>=0?"+":"")+fa(h,2,d)+fa(Math.abs(a%60),2,d);case Dr.ShortGMT:return"GMT"+(a>=0?"+":"")+fa(h,1,d);case Dr.Long:return"GMT"+(a>=0?"+":"")+fa(h,2,d)+":"+fa(Math.abs(a%60),2,d);case Dr.Extended:return 0===r?"Z":(a>=0?"+":"")+fa(h,2,d)+":"+fa(Math.abs(a%60),2,d);default:throw new Error(`Unknown zone width "${t}"`)}}}function PP(t){return V0(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function WE(t,n=!1){return function(e,r){let a;if(n){const d=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();a=1+Math.floor((h+d)/7)}else{const d=PP(e),h=function Hj(t){const n=V0(t,0,1).getDay();return V0(t,0,1+(n<=4?4:11)-n)}(d.getFullYear()),m=d.getTime()-h.getTime();a=1+Math.round(m/6048e5)}return fa(a,t,Ms(r,an.MinusSign))}}function W0(t,n=!1){return function(e,r){return fa(PP(e).getFullYear(),t,Ms(r,an.MinusSign),n)}}const UE={};function IP(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function MP(t){return t instanceof Date&&!isNaN(t.valueOf())}function GP(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[a,d]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===n)return decodeURIComponent(d)}return null}class s${constructor(n,e,r,a){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hr=(()=>{class t{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,d,h)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new s$(a.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===d?void 0:d);else if(null!==d){const m=r.get(d);r.move(m,h),BP(m,a)}});for(let a=0,d=r.length;a<d;a++){const m=r.get(a).context;m.index=a,m.count=d,m.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{BP(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(Se(co),Se(Yi),Se(N0))},t.\u0275dir=gt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function BP(t,n){t.context.$implicit=n.item}let Oi=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new a$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){VP("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){VP("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(Se(co),Se(Yi))},t.\u0275dir=gt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class a${constructor(){this.$implicit=null,this.ngIf=null}}function VP(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ni(n)}'.`)}let pf=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(Se(co))},t.\u0275dir=gt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Wn]}),t})();const b$=new Kt("DATE_PIPE_DEFAULT_TIMEZONE");let z0=(()=>{class t{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",a,d){var h;if(null==e||""===e||e!=e)return null;try{return Fj(e,r,d||this.locale,null!==(h=null!=a?a:this.defaultTimezone)&&void 0!==h?h:void 0)}catch(m){throw function ga(t,n){return new Lt(2100,"")}()}}}return t.\u0275fac=function(e){return new(e||t)(Se(hu,16),Se(b$,24))},t.\u0275pipe=to({name:"date",type:t,pure:!0}),t})(),Fr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})();const $P="browser";function ff(t){return t===$P}function t1(t){return"server"===t}let N$=(()=>{class t{}return t.\u0275prov=St({token:t,providedIn:"root",factory:()=>new F$(Qe(ri),window)}),t})();class F${constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function L$(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const d=a.shadowRoot;if(d){const h=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(r-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=WP(this.window.history)||WP(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function WP(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class UP{}class n1 extends class G$ extends class fj{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function pj(t){F0||(F0=t)}(new n1)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function B$(){return b_=b_||document.querySelector("base"),b_?b_.getAttribute("href"):null}();return null==e?null:function V$(t){Y0=Y0||document.createElement("a"),Y0.setAttribute("href",t);const n=Y0.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){b_=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return GP(document.cookie,n)}}let Y0,b_=null;const zP=new Kt("TRANSITION_ID"),j$=[{provide:EE,useFactory:function H$(t,n,e){return()=>{e.get(DE).donePromise.then(()=>{const r=Va(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let d=0;d<a.length;d++)r.remove(a[d])})}},deps:[zP,ri,gi],multi:!0}];class r1{static init(){!function H3(t){IE=t}(new r1)}addToWindow(n){ii.getAngularTestability=(r,a=!0)=>{const d=n.findTestabilityInTree(r,a);if(null==d)throw new Error("Could not find testability for element.");return d},ii.getAllAngularTestabilities=()=>n.getAllTestabilities(),ii.getAllAngularRootElements=()=>n.getAllRootElements(),ii.frameworkStabilizers||(ii.frameworkStabilizers=[]),ii.frameworkStabilizers.push(r=>{const a=ii.getAllAngularTestabilities();let d=a.length,h=!1;const m=function(S){h=h||S,d--,0==d&&r(h)};a.forEach(function(S){S.whenStable(m)})})}findTestabilityInTree(n,e,r){if(null==e)return null;const a=n.getTestability(e);return null!=a?a:r?Va().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let $$=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const K0=new Kt("EventManagerPlugins");let q0=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let d=0;d<a.length;d++){const h=a[d];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Qe(K0),Qe($n))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class YP{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const a=Va().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let KP=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),w_=(()=>{class t extends KP{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(d=>{const h=this._doc.createElement("style");h.textContent=d,a.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(qP),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(qP))}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();function qP(t){Va().remove(t)}const o1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},s1=/%COMP%/g;function X0(t,n,e){for(let r=0;r<n.length;r++){let a=n[r];Array.isArray(a)?X0(t,a,e):(a=a.replace(s1,t),e.push(a))}return e}function ZP(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Q0=(()=>{class t{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new a1(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case kr.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new q$(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case kr.ShadowDom:return new X$(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=X0(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Qe(q0),Qe(w_),Qe(__))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class a1{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(o1[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,r){n&&n.insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,a){if(a){e=a+":"+e;const d=o1[a];d?n.setAttributeNS(d,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const a=o1[r];a?n.removeAttributeNS(a,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,a){a&(Eo.DashCase|Eo.Important)?n.style.setProperty(e,r,a&Eo.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Eo.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,ZP(r)):this.eventManager.addEventListener(n,e,ZP(r))}}class q$ extends a1{constructor(n,e,r,a){super(n),this.component=r;const d=X0(a+"-"+r.id,r.styles,[]);e.addStyles(d),this.contentAttr=function z$(t){return"_ngcontent-%COMP%".replace(s1,t)}(a+"-"+r.id),this.hostAttr=function Y$(t){return"_nghost-%COMP%".replace(s1,t)}(a+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class X$ extends a1{constructor(n,e,r,a){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=X0(a.id,a.styles,[]);for(let h=0;h<d.length;h++){const m=document.createElement("style");m.textContent=d[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Q$=(()=>{class t extends YP{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const eI=["alt","control","meta","shift"],J$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},eW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let tW=(()=>{class t extends YP{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,a){const d=t.parseEventName(r),h=t.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Va().onAndCancel(e,d.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const d=t._normalizeKey(r.pop());let h="";if(eI.forEach(S=>{const k=r.indexOf(S);k>-1&&(r.splice(k,1),h+=S+".")}),h+=d,0!=r.length||0===d.length)return null;const m={};return m.domEventName=a,m.fullKey=h,m}static getEventFullKey(e){let r="",a=function nW(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&tI.hasOwnProperty(n)&&(n=tI[n]))}return J$[n]||n}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),eI.forEach(d=>{d!=a&&eW[d](e)&&(r+=d+".")}),r+=a,r}static eventCallback(e,r,a){return d=>{t.getEventFullKey(d)===e&&a.runGuarded(()=>r(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const sW=cP(uj,"browser",[{provide:ha,useValue:$P},{provide:eP,useValue:function iW(){n1.makeCurrent(),r1.init()},multi:!0},{provide:ri,useFactory:function oW(){return function bx(t){Wh=t}(document),document},deps:[]}]),aW=[{provide:Lp,useValue:"root"},{provide:gd,useFactory:function rW(){return new gd},deps:[]},{provide:K0,useClass:Q$,multi:!0,deps:[ri,$n,ha]},{provide:K0,useClass:tW,multi:!0,deps:[ri]},{provide:Q0,useClass:Q0,deps:[q0,w_,__]},{provide:af,useExisting:Q0},{provide:KP,useExisting:w_},{provide:w_,useClass:w_,deps:[ri]},{provide:PE,useClass:PE,deps:[$n]},{provide:q0,useClass:q0,deps:[K0,$n]},{provide:UP,useClass:$$,deps:[]}];let nI=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:__,useValue:e.appId},{provide:zP,useExisting:__},j$]}}}return t.\u0275fac=function(e){return new(e||t)(Qe(t,12))},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({providers:aW,imports:[Fr,dj]}),t})();"undefined"!=typeof window&&window;let oI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:function(e){let r=null;return r=e?new(e||t):Qe(sI),r},providedIn:"root"}),t})(),sI=(()=>{class t extends oI{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case fi.NONE:return r;case fi.HTML:return rs(r,"HTML")?Ei(r):Yy(this._doc,String(r)).toString();case fi.STYLE:return rs(r,"Style")?Ei(r):r;case fi.SCRIPT:if(rs(r,"Script"))return Ei(r);throw new Error("unsafe value used in a script context");case fi.URL:return Vg(r),rs(r,"URL")?Ei(r):dd(String(r));case fi.RESOURCE_URL:if(rs(r,"ResourceURL"))return Ei(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function By(t){return new oo(t)}(e)}bypassSecurityTrustStyle(e){return function Vy(t){return new eS(t)}(e)}bypassSecurityTrustScript(e){return function ud(t){return new tS(t)}(e)}bypassSecurityTrustUrl(e){return function rS(t){return new nS(t)}(e)}bypassSecurityTrustResourceUrl(e){return function oS(t){return new iS(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri))},t.\u0275prov=St({token:t,factory:function(e){let r=null;return r=e?new e:function _W(t){return new sI(t.get(ri))}(Qe(gi)),r},providedIn:"root"}),t})();function _n(...t){return Zi(t,Da(t))}class Lr extends ze{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const{isArray:vW}=Array,{getPrototypeOf:yW,prototype:CW,keys:bW}=Object;function aI(t){if(1===t.length){const n=t[0];if(vW(n))return{args:n,keys:null};if(function wW(t){return t&&"object"==typeof t&&yW(t)===CW}(n)){const e=bW(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:xW}=Array;function c1(t){return vt(n=>function SW(t,n){return xW(n)?t(...n):t(n)}(t,n))}function lI(t,n){return t.reduce((e,r,a)=>(e[r]=n[a],e),{})}function cI(t,n,e){t?Us(e,t,n):n()}function Z0(t,n){const e=R(t)?t:()=>t,r=a=>a.error(e());return new Oe(n?a=>n.schedule(r,0,a):r)}const J0=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function x_(...t){return function EW(){return ku(1)}()(Zi(t,Da(t)))}function uI(t){return new Oe(n=>{yr(t()).subscribe(n)})}function dI(){return ke((t,n)=>{let e=null;t._refCount++;const r=It(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const a=t._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class DW extends Oe{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ct(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new D;const e=this.getSubject();n.add(this.source.subscribe(It(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=D.EMPTY)}return n}refCount(){return dI()(this)}}function Ha(t,n){return ke((e,r)=>{let a=null,d=0,h=!1;const m=()=>h&&!a&&r.complete();e.subscribe(It(r,S=>{null==a||a.unsubscribe();let k=0;const N=d++;yr(t(S,N)).subscribe(a=It(r,H=>r.next(n?n(S,H,N,k++):H),()=>{a=null,m()}))},()=>{h=!0,m()}))})}function Kd(...t){const n=Da(t);return ke((e,r)=>{(n?x_(t,e,n):x_(t,e)).subscribe(r)})}function AW(t,n,e,r,a){return(d,h)=>{let m=e,S=n,k=0;d.subscribe(It(h,N=>{const H=k++;S=m?t(S,N,H):(m=!0,N),r&&h.next(S)},a&&(()=>{m&&h.next(S),h.complete()})))}}function hI(t,n){return ke(AW(t,n,arguments.length>=2,!0))}function Ar(t,n){return ke((e,r)=>{let a=0;e.subscribe(It(r,d=>t.call(n,d,a++)&&r.next(d)))})}function gu(t){return ke((n,e)=>{let d,r=null,a=!1;r=n.subscribe(It(e,void 0,void 0,h=>{d=yr(t(h,gu(t)(n))),r?(r.unsubscribe(),r=null,d.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,d.subscribe(e))})}function gf(t,n){return R(n)?En(t,n,1):En(t,1)}function d1(t){return t<=0?()=>Mo:ke((n,e)=>{let r=[];n.subscribe(It(e,a=>{r.push(a),t<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function pI(t=RW){return ke((n,e)=>{let r=!1;n.subscribe(It(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(t())))})}function RW(){return new J0}function fI(t){return ke((n,e)=>{let r=!1;n.subscribe(It(e,a=>{r=!0,e.next(a)},()=>{r||e.next(t),e.complete()}))})}function mf(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Ar((a,d)=>t(a,d,r)):we,Ji(1),e?fI(n):pI(()=>new J0))}function Xr(t,n,e){const r=R(t)||n||e?{next:t,error:n,complete:e}:t;return r?ke((a,d)=>{var h;null===(h=r.subscribe)||void 0===h||h.call(r);let m=!0;a.subscribe(It(d,S=>{var k;null===(k=r.next)||void 0===k||k.call(r,S),d.next(S)},()=>{var S;m=!1,null===(S=r.complete)||void 0===S||S.call(r),d.complete()},S=>{var k;m=!1,null===(k=r.error)||void 0===k||k.call(r,S),d.error(S)},()=>{var S,k;m&&(null===(S=r.unsubscribe)||void 0===S||S.call(r)),null===(k=r.finalize)||void 0===k||k.call(r)}))}):we}class Yl{constructor(n,e){this.id=n,this.url=e}}class h1 extends Yl{constructor(n,e,r="imperative",a=null){super(n,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class S_ extends Yl{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gI extends Yl{constructor(n,e,r){super(n,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class PW extends Yl{constructor(n,e,r){super(n,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IW extends Yl{constructor(n,e,r,a){super(n,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MW extends Yl{constructor(n,e,r,a){super(n,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NW extends Yl{constructor(n,e,r,a,d){super(n,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FW extends Yl{constructor(n,e,r,a){super(n,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LW extends Yl{constructor(n,e,r,a){super(n,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mI{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _I{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GW{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BW{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VW{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HW{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vI{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Un="primary";class jW{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _f(t){return new jW(t)}const yI="ngNavigationCancelingError";function p1(t){const n=Error("NavigationCancelingError: "+t);return n[yI]=!0,n}function WW(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const a={};for(let d=0;d<r.length;d++){const h=r[d],m=t[d];if(h.startsWith(":"))a[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:t.slice(0,r.length),posParams:a}}function ja(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!CI(t[a],n[a]))return!1;return!0}function CI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((a,d)=>r[d]===a)}return t===n}function bI(t){return Array.prototype.concat.apply([],t)}function wI(t){return t.length>0?t[t.length-1]:null}function Qr(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function $a(t){return Jp(t)?t:$d(t)?Zi(Promise.resolve(t)):_n(t)}const YW={exact:function TI(t,n,e){if(!Xd(t.segments,n.segments)||!eb(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!TI(t.children[r],n.children[r],e))return!1;return!0},subset:EI},xI={exact:function KW(t,n){return ja(t,n)},subset:function qW(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>CI(t[e],n[e]))},ignored:()=>!0};function SI(t,n,e){return YW[e.paths](t.root,n.root,e.matrixParams)&&xI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function EI(t,n,e){return DI(t,n,n.segments,e)}function DI(t,n,e,r){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Xd(a,e)||n.hasChildren()||!eb(a,e,r))}if(t.segments.length===e.length){if(!Xd(t.segments,e)||!eb(t.segments,e,r))return!1;for(const a in n.children)if(!t.children[a]||!EI(t.children[a],n.children[a],r))return!1;return!0}{const a=e.slice(0,t.segments.length),d=e.slice(t.segments.length);return!!(Xd(t.segments,a)&&eb(t.segments,a,r)&&t.children[Un])&&DI(t.children[Un],n,d,r)}}function eb(t,n,e){return n.every((r,a)=>xI[e](t[a].parameters,r.parameters))}class qd{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_f(this.queryParams)),this._queryParamMap}toString(){return ZW.serialize(this)}}class qn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Qr(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tb(this)}}class T_{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_f(this.parameters)),this._parameterMap}toString(){return PI(this)}}function Xd(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class AI{}class RI{parse(n){const e=new aU(n);return new qd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${E_(n.root,!0)}`,r=function tU(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(a=>`${nb(e)}=${nb(a)}`).join("&"):`${nb(e)}=${nb(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function JW(t){return encodeURI(t)}(n.fragment)}`:""}`}}const ZW=new RI;function tb(t){return t.segments.map(n=>PI(n)).join("/")}function E_(t,n){if(!t.hasChildren())return tb(t);if(n){const e=t.children[Un]?E_(t.children[Un],!1):"",r=[];return Qr(t.children,(a,d)=>{d!==Un&&r.push(`${d}:${E_(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function QW(t,n){let e=[];return Qr(t.children,(r,a)=>{a===Un&&(e=e.concat(n(r,a)))}),Qr(t.children,(r,a)=>{a!==Un&&(e=e.concat(n(r,a)))}),e}(t,(r,a)=>a===Un?[E_(t.children[Un],!1)]:[`${a}:${E_(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Un]?`${tb(t)}/${e[0]}`:`${tb(t)}/(${e.join("//")})`}}function OI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nb(t){return OI(t).replace(/%3B/gi,";")}function f1(t){return OI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ib(t){return decodeURIComponent(t)}function kI(t){return ib(t.replace(/\+/g,"%20"))}function PI(t){return`${f1(t.path)}${function eU(t){return Object.keys(t).map(n=>`;${f1(n)}=${f1(t[n])}`).join("")}(t.parameters)}`}const nU=/^[^\/()?;=#]+/;function rb(t){const n=t.match(nU);return n?n[0]:""}const iU=/^[^=?&#]+/,oU=/^[^&#]+/;class aU{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Un]=new qn(n,e)),r}parseSegment(){const n=rb(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new T_(ib(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=rb(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=rb(this.remaining);a&&(r=a,this.capture(r))}n[ib(e)]=ib(r)}parseQueryParam(n){const e=function rU(t){const n=t.match(iU);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function sU(t){const n=t.match(oU);return n?n[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=kI(e),d=kI(r);if(n.hasOwnProperty(a)){let h=n[a];Array.isArray(h)||(h=[h],n[a]=h),h.push(d)}else n[a]=d}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rb(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;r.indexOf(":")>-1?(d=r.substr(0,r.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=Un);const h=this.parseChildren();e[d]=1===Object.keys(h).length?h[Un]:new qn([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class II{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=g1(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=g1(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=m1(n,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return m1(n,this._root).map(e=>e.value)}}function g1(t,n){if(t===n.value)return n;for(const e of n.children){const r=g1(t,e);if(r)return r}return null}function m1(t,n){if(t===n.value)return[n];for(const e of n.children){const r=m1(t,e);if(r.length)return r.unshift(n),r}return[]}class Kl{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function vf(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class MI extends II{constructor(n,e){super(n),this.snapshot=e,_1(this,n)}toString(){return this.snapshot.toString()}}function NI(t,n){const e=function lU(t,n){const h=new ob([],{},{},"",{},Un,n,null,t.root,-1,{});return new LI("",new Kl(h,[]))}(t,n),r=new Lr([new T_("",{})]),a=new Lr({}),d=new Lr({}),h=new Lr({}),m=new Lr(""),S=new yf(r,a,h,m,d,Un,n,e.root);return S.snapshot=e.root,new MI(new Kl(S,[]),e)}class yf{constructor(n,e,r,a,d,h,m,S){this.url=n,this.params=e,this.queryParams=r,this.fragment=a,this.data=d,this.outlet=h,this.component=m,this._futureSnapshot=S}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(vt(n=>_f(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(vt(n=>_f(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FI(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const a=e[r],d=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(d.component)break;r--}}return function cU(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class ob{constructor(n,e,r,a,d,h,m,S,k,N,H){this.url=n,this.params=e,this.queryParams=r,this.fragment=a,this.data=d,this.outlet=h,this.component=m,this.routeConfig=S,this._urlSegment=k,this._lastPathIndex=N,this._resolve=H}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_f(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_f(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LI extends II{constructor(n,e){super(e),this.url=n,_1(this,e)}toString(){return GI(this._root)}}function _1(t,n){n.value._routerState=t,n.children.forEach(e=>_1(t,e))}function GI(t){const n=t.children.length>0?` { ${t.children.map(GI).join(", ")} } `:"";return`${t.value}${n}`}function v1(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ja(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),ja(n.params,e.params)||t.params.next(e.params),function UW(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!ja(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),ja(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function y1(t,n){const e=ja(t.params,n.params)&&function XW(t,n){return Xd(t,n)&&t.every((e,r)=>ja(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||y1(t.parent,n.parent))}function D_(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const a=function dU(t,n,e){return n.children.map(r=>{for(const a of e.children)if(t.shouldReuseRoute(r.value,a.value.snapshot))return D_(t,r,a);return D_(t,r)})}(t,n,e);return new Kl(r,a)}{if(t.shouldAttach(n.value)){const d=t.retrieve(n.value);if(null!==d){const h=d.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(m=>D_(t,m)),h}}const r=function hU(t){return new yf(new Lr(t.url),new Lr(t.params),new Lr(t.queryParams),new Lr(t.fragment),new Lr(t.data),t.outlet,t.component,t)}(n.value),a=n.children.map(d=>D_(t,d));return new Kl(r,a)}}function sb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function A_(t){return"object"==typeof t&&null!=t&&t.outlets}function C1(t,n,e,r,a){let d={};if(r&&Qr(r,(m,S)=>{d[S]=Array.isArray(m)?m.map(k=>`${k}`):`${m}`}),t===n)return new qd(e,d,a);const h=BI(t,n,e);return new qd(h,d,a)}function BI(t,n,e){const r={};return Qr(t.children,(a,d)=>{r[d]=a===n?e:BI(a,n,e)}),new qn(t.segments,r)}class VI{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&sb(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(A_);if(a&&a!==wI(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class b1{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function HI(t,n,e){if(t||(t=new qn([],{})),0===t.segments.length&&t.hasChildren())return ab(t,n,e);const r=function vU(t,n,e){let r=0,a=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(r>=e.length)return d;const h=t.segments[a],m=e[r];if(A_(m))break;const S=`${m}`,k=r<e.length-1?e[r+1]:null;if(a>0&&void 0===S)break;if(S&&k&&"object"==typeof k&&void 0===k.outlets){if(!$I(S,k,h))return d;r+=2}else{if(!$I(S,{},h))return d;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(t,n,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const d=new qn(t.segments.slice(0,r.pathIndex),{});return d.children[Un]=new qn(t.segments.slice(r.pathIndex),t.children),ab(d,0,a)}return r.match&&0===a.length?new qn(t.segments,{}):r.match&&!t.hasChildren()?w1(t,n,e):r.match?ab(t,0,a):w1(t,n,e)}function ab(t,n,e){if(0===e.length)return new qn(t.segments,{});{const r=function _U(t){return A_(t[0])?t[0].outlets:{[Un]:t}}(e),a={};return Qr(r,(d,h)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[h]=HI(t.children[h],n,d))}),Qr(t.children,(d,h)=>{void 0===r[h]&&(a[h]=d)}),new qn(t.segments,a)}}function w1(t,n,e){const r=t.segments.slice(0,n);let a=0;for(;a<e.length;){const d=e[a];if(A_(d)){const S=yU(d.outlets);return new qn(r,S)}if(0===a&&sb(e[0])){r.push(new T_(t.segments[n].path,jI(e[0]))),a++;continue}const h=A_(d)?d.outlets[Un]:`${d}`,m=a<e.length-1?e[a+1]:null;h&&m&&sb(m)?(r.push(new T_(h,jI(m))),a+=2):(r.push(new T_(h,{})),a++)}return new qn(r,{})}function yU(t){const n={};return Qr(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=w1(new qn([],{}),0,e))}),n}function jI(t){const n={};return Qr(t,(e,r)=>n[r]=`${e}`),n}function $I(t,n,e){return t==e.path&&ja(n,e.parameters)}class bU{constructor(n,e,r,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),v1(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const a=vf(e);n.children.forEach(d=>{const h=d.value.outlet;this.deactivateRoutes(d,a[h],r),delete a[h]}),Qr(a,(d,h)=>{this.deactivateRouteAndItsChildren(d,r)})}deactivateRoutes(n,e,r){const a=n.value,d=e?e.value:null;if(a===d)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,r);else d&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),a=r&&n.value.component?r.children:e,d=vf(n);for(const h of Object.keys(d))this.deactivateRouteAndItsChildren(d[h],a);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),a=r&&n.value.component?r.children:e,d=vf(n);for(const h of Object.keys(d))this.deactivateRouteAndItsChildren(d[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const a=vf(e);n.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],r),this.forwardEvent(new HW(d.value.snapshot))}),n.children.length&&this.forwardEvent(new BW(n.value.snapshot))}activateRoutes(n,e,r){const a=n.value,d=e?e.value:null;if(v1(a),a===d)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),v1(m.route.value),this.activateChildRoutes(n,null,h.children)}else{const m=function wU(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),S=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=S,h.outlet&&h.outlet.activateWith(a,S),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,r)}}class x1{constructor(n,e){this.routes=n,this.module=e}}function mu(t){return"function"==typeof t}function Qd(t){return t instanceof qd}const R_=Symbol("INITIAL_VALUE");function O_(){return Ha(t=>function u1(...t){const n=Da(t),e=fc(t),{args:r,keys:a}=aI(t);if(0===r.length)return Zi([],n);const d=new Oe(function TW(t,n,e=we){return r=>{cI(n,()=>{const{length:a}=t,d=new Array(a);let h=a,m=a;for(let S=0;S<a;S++)cI(n,()=>{const k=Zi(t[S],n);let N=!1;k.subscribe(It(r,H=>{d[S]=H,N||(N=!0,m--),m||r.next(e(d.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,n,a?h=>lI(a,h):we));return e?d.pipe(c1(e)):d}(t.map(n=>n.pipe(Ji(1),Kd(R_)))).pipe(hI((n,e)=>{let r=!1;return e.reduce((a,d,h)=>a!==R_?a:(d===R_&&(r=!0),r||!1!==d&&h!==e.length-1&&!Qd(d)?a:d),n)},R_),Ar(n=>n!==R_),vt(n=>Qd(n)?n:!0===n),Ji(1)))}class AU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new k_,this.attachRef=null}}class k_{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new AU,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let lb=(()=>{class t{constructor(e,r,a,d,h){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.name=d||Un,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,S=new RU(e,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,S),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Se(k_),Se(co),Se(Ba),ml("name"),Se(Nr))},t.\u0275dir=gt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class RU{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===yf?this.route:n===k_?this.childContexts:this.parent.get(n,e)}}let WI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&Ee(0,"router-outlet")},directives:[lb],encapsulation:2}),t})();function UI(t,n=""){for(let e=0;e<t.length;e++){const r=t[e];OU(r,kU(n,r))}}function OU(t,n){t.children&&UI(t.children,n)}function kU(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function S1(t){const n=t.children&&t.children.map(S1),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Un&&(e.component=WI),e}function Fs(t){return t.outlet||Un}function zI(t,n){const e=t.filter(r=>Fs(r)===n);return e.push(...t.filter(r=>Fs(r)!==n)),e}const YI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cb(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},YI):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(n.matcher||WW)(e,t,n);if(!d)return Object.assign({},YI);const h={};Qr(d.posParams,(S,k)=>{h[k]=S.path});const m=d.consumed.length>0?Object.assign(Object.assign({},h),d.consumed[d.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:m,positionalParamSegments:null!==(r=d.posParams)&&void 0!==r?r:{}}}function ub(t,n,e,r,a="corrected"){if(e.length>0&&function MU(t,n,e){return e.some(r=>db(t,n,r)&&Fs(r)!==Un)}(t,e,r)){const h=new qn(n,function IU(t,n,e,r){const a={};a[Un]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const d of e)if(""===d.path&&Fs(d)!==Un){const h=new qn([],{});h._sourceSegment=t,h._segmentIndexShift=n.length,a[Fs(d)]=h}return a}(t,n,r,new qn(e,t.children)));return h._sourceSegment=t,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function NU(t,n,e){return e.some(r=>db(t,n,r))}(t,e,r)){const h=new qn(t.segments,function PU(t,n,e,r,a,d){const h={};for(const m of r)if(db(t,e,m)&&!a[Fs(m)]){const S=new qn([],{});S._sourceSegment=t,S._segmentIndexShift="legacy"===d?t.segments.length:n.length,h[Fs(m)]=S}return Object.assign(Object.assign({},a),h)}(t,n,e,r,t.children,a));return h._sourceSegment=t,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:e}}const d=new qn(t.segments,t.children);return d._sourceSegment=t,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:e}}function db(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function KI(t,n,e,r){return!!(Fs(t)===r||r!==Un&&db(n,e,t))&&("**"===t.path||cb(n,t,e).matched)}function qI(t,n,e){return 0===n.length&&!t.children[e]}class hb{constructor(n){this.segmentGroup=n||null}}class XI{constructor(n){this.urlTree=n}}function P_(t){return Z0(new hb(t))}function QI(t){return Z0(new XI(t))}class BU{constructor(n,e,r,a,d){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(Wl)}apply(){const n=ub(this.urlTree.root,[],[],this.config).segmentGroup,e=new qn(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Un).pipe(vt(d=>this.createUrlTree(T1(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gu(d=>{if(d instanceof XI)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof hb?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Un).pipe(vt(a=>this.createUrlTree(T1(a),n.queryParams,n.fragment))).pipe(gu(a=>{throw a instanceof hb?this.noMatchError(a):a}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,r){const a=n.segments.length>0?new qn([],{[Un]:n}):n;return new qd(a,e,r)}expandSegmentGroup(n,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(vt(d=>new qn([],d))):this.expandSegment(n,r,e,r.segments,a,!0)}expandChildren(n,e,r){const a=[];for(const d of Object.keys(r.children))"primary"===d?a.unshift(d):a.push(d);return Zi(a).pipe(gf(d=>{const h=r.children[d],m=zI(e,d);return this.expandSegmentGroup(n,m,h,d).pipe(vt(S=>({segment:S,outlet:d})))}),hI((d,h)=>(d[h.outlet]=h.segment,d),{}),function OW(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Ar((a,d)=>t(a,d,r)):we,d1(1),e?fI(n):pI(()=>new J0))}())}expandSegment(n,e,r,a,d,h){return Zi(r).pipe(gf(m=>this.expandSegmentAgainstRoute(n,e,r,m,a,d,h).pipe(gu(k=>{if(k instanceof hb)return _n(null);throw k}))),mf(m=>!!m),gu((m,S)=>{if(m instanceof J0||"EmptyError"===m.name)return qI(e,a,d)?_n(new qn([],{})):P_(e);throw m}))}expandSegmentAgainstRoute(n,e,r,a,d,h,m){return KI(a,e,d,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,e,a,d,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,a,d,h):P_(e):P_(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,a,d,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,a,d,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,a){const d=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QI(d):this.lineralizeSegments(r,d).pipe(En(h=>{const m=new qn(h,{});return this.expandSegment(n,m,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,a,d,h){const{matched:m,consumedSegments:S,remainingSegments:k,positionalParamSegments:N}=cb(e,a,d);if(!m)return P_(e);const H=this.applyRedirectCommands(S,a.redirectTo,N);return a.redirectTo.startsWith("/")?QI(H):this.lineralizeSegments(a,H).pipe(En(q=>this.expandSegment(n,e,r,q.concat(k),h,!1)))}matchSegmentAgainstRoute(n,e,r,a,d){if("**"===r.path)return r.loadChildren?(r._loadedConfig?_n(r._loadedConfig):this.configLoader.load(n.injector,r)).pipe(vt(H=>(r._loadedConfig=H,new qn(a,{})))):_n(new qn(a,{}));const{matched:h,consumedSegments:m,remainingSegments:S}=cb(e,r,a);return h?this.getChildConfig(n,r,a).pipe(En(N=>{const H=N.module,q=N.routes,{segmentGroup:ne,slicedSegments:fe}=ub(e,m,S,q),ye=new qn(ne.segments,ne.children);if(0===fe.length&&ye.hasChildren())return this.expandChildren(H,q,ye).pipe(vt(Fe=>new qn(m,Fe)));if(0===q.length&&0===fe.length)return _n(new qn(m,{}));const me=Fs(r)===d;return this.expandSegment(H,ye,q,fe,me?Un:d,!0).pipe(vt(Te=>new qn(m.concat(Te.segments),Te.children)))})):P_(e)}getChildConfig(n,e,r){return e.children?_n(new x1(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?_n(e._loadedConfig):this.runCanLoadGuards(n.injector,e,r).pipe(En(a=>a?this.configLoader.load(n.injector,e).pipe(vt(d=>(e._loadedConfig=d,d))):function LU(t){return Z0(p1(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):_n(new x1([],n))}runCanLoadGuards(n,e,r){const a=e.canLoad;return a&&0!==a.length?_n(a.map(h=>{const m=n.get(h);let S;if(function SU(t){return t&&mu(t.canLoad)}(m))S=m.canLoad(e,r);else{if(!mu(m))throw new Error("Invalid CanLoad guard");S=m(e,r)}return $a(S)})).pipe(O_(),Xr(h=>{if(!Qd(h))return;const m=p1(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),vt(h=>!0===h)):_n(!0)}lineralizeSegments(n,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return _n(r);if(a.numberOfChildren>1||!a.children[Un])return Z0(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));a=a.children[Un]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,a){const d=this.createSegmentGroup(n,e.root,r,a);return new qd(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Qr(n,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);r[d]=e[m]}else r[d]=a}),r}createSegmentGroup(n,e,r,a){const d=this.createSegments(n,e.segments,r,a);let h={};return Qr(e.children,(m,S)=>{h[S]=this.createSegmentGroup(n,m,r,a)}),new qn(d,h)}createSegments(n,e,r,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,a):this.findOrReturn(d,r))}findPosParam(n,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return a}findOrReturn(n,e){let r=0;for(const a of e){if(a.path===n.path)return e.splice(r),a;r++}return n}}function T1(t){const n={};for(const r of Object.keys(t.children)){const d=T1(t.children[r]);(d.segments.length>0||d.hasChildren())&&(n[r]=d)}return function VU(t){if(1===t.numberOfChildren&&t.children[Un]){const n=t.children[Un];return new qn(t.segments.concat(n.segments),n.children)}return t}(new qn(t.segments,n))}class ZI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class pb{constructor(n,e){this.component=n,this.route=e}}function jU(t,n,e){const r=t._root;return I_(r,n?n._root:null,e,[r.value])}function fb(t,n,e){const r=function WU(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(r?r.module.injector:e).get(t)}function I_(t,n,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=vf(n);return t.children.forEach(h=>{(function UU(t,n,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=t.value,h=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(h&&d.routeConfig===h.routeConfig){const S=function zU(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Xd(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Xd(t.url,n.url)||!ja(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!y1(t,n)||!ja(t.queryParams,n.queryParams);default:return!y1(t,n)}}(h,d,d.routeConfig.runGuardsAndResolvers);S?a.canActivateChecks.push(new ZI(r)):(d.data=h.data,d._resolvedData=h._resolvedData),I_(t,n,d.component?m?m.children:null:e,r,a),S&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new pb(m.outlet.component,h))}else h&&M_(n,m,a),a.canActivateChecks.push(new ZI(r)),I_(t,null,d.component?m?m.children:null:e,r,a)})(h,d[h.value.outlet],e,r.concat([h.value]),a),delete d[h.value.outlet]}),Qr(d,(h,m)=>M_(h,e.getContext(m),a)),a}function M_(t,n,e){const r=vf(t),a=t.value;Qr(r,(d,h)=>{M_(d,a.component?n?n.children.getContext(h):null:n,e)}),e.canDeactivateChecks.push(new pb(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}class tz{}function JI(t){return new Oe(n=>n.error(t))}class iz{constructor(n,e,r,a,d,h){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=h}recognize(){const n=ub(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Un);if(null===e)return null;const r=new ob([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Un,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Kl(r,e),d=new LI(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const e=n.value,r=FI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const d of Object.keys(e.children)){const h=e.children[d],m=zI(n,d),S=this.processSegmentGroup(m,h,d);if(null===S)return null;r.push(...S)}const a=eM(r);return function rz(t){t.sort((n,e)=>n.value.outlet===Un?-1:e.value.outlet===Un?1:n.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(n,e,r,a){for(const d of n){const h=this.processSegmentAgainstRoute(d,e,r,a);if(null!==h)return h}return qI(e,r,a)?[]:null}processSegmentAgainstRoute(n,e,r,a){if(n.redirectTo||!KI(n,e,r,a))return null;let d,h=[],m=[];if("**"===n.path){const ne=r.length>0?wI(r).parameters:{};d=new ob(r,ne,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iM(n),Fs(n),n.component,n,tM(e),nM(e)+r.length,rM(n))}else{const ne=cb(e,n,r);if(!ne.matched)return null;h=ne.consumedSegments,m=ne.remainingSegments,d=new ob(h,ne.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iM(n),Fs(n),n.component,n,tM(e),nM(e)+h.length,rM(n))}const S=function oz(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:k,slicedSegments:N}=ub(e,h,m,S.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===N.length&&k.hasChildren()){const ne=this.processChildren(S,k);return null===ne?null:[new Kl(d,ne)]}if(0===S.length&&0===N.length)return[new Kl(d,[])];const H=Fs(n)===a,q=this.processSegment(S,k,N,H?Un:a);return null===q?null:[new Kl(d,q)]}}function sz(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function eM(t){const n=[],e=new Set;for(const r of t){if(!sz(r)){n.push(r);continue}const a=n.find(d=>r.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):n.push(r)}for(const r of e){const a=eM(r.children);n.push(new Kl(r.value,a))}return n.filter(r=>!e.has(r))}function tM(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function nM(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function iM(t){return t.data||{}}function rM(t){return t.resolve||{}}function oM(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function E1(t){return Ha(n=>{const e=t(n);return e?Zi(e).pipe(vt(()=>n)):_n(n)})}class fz extends class pz{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const D1=new Kt("ROUTES");class sM{constructor(n,e,r,a){this.injector=n,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe(vt(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=d.create(n);return new x1(bI(h.injector.get(D1,void 0,cn.Self|cn.Optional)).map(S1),h)}),gu(d=>{throw e._loader$=void 0,d}));return e._loader$=new DW(a,()=>new ze).pipe(dI()),e._loader$}loadModuleFactory(n){return $a(n()).pipe(En(e=>e instanceof Ck?_n(e):Zi(this.compiler.compileModuleAsync(e))))}}class mz{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function _z(t){throw t}function vz(t,n,e){return n.parse("/")}function aM(t,n){return _n(null)}const yz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oo=(()=>{class t{constructor(e,r,a,d,h,m,S){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=d,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze,this.errorHandler=_z,this.malformedUriErrorHandler=vz,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:aM,afterPreactivation:aM},this.urlHandlingStrategy=new mz,this.routeReuseStrategy=new fz,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(Wl),this.console=h.get(nP);const H=h.get($n);this.isNgZoneEnabled=H instanceof $n&&$n.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=function zW(){return new qd(new qn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sM(h,m,q=>this.triggerEvent(new mI(q)),q=>this.triggerEvent(new _I(q))),this.routerState=NI(this.currentUrlTree,this.rootComponentType),this.transitions=new Lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Ar(a=>0!==a.id),vt(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ha(a=>{let d=!1,h=!1;return _n(a).pipe(Xr(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ha(m=>{const S=this.browserUrlTree.toString(),k=!this.navigated||m.extractedUrl.toString()!==S||S!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||k)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return lM(m.source)&&(this.browserUrlTree=m.extractedUrl),_n(m).pipe(Ha(H=>{const q=this.transitions.getValue();return r.next(new h1(H.id,this.serializeUrl(H.extractedUrl),H.source,H.restoredState)),q!==this.transitions.getValue()?Mo:Promise.resolve(H)}),function HU(t,n,e,r){return Ha(a=>function GU(t,n,e,r,a){return new BU(t,n,e,r,a).apply()}(t,n,e,a.extractedUrl,r).pipe(vt(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Xr(H=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:H.urlAfterRedirects})}),function az(t,n,e,r,a){return En(d=>function nz(t,n,e,r,a="emptyOnly",d="legacy"){try{const h=new iz(t,n,e,r,a,d).recognize();return null===h?JI(new tz):_n(h)}catch(h){return JI(h)}}(t,n,d.urlAfterRedirects,e(d.urlAfterRedirects),r,a).pipe(vt(h=>Object.assign(Object.assign({},d),{targetSnapshot:h}))))}(this.rootComponentType,this.config,H=>this.serializeUrl(H),this.paramsInheritanceStrategy,this.relativeLinkResolution),Xr(H=>{if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ne,H)}this.browserUrlTree=H.urlAfterRedirects}const q=new IW(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);r.next(q)}));if(k&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:ne,source:fe,restoredState:ye,extras:me}=m,De=new h1(q,this.serializeUrl(ne),fe,ye);r.next(De);const Te=NI(ne,this.rootComponentType).snapshot;return _n(Object.assign(Object.assign({},m),{targetSnapshot:Te,urlAfterRedirects:ne,extras:Object.assign(Object.assign({},me),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Mo}),E1(m=>{const{targetSnapshot:S,id:k,extractedUrl:N,rawUrl:H,extras:{skipLocationChange:q,replaceUrl:ne}}=m;return this.hooks.beforePreactivation(S,{navigationId:k,appliedUrlTree:N,rawUrlTree:H,skipLocationChange:!!q,replaceUrl:!!ne})}),Xr(m=>{const S=new MW(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(S)}),vt(m=>Object.assign(Object.assign({},m),{guards:jU(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function YU(t,n){return En(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:h}}=e;return 0===h.length&&0===d.length?_n(Object.assign(Object.assign({},e),{guardsResult:!0})):function KU(t,n,e,r){return Zi(t).pipe(En(a=>function ez(t,n,e,r,a){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return d&&0!==d.length?_n(d.map(m=>{const S=fb(m,n,a);let k;if(function DU(t){return t&&mu(t.canDeactivate)}(S))k=$a(S.canDeactivate(t,n,e,r));else{if(!mu(S))throw new Error("Invalid CanDeactivate guard");k=$a(S(t,n,e,r))}return k.pipe(mf())})).pipe(O_()):_n(!0)}(a.component,a.route,e,n,r)),mf(a=>!0!==a,!0))}(h,r,a,t).pipe(En(m=>m&&function xU(t){return"boolean"==typeof t}(m)?function qU(t,n,e,r){return Zi(n).pipe(gf(a=>x_(function QU(t,n){return null!==t&&n&&n(new GW(t)),_n(!0)}(a.route.parent,r),function XU(t,n){return null!==t&&n&&n(new VW(t)),_n(!0)}(a.route,r),function JU(t,n,e){const r=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(h=>function $U(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(h)).filter(h=>null!==h).map(h=>uI(()=>_n(h.guards.map(S=>{const k=fb(S,h.node,e);let N;if(function EU(t){return t&&mu(t.canActivateChild)}(k))N=$a(k.canActivateChild(r,t));else{if(!mu(k))throw new Error("Invalid CanActivateChild guard");N=$a(k(r,t))}return N.pipe(mf())})).pipe(O_())));return _n(d).pipe(O_())}(t,a.path,e),function ZU(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return _n(!0);const a=r.map(d=>uI(()=>{const h=fb(d,n,e);let m;if(function TU(t){return t&&mu(t.canActivate)}(h))m=$a(h.canActivate(n,t));else{if(!mu(h))throw new Error("Invalid CanActivate guard");m=$a(h(n,t))}return m.pipe(mf())}));return _n(a).pipe(O_())}(t,a.route,e))),mf(a=>!0!==a,!0))}(r,d,t,n):_n(m)),vt(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),Xr(m=>{if(Qd(m.guardsResult)){const k=p1(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw k.url=m.guardsResult,k}const S=new NW(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(S)}),Ar(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),E1(m=>{if(m.guards.canActivateChecks.length)return _n(m).pipe(Xr(S=>{const k=new FW(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);this.triggerEvent(k)}),Ha(S=>{let k=!1;return _n(S).pipe(function lz(t,n){return En(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return _n(e);let d=0;return Zi(a).pipe(gf(h=>function cz(t,n,e,r){return function uz(t,n,e,r){const a=oM(t);if(0===a.length)return _n({});const d={};return Zi(a).pipe(En(h=>function dz(t,n,e,r){const a=fb(t,n,r);return $a(a.resolve?a.resolve(n,e):a(n,e))}(t[h],n,e,r).pipe(Xr(m=>{d[h]=m}))),d1(1),En(()=>oM(d).length===a.length?_n(d):Mo))}(t._resolve,t,n,r).pipe(vt(d=>(t._resolvedData=d,t.data=Object.assign(Object.assign({},t.data),FI(t,e).resolve),null)))}(h.route,r,t,n)),Xr(()=>d++),d1(1),En(h=>d===a.length?_n(e):Mo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Xr({next:()=>k=!0,complete:()=>{k||(this.restoreHistory(S),this.cancelNavigationTransition(S,"At least one route resolver didn't emit any value."))}}))}),Xr(S=>{const k=new LW(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);this.triggerEvent(k)}))}),E1(m=>{const{targetSnapshot:S,id:k,extractedUrl:N,rawUrl:H,extras:{skipLocationChange:q,replaceUrl:ne}}=m;return this.hooks.afterPreactivation(S,{navigationId:k,appliedUrlTree:N,rawUrlTree:H,skipLocationChange:!!q,replaceUrl:!!ne})}),vt(m=>{const S=function uU(t,n,e){const r=D_(t,n._root,e?e._root:void 0);return new MI(r,n)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:S})}),Xr(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((t,n,e)=>vt(r=>(new bU(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),Xr({next(){d=!0},complete(){d=!0}}),function kW(t){return ke((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var m;d||h||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===a.id&&(this.currentNavigation=null)}),gu(m=>{if(h=!0,function $W(t){return t&&t[yI]}(m)){const S=Qd(m.url);S||(this.navigated=!0,this.restoreHistory(a,!0));const k=new gI(a.id,this.serializeUrl(a.extractedUrl),m.message);r.next(k),S?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),H={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lM(a.source)};this.scheduleNavigation(N,"imperative",null,H,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const S=new PW(a.id,this.serializeUrl(a.extractedUrl),m);r.next(S);try{a.resolve(this.errorHandler(m))}catch(k){a.reject(k)}}return Mo}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const d={replaceUrl:!0},h=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(h){const S=Object.assign({},h);delete S.navigationId,delete S.\u0275routerPageId,0!==Object.keys(S).length&&(d.state=S)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,r,h,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){UI(e),this.config=e.map(S1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:d,fragment:h,queryParamsHandling:m,preserveFragment:S}=r,k=a||this.routerState.root,N=S?this.currentUrlTree.fragment:h;let H=null;switch(m){case"merge":H=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":H=this.currentUrlTree.queryParams;break;default:H=d||null}return null!==H&&(H=this.removeEmptyProps(H)),function pU(t,n,e,r,a){if(0===e.length)return C1(n.root,n.root,n.root,r,a);const d=function fU(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new VI(!0,0,t);let n=0,e=!1;const r=t.reduce((a,d,h)=>{if("object"==typeof d&&null!=d){if(d.outlets){const m={};return Qr(d.outlets,(S,k)=>{m[k]="string"==typeof S?S.split("/"):S}),[...a,{outlets:m}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===h?(d.split("/").forEach((m,S)=>{0==S&&"."===m||(0==S&&""===m?e=!0:".."===m?n++:""!=m&&a.push(m))}),a):[...a,d]},[]);return new VI(e,n,r)}(e);if(d.toRoot())return C1(n.root,n.root,new qn([],{}),r,a);const h=function gU(t,n,e){if(t.isAbsolute)return new b1(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new b1(d,d===n.root,0)}const r=sb(t.commands[0])?0:1;return function mU(t,n,e){let r=t,a=n,d=e;for(;d>a;){if(d-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new b1(r,!1,a-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(d,n,t),m=h.processChildren?ab(h.segmentGroup,h.index,d.commands):HI(h.segmentGroup,h.index,d.commands);return C1(n.root,h.segmentGroup,m,r,a)}(k,this.currentUrlTree,e,H,null!=N?N:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=Qd(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function bz(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},yz):!1===r?Object.assign({},Cz):r,Qd(e))return SI(this.currentUrlTree,e,a);const d=this.parseUrl(e);return SI(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const d=e[a];return null!=d&&(r[a]=d),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new S_(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,d,h){var m,S;if(this.disposed)return Promise.resolve(!1);let k,N,H;h?(k=h.resolve,N=h.reject,H=h.promise):H=new Promise((fe,ye)=>{k=fe,N=ye});const q=++this.navigationId;let ne;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),ne=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1):ne=0,this.setTransition({id:q,targetPageId:ne,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:k,reject:N,promise:H,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),H.catch(fe=>Promise.reject(fe))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,r=!1){var a,d;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new gI(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){jd()},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();function lM(t){return"imperative"!==t}let A1=(()=>{class t{constructor(e,r,a,d,h){this.router=e,this.route=r,this.tabIndexAttribute=a,this.renderer=d,this.el=h,this.commands=null,this.onChanges=new ze,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,a=this.el.nativeElement;null!==e?r.setAttribute(a,"tabindex",e):r.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Cf(this.skipLocationChange),replaceUrl:Cf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cf(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Se(Oo),Se(yf),ml("tabindex"),Se(Ao),Se(Vn))},t.\u0275dir=gt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&tt("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Wn]}),t})(),gb=(()=>{class t{constructor(e,r,a){this.router=e,this.route=r,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new ze,this.subscription=e.events.subscribe(d=>{d instanceof S_&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,a,d,h){if(0!==e||r||a||d||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Cf(this.skipLocationChange),replaceUrl:Cf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cf(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Se(Oo),Se(yf),Se(hf))},t.\u0275dir=gt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&tt("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&Ut("target",r.target)("href",r.href,To)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Wn]}),t})();function Cf(t){return""===t||!!t}let cM=(()=>{class t{constructor(e,r,a,d,h,m){this.router=e,this.element=r,this.renderer=a,this.cdr=d,this.link=h,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=e.events.subscribe(S=>{S instanceof S_&&this.update()})}ngAfterContentInit(){_n(this.links.changes,this.linksWithHrefs.changes,_n(null)).pipe(ku()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=Zi(r).pipe(ku()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function wz(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>!!a.urlTree&&e.isActive(a.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(Se(Oo),Se(Vn),Se(Ao),Se(Nr),Se(A1,8),Se(gb,8))},t.\u0275dir=gt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,a){if(1&e&&(xi(a,A1,5),xi(a,gb,5)),2&e){let d;dn(d=hn())&&(r.links=d),dn(d=hn())&&(r.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Wn]}),t})();class uM{}class dM{preload(n,e){return _n(null)}}let hM=(()=>{class t{constructor(e,r,a,d){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=new sM(a,r,S=>e.triggerEvent(new mI(S)),S=>e.triggerEvent(new _I(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ar(e=>e instanceof S_),gf(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Wl);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const d of r)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const h=d._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(e,d)):d.children&&a.push(this.processRoutes(e,d.children));return Zi(a).pipe(ku(),vt(d=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?_n(r._loadedConfig):this.loader.load(e.injector,r)).pipe(En(d=>(r._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Qe(Oo),Qe(iP),Qe(gi),Qe(uM))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),R1=(()=>{class t{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof h1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof S_&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new vI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){jd()},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const Zd=new Kt("ROUTER_CONFIGURATION"),pM=new Kt("ROUTER_FORROOT_GUARD"),Sz=[HE,{provide:AI,useClass:RI},{provide:Oo,useFactory:function Rz(t,n,e,r,a,d,h={},m,S){const k=new Oo(null,t,n,e,r,a,bI(d));return m&&(k.urlHandlingStrategy=m),S&&(k.routeReuseStrategy=S),function Oz(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(h,k),h.enableTracing&&k.events.subscribe(N=>{var H,q;null===(H=console.group)||void 0===H||H.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null===(q=console.groupEnd)||void 0===q||q.call(console)}),k},deps:[AI,k_,HE,gi,iP,D1,Zd,[class gz{},new xr],[class hz{},new xr]]},k_,{provide:yf,useFactory:function kz(t){return t.routerState.root},deps:[Oo]},hM,dM,class xz{preload(n,e){return e().pipe(gu(()=>_n(null)))}},{provide:Zd,useValue:{enableTracing:!1}}];function Tz(){return new lP("Router",Oo)}let fM=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[Sz,gM(e),{provide:pM,useFactory:Az,deps:[[Oo,new xr,new ad]]},{provide:Zd,useValue:r||{}},{provide:hf,useFactory:Dz,deps:[Yd,[new bl(VE),new xr],Zd]},{provide:R1,useFactory:Ez,deps:[Oo,N$,Zd]},{provide:uM,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:dM},{provide:lP,multi:!0,useFactory:Tz},[O1,{provide:EE,multi:!0,useFactory:Pz,deps:[O1]},{provide:mM,useFactory:Iz,deps:[O1]},{provide:tP,multi:!0,useExisting:mM}]]}}static forChild(e){return{ngModule:t,providers:[gM(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Qe(pM,8),Qe(Oo,8))},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})();function Ez(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new R1(t,n,e)}function Dz(t,n,e={}){return e.useHash?new yj(t,n):new AP(t,n)}function Az(t){return"guarded"}function gM(t){return[{provide:mn,multi:!0,useValue:t},{provide:D1,multi:!0,useValue:t}]}let O1=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ze}appInitializer(){return this.injector.get(mj,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(m=>r=m),d=this.injector.get(Oo),h=this.injector.get(Zd);return"disabled"===h.initialNavigation?(d.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?_n(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),d.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(Zd),a=this.injector.get(hM),d=this.injector.get(R1),h=this.injector.get(Oo),m=this.injector.get(pu);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),d.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Qe(gi))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();function Pz(t){return t.appInitializer.bind(t)}function Iz(t){return t.bootstrapListener.bind(t)}const mM=new Kt("Router Initializer");var Nz=X(123);const k1="AuthToken",P1="AuthUserName";let Ls=(()=>{class t{constructor(){this.roles=[]}setToken(e){localStorage.removeItem(k1),localStorage.setItem(k1,e)}getToken(){return localStorage.getItem(k1)}setUsername(e){localStorage.removeItem(P1),localStorage.setItem(P1,e)}getUsername(){return localStorage.getItem(P1)}logOut(){localStorage.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class _M{}const ql="*";function I1(t,n){return{type:7,name:t,definitions:n,options:{}}}function N_(t,n=null){return{type:4,styles:n,timings:t}}function vM(t,n=null){return{type:2,steps:t,options:n}}function ma(t){return{type:6,styles:t,offset:null}}function M1(t,n,e){return{type:0,name:t,styles:n,options:e}}function F_(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function yM(t){Promise.resolve(null).then(t)}class L_{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class CM{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,a=0;const d=this.players.length;0==d?yM(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==d&&this._onFinish()}),h.onDestroy(()=>{++r==d&&this._onDestroy()}),h.onStart(()=>{++a==d&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(a)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const bM=["toast-component",""];function Lz(t,n){if(1&t){const e=Wt();$(0,"button",5),tt("click",function(){return Et(e),ve().remove()}),$(1,"span",6),pe(2,"\xd7"),z()()}}function Gz(t,n){if(1&t&&(Di(0),pe(1),lr()),2&t){const e=ve(2);W(1),wt("[",e.duplicatesCount+1,"]")}}function Bz(t,n){if(1&t&&($(0,"div"),pe(1),he(2,Gz,2,1,"ng-container",4),z()),2&t){const e=ve();He(e.options.titleClass),Ut("aria-label",e.title),W(1),wt(" ",e.title," "),W(1),te("ngIf",e.duplicatesCount)}}function Vz(t,n){if(1&t&&Ee(0,"div",7),2&t){const e=ve();He(e.options.messageClass),te("innerHTML",e.message,yp)}}function Hz(t,n){if(1&t&&($(0,"div",8),pe(1),z()),2&t){const e=ve();He(e.options.messageClass),Ut("aria-label",e.message),W(1),wt(" ",e.message," ")}}function jz(t,n){if(1&t&&($(0,"div"),Ee(1,"div",9),z()),2&t){const e=ve();W(1),Ce("width",e.width+"%")}}function $z(t,n){if(1&t){const e=Wt();$(0,"button",5),tt("click",function(){return Et(e),ve().remove()}),$(1,"span",6),pe(2,"\xd7"),z()()}}function Wz(t,n){if(1&t&&(Di(0),pe(1),lr()),2&t){const e=ve(2);W(1),wt("[",e.duplicatesCount+1,"]")}}function Uz(t,n){if(1&t&&($(0,"div"),pe(1),he(2,Wz,2,1,"ng-container",4),z()),2&t){const e=ve();He(e.options.titleClass),Ut("aria-label",e.title),W(1),wt(" ",e.title," "),W(1),te("ngIf",e.duplicatesCount)}}function zz(t,n){if(1&t&&Ee(0,"div",7),2&t){const e=ve();He(e.options.messageClass),te("innerHTML",e.message,yp)}}function Yz(t,n){if(1&t&&($(0,"div",8),pe(1),z()),2&t){const e=ve();He(e.options.messageClass),Ut("aria-label",e.message),W(1),wt(" ",e.message," ")}}function Kz(t,n){if(1&t&&($(0,"div"),Ee(1,"div",9),z()),2&t){const e=ve();W(1),Ce("width",e.width+"%")}}class qz{constructor(n,e){this.component=n,this.injector=e}attach(n,e){return this._attachedHost=n,n.attach(this,e)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class mb{constructor(n,e,r,a,d,h){this.toastId=n,this.config=e,this.message=r,this.title=a,this.toastType=d,this.toastRef=h,this._onTap=new ze,this._onAction=new ze,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const wM={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},xM=new Kt("ToastConfig");class Qz{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new ze,this._activate=new ze,this._manualClose=new ze,this._resetTimeout=new ze,this._countDuplicate=new ze}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,e){n&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Zz{constructor(n,e){this._toastPackage=n,this._parentInjector=e}get(n,e,r){return n===mb?this._toastPackage:this._parentInjector.get(n,e,r)}}class Jz extends class Xz{attach(n,e){return this._attachedPortal=n,this.attachComponentPortal(n,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}{constructor(n,e,r){super(),this._hostDomElement=n,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(n,e){const r=this._componentFactoryResolver.resolveComponentFactory(n.component);let a;return a=r.create(n.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}class e5{constructor(n){this._portalHost=n}attach(n,e=!0){return this._portalHost.attach(n,e)}detach(){return this._portalHost.detach()}}let t5=(()=>{class t{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),n5=(()=>{class t{constructor(e,r,a,d){this._overlayContainer=e,this._componentFactoryResolver=r,this._appRef=a,this._document=d,this._paneElements=new Map}create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(e),a.classList.add("toast-container"),r?r.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(e){return new Jz(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new e5(this._createPortalHost(e))}}return t.\u0275fac=function(e){return new(e||t)(Qe(t5),Qe(Ba),Qe(pu),Qe(ri))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),F1=(()=>{class t{constructor(e,r,a,d,h){this.overlay=r,this._injector=a,this.sanitizer=d,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}show(e,r,a={},d=""){return this._preBuildNotification(d,e,r,this.applyConfig(a))}success(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(a))}error(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(a))}info(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(a))}warning(e,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(a))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(e="",r="",a,d){const{includeTitleDuplicates:h}=this.toastrConfig;for(const m of this.toasts){const S=h&&m.title===e;if((!h||S)&&m.message===r)return m.toastRef.onDuplicate(a,d),m}return null}applyConfig(e={}){return Object.assign(Object.assign({},this.toastrConfig),e)}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,a,d){return d.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,a,d)):this._buildNotification(e,r,a,d)}_buildNotification(e,r,a,d){if(!d.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(a,r,this.toastrConfig.resetTimeoutOnDuplicate&&d.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||r)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const S=this.overlay.create(d.positionClass,this.overlayContainer);this.index=this.index+1;let k=r;r&&d.enableHtml&&(k=this.sanitizer.sanitize(fi.HTML,r));const N=new Qz(S),H=new mb(this.index,d,k,a,e,N),q=new Zz(H,this._injector),ne=new qz(d.toastComponent,q),fe=S.attach(ne,this.toastrConfig.newestOnTop);N.componentInstance=fe.instance;const ye={toastId:this.index,title:a||"",message:r||"",toastRef:N,onShown:N.afterActivate(),onHidden:N.afterClosed(),onTap:H.onTap(),onAction:H.onAction(),portal:fe};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ye.toastRef.activate()})),this.toasts.push(ye),ye}}return t.\u0275fac=function(e){return new(e||t)(Qe(xM),Qe(n5),Qe(gi),Qe(oI),Qe($n))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),i5=(()=>{class t{constructor(e,r,a){this.toastrService=e,this.toastPackage=r,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return t.\u0275fac=function(e){return new(e||t)(Se(F1),Se(mb),Se($n))},t.\u0275cmp=tn({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,r){1&e&&tt("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(nE("@flyInOut",r.state),He(r.toastClasses),Ce("display",r.displayStyle))},attrs:bM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(he(0,Lz,3,0,"button",0),he(1,Bz,3,5,"div",1),he(2,Vz,1,3,"div",2),he(3,Hz,2,4,"div",3),he(4,jz,2,2,"div",4)),2&e&&(te("ngIf",r.options.closeButton),W(1),te("ngIf",r.title),W(1),te("ngIf",r.message&&r.options.enableHtml),W(1),te("ngIf",r.message&&!r.options.enableHtml),W(1),te("ngIf",r.options.progressBar))},directives:[Oi],encapsulation:2,data:{animation:[I1("flyInOut",[M1("inactive",ma({opacity:0})),M1("active",ma({opacity:1})),M1("removed",ma({opacity:0})),F_("inactive => active",N_("{{ easeTime }}ms {{ easing }}")),F_("active => removed",N_("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const r5=Object.assign(Object.assign({},wM),{toastComponent:i5});let o5=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:xM,useValue:{default:r5,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),s5=(()=>{class t{constructor(e,r,a){this.toastrService=e,this.toastPackage=r,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(Se(F1),Se(mb),Se(pu))},t.\u0275cmp=tn({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,r){1&e&&tt("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&e&&(He(r.toastClasses),Ce("display",r.displayStyle))},attrs:bM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,r){1&e&&(he(0,$z,3,0,"button",0),he(1,Uz,3,5,"div",1),he(2,zz,1,3,"div",2),he(3,Yz,2,4,"div",3),he(4,Kz,2,2,"div",4)),2&e&&(te("ngIf",r.options.closeButton),W(1),te("ngIf",r.title),W(1),te("ngIf",r.message&&r.options.enableHtml),W(1),te("ngIf",r.message&&!r.options.enableHtml),W(1),te("ngIf",r.options.progressBar))},directives:[Oi],encapsulation:2}),t})();Object.assign(Object.assign({},wM),{toastComponent:s5});let SM=(()=>{class t{constructor(e,r,a){this.tokenService=e,this.toastr=r,this.router=a,this.title="iman-desktop-app"}isExpiredToken(e){const r=JSON.parse(atob(e.split(".")[1])).exp;return Math.floor((new Date).getTime()/1e3)>=r}ngOnInit(){const e=this.tokenService.getToken();null==e?this.router.navigate(["/login"]):e&&this.isExpiredToken(e)?(this.tokenService.logOut(),this.toastr.error("Expired session"),this.reload()):["","/","/app","/app/"].includes(this.router.url)&&this.router.navigate(["/app/effort"]),Nz.init({offset:30,duration:1500})}reload(){window.location.reload()}}return t.\u0275fac=function(e){return new(e||t)(Se(Ls),Se(F1),Se(Oo))},t.\u0275cmp=tn({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&Ee(0,"router-outlet")},directives:[lb],styles:[""]}),t})(),TM=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(Se(Ao),Se(Vn))},t.\u0275dir=gt({type:t}),t})(),Jd=(()=>{class t extends TM{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,features:[Bn]}),t})();const Gs=new Kt("NgValueAccessor"),c5={provide:Gs,useExisting:zn(()=>_a),multi:!0},d5=new Kt("CompositionEventMode");let _a=(()=>{class t extends TM{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function u5(){const t=Va()?Va().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(Se(Ao),Se(Vn),Se(d5,8))},t.\u0275dir=gt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&tt("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[ei([c5]),Bn]}),t})();function _u(t){return null==t||0===t.length}function DM(t){return null!=t&&"number"==typeof t.length}const uo=new Kt("NgValidators"),vu=new Kt("NgAsyncValidators"),h5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nn{static min(n){return AM(n)}static max(n){return function RM(t){return n=>{if(_u(n.value)||_u(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function OM(t){return _u(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function kM(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return PM(n)}static minLength(n){return IM(n)}static maxLength(n){return MM(n)}static pattern(n){return NM(n)}static nullValidator(n){return null}static compose(n){return HM(n)}static composeAsync(n){return jM(n)}}function AM(t){return n=>{if(_u(n.value)||_u(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function PM(t){return _u(t.value)||h5.test(t.value)?null:{email:!0}}function IM(t){return n=>_u(n.value)||!DM(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function MM(t){return n=>DM(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function NM(t){if(!t)return _b;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(_u(r.value))return null;const a=r.value;return n.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}function _b(t){return null}function FM(t){return null!=t}function LM(t){const n=$d(t)?Zi(t):t;return Jp(n),n}function GM(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function BM(t,n){return n.map(e=>e(t))}function VM(t){return t.map(n=>function p5(t){return!t.validate}(n)?n:e=>n.validate(e))}function HM(t){if(!t)return null;const n=t.filter(FM);return 0==n.length?null:function(e){return GM(BM(e,n))}}function L1(t){return null!=t?HM(VM(t)):null}function jM(t){if(!t)return null;const n=t.filter(FM);return 0==n.length?null:function(e){return function a5(...t){const n=fc(t),{args:e,keys:r}=aI(t),a=new Oe(d=>{const{length:h}=e;if(!h)return void d.complete();const m=new Array(h);let S=h,k=h;for(let N=0;N<h;N++){let H=!1;yr(e[N]).subscribe(It(d,q=>{H||(H=!0,k--),m[N]=q},()=>S--,void 0,()=>{(!S||!H)&&(k||d.next(r?lI(r,m):m),d.complete())}))}});return n?a.pipe(c1(n)):a}(BM(e,n).map(LM)).pipe(vt(GM))}}function G1(t){return null!=t?jM(VM(t)):null}function $M(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function WM(t){return t._rawValidators}function UM(t){return t._rawAsyncValidators}function B1(t){return t?Array.isArray(t)?t:[t]:[]}function vb(t,n){return Array.isArray(t)?t.includes(n):t===n}function zM(t,n){const e=B1(n);return B1(t).forEach(a=>{vb(e,a)||e.push(a)}),e}function YM(t,n){return B1(n).filter(e=>!vb(t,e))}class KM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=L1(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=G1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class yu extends KM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ko extends KM{get formDirective(){return null}get path(){return null}}class qM{constructor(n){this._cd=n}is(n){var e,r,a;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[n])}}let Xl=(()=>{class t extends qM{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(Se(yu,2))},t.\u0275dir=gt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Re("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Bn]}),t})(),Ql=(()=>{class t extends qM{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(Se(ko,10))},t.\u0275dir=gt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Re("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Bn]}),t})();function G_(t,n){j1(t,n),n.valueAccessor.writeValue(t.value),function b5(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&QM(t,n)})}(t,n),function x5(t,n){const e=(r,a)=>{n.valueAccessor.writeValue(r),a&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function w5(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&QM(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function C5(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function bb(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),xb(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function wb(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function j1(t,n){const e=WM(t);null!==n.validator?t.setValidators($M(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=UM(t);null!==n.asyncValidator?t.setAsyncValidators($M(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const a=()=>t.updateValueAndValidity();wb(n._rawValidators,a),wb(n._rawAsyncValidators,a)}function xb(t,n){let e=!1;if(null!==t){if(null!==n.validator){const a=WM(t);if(Array.isArray(a)&&a.length>0){const d=a.filter(h=>h!==n.validator);d.length!==a.length&&(e=!0,t.setValidators(d))}}if(null!==n.asyncValidator){const a=UM(t);if(Array.isArray(a)&&a.length>0){const d=a.filter(h=>h!==n.asyncValidator);d.length!==a.length&&(e=!0,t.setAsyncValidators(d))}}}const r=()=>{};return wb(n._rawValidators,r),wb(n._rawAsyncValidators,r),e}function QM(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function U1(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const B_="VALID",Sb="INVALID",bf="PENDING",V_="DISABLED";function Y1(t){return(Tb(t)?t.validators:t)||null}function tN(t){return Array.isArray(t)?L1(t):t||null}function K1(t,n){return(Tb(n)?n.asyncValidators:t)||null}function nN(t){return Array.isArray(t)?G1(t):t||null}function Tb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const q1=t=>t instanceof Q1,Eb=t=>t instanceof Db,iN=t=>t instanceof aN;function rN(t){return q1(t)?t.value:t.getRawValue()}function oN(t,n){const e=Eb(t),r=t.controls;if(!(e?Object.keys(r):r).length)throw new Lt(1e3,"");if(!r[n])throw new Lt(1001,"")}function sN(t,n){Eb(t),t._forEachChild((r,a)=>{if(void 0===n[a])throw new Lt(1002,"")})}class X1{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=tN(this._rawValidators),this._composedAsyncValidatorFn=nN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===B_}get invalid(){return this.status===Sb}get pending(){return this.status==bf}get disabled(){return this.status===V_}get enabled(){return this.status!==V_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=tN(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=nN(n)}addValidators(n){this.setValidators(zM(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(zM(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(YM(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(YM(n,this._rawAsyncValidators))}hasValidator(n){return vb(this._rawValidators,n)}hasAsyncValidator(n){return vb(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=bf,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=V_,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=B_,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B_||this.status===bf)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?V_:B_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=bf,this._hasOwnPendingAsyncValidator=!0;const e=LM(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function D5(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let r=t;return n.forEach(a=>{r=Eb(r)?r.controls.hasOwnProperty(a)?r.controls[a]:null:iN(r)&&r.at(a)||null}),r}(this,n,".")}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?V_:this.errors?Sb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bf)?bf:this._anyControlsHaveStatus(Sb)?Sb:B_}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Tb(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Q1 extends X1{constructor(n=null,e,r){super(Y1(e),K1(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tb(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){U1(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){U1(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Db extends X1{constructor(n,e,r){super(Y1(e),K1(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){sN(this,n),Object.keys(n).forEach(r=>{oN(this,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,a)=>{r.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=rN(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&n(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,r)=>((e.enabled||this.disabled)&&(n[r]=e.value),n))}_reduceChildren(n,e){let r=n;return this._forEachChild((a,d)=>{r=e(r,a,d)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class aN extends X1{constructor(n,e,r){super(Y1(e),K1(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){sN(this,n),n.forEach((r,a)=>{oN(this,a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,a)=>{r.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>rN(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let Zl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=gt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const k5={provide:Gs,useExisting:zn(()=>j_),multi:!0};let j_=(()=>{class t extends Jd{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&tt("input",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},features:[ei([k5]),Bn]}),t})(),hN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})();const J1=new Kt("NgModelWithFormControlWarning"),F5={provide:ko,useExisting:zn(()=>va)};let va=(()=>{class t extends ko{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return G_(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){bb(e.control||null,e,!1),U1(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function eN(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,a=this.form.get(e.path);r!==a&&(bb(r||null,e),q1(a)&&(G_(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function ZM(t,n){j1(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function S5(t,n){return xb(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){j1(this.form,this),this._oldForm&&xb(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(Se(uo,10),Se(vu,10))},t.\u0275dir=gt({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&tt("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ei([F5]),Bn,Wn]}),t})();const B5={provide:yu,useExisting:zn(()=>Wa)};let Wa=(()=>{class t extends yu{constructor(e,r,a,d,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function W1(t,n){if(!n)return null;let e,r,a;return Array.isArray(n),n.forEach(d=>{d.constructor===_a?e=d:function E5(t){return Object.getPrototypeOf(t.constructor)===Jd}(d)?r=d:a=d}),a||r||e||null}(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function $1(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Cb(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(Se(ko,13),Se(uo,10),Se(vu,10),Se(Gs,10),Se(J1,8))},t.\u0275dir=gt({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ei([B5]),Bn,Wn]}),t})();const V5={provide:Gs,useExisting:zn(()=>Jl),multi:!0};function _N(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let Jl=(()=>{class t extends Jd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const a=_N(this._getOptionId(e),e);this.setProperty("value",a)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function H5(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&tt("change",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ei([V5]),Bn]}),t})(),Ua=(()=>{class t{constructor(e,r,a){this._element=e,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_N(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se(Ao),Se(Jl,9))},t.\u0275dir=gt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const j5={provide:Gs,useExisting:zn(()=>nD),multi:!0};function vN(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let nD=(()=>{class t extends Jd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const a=e.map(d=>this._getOptionId(d));r=(d,h)=>{d._setSelected(a.indexOf(h.toString())>-1)}}else r=(a,d)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const a=[],d=r.selectedOptions;if(void 0!==d){const h=d;for(let m=0;m<h.length;m++){const k=this._getOptionValue(h[m].value);a.push(k)}}else{const h=r.options;for(let m=0;m<h.length;m++){const S=h[m];if(S.selected){const k=this._getOptionValue(S.value);a.push(k)}}}this.value=a,e(a)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function $5(t){return t.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&tt("change",function(d){return r.onChange(d.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ei([j5]),Bn]}),t})(),za=(()=>{class t{constructor(e,r,a){this._element=e,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(vN(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(vN(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se(Ao),Se(nD,9))},t.\u0275dir=gt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function yN(t){return"number"==typeof t?t:parseInt(t,10)}let eh=(()=>{class t{constructor(){this._validator=_b}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_b,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=gt({type:t,features:[Wn]}),t})();const z5={provide:uo,useExisting:zn(()=>$_),multi:!0};let $_=(()=>{class t extends eh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function CN(t){return"number"==typeof t?t:parseFloat(t)}(e),this.createValidator=e=>AM(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Ut("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[ei([z5]),Bn]}),t})();const q5={provide:uo,useExisting:zn(()=>Ab),multi:!0};let Ab=(()=>{class t extends eh{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=e=>""===e||!0===e||"true"===e,this.createValidator=e=>PM}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[ei([q5]),Bn]}),t})();const X5={provide:uo,useExisting:zn(()=>Cu),multi:!0};let Cu=(()=>{class t extends eh{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>yN(e),this.createValidator=e=>IM(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Ut("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[ei([X5]),Bn]}),t})();const Q5={provide:uo,useExisting:zn(()=>Ya),multi:!0};let Ya=(()=>{class t extends eh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>yN(e),this.createValidator=e=>MM(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Ut("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ei([Q5]),Bn]}),t})();const Z5={provide:uo,useExisting:zn(()=>Rb),multi:!0};let Rb=(()=>{class t extends eh{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>NM(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275dir=gt({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Ut("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[ei([Z5]),Bn]}),t})(),xN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[hN]]}),t})(),SN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[xN]}),t})(),TN=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:J1,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[xN]}),t})(),Ka=(()=>{class t{group(e,r=null){const a=this._reduceControls(e);let m,d=null,h=null;return null!=r&&(function J5(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(r)?(d=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(d=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new Db(a,{asyncValidators:h,updateOn:m,validators:d})}control(e,r,a){return new Q1(e,r,a)}array(e,r,a){const d=e.map(h=>this._createControl(h));return new aN(d,r,a)}_reduceControls(e){const r={};return Object.keys(e).forEach(a=>{r[a]=this._createControl(e[a])}),r}_createControl(e){return q1(e)||Eb(e)||iN(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:TN}),t})();class EN{constructor(n,e){this.username=n,this.password=e}}class e4{constructor(n,e,r,a,d,h,m){this.username=n,this.password=e,this.name=r,this.lastName=a,this.email=d,this.country=h,this.sector=m}}const fs_backendEndpoint="https://iman-back.herokuapp.com";class DN{}class AN{}class ec{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),d=a.toLowerCase(),h=e.slice(r+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(h):this.headers.set(d,[h])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof ec?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new ec;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ec?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const a=("a"===n.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const d=n.value;if(d){let h=this.headers.get(e);if(!h)return;h=h.filter(m=>-1===d.indexOf(m)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class t4{encodeKey(n){return RN(n)}encodeValue(n){return RN(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const i4=/%(\d[a-f0-9])/gi,r4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function RN(t){return encodeURIComponent(t).replace(i4,(n,e)=>{var r;return null!==(r=r4[e])&&void 0!==r?r:n})}function ON(t){return`${t}`}class tc{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new t4,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function n4(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[h,m]=-1==d?[n.decodeKey(a),""]:[n.decodeKey(a.slice(0,d)),n.decodeValue(a.slice(d+1))],S=e.get(h)||[];S.push(m),e.set(h,S)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const a=n[r];Array.isArray(a)?a.forEach(d=>{e.push({param:r,value:d,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new tc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(ON(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const a=r.indexOf(ON(n.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class o4{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function kN(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function PN(t){return"undefined"!=typeof Blob&&t instanceof Blob}function IN(t){return"undefined"!=typeof FormData&&t instanceof FormData}class W_{constructor(n,e,r,a){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function s4(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,d=a):d=r,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new ec),this.context||(this.context=new o4),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+h}}else this.params=new tc,this.urlWithParams=e}serializeBody(){return null===this.body?null:kN(this.body)||PN(this.body)||IN(this.body)||function a4(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof tc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IN(this.body)?null:PN(this.body)?this.body.type||null:kN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const r=n.method||this.method,a=n.url||this.url,d=n.responseType||this.responseType,h=void 0!==n.body?n.body:this.body,m=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,S=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let k=n.headers||this.headers,N=n.params||this.params;const H=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(k=Object.keys(n.setHeaders).reduce((q,ne)=>q.set(ne,n.setHeaders[ne]),k)),n.setParams&&(N=Object.keys(n.setParams).reduce((q,ne)=>q.set(ne,n.setParams[ne]),N)),new W_(r,a,h,{params:N,headers:k,context:H,reportProgress:S,responseType:d,withCredentials:m})}}var vr=(()=>((vr=vr||{})[vr.Sent=0]="Sent",vr[vr.UploadProgress=1]="UploadProgress",vr[vr.ResponseHeader=2]="ResponseHeader",vr[vr.DownloadProgress=3]="DownloadProgress",vr[vr.Response=4]="Response",vr[vr.User=5]="User",vr))();class rD{constructor(n,e=200,r="OK"){this.headers=n.headers||new ec,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class oD extends rD{constructor(n={}){super(n),this.type=vr.ResponseHeader}clone(n={}){return new oD({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Ob extends rD{constructor(n={}){super(n),this.type=vr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Ob({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class MN extends rD{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function sD(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let nc=(()=>{class t{constructor(e){this.handler=e}request(e,r,a={}){let d;if(e instanceof W_)d=e;else{let S,k;S=a.headers instanceof ec?a.headers:new ec(a.headers),a.params&&(k=a.params instanceof tc?a.params:new tc({fromObject:a.params})),d=new W_(e,r,void 0!==a.body?a.body:null,{headers:S,context:a.context,params:k,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=_n(d).pipe(gf(S=>this.handler.handle(S)));if(e instanceof W_||"events"===a.observe)return h;const m=h.pipe(Ar(S=>S instanceof Ob));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return m.pipe(vt(S=>{if(null!==S.body&&!(S.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return S.body}));case"blob":return m.pipe(vt(S=>{if(null!==S.body&&!(S.body instanceof Blob))throw new Error("Response is not a Blob.");return S.body}));case"text":return m.pipe(vt(S=>{if(null!==S.body&&"string"!=typeof S.body)throw new Error("Response is not a string.");return S.body}));default:return m.pipe(vt(S=>S.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new tc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,sD(a,r))}post(e,r,a={}){return this.request("POST",e,sD(a,r))}put(e,r,a={}){return this.request("PUT",e,sD(a,r))}}return t.\u0275fac=function(e){return new(e||t)(Qe(DN))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class NN{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const aD=new Kt("HTTP_INTERCEPTORS");let l4=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const c4=/^\)\]\}',?\n/;let FN=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Oe(r=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((ne,fe)=>a.setRequestHeader(ne,fe.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ne=e.detectContentTypeHeader();null!==ne&&a.setRequestHeader("Content-Type",ne)}if(e.responseType){const ne=e.responseType.toLowerCase();a.responseType="json"!==ne?ne:"text"}const d=e.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const ne=a.statusText||"OK",fe=new ec(a.getAllResponseHeaders()),ye=function u4(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return h=new oD({headers:fe,status:a.status,statusText:ne,url:ye}),h},S=()=>{let{headers:ne,status:fe,statusText:ye,url:me}=m(),De=null;204!==fe&&(De=void 0===a.response?a.responseText:a.response),0===fe&&(fe=De?200:0);let Te=fe>=200&&fe<300;if("json"===e.responseType&&"string"==typeof De){const Fe=De;De=De.replace(c4,"");try{De=""!==De?JSON.parse(De):null}catch(Ve){De=Fe,Te&&(Te=!1,De={error:Ve,text:De})}}Te?(r.next(new Ob({body:De,headers:ne,status:fe,statusText:ye,url:me||void 0})),r.complete()):r.error(new MN({error:De,headers:ne,status:fe,statusText:ye,url:me||void 0}))},k=ne=>{const{url:fe}=m(),ye=new MN({error:ne,status:a.status||0,statusText:a.statusText||"Unknown Error",url:fe||void 0});r.error(ye)};let N=!1;const H=ne=>{N||(r.next(m()),N=!0);let fe={type:vr.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(fe.total=ne.total),"text"===e.responseType&&!!a.responseText&&(fe.partialText=a.responseText),r.next(fe)},q=ne=>{let fe={type:vr.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(fe.total=ne.total),r.next(fe)};return a.addEventListener("load",S),a.addEventListener("error",k),a.addEventListener("timeout",k),a.addEventListener("abort",k),e.reportProgress&&(a.addEventListener("progress",H),null!==d&&a.upload&&a.upload.addEventListener("progress",q)),a.send(d),r.next({type:vr.Sent}),()=>{a.removeEventListener("error",k),a.removeEventListener("abort",k),a.removeEventListener("load",S),a.removeEventListener("timeout",k),e.reportProgress&&(a.removeEventListener("progress",H),null!==d&&a.upload&&a.upload.removeEventListener("progress",q)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Qe(UP))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const lD=new Kt("XSRF_COOKIE_NAME"),cD=new Kt("XSRF_HEADER_NAME");class LN{}let d4=(()=>{class t{constructor(e,r,a){this.doc=e,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=GP(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri),Qe(ha),Qe(lD))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),uD=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return r.handle(e);const d=this.tokenService.getToken();return null!==d&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,d)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(LN),Qe(cD))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),h4=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(aD,[]);this.chain=r.reduceRight((a,d)=>new NN(a,d),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(AN),Qe(gi))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),p4=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:uD,useClass:l4}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:lD,useValue:e.cookieName}:[],e.headerName?{provide:cD,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({providers:[uD,{provide:aD,useExisting:uD,multi:!0},{provide:LN,useClass:d4},{provide:lD,useValue:"XSRF-TOKEN"},{provide:cD,useValue:"X-XSRF-TOKEN"}]}),t})(),f4=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({providers:[nc,{provide:DN,useClass:h4},FN,{provide:AN,useExisting:FN}],imports:[[p4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),g4=(()=>{class t{constructor(e){this.httpClient=e,this.authUrl=fs_backendEndpoint}register(e){return this.httpClient.post(this.authUrl+"/register",e)}login(e){return this.httpClient.post(this.authUrl+"/login",e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(nc))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GN=(()=>{class t{getAllCountriesOnlyNames(){return["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas (the)","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory (the)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands (the)","Central African Republic (the)","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands (the)","Colombia","Comoros (the)","Congo (the Democratic Republic of the)","Congo (the)","Cook Islands (the)","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia","C\xf4te d'Ivoire","Denmark","Djibouti","Dominica","Dominican Republic (the)","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands (the) [Malvinas]","Faroe Islands (the)","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories (the)","Gabon","Gambia (the)","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (the)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea (the Democratic People's Republic of)","Korea (the Republic of)","Kuwait","Kyrgyzstan","Lao People's Democratic Republic (the)","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands (the)","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (the Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands (the)","New Caledonia","New Zealand","Nicaragua","Niger (the)","Nigeria","Niue","Norfolk Island","Northern Mariana Islands (the)","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines (the)","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of North Macedonia","Romania","Russian Federation (the)","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan (the)","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands (the)","Tuvalu","Uganda","Ukraine","United Arab Emirates (the)","United Kingdom of Great Britain and Northern Ireland (the)","United States Minor Outlying Islands (the)","United States of America (the)","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Virgin Islands (British)","Virgin Islands (U.S.)","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land Islands"]}getAllCountriesByISO3166(){return{AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas (the)",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia (Plurinational State of)",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory (the)",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cabo Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",KY:"Cayman Islands (the)",CF:"Central African Republic (the)",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands (the)",CO:"Colombia",KM:"Comoros (the)",CD:"Congo (the Democratic Republic of the)",CG:"Congo (the)",CK:"Cook Islands (the)",CR:"Costa Rica",HR:"Croatia",CU:"Cuba",CW:"Cura\xe7ao",CY:"Cyprus",CZ:"Czechia",CI:"C\xf4te d'Ivoire",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic (the)",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FK:"Falkland Islands (the) [Malvinas]",FO:"Faroe Islands (the)",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories (the)",GA:"Gabon",GM:"Gambia (the)",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (the)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran (Islamic Republic of)",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea (the Democratic People's Republic of)",KR:"Korea (the Republic of)",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic (the)",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands (the)",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia (Federated States of)",MD:"Moldova (the Republic of)",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands (the)",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger (the)",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands (the)",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines (the)",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",MK:"Republic of North Macedonia",RO:"Romania",RU:"Russian Federation (the)",RW:"Rwanda",RE:"R\xe9union",BL:"Saint Barth\xe9lemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan (the)",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands (the)",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates (the)",GB:"United Kingdom of Great Britain and Northern Ireland (the)",UM:"United States Minor Outlying Islands (the)",US:"United States of America (the)",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela (Bolivarian Republic of)",VN:"Viet Nam",VG:"Virgin Islands (British)",VI:"Virgin Islands (U.S.)",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe",AX:"\xc5land Islands"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m4=["addListener","removeListener"],_4=["addEventListener","removeEventListener"],v4=["on","off"];function Zr(t,n,e,r){if(R(e)&&(r=e,e=void 0),r)return Zr(t,n,e).pipe(c1(r));const[a,d]=function b4(t){return R(t.addEventListener)&&R(t.removeEventListener)}(t)?_4.map(h=>m=>t[h](n,m,e)):function y4(t){return R(t.addListener)&&R(t.removeListener)}(t)?m4.map(BN(t,n)):function C4(t){return R(t.on)&&R(t.off)}(t)?v4.map(BN(t,n)):[];if(!a&&Qt(t))return En(h=>Zr(h,n,e))(yr(t));if(!a)throw new TypeError("Invalid event target");return new Oe(h=>{const m=(...S)=>h.next(1<S.length?S:S[0]);return a(m),()=>d(m)})}function BN(t,n){return e=>r=>t[e](n,r)}class w4 extends D{constructor(n,e){super()}schedule(n,e=0){return this}}const kb={setInterval(t,n,...e){const{delegate:r}=kb;return(null==r?void 0:r.setInterval)?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=kb;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0};class dD extends w4{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(n,e,r=0){return kb.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;kb.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let a,r=!1;try{this.work(n)}catch(d){r=!0,a=d||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,x(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const VN={now:()=>(VN.delegate||Date).now(),delegate:void 0};class U_{constructor(n,e=U_.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}U_.now=VN.now;class hD extends U_{constructor(n,e=U_.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const z_=new hD(dD),x4=z_;function Y_(t=0,n,e=x4){let r=-1;return null!=n&&(il(n)?e=n:r=n),new Oe(a=>{let d=function S4(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;d<0&&(d=0);let h=0;return e.schedule(function(){a.closed||(a.next(h++),0<=r?this.schedule(void 0,r):a.complete())},d)})}const{isArray:T4}=Array;function HN(t){return 1===t.length&&T4(t[0])?t[0]:t}function jN(...t){return 1===(t=HN(t)).length?yr(t[0]):new Oe(function E4(t){return n=>{let e=[];for(let r=0;e&&!n.closed&&r<t.length;r++)e.push(yr(t[r]).subscribe(It(n,a=>{if(e){for(let d=0;d<e.length;d++)d!==r&&e[d].unsubscribe();e=null}n.next(a)})))}}(t))}function Pb(...t){const n=fc(t),e=HN(t);return e.length?new Oe(r=>{let a=e.map(()=>[]),d=e.map(()=>!1);r.add(()=>{a=d=null});for(let h=0;!r.closed&&h<e.length;h++)yr(e[h]).subscribe(It(r,m=>{if(a[h].push(m),a.every(S=>S.length)){const S=a.map(k=>k.shift());r.next(n?n(...S):S),a.some((k,N)=>!k.length&&d[N])&&r.complete()}},()=>{d[h]=!0,!a[h].length&&r.complete()}));return()=>{a=d=null}}):Mo}function Xi(t){return ke((n,e)=>{yr(t).subscribe(It(e,()=>e.complete(),b)),!e.closed&&n.subscribe(e)})}function fD(...t){const n=fc(t);return ke((e,r)=>{const a=t.length,d=new Array(a);let h=t.map(()=>!1),m=!1;for(let S=0;S<a;S++)yr(t[S]).subscribe(It(r,k=>{d[S]=k,!m&&!h[S]&&(h[S]=!0,(m=h.every(we))&&(h=null))},b));e.subscribe(It(r,S=>{if(m){const k=[S,...d];r.next(n?n(...k):k)}}))})}function WN(t,n){return n?e=>x_(n.pipe(Ji(1),function R4(){return ke((t,n)=>{t.subscribe(It(n,b))})}()),e.pipe(WN(t))):En((e,r)=>t(e,r).pipe(Ji(1),function O4(t){return vt(()=>t)}(e)))}function UN(t,n=z_){const e=Y_(t,n);return WN(()=>e)}new Oe(b);var P4={left:"right",right:"left",bottom:"top",top:"bottom"};function Ib(t){return t.replace(/left|right|bottom|top/g,function(n){return P4[n]})}function qa(t){return t.split("-")[0]}var I4={start:"end",end:"start"};function zN(t){return t.replace(/start|end/g,function(n){return I4[n]})}var gs="top",ya="bottom",Ca="right",ms="left",gD="auto",K_=[gs,ya,Ca,ms],wf="start",q_="end",YN="viewport",X_="popper",KN=K_.reduce(function(t,n){return t.concat([n+"-"+wf,n+"-"+q_])},[]),qN=[].concat(K_,[gD]).reduce(function(t,n){return t.concat([n,n+"-"+wf,n+"-"+q_])},[]),U4=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ba(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function xf(t){return t instanceof ba(t).Element||t instanceof Element}function Bs(t){return t instanceof ba(t).HTMLElement||t instanceof HTMLElement}function mD(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ba(t).ShadowRoot||t instanceof ShadowRoot)}function bu(t){return((xf(t)?t.ownerDocument:t.document)||window.document).documentElement}var th=Math.max,Mb=Math.min,Sf=Math.round;function Tf(t,n){void 0===n&&(n=!1);var e=t.getBoundingClientRect(),r=1,a=1;if(Bs(t)&&n){var d=t.offsetHeight,h=t.offsetWidth;h>0&&(r=Sf(e.width)/h||1),d>0&&(a=Sf(e.height)/d||1)}return{width:e.width/r,height:e.height/a,top:e.top/a,right:e.right/r,bottom:e.bottom/a,left:e.left/r,x:e.left/r,y:e.top/a}}function _D(t){var n=ba(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function vD(t){return Tf(bu(t)).left+_D(t).scrollLeft}function ic(t){return ba(t).getComputedStyle(t)}function Xa(t){return t?(t.nodeName||"").toLowerCase():null}function Nb(t){return"html"===Xa(t)?t:t.assignedSlot||t.parentNode||(mD(t)?t.host:null)||bu(t)}function yD(t){var n=ic(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function XN(t){return["html","body","#document"].indexOf(Xa(t))>=0?t.ownerDocument.body:Bs(t)&&yD(t)?t:XN(Nb(t))}function Q_(t,n){var e;void 0===n&&(n=[]);var r=XN(t),a=r===(null==(e=t.ownerDocument)?void 0:e.body),d=ba(r),h=a?[d].concat(d.visualViewport||[],yD(r)?r:[]):r,m=n.concat(h);return a?m:m.concat(Q_(Nb(h)))}function K4(t){return["table","td","th"].indexOf(Xa(t))>=0}function QN(t){return Bs(t)&&"fixed"!==ic(t).position?t.offsetParent:null}function Z_(t){for(var n=ba(t),e=QN(t);e&&K4(e)&&"static"===ic(e).position;)e=QN(e);return e&&("html"===Xa(e)||"body"===Xa(e)&&"static"===ic(e).position)?n:e||function q4(t){var n=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Bs(t)&&"fixed"===ic(t).position)return null;var a=Nb(t);for(mD(a)&&(a=a.host);Bs(a)&&["html","body"].indexOf(Xa(a))<0;){var d=ic(a);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain||-1!==["transform","perspective"].indexOf(d.willChange)||n&&"filter"===d.willChange||n&&d.filter&&"none"!==d.filter)return a;a=a.parentNode}return null}(t)||n}function ZN(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&mD(e)){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function CD(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function JN(t,n){return n===YN?CD(function z4(t){var n=ba(t),e=bu(t),r=n.visualViewport,a=e.clientWidth,d=e.clientHeight,h=0,m=0;return r&&(a=r.width,d=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(h=r.offsetLeft,m=r.offsetTop)),{width:a,height:d,x:h+vD(t),y:m}}(t)):xf(n)?function X4(t){var n=Tf(t);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(n):CD(function Y4(t){var n,e=bu(t),r=_D(t),a=null==(n=t.ownerDocument)?void 0:n.body,d=th(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),h=th(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),m=-r.scrollLeft+vD(t),S=-r.scrollTop;return"rtl"===ic(a||e).direction&&(m+=th(e.clientWidth,a?a.clientWidth:0)-d),{width:d,height:h,x:m,y:S}}(bu(t)))}function Ef(t){return t.split("-")[1]}function bD(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function eF(t){var S,n=t.reference,e=t.element,r=t.placement,a=r?qa(r):null,d=r?Ef(r):null,h=n.x+n.width/2-e.width/2,m=n.y+n.height/2-e.height/2;switch(a){case gs:S={x:h,y:n.y-e.height};break;case ya:S={x:h,y:n.y+n.height};break;case Ca:S={x:n.x+n.width,y:m};break;case ms:S={x:n.x-e.width,y:m};break;default:S={x:n.x,y:n.y}}var k=a?bD(a):null;if(null!=k){var N="y"===k?"height":"width";switch(d){case wf:S[k]=S[k]-(n[N]/2-e[N]/2);break;case q_:S[k]=S[k]+(n[N]/2-e[N]/2)}}return S}function nF(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function iF(t,n){return n.reduce(function(e,r){return e[r]=t,e},{})}function wD(t,n){void 0===n&&(n={});var r=n.placement,a=void 0===r?t.placement:r,d=n.boundary,h=void 0===d?"clippingParents":d,m=n.rootBoundary,S=void 0===m?YN:m,k=n.elementContext,N=void 0===k?X_:k,H=n.altBoundary,q=void 0!==H&&H,ne=n.padding,fe=void 0===ne?0:ne,ye=nF("number"!=typeof fe?fe:iF(fe,K_)),De=t.rects.popper,Te=t.elements[q?N===X_?"reference":X_:N],Fe=function Z4(t,n,e){var r="clippingParents"===n?function Q4(t){var n=Q_(Nb(t)),r=["absolute","fixed"].indexOf(ic(t).position)>=0&&Bs(t)?Z_(t):t;return xf(r)?n.filter(function(a){return xf(a)&&ZN(a,r)&&"body"!==Xa(a)}):[]}(t):[].concat(n),a=[].concat(r,[e]),h=a.reduce(function(m,S){var k=JN(t,S);return m.top=th(k.top,m.top),m.right=Mb(k.right,m.right),m.bottom=Mb(k.bottom,m.bottom),m.left=th(k.left,m.left),m},JN(t,a[0]));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}(xf(Te)?Te:Te.contextElement||bu(t.elements.popper),h,S),Ve=Tf(t.elements.reference),qe=eF({reference:Ve,element:De,strategy:"absolute",placement:a}),Je=CD(Object.assign({},De,qe)),Dt=N===X_?Je:Ve,kt={top:Fe.top-Dt.top+ye.top,bottom:Dt.bottom-Fe.bottom+ye.bottom,left:Fe.left-Dt.left+ye.left,right:Dt.right-Fe.right+ye.right},qt=t.modifiersData.offset;if(N===X_&&qt){var $t=qt[a];Object.keys(kt).forEach(function(yt){var Pt=[Ca,ya].indexOf(yt)>=0?1:-1,Tt=[gs,ya].indexOf(yt)>=0?"y":"x";kt[yt]+=$t[Tt]*Pt})}return kt}const n6={name:"flip",enabled:!0,phase:"main",fn:function t6(t){var n=t.state,e=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var a=e.mainAxis,d=void 0===a||a,h=e.altAxis,m=void 0===h||h,S=e.fallbackPlacements,k=e.padding,N=e.boundary,H=e.rootBoundary,q=e.altBoundary,ne=e.flipVariations,fe=void 0===ne||ne,ye=e.allowedAutoPlacements,me=n.options.placement,De=qa(me),Fe=S||(De!==me&&fe?function e6(t){if(qa(t)===gD)return[];var n=Ib(t);return[zN(t),n,zN(n)]}(me):[Ib(me)]),Ve=[me].concat(Fe).reduce(function(yn,ir){return yn.concat(qa(ir)===gD?function J4(t,n){void 0===n&&(n={});var a=n.boundary,d=n.rootBoundary,h=n.padding,m=n.flipVariations,S=n.allowedAutoPlacements,k=void 0===S?qN:S,N=Ef(n.placement),H=N?m?KN:KN.filter(function(fe){return Ef(fe)===N}):K_,q=H.filter(function(fe){return k.indexOf(fe)>=0});0===q.length&&(q=H);var ne=q.reduce(function(fe,ye){return fe[ye]=wD(t,{placement:ye,boundary:a,rootBoundary:d,padding:h})[qa(ye)],fe},{});return Object.keys(ne).sort(function(fe,ye){return ne[fe]-ne[ye]})}(n,{placement:ir,boundary:N,rootBoundary:H,padding:k,flipVariations:fe,allowedAutoPlacements:ye}):ir)},[]),qe=n.rects.reference,Je=n.rects.popper,Dt=new Map,kt=!0,qt=Ve[0],$t=0;$t<Ve.length;$t++){var yt=Ve[$t],Pt=qa(yt),Tt=Ef(yt)===wf,vn=[gs,ya].indexOf(Pt)>=0,Zn=vn?"width":"height",ct=wD(n,{placement:yt,boundary:N,rootBoundary:H,altBoundary:q,padding:k}),mt=vn?Tt?Ca:ms:Tt?ya:gs;qe[Zn]>Je[Zn]&&(mt=Ib(mt));var Gt=Ib(mt),Ft=[];if(d&&Ft.push(ct[Pt]<=0),m&&Ft.push(ct[mt]<=0,ct[Gt]<=0),Ft.every(function(yn){return yn})){qt=yt,kt=!1;break}Dt.set(yt,Ft)}if(kt)for(var Ln=function(ir){var Vr=Ve.find(function(Gn){var $i=Dt.get(Gn);if($i)return $i.slice(0,ir).every(function(Rt){return Rt})});if(Vr)return qt=Vr,"break"},Dn=fe?3:1;Dn>0&&"break"!==Ln(Dn);Dn--);n.placement!==qt&&(n.modifiersData[r]._skip=!0,n.placement=qt,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function J_(t,n,e){return th(t,Mb(n,e))}function xD(t){var n=Tf(t),e=t.offsetWidth,r=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-r)<=1&&(r=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:r}}const s6={name:"preventOverflow",enabled:!0,phase:"main",fn:function o6(t){var n=t.state,e=t.options,r=t.name,a=e.mainAxis,d=void 0===a||a,h=e.altAxis,m=void 0!==h&&h,q=e.tether,ne=void 0===q||q,fe=e.tetherOffset,ye=void 0===fe?0:fe,me=wD(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),De=qa(n.placement),Te=Ef(n.placement),Fe=!Te,Ve=bD(De),qe=function i6(t){return"x"===t?"y":"x"}(Ve),Je=n.modifiersData.popperOffsets,Dt=n.rects.reference,kt=n.rects.popper,qt="function"==typeof ye?ye(Object.assign({},n.rects,{placement:n.placement})):ye,$t="number"==typeof qt?{mainAxis:qt,altAxis:qt}:Object.assign({mainAxis:0,altAxis:0},qt),yt=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Pt={x:0,y:0};if(Je){if(d){var Tt,vn="y"===Ve?gs:ms,Zn="y"===Ve?ya:Ca,ct="y"===Ve?"height":"width",mt=Je[Ve],Gt=mt+me[vn],Ft=mt-me[Zn],gn=ne?-kt[ct]/2:0,Ln=Te===wf?Dt[ct]:kt[ct],Dn=Te===wf?-kt[ct]:-Dt[ct],Qi=n.elements.arrow,yn=ne&&Qi?xD(Qi):{width:0,height:0},ir=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Vr=ir[vn],Gn=ir[Zn],$i=J_(0,Dt[ct],yn[ct]),Rt=Fe?Dt[ct]/2-gn-$i-Vr-$t.mainAxis:Ln-$i-Vr-$t.mainAxis,rn=Fe?-Dt[ct]/2+gn+$i+Gn+$t.mainAxis:Dn+$i+Gn+$t.mainAxis,On=n.elements.arrow&&Z_(n.elements.arrow),Li=null!=(Tt=null==yt?void 0:yt[Ve])?Tt:0,Jr=mt+rn-Li,Hr=J_(ne?Mb(Gt,mt+Rt-Li-(On?"y"===Ve?On.clientTop||0:On.clientLeft||0:0)):Gt,mt,ne?th(Ft,Jr):Ft);Je[Ve]=Hr,Pt[Ve]=Hr-mt}if(m){var Cn,go=Je[qe],Yw="y"===qe?"height":"width",eV=go+me["x"===Ve?gs:ms],tV=go-me["x"===Ve?ya:Ca],ER=-1!==[gs,ms].indexOf(De),nV=null!=(Cn=null==yt?void 0:yt[qe])?Cn:0,iV=ER?eV:go-Dt[Yw]-kt[Yw]-nV+$t.altAxis,rV=ER?go+Dt[Yw]+kt[Yw]-nV-$t.altAxis:tV,oV=ne&&ER?function r6(t,n,e){var r=J_(t,n,e);return r>e?e:r}(iV,go,rV):J_(ne?iV:eV,go,ne?rV:tV);Je[qe]=oV,Pt[qe]=oV-go}n.modifiersData[r]=Pt}},requiresIfExists:["offset"]},u6={name:"arrow",enabled:!0,phase:"main",fn:function l6(t){var n,e=t.state,r=t.name,a=t.options,d=e.elements.arrow,h=e.modifiersData.popperOffsets,m=qa(e.placement),S=bD(m),N=[ms,Ca].indexOf(m)>=0?"height":"width";if(d&&h){var H=function(n,e){return nF("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:iF(n,K_))}(a.padding,e),q=xD(d),ne="y"===S?gs:ms,fe="y"===S?ya:Ca,ye=e.rects.reference[N]+e.rects.reference[S]-h[S]-e.rects.popper[N],me=h[S]-e.rects.reference[S],De=Z_(d),Te=De?"y"===S?De.clientHeight||0:De.clientWidth||0:0,Je=Te/2-q[N]/2+(ye/2-me/2),Dt=J_(H[ne],Je,Te-q[N]-H[fe]);e.modifiersData[r]=((n={})[S]=Dt,n.centerOffset=Dt-Je,n)}},effect:function c6(t){var n=t.state,r=t.options.element,a=void 0===r?"[data-popper-arrow]":r;null!=a&&("string"==typeof a&&!(a=n.elements.popper.querySelector(a))||!ZN(n.elements.popper,a)||(n.elements.arrow=a))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function f6(t,n,e){void 0===e&&(e=!1);var r=Bs(n),a=Bs(n)&&function p6(t){var n=t.getBoundingClientRect(),e=Sf(n.width)/t.offsetWidth||1,r=Sf(n.height)/t.offsetHeight||1;return 1!==e||1!==r}(n),d=bu(n),h=Tf(t,a),m={scrollLeft:0,scrollTop:0},S={x:0,y:0};return(r||!r&&!e)&&(("body"!==Xa(n)||yD(d))&&(m=function h6(t){return t!==ba(t)&&Bs(t)?function d6(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):_D(t)}(n)),Bs(n)?((S=Tf(n,!0)).x+=n.clientLeft,S.y+=n.clientTop):d&&(S.x=vD(d))),{x:h.left+m.scrollLeft-S.x,y:h.top+m.scrollTop-S.y,width:h.width,height:h.height}}function g6(t){var n=new Map,e=new Set,r=[];function a(d){e.add(d.name),[].concat(d.requires||[],d.requiresIfExists||[]).forEach(function(m){if(!e.has(m)){var S=n.get(m);S&&a(S)}}),r.push(d)}return t.forEach(function(d){n.set(d.name,d)}),t.forEach(function(d){e.has(d.name)||a(d)}),r}function _6(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var rF={placement:"bottom",modifiers:[],strategy:"absolute"};function oF(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function y6(t){void 0===t&&(t={});var e=t.defaultModifiers,r=void 0===e?[]:e,a=t.defaultOptions,d=void 0===a?rF:a;return function(m,S,k){void 0===k&&(k=d);var N={placement:"bottom",orderedModifiers:[],options:Object.assign({},rF,d),modifiersData:{},elements:{reference:m,popper:S},attributes:{},styles:{}},H=[],q=!1,ne={state:N,setOptions:function(De){var Te="function"==typeof De?De(N.options):De;ye(),N.options=Object.assign({},d,N.options,Te),N.scrollParents={reference:xf(m)?Q_(m):m.contextElement?Q_(m.contextElement):[],popper:Q_(S)};var Fe=function m6(t){var n=g6(t);return U4.reduce(function(e,r){return e.concat(n.filter(function(a){return a.phase===r}))},[])}(function v6(t){var n=t.reduce(function(e,r){var a=e[r.name];return e[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(r,N.options.modifiers)));return N.orderedModifiers=Fe.filter(function(yt){return yt.enabled}),function fe(){N.orderedModifiers.forEach(function(me){var Te=me.options,Ve=me.effect;if("function"==typeof Ve){var qe=Ve({state:N,name:me.name,instance:ne,options:void 0===Te?{}:Te});H.push(qe||function(){})}})}(),ne.update()},forceUpdate:function(){if(!q){var De=N.elements,Te=De.reference,Fe=De.popper;if(oF(Te,Fe)){N.rects={reference:f6(Te,Z_(Fe),"fixed"===N.options.strategy),popper:xD(Fe)},N.reset=!1,N.placement=N.options.placement,N.orderedModifiers.forEach(function(yt){return N.modifiersData[yt.name]=Object.assign({},yt.data)});for(var qe=0;qe<N.orderedModifiers.length;qe++)if(!0!==N.reset){var Je=N.orderedModifiers[qe],Dt=Je.fn,kt=Je.options;"function"==typeof Dt&&(N=Dt({state:N,options:void 0===kt?{}:kt,name:Je.name,instance:ne})||N)}else N.reset=!1,qe=-1}}},update:_6(function(){return new Promise(function(me){ne.forceUpdate(),me(N)})}),destroy:function(){ye(),q=!0}};if(!oF(m,S))return ne;function ye(){H.forEach(function(me){return me()}),H=[]}return ne.setOptions(k).then(function(me){!q&&k.onFirstUpdate&&k.onFirstUpdate(me)}),ne}}var Fb={passive:!0},S6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sF(t){var n,e=t.popper,r=t.popperRect,a=t.placement,d=t.variation,h=t.offsets,m=t.position,S=t.gpuAcceleration,k=t.adaptive,N=t.roundOffsets,H=t.isFixed,q=h.x,ne=void 0===q?0:q,fe=h.y,ye=void 0===fe?0:fe,me="function"==typeof N?N({x:ne,y:ye}):{x:ne,y:ye};ne=me.x,ye=me.y;var De=h.hasOwnProperty("x"),Te=h.hasOwnProperty("y"),Fe=ms,Ve=gs,qe=window;if(k){var Je=Z_(e),Dt="clientHeight",kt="clientWidth";Je===ba(e)&&"static"!==ic(Je=bu(e)).position&&"absolute"===m&&(Dt="scrollHeight",kt="scrollWidth"),Je=Je,(a===gs||(a===ms||a===Ca)&&d===q_)&&(Ve=ya,ye-=(H&&Je===qe&&qe.visualViewport?qe.visualViewport.height:Je[Dt])-r.height,ye*=S?1:-1),a!==ms&&(a!==gs&&a!==ya||d!==q_)||(Fe=Ca,ne-=(H&&Je===qe&&qe.visualViewport?qe.visualViewport.width:Je[kt])-r.width,ne*=S?1:-1)}var Tt,yt=Object.assign({position:m},k&&S6),Pt=!0===N?function T6(t){var e=t.y,a=window.devicePixelRatio||1;return{x:Sf(t.x*a)/a||0,y:Sf(e*a)/a||0}}({x:ne,y:ye}):{x:ne,y:ye};return ne=Pt.x,ye=Pt.y,Object.assign({},yt,S?((Tt={})[Ve]=Te?"0":"",Tt[Fe]=De?"0":"",Tt.transform=(qe.devicePixelRatio||1)<=1?"translate("+ne+"px, "+ye+"px)":"translate3d("+ne+"px, "+ye+"px, 0)",Tt):((n={})[Ve]=Te?ye+"px":"",n[Fe]=De?ne+"px":"",n.transform="",n))}var k6=y6({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function C6(t){var n=t.state,e=t.instance,r=t.options,a=r.scroll,d=void 0===a||a,h=r.resize,m=void 0===h||h,S=ba(n.elements.popper),k=[].concat(n.scrollParents.reference,n.scrollParents.popper);return d&&k.forEach(function(N){N.addEventListener("scroll",e.update,Fb)}),m&&S.addEventListener("resize",e.update,Fb),function(){d&&k.forEach(function(N){N.removeEventListener("scroll",e.update,Fb)}),m&&S.removeEventListener("resize",e.update,Fb)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function w6(t){var n=t.state;n.modifiersData[t.name]=eF({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function E6(t){var n=t.state,e=t.options,r=e.gpuAcceleration,a=void 0===r||r,d=e.adaptive,h=void 0===d||d,m=e.roundOffsets,S=void 0===m||m,N={placement:qa(n.placement),variation:Ef(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,sF(Object.assign({},N,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:h,roundOffsets:S})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,sF(Object.assign({},N,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:S})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function A6(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var r=n.styles[e]||{},a=n.attributes[e]||{},d=n.elements[e];!Bs(d)||!Xa(d)||(Object.assign(d.style,r),Object.keys(a).forEach(function(h){var m=a[h];!1===m?d.removeAttribute(h):d.setAttribute(h,!0===m?"":m)}))})},effect:function R6(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(r){var a=n.elements[r],d=n.attributes[r]||{},m=Object.keys(n.styles.hasOwnProperty(r)?n.styles[r]:e[r]).reduce(function(S,k){return S[k]="",S},{});!Bs(a)||!Xa(a)||(Object.assign(a.style,m),Object.keys(d).forEach(function(S){a.removeAttribute(S)}))})}},requires:["computeStyles"]}]});const aF=["*"],o8=["dialog"];function TD(t){return"string"==typeof t}function nh(t){return null!=t}function Df(t){return(t||document.body).getBoundingClientRect()}const cF={animation:!0,transitionTimerDelayMs:5},J8=()=>{},{transitionTimerDelayMs:e7}=cF,ev=new Map,Po=(t,n,e,r)=>{let a=r.context||{};const d=ev.get(n);if(d)switch(r.runningTransition){case"continue":return Mo;case"stop":t.run(()=>d.transition$.complete()),a=Object.assign(d.context,a),ev.delete(n)}const h=e(n,r.animation,a)||J8;if(!r.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),_n(void 0).pipe(function Q8(t){return n=>new Oe(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const m=new ze,S=new ze,k=m.pipe(function D4(...t){return n=>x_(n,_n(...t))}(!0));ev.set(n,{transition$:m,complete:()=>{S.next(),S.complete()},context:a});const N=function Z8(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const H=Zr(n,"transitionend").pipe(Xi(k),Ar(({target:ne})=>ne===n));jN(Y_(N+e7).pipe(Xi(k)),H,S).pipe(Xi(k)).subscribe(()=>{ev.delete(n),t.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let tv=(()=>{class t{constructor(){this.animation=cF.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),mF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),vF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})(),bF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),wF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})();var Rr=(()=>{return(t=Rr||(Rr={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",Rr;var t})();const Bb=(t,n)=>!!n&&n.some(e=>e.contains(t)),xF=(t,n)=>!n||null!=function X8(t,n){return n&&void 0!==t.closest?t.closest(n):null}(t,n),y7="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const TF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function EF(t){const n=Array.from(t.querySelectorAll(TF)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const w7=/\s+/,x7=/  +/gi,S7=/^start/,T7=/^end/,E7=/-(top|left)$/,D7=/-(bottom|right)$/,R7=/^left/,O7=/^right/,k7=/^start/,P7=/^end/;function DF({placement:t,baseClass:n}){let e=Array.isArray(t)?t:t.split(w7),a=e.findIndex(S=>"auto"===S);a>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(S){null==e.find(k=>-1!==k.search("^"+S))&&e.splice(a++,1,S)});const d=e.map(S=>function A7(t){return t.replace(S7,"left").replace(T7,"right").replace(E7,"-start").replace(D7,"-end")}(S));return{placement:d.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:S}){const k=new RegExp(n+"(-[a-z]+)*","gi"),N=S.elements.popper,H=S.placement;let q=N.className;q=q.replace(k,""),q+=` ${function I7(t,n){let[e,r]=n.split("-");const a=e.replace(R7,"start").replace(O7,"end");let d=[a];if(r){let h=r;("left"===e||"right"===e)&&(h=h.replace(k7,"top").replace(P7,"bottom")),d.push(`${a}-${h}`)}return t&&(d=d.map(h=>`${t}-${h}`)),d.join(" ")}(n,H)}`,q=q.trim().replace(x7," "),N.className=q}},n6,s6,u6,{enabled:!0,name:"flip",options:{fallbackPlacements:d}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function AF(t){return t}new Date(1882,10,12),new Date(2174,10,25);let NF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr,SN]]}),t})(),ID=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=gt({type:t,selectors:[["",8,"navbar"]]}),t})(),GF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})();class sh{constructor(n,e,r){this.nodes=n,this.viewRef=e,this.componentRef=r}}class U7{constructor(n,e,r,a,d,h){this._type=n,this._injector=e,this._viewContainerRef=r,this._renderer=a,this._ngZone=d,this._applicationRef=h,this._windowRef=null,this._contentRef=null}open(n,e,r=!1){this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:a}=this._windowRef.location,d=this._ngZone.onStable.pipe(Ji(1),En(()=>Po(this._ngZone,a,({classList:h})=>h.add("show"),{animation:r,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:d}}close(n=!1){return this._windowRef?Po(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:n,runningTransition:"stop"}).pipe(Xr(()=>{var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):_n(void 0)}_getContentRef(n,e){if(n){if(n instanceof Yi){const r=n.createEmbeddedView(e);return this._applicationRef.attachView(r),new sh([r.rootNodes],r)}return new sh([[this._renderer.createText(`${n}`)]])}return new sh([])}}let z7=(()=>{class t{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Ji(1)).subscribe(()=>{Po(this._zone,this._el.nativeElement,(e,r)=>{r&&Df(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Po(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se($n))},t.\u0275cmp=tn({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(He("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Re("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})();class BF{close(n){}dismiss(n){}}class Y7{constructor(n,e,r,a){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=a,this._closed=new ze,this._dismissed=new ze,this._hidden=new ze,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,h)=>{this._resolve=d,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function lF(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(r=>{!1!==r&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():_n(void 0);n.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Pb(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ov=(()=>{return(t=ov||(ov={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",ov;var t})();let K7=(()=>{class t{constructor(e,r,a){this._document=e,this._elRef=r,this._zone=a,this._closed$=new ze,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ae,this.shown=new ze,this.hidden=new ze}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":TD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ji(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Pb(Po(this._zone,e,()=>e.classList.remove("show"),r),Po(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Pb(Po(this._zone,this._elRef.nativeElement,(d,h)=>{h&&Df(d),d.classList.add("show")},e),Po(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Zr(e,"keydown").pipe(Xi(this._closed$),Ar(a=>a.which===Rr.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(ov.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Zr(this._dialogEl.nativeElement,"mousedown").pipe(Xi(this._closed$),Xr(()=>r=!1),Ha(()=>Zr(e,"mouseup").pipe(Xi(this._closed$),Ji(1))),Ar(({target:a})=>e===a)).subscribe(()=>{r=!0}),Zr(e,"click").pipe(Xi(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(ov.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),a=EF(e)[0];(r||a||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let a;a=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Po(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(Se(ri),Se(Vn),Se($n))},t.\u0275cmp=tn({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&Ki(o8,7),2&e){let a;dn(a=hn())&&(r._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(Ut("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),He("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Re("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:aF,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(lu(),$(0,"div",0,1)(2,"div",2),cu(3),z()()),2&e&&He("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),q7=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,a=r.style,{overflow:d,paddingRight:h}=a;if(e>0){const m=parseFloat(window.getComputedStyle(r).paddingRight);a.paddingRight=`${m+e}px`}return a.overflow="hidden",()=>{e>0&&(a.paddingRight=h),a.overflow=d}}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),X7=(()=>{class t{constructor(e,r,a,d,h,m){this._applicationRef=e,this._injector=r,this._document=a,this._scrollBar=d,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new ze,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Ae,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const S=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const a=Zr(n,"focusin").pipe(Xi(e),vt(d=>d.target));Zr(n,"keydown").pipe(Xi(e),Ar(d=>d.which===Rr.Tab),fD(a)).subscribe(([d,h])=>{const[m,S]=EF(n);(h===m||h===n)&&d.shiftKey&&(S.focus(),d.preventDefault()),h===S&&!d.shiftKey&&(m.focus(),d.preventDefault())}),r&&Zr(n,"click").pipe(Xi(e),fD(a),vt(d=>d[1])).subscribe(d=>d.focus())})})(0,S.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(S.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,a,d){const h=d.container instanceof HTMLElement?d.container:nh(d.container)?this._document.querySelector(d.container):this._document.body,m=this._rendererFactory.createRenderer(null,null);if(!h)throw new Error(`The specified modal container "${d.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const S=new BF,k=this._getContentRef(e,d.injector||r,a,S,d);let N=!1!==d.backdrop?this._attachBackdrop(e,h):void 0,H=this._attachWindowComponent(e,h,k),q=new Y7(H,k,N,d.beforeDismiss);return this._registerModalRef(q),this._registerWindowCmpt(H),q.hidden.pipe(Ji(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),S.close=ne=>{q.close(ne)},S.dismiss=ne=>{q.dismiss(ne)},this._applyWindowOptions(H.instance,d),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),N&&N.instance&&(this._applyBackdropOptions(N.instance,d),N.changeDetectorRef.detectChanges()),H.changeDetectorRef.detectChanges(),q}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let d=e.resolveComponentFactory(z7).create(this._injector);return this._applicationRef.attachView(d.hostView),r.appendChild(d.location.nativeElement),d}_attachWindowComponent(e,r,a){let h=e.resolveComponentFactory(K7).create(this._injector,a.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(e,r){this._windowAttributes.forEach(a=>{nh(r[a])&&(e[a]=r[a])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(a=>{nh(r[a])&&(e[a]=r[a])})}_getContentRef(e,r,a,d,h){return a?a instanceof Yi?this._createFromTemplateRef(a,d):TD(a)?this._createFromString(a):this._createFromComponent(e,r,a,d,h):new sh([])}_createFromTemplateRef(e,r){const d=e.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(d),new sh([d.rootNodes],d)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new sh([[r]])}_createFromComponent(e,r,a,d,h){const m=e.resolveComponentFactory(a),S=gi.create({providers:[{provide:BF,useValue:d}],parent:r}),k=m.create(S),N=k.location.nativeElement;return h.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(k.hostView),new sh([[N]],k.hostView,k)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Qe(pu),Qe(gi),Qe(ri),Qe(q7),Qe(af),Qe($n))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Q7=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Qe(tv))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Z7=(()=>{class t{constructor(e,r,a,d){this._moduleCFR=e,this._injector=r,this._modalStack=a,this._config=d}open(e,r={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Qe(Ba),Qe(gi),Qe(X7),Qe(Q7))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),VF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({providers:[Z7]}),t})(),WF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),ZF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})();class r9{constructor(n,e){this.open=n,this.close=e,e||(this.close=n)}isManual(){return"manual"===this.open||"manual"===this.close}}const o9={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},JF=t=>t>0?UN(t):n=>n;let eL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),tL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),nL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),iL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),rL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),h9=(()=>{class t{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Qe(tv))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p9=0,f9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,r){2&e&&($l("id",r.id),He("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),Re("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:aF,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(e,r){1&e&&(lu(),Ee(0,"div",0),$(1,"div",1),cu(2),z())},encapsulation:2,changeDetection:0}),t})(),oc=(()=>{class t{constructor(e,r,a,d,h,m,S,k,N){this._elementRef=e,this._renderer=r,this._ngZone=m,this._document=S,this._changeDetector=k,this.shown=new Ae,this.hidden=new Ae,this._ngbTooltipWindowId="ngb-tooltip-"+p9++,this._windowRef=null,this._positioning=function RF(){let t=null;return{createPopper(n){if(!t){let r=(n.updatePopperOptions||AF)(DF(n));t=k6(n.hostElement,n.targetElement,r)}},update(){t&&t.update()},setOptions(n){if(t){let r=(n.updatePopperOptions||AF)(DF(n));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}(),this.animation=h.animation,this.autoClose=h.autoClose,this.placement=h.placement,this.triggers=h.triggers,this.container=h.container,this.disableTooltip=h.disableTooltip,this.tooltipClass=h.tooltipClass,this.openDelay=h.openDelay,this.closeDelay=h.closeDelay,this._popupService=new U7(f9,a,d,r,this._ngZone,N)}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:r,transition$:a}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=r,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function SF(t,n,e,r,a,d,h,m){e&&t.runOutsideAngular((t=>y7?()=>setTimeout(()=>t(),100):t)(()=>{const k=Zr(n,"keydown").pipe(Xi(a),Ar(q=>q.which===Rr.Escape),Xr(q=>q.preventDefault())),N=Zr(n,"mousedown").pipe(vt(q=>{const ne=q.target;return 2!==q.button&&!Bb(ne,h)&&("inside"===e?Bb(ne,d)&&xF(ne,m):"outside"===e?!Bb(ne,d):xF(ne,m)||!Bb(ne,d))}),Xi(a)),H=Zr(n,"mouseup").pipe(fD(N),Ar(([q,ne])=>ne),UN(0),Xi(a));jN([k.pipe(vt(q=>0)),H.pipe(vt(q=>1))]).subscribe(q=>t.run(()=>r(q)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),a.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(e).subscribe(()=>{var r;this._windowRef=null,this._positioning.destroy(),null===(r=this._zoneSubscription)||void 0===r||r.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function c9(t,n,e,r,a,d,h=0,m=0){const S=function s9(t,n=o9){const e=(t||"").trim();if(0===e.length)return[];const r=e.split(/\s+/).map(d=>d.split(":")).map(d=>{let h=n[d[0]]||d;return new r9(h[0],h[1])}),a=r.filter(d=>d.isManual());if(a.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===a.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(e);if(1===S.length&&S[0].isManual())return()=>{};const k=function a9(t,n,e,r){return new Oe(a=>{const d=[],h=()=>a.next(!0),m=()=>a.next(!1),S=()=>a.next(!r());return e.forEach(k=>{k.open===k.close?d.push(t.listen(n,k.open,S)):d.push(t.listen(n,k.open,h),t.listen(n,k.close,m))}),()=>{d.forEach(k=>k())}})}(t,n,S,r).pipe(function l9(t,n,e){return r=>{let a=null;const d=r.pipe(vt(S=>({open:S})),Ar(S=>{const k=e();return k===S.open||a&&a.open!==k?(a&&a.open!==S.open&&(a=null),!1):(a=S,!0)}),xe());return Dh(d.pipe(Ar(S=>S.open),JF(t)),d.pipe(Ar(S=>!S.open),JF(n))).pipe(Ar(S=>S===a&&(a=null,S.open!==e())),vt(S=>S.open))}}(h,m,r)).subscribe(N=>N?a():d());return()=>k.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){var e;this.close(!1),null===(e=this._unregisterListenersFn)||void 0===e||e.call(this)}}return t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se(Ao),Se(gi),Se(co),Se(h9),Se($n),Se(ri),Se(Nr),Se(pu))},t.\u0275dir=gt({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[Wn]}),t})(),oL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})();new Kt("live announcer delay",{providedIn:"root",factory:function g9(){return 100}});let sL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})(),aL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})();const m9=[gF,mF,vF,bF,wF,NF,GF,VF,WF,aL,ZF,eL,tL,nL,iL,rL,oL,sL];let _9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[m9,gF,mF,vF,bF,wF,NF,GF,VF,WF,aL,ZF,eL,tL,nL,iL,rL,oL,sL]}),t})();function v9(t,n){1&t&&($(0,"a",30),Ee(1,"em",31),z()),2&t&&te("openDelay",300)}function y9(t,n){1&t&&($(0,"a",32),Ee(1,"em",33),z()),2&t&&te("openDelay",300)}function C9(t,n){1&t&&($(0,"a",34),Ee(1,"em",35),z()),2&t&&te("openDelay",300)}let lL=(()=>{class t{constructor(){if(this.enabledElectron=!1,window.require)try{this.ipc=window.require("electron").ipcRenderer}catch(e){throw e}else console.warn("Could not load electron ipc")}ngOnInit(){this.enabledElectron=false}minimize(){this.ipc.send("minimizeApp")}maximize(){this.ipc.send("maximizeApp")}close(){this.ipc.send("closeApp")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["iMan-navbar"]],decls:50,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","bg-dark-5",2,"padding-top","0px !important","padding-bottom","0px !important"],[1,"container-fluid","d-flex"],["id","title","href","/app",1,"navbar-brand","dark-text","flex-grow-1"],["id","iManNavbar"],[1,"ms-auto","d-flex"],["ngbTooltip","About app","placement","left","data-bs-toggle","modal","data-bs-target","#aboutIman",1,"nav-link",3,"openDelay"],[1,"bi","bi-info-circle"],["id","minimizeBtn",3,"click"],["class","nav-link","ngbTooltip","Minimize","placement","left",3,"openDelay",4,"ngIf"],["id","maximizeBtn",3,"click"],["class","nav-link","ngbTooltip","Maximize","placement","left",3,"openDelay",4,"ngIf"],["id","closeBtn",3,"click"],["class","nav-link","ngbTooltip","Close","placement","left",3,"openDelay",4,"ngIf"],["id","aboutIman","tabindex","-1","aria-labelledby","aboutImanLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-header"],["id","aboutImanLabel",1,"m-auto","fs-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x",2,"font-size","35px !important"],[1,"modal-body"],[1,"overflow-auto","mx-2"],[1,"mb-4","fs-6"],[1,"my-2"],[1,"my-4"],[1,"my-3","fs-6"],[1,"bi","bi-envelope","bi-md","me-3"],[1,"bi","bi-github","bi-md","me-3"],["href","https://github.com/danaremar/iMan","target","_blank"],[1,"my-2","fs-6"],["ngbTooltip","Minimize","placement","left",1,"nav-link",3,"openDelay"],[1,"bi","bi-dash-lg"],["ngbTooltip","Maximize","placement","left",1,"nav-link",3,"openDelay"],[1,"bi","bi-app"],["ngbTooltip","Close","placement","left",1,"nav-link",3,"openDelay"],[1,"bi","bi-x-lg"]],template:function(e,r){1&e&&($(0,"nav",0)(1,"div",1)(2,"a",2),pe(3,"iMan"),z(),$(4,"div",3)(5,"div",4)(6,"div")(7,"a",5),Ee(8,"em",6),z()(),$(9,"div",7),tt("click",function(){return r.minimize()}),he(10,v9,2,1,"a",8),z(),$(11,"div",9),tt("click",function(){return r.maximize()}),he(12,y9,2,1,"a",10),z(),$(13,"div",11),tt("click",function(){return r.close()}),he(14,C9,2,1,"a",12),z()()()()(),$(15,"div",13)(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17),pe(20,"iMan"),z(),$(21,"div",18),Ee(22,"em",19),z()(),$(23,"div",20)(24,"div",21)(25,"div",22)(26,"div",23),pe(27," Project focused on product software management. It's free copyleft software, you can use whatever you want to, but please do NOT distribute this project or sell it. If you want to collaborate, please send me an e-mail. "),z(),$(28,"div",23),pe(29," This project was made in september 2021, but it's growing and I'm adding new submodules like: chat, config, requirements, team, company... If you want to develop some submodule please contact me and contribute the community, we all mates! "),z(),$(30,"div",23),pe(31," Thanks to my friend Andrew for doing the logo! "),z(),$(32,"div",23),pe(33," Technology between this project: Angular, Sprint Boot & Bootstrap (including Icons) "),z()(),$(34,"div",24)(35,"div",25),Ee(36,"em",26),pe(37,"danielarellano99@gmail.com "),z(),$(38,"div",25),Ee(39,"em",27),$(40,"a",28),pe(41,"github.com/danaremar/iMan"),z()()(),$(42,"div",29),pe(43,"Project: iMan \xa9"),z(),$(44,"div",29),pe(45,"License: GPLv3.0"),z(),$(46,"div",29),pe(47,"Version: v1.1"),z(),$(48,"div",29),pe(49,"Author: Daniel Arellano Mart\xednez"),z()()()()()()),2&e&&(W(7),te("openDelay",300),W(3),te("ngIf",r.enabledElectron),W(2),te("ngIf",r.enabledElectron),W(2),te("ngIf",r.enabledElectron))},directives:[ID,oc,Oi],styles:["#title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;-webkit-app-region:drag}#title[_ngcontent-%COMP%]:hover{color:var(--dark-contrast-text)!important}.navbar[_ngcontent-%COMP%]{height:var(--navbar-size)!important;width:100vw}.bi-x-lg[_ngcontent-%COMP%]:hover{color:#ff4f4f!important}.bi[_ngcontent-%COMP%]{font-size:15px!important}"]}),t})();const b9=["closebutton"];function w9(t,n){1&t&&Ee(0,"iMan-navbar")}function x9(t,n){if(1&t&&($(0,"div",41),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.messageErrorLogin,"")}}function S9(t,n){if(1&t&&($(0,"div",42),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.messageErrorRegister,"")}}function T9(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function E9(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function D9(t,n){1&t&&($(0,"div"),pe(1,"Only 20 characters are allowed"),z())}function A9(t,n){if(1&t&&($(0,"div",43),he(1,T9,2,0,"div",0),he(2,E9,2,0,"div",0),he(3,D9,2,0,"div",0),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formRegister.get("name"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formRegister.get("name"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formRegister.get("name"))||null==d.errors?null:d.errors.maxlength)}}function R9(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function O9(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function k9(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function P9(t,n){if(1&t&&($(0,"div",43),he(1,R9,2,0,"div",0),he(2,O9,2,0,"div",0),he(3,k9,2,0,"div",0),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formRegister.get("lastName"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formRegister.get("lastName"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formRegister.get("lastName"))||null==d.errors?null:d.errors.maxlength)}}function I9(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function M9(t,n){1&t&&($(0,"div"),pe(1,"Must be email format"),z())}function N9(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function F9(t,n){if(1&t&&($(0,"div",43),he(1,I9,2,0,"div",0),he(2,M9,2,0,"div",0),he(3,N9,2,0,"div",0),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formRegister.get("email"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formRegister.get("email"))||null==a.errors?null:a.errors.email),W(1),te("ngIf",null==(d=e.formRegister.get("email"))||null==d.errors?null:d.errors.maxlength)}}function L9(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function G9(t,n){1&t&&($(0,"div"),pe(1,"Must contain only lower case characters and numbers"),z())}function B9(t,n){1&t&&($(0,"div"),pe(1,"Only 15 characters are allowed"),z())}function V9(t,n){if(1&t&&($(0,"div",43),he(1,L9,2,0,"div",0),he(2,G9,2,0,"div",0),he(3,B9,2,0,"div",0),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formRegister.get("username"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formRegister.get("username"))||null==a.errors?null:a.errors.pattern),W(1),te("ngIf",null==(d=e.formRegister.get("username"))||null==d.errors?null:d.errors.maxlength)}}function H9(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function j9(t,n){1&t&&($(0,"div"),pe(1,"Must contain upper and lower case letters, numbers and special characters"),z())}function $9(t,n){1&t&&($(0,"div"),pe(1,"Must contain at least 8 characters"),z())}function W9(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function U9(t,n){if(1&t&&($(0,"div",43),he(1,H9,2,0,"div",0),he(2,j9,2,0,"div",0),he(3,$9,2,0,"div",0),he(4,W9,2,0,"div",0),z()),2&t){const e=ve();let r,a,d,h;W(1),te("ngIf",null==(r=e.formRegister.get("password"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formRegister.get("password"))||null==a.errors?null:a.errors.pattern),W(1),te("ngIf",null==(d=e.formRegister.get("password"))||null==d.errors?null:d.errors.minlength),W(1),te("ngIf",null==(h=e.formRegister.get("password"))||null==h.errors?null:h.errors.maxlength)}}function z9(t,n){if(1&t&&($(0,"option",44),pe(1),z()),2&t){const e=n.$implicit;te("ngValue",e),W(1),wt(" ",e,"")}}function Y9(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function K9(t,n){if(1&t&&($(0,"div",43),he(1,Y9,2,0,"div",0),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formRegister.get("country"))||null==r.errors?null:r.errors.required)}}function q9(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function X9(t,n){1&t&&($(0,"div"),pe(1,"Only 20 characters are allowed"),z())}function Q9(t,n){if(1&t&&($(0,"div",43),he(1,q9,2,0,"div",0),he(2,X9,2,0,"div",0),z()),2&t){const e=ve();let r,a;W(1),te("ngIf",null==(r=e.formRegister.get("sector"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formRegister.get("sector"))||null==a.errors?null:a.errors.maxlength)}}let Z9=(()=>{class t{constructor(e,r,a,d,h){this.tokenService=e,this.authenticationService=r,this.formBuilder=a,this.router=d,this.countryService=h,this.isRegistered=!1,this.isLogged=!1,this.isLoginFail=!1,this.isRegisterFail=!1,this.countriesDictionary=this.countryService.getAllCountriesByISO3166(),this.countries=Object.values(this.countriesDictionary),this.enabledElectron=!1,this.formLogin=a.group({username:["",[nn.required,nn.maxLength(50),nn.minLength(3)]],password:["",[nn.required,nn.maxLength(50),nn.minLength(5)]]}),this.formRegister=a.group({name:["",[nn.required]],lastName:["",[nn.required]],email:["",[nn.required]],username:["",[nn.required]],password:["",[nn.required]],country:["",[nn.required]],sector:["",[nn.required]]})}ngOnInit(){this.tokenService.getToken()&&(this.isLogged=!0,this.router.navigateByUrl("/")),this.enabledElectron=false}onLogin(){this.loginUser=new EN(this.formLogin.value.username,this.formLogin.value.password),this.authenticationService.login(this.loginUser).subscribe(e=>{this.returnLogged(e)},e=>{this.returnError(e,!0)})}getKeyByValue(e,r){return Object.keys(e).find(a=>e[a]===r)}onRegister(){const e=this.getKeyByValue(this.countriesDictionary,this.formRegister.value.country);this.newUser=new e4(this.formRegister.value.username,this.formRegister.value.password,this.formRegister.value.name,this.formRegister.value.lastName,this.formRegister.value.email,null==e?"":e,this.formRegister.value.sector),this.authenticationService.register(this.newUser).subscribe(r=>{this.isRegistered=!0,this.closebutton.nativeElement.click(),this.loginUser=new EN(this.formRegister.value.username,this.formRegister.value.password),this.authenticationService.login(this.loginUser).subscribe(a=>{this.returnLogged(a)},a=>{this.returnError(a,!0)})},r=>{this.returnError(r,!1)})}returnLogged(e){this.isLogged=!0,this.tokenService.setToken(e.token),this.tokenService.setUsername(e.username),this.router.navigate(["/app/effort"])}returnError(e,r){var a=e.error.text;null==a&&(a="Incorrect user"),r?(this.isLoginFail=!0,this.messageErrorLogin=a):(this.isRegisterFail=!0,this.messageErrorRegister=a)}inputClass(e,r){var a,d,h,m;return(null===(a=null==e?void 0:e.get(r))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(r))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(r))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(r))||void 0===m?void 0:m.invalid)?"is-invalid":""}}return t.\u0275fac=function(e){return new(e||t)(Se(Ls),Se(g4),Se(Ka),Se(Oo),Se(GN))},t.\u0275cmp=tn({type:t,selectors:[["iMan-auth"]],viewQuery:function(e,r){if(1&e&&Ki(b9,5),2&e){let a;dn(a=hn())&&(r.closebutton=a.first)}},decls:75,vars:39,consts:[[4,"ngIf"],[1,"dark-background"],["id","loginCard",1,"card","bg-dark-5",2,"width","320px"],[3,"formGroup","ngSubmit"],[2,"text-align","center"],[1,"bi","bi-lock","icon",2,"font-size","80px !important"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"form-group","mb-3"],["type","text","name","username","formControlName","username","maxlength","50","placeholder","Username",1,"form-control"],[1,"form-group"],["type","password","name","password","formControlName","password","maxlength","50","placeholder","Password",1,"form-control"],["href","#","hidden","",1,"forgot","mt-5","mb-2"],[1,"form-group","mt-5"],[1,"btn","btn-primary","w-100",3,"disabled"],[1,"mt-3","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success","w-100","mt-3"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],["data-bs-dismiss","modal",1,"close-card-button",2,"background-color","inherit"],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"bi","bi-person-plus","icon",2,"font-size","80px !important"],[1,"form-group","mb-4"],[1,"mb-0"],["type","text","name","name","formControlName","name","maxlength","20","minlength","2","placeholder","John"],["class","invalid-feedback",4,"ngIf"],["type","text","name","lastName","formControlName","lastName","maxlength","50","placeholder","Doe"],["type","text","name","email","formControlName","email","maxlength","50","email","","placeholder","johndoe@example.com"],["type","text","name","username","formControlName","username","maxlength","15","placeholder","johndoe","pattern","^[a-z0-9]+$"],["type","password","name","password","formControlName","password","minlength","8","maxlength","50","placeholder","Password","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,50}$","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7"],["formControlName","country"],["value","","disabled","",1,"dark-text"],["class","dark-text",3,"ngValue",4,"ngFor","ngForOf"],["type","text","name","sector","formControlName","sector","maxlength","20","placeholder","Industry"],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebutton",""],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-danger","mt-5"],[1,"invalid-feedback"],[1,"dark-text",3,"ngValue"]],template:function(e,r){if(1&e&&(he(0,w9,1,0,"iMan-navbar",0),$(1,"div",1)(2,"div",2)(3,"form",3),tt("ngSubmit",function(){return r.onLogin()}),$(4,"div",4),Ee(5,"em",5),z(),he(6,x9,2,1,"div",6),$(7,"div",7),Ee(8,"input",8),z(),$(9,"div",9),Ee(10,"input",10),z(),$(11,"a",11),pe(12,"Forgot your email or password?"),z(),$(13,"div",12)(14,"button",13),pe(15,"Login"),z()(),$(16,"div",14),pe(17,"or"),z(),$(18,"button",15),pe(19," Register "),z()()(),$(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21),Ee(26,"em",22),z(),$(27,"form",3),tt("ngSubmit",function(){return r.onRegister()}),he(28,S9,2,1,"div",23),$(29,"div",4),Ee(30,"em",24),z(),$(31,"div",25)(32,"p",26),pe(33,"First name"),z(),Ee(34,"input",27),he(35,A9,4,3,"div",28),z(),$(36,"div",25)(37,"p",26),pe(38,"Last name"),z(),Ee(39,"input",29),he(40,P9,4,3,"div",28),z(),$(41,"div",25)(42,"p",26),pe(43,"Email"),z(),Ee(44,"input",30),he(45,F9,4,3,"div",28),z(),$(46,"div",25)(47,"p",26),pe(48,"Username"),z(),Ee(49,"input",31),he(50,V9,4,3,"div",28),z(),$(51,"div",25)(52,"p",26),pe(53,"Password"),z(),Ee(54,"input",32),he(55,U9,5,4,"div",28),z(),$(56,"div",25)(57,"p",26),pe(58,"Country"),z(),$(59,"select",33)(60,"option",34),pe(61,"Country"),z(),he(62,z9,2,2,"option",35),z(),he(63,K9,2,1,"div",28),z(),$(64,"div",25)(65,"p",26),pe(66,"Sector"),z(),Ee(67,"input",36),he(68,Q9,3,2,"div",28),z(),$(69,"div",37)(70,"button",38,39),pe(72,"Close"),z(),$(73,"button",40),pe(74,"Register"),z()()()()()()()()()),2&e){let a,d,h,m,S,k,N;te("ngIf",r.enabledElectron),W(1),Ge(r.enabledElectron?"height: calc(100vh - var(--navbar-size) ) !important":""),W(2),te("formGroup",r.formLogin),W(3),te("ngIf",r.isLoginFail),W(8),te("disabled",!r.formLogin.valid),W(13),te("formGroup",r.formRegister),W(1),te("ngIf",r.isRegisterFail),W(6),Nt("form-control ",r.inputClass(r.formRegister,"name"),""),W(1),te("ngIf",(null==(a=r.formRegister.get("name"))?null:a.touched)&&(null==(a=r.formRegister.get("name"))?null:a.invalid)),W(4),Nt("form-control ",r.inputClass(r.formRegister,"lastName"),""),W(1),te("ngIf",(null==(d=r.formRegister.get("lastName"))?null:d.touched)&&(null==(d=r.formRegister.get("lastName"))?null:d.invalid)),W(4),Nt("form-control ",r.inputClass(r.formRegister,"email"),""),W(1),te("ngIf",(null==(h=r.formRegister.get("email"))?null:h.touched)&&(null==(h=r.formRegister.get("email"))?null:h.invalid)),W(4),Nt("form-control ",r.inputClass(r.formRegister,"username"),""),W(1),te("ngIf",(null==(m=r.formRegister.get("username"))?null:m.touched)&&(null==(m=r.formRegister.get("username"))?null:m.invalid)),W(4),Nt("form-control ",r.inputClass(r.formRegister,"password"),""),W(1),te("ngIf",(null==(S=r.formRegister.get("password"))?null:S.touched)&&(null==(S=r.formRegister.get("password"))?null:S.invalid)),W(4),Nt("form-control ",r.inputClass(r.formRegister,"country"),""),W(3),te("ngForOf",r.countries),W(1),te("ngIf",(null==(k=r.formRegister.get("country"))?null:k.touched)&&(null==(k=r.formRegister.get("country"))?null:k.invalid)),W(4),Nt("form-control ",r.inputClass(r.formRegister,"sector"),""),W(1),te("ngIf",(null==(N=r.formRegister.get("sector"))?null:N.touched)&&(null==(N=r.formRegister.get("sector"))?null:N.invalid)),W(5),te("disabled",!r.formRegister.valid)}},directives:[Oi,lL,Zl,Ql,va,_a,Xl,Wa,Ya,Cu,Ab,Rb,Jl,Ua,za,hr],styles:[".center[_ngcontent-%COMP%]{margin:0;position:absolute;left:50%;transform:translate(-50%)}#loginCard[_ngcontent-%COMP%]{max-width:320px;width:90%;background-color:var( --dark-pallete-5);padding:40px;border-radius:20px;transform:translate(-50%,-50%);position:absolute;top:50%;left:50%;color:#fff}.dark-background[_ngcontent-%COMP%]{height:100%;width:100%;background:var(--dark-pallete-1);background-size:cover;position:absolute}select[_ngcontent-%COMP%]{height:40px!important}"]}),t})(),Rf=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=fs_backendEndpoint+"/profile/"}getMyProfile(){return this.httpClient.get(this.hostUrl)}updateProfile(e){return this.httpClient.put(this.hostUrl,e)}deleteUserProfile(){return this.httpClient.delete(this.hostUrl)}getUrlFromProfile(e){return null==e||""==e?null:e.includes("/")?e:fs_backendEndpoint+"/images/"+e}setImage(e){this.imageUrl=this.getUrlFromProfile(e)}reloadProfileImage(){this.getMyProfile().subscribe(e=>{this.setImage(e.imageUid||null)},e=>{this.setImage(null)})}uploadUserImageProfile(e){var r=this.hostUrl+"image";const a=new FormData;return a.append("image",e),this.httpClient.post(r,a)}deleteUserImageProfile(){return this.httpClient.delete(this.hostUrl+"image")}}return t.\u0275fac=function(e){return new(e||t)(Qe(nc))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function J9(t,n){if(1&t&&(Di(0),Ee(1,"img",30),lr()),2&t){const e=ve();W(1),Qn("src",e.getProfileImageUrl(),To)}}function eY(t,n){1&t&&Ee(0,"em",31)}const sc=function(){return["active"]},tY=function(){return["/app/effort"]},nY=function(){return["/app/gantt"]},iY=function(){return["/app/kanban"]},rY=function(){return["/app/incidents"]},oY=function(){return["/app/requirements"]},sY=function(){return["/app/sprint"]},aY=function(){return["/app/projects"]},lY=function(){return["/app/user"]},cY=function(){return["/app/config"]};let uY=(()=>{class t{constructor(e,r){this.tokenService=e,this.userService=r}ngOnInit(){this.userService.reloadProfileImage()}onLogout(){this.tokenService.logOut(),this.reloadWindow()}reloadWindow(){window.location.reload()}getProfileImageUrl(){return this.userService.imageUrl}}return t.\u0275fac=function(e){return new(e||t)(Se(Ls),Se(Rf))},t.\u0275cmp=tn({type:t,selectors:[["iMan-sidebar"]],decls:39,vars:48,consts:[["id","sidebar"],[1,"nav",2,"height","inherit"],[1,"d-flex","flex-column","overflow-auto","scroll-inside-sidebar"],[1,"flex-column"],[1,"nav-item",3,"routerLinkActive"],["ngbTooltip","Time","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-stopwatch",2,"font-size","30px"],["ngbTooltip","Gantt","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-bar-chart-steps",2,"font-size","30px"],["ngbTooltip","Kanban","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-kanban",2,"font-size","30px"],["ngbTooltip","Incidents","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-exclamation-circle",2,"font-size","30px"],["hidden","",1,"nav-item",3,"routerLinkActive"],["ngbTooltip","Requirements","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-key",2,"font-size","30px"],["ngbTooltip","Sprints","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-arrow-repeat",2,"font-size","30px"],["ngbTooltip","Projects","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-folder2",2,"font-size","30px"],[1,"flex-column","mt-auto"],[2,"height","2px","margin","0.3rem"],["ngbTooltip","User settings","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[4,"ngIf","ngIfElse"],["showIconProfile",""],["ngbTooltip","Configuration","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-sliders",2,"font-size","30px"],[1,"nav-item"],["ngbTooltip","Logout","placement","right",1,"nav-link",3,"openDelay","click"],[1,"bi","bi-power","red-btn",2,"font-size","30px"],["alt","Profile image",1,"profile-image","my-2",3,"src"],[1,"bi","bi-person-circle",2,"font-size","30px"]],template:function(e,r){if(1&e&&($(0,"nav",0)(1,"ul",1)(2,"div",2)(3,"div",3)(4,"li",4)(5,"a",5),Ee(6,"em",6),z()(),$(7,"li",4)(8,"a",7),Ee(9,"em",8),z()(),$(10,"li",4)(11,"a",9),Ee(12,"em",10),z()(),$(13,"li",4)(14,"a",11),Ee(15,"em",12),z()(),$(16,"li",13)(17,"a",14),Ee(18,"em",15),z()(),$(19,"li",4)(20,"a",16),Ee(21,"em",17),z()(),$(22,"li",4)(23,"a",18),Ee(24,"em",19),z()()(),$(25,"div",20),Ee(26,"hr",21)(27,"hr",21),$(28,"li",4)(29,"a",22),he(30,J9,2,1,"ng-container",23),he(31,eY,1,0,"ng-template",null,24,Hi),z()(),$(33,"li",13)(34,"a",25),Ee(35,"em",26),z()(),$(36,"li",27)(37,"a",28),tt("click",function(){return r.onLogout()}),Ee(38,"em",29),z()()()()()()),2&e){const a=wi(32);W(4),te("routerLinkActive",zi(30,sc)),W(1),te("routerLink",zi(31,tY))("openDelay",300),W(2),te("routerLinkActive",zi(32,sc)),W(1),te("routerLink",zi(33,nY))("openDelay",300),W(2),te("routerLinkActive",zi(34,sc)),W(1),te("routerLink",zi(35,iY))("openDelay",300),W(2),te("routerLinkActive",zi(36,sc)),W(1),te("routerLink",zi(37,rY))("openDelay",300),W(2),te("routerLinkActive",zi(38,sc)),W(1),te("routerLink",zi(39,oY))("openDelay",300),W(2),te("routerLinkActive",zi(40,sc)),W(1),te("routerLink",zi(41,sY))("openDelay",300),W(2),te("routerLinkActive",zi(42,sc)),W(1),te("routerLink",zi(43,aY))("openDelay",300),W(5),te("routerLinkActive",zi(44,sc)),W(1),te("routerLink",zi(45,lY))("openDelay",300),W(1),te("ngIf",null!=r.getProfileImageUrl()&&""!=r.getProfileImageUrl())("ngIfElse",a),W(3),te("routerLinkActive",zi(46,sc)),W(1),te("routerLink",zi(47,cY))("openDelay",300),W(3),te("openDelay",300)}},directives:[cM,gb,oc,Oi],styles:["#sidebar[_ngcontent-%COMP%]{background:var(--dark-pallete-4)!important;color:var(--dark-pallete-text)!important;transition:all .15s;position:relative;height:calc(100vh - var(--navbar-size));width:var(--sidebar-size)}.scroll-inside-sidebar[_ngcontent-%COMP%]{width:300px;height:inherit}.active[_ngcontent-%COMP%]{margin-left:5px;background:var(--dark-pallete-1);color:var(--dark-contrast-text);border-radius:10px 0 0 10px}.bi[_ngcontent-%COMP%]:hover{color:var(--dark-contrast-text)}"]}),t})(),dY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["iMan-menu"]],decls:6,vars:0,consts:[[1,"d-flex",2,"background-color","var(--dark-pallete-3)"],[1,"flex-grow-1","bg-dark-1"],[1,"m-3"]],template:function(e,r){1&e&&(Ee(0,"iMan-navbar"),$(1,"div",0),Ee(2,"iMan-sidebar"),$(3,"div",1)(4,"div",2),Ee(5,"router-outlet"),z()()())},directives:[lL,uY,lb],encapsulation:2}),t})();class LD{constructor(n,e){this.description=n,this.kanbanTaskId=e}}class hY{constructor(n,e,r,a,d){this.id=n,this.description=e,this.kanbanTaskId=r,this.startDate=a,this.endDate=d}}class pY{constructor(n,e){this.title=n,this.sprintId=e}}class fY{constructor(n,e,r){this.id=n,this.title=e,this.columnOrder=r}}class cL{constructor(n,e,r,a,d,h,m,S,k,N){this.title=n,this.description=e,this.estimatedTime=r,this.kanbanColumnId=a,this.tags=d,this.importance=h,this.dueStartDate=m,this.dueEndDate=S,this.assignedUsernames=k,this.childrenIds=N}}class sv{constructor(n,e,r,a,d,h,m,S,k,N){this.id=n,this.title=e,this.description=r,this.estimatedTime=a,this.tags=d,this.importance=h,this.dueStartDate=m,this.dueEndDate=S,this.assignedUsernames=k,this.childrenIds=N}}class gY{constructor(n,e,r){this.kanbanTaskId=n,this.newKanbanColumnId=e,this.newPosition=r}}let xu=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=fs_backendEndpoint+"/effort/"}getAllMyEfforts(){return this.httpClient.get(this.hostUrl)}getAllEffortsByTaskId(e){return this.httpClient.get(this.hostUrl+"task/"+e)}getActiveEffort(){return this.httpClient.get(this.hostUrl+"active/")}startEffort(e){return this.httpClient.post(this.hostUrl,e)}endEffort(e){return this.httpClient.put(this.hostUrl+e+"/end",void 0)}updateEffort(e){return this.httpClient.put(this.hostUrl,e)}deleteEffort(e){return this.httpClient.delete(this.hostUrl+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(nc))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const uL="KanbanTaskId";let ac=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=fs_backendEndpoint+"/kanban/",this.kanbanColumnUrl=this.hostUrl+"column/",this.kanbanTaskUrl=this.hostUrl+"task/"}getAllKanbanBySprintId(e){return this.httpClient.get(this.hostUrl+"sprint/"+e)}createKanbanColumn(e){return this.httpClient.post(this.kanbanColumnUrl,e)}updateKanbanColumn(e){return this.httpClient.put(this.kanbanColumnUrl,e)}disableKanbanColumn(e){return this.httpClient.put(this.kanbanColumnUrl+e+"/disable",void 0)}getAllKanbanTasksBySprintId(e){return this.httpClient.get(this.hostUrl+"task/sprint/"+e)}createKanbanTask(e){return this.httpClient.post(this.kanbanTaskUrl,e)}updateKanbanTask(e){return this.httpClient.put(this.kanbanTaskUrl,e)}disableKanbanTask(e){return this.httpClient.put(this.kanbanTaskUrl+e+"/disable",void 0)}moveKanbanTask(e){return this.httpClient.put(this.kanbanTaskUrl+"move",e)}getStoredKanbanTaskId(){return Number(localStorage.getItem(uL))}setStoredKanbanTaskId(e){localStorage.setItem(uL,String(e))}}return t.\u0275fac=function(e){return new(e||t)(Qe(nc))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dL="SprintId";let Su=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=fs_backendEndpoint+"/sprint/"}createSprint(e){return this.httpClient.post(this.hostUrl,e)}updateSprint(e){return this.httpClient.put(this.hostUrl,e)}deleteSprint(e){return this.httpClient.delete(this.hostUrl+e)}closeSprint(e){return this.httpClient.put(this.hostUrl+e+"/close",void 0)}disableSprint(e){return this.httpClient.put(this.hostUrl+e+"/disable",void 0)}startSprint(e){return this.httpClient.put(this.hostUrl+e+"/start",void 0)}sprintFromProject(e){return this.httpClient.get(this.hostUrl+"project/"+e)}getStoredSprintId(){return Number(localStorage.getItem(dL))}setStoredSprintId(e){localStorage.setItem(dL,String(e))}}return t.\u0275fac=function(e){return new(e||t)(Qe(nc))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hL="ProjectId";let GD,Tu=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=fs_backendEndpoint+"/project/"}myProjects(){return this.httpClient.get(this.hostUrl+"my-projects")}createProject(e){return this.httpClient.post(this.hostUrl,e)}updateProject(e){return this.httpClient.put(this.hostUrl,e)}enableDisableProject(e){return this.httpClient.put(this.hostUrl+"enable-disable/"+e,void 0)}createProjectRole(e){return this.httpClient.post(this.hostUrl+"role",e)}updateProjectRole(e){return this.httpClient.put(this.hostUrl+"role",e)}acceptProjectRole(e){return this.httpClient.put(this.hostUrl+"role/"+e+"/accept",void 0)}declineProjectRole(e){return this.httpClient.delete(this.hostUrl+"role/"+e+"/decline")}getAllMineNotAcceptedProjectRoles(){return this.httpClient.get(this.hostUrl+"my-roles")}getStoredProjectId(){return Number(localStorage.getItem(hL))}setStoredProjectId(e){localStorage.setItem(hL,String(e))}getAllRoles(){return{1:"Admin",2:"Member",3:"Visitor"}}}return t.\u0275fac=function(e){return new(e||t)(Qe(nc))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ah=(()=>{class t{constructor(e,r,a,d,h,m){this.effortService=e,this.kanbanService=r,this.sprintService=a,this.projectService=d,this.formBuilder=h,this.tokenService=m,this.myProjects=[],this.mySprints=[],this.myTasks=[],this.usersInProject=[],this.loadProject=!1,this.loadSprint=!1,this.loadKanban=!1,this.loadTasks=!1,this.loadEfforts=!1,this.adminAccess=!1,this.memberAccess=!1,this.containError=!1}inputClass(e,r){var a,d,h,m;return(null===(a=null==e?void 0:e.get(r))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(r))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(r))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(r))||void 0===m?void 0:m.invalid)?"is-invalid":""}returnPrincipalError(e){var r=e.error.text;null==r&&(r="Error produced"),this.messageError=r,this.containError=!0}ngOnInit(){this.loadMyProjects()}loadMyProjects(){this.projectService.myProjects().subscribe(e=>{this.myProjects=e,(this.loadProject||this.loadSprint||this.loadKanban||this.loadTasks||this.loadEfforts)&&(this.projectSelectedId=this.projectService.getStoredProjectId(),this.loadFirstProject())},e=>{this.returnPrincipalError(e)})}loadFirstProject(){if(0!==this.myProjects.length){let e=this.projectService.getStoredProjectId();(null==e||0==e)&&(this.projectSelectedId=this.myProjects[0].id,this.projectService.setStoredProjectId(this.projectSelectedId)),this.projectSelectedId&&this.editIsAllowed(this.projectSelectedId),this.getAllUsersFromSelectedProject(),this.loadAfterProject()}}loadProjectByIdEvent(e){this.projectSelectedId=Number(e.value),this.projectService.setStoredProjectId(this.projectSelectedId),this.editIsAllowed(this.projectSelectedId),this.sprintService.setStoredSprintId(0),this.loadAfterProject()}loadAfterProject(){(this.loadSprint||this.loadKanban||this.loadTasks||this.loadEfforts)&&this.loadSprintsBySelectedProject()}editIsAllowed(e){let a=this.myProjects.find(d=>d.id===e);if(null!=a){let d=a.projectRoles;this.adminAccess=d.some(h=>h.user.username==this.tokenService.getUsername()&&[0,1].includes(h.role)),this.memberAccess=d.some(h=>h.user.username==this.tokenService.getUsername()&&[0,1,2].includes(h.role))}}loadSprintsBySelectedProject(){let e=this.projectService.getStoredProjectId();null!=e&&0!=e&&this.sprintService.sprintFromProject(e).subscribe(r=>{this.mySprints=r,null!=this.mySprints&&0==this.mySprints.length&&(this.sprintService.setStoredSprintId(0),this.myTasks=[],this.kanban=null),this.sprintSelectedId=this.sprintService.getStoredSprintId(),this.loadFirstSprint()},r=>{this.returnPrincipalError(r)})}loadFirstSprint(){if(0!==this.mySprints.length){let e=this.sprintService.getStoredSprintId();(null==e||0==e)&&(this.sprintSelectedId=this.mySprints[0].id,this.sprintService.setStoredSprintId(this.sprintSelectedId)),this.loadAfterSprint()}}loadAfterSprint(){this.loadKanban&&this.loadKanbanBySelectedSprint(),(this.loadTasks||this.loadEfforts)&&this.loadTasksBySelectedSprint()}loadSprintByIdEvent(e){this.sprintSelectedId=Number(e.value),this.sprintService.setStoredSprintId(this.sprintSelectedId),this.loadAfterSprint()}loadKanbanBySelectedSprint(){let e=this.sprintService.getStoredSprintId();null!=e&&0!=e&&this.kanbanService.getAllKanbanBySprintId(e).subscribe(r=>{this.kanban=r,this.loadActiveEffort()},r=>{this.returnPrincipalError(r)})}loadTasksByIdEvent(e){this.kanbanTaskSelectedId=Number(e.value),this.kanbanService.setStoredKanbanTaskId(this.kanbanTaskSelectedId)}loadTasksBySelectedSprint(){let e=this.sprintService.getStoredSprintId();null!=e&&0!=e&&this.kanbanService.getAllKanbanTasksBySprintId(e).subscribe(r=>{this.myTasks=r,this.containError=!1,this.loadFirstTask(),this.kanbanTaskSelectedId=this.kanbanService.getStoredKanbanTaskId()},r=>{this.returnPrincipalError(r)})}loadFirstTask(){if(0!==this.myTasks.length){let e=this.kanbanService.getStoredKanbanTaskId();(null==e||0==e)&&this.kanbanService.setStoredKanbanTaskId(this.myTasks[0].id)}this.loadAfterTask()}loadAfterTask(){this.loadEfforts&&this.getEfforts()}loadActiveEffort(){this.effortService.getActiveEffort().subscribe(e=>{this.containError=!1,this.activeEffort=e},e=>{this.returnPrincipalError(e)})}getEfforts(){this.loadActiveEffort(),this.effortService.getAllMyEfforts().subscribe(e=>{this.containError=!1,this.efforts=e},e=>{this.returnPrincipalError(e)})}getFormatedDateTimeLikeInput(e){return this.getFormatedDate(e,"yyyy-MM-ddTHH:mm:ss")}transformNumberToString(e,r,a){return e.toLocaleString("en-US",{minimumIntegerDigits:r,minimumFractionDigits:a})}timeToDoubleString(e){return null==e&&(e=0),(e%1?e.toFixed(3):e)+""}getDifferenceFormatted(e,r){var a=Math.abs(new Date(e).getTime()-new Date(r).getTime());return this.transformNumberToString(Math.floor(a/36e5),1,0)+":"+this.transformNumberToString(Math.floor(a/6e4)%60,2,0)+":"+this.transformNumberToString(Math.floor(a/1e3)%60,2,0)}formatDate(e){return this.getFormatedDate(e,"dd/MM/yyyy")}formatTime(e){return this.getFormatedDate(e,"HH:mm:ss")}getFormatedDate(e,r){return new z0("en-US").transform(e,r)}loadActualDate(){let e=new Date,r=String(e.getMonth()+1),a=String(e.getDate()),d=String(e.getFullYear());Number(r)<10&&(r="0"+r.toString()),Number(a)<10&&(a="0"+a.toString()),this.actualDate=d+"-"+r+"-"+a}getKeyByValue(e,r){return Object.keys(e).find(a=>e[a]===r)}getRole(e){switch(e){case 0:return"Owner";case 1:return"Admin";case 2:return"Member";default:return"Visitor"}}getPriority(e){switch(e){case 0:return"Critical";case 1:return"High";case 2:return"Medium";default:return"Low"}}getAllUsersFromSelectedProject(){if(this.projectSelectedId){let e=this.myProjects.find(r=>r.id==this.projectSelectedId);null!=e&&(this.usersInProject=e.projectRoles.map(r=>r.user))}}}return t.\u0275fac=function(e){return new(e||t)(Qe(xu),Qe(ac),Qe(Su),Qe(Tu),Qe(Ka),Qe(Ls))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();try{GD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){GD=!1}let av,BD,pL=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?ff(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!GD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Qe(ha))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lv(t){return function mY(){if(null==av&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>av=!0}))}finally{av=av||!1}return av}()?t:!!t.capture}function gL(t){if(function _Y(){if(null==BD){const t="undefined"!=typeof document?document.head:null;BD=!(!t||!t.createShadowRoot&&!t.attachShadow)}return BD}()){const n=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function zb(t){return t.composedPath?t.composedPath()[0]:t.target}function kf(t){return null!=t&&"false"!=`${t}`}function mL(t,n=0){return function vY(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function qo(t){return t instanceof Vn?t.nativeElement:t}const cv={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=cv;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const a=n(d=>{e=void 0,t(d)});return new D(()=>null==e?void 0:e(a))},requestAnimationFrame(...t){const{delegate:n}=cv;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=cv;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0},CL=new class LY extends hD{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;n=n||r.shift();do{if(a=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,a){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw a}}}(class FY extends dD{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=cv.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(n,e,r);n.actions.some(a=>a.id===e)||(cv.cancelAnimationFrame(e),n._scheduled=void 0)}});let VD,GY=1;const Yb={};function bL(t){return t in Yb&&(delete Yb[t],!0)}const BY={setImmediate(t){const n=GY++;return Yb[n]=!0,VD||(VD=Promise.resolve()),VD.then(()=>bL(n)&&t()),n},clearImmediate(t){bL(t)}},{setImmediate:VY,clearImmediate:HY}=BY,Kb={setImmediate(...t){const{delegate:n}=Kb;return((null==n?void 0:n.setImmediate)||VY)(...t)},clearImmediate(t){const{delegate:n}=Kb;return((null==n?void 0:n.clearImmediate)||HY)(t)},delegate:void 0};new class $Y extends hD{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let a;n=n||r.shift();do{if(a=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,a){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw a}}}(class jY extends dD{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Kb.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(n,e,r);n.actions.some(a=>a.id===e)||(Kb.clearImmediate(e),n._scheduled=void 0)}});function wL(t,n=z_){return function UY(t){return ke((n,e)=>{let r=!1,a=null,d=null,h=!1;const m=()=>{if(null==d||d.unsubscribe(),d=null,r){r=!1;const k=a;a=null,e.next(k)}h&&e.complete()},S=()=>{d=null,h&&e.complete()};n.subscribe(It(e,k=>{r=!0,a=k,d||yr(t(k)).subscribe(d=It(e,m,S))},()=>{h=!0,(!r||!d||d.closed)&&e.complete()}))})}(()=>Y_(t,n))}let YY=(()=>{class t{constructor(e,r,a){this._ngZone=e,this._platform=r,this._scrolled=new ze,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Oe(r=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(wL(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):_n()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const a=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Ar(d=>!d||a.indexOf(d)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((a,d)=>{this._scrollableContainsElement(d,e)&&r.push(d)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let a=qo(r),d=e.getElementRef().nativeElement;do{if(a==d)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Zr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Qe($n),Qe(pL),Qe(ri,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),qY=(()=>{class t{constructor(e,r,a){this._platform=e,this._change=new ze,this._changeListener=d=>{this._change.next(d)},this._document=a,r.runOutsideAngular(()=>{if(e.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+r,height:a,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),a=e.documentElement,d=a.getBoundingClientRect();return{top:-d.top||e.body.scrollTop||r.scrollY||a.scrollTop||0,left:-d.left||e.body.scrollLeft||r.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(wL(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Qe(pL),Qe($n),Qe(ri,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({}),t})();const QY=new Kt("cdk-dir-doc",{providedIn:"root",factory:function ZY(){return yl(ri)}}),JY=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let xL=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new Ae,e){const a=e.documentElement?e.documentElement.dir:null;this.value=function eK(t){const n=(null==t?void 0:t.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?JY.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||a||"ltr")}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Qe(QY,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function HD(t,n,e){for(let r in n)if(n.hasOwnProperty(r)){const a=n[r];a?t.setProperty(r,a,(null==e?void 0:e.has(r))?"important":""):t.removeProperty(r)}return t}function Pf(t,n){const e=n?"":"none";HD(t.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function SL(t,n,e){HD(t.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function qb(t,n){return n&&"none"!=n?t+" "+n:t}function TL(t){const n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function jD(t,n){return t.getPropertyValue(n).split(",").map(r=>r.trim())}function $D(t){const n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function WD(t,n,e){const{top:r,bottom:a,left:d,right:h}=t;return e>=r&&e<=a&&n>=d&&n<=h}function uv(t,n,e){t.top+=n,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function EL(t,n,e,r){const{top:a,right:d,bottom:h,left:m,width:S,height:k}=t,N=S*n,H=k*n;return r>a-H&&r<h+H&&e>m-N&&e<d+N}class DL{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:$D(e)})})}handleScroll(n){const e=zb(n),r=this.positions.get(e);if(!r)return null;const a=r.scrollPosition;let d,h;if(e===this._document){const k=this.getViewportScrollPosition();d=k.top,h=k.left}else d=e.scrollTop,h=e.scrollLeft;const m=a.top-d,S=a.left-h;return this.positions.forEach((k,N)=>{k.clientRect&&e!==N&&e.contains(N)&&uv(k.clientRect,m,S)}),a.top=d,a.left=h,{top:m,left:S}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function AL(t){const n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();n.removeAttribute("id");for(let a=0;a<e.length;a++)e[a].removeAttribute("id");return"canvas"===r?kL(t,n):("input"===r||"select"===r||"textarea"===r)&&OL(t,n),RL("canvas",t,n,kL),RL("input, textarea, select",t,n,OL),n}function RL(t,n,e,r){const a=n.querySelectorAll(t);if(a.length){const d=e.querySelectorAll(t);for(let h=0;h<a.length;h++)r(a[h],d[h])}}let nK=0;function OL(t,n){"file"!==n.type&&(n.value=t.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${nK++}`)}function kL(t,n){const e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch(r){}}const PL=lv({passive:!0}),Xb=lv({passive:!1}),UD=new Set(["position"]);class rK{constructor(n,e,r,a,d,h){this._config=e,this._document=r,this._ngZone=a,this._viewportRuler=d,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ze,this._pointerMoveSubscription=D.EMPTY,this._pointerUpSubscription=D.EMPTY,this._scrollSubscription=D.EMPTY,this._resizeSubscription=D.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ze,this.started=new ze,this.released=new ze,this.ended=new ze,this.entered=new ze,this.exited=new ze,this.dropped=new ze,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const S=this._getTargetHandle(m);S&&!this._disabledHandles.has(S)&&!this.disabled&&this._initializeDragSequence(S,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const S=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(S.x-this._pickupPositionOnPage.x)+Math.abs(S.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ne=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),fe=this._dropContainer;if(!ne)return void this._endDragSequence(m);(!fe||!fe.isDragging()&&!fe.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}m.preventDefault();const k=this._getConstrainedPointerPosition(S);if(this._hasMoved=!0,this._lastKnownPointerPosition=S,this._updatePointerDirectionDelta(k),this._dropContainer)this._updateActiveDropContainer(k,S);else{const N=this._activeTransform;N.x=k.x-this._pickupPositionOnPage.x+this._passiveTransform.x,N.y=k.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(N.x,N.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:k,event:m,distance:this._getDragDistance(k),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this._nativeDragStart=m=>{if(this._handles.length){const S=this._getTargetHandle(m);S&&!this._disabledHandles.has(S)&&!this.disabled&&m.preventDefault()}else this.disabled||m.preventDefault()},this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new DL(r),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const e=kf(n);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Pf(r,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(r=>qo(r)),this._handles.forEach(r=>Pf(r,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&e.add(r)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=qo(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Xb),e.addEventListener("touchstart",this._pointerDown,PL),e.addEventListener("dragstart",this._nativeDragStart,Xb)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?qo(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){var n,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(n=this._rootElement)||void 0===n||n.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),Pf(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),Pf(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var n,e;null===(n=this._preview)||void 0===n||n.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var n,e;null===(n=this._placeholder)||void 0===n||n.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){dv(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const r=this._rootElement,a=r.parentNode,d=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();a.insertBefore(h,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),SL(r,!1,UD),this._document.body.appendChild(a.replaceChild(d,r)),this._getPreviewInsertionPoint(a,m).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const r=this.isDragging(),a=dv(e),d=!a&&0!==e.button,h=this._rootElement,m=zb(e),S=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),k=a?function IY(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(e):function PY(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}(e);if(m&&m.draggable&&"mousedown"===e.type&&e.preventDefault(),r||d||S||k)return;if(this._handles.length){const q=h.style;this._rootElementTapHighlight=q.webkitTapHighlightColor||"",q.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(q=>this._updateOnScroll(q)),this._boundaryElement&&(this._boundaryRect=$D(this._boundaryElement));const N=this._previewTemplate;this._pickupPositionInElement=N&&N.template&&!N.matchSize?{x:0,y:0}:this._getPointerPositionInElement(n,e);const H=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:H.x,y:H.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){SL(this._rootElement,!0,UD),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,r=e.getItemIndex(this),a=this._getPointerPositionOnPage(n),d=this._getDragDistance(a),h=e._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:d,dropPoint:a}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:d,dropPoint:a}),e.drop(this,r,this._initialIndex,this._initialContainer,h,d,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:r,y:a}){let d=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!d&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(d=this._initialContainer),d&&d!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=d,this._dropContainer.enter(this,n,e,d===this._initialContainer&&d.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:d,currentIndex:d.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,a),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,e=this.previewClass,r=n?n.template:null;let a;if(r&&n){const d=n.matchSize?this._rootElement.getBoundingClientRect():null,h=n.viewContainer.createEmbeddedView(r,n.context);h.detectChanges(),a=ML(h,this._document),this._previewRef=h,n.matchSize?NL(a,d):a.style.transform=Qb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const d=this._rootElement;a=AL(d),NL(a,d.getBoundingClientRect()),this._initialTransform&&(a.style.transform=this._initialTransform)}return HD(a.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},UD),Pf(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(d=>a.classList.add(d)):a.classList.add(e)),a}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=function tK(t){const n=getComputedStyle(t),e=jD(n,"transition-property"),r=e.find(m=>"transform"===m||"all"===m);if(!r)return 0;const a=e.indexOf(r),d=jD(n,"transition-duration"),h=jD(n,"transition-delay");return TL(d[a])+TL(h[a])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const a=h=>{var m;(!h||zb(h)===this._preview&&"transform"===h.propertyName)&&(null===(m=this._preview)||void 0===m||m.removeEventListener("transitionend",a),r(),clearTimeout(d))},d=setTimeout(a,1.5*e);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let r;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),r=ML(this._placeholderRef,this._document)):r=AL(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(n,e){const r=this._rootElement.getBoundingClientRect(),a=n===this._rootElement?null:n,d=a?a.getBoundingClientRect():r,h=dv(e)?e.targetTouches[0]:e,m=this._getViewportScrollPosition();return{x:d.left-r.left+(h.pageX-d.left-m.left),y:d.top-r.top+(h.pageY-d.top-m.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),r=dv(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,a=r.pageX-e.left,d=r.pageY-e.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const m=this._ownerSVGElement.createSVGPoint();return m.x=a,m.y=d,m.matrixTransform(h.inverse())}}return{x:a,y:d}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:a}=this.constrainPosition?this.constrainPosition(n,this):n;if("x"===this.lockAxis||"x"===e?a=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:d,y:h}=this._pickupPositionInElement,m=this._boundaryRect,{width:S,height:k}=this._getPreviewRect(),N=m.top+h,H=m.bottom-(k-h);r=IL(r,m.left+d,m.right-(S-d)),a=IL(a,N,H)}return{x:r,y:a}}_updatePointerDirectionDelta(n){const{x:e,y:r}=n,a=this._pointerDirectionDelta,d=this._pointerPositionAtLastDirectionChange,h=Math.abs(e-d.x),m=Math.abs(r-d.y);return h>this._config.pointerDirectionChangeThreshold&&(a.x=e>d.x?1:-1,d.x=e),m>this._config.pointerDirectionChangeThreshold&&(a.y=r>d.y?1:-1,d.y=r),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,Pf(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,Xb),n.removeEventListener("touchstart",this._pointerDown,PL),n.removeEventListener("dragstart",this._nativeDragStart,Xb)}_applyRootElementTransform(n,e){const r=Qb(n,e),a=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=a.transform&&"none"!=a.transform?a.transform:""),a.transform=qb(r,this._initialTransform)}_applyPreviewTransform(n,e){var r;const a=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,d=Qb(n,e);this._preview.style.transform=qb(d,a)}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===a.width&&0===a.height)return;const d=r.left-a.left,h=a.right-r.right,m=r.top-a.top,S=a.bottom-r.bottom;r.width>a.width?(d>0&&(n+=d),h>0&&(n-=h)):n=0,r.height>a.height?(m>0&&(e+=m),S>0&&(e-=S)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:dv(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const r=zb(n);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&uv(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var n;return(null===(n=this._parentPositions.positions.get(this._document))||void 0===n?void 0:n.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=gL(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const r=this._previewContainer||"global";if("parent"===r)return n;if("global"===r){const a=this._document;return e||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return qo(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}}function Qb(t,n){return`translate3d(${Math.round(t)}px, ${Math.round(n)}px, 0)`}function IL(t,n,e){return Math.max(n,Math.min(e,t))}function dv(t){return"t"===t.type[0]}function ML(t,n){const e=t.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const r=n.createElement("div");return e.forEach(a=>r.appendChild(a)),r}function NL(t,n){t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,t.style.transform=Qb(n.left,n.top)}function hv(t,n){return Math.max(0,Math.min(n,t))}class sK{constructor(n,e,r,a,d){this._dragDropRegistry=e,this._ngZone=a,this._viewportRuler=d,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ze,this.entered=new ze,this.exited=new ze,this.dropped=new ze,this.sorted=new ze,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=D.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ze,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function NY(t=0,n=z_){return t<0&&(t=0),Y_(t,t,n)}(0,CL).pipe(Xi(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,m=this.autoScrollStep;1===this._verticalScrollDirection?h.scrollBy(0,-m):2===this._verticalScrollDirection&&h.scrollBy(0,m),1===this._horizontalScrollDirection?h.scrollBy(-m,0):2===this._horizontalScrollDirection&&h.scrollBy(m,0)})},this.element=qo(n),this._document=r,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new DL(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,r,a){let d;this._draggingStarted(),null==a?(d=this.sortingDisabled?this._draggables.indexOf(n):-1,-1===d&&(d=this._getItemIndexFromPointerPosition(n,e,r))):d=a;const h=this._activeDraggables,m=h.indexOf(n),S=n.getPlaceholderElement();let k=h[d];if(k===n&&(k=h[d+1]),!k&&(null==d||-1===d||d<h.length-1)&&this._shouldEnterAsFirstChild(e,r)&&(k=h[0]),m>-1&&h.splice(m,1),k&&!this._dragDropRegistry.isDragging(k)){const N=k.getRootElement();N.parentElement.insertBefore(S,N),h.splice(d,0,n)}else qo(this.element).appendChild(S),h.push(n);S.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,r,a,d,h,m){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:r,container:this,previousContainer:a,isPointerOverContainer:d,distance:h,dropPoint:m})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(e.filter(a=>a.isDragging()).every(a=>-1===n.indexOf(a))?this._reset():this._cacheItems()),this}withDirection(n){return this._direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._orientation=n,this}withScrollableParents(n){const e=qo(this.element);return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,r,a){if(this.sortingDisabled||!this._clientRect||!EL(this._clientRect,.05,e,r))return;const d=this._itemPositions,h=this._getItemIndexFromPointerPosition(n,e,r,a);if(-1===h&&d.length>0)return;const m="horizontal"===this._orientation,S=d.findIndex(me=>me.drag===n),k=d[h],H=k.clientRect,q=S>h?1:-1,ne=this._getItemOffsetPx(d[S].clientRect,H,q),fe=this._getSiblingOffsetPx(S,d,q),ye=d.slice();(function oK(t,n,e){const r=hv(n,t.length-1),a=hv(e,t.length-1);if(r===a)return;const d=t[r],h=a<r?-1:1;for(let m=r;m!==a;m+=h)t[m]=t[m+h];t[a]=d})(d,S,h),this.sorted.next({previousIndex:S,currentIndex:h,container:this,item:n}),d.forEach((me,De)=>{if(ye[De]===me)return;const Te=me.drag===n,Fe=Te?ne:fe,Ve=Te?n.getPlaceholderElement():me.drag.getRootElement();me.offset+=Fe,m?(Ve.style.transform=qb(`translate3d(${Math.round(me.offset)}px, 0, 0)`,me.initialTransform),uv(me.clientRect,0,Fe)):(Ve.style.transform=qb(`translate3d(0, ${Math.round(me.offset)}px, 0)`,me.initialTransform),uv(me.clientRect,Fe,0))}),this._previousSwap.overlaps=WD(H,e,r),this._previousSwap.drag=k.drag,this._previousSwap.delta=m?a.x:a.y}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let r,a=0,d=0;if(this._parentPositions.positions.forEach((h,m)=>{m===this._document||!h.clientRect||r||EL(h.clientRect,.05,n,e)&&([a,d]=function aK(t,n,e,r){const a=GL(n,r),d=BL(n,e);let h=0,m=0;if(a){const S=t.scrollTop;1===a?S>0&&(h=1):t.scrollHeight-S>t.clientHeight&&(h=2)}if(d){const S=t.scrollLeft;1===d?S>0&&(m=1):t.scrollWidth-S>t.clientWidth&&(m=2)}return[h,m]}(m,h.clientRect,n,e),(a||d)&&(r=m))}),!a&&!d){const{width:h,height:m}=this._viewportRuler.getViewportSize(),S={width:h,height:m,top:0,right:h,bottom:m,left:0};a=GL(S,e),d=BL(S,n),r=window}r&&(a!==this._verticalScrollDirection||d!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=d,this._scrollNode=r,(a||d)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=qo(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=qo(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_cacheItemPositions(){const n="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const r=e.getVisibleElement();return{drag:e,offset:0,initialTransform:r.style.transform||"",clientRect:$D(r)}}).sort((e,r)=>n?e.clientRect.left-r.clientRect.left:e.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const n=qo(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var r;const a=e.getRootElement();if(a){const d=null===(r=this._itemPositions.find(h=>h.drag===e))||void 0===r?void 0:r.initialTransform;a.style.transform=d||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(n,e,r){const a="horizontal"===this._orientation,d=e[n].clientRect,h=e[n+-1*r];let m=d[a?"width":"height"]*r;if(h){const S=a?"left":"top",k=a?"right":"bottom";-1===r?m-=h.clientRect[S]-d[k]:m+=d[S]-h.clientRect[k]}return m}_getItemOffsetPx(n,e,r){const a="horizontal"===this._orientation;let d=a?e.left-n.left:e.top-n.top;return-1===r&&(d+=a?e.width-n.width:e.height-n.height),d}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,a="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const h=r[r.length-1].clientRect;return a?n>=h.right:e>=h.bottom}{const h=r[0].clientRect;return a?n<=h.left:e<=h.top}}_getItemIndexFromPointerPosition(n,e,r,a){const d="horizontal"===this._orientation,h=this._itemPositions.findIndex(({drag:m,clientRect:S})=>{if(m===n)return!1;if(a){const k=d?a.x:a.y;if(m===this._previousSwap.drag&&this._previousSwap.overlaps&&k===this._previousSwap.delta)return!1}return d?e>=Math.floor(S.left)&&e<Math.floor(S.right):r>=Math.floor(S.top)&&r<Math.floor(S.bottom)});return-1!==h&&this.sortPredicate(h,n,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(n,e){return null!=this._clientRect&&WD(this._clientRect,n,e)}_getSiblingContainerFromPosition(n,e,r){return this._siblings.find(a=>a._canReceive(n,e,r))}_canReceive(n,e,r){if(!this._clientRect||!WD(this._clientRect,e,r)||!this.enterPredicate(n,this))return!1;const a=this._getShadowRoot().elementFromPoint(e,r);if(!a)return!1;const d=qo(this.element);return a===d||d.contains(a)}_startReceiving(n,e){const r=this._activeSiblings;!r.has(n)&&e.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(r.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&(this._itemPositions.forEach(({clientRect:r})=>{uv(r,e.top,e.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=gL(qo(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function GL(t,n){const{top:e,bottom:r,height:a}=t,d=.05*a;return n>=e-d&&n<=e+d?1:n>=r-d&&n<=r+d?2:0}function BL(t,n){const{left:e,right:r,width:a}=t,d=.05*a;return n>=e-d&&n<=e+d?1:n>=r-d&&n<=r+d?2:0}const Zb=lv({passive:!1,capture:!0});let lK=(()=>{class t{constructor(e,r){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=a=>a.isDragging(),this.pointerMove=new ze,this.pointerUp=new ze,this.scroll=new ze,this._preventDefaultWhileDragging=a=>{this._activeDragInstances.length>0&&a.preventDefault()},this._persistentTouchmoveListener=a=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&a.preventDefault(),this.pointerMove.next(a))},this._document=r}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Zb)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Zb)}startDragging(e,r){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const a=r.type.startsWith("touch");this._globalListeners.set(a?"touchend":"mouseup",{handler:d=>this.pointerUp.next(d),options:!0}).set("scroll",{handler:d=>this.scroll.next(d),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Zb}),a||this._globalListeners.set("mousemove",{handler:d=>this.pointerMove.next(d),options:Zb}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((d,h)=>{this._document.addEventListener(h,d.handler,d.options)})})}}stopDragging(e){const r=this._activeDragInstances.indexOf(e);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const r=[this.scroll];return e&&e!==this._document&&r.push(new Oe(a=>this._ngZone.runOutsideAngular(()=>{const h=m=>{this._activeDragInstances.length&&a.next(m)};return e.addEventListener("scroll",h,!0),()=>{e.removeEventListener("scroll",h,!0)}}))),Dh(...r)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,r)=>{this._document.removeEventListener(r,e.handler,e.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(Qe($n),Qe(ri))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cK={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let zD=(()=>{class t{constructor(e,r,a,d){this._document=e,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=d}createDrag(e,r=cK){return new rK(e,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new sK(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri),Qe($n),Qe(qY),Qe(lK))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const VL=new Kt("CDK_DRAG_PARENT"),YD=new Kt("CdkDropListGroup");let uK=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=kf(e)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=gt({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[ei([{provide:YD,useExisting:t}])]}),t})();const HL=new Kt("CDK_DRAG_CONFIG");let dK=0;const jL=new Kt("CdkDropList");let hK=(()=>{class t{constructor(e,r,a,d,h,m,S){this.element=e,this._changeDetectorRef=a,this._scrollDispatcher=d,this._dir=h,this._group=m,this._destroyed=new ze,this.connectedTo=[],this.id="cdk-drop-list-"+dK++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Ae,this.entered=new Ae,this.exited=new Ae,this.sorted=new Ae,this._unsortedItems=new Set,this._dropListRef=r.createDropList(e),this._dropListRef.data=this,S&&this._assignDefaults(S),this._dropListRef.enterPredicate=(k,N)=>this.enterPredicate(k.data,N.data),this._dropListRef.sortPredicate=(k,N,H)=>this.sortPredicate(k,N.data,H.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),m&&m._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=kf(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,r)=>e._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Kd(this._dir.value),Xi(this._destroyed)).subscribe(r=>e.withDirection(r)),e.beforeStarted.subscribe(()=>{const r=function yY(t){return Array.isArray(t)?t:[t]}(this.connectedTo).map(a=>"string"==typeof a?t._dropLists.find(h=>h.id===a):a);if(this._group&&this._group._items.forEach(a=>{-1===r.indexOf(a)&&r.push(a)}),!this._scrollableParentsResolved){const a=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(d=>d.getElementRef().nativeElement);this._dropListRef.withScrollableParents(a),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=kf(this.sortingDisabled),e.autoScrollDisabled=kf(this.autoScrollDisabled),e.autoScrollStep=mL(this.autoScrollStep,2),e.connectedTo(r.filter(a=>a&&a!==this).map(a=>a._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:r,draggingDisabled:a,sortingDisabled:d,listAutoScrollDisabled:h,listOrientation:m}=e;this.disabled=null!=a&&a,this.sortingDisabled=null!=d&&d,this.autoScrollDisabled=null!=h&&h,this.orientation=m||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return t._dropLists=[],t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se(zD),Se(Nr),Se(YY),Se(xL,8),Se(YD,12),Se(HL,8))},t.\u0275dir=gt({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,r){2&e&&(Ut("id",r.id),Re("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ei([{provide:YD,useValue:void 0},{provide:jL,useExisting:t}])]}),t})();const $L=new Kt("CdkDragHandle"),pK=new Kt("CdkDragPlaceholder"),fK=new Kt("CdkDragPreview");let mK=(()=>{class t{constructor(e,r,a,d,h,m,S,k,N,H,q){this.element=e,this.dropContainer=r,this._ngZone=d,this._viewContainerRef=h,this._dir=S,this._changeDetectorRef=N,this._selfHandle=H,this._parentDrag=q,this._destroyed=new ze,this.started=new Ae,this.released=new Ae,this.ended=new Ae,this.entered=new Ae,this.exited=new Ae,this.dropped=new Ae,this.moved=new Oe(ne=>{const fe=this._dragRef.moved.pipe(vt(ye=>({source:this,pointerPosition:ye.pointerPosition,event:ye.event,delta:ye.delta,distance:ye.distance}))).subscribe(ne);return()=>{fe.unsubscribe()}}),this._dragRef=k.createDrag(e,{dragStartThreshold:m&&null!=m.dragStartThreshold?m.dragStartThreshold:5,pointerDirectionChangeThreshold:m&&null!=m.pointerDirectionChangeThreshold?m.pointerDirectionChangeThreshold:5,zIndex:null==m?void 0:m.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),m&&this._assignDefaults(m),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=kf(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ji(1),Xi(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const r=e.rootElementSelector,a=e.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const r=this.element.nativeElement;let a=r;this.rootElementSelector&&(a=void 0!==r.closest?r.closest(this.rootElementSelector):null===(e=r.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(a||r)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):qo(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const r=this._dir,a=this.dragStartDelay,d=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof a&&a?a:mL(a),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(d).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),r&&e.withDirection(r.value)}}),e.beforeStarted.pipe(Ji(1)).subscribe(()=>{var r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let a=this.element.nativeElement.parentElement;for(;a;){if(a.classList.contains("cdk-drag")){e.withParent((null===(r=t._dragInstances.find(d=>d.element.nativeElement===a))||void 0===r?void 0:r._dragRef)||null);break}a=a.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),e.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),e.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(e){const{lockAxis:r,dragStartDelay:a,constrainPosition:d,previewClass:h,boundaryElement:m,draggingDisabled:S,rootElementSelector:k,previewContainer:N}=e;this.disabled=null!=S&&S,this.dragStartDelay=a||0,r&&(this.lockAxis=r),d&&(this.constrainPosition=d),h&&(this.previewClass=h),m&&(this.boundaryElement=m),k&&(this.rootElementSelector=k),N&&(this.previewContainer=N)}_setupHandlesListener(){this._handles.changes.pipe(Kd(this._handles),Xr(e=>{const r=e.filter(a=>a._parentDrag===this).map(a=>a.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Ha(e=>Dh(...e.map(r=>r._stateChanges.pipe(Kd(r))))),Xi(this._destroyed)).subscribe(e=>{const r=this._dragRef,a=e.element.nativeElement;e.disabled?r.disableHandle(a):r.enableHandle(a)})}}return t._dragInstances=[],t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se(jL,12),Se(ri),Se($n),Se(co),Se(HL,8),Se(xL,8),Se(zD),Se(Nr),Se($L,10),Se(VL,12))},t.\u0275dir=gt({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(e,r,a){if(1&e&&(xi(a,fK,5),xi(a,pK,5),xi(a,$L,5)),2&e){let d;dn(d=hn())&&(r._previewTemplate=d.first),dn(d=hn())&&(r._placeholderTemplate=d.first),dn(d=hn())&&(r._handles=d)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,r){2&e&&Re("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ei([{provide:VL,useExisting:t}]),Wn]}),t})(),_K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({providers:[zD],imports:[XY]}),t})();const vK=["closebuttonCreateColumn"],yK=["closebuttonUpdateColumn"],CK=["closebuttonCreateTask"],bK=["closebuttonUpdateTask"];function wK(t,n){if(1&t&&($(0,"option",60),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e),Ut("selected",e.id==r.projectSelectedId||null),W(1),wt(" ",e.name,"")}}function xK(t,n){if(1&t){const e=Wt();$(0,"div",56),Ee(1,"em",57),$(2,"select",58),tt("change",function(a){return Et(e),ve().loadProjectByIdEvent(a.target)}),he(3,wK,2,4,"option",59),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.myProjects)}}function SK(t,n){if(1&t&&($(0,"option",60),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e),Ut("selected",e.id==r.sprintSelectedId||null),W(1),ur(" #",e.number,": ",e.title,"")}}function TK(t,n){if(1&t){const e=Wt();$(0,"div",56),Ee(1,"em",61),$(2,"select",58),tt("change",function(a){return Et(e),ve().loadSprintByIdEvent(a.target)}),he(3,SK,2,5,"option",59),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.mySprints)}}function EK(t,n){1&t&&($(0,"a",62),Ee(1,"em",63),z()),2&t&&te("openDelay",300)}function DK(t,n){if(1&t&&($(0,"div",64),pe(1),z()),2&t){const e=ve();W(1),Fi(e.messageError)}}function AK(t,n){if(1&t){const e=Wt();$(0,"a",73),tt("click",function(){Et(e);const a=ve().$implicit;return ve().fillColumnUpdateForm(a)}),Ee(1,"em",74),z()}2&t&&te("openDelay",300)}function RK(t,n){if(1&t){const e=Wt();$(0,"a",75),tt("click",function(){Et(e);const a=ve().$implicit;return ve().fillColumnUpdateForm(a)}),Ee(1,"em",76),z()}2&t&&te("openDelay",300)}function OK(t,n){if(1&t){const e=Wt();$(0,"a",77),tt("click",function(){Et(e);const a=ve().$implicit;return ve().disableColumn(a)}),Ee(1,"em",78),z()}2&t&&te("openDelay",300)}function kK(t,n){if(1&t){const e=Wt();Di(0),$(1,"a",91),tt("click",function(){Et(e);const a=ve().$implicit;return ve(2).startEffort(a.id)}),Ee(2,"em",92),z(),lr()}2&t&&(W(1),te("openDelay",300))}function PK(t,n){if(1&t){const e=Wt();$(0,"a",93),tt("click",function(){return Et(e),ve(3).endEffort()}),Ee(1,"em",94),z()}2&t&&te("openDelay",300)}function IK(t,n){if(1&t){const e=Wt();$(0,"a",95),tt("click",function(){Et(e);const a=ve().$implicit;return ve(2).fillTaskUpdateForm(a)}),Ee(1,"em",96),z()}2&t&&te("openDelay",300)}function MK(t,n){if(1&t){const e=Wt();$(0,"a",97),tt("click",function(){Et(e);const a=ve().$implicit;return ve(2).disableTask(a)}),Ee(1,"em",98),z()}2&t&&te("openDelay",300)}function NK(t,n){if(1&t&&(Di(0),$(1,"div",101),Ee(2,"div",102),z(),lr()),2&t){const e=ve(2).$implicit,r=ve(2);W(2),Ge("width: "+e.computedTime/e.estimatedTime*100+"%"),He(null==r.activeEffort||null!=r.activeEffort.description&&0!=r.activeEffort.description.length||null!=r.activeEffort&&null!=r.activeEffort.kanbanTask&&e.id!=r.activeEffort.kanbanTask.id?"":"progress-bar-striped progress-bar-animated")}}function FK(t,n){if(1&t&&($(0,"div",103),Ee(1,"div",102),z()),2&t){const e=ve(2).$implicit,r=ve(2);W(1),Ge("width: "+e.estimatedTime/e.computedTime*100+"%"),He(null==r.activeEffort||null!=r.activeEffort.description&&0!=r.activeEffort.description.length||null!=r.activeEffort&&null!=r.activeEffort.kanbanTask&&e.id!=r.activeEffort.kanbanTask.id?"":"progress-bar-striped progress-bar-animated")}}function LK(t,n){if(1&t&&($(0,"div",99),he(1,NK,3,4,"ng-container",83),he(2,FK,2,4,"ng-template",null,100,Hi),z()),2&t){const e=wi(3),r=ve().$implicit;W(1),te("ngIf",r.computedTime<=r.estimatedTime)("ngIfElse",e)}}function GK(t,n){if(1&t&&($(0,"div",106)(1,"div",107),pe(2),z()()),2&t){const e=n.$implicit;W(2),wt(" #",e.trim()," ")}}function BK(t,n){if(1&t&&($(0,"div",104),he(1,GK,3,1,"div",105),z()),2&t){const e=ve().$implicit;W(1),te("ngForOf",e.tags.split(","))}}function VK(t,n){if(1&t&&Ee(0,"img",112),2&t){const e=ve(2).$implicit;Qn("src",ve(4).getProfileImageUrlFromUser(e),To),Kr("alt","@",e.username," profile image")}}function HK(t,n){if(1&t&&(Di(0),he(1,VK,1,2,"img",111),lr()),2&t){const e=ve().$implicit,r=ve(4);W(1),te("ngIf",null!=r.getProfileImageUrlFromUser(e)&&""!=r.getProfileImageUrlFromUser(e))}}function jK(t,n){1&t&&Ee(0,"em",113)}function $K(t,n){if(1&t&&($(0,"div",109),he(1,HK,2,1,"ng-container",83),he(2,jK,1,0,"ng-template",null,110,Hi),z()),2&t){const e=n.$implicit,r=wi(3),a=ve(4);Kr("ngbTooltip","@",e.username,""),te("openDelay",300),W(1),te("ngIf",null!=a.getProfileImageUrlFromUser(e)&&""!=a.getProfileImageUrlFromUser(e))("ngIfElse",r)}}function WK(t,n){if(1&t&&($(0,"div",15),he(1,$K,4,4,"div",108),z()),2&t){const e=ve().$implicit;W(1),te("ngForOf",e.assignedUsers)}}function UK(t,n){if(1&t&&($(0,"div",79)(1,"div",80)(2,"div",15)(3,"div",81),pe(4),z(),$(5,"div",82),he(6,kK,3,1,"ng-container",83),he(7,PK,2,1,"ng-template",null,84,Hi),he(9,IK,2,1,"a",85),he(10,MK,2,1,"a",86),z()(),$(11,"div",87),pe(12),z(),he(13,LK,4,2,"div",88),he(14,BK,2,1,"div",89),he(15,WK,2,1,"div",90),z()()),2&t){const e=n.$implicit,r=wi(8),a=ve(2);te("cdkDragData",e),W(4),ur("#",e.number,": ",e.title,""),W(2),te("ngIf",null==a.activeEffort||null!=a.activeEffort.description&&0!=a.activeEffort.description.length||null!=a.activeEffort&&null!=a.activeEffort.kanbanTask&&e.id!=a.activeEffort.kanbanTask.id)("ngIfElse",r),W(3),te("ngIf",a.memberAccess),W(1),te("ngIf",a.memberAccess),W(2),Fi(e.description),W(1),te("ngIf",0!=e.computedTime&&e.estimatedTime),W(1),te("ngIf",e.tags),W(1),te("ngIf",e.assignedUsers&&0!=e.assignedUsers.length)}}function zK(t,n){if(1&t){const e=Wt();$(0,"div",65)(1,"div",15)(2,"div",66),pe(3),z(),$(4,"div",67),he(5,AK,2,1,"a",68),he(6,RK,2,1,"a",69),he(7,OK,2,1,"a",70),z()(),$(8,"div",71),tt("cdkDropListDropped",function(a){return Et(e),ve().dropTask(a)}),he(9,UK,16,11,"div",72),z()()}if(2&t){const e=n.$implicit,r=ve();W(3),Fi(e.title),W(2),te("ngIf",r.memberAccess),W(1),te("ngIf",r.adminAccess),W(1),te("ngIf",0==e.tasks.length&&r.adminAccess),W(1),Kr("id","dropList_",e,""),te("cdkDropListData",e),W(1),te("ngForOf",e.tasks)}}function YK(t,n){if(1&t&&($(0,"div",114),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.newColumnMessageError," ")}}function KK(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function qK(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function XK(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function QK(t,n){if(1&t&&($(0,"div",115),he(1,KK,2,0,"div",116),he(2,qK,2,0,"div",116),he(3,XK,2,0,"div",116),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formNewColumn.get("title"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formNewColumn.get("title"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formNewColumn.get("title"))||null==d.errors?null:d.errors.maxlength)}}function ZK(t,n){if(1&t&&($(0,"div",114),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.updateColumnMessageError," ")}}function JK(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function eq(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function tq(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function nq(t,n){if(1&t&&($(0,"div",115),he(1,JK,2,0,"div",116),he(2,eq,2,0,"div",116),he(3,tq,2,0,"div",116),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateColumn.get("title"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateColumn.get("title"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formUpdateColumn.get("title"))||null==d.errors?null:d.errors.maxlength)}}function iq(t,n){if(1&t&&($(0,"div",114),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.newTaskMessageError," ")}}function rq(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function oq(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function sq(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function aq(t,n){if(1&t&&($(0,"div",115),he(1,rq,2,0,"div",116),he(2,oq,2,0,"div",116),he(3,sq,2,0,"div",116),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formNewTask.get("title"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formNewTask.get("title"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formNewTask.get("title"))||null==d.errors?null:d.errors.maxlength)}}function lq(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function cq(t,n){if(1&t&&($(0,"div",115),he(1,lq,2,0,"div",116),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formNewTask.get("description"))||null==r.errors?null:r.errors.maxlength)}}function uq(t,n){1&t&&($(0,"div"),pe(1,"Cannot be negative time "),z())}function dq(t,n){if(1&t&&($(0,"div",115),he(1,uq,2,0,"div",116),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formNewTask.get("estimatedTime"))||null==r.errors?null:r.errors.min)}}function hq(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function pq(t,n){if(1&t&&($(0,"div",115),he(1,hq,2,0,"div",116),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formNewTask.get("importance"))||null==r.errors?null:r.errors.maxlength)}}function fq(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function gq(t,n){if(1&t&&($(0,"div",115),he(1,fq,2,0,"div",116),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formNewTask.get("tags"))||null==r.errors?null:r.errors.maxlength)}}function mq(t,n){1&t&&($(0,"div"),pe(1," Cannot be empty"),z())}function _q(t,n){1&t&&($(0,"div"),pe(1," Must containt at least 2 characters"),z())}function vq(t,n){1&t&&($(0,"div"),pe(1," Only 30 characters are allowed"),z())}function yq(t,n){if(1&t&&($(0,"div",115),he(1,mq,2,0,"div",116),he(2,_q,2,0,"div",116),he(3,vq,2,0,"div",116),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formAddAssignedUser.get("username"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formAddAssignedUser.get("username"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formAddAssignedUser.get("username"))||null==d.errors?null:d.errors.maxlength)}}function Cq(t,n){if(1&t&&($(0,"option"),pe(1),z()),2&t){const e=n.$implicit;W(1),Fi(e.username)}}function bq(t,n){if(1&t&&(Di(0),Ee(1,"img",121),lr()),2&t){const e=ve().$implicit,r=ve();W(1),Qn("src",r.getProfileImageUrlFromUser(e),To)}}function wq(t,n){1&t&&Ee(0,"em",122)}function xq(t,n){if(1&t){const e=Wt();$(0,"div",117),he(1,bq,2,1,"ng-container",83),he(2,wq,1,0,"ng-template",null,110,Hi),$(4,"div",118),pe(5),z(),$(6,"div")(7,"a",119),tt("click",function(){const d=Et(e).index;return ve().removeAssignedUsername(d)}),Ee(8,"em",120),z()()()}if(2&t){const e=n.$implicit,r=wi(3),a=ve();W(1),te("ngIf",null!=a.getProfileImageUrlFromUser(e)&&""!=a.getProfileImageUrlFromUser(e))("ngIfElse",r),W(4),wt(" @",e.username," "),W(2),Kr("ngbTooltip","Delete @",e.username,""),te("openDelay",300)}}function Sq(t,n){if(1&t&&($(0,"option",123),pe(1),z()),2&t){const e=n.$implicit;Qn("value",e.id),W(1),ur("#",e.number,": ",e.title,"")}}function Tq(t,n){if(1&t){const e=Wt();$(0,"div",124)(1,"div",125),pe(2),z(),$(3,"div")(4,"a",119),tt("click",function(){const d=Et(e).index;return ve().removeChildrenTask(d)}),Ee(5,"em",120),z()()()}if(2&t){const e=n.$implicit;W(2),ur("#",e.number,": ",e.title,""),W(2),Kr("ngbTooltip","Delete #",e.number,""),te("openDelay",300)}}function Eq(t,n){if(1&t&&($(0,"div",114),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.updateTaskMessageError," ")}}function Dq(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function Aq(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function Rq(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function Oq(t,n){if(1&t&&($(0,"div",115),he(1,Dq,2,0,"div",116),he(2,Aq,2,0,"div",116),he(3,Rq,2,0,"div",116),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateTask.get("title"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateTask.get("title"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formUpdateTask.get("title"))||null==d.errors?null:d.errors.maxlength)}}function kq(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function Pq(t,n){if(1&t&&($(0,"div",115),he(1,kq,2,0,"div",116),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formUpdateTask.get("description"))||null==r.errors?null:r.errors.maxlength)}}function Iq(t,n){1&t&&($(0,"div"),pe(1,"Cannot be negative time "),z())}function Mq(t,n){if(1&t&&($(0,"div",115),he(1,Iq,2,0,"div",116),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formUpdateTask.get("estimatedTime"))||null==r.errors?null:r.errors.min)}}function Nq(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function Fq(t,n){if(1&t&&($(0,"div",115),he(1,Nq,2,0,"div",116),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formUpdateTask.get("importance"))||null==r.errors?null:r.errors.maxlength)}}function Lq(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function Gq(t,n){if(1&t&&($(0,"div",115),he(1,Lq,2,0,"div",116),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formUpdateTask.get("tags"))||null==r.errors?null:r.errors.maxlength)}}function Bq(t,n){1&t&&($(0,"div"),pe(1," Cannot be empty"),z())}function Vq(t,n){1&t&&($(0,"div"),pe(1," Must containt at least 2 characters"),z())}function Hq(t,n){1&t&&($(0,"div"),pe(1," Only 30 characters are allowed"),z())}function jq(t,n){if(1&t&&($(0,"div",115),he(1,Bq,2,0,"div",116),he(2,Vq,2,0,"div",116),he(3,Hq,2,0,"div",116),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formAddAssignedUser.get("username"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formAddAssignedUser.get("username"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formAddAssignedUser.get("username"))||null==d.errors?null:d.errors.maxlength)}}function $q(t,n){if(1&t&&(Di(0),Ee(1,"img",121),lr()),2&t){const e=ve().$implicit,r=ve();W(1),Qn("src",r.getProfileImageUrlFromUser(e),To)}}function Wq(t,n){1&t&&Ee(0,"em",122)}function Uq(t,n){if(1&t){const e=Wt();$(0,"div",117),he(1,$q,2,1,"ng-container",83),he(2,Wq,1,0,"ng-template",null,110,Hi),$(4,"div",118),pe(5),z(),$(6,"div")(7,"a",119),tt("click",function(){const d=Et(e).index;return ve().removeAssignedUsername(d)}),Ee(8,"em",120),z()()()}if(2&t){const e=n.$implicit,r=wi(3),a=ve();W(1),te("ngIf",null!=a.getProfileImageUrlFromUser(e)&&""!=a.getProfileImageUrlFromUser(e))("ngIfElse",r),W(4),wt(" @",e.username," "),W(2),Kr("ngbTooltip","Delete @",e.username,""),te("openDelay",300)}}function zq(t,n){if(1&t&&($(0,"option",123),pe(1),z()),2&t){const e=n.$implicit;Qn("value",e.id),W(1),ur("#",e.number,": ",e.title,"")}}function Yq(t,n){if(1&t){const e=Wt();$(0,"div",15)(1,"div",125),pe(2),z(),$(3,"div")(4,"a",119),tt("click",function(){Et(e);const a=ve().index;return ve().removeChildrenTask(a)}),Ee(5,"em",120),z()()()}if(2&t){const e=ve().$implicit;W(2),ur("#",e.number,": ",e.title,""),W(2),Kr("ngbTooltip","Delete #",e.number,""),te("openDelay",300)}}function Kq(t,n){if(1&t&&($(0,"div",126),he(1,Yq,6,4,"div",90),z()),2&t){const e=n.$implicit;W(1),te("ngIf",e.active)}}let qq=(()=>{class t extends ah{constructor(e,r,a,d,h,m,S){super(e,r,a,d,h,m),this.userService=S,this.newColumnContainError=!1,this.updateColumnContainError=!1,this.myTasks=[],this.newTaskContainError=!1,this.updateTaskContainError=!1,this.assignedUsers=[],this.selectedChildrens=[],this.formNewColumn=h.group({title:["",[nn.required]]}),this.formUpdateColumn=h.group({title:["",[nn.required]],columnOrder:["",[nn.required]]}),this.formNewTask=h.group({title:["",[nn.required]],description:["",[]],estimatedTime:["",[]],tags:["",[]],importance:["",[]],dueStartDate:["",[]],dueEndDate:["",[]]}),this.formUpdateTask=h.group({title:["",[nn.required]],description:["",[]],estimatedTime:["",[]],tags:["",[]],importance:["",[]],dueStartDate:["",[]],dueEndDate:["",[]]}),this.formAddAssignedUser=h.group({username:["",[]]}),this.formAddChildrenTask=h.group({children:["",[]]})}ngOnInit(){this.loadKanban=!0,this.loadTasks=!0,this.loadMyProjects()}startEffort(e){let r=new LD("",e);this.effortService.startEffort(r).subscribe(a=>{this.containError=!1,this.loadKanbanBySelectedSprint()},a=>{this.returnPrincipalError(a)})}endEffort(){this.effortService.endEffort(this.activeEffort.id).subscribe(e=>{this.containError=!1,this.loadKanbanBySelectedSprint()},e=>{this.returnPrincipalError(e)})}newColumn(){let e=this.sprintService.getStoredSprintId();if(null!=e&&0!=e){let r=new pY(this.formNewColumn.value.title,e);this.kanbanService.createKanbanColumn(r).subscribe(a=>{this.formNewColumn.reset(),this.closebuttonCreateColumn.nativeElement.click(),this.loadKanbanBySelectedSprint()},a=>{var d=a.error.text;null==d&&(d="Error produced"),this.newColumnMessageError=d,this.newColumnContainError=!0})}}fillColumnUpdateForm(e){this.kanbanColumnSelected=e,this.formUpdateColumn=this.formBuilder.group({title:[e.title,[nn.required]],columnOrder:[e.columnOrder,[nn.required]]})}editColumn(){let e=new fY(this.kanbanColumnSelected.id,this.formUpdateColumn.value.title,this.formUpdateColumn.value.columnOrder);this.kanbanService.updateKanbanColumn(e).subscribe(r=>{this.formUpdateColumn.reset(),this.closebuttonUpdateColumn.nativeElement.click(),this.loadKanbanBySelectedSprint()},r=>{var a=r.error.text;null==a&&(a="Error produced"),this.updateColumnMessageError=a,this.updateColumnContainError=!0})}disableColumn(e){confirm("Are you sure to disable "+e.title+"?")&&this.kanbanService.disableKanbanColumn(e.id).subscribe(r=>{this.containError=!1,this.loadKanbanBySelectedSprint()},r=>{this.returnPrincipalError(r)})}reloadTaskAttributes(){this.assignedUsers=[],this.selectedChildrens=[],this.formAddAssignedUser.reset(),this.formAddChildrenTask.reset()}addAssignedUsername(){var e=this.formAddAssignedUser.value.username,r=this.usersInProject.find(a=>a.username==e);void 0!==r&&-1==this.assignedUsers.indexOf(r)&&(this.assignedUsers.push(r),this.formAddAssignedUser.reset())}removeAssignedUsername(e){this.assignedUsers.splice(e,1)}getUsernamesInArray(e){return e.map(r=>r.username)}addChildrenTask(){var e=this.formAddChildrenTask.value.children,r=this.myTasks.find(a=>a.id==e);void 0!==r&&-1==this.selectedChildrens.indexOf(r)&&(this.selectedChildrens.push(r),this.formAddChildrenTask.reset())}removeChildrenTask(e){this.selectedChildrens.splice(e,1)}getChildrenIdsInArray(e){return e.map(r=>r.id)}newTask(){let e=new cL(this.formNewTask.value.title,this.formNewTask.value.description,this.formNewTask.value.estimatedTime,this.kanbanColumnSelected.id,this.formNewTask.value.tags,this.formNewTask.value.importance,this.formNewTask.value.dueStartDate,this.formNewTask.value.dueEndDate,this.getUsernamesInArray(this.assignedUsers),this.getChildrenIdsInArray(this.selectedChildrens));this.kanbanService.createKanbanTask(e).subscribe(r=>{this.formNewTask.reset(),this.closebuttonCreateTask.nativeElement.click(),this.loadKanbanBySelectedSprint(),this.reloadTaskAttributes()},r=>{var a=r.error.text;null==a&&(a="Error produced"),this.newTaskMessageError=a,this.newTaskContainError=!0})}fillTaskUpdateForm(e){this.kanbanTaskSelected=e,this.assignedUsers=e.assignedUsers,this.selectedChildrens=e.children,this.formUpdateTask=this.formBuilder.group({title:[e.title,[nn.required]],description:[e.description,[]],estimatedTime:[e.estimatedTime,[]],importance:[e.importance,[]],tags:[e.tags,[]],dueStartDate:[e.dueStartDate,[]],dueEndDate:[e.dueEndDate,[]]})}editTask(){let e=new sv(this.kanbanTaskSelected.id,this.formUpdateTask.value.title,this.formUpdateTask.value.description,this.formUpdateTask.value.estimatedTime,this.formUpdateTask.value.tags,this.formUpdateTask.value.importance,this.formUpdateTask.value.dueStartDate,this.formUpdateTask.value.dueEndDate,this.getUsernamesInArray(this.assignedUsers),this.getChildrenIdsInArray(this.selectedChildrens));this.kanbanService.updateKanbanTask(e).subscribe(r=>{this.formUpdateTask.reset(),this.closebuttonUpdateTask.nativeElement.click(),this.loadKanbanBySelectedSprint(),this.reloadTaskAttributes()},r=>{var a=r.error.text;null==a&&(a="Error produced"),this.updateTaskMessageError=a,this.updateTaskContainError=!0})}disableTask(e){confirm("Are you sure to disable #"+e.number+" "+e.title+"?")&&this.kanbanService.disableKanbanTask(e.id).subscribe(r=>{this.containError=!1,this.loadKanbanBySelectedSprint()},r=>{this.returnPrincipalError(r)})}updateTemporallyDragDrop(e){var r=this.kanban[e.previousContainer.data.id-1].tasks[e.previousIndex];this.kanban[e.previousContainer.data.id-1].tasks.splice(e.previousIndex,1),this.kanban[e.container.data.id-1].tasks.splice(e.currentIndex,0,r)}dropTask(e){this.updateTemporallyDragDrop(e);let r=new gY(e.item.data.id,e.container.data.id,e.currentIndex);this.kanbanService.moveKanbanTask(r).subscribe(a=>{this.containError=!1,this.loadKanbanBySelectedSprint()},a=>{this.returnPrincipalError(a)})}getProfileImageUrlFromUser(e){return this.userService.getUrlFromProfile(e.imageUid)}}return t.\u0275fac=function(e){return new(e||t)(Se(xu),Se(ac),Se(Su),Se(Tu),Se(Ka),Se(Ls),Se(Rf))},t.\u0275cmp=tn({type:t,selectors:[["iMan-kanban"]],viewQuery:function(e,r){if(1&e&&(Ki(vK,5),Ki(yK,5),Ki(CK,5),Ki(bK,5)),2&e){let a;dn(a=hn())&&(r.closebuttonCreateColumn=a.first),dn(a=hn())&&(r.closebuttonUpdateColumn=a.first),dn(a=hn())&&(r.closebuttonCreateTask=a.first),dn(a=hn())&&(r.closebuttonUpdateTask=a.first)}},features:[Bn],decls:220,vars:106,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add column","placement","left","data-bs-toggle","modal","data-bs-target","#createColumnModal",3,"openDelay",4,"ngIf"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],[1,"scrollable-x"],["cdkDropListGroup","",1,"d-flex"],["class","card column-card m-3 user-select-none",4,"ngFor","ngForOf"],["id","createColumnModal","tabindex","-1","aria-labelledby","createColumnModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x"],[3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["type","text","name","title","formControlName","title","maxlength","50","minlength","2","placeholder",""],["class","invalid-feedback",4,"ngIf"],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebuttonCreateColumn",""],["type","submit",1,"btn","btn-success",3,"disabled"],["id","updateColumnModal","tabindex","-1","aria-labelledby","updateColumnModalLabel","aria-hidden","true",1,"modal","fade"],["closebuttonUpdateColumn",""],["id","impDataLs"],["id","createTaskModal","tabindex","-1","aria-labelledby","createTaskModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","name","description","formControlName","description","maxlength","255","placeholder",""],["type","number","step","0.5","name","estimatedTime","formControlName","estimatedTime","min","0","value","0"],["type","text","name","importance","formControlName","importance","list","impDataLs","maxlength","50","placeholder",""],["type","text","name","tags","formControlName","tags","maxlength","255","placeholder",""],["type","date","name","dueStartDate","formControlName","dueStartDate","placeholder",""],["type","date","name","dueEndDate","formControlName","dueEndDate","placeholder","","min",""],[1,"flex-grow-1","form-group","me-3"],["type","text","name","username","list","usersInProject","formControlName","username","maxlength","30","minlength","2","placeholder","User"],["id","usersInProject"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","my-auto",3,"disabled"],["class","d-flex mx-2 my-3",4,"ngFor","ngForOf"],[1,"mb-3",3,"formGroup","ngSubmit"],["formControlName","children"],[3,"value",4,"ngFor","ngForOf"],["class","d-flex mx-2",4,"ngFor","ngForOf"],["closebuttonCreateTask",""],["id","updateTaskModal","tabindex","-1","aria-labelledby","updateTaskModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","name","description","formControlName","description","maxlength","255","minlength","2","placeholder",""],["type","text","name","tags","formControlName","tags","maxlength","255","minlength","2","placeholder",""],["type","text","name","username","formControlName","username","maxlength","30","minlength","2","placeholder","User"],["class","mx-2",4,"ngFor","ngForOf"],["closebuttonUpdateTask",""],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Sprint","placement","bottom",1,"bi","bi-md","bi-arrow-repeat","me-2",3,"openDelay"],["ngbTooltip","Add column","placement","left","data-bs-toggle","modal","data-bs-target","#createColumnModal",3,"openDelay"],[1,"bi","bi-plus-lg"],[1,"alert","alert-danger","mt-3","mb-3"],[1,"card","column-card","m-3","user-select-none"],[1,"b-text","my-4","text-center","flex-grow-1"],[1,"m-auto"],["ngbTooltip","Add task","placement","left","data-bs-toggle","modal","data-bs-target","#createTaskModal",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateColumnModal",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Delete","placement","left",3,"openDelay","click",4,"ngIf"],["cdkDropList","",1,"overflow-auto","scrollable-content",3,"id","cdkDropListData","cdkDropListDropped"],["class","card task-card mb-3 mx-3","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["ngbTooltip","Add task","placement","left","data-bs-toggle","modal","data-bs-target","#createTaskModal",3,"openDelay","click"],[1,"bi","bi-md","bi-plus-lg","me-3"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateColumnModal",3,"openDelay","click"],[1,"bi","bi-md","bi-pencil-fill","me-3"],["ngbTooltip","Delete","placement","left",3,"openDelay","click"],[1,"bi","bi-md","bi-trash-fill","me-3"],["cdkDrag","",1,"card","task-card","mb-3","mx-3",3,"cdkDragData"],[1,"m-3"],[1,"m-text","flex-grow-1","text-break"],[1,"d-flex","my-auto"],[4,"ngIf","ngIfElse"],["startedTask",""],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateTaskModal",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Achieve","placement","left",3,"openDelay","click",4,"ngIf"],[1,"s-text"],["class","mx-1 mt-3",4,"ngIf"],["class","d-flex mt-3",4,"ngIf"],["class","d-flex",4,"ngIf"],["ngbTooltip","Start effort","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-sm","bi-play-circle-fill","me-2"],["ngbTooltip","Stop effort","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-sm","bi-square-fill","me-2"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateTaskModal",3,"openDelay","click"],[1,"bi","bi-sm","bi-pencil-fill","me-2"],["ngbTooltip","Achieve","placement","left",3,"openDelay","click"],[1,"bi","bi-sm","bi-trash-fill","me-2"],[1,"mx-1","mt-3"],["overloadTime",""],[1,"progress","bg-success"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info"],[1,"progress","bg-danger"],[1,"d-flex","mt-3"],["class","mx-1",4,"ngFor","ngForOf"],[1,"mx-1"],[1,"chip"],["class","mx-1","placement","right",3,"ngbTooltip","openDelay",4,"ngFor","ngForOf"],["placement","right",1,"mx-1",3,"ngbTooltip","openDelay"],["showIconProfile",""],["class","profile-image my-2",3,"src","alt",4,"ngIf"],[1,"profile-image","my-2",3,"src","alt"],[1,"bi","bi-person-circle",2,"font-size","35px !important"],[1,"alert","alert-danger","mt-5"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mx-2","my-3"],[1,"flex-grow-1","center","m-text"],["placement","right",1,"nav-link",3,"ngbTooltip","openDelay","click"],[1,"bi","bi-sm","bi-trash-fill"],["alt","Profile image",1,"profile-image","me-3","my-auto",3,"src"],[1,"bi","bi-person-circle","me-3",2,"font-size","35px !important"],[3,"value"],[1,"d-flex","mx-2"],[1,"flex-grow-1","my-auto"],[1,"mx-2"]],template:function(e,r){if(1&e&&($(0,"div",0)(1,"div",1),he(2,xK,4,2,"div",2),he(3,TK,4,2,"div",2),z(),$(4,"div",3),he(5,EK,2,1,"a",4),z()(),Ee(6,"hr",5),he(7,DK,2,1,"div",6),$(8,"div",7)(9,"div",8),he(10,zK,10,7,"div",9),z(),$(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16),pe(18,"New column"),z(),$(19,"div",17),Ee(20,"em",18),z()(),$(21,"form",19),tt("ngSubmit",function(){return r.newColumn()}),he(22,YK,2,1,"div",20),$(23,"div",21)(24,"p",22),pe(25,"Title"),z(),Ee(26,"input",23),he(27,QK,4,3,"div",24),z(),$(28,"div",25)(29,"button",26,27),pe(31,"Close"),z(),$(32,"button",28),pe(33,"Create"),z()()()()()()()(),$(34,"div",29)(35,"div",11)(36,"div",12)(37,"div",13)(38,"div",14)(39,"div",15)(40,"div",16),pe(41,"Update column"),z(),$(42,"div",17),Ee(43,"em",18),z()(),$(44,"form",19),tt("ngSubmit",function(){return r.editColumn()}),he(45,ZK,2,1,"div",20),$(46,"div",21)(47,"p",22),pe(48,"Title"),z(),Ee(49,"input",23),he(50,nq,4,3,"div",24),z(),$(51,"div",25)(52,"button",26,30),pe(54,"Close"),z(),$(55,"button",28),pe(56,"Update"),z()()()()()()()(),$(57,"datalist",31)(58,"option"),pe(59,"Very high"),z(),$(60,"option"),pe(61,"High"),z(),$(62,"option"),pe(63,"Medium"),z(),$(64,"option"),pe(65,"Low"),z(),$(66,"option"),pe(67,"Very low"),z()(),$(68,"div",32)(69,"div",11)(70,"div",12)(71,"div",13)(72,"div",14)(73,"div",15)(74,"div",16),pe(75,"New task"),z(),$(76,"div",17),Ee(77,"em",18),z()(),$(78,"form",19),tt("ngSubmit",function(){return r.newTask()}),he(79,iq,2,1,"div",20),$(80,"div",21)(81,"p",22),pe(82,"Title"),z(),Ee(83,"input",23),he(84,aq,4,3,"div",24),z(),$(85,"div",21)(86,"p",22),pe(87,"Description"),z(),Ee(88,"input",33),he(89,cq,2,1,"div",24),z(),$(90,"div",21)(91,"p",22),pe(92,"Estimated time"),z(),Ee(93,"input",34),he(94,dq,2,1,"div",24),z(),$(95,"div",21)(96,"p",22),pe(97,"Importance"),z(),Ee(98,"input",35),he(99,pq,2,1,"div",24),z(),$(100,"div",21)(101,"p",22),pe(102,"Tags"),z(),Ee(103,"input",36),he(104,gq,2,1,"div",24),z(),$(105,"div",21)(106,"p",22),pe(107,"Due start date"),z(),Ee(108,"input",37),z(),$(109,"div",21)(110,"p",22),pe(111,"Due end date"),z(),Ee(112,"input",38),z(),$(113,"div",21)(114,"p",22),pe(115,"Users"),z(),$(116,"form",19),tt("ngSubmit",function(){return r.addAssignedUsername()}),$(117,"div",15)(118,"div",39),Ee(119,"input",40),he(120,yq,4,3,"div",24),$(121,"datalist",41),he(122,Cq,2,1,"option",42),z()(),$(123,"div")(124,"button",43),pe(125," Add "),z()()()(),he(126,xq,9,5,"div",44),z(),$(127,"div",21)(128,"p",22),pe(129,"Childrens"),z(),$(130,"form",45),tt("ngSubmit",function(){return r.addChildrenTask()}),$(131,"div",15)(132,"div",39)(133,"select",46),he(134,Sq,2,3,"option",47),z()(),$(135,"div")(136,"button",43),pe(137," Add "),z()()()(),he(138,Tq,6,4,"div",48),z(),$(139,"div",25)(140,"button",26,49),pe(142,"Close"),z(),$(143,"button",28),pe(144,"Create"),z()()()()()()()(),$(145,"div",50)(146,"div",11)(147,"div",12)(148,"div",13)(149,"div",14)(150,"div",15)(151,"div",16),pe(152,"Update task"),z(),$(153,"div",17),Ee(154,"em",18),z()(),$(155,"form",19),tt("ngSubmit",function(){return r.editTask()}),he(156,Eq,2,1,"div",20),$(157,"div",21)(158,"p",22),pe(159,"Title"),z(),Ee(160,"input",23),he(161,Oq,4,3,"div",24),z(),$(162,"div",21)(163,"p",22),pe(164,"Description"),z(),Ee(165,"input",51),he(166,Pq,2,1,"div",24),z(),$(167,"div",21)(168,"p",22),pe(169,"Estimated time"),z(),Ee(170,"input",34),he(171,Mq,2,1,"div",24),z(),$(172,"div",21)(173,"p",22),pe(174,"Importance"),z(),Ee(175,"input",35),he(176,Fq,2,1,"div",24),z(),$(177,"div",21)(178,"p",22),pe(179,"Tags"),z(),Ee(180,"input",52),he(181,Gq,2,1,"div",24),z(),$(182,"div",21)(183,"p",22),pe(184,"Due start date"),z(),Ee(185,"input",37),z(),$(186,"div",21)(187,"p",22),pe(188,"Due end date"),z(),Ee(189,"input",38),z(),$(190,"div",21)(191,"p",22),pe(192,"Users"),z(),$(193,"form",19),tt("ngSubmit",function(){return r.addAssignedUsername()}),$(194,"div",15)(195,"div",39),Ee(196,"input",53),he(197,jq,4,3,"div",24),z(),$(198,"div")(199,"button",43),pe(200," Add "),z()()()(),he(201,Uq,9,5,"div",44),z(),$(202,"div",21)(203,"p",22),pe(204,"Childrens"),z(),$(205,"form",45),tt("ngSubmit",function(){return r.addChildrenTask()}),$(206,"div",15)(207,"div",39)(208,"select",46),he(209,zq,2,3,"option",47),z()(),$(210,"div")(211,"button",43),pe(212," Add "),z()()()(),he(213,Kq,2,1,"div",54),z(),$(214,"div",25)(215,"button",26,55),pe(217,"Close"),z(),$(218,"button",28),pe(219,"Update"),z()()()()()()()()()),2&e){let a,d,h,m,S,k,N,H,q,ne,fe,ye,me,De;W(2),te("ngIf",r.myProjects&&0!=r.myProjects.length),W(1),te("ngIf",r.mySprints&&0!=r.mySprints.length),W(2),te("ngIf",r.adminAccess),W(2),te("ngIf",r.containError),W(3),te("ngForOf",r.kanban),W(11),te("formGroup",r.formNewColumn),W(1),te("ngIf",r.newColumnContainError),W(4),Nt("form-control ",r.inputClass(r.formNewColumn,"title"),""),W(1),te("ngIf",(null==(a=r.formNewColumn.get("title"))?null:a.touched)&&(null==(a=r.formNewColumn.get("title"))?null:a.invalid)),W(5),te("disabled",!r.formNewColumn.valid),W(12),te("formGroup",r.formUpdateColumn),W(1),te("ngIf",r.updateColumnContainError),W(4),Nt("form-control ",r.inputClass(r.formUpdateColumn,"title"),""),W(1),te("ngIf",(null==(d=r.formUpdateColumn.get("title"))?null:d.touched)&&(null==(d=r.formUpdateColumn.get("title"))?null:d.invalid)),W(5),te("disabled",!r.formUpdateColumn.valid),W(23),te("formGroup",r.formNewTask),W(1),te("ngIf",r.newTaskContainError),W(4),Nt("form-control ",r.inputClass(r.formNewTask,"title"),""),W(1),te("ngIf",(null==(h=r.formNewTask.get("title"))?null:h.touched)&&(null==(h=r.formNewTask.get("title"))?null:h.invalid)),W(4),Nt("form-control ",r.inputClass(r.formNewTask,"description"),""),W(1),te("ngIf",(null==(m=r.formNewTask.get("description"))?null:m.touched)&&(null==(m=r.formNewTask.get("description"))?null:m.invalid)),W(4),Nt("form-control ",r.inputClass(r.formNewTask,"estimatedTime"),""),W(1),te("ngIf",(null==(S=r.formNewTask.get("estimatedTime"))?null:S.touched)&&(null==(S=r.formNewTask.get("estimatedTime"))?null:S.invalid)),W(4),Nt("form-control ",r.inputClass(r.formNewTask,"importance"),""),W(1),te("ngIf",(null==(k=r.formNewTask.get("importance"))?null:k.touched)&&(null==(k=r.formNewTask.get("importance"))?null:k.invalid)),W(4),Nt("form-control ",r.inputClass(r.formNewTask,"tags"),""),W(1),te("ngIf",(null==(N=r.formNewTask.get("tags"))?null:N.touched)&&(null==(N=r.formNewTask.get("tags"))?null:N.invalid)),W(4),Nt("form-control ",r.inputClass(r.formNewTask,"dueStartDate"),""),W(4),Nt("form-control ",r.inputClass(r.formNewTask,"dueEndDate"),""),W(4),te("formGroup",r.formAddAssignedUser),W(3),Nt("form-control ",r.inputClass(r.formAddAssignedUser,"username"),""),W(1),te("ngIf",(null==(H=r.formAddAssignedUser.get("username"))?null:H.touched)&&(null==(H=r.formAddAssignedUser.get("username"))?null:H.invalid)),W(2),te("ngForOf",r.usersInProject),W(2),te("disabled",!r.formAddAssignedUser.valid),W(2),te("ngForOf",r.assignedUsers),W(4),te("formGroup",r.formAddChildrenTask),W(3),Nt("form-select ",r.inputClass(r.formAddChildrenTask,"children"),""),W(1),te("ngForOf",r.myTasks),W(2),te("disabled",!r.formAddChildrenTask.valid),W(2),te("ngForOf",r.selectedChildrens),W(5),te("disabled",!r.formNewTask.valid),W(12),te("formGroup",r.formUpdateTask),W(1),te("ngIf",r.updateTaskContainError),W(4),Nt("form-control ",r.inputClass(r.formUpdateTask,"title"),""),W(1),te("ngIf",(null==(q=r.formUpdateTask.get("title"))?null:q.touched)&&(null==(q=r.formUpdateTask.get("title"))?null:q.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateTask,"description"),""),W(1),te("ngIf",(null==(ne=r.formUpdateTask.get("description"))?null:ne.touched)&&(null==(ne=r.formUpdateTask.get("description"))?null:ne.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateTask,"estimatedTime"),""),W(1),te("ngIf",(null==(fe=r.formUpdateTask.get("estimatedTime"))?null:fe.touched)&&(null==(fe=r.formUpdateTask.get("estimatedTime"))?null:fe.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateTask,"importance"),""),W(1),te("ngIf",(null==(ye=r.formUpdateTask.get("importance"))?null:ye.touched)&&(null==(ye=r.formUpdateTask.get("importance"))?null:ye.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateTask,"tags"),""),W(1),te("ngIf",(null==(me=r.formUpdateTask.get("tags"))?null:me.touched)&&(null==(me=r.formUpdateTask.get("tags"))?null:me.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateTask,"dueStartDate"),""),W(4),Nt("form-control ",r.inputClass(r.formUpdateTask,"dueEndDate"),""),W(4),te("formGroup",r.formAddAssignedUser),W(3),Nt("form-control ",r.inputClass(r.formAddAssignedUser,"username"),""),W(1),te("ngIf",(null==(De=r.formAddAssignedUser.get("username"))?null:De.touched)&&(null==(De=r.formAddAssignedUser.get("username"))?null:De.invalid)),W(2),te("disabled",!r.formAddAssignedUser.valid),W(2),te("ngForOf",r.assignedUsers),W(4),te("formGroup",r.formAddChildrenTask),W(3),Nt("form-select ",r.inputClass(r.formAddChildrenTask,"children"),""),W(1),te("ngForOf",r.myTasks),W(2),te("disabled",!r.formAddChildrenTask.valid),W(2),te("ngForOf",r.selectedChildrens),W(5),te("disabled",!r.formUpdateTask.valid)}},directives:[Oi,oc,hr,Ua,za,uK,hK,mK,Zl,Ql,va,_a,Xl,Wa,Ya,Cu,j_,$_,Jl],styles:[".column-card[_ngcontent-%COMP%]{background-color:var(--dark-pallete-3)!important;min-width:400px;width:400px;height:calc(100vh - var(--navbar-size) - 150px)}.task-card[_ngcontent-%COMP%]{background-color:var(--dark-pallete-2)!important;border-radius:5px}.overflow-x[_ngcontent-%COMP%]{overflow-x:auto}.scrollable-x[_ngcontent-%COMP%]{overflow-x:auto;width:calc(100vw - 50px - var(--sidebar-size))!important}"]}),t})();class Xq{constructor(n,e){this.name=n,this.description=e}}class Qq{constructor(n,e,r){this.id=n,this.name=e,this.description=r}}class Zq{constructor(n,e,r){this.projectId=n,this.username=e,this.role=r}}class Jq{constructor(n,e){this.id=n,this.role=e}}const eX=["closebuttonNew"],tX=["closebuttonUpdate"],nX=["closebuttonUsers"],iX=["closebuttonViewInvitations"];function rX(t,n){if(1&t&&($(0,"div",42),pe(1),z()),2&t){const e=ve();W(1),Fi(e.messageError)}}function oX(t,n){1&t&&($(0,"div"),pe(1," There are no pending invitations "),z())}function sX(t,n){if(1&t){const e=Wt();$(0,"div",43)(1,"div",44)(2,"div",45),pe(3),z(),$(4,"div",46)(5,"a",47),tt("click",function(){const d=Et(e).$implicit;return ve().acceptRole(d.id)}),Ee(6,"em",48),z(),$(7,"a",49),tt("click",function(){const d=Et(e).$implicit;return ve().declineRole(d.id)}),Ee(8,"em",50),z()()()()}if(2&t){const e=n.$implicit,r=ve();W(3),ur(" ",e.projectName," - [",r.rolesDictionary[e.role],"] "),W(2),te("openDelay",300),W(2),te("openDelay",300)}}function aX(t,n){if(1&t&&($(0,"div",51),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.newProjectMessageError," ")}}function lX(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function cX(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function uX(t,n){1&t&&($(0,"div"),pe(1,"Only 30 characters are allowed"),z())}function dX(t,n){if(1&t&&($(0,"div",52),he(1,lX,2,0,"div",19),he(2,cX,2,0,"div",19),he(3,uX,2,0,"div",19),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formNewProject.get("name"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formNewProject.get("name"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formNewProject.get("name"))||null==d.errors?null:d.errors.maxlength)}}function hX(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function pX(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function fX(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function gX(t,n){if(1&t&&($(0,"div",52),he(1,hX,2,0,"div",19),he(2,pX,2,0,"div",19),he(3,fX,2,0,"div",19),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formNewProject.get("description"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formNewProject.get("description"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formNewProject.get("description"))||null==d.errors?null:d.errors.maxlength)}}function mX(t,n){if(1&t){const e=Wt();$(0,"a",61),tt("click",function(){Et(e);const a=ve().$implicit;return ve().fillUpdateForm(a)}),Ee(1,"em",62),z()}2&t&&te("openDelay",300)}function _X(t,n){if(1&t){const e=Wt();$(0,"a",63),tt("click",function(){Et(e);const a=ve().$implicit;return ve().enableDisableProject(a)}),Ee(1,"em",64),z()}2&t&&te("openDelay",300)}function vX(t,n){if(1&t){const e=Wt();$(0,"div")(1,"div",53)(2,"div",54)(3,"div",55)(4,"div",56),pe(5),z(),$(6,"div")(7,"a",57),tt("click",function(){const d=Et(e).index;return ve().selectedProject=d}),Ee(8,"em",58),z(),he(9,mX,2,1,"a",59),he(10,_X,2,1,"a",60),z()(),$(11,"div"),pe(12),z()()()()}if(2&t){const e=n.$implicit,r=n.index,a=ve();W(5),Fi(e.name),W(2),te("openDelay",300),W(2),te("ngIf",0==a.myRoles[r]),W(1),te("ngIf",0==a.myRoles[r]),W(2),Fi(e.description)}}function yX(t,n){if(1&t&&($(0,"div",51),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.updateProjectMessageError,"")}}function CX(t,n){1&t&&($(0,"div"),pe(1," Cannot be empty"),z())}function bX(t,n){1&t&&($(0,"div"),pe(1," Must containt at least 2 characters"),z())}function wX(t,n){1&t&&($(0,"div"),pe(1," Only 30 characters are allowed"),z())}function xX(t,n){if(1&t&&($(0,"div",52),he(1,CX,2,0,"div",19),he(2,bX,2,0,"div",19),he(3,wX,2,0,"div",19),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateProject.get("name"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateProject.get("name"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formUpdateProject.get("name"))||null==d.errors?null:d.errors.maxlength)}}function SX(t,n){1&t&&($(0,"div"),pe(1," Cannot be empty"),z())}function TX(t,n){1&t&&($(0,"div"),pe(1," Must containt at least 2 characters"),z())}function EX(t,n){1&t&&($(0,"div"),pe(1," Only 255 characters are allowed"),z())}function DX(t,n){if(1&t&&($(0,"div",52),he(1,SX,2,0,"div",19),he(2,TX,2,0,"div",19),he(3,EX,2,0,"div",19),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateProject.get("description"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateProject.get("description"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formUpdateProject.get("description"))||null==d.errors?null:d.errors.maxlength)}}function AX(t,n){if(1&t&&($(0,"div",65),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.newProjectRoleMessageError," ")}}function RX(t,n){1&t&&($(0,"div"),pe(1," Cannot be empty"),z())}function OX(t,n){1&t&&($(0,"div"),pe(1," Must containt at least 2 characters"),z())}function kX(t,n){1&t&&($(0,"div"),pe(1," Only 30 characters are allowed"),z())}function PX(t,n){if(1&t&&($(0,"div",52),he(1,RX,2,0,"div",19),he(2,OX,2,0,"div",19),he(3,kX,2,0,"div",19),z()),2&t){const e=ve(2);let r,a,d;W(1),te("ngIf",null==(r=e.formNewProjectRole.get("username"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formNewProjectRole.get("username"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formNewProjectRole.get("username"))||null==d.errors?null:d.errors.maxlength)}}function IX(t,n){if(1&t&&($(0,"option",73),pe(1),z()),2&t){const e=n.$implicit;te("ngValue",e),W(1),wt(" ",e,"")}}function MX(t,n){1&t&&($(0,"div"),pe(1," Cannot be empty"),z())}function NX(t,n){if(1&t&&($(0,"div",52),he(1,MX,2,0,"div",19),z()),2&t){const e=ve(2);let r;W(1),te("ngIf",null==(r=e.formNewProjectRole.get("role"))||null==r.errors?null:r.errors.required)}}function FX(t,n){if(1&t){const e=Wt();$(0,"div")(1,"form",22),tt("ngSubmit",function(){return Et(e),ve().newProject()}),$(2,"div",66)(3,"div",67),Ee(4,"input",68),he(5,PX,4,3,"div",27),z(),$(6,"div",69)(7,"select",70),he(8,IX,2,2,"option",71),z(),he(9,NX,2,1,"div",27),z(),$(10,"div")(11,"button",72),tt("click",function(){return Et(e),ve().newProjectRole()}),pe(12," Add "),z()()()()()}if(2&t){const e=ve();let r,a;W(1),te("formGroup",e.formNewProjectRole),W(3),Nt("form-control ",e.inputClass(e.formNewProjectRole,"username"),""),W(1),te("ngIf",(null==(r=e.formNewProjectRole.get("username"))?null:r.touched)&&(null==(r=e.formNewProjectRole.get("username"))?null:r.invalid)),W(2),Nt("sm-select ",e.inputClass(e.formNewProjectRole,"role"),""),W(1),te("ngForOf",e.roles),W(1),te("ngIf",(null==(a=e.formNewProjectRole.get("role"))?null:a.touched)&&(null==(a=e.formNewProjectRole.get("role"))?null:a.invalid)),W(2),te("disabled",!e.formNewProjectRole.valid)}}function LX(t,n){if(1&t&&(Di(0),Ee(1,"img",80),lr()),2&t){const e=ve(2).$implicit,r=ve();W(1),Qn("src",r.getProfileImageUrlFromRole(e),To)}}function GX(t,n){1&t&&Ee(0,"em",81)}function BX(t,n){if(1&t&&($(0,"option",85),pe(1),z()),2&t){const e=n.$implicit,r=ve(3).$implicit;te("selected",e==ve().getRole(r.role))("ngValue",e),W(1),wt(" ",e,"")}}function VX(t,n){if(1&t){const e=Wt();Di(0),$(1,"div",82)(2,"select",83),tt("change",function(a){Et(e);const d=ve(2).$implicit;return ve().updateProjectRole(d,a.target)}),he(3,BX,2,3,"option",84),z()(),lr()}if(2&t){const e=ve(3);W(3),te("ngForOf",e.roles)}}function HX(t,n){if(1&t&&($(0,"div",82),pe(1),z()),2&t){const e=ve(2).$implicit,r=ve();W(1),wt(" ",r.getRole(e.role)," ")}}const WL=function(){return[0,1]};function jX(t,n){if(1&t&&($(0,"div",75),he(1,LX,2,1,"ng-container",76),he(2,GX,1,0,"ng-template",null,77,Hi),$(4,"div",78),pe(5),z(),he(6,VX,4,1,"ng-container",76),he(7,HX,2,1,"ng-template",null,79,Hi),z()),2&t){const e=wi(3),r=wi(8),a=ve().$implicit,d=ve();W(1),te("ngIf",null!=d.getProfileImageUrlFromRole(a)&&""!=d.getProfileImageUrlFromRole(a))("ngIfElse",e),W(4),wt(" @",a.user.username," "),W(1),te("ngIf",zi(5,WL).includes(d.myRoles[d.selectedProject])&&0!=a.role&&a.user.username!=d.myUsername)("ngIfElse",r)}}function $X(t,n){if(1&t&&($(0,"div"),he(1,jX,9,6,"div",74),z()),2&t){const e=n.$implicit;W(1),te("ngIf",e.accepted)}}let WX=(()=>{class t extends ah{constructor(e,r,a,d,h,m,S){super(e,r,a,d,h,m),this.userService=S,this.selectedProject=0,this.invitationsContainError=!1,this.newProjectContainError=!1,this.updateProjectContainError=!1,this.newProjectRoleContainError=!1,this.rolesDictionary=this.projectService.getAllRoles(),this.roles=Object.values(this.rolesDictionary),this.formNewProject=h.group({name:["",[nn.required]],description:["",[nn.required]]}),this.formUpdateProject=h.group({id:["",[nn.required]],name:["",[nn.required]],description:["",[nn.required]]}),this.formNewProjectRole=h.group({username:["",[nn.required]],role:["Member",[nn.required]]})}ngOnInit(){this.myUsername=this.tokenService.getUsername(),this.loadMyProjects()}loadMyProjects(){this.projectService.myProjects().subscribe(e=>{this.containError=!1,this.myProjects=e,this.loadMyRoles(),this.loadNotAcceptedProjects()},e=>{this.returnPrincipalError(e)})}loadMyRoles(){for(var e of(this.myRoles=[],this.myProjects))e:for(var r of e.projectRoles)if(r.user.username==this.tokenService.getUsername()){this.myRoles.push(r.role);break e}}loadNotAcceptedProjects(){this.projectService.getAllMineNotAcceptedProjectRoles().subscribe(e=>{this.containError=!1,this.notAcceptedProjects=e},e=>{this.returnPrincipalError(e)})}newProject(){let e=new Xq(this.formNewProject.value.name,this.formNewProject.value.description);this.projectService.createProject(e).subscribe(r=>{this.newProjectContainError=!1,this.closebuttonNew.nativeElement.click(),this.formNewProject.reset(),this.loadMyProjects()},r=>{this.newProjectContainError=!0,this.newProjectMessageError=r.error.text})}fillUpdateForm(e){this.formUpdateProject=this.formBuilder.group({id:[e.id,[nn.required]],name:[e.name,[nn.required]],description:[e.description,[nn.required]]})}updateProject(){let e=new Qq(this.formUpdateProject.value.id,this.formUpdateProject.value.name,this.formUpdateProject.value.description);this.projectService.updateProject(e).subscribe(r=>{this.updateProjectContainError=!1,this.closebuttonUpdate.nativeElement.click(),this.formNewProject.reset(),this.loadMyProjects()},r=>{this.updateProjectContainError=!0,this.updateProjectMessageError=r.error.text})}enableDisableProject(e){confirm("Are you sure to disable project "+e.name+"?")&&this.projectService.enableDisableProject(e.id).subscribe(r=>{this.containError=!1,this.loadMyProjects()},r=>{this.returnPrincipalError(r)})}projectRoleError(e,r){var a=e.error.text;null==a&&(a=r),this.newProjectRoleContainError=!0,this.newProjectRoleMessageError=a}newProjectRole(){let e=Number(this.getKeyByValue(this.rolesDictionary,this.formNewProjectRole.value.role)),r=new Zq(this.myProjects[this.selectedProject].id,this.formNewProjectRole.value.username,e);this.projectService.createProjectRole(r).subscribe(a=>{this.newProjectRoleContainError=!1,this.formNewProjectRole.reset(),this.formNewProjectRole.controls.role.setValue("Member"),this.loadMyProjects(),this.closebuttonUsers.nativeElement.click()},a=>{this.projectRoleError(a,"Error adding the user")})}updateProjectRole(e,r){let d=Number(this.getKeyByValue(this.rolesDictionary,r.value)),h=new Jq(e.id,d);this.projectService.updateProjectRole(h).subscribe(m=>{this.newProjectRoleContainError=!1,this.closebuttonUsers.nativeElement.click(),this.loadMyProjects()},m=>{this.projectRoleError(m,"Error updating the user")})}roleInvitationError(){this.invitationsContainError=!1,this.loadMyProjects(),this.closebuttonViewInvitations.nativeElement.click()}roleError(e,r){var a=e.error.text;null==a&&(a=r),this.invitationsContainError=!0,this.invitationsMessageError=a}acceptRole(e){this.projectService.acceptProjectRole(e).subscribe(r=>{this.roleInvitationError()},r=>{this.roleError(r,"Error accepting invitation")})}declineRole(e){this.projectService.declineProjectRole(e).subscribe(r=>{this.roleInvitationError()},r=>{this.roleError(r,"Error declining invitation")})}getProfileImageUrlFromRole(e){return this.userService.getUrlFromProfile(e.user.imageUid)}}return t.\u0275fac=function(e){return new(e||t)(Se(xu),Se(ac),Se(Su),Se(Tu),Se(Ka),Se(Ls),Se(Rf))},t.\u0275cmp=tn({type:t,selectors:[["iMan-project"]],viewQuery:function(e,r){if(1&e&&(Ki(eX,5),Ki(tX,5),Ki(nX,5),Ki(iX,5)),2&e){let a;dn(a=hn())&&(r.closebuttonNew=a.first),dn(a=hn())&&(r.closebuttonUpdate=a.first),dn(a=hn())&&(r.closebuttonUsers=a.first),dn(a=hn())&&(r.closebuttonViewInvitations=a.first)}},features:[Bn],decls:95,vars:35,consts:[[1,"mb-3","mr-3",2,"text-align","right"],["ngbTooltip","Invitations","placement","left","data-bs-toggle","modal","data-bs-target","#viewNotAcceptedProjects",3,"openDelay"],[1,"bi","bi-bell-fill","me-3","position-relative"],[1,"position-absolute","top-0","start-0","translate-middle","badge","rounded-pill","notification-badge","bg-danger"],["ngbTooltip","Create project","placement","left","data-bs-toggle","modal","data-bs-target","#createProjectModal",3,"openDelay"],[1,"bi","bi-plus-lg"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],["id","viewNotAcceptedProjects","tabindex","-1","aria-labelledby","viewNotAcceptedProjectsLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],["closebuttonViewInvitations",""],[1,"bi","bi-x"],[1,"mt-3"],[4,"ngIf"],["class","card card-hover",4,"ngFor","ngForOf"],["id","createProjectModal","tabindex","-1","aria-labelledby","createProjectModalLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["type","text","name","name","formControlName","name","maxlength","30","minlength","2","placeholder",""],["class","invalid-feedback",4,"ngIf"],[1,"form-group","mb-4"],["type","text","name","description","formControlName","description","maxlength","255","minlength","2","placeholder",""],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebuttonNew",""],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"overflow-auto","scrollable-content"],[4,"ngFor","ngForOf"],["id","updateProjectModal","tabindex","-1","aria-labelledby","updateProjectModalLabel","aria-hidden","true",1,"modal","fade"],[1,"flex-grow-1","card-title","mt-2","text-break"],["closebuttonUpdate",""],["id","userProjectModal","tabindex","-1","aria-labelledby","userProjectModalLabel","aria-hidden","true",1,"modal","fade"],["closebuttonUsers",""],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger","mt-3","mb-3"],[1,"card","card-hover"],[1,"d-flex","mt-3","mb-3"],[1,"flex-grow-1","ms-3","center"],[1,"me-3"],["ngbTooltip","Accept","placement","left",3,"openDelay","click"],[1,"bi","bi-check","green-btn"],["ngbTooltip","Decline","placement","left",3,"openDelay","click"],[1,"bi","bi-x","red-btn"],[1,"alert","alert-danger","mt-5"],[1,"invalid-feedback"],[1,"card","card-list"],[1,"inside-card"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1","center","b-text","align-middle"],["ngbTooltip","Users","placement","left","data-bs-toggle","modal","data-bs-target","#userProjectModal",3,"openDelay","click"],[1,"bi","bi-people-fill","me-3"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateProjectModal",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Disable","placement","left",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateProjectModal",3,"openDelay","click"],[1,"bi","bi-pencil-fill","me-3"],["ngbTooltip","Disable","placement","left",3,"openDelay","click"],[1,"bi","bi-trash-fill"],[1,"alert","alert-danger"],[1,"d-flex","mt-3","mb-4"],[1,"flex-grow-1","form-group","me-3"],["type","text","name","username","formControlName","username","maxlength","30","minlength","2","placeholder","User"],[1,"form-group","me-3",2,"margin","auto"],["formControlName","role"],["class","dark-text",3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-success","my-auto",3,"disabled","click"],[1,"dark-text",3,"ngValue"],["class","card m-3 flex-row",4,"ngIf"],[1,"card","m-3","flex-row"],[4,"ngIf","ngIfElse"],["showIconProfile",""],[1,"flex-grow-1","center","m-text"],["cantEditUser",""],["alt","Profile image",1,"profile-image","me-3",3,"src"],[1,"bi","bi-person-circle","me-3",2,"font-size","35px !important"],[1,"m-text",2,"margin","auto"],[1,"sm-select",3,"change"],["class","dark-text",3,"selected","ngValue",4,"ngFor","ngForOf"],[1,"dark-text",3,"selected","ngValue"]],template:function(e,r){if(1&e&&($(0,"div",0)(1,"a",1)(2,"em",2)(3,"span",3),pe(4),z()()(),$(5,"a",4),Ee(6,"em",5),z()(),Ee(7,"hr",6),he(8,rX,2,1,"div",7),$(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14),pe(16,"Invitations"),z(),$(17,"div",15,16),Ee(19,"em",17),z()(),$(20,"div",18),he(21,oX,2,0,"div",19),he(22,sX,9,4,"div",20),z()()()()()(),$(23,"div",21)(24,"div",9)(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",13)(29,"div",14),pe(30,"New project"),z(),$(31,"div",15),Ee(32,"em",17),z()(),$(33,"form",22),tt("ngSubmit",function(){return r.newProject()}),he(34,aX,2,1,"div",23),$(35,"div",24)(36,"p",25),pe(37,"Name"),z(),Ee(38,"input",26),he(39,dX,4,3,"div",27),z(),$(40,"div",28)(41,"p",25),pe(42,"Description"),z(),Ee(43,"input",29),he(44,gX,4,3,"div",27),z(),$(45,"div",30)(46,"button",31,32),pe(48,"Close"),z(),$(49,"button",33),pe(50,"Create"),z()()()()()()()(),$(51,"div",34),he(52,vX,13,5,"div",35),z(),$(53,"div",36)(54,"div",9)(55,"div",10)(56,"div",11)(57,"div",12)(58,"div",13)(59,"div",37),pe(60),z(),$(61,"div",15),Ee(62,"em",17),z()(),$(63,"form",22),tt("ngSubmit",function(){return r.updateProject()}),he(64,yX,2,1,"div",23),$(65,"div",24)(66,"p",25),pe(67,"Name"),z(),Ee(68,"input",26),he(69,xX,4,3,"div",27),z(),$(70,"div",28)(71,"p",25),pe(72,"Description"),z(),Ee(73,"input",29),he(74,DX,4,3,"div",27),z(),$(75,"div",30)(76,"button",31,38),pe(78,"Close"),z(),$(79,"button",33),pe(80,"Update"),z()()()()()()()(),$(81,"div",39)(82,"div",9)(83,"div",10)(84,"div",11)(85,"div",12)(86,"div",13)(87,"div",37),pe(88),z(),$(89,"div",15,40),Ee(91,"em",17),z()(),he(92,AX,2,1,"div",41),he(93,FX,13,11,"div",19),he(94,$X,2,1,"div",35),z()()()()()),2&e){let a,d,h,m;W(1),te("openDelay",300),W(3),wt(" ",null==r.notAcceptedProjects?0:r.notAcceptedProjects.length," "),W(1),te("openDelay",300),W(3),te("ngIf",r.containError),W(13),te("ngIf",0==(null==r.notAcceptedProjects?null:r.notAcceptedProjects.length)),W(1),te("ngForOf",r.notAcceptedProjects),W(11),te("formGroup",r.formNewProject),W(1),te("ngIf",r.newProjectContainError),W(4),Nt("form-control ",r.inputClass(r.formNewProject,"name"),""),W(1),te("ngIf",(null==(a=r.formNewProject.get("name"))?null:a.touched)&&(null==(a=r.formNewProject.get("name"))?null:a.invalid)),W(4),Nt("form-control ",r.inputClass(r.formNewProject,"description"),""),W(1),te("ngIf",(null==(d=r.formNewProject.get("description"))?null:d.touched)&&(null==(d=r.formNewProject.get("description"))?null:d.invalid)),W(5),te("disabled",!r.formNewProject.valid),W(3),te("ngForOf",r.myProjects),W(8),wt("Edit: ",r.myProjects?null==r.myProjects[r.selectedProject]?null:r.myProjects[r.selectedProject].name:"",""),W(3),te("formGroup",r.formUpdateProject),W(1),te("ngIf",r.updateProjectContainError),W(4),Nt("form-control ",r.inputClass(r.formUpdateProject,"name"),""),W(1),te("ngIf",(null==(h=r.formUpdateProject.get("name"))?null:h.touched)&&(null==(h=r.formUpdateProject.get("name"))?null:h.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateProject,"description"),""),W(1),te("ngIf",(null==(m=r.formUpdateProject.get("description"))?null:m.touched)&&(null==(m=r.formUpdateProject.get("description"))?null:m.invalid)),W(5),te("disabled",!r.formUpdateProject.valid),W(9),wt("Users: ",r.myProjects?null==r.myProjects[r.selectedProject]?null:r.myProjects[r.selectedProject].name:"",""),W(4),te("ngIf",r.newProjectRoleContainError),W(1),te("ngIf",zi(34,WL).includes(r.myRoles[r.selectedProject])),W(1),te("ngForOf",r.myProjects[r.selectedProject].projectRoles)}},directives:[oc,Oi,hr,Zl,Ql,va,_a,Xl,Wa,Ya,Cu,Jl,Ua,za],styles:[".notification-badge[_ngcontent-%COMP%]{font-size:12px!important}"]}),t})();class UX{constructor(n,e,r,a,d){this.title=n,this.description=e,this.startDate=r,this.estimatedDate=a,this.projectId=d}}class zX{constructor(n,e,r,a,d){this.id=n,this.title=e,this.description=r,this.startDate=a,this.estimatedDate=d}}let YX=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=fs_backendEndpoint+"/reports/"}getEffortReportBySprintId(e){return this.httpClient.get(this.hostUrl+"effort/"+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(nc))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class KD{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class UL extends KD{constructor(n,e,r,a){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=a}}class KX extends KD{constructor(n,e,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class qX extends KD{constructor(n){super(),this.element=n instanceof Vn?n.nativeElement:n}}class QX extends class XX{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof UL?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof KX?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof qX?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(n,e,r,a,d){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=a,this.attachDomPortal=h=>{const m=h.element,S=this._document.createComment("dom-portal");m.parentNode.insertBefore(S,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{S.parentNode&&S.parentNode.replaceChild(m,S)})},this._document=d}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let a;return n.viewContainerRef?(a=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=r.create(n.injector||this._defaultInjector||gi.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=n,a}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context);return r.rootNodes.forEach(a=>this.outletElement.appendChild(a)),r.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(r);-1!==a&&e.remove(a)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}function JX(){}function qD(t){return null==t?JX:function(){return this.querySelector(t)}}function zL(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function tQ(){return[]}function YL(t){return null==t?tQ:function(){return this.querySelectorAll(t)}}function KL(t){return function(){return this.matches(t)}}function qL(t){return function(n){return n.matches(t)}}var rQ=Array.prototype.find;function sQ(){return this.firstElementChild}var lQ=Array.prototype.filter;function cQ(){return this.children}function XL(t){return new Array(t.length)}function Jb(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function fQ(t){return function(){return t}}function gQ(t,n,e,r,a,d){for(var m,h=0,S=n.length,k=d.length;h<k;++h)(m=n[h])?(m.__data__=d[h],r[h]=m):e[h]=new Jb(t,d[h]);for(;h<S;++h)(m=n[h])&&(a[h]=m)}function mQ(t,n,e,r,a,d,h){var m,S,ne,k=new Map,N=n.length,H=d.length,q=new Array(N);for(m=0;m<N;++m)(S=n[m])&&(q[m]=ne=h.call(S,S.__data__,m,n)+"",k.has(ne)?a[m]=S:k.set(ne,S));for(m=0;m<H;++m)ne=h.call(t,d[m],m,d)+"",(S=k.get(ne))?(r[m]=S,S.__data__=d[m],k.delete(ne)):e[m]=new Jb(t,d[m]);for(m=0;m<N;++m)(S=n[m])&&k.get(q[m])===S&&(a[m]=S)}function _Q(t){return t.__data__}function SQ(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Jb.prototype={constructor:Jb,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var XD="http://www.w3.org/1999/xhtml";const QL={svg:"http://www.w3.org/2000/svg",xhtml:XD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ew(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),QL.hasOwnProperty(n)?{space:QL[n],local:t}:t}function kQ(t){return function(){this.removeAttribute(t)}}function PQ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function IQ(t,n){return function(){this.setAttribute(t,n)}}function MQ(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function NQ(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function FQ(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function ZL(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function GQ(t){return function(){this.style.removeProperty(t)}}function BQ(t,n,e){return function(){this.style.setProperty(t,n,e)}}function VQ(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function If(t,n){return t.style.getPropertyValue(n)||ZL(t).getComputedStyle(t,null).getPropertyValue(n)}function jQ(t){return function(){delete this[t]}}function $Q(t,n){return function(){this[t]=n}}function WQ(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function JL(t){return t.trim().split(/^|\s+/)}function QD(t){return t.classList||new e2(t)}function e2(t){this._node=t,this._names=JL(t.getAttribute("class")||"")}function t2(t,n){for(var e=QD(t),r=-1,a=n.length;++r<a;)e.add(n[r])}function n2(t,n){for(var e=QD(t),r=-1,a=n.length;++r<a;)e.remove(n[r])}function zQ(t){return function(){t2(this,t)}}function YQ(t){return function(){n2(this,t)}}function KQ(t,n){return function(){(n.apply(this,arguments)?t2:n2)(this,t)}}function XQ(){this.textContent=""}function QQ(t){return function(){this.textContent=t}}function ZQ(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function eZ(){this.innerHTML=""}function tZ(t){return function(){this.innerHTML=t}}function nZ(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function rZ(){this.nextSibling&&this.parentNode.appendChild(this)}function sZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lZ(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===XD&&n.documentElement.namespaceURI===XD?n.createElement(t):n.createElementNS(e,t)}}function cZ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function r2(t){var n=ew(t);return(n.local?cZ:lZ)(n)}function dZ(){return null}function pZ(){var t=this.parentNode;t&&t.removeChild(this)}function gZ(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function mZ(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function CZ(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function bZ(t){return function(){var n=this.__on;if(n){for(var d,e=0,r=-1,a=n.length;e<a;++e)d=n[e],t.type&&d.type!==t.type||d.name!==t.name?n[++r]=d:this.removeEventListener(d.type,d.listener,d.options);++r?n.length=r:delete this.__on}}}function wZ(t,n,e){return function(){var a,r=this.__on,d=function yZ(t){return function(n){t.call(this,n,this.__data__)}}(n);if(r)for(var h=0,m=r.length;h<m;++h)if((a=r[h]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=d,a.options=e),void(a.value=n);this.addEventListener(t.type,d,e),a={type:t.type,name:t.name,value:n,listener:d,options:e},r?r.push(a):this.__on=[a]}}function o2(t,n,e){var r=ZL(t),a=r.CustomEvent;"function"==typeof a?a=new a(n,e):(a=r.document.createEvent("Event"),e?(a.initEvent(n,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(n,!1,!1)),t.dispatchEvent(a)}function SZ(t,n){return function(){return o2(this,t,n)}}function TZ(t,n){return function(){return o2(this,t,n.apply(this,arguments))}}e2.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var s2=[null];function Xo(t,n){this._groups=t,this._parents=n}function a2(){return new Xo([[document.documentElement]],s2)}Xo.prototype=a2.prototype={constructor:Xo,select:function eQ(t){"function"!=typeof t&&(t=qD(t));for(var n=this._groups,e=n.length,r=new Array(e),a=0;a<e;++a)for(var S,k,d=n[a],h=d.length,m=r[a]=new Array(h),N=0;N<h;++N)(S=d[N])&&(k=t.call(S,S.__data__,N,d))&&("__data__"in S&&(k.__data__=S.__data__),m[N]=k);return new Xo(r,this._parents)},selectAll:function iQ(t){t="function"==typeof t?function nQ(t){return function(){var n=t.apply(this,arguments);return null==n?[]:zL(n)}}(t):YL(t);for(var n=this._groups,e=n.length,r=[],a=[],d=0;d<e;++d)for(var S,h=n[d],m=h.length,k=0;k<m;++k)(S=h[k])&&(r.push(t.call(S,S.__data__,k,h)),a.push(S));return new Xo(r,a)},selectChild:function aQ(t){return this.select(null==t?sQ:function oQ(t){return function(){return rQ.call(this.children,t)}}("function"==typeof t?t:qL(t)))},selectChildren:function dQ(t){return this.selectAll(null==t?cQ:function uQ(t){return function(){return lQ.call(this.children,t)}}("function"==typeof t?t:qL(t)))},filter:function hQ(t){"function"!=typeof t&&(t=KL(t));for(var n=this._groups,e=n.length,r=new Array(e),a=0;a<e;++a)for(var S,d=n[a],h=d.length,m=r[a]=[],k=0;k<h;++k)(S=d[k])&&t.call(S,S.__data__,k,d)&&m.push(S);return new Xo(r,this._parents)},data:function vQ(t,n){if(!arguments.length)return Array.from(this,_Q);var e=n?mQ:gQ,r=this._parents,a=this._groups;"function"!=typeof t&&(t=fQ(t));for(var d=a.length,h=new Array(d),m=new Array(d),S=new Array(d),k=0;k<d;++k){var N=r[k],H=a[k],q=H.length,ne=zL(t.call(N,N&&N.__data__,k,r)),fe=ne.length,ye=m[k]=new Array(fe),me=h[k]=new Array(fe),De=S[k]=new Array(q);e(N,H,ye,me,De,ne,n);for(var Ve,qe,Te=0,Fe=0;Te<fe;++Te)if(Ve=ye[Te]){for(Te>=Fe&&(Fe=Te+1);!(qe=me[Fe])&&++Fe<fe;);Ve._next=qe||null}}return(h=new Xo(h,r))._enter=m,h._exit=S,h},enter:function pQ(){return new Xo(this._enter||this._groups.map(XL),this._parents)},exit:function yQ(){return new Xo(this._exit||this._groups.map(XL),this._parents)},join:function CQ(t,n,e){var r=this.enter(),a=this,d=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(a=n(a)),null==e?d.remove():e(d),r&&a?r.merge(a).order():a},merge:function bQ(t){if(!(t instanceof Xo))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,d=Math.min(r,e.length),h=new Array(r),m=0;m<d;++m)for(var q,S=n[m],k=e[m],N=S.length,H=h[m]=new Array(N),ne=0;ne<N;++ne)(q=S[ne]||k[ne])&&(H[ne]=q);for(;m<r;++m)h[m]=n[m];return new Xo(h,this._parents)},selection:function AZ(){return this},order:function wQ(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var h,r=t[n],a=r.length-1,d=r[a];--a>=0;)(h=r[a])&&(d&&4^h.compareDocumentPosition(d)&&d.parentNode.insertBefore(h,d),d=h);return this},sort:function xQ(t){function n(H,q){return H&&q?t(H.__data__,q.__data__):!H-!q}t||(t=SQ);for(var e=this._groups,r=e.length,a=new Array(r),d=0;d<r;++d){for(var k,h=e[d],m=h.length,S=a[d]=new Array(m),N=0;N<m;++N)(k=h[N])&&(S[N]=k);S.sort(n)}return new Xo(a,this._parents).order()},call:function TQ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function EQ(){return Array.from(this)},node:function DQ(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],a=0,d=r.length;a<d;++a){var h=r[a];if(h)return h}return null},size:function AQ(){let t=0;for(const n of this)++t;return t},empty:function RQ(){return!this.node()},each:function OQ(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var m,a=n[e],d=0,h=a.length;d<h;++d)(m=a[d])&&t.call(m,m.__data__,d,a);return this},attr:function LQ(t,n){var e=ew(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?PQ:kQ:"function"==typeof n?e.local?FQ:NQ:e.local?MQ:IQ)(e,n))},style:function HQ(t,n,e){return arguments.length>1?this.each((null==n?GQ:"function"==typeof n?VQ:BQ)(t,n,null==e?"":e)):If(this.node(),t)},property:function UQ(t,n){return arguments.length>1?this.each((null==n?jQ:"function"==typeof n?WQ:$Q)(t,n)):this.node()[t]},classed:function qQ(t,n){var e=JL(t+"");if(arguments.length<2){for(var r=QD(this.node()),a=-1,d=e.length;++a<d;)if(!r.contains(e[a]))return!1;return!0}return this.each(("function"==typeof n?KQ:n?zQ:YQ)(e,n))},text:function JQ(t){return arguments.length?this.each(null==t?XQ:("function"==typeof t?ZQ:QQ)(t)):this.node().textContent},html:function iZ(t){return arguments.length?this.each(null==t?eZ:("function"==typeof t?nZ:tZ)(t)):this.node().innerHTML},raise:function oZ(){return this.each(rZ)},lower:function aZ(){return this.each(sZ)},append:function uZ(t){var n="function"==typeof t?t:r2(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function hZ(t,n){var e="function"==typeof t?t:r2(t),r=null==n?dZ:"function"==typeof n?n:qD(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function fZ(){return this.each(pZ)},clone:function _Z(t){return this.select(t?mZ:gZ)},datum:function vZ(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function xZ(t,n,e){var a,h,r=CZ(t+""),d=r.length;if(!(arguments.length<2)){for(m=n?wZ:bZ,a=0;a<d;++a)this.each(m(r[a],n,e));return this}var m=this.node().__on;if(m)for(var N,S=0,k=m.length;S<k;++S)for(a=0,N=m[S];a<d;++a)if((h=r[a]).type===N.type&&h.name===N.name)return N.value},dispatch:function EZ(t,n){return this.each(("function"==typeof n?TZ:SZ)(t,n))},[Symbol.iterator]:function*DZ(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var h,r=t[n],a=0,d=r.length;a<d;++a)(h=r[a])&&(yield h)}};const pv=a2;function _s(t){return"string"==typeof t?new Xo([[document.querySelector(t)]],[document.documentElement]):new Xo([[t]],s2)}var RZ={value:()=>{}};function l2(){for(var r,t=0,n=arguments.length,e={};t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new tw(e)}function tw(t){this._=t}function OZ(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");if(a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}function kZ(t,n){for(var a,e=0,r=t.length;e<r;++e)if((a=t[e]).name===n)return a.value}function c2(t,n,e){for(var r=0,a=t.length;r<a;++r)if(t[r].name===n){t[r]=RZ,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}tw.prototype=l2.prototype={constructor:tw,on:function(t,n){var a,e=this._,r=OZ(t+"",e),d=-1,h=r.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++d<h;)if(a=(t=r[d]).type)e[a]=c2(e[a],t.name,n);else if(null==n)for(a in e)e[a]=c2(e[a],t.name,null);return this}for(;++d<h;)if((a=(t=r[d]).type)&&(a=kZ(e[a],t.name)))return a},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new tw(t)},call:function(t,n){if((a=arguments.length-2)>0)for(var a,d,e=new Array(a),r=0;r<a;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,a=(d=this._[t]).length;r<a;++r)d[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,d=r.length;a<d;++a)r[a].value.apply(n,e)}};const u2=l2;function JD(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function d2(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function fv(){}var nw=1/.7,Mf="\\s*([+-]?\\d+)\\s*",mv="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Za="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MZ=/^#([0-9a-f]{3,8})$/,NZ=new RegExp("^rgb\\("+[Mf,Mf,Mf]+"\\)$"),FZ=new RegExp("^rgb\\("+[Za,Za,Za]+"\\)$"),LZ=new RegExp("^rgba\\("+[Mf,Mf,Mf,mv]+"\\)$"),GZ=new RegExp("^rgba\\("+[Za,Za,Za,mv]+"\\)$"),BZ=new RegExp("^hsl\\("+[mv,Za,Za]+"\\)$"),VZ=new RegExp("^hsla\\("+[mv,Za,Za,mv]+"\\)$"),h2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function p2(){return this.rgb().formatHex()}function f2(){return this.rgb().formatRgb()}function ch(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=MZ.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?g2(n):3===e?new vs(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?iw(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?iw(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=NZ.exec(t))?new vs(n[1],n[2],n[3],1):(n=FZ.exec(t))?new vs(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=LZ.exec(t))?iw(n[1],n[2],n[3],n[4]):(n=GZ.exec(t))?iw(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=BZ.exec(t))?v2(n[1],n[2]/100,n[3]/100,1):(n=VZ.exec(t))?v2(n[1],n[2]/100,n[3]/100,n[4]):h2.hasOwnProperty(t)?g2(h2[t]):"transparent"===t?new vs(NaN,NaN,NaN,0):null}function g2(t){return new vs(t>>16&255,t>>8&255,255&t,1)}function iw(t,n,e,r){return r<=0&&(t=n=e=NaN),new vs(t,n,e,r)}function jZ(t){return t instanceof fv||(t=ch(t)),t?new vs((t=t.rgb()).r,t.g,t.b,t.opacity):new vs}function rw(t,n,e,r){return 1===arguments.length?jZ(t):new vs(t,n,e,null==r?1:r)}function vs(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function m2(){return"#"+eA(this.r)+eA(this.g)+eA(this.b)}function _2(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function eA(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function v2(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ja(t,n,e,r)}function y2(t){if(t instanceof Ja)return new Ja(t.h,t.s,t.l,t.opacity);if(t instanceof fv||(t=ch(t)),!t)return new Ja;if(t instanceof Ja)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,a=Math.min(n,e,r),d=Math.max(n,e,r),h=NaN,m=d-a,S=(d+a)/2;return m?(h=n===d?(e-r)/m+6*(e<r):e===d?(r-n)/m+2:(n-e)/m+4,m/=S<.5?d+a:2-d-a,h*=60):m=S>0&&S<1?0:h,new Ja(h,m,S,t.opacity)}function Ja(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function tA(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function C2(t,n,e,r,a){var d=t*t,h=d*t;return((1-3*t+3*d-h)*n+(4-6*d+3*h)*e+(1+3*t+3*d-3*h)*r+h*a)/6}JD(fv,ch,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:p2,formatHex:p2,formatHsl:function HZ(){return y2(this).formatHsl()},formatRgb:f2,toString:f2}),JD(vs,rw,d2(fv,{brighter:function(t){return t=null==t?nw:Math.pow(nw,t),new vs(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new vs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m2,formatHex:m2,formatRgb:_2,toString:_2})),JD(Ja,function $Z(t,n,e,r){return 1===arguments.length?y2(t):new Ja(t,n,e,null==r?1:r)},d2(fv,{brighter:function(t){return t=null==t?nw:Math.pow(nw,t),new Ja(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ja(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,a=2*e-r;return new vs(tA(t>=240?t-240:t+120,a,r),tA(t,a,r),tA(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const nA=t=>()=>t;function w2(t,n){var e=n-t;return e?function b2(t,n){return function(e){return t+e*n}}(t,e):nA(isNaN(t)?n:t)}const ow=function t(n){var e=function YZ(t){return 1==(t=+t)?w2:function(n,e){return e-n?function zZ(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):nA(isNaN(n)?e:n)}}(n);function r(a,d){var h=e((a=rw(a)).r,(d=rw(d)).r),m=e(a.g,d.g),S=e(a.b,d.b),k=w2(a.opacity,d.opacity);return function(N){return a.r=h(N),a.g=m(N),a.b=S(N),a.opacity=k(N),a+""}}return r.gamma=t,r}(1);function x2(t){return function(n){var h,m,e=n.length,r=new Array(e),a=new Array(e),d=new Array(e);for(h=0;h<e;++h)m=rw(n[h]),r[h]=m.r||0,a[h]=m.g||0,d[h]=m.b||0;return r=t(r),a=t(a),d=t(d),m.opacity=1,function(S){return m.r=r(S),m.g=a(S),m.b=d(S),m+""}}}function S2(t,n){var h,e=n?n.length:0,r=t?Math.min(e,t.length):0,a=new Array(r),d=new Array(e);for(h=0;h<r;++h)a[h]=uh(t[h],n[h]);for(;h<e;++h)d[h]=n[h];return function(m){for(h=0;h<r;++h)d[h]=a[h](m);return d}}function KZ(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function xa(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function qZ(t,n){var a,e={},r={};for(a in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)a in t?e[a]=uh(t[a],n[a]):r[a]=n[a];return function(d){for(a in e)r[a]=e[a](d);return r}}x2(function WZ(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),a=t[r],d=t[r+1];return C2((e-r/n)*n,r>0?t[r-1]:2*a-d,a,d,r<n-1?t[r+2]:2*d-a)}}),x2(function UZ(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n);return C2((e-r/n)*n,t[(r+n-1)%n],t[r%n],t[(r+1)%n],t[(r+2)%n])}});var iA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rA=new RegExp(iA.source,"g");function T2(t,n){var r,a,d,e=iA.lastIndex=rA.lastIndex=0,h=-1,m=[],S=[];for(t+="",n+="";(r=iA.exec(t))&&(a=rA.exec(n));)(d=a.index)>e&&(d=n.slice(e,d),m[h]?m[h]+=d:m[++h]=d),(r=r[0])===(a=a[0])?m[h]?m[h]+=a:m[++h]=a:(m[++h]=null,S.push({i:h,x:xa(r,a)})),e=rA.lastIndex;return e<n.length&&(d=n.slice(e),m[h]?m[h]+=d:m[++h]=d),m.length<2?S[0]?function QZ(t){return function(n){return t(n)+""}}(S[0].x):function XZ(t){return function(){return t}}(n):(n=S.length,function(k){for(var H,N=0;N<n;++N)m[(H=S[N]).i]=H.x(k);return m.join("")})}function ZZ(t,n){n||(n=[]);var a,e=t?Math.min(n.length,t.length):0,r=n.slice();return function(d){for(a=0;a<e;++a)r[a]=t[a]*(1-d)+n[a]*d;return r}}function uh(t,n){var r,e=typeof n;return null==n||"boolean"===e?nA(n):("number"===e?xa:"string"===e?(r=ch(n))?(n=r,ow):T2:n instanceof ch?ow:n instanceof Date?KZ:function JZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?ZZ:Array.isArray(n)?S2:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?qZ:xa)(t,n)}var sw,yv,Nf=0,_v=0,vv=0,aw=0,dh=0,lw=0,Cv="object"==typeof performance&&performance.now?performance:Date,A2="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function oA(){return dh||(A2(tJ),dh=Cv.now()+lw)}function tJ(){dh=0}function cw(){this._call=this._time=this._next=null}function R2(t,n,e){var r=new cw;return r.restart(t,n,e),r}function O2(){dh=(aw=Cv.now())+lw,Nf=_v=0;try{!function nJ(){oA(),++Nf;for(var n,t=sw;t;)(n=dh-t._time)>=0&&t._call.call(null,n),t=t._next;--Nf}()}finally{Nf=0,function rJ(){for(var t,e,n=sw,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:sw=e);yv=t,sA(r)}(),dh=0}}function iJ(){var t=Cv.now(),n=t-aw;n>1e3&&(lw-=n,aw=t)}function sA(t){Nf||(_v&&(_v=clearTimeout(_v)),t-dh>24?(t<1/0&&(_v=setTimeout(O2,t-Cv.now()-lw)),vv&&(vv=clearInterval(vv))):(vv||(aw=Cv.now(),vv=setInterval(iJ,1e3)),Nf=1,A2(O2)))}function k2(t,n,e){var r=new cw;return r.restart(a=>{r.stop(),t(a+n)},n=null==n?0:+n,e),r}cw.prototype=R2.prototype={constructor:cw,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?oA():+e)+(null==n?0:+n),!this._next&&yv!==this&&(yv?yv._next=this:sw=this,yv=this),this._call=t,this._time=e,sA()},stop:function(){this._call&&(this._call=null,this._time=1/0,sA())}};var oJ=u2("start","end","cancel","interrupt"),sJ=[];function hw(t,n,e,r,a,d){var h=t.__transition;if(h){if(e in h)return}else t.__transition={};!function aJ(t,n,e){var a,r=t.__transition;function h(k){var N,H,q,ne;if(1!==e.state)return S();for(N in r)if((ne=r[N]).name===e.name){if(3===ne.state)return k2(h);4===ne.state?(ne.state=6,ne.timer.stop(),ne.on.call("interrupt",t,t.__data__,ne.index,ne.group),delete r[N]):+N<n&&(ne.state=6,ne.timer.stop(),ne.on.call("cancel",t,t.__data__,ne.index,ne.group),delete r[N])}if(k2(function(){3===e.state&&(e.state=4,e.timer.restart(m,e.delay,e.time),m(k))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(q=e.tween.length),N=0,H=-1;N<q;++N)(ne=e.tween[N].value.call(t,t.__data__,e.index,e.group))&&(a[++H]=ne);a.length=H+1}}function m(k){for(var N=k<e.duration?e.ease.call(null,k/e.duration):(e.timer.restart(S),e.state=5,1),H=-1,q=a.length;++H<q;)a[H].call(t,N);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),S())}function S(){for(var k in e.state=6,e.timer.stop(),delete r[n],r)return;delete t.__transition}r[n]=e,e.timer=R2(function d(k){e.state=1,e.timer.restart(h,e.delay,e.time),e.delay<=k&&h(k-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:a,on:oJ,tween:sJ,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function cA(t,n){var e=Sa(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function el(t,n){var e=Sa(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Sa(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var pw,N2=180/Math.PI,dA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function F2(t,n,e,r,a,d){var h,m,S;return(h=Math.sqrt(t*t+n*n))&&(t/=h,n/=h),(S=t*e+n*r)&&(e-=t*S,r-=n*S),(m=Math.sqrt(e*e+r*r))&&(e/=m,r/=m,S/=m),t*r<n*e&&(t=-t,n=-n,S=-S,h=-h),{translateX:a,translateY:d,rotate:Math.atan2(n,t)*N2,skewX:Math.atan(S)*N2,scaleX:h,scaleY:m}}function L2(t,n,e,r){function a(k){return k.length?k.pop()+" ":""}return function(k,N){var H=[],q=[];return k=t(k),N=t(N),function d(k,N,H,q,ne,fe){if(k!==H||N!==q){var ye=ne.push("translate(",null,n,null,e);fe.push({i:ye-4,x:xa(k,H)},{i:ye-2,x:xa(N,q)})}else(H||q)&&ne.push("translate("+H+n+q+e)}(k.translateX,k.translateY,N.translateX,N.translateY,H,q),function h(k,N,H,q){k!==N?(k-N>180?N+=360:N-k>180&&(k+=360),q.push({i:H.push(a(H)+"rotate(",null,r)-2,x:xa(k,N)})):N&&H.push(a(H)+"rotate("+N+r)}(k.rotate,N.rotate,H,q),function m(k,N,H,q){k!==N?q.push({i:H.push(a(H)+"skewX(",null,r)-2,x:xa(k,N)}):N&&H.push(a(H)+"skewX("+N+r)}(k.skewX,N.skewX,H,q),function S(k,N,H,q,ne,fe){if(k!==H||N!==q){var ye=ne.push(a(ne)+"scale(",null,",",null,")");fe.push({i:ye-4,x:xa(k,H)},{i:ye-2,x:xa(N,q)})}else(1!==H||1!==q)&&ne.push(a(ne)+"scale("+H+","+q+")")}(k.scaleX,k.scaleY,N.scaleX,N.scaleY,H,q),k=N=null,function(ne){for(var me,fe=-1,ye=q.length;++fe<ye;)H[(me=q[fe]).i]=me.x(ne);return H.join("")}}}var dJ=L2(function cJ(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?dA:F2(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),hJ=L2(function uJ(t){return null!=t&&(pw||(pw=document.createElementNS("http://www.w3.org/2000/svg","g")),pw.setAttribute("transform",t),t=pw.transform.baseVal.consolidate())?F2((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):dA},", ",")",")");function pJ(t,n){var e,r;return function(){var a=el(this,t),d=a.tween;if(d!==e)for(var h=0,m=(r=e=d).length;h<m;++h)if(r[h].name===n){(r=r.slice()).splice(h,1);break}a.tween=r}}function fJ(t,n,e){var r,a;if("function"!=typeof e)throw new Error;return function(){var d=el(this,t),h=d.tween;if(h!==r){a=(r=h).slice();for(var m={name:n,value:e},S=0,k=a.length;S<k;++S)if(a[S].name===n){a[S]=m;break}S===k&&a.push(m)}d.tween=a}}function hA(t,n,e){var r=t._id;return t.each(function(){var a=el(this,r);(a.value||(a.value={}))[n]=e.apply(this,arguments)}),function(a){return Sa(a,r).value[n]}}function G2(t,n){var e;return("number"==typeof n?xa:n instanceof ch?ow:(e=ch(n))?(n=e,ow):T2)(t,n)}function mJ(t){return function(){this.removeAttribute(t)}}function _J(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vJ(t,n,e){var r,d,a=e+"";return function(){var h=this.getAttribute(t);return h===a?null:h===r?d:d=n(r=h,e)}}function yJ(t,n,e){var r,d,a=e+"";return function(){var h=this.getAttributeNS(t.space,t.local);return h===a?null:h===r?d:d=n(r=h,e)}}function CJ(t,n,e){var r,a,d;return function(){var h,S,m=e(this);return null==m?void this.removeAttribute(t):(h=this.getAttribute(t))===(S=m+"")?null:h===r&&S===a?d:(a=S,d=n(r=h,m))}}function bJ(t,n,e){var r,a,d;return function(){var h,S,m=e(this);return null==m?void this.removeAttributeNS(t.space,t.local):(h=this.getAttributeNS(t.space,t.local))===(S=m+"")?null:h===r&&S===a?d:(a=S,d=n(r=h,m))}}function xJ(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function SJ(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function TJ(t,n){var e,r;function a(){var d=n.apply(this,arguments);return d!==r&&(e=(r=d)&&SJ(t,d)),e}return a._value=n,a}function EJ(t,n){var e,r;function a(){var d=n.apply(this,arguments);return d!==r&&(e=(r=d)&&xJ(t,d)),e}return a._value=n,a}function AJ(t,n){return function(){cA(this,t).delay=+n.apply(this,arguments)}}function RJ(t,n){return n=+n,function(){cA(this,t).delay=n}}function kJ(t,n){return function(){el(this,t).duration=+n.apply(this,arguments)}}function PJ(t,n){return n=+n,function(){el(this,t).duration=n}}function MJ(t,n){if("function"!=typeof n)throw new Error;return function(){el(this,t).ease=n}}function HJ(t,n,e){var r,a,d=function VJ(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||"start"===n})}(n)?cA:el;return function(){var h=d(this,t),m=h.on;m!==r&&(a=(r=m).copy()).on(n,e),h.on=a}}var YJ=pv.prototype.constructor;function B2(t){return function(){this.style.removeProperty(t)}}function eee(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function tee(t,n,e){var r,a;function d(){var h=n.apply(this,arguments);return h!==a&&(r=(a=h)&&eee(t,h,e)),r}return d._value=n,d}function see(t){return function(n){this.textContent=t.call(this,n)}}function aee(t){var n,e;function r(){var a=t.apply(this,arguments);return a!==e&&(n=(e=a)&&see(a)),n}return r._value=t,r}var dee=0;function lc(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function V2(){return++dee}var hh=pv.prototype;lc.prototype=function hee(t){return pv().transition(t)}.prototype={constructor:lc,select:function UJ(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=qD(t));for(var r=this._groups,a=r.length,d=new Array(a),h=0;h<a;++h)for(var N,H,m=r[h],S=m.length,k=d[h]=new Array(S),q=0;q<S;++q)(N=m[q])&&(H=t.call(N,N.__data__,q,m))&&("__data__"in N&&(H.__data__=N.__data__),k[q]=H,hw(k[q],n,e,q,k,Sa(N,e)));return new lc(d,this._parents,n,e)},selectAll:function zJ(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=YL(t));for(var r=this._groups,a=r.length,d=[],h=[],m=0;m<a;++m)for(var N,S=r[m],k=S.length,H=0;H<k;++H)if(N=S[H]){for(var ne,q=t.call(N,N.__data__,H,S),fe=Sa(N,e),ye=0,me=q.length;ye<me;++ye)(ne=q[ye])&&hw(ne,n,e,ye,q,fe);d.push(q),h.push(N)}return new lc(d,h,n,e)},filter:function GJ(t){"function"!=typeof t&&(t=KL(t));for(var n=this._groups,e=n.length,r=new Array(e),a=0;a<e;++a)for(var S,d=n[a],h=d.length,m=r[a]=[],k=0;k<h;++k)(S=d[k])&&t.call(S,S.__data__,k,d)&&m.push(S);return new lc(r,this._parents,this._name,this._id)},merge:function BJ(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,d=Math.min(r,e.length),h=new Array(r),m=0;m<d;++m)for(var q,S=n[m],k=e[m],N=S.length,H=h[m]=new Array(N),ne=0;ne<N;++ne)(q=S[ne]||k[ne])&&(H[ne]=q);for(;m<r;++m)h[m]=n[m];return new lc(h,this._parents,this._name,this._id)},selection:function KJ(){return new YJ(this._groups,this._parents)},transition:function cee(){for(var t=this._name,n=this._id,e=V2(),r=this._groups,a=r.length,d=0;d<a;++d)for(var S,h=r[d],m=h.length,k=0;k<m;++k)if(S=h[k]){var N=Sa(S,n);hw(S,t,e,k,h,{time:N.time+N.delay+N.duration,delay:0,duration:N.duration,ease:N.ease})}return new lc(r,this._parents,t,e)},call:hh.call,nodes:hh.nodes,node:hh.node,size:hh.size,empty:hh.empty,each:hh.each,on:function jJ(t,n){var e=this._id;return arguments.length<2?Sa(this.node(),e).on.on(t):this.each(HJ(e,t,n))},attr:function wJ(t,n){var e=ew(t),r="transform"===e?hJ:G2;return this.attrTween(t,"function"==typeof n?(e.local?bJ:CJ)(e,r,hA(this,"attr."+t,n)):null==n?(e.local?_J:mJ)(e):(e.local?yJ:vJ)(e,r,n))},attrTween:function DJ(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=ew(t);return this.tween(e,(r.local?TJ:EJ)(r,n))},style:function JJ(t,n,e){var r="transform"==(t+="")?dJ:G2;return null==n?this.styleTween(t,function qJ(t,n){var e,r,a;return function(){var d=If(this,t),h=(this.style.removeProperty(t),If(this,t));return d===h?null:d===e&&h===r?a:a=n(e=d,r=h)}}(t,r)).on("end.style."+t,B2(t)):"function"==typeof n?this.styleTween(t,function QJ(t,n,e){var r,a,d;return function(){var h=If(this,t),m=e(this),S=m+"";return null==m&&(this.style.removeProperty(t),S=m=If(this,t)),h===S?null:h===r&&S===a?d:(a=S,d=n(r=h,m))}}(t,r,hA(this,"style."+t,n))).each(function ZJ(t,n){var e,r,a,m,d="style."+n,h="end."+d;return function(){var S=el(this,t),k=S.on,N=null==S.value[d]?m||(m=B2(n)):void 0;(k!==e||a!==N)&&(r=(e=k).copy()).on(h,a=N),S.on=r}}(this._id,t)):this.styleTween(t,function XJ(t,n,e){var r,d,a=e+"";return function(){var h=If(this,t);return h===a?null:h===r?d:d=n(r=h,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function nee(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,tee(t,n,null==e?"":e))},text:function oee(t){return this.tween("text","function"==typeof t?function ree(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(hA(this,"text",t)):function iee(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function lee(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,aee(t))},remove:function WJ(){return this.on("end.remove",function $J(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function gJ(t,n){var e=this._id;if(t+="",arguments.length<2){for(var h,r=Sa(this.node(),e).tween,a=0,d=r.length;a<d;++a)if((h=r[a]).name===t)return h.value;return null}return this.each((null==n?pJ:fJ)(e,t,n))},delay:function OJ(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?AJ:RJ)(n,t)):Sa(this.node(),n).delay},duration:function IJ(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?kJ:PJ)(n,t)):Sa(this.node(),n).duration},ease:function NJ(t){var n=this._id;return arguments.length?this.each(MJ(n,t)):Sa(this.node(),n).ease},easeVarying:function LJ(t){if("function"!=typeof t)throw new Error;return this.each(function FJ(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;el(this,t).ease=e}}(this._id,t))},end:function uee(){var t,n,e=this,r=e._id,a=e.size();return new Promise(function(d,h){var m={value:h},S={value:function(){0==--a&&d()}};e.each(function(){var k=el(this,r),N=k.on;N!==t&&((n=(t=N).copy())._.cancel.push(m),n._.interrupt.push(m),n._.end.push(S)),k.on=n}),0===a&&d()})},[Symbol.iterator]:hh[Symbol.iterator]};var fee={time:null,delay:0,duration:250,ease:function pee(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function gee(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}pv.prototype.interrupt=function lJ(t){return this.each(function(){!function uA(t,n){var r,a,h,e=t.__transition,d=!0;if(e){for(h in n=null==n?null:n+"",e)(r=e[h]).name===n?(a=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[h]):d=!1;d&&delete t.__transition}}(this,t)})},pv.prototype.transition=function mee(t){var n,e;t instanceof lc?(n=t._id,t=t._name):(n=V2(),(e=fee).time=oA(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,d=0;d<a;++d)for(var S,h=r[d],m=h.length,k=0;k<m;++k)(S=h[k])&&hw(S,t,n,k,h,e||gee(S,n));return new lc(r,this._parents,t,n)};Math;function bv(t){return{type:t}}function yA(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function CA(t){let n=t,e=t;function r(h,m,S,k){for(null==S&&(S=0),null==k&&(k=h.length);S<k;){const N=S+k>>>1;e(h[N],m)<0?S=N+1:k=N}return S}return 1===t.length&&(n=(h,m)=>t(h)-m,e=function Aee(t){return(n,e)=>yA(t(n),e)}(t)),{left:r,center:function d(h,m,S,k){null==S&&(S=0),null==k&&(k=h.length);const N=r(h,m,S,k-1);return N>S&&n(h[N-1],m)>-n(h[N],m)?N-1:N},right:function a(h,m,S,k){for(null==S&&(S=0),null==k&&(k=h.length);S<k;){const N=S+k>>>1;e(h[N],m)>0?k=N:S=N+1}return S}}}["w","e"].map(bv),["n","s"].map(bv),["n","w","e","s","nw","ne","sw","se"].map(bv);var bA=Math.sqrt(50),wA=Math.sqrt(10),xA=Math.sqrt(2);function z2(t,n,e){var r=(n-t)/Math.max(0,e),a=Math.floor(Math.log(r)/Math.LN10),d=r/Math.pow(10,a);return a>=0?(d>=bA?10:d>=wA?5:d>=xA?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(d>=bA?10:d>=wA?5:d>=xA?2:1)}function SA(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),d=r/a;return d>=bA?a*=10:d>=wA?a*=5:d>=xA&&(a*=2),n<t?-a:a}const uc=1e3,Vs=6e4,dc=60*Vs,ph=24*dc,TA=7*ph,Y2=30*ph,EA=365*ph;var DA=new Date,AA=new Date;function Gr(t,n,e,r){function a(d){return t(d=0===arguments.length?new Date:new Date(+d)),d}return a.floor=function(d){return t(d=new Date(+d)),d},a.ceil=function(d){return t(d=new Date(d-1)),n(d,1),t(d),d},a.round=function(d){var h=a(d),m=a.ceil(d);return d-h<m-d?h:m},a.offset=function(d,h){return n(d=new Date(+d),null==h?1:Math.floor(h)),d},a.range=function(d,h,m){var k,S=[];if(d=a.ceil(d),m=null==m?1:Math.floor(m),!(d<h&&m>0))return S;do{S.push(k=new Date(+d)),n(d,m),t(d)}while(k<d&&d<h);return S},a.filter=function(d){return Gr(function(h){if(h>=h)for(;t(h),!d(h);)h.setTime(h-1)},function(h,m){if(h>=h)if(m<0)for(;++m<=0;)for(;n(h,-1),!d(h););else for(;--m>=0;)for(;n(h,1),!d(h););})},e&&(a.count=function(d,h){return DA.setTime(+d),AA.setTime(+h),t(DA),t(AA),Math.floor(e(DA,AA))},a.every=function(d){return d=Math.floor(d),isFinite(d)&&d>0?d>1?a.filter(r?function(h){return r(h)%d==0}:function(h){return a.count(0,h)%d==0}):a:null}),a}var mw=Gr(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});mw.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Gr(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):mw:null};const Oee=mw;const wv=Gr(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*uc)},function(t,n){return(n-t)/uc},function(t){return t.getUTCSeconds()});const X2=Gr(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*uc)},function(t,n){t.setTime(+t+n*Vs)},function(t,n){return(n-t)/Vs},function(t){return t.getMinutes()});const Z2=Gr(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*uc-t.getMinutes()*Vs)},function(t,n){t.setTime(+t+n*dc)},function(t,n){return(n-t)/dc},function(t){return t.getHours()});const _w=Gr(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Vs)/ph,t=>t.getDate()-1);function fh(t){return Gr(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+7*e)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Vs)/TA})}var vw=fh(0),yw=fh(1),Gf=(fh(2),fh(3),fh(4));const tG=(fh(5),fh(6),Gr(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}));var RA=Gr(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});RA.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gr(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};const gh=RA;const Nee=Gr(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Vs)},function(t,n){return(n-t)/Vs},function(t){return t.getUTCMinutes()});const Fee=Gr(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*dc)},function(t,n){return(n-t)/dc},function(t){return t.getUTCHours()});const OA=Gr(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/ph},function(t){return t.getUTCDate()-1});function mh(t){return Gr(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+7*e)},function(n,e){return(e-n)/TA})}var kA=mh(0),Cw=mh(1),Bf=(mh(2),mh(3),mh(4));const Hee=(mh(5),mh(6),Gr(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}));var PA=Gr(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});PA.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Gr(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};const Vf=PA;function sG(t,n,e,r,a,d){const h=[[wv,1,uc],[wv,5,5e3],[wv,15,15e3],[wv,30,3e4],[d,1,Vs],[d,5,5*Vs],[d,15,15*Vs],[d,30,30*Vs],[a,1,dc],[a,3,3*dc],[a,6,6*dc],[a,12,12*dc],[r,1,ph],[r,2,2*ph],[e,1,TA],[n,1,Y2],[n,3,3*Y2],[t,1,EA]];function S(k,N,H){const q=Math.abs(N-k)/H,ne=CA(([,,me])=>me).right(h,q);if(ne===h.length)return t.every(SA(k/EA,N/EA,H));if(0===ne)return Oee.every(Math.max(SA(k,N,H),1));const[fe,ye]=h[q/h[ne-1][2]<h[ne][2]/q?ne-1:ne];return fe.every(ye)}return[function m(k,N,H){const q=N<k;q&&([k,N]=[N,k]);const ne=H&&"function"==typeof H.range?H:S(k,N,H),fe=ne?ne.range(k,+N+1):[];return q?fe.reverse():fe},S]}const[p0e,f0e]=sG(Vf,Hee,kA,OA,Fee,Nee),[jee,$ee]=sG(gh,tG,vw,_w,Z2,X2);function IA(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function MA(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xv(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var aG={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,Uee=/^%/,zee=/[\\^$*+?|[\]().{}]/g;function ti(t,n,e){var r=t<0?"-":"",a=(r?-t:t)+"",d=a.length;return r+(d<e?new Array(e-d+1).join(n)+a:a)}function Yee(t){return t.replace(zee,"\\$&")}function Sv(t){return new RegExp("^(?:"+t.map(Yee).join("|")+")","i")}function Tv(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function Kee(t,n,e){var r=Br.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function qee(t,n,e){var r=Br.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Xee(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Qee(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Zee(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function lG(t,n,e){var r=Br.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function cG(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Jee(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ete(t,n,e){var r=Br.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function tte(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function uG(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function nte(t,n,e){var r=Br.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function dG(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ite(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function rte(t,n,e){var r=Br.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function ote(t,n,e){var r=Br.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ste(t,n,e){var r=Br.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ate(t,n,e){var r=Uee.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function lte(t,n,e){var r=Br.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function cte(t,n,e){var r=Br.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function hG(t,n){return ti(t.getDate(),n,2)}function ute(t,n){return ti(t.getHours(),n,2)}function dte(t,n){return ti(t.getHours()%12||12,n,2)}function hte(t,n){return ti(1+_w.count(gh(t),t),n,3)}function pG(t,n){return ti(t.getMilliseconds(),n,3)}function pte(t,n){return pG(t,n)+"000"}function fte(t,n){return ti(t.getMonth()+1,n,2)}function gte(t,n){return ti(t.getMinutes(),n,2)}function mte(t,n){return ti(t.getSeconds(),n,2)}function _te(t){var n=t.getDay();return 0===n?7:n}function vte(t,n){return ti(vw.count(gh(t)-1,t),n,2)}function fG(t){var n=t.getDay();return n>=4||0===n?Gf(t):Gf.ceil(t)}function yte(t,n){return t=fG(t),ti(Gf.count(gh(t),t)+(4===gh(t).getDay()),n,2)}function Cte(t){return t.getDay()}function bte(t,n){return ti(yw.count(gh(t)-1,t),n,2)}function wte(t,n){return ti(t.getFullYear()%100,n,2)}function xte(t,n){return ti((t=fG(t)).getFullYear()%100,n,2)}function Ste(t,n){return ti(t.getFullYear()%1e4,n,4)}function Tte(t,n){var e=t.getDay();return ti((t=e>=4||0===e?Gf(t):Gf.ceil(t)).getFullYear()%1e4,n,4)}function Ete(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ti(n/60|0,"0",2)+ti(n%60,"0",2)}function gG(t,n){return ti(t.getUTCDate(),n,2)}function Dte(t,n){return ti(t.getUTCHours(),n,2)}function Ate(t,n){return ti(t.getUTCHours()%12||12,n,2)}function Rte(t,n){return ti(1+OA.count(Vf(t),t),n,3)}function mG(t,n){return ti(t.getUTCMilliseconds(),n,3)}function Ote(t,n){return mG(t,n)+"000"}function kte(t,n){return ti(t.getUTCMonth()+1,n,2)}function Pte(t,n){return ti(t.getUTCMinutes(),n,2)}function Ite(t,n){return ti(t.getUTCSeconds(),n,2)}function Mte(t){var n=t.getUTCDay();return 0===n?7:n}function Nte(t,n){return ti(kA.count(Vf(t)-1,t),n,2)}function _G(t){var n=t.getUTCDay();return n>=4||0===n?Bf(t):Bf.ceil(t)}function Fte(t,n){return t=_G(t),ti(Bf.count(Vf(t),t)+(4===Vf(t).getUTCDay()),n,2)}function Lte(t){return t.getUTCDay()}function Gte(t,n){return ti(Cw.count(Vf(t)-1,t),n,2)}function Bte(t,n){return ti(t.getUTCFullYear()%100,n,2)}function Vte(t,n){return ti((t=_G(t)).getUTCFullYear()%100,n,2)}function Hte(t,n){return ti(t.getUTCFullYear()%1e4,n,4)}function jte(t,n){var e=t.getUTCDay();return ti((t=e>=4||0===e?Bf(t):Bf.ceil(t)).getUTCFullYear()%1e4,n,4)}function $te(){return"+0000"}function vG(){return"%"}function yG(t){return+t}function CG(t){return Math.floor(+t/1e3)}function wG(t){return null===t?NaN:+t}!function Yte(t){(function Wee(t){var n=t.dateTime,e=t.date,r=t.time,a=t.periods,d=t.days,h=t.shortDays,m=t.months,S=t.shortMonths,k=Sv(a),N=Tv(a),H=Sv(d),q=Tv(d),ne=Sv(h),fe=Tv(h),ye=Sv(m),me=Tv(m),De=Sv(S),Te=Tv(S),Fe={a:function mt(Rt){return h[Rt.getDay()]},A:function Gt(Rt){return d[Rt.getDay()]},b:function Ft(Rt){return S[Rt.getMonth()]},B:function gn(Rt){return m[Rt.getMonth()]},c:null,d:hG,e:hG,f:pte,g:xte,G:Tte,H:ute,I:dte,j:hte,L:pG,m:fte,M:gte,p:function Ln(Rt){return a[+(Rt.getHours()>=12)]},q:function Dn(Rt){return 1+~~(Rt.getMonth()/3)},Q:yG,s:CG,S:mte,u:_te,U:vte,V:yte,w:Cte,W:bte,x:null,X:null,y:wte,Y:Ste,Z:Ete,"%":vG},Ve={a:function Qi(Rt){return h[Rt.getUTCDay()]},A:function yn(Rt){return d[Rt.getUTCDay()]},b:function ir(Rt){return S[Rt.getUTCMonth()]},B:function Vr(Rt){return m[Rt.getUTCMonth()]},c:null,d:gG,e:gG,f:Ote,g:Vte,G:jte,H:Dte,I:Ate,j:Rte,L:mG,m:kte,M:Pte,p:function Gn(Rt){return a[+(Rt.getUTCHours()>=12)]},q:function $i(Rt){return 1+~~(Rt.getUTCMonth()/3)},Q:yG,s:CG,S:Ite,u:Mte,U:Nte,V:Fte,w:Lte,W:Gte,x:null,X:null,y:Bte,Y:Hte,Z:$te,"%":vG},qe={a:function $t(Rt,rn,On){var _t=ne.exec(rn.slice(On));return _t?(Rt.w=fe.get(_t[0].toLowerCase()),On+_t[0].length):-1},A:function yt(Rt,rn,On){var _t=H.exec(rn.slice(On));return _t?(Rt.w=q.get(_t[0].toLowerCase()),On+_t[0].length):-1},b:function Pt(Rt,rn,On){var _t=De.exec(rn.slice(On));return _t?(Rt.m=Te.get(_t[0].toLowerCase()),On+_t[0].length):-1},B:function Tt(Rt,rn,On){var _t=ye.exec(rn.slice(On));return _t?(Rt.m=me.get(_t[0].toLowerCase()),On+_t[0].length):-1},c:function vn(Rt,rn,On){return kt(Rt,n,rn,On)},d:uG,e:uG,f:ste,g:cG,G:lG,H:dG,I:dG,j:nte,L:ote,m:tte,M:ite,p:function qt(Rt,rn,On){var _t=k.exec(rn.slice(On));return _t?(Rt.p=N.get(_t[0].toLowerCase()),On+_t[0].length):-1},q:ete,Q:lte,s:cte,S:rte,u:qee,U:Xee,V:Qee,w:Kee,W:Zee,x:function Zn(Rt,rn,On){return kt(Rt,e,rn,On)},X:function ct(Rt,rn,On){return kt(Rt,r,rn,On)},y:cG,Y:lG,Z:Jee,"%":ate};function Je(Rt,rn){return function(On){var Hr,Cn,Wi,_t=[],Li=-1,oi=0,Jr=Rt.length;for(On instanceof Date||(On=new Date(+On));++Li<Jr;)37===Rt.charCodeAt(Li)&&(_t.push(Rt.slice(oi,Li)),null!=(Cn=aG[Hr=Rt.charAt(++Li)])?Hr=Rt.charAt(++Li):Cn="e"===Hr?" ":"0",(Wi=rn[Hr])&&(Hr=Wi(On,Cn)),_t.push(Hr),oi=Li+1);return _t.push(Rt.slice(oi,Li)),_t.join("")}}function Dt(Rt,rn){return function(On){var oi,Jr,_t=xv(1900,void 0,1);if(kt(_t,Rt,On+="",0)!=On.length)return null;if("Q"in _t)return new Date(_t.Q);if("s"in _t)return new Date(1e3*_t.s+("L"in _t?_t.L:0));if(rn&&!("Z"in _t)&&(_t.Z=0),"p"in _t&&(_t.H=_t.H%12+12*_t.p),void 0===_t.m&&(_t.m="q"in _t?_t.q:0),"V"in _t){if(_t.V<1||_t.V>53)return null;"w"in _t||(_t.w=1),"Z"in _t?(Jr=(oi=MA(xv(_t.y,0,1))).getUTCDay(),oi=Jr>4||0===Jr?Cw.ceil(oi):Cw(oi),oi=OA.offset(oi,7*(_t.V-1)),_t.y=oi.getUTCFullYear(),_t.m=oi.getUTCMonth(),_t.d=oi.getUTCDate()+(_t.w+6)%7):(Jr=(oi=IA(xv(_t.y,0,1))).getDay(),oi=Jr>4||0===Jr?yw.ceil(oi):yw(oi),oi=_w.offset(oi,7*(_t.V-1)),_t.y=oi.getFullYear(),_t.m=oi.getMonth(),_t.d=oi.getDate()+(_t.w+6)%7)}else("W"in _t||"U"in _t)&&("w"in _t||(_t.w="u"in _t?_t.u%7:"W"in _t?1:0),Jr="Z"in _t?MA(xv(_t.y,0,1)).getUTCDay():IA(xv(_t.y,0,1)).getDay(),_t.m=0,_t.d="W"in _t?(_t.w+6)%7+7*_t.W-(Jr+5)%7:_t.w+7*_t.U-(Jr+6)%7);return"Z"in _t?(_t.H+=_t.Z/100|0,_t.M+=_t.Z%100,MA(_t)):IA(_t)}}function kt(Rt,rn,On,_t){for(var Hr,Cn,Li=0,oi=rn.length,Jr=On.length;Li<oi;){if(_t>=Jr)return-1;if(37===(Hr=rn.charCodeAt(Li++))){if(Hr=rn.charAt(Li++),!(Cn=qe[Hr in aG?rn.charAt(Li++):Hr])||(_t=Cn(Rt,On,_t))<0)return-1}else if(Hr!=On.charCodeAt(_t++))return-1}return _t}return Fe.x=Je(e,Fe),Fe.X=Je(r,Fe),Fe.c=Je(n,Fe),Ve.x=Je(e,Ve),Ve.X=Je(r,Ve),Ve.c=Je(n,Ve),{format:function(Rt){var rn=Je(Rt+="",Fe);return rn.toString=function(){return Rt},rn},parse:function(Rt){var rn=Dt(Rt+="",!1);return rn.toString=function(){return Rt},rn},utcFormat:function(Rt){var rn=Je(Rt+="",Ve);return rn.toString=function(){return Rt},rn},utcParse:function(Rt){var rn=Dt(Rt+="",!0);return rn.toString=function(){return Rt},rn}}})(t)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Kte=CA(yA).right,SG=(CA(wG),Kte);function qte(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Qte(t){return+t}var TG=[0,1];function jf(t){return t}function NA(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function Xte(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Jte(t,n,e){var r=t[0],a=t[1],d=n[0],h=n[1];return a<r?(r=NA(a,r),d=e(h,d)):(r=NA(r,a),d=e(d,h)),function(m){return d(r(m))}}function ene(t,n,e){var r=Math.min(t.length,n.length)-1,a=new Array(r),d=new Array(r),h=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++h<r;)a[h]=NA(t[h],t[h+1]),d[h]=e(n[h],n[h+1]);return function(m){var S=SG(t,m,1,r)-1;return d[S](a[S](m))}}function EG(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function DG(){return function tne(){var r,a,d,m,S,k,t=TG,n=TG,e=uh,h=jf;function N(){var q=Math.min(t.length,n.length);return h!==jf&&(h=function Zte(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}(t[0],t[q-1])),m=q>2?ene:Jte,S=k=null,H}function H(q){return null==q||isNaN(q=+q)?d:(S||(S=m(t.map(r),n,e)))(r(h(q)))}return H.invert=function(q){return h(a((k||(k=m(n,t.map(r),xa)))(q)))},H.domain=function(q){return arguments.length?(t=Array.from(q,Qte),N()):t.slice()},H.range=function(q){return arguments.length?(n=Array.from(q),N()):n.slice()},H.rangeRound=function(q){return n=Array.from(q),e=qte,N()},H.clamp=function(q){return arguments.length?(h=!!q||jf,N()):h!==jf},H.interpolate=function(q){return arguments.length?(e=q,N()):e},H.unknown=function(q){return arguments.length?(d=q,H):d},function(q,ne){return r=q,a=ne,N()}}()(jf,jf)}function Ev(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var RG,sne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bw(t){if(!(n=sne.exec(t)))throw new Error("invalid format: "+t);var n;return new FA({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function FA(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ww(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function $f(t){return(t=ww(Math.abs(t)))?t[1]:NaN}function OG(t,n){var e=ww(t,n);if(!e)return t+"";var r=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}bw.prototype=FA.prototype,FA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const kG={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function ane(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>OG(100*t,n),r:OG,s:function hne(t,n){var e=ww(t,n);if(!e)return t+"";var r=e[0],a=e[1],d=a-(RG=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,h=r.length;return d===h?r:d>h?r+new Array(d-h+1).join("0"):d>0?r.slice(0,d)+"."+r.slice(d):"0."+new Array(1-d).join("0")+ww(t,Math.max(0,n+d-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PG(t){return t}var xw,NG,FG,IG=Array.prototype.map,MG=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function vne(t){var n=t.domain;return t.ticks=function(e){var r=n();return function Ree(t,n,e){var r,d,h,m,a=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(d=t,t=n,n=d),0===(m=z2(t,n,e))||!isFinite(m))return[];if(m>0){let S=Math.round(t/m),k=Math.round(n/m);for(S*m<t&&++S,k*m>n&&--k,h=new Array(d=k-S+1);++a<d;)h[a]=(S+a)*m}else{m=-m;let S=Math.round(t*m),k=Math.round(n*m);for(S/m<t&&++S,k/m>n&&--k,h=new Array(d=k-S+1);++a<d;)h[a]=(S+a)/m}return r&&h.reverse(),h}(r[0],r[r.length-1],null==e?10:e)},t.tickFormat=function(e,r){var a=n();return function _ne(t,n,e,r){var d,a=SA(t,n,e);switch((r=bw(null==r?",f":r)).type){case"s":var h=Math.max(Math.abs(t),Math.abs(n));return null==r.precision&&!isNaN(d=function lne(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($f(n)/3)))-$f(Math.abs(t)))}(a,h))&&(r.precision=d),FG(r,h);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(d=function gne(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,$f(n)-$f(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=d-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(d=function mne(t){return Math.max(0,-$f(Math.abs(t)))}(a))&&(r.precision=d-2*("%"===r.type))}return NG(r)}(a[0],a[a.length-1],null==e?10:e,r)},t.nice=function(e){null==e&&(e=10);var S,k,r=n(),a=0,d=r.length-1,h=r[a],m=r[d],N=10;for(m<h&&(k=h,h=m,m=k,k=a,a=d,d=k);N-- >0;){if((k=z2(h,m,e))===S)return r[a]=h,r[d]=m,n(r);if(k>0)h=Math.floor(h/k)*k,m=Math.ceil(m/k)*k;else{if(!(k<0))break;h=Math.ceil(h*k)/k,m=Math.floor(m*k)/k}S=k}return t},t}function Dv(){var t=DG();return t.copy=function(){return EG(t,Dv())},Ev.apply(t,arguments),vne(t)}function LG(t,n,e){t=+t,n=+n,e=(a=arguments.length)<2?(n=t,t=0,1):a<3?1:+e;for(var r=-1,a=0|Math.max(0,Math.ceil((n-t)/e)),d=new Array(a);++r<a;)d[r]=t+r*e;return d}!function fne(t){xw=function pne(t){var n=void 0===t.grouping||void 0===t.thousands?PG:function cne(t,n){return function(e,r){for(var a=e.length,d=[],h=0,m=t[0],S=0;a>0&&m>0&&(S+m+1>r&&(m=Math.max(1,r-S)),d.push(e.substring(a-=m,a+m)),!((S+=m+1)>r));)m=t[h=(h+1)%t.length];return d.reverse().join(n)}}(IG.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",d=void 0===t.numerals?PG:function une(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}(IG.call(t.numerals,String)),h=void 0===t.percent?"%":t.percent+"",m=void 0===t.minus?"\u2212":t.minus+"",S=void 0===t.nan?"NaN":t.nan+"";function k(H){var q=(H=bw(H)).fill,ne=H.align,fe=H.sign,ye=H.symbol,me=H.zero,De=H.width,Te=H.comma,Fe=H.precision,Ve=H.trim,qe=H.type;"n"===qe?(Te=!0,qe="g"):kG[qe]||(void 0===Fe&&(Fe=12),Ve=!0,qe="g"),(me||"0"===q&&"="===ne)&&(me=!0,q="0",ne="=");var Je="$"===ye?e:"#"===ye&&/[boxX]/.test(qe)?"0"+qe.toLowerCase():"",Dt="$"===ye?r:/[%p]/.test(qe)?h:"",kt=kG[qe],qt=/[defgprs%]/.test(qe);function $t(yt){var vn,Zn,ct,Pt=Je,Tt=Dt;if("c"===qe)Tt=kt(yt)+Tt,yt="";else{var mt=(yt=+yt)<0||1/yt<0;if(yt=isNaN(yt)?S:kt(Math.abs(yt),Fe),Ve&&(yt=function dne(t){e:for(var a,n=t.length,e=1,r=-1;e<n;++e)switch(t[e]){case".":r=a=e;break;case"0":0===r&&(r=e),a=e;break;default:if(!+t[e])break e;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(a+1):t}(yt)),mt&&0==+yt&&"+"!==fe&&(mt=!1),Pt=(mt?"("===fe?fe:m:"-"===fe||"("===fe?"":fe)+Pt,Tt=("s"===qe?MG[8+RG/3]:"")+Tt+(mt&&"("===fe?")":""),qt)for(vn=-1,Zn=yt.length;++vn<Zn;)if(48>(ct=yt.charCodeAt(vn))||ct>57){Tt=(46===ct?a+yt.slice(vn+1):yt.slice(vn))+Tt,yt=yt.slice(0,vn);break}}Te&&!me&&(yt=n(yt,1/0));var Gt=Pt.length+yt.length+Tt.length,Ft=Gt<De?new Array(De-Gt+1).join(q):"";switch(Te&&me&&(yt=n(Ft+yt,Ft.length?De-Tt.length:1/0),Ft=""),ne){case"<":yt=Pt+yt+Tt+Ft;break;case"=":yt=Pt+Ft+yt+Tt;break;case"^":yt=Ft.slice(0,Gt=Ft.length>>1)+Pt+yt+Tt+Ft.slice(Gt);break;default:yt=Ft+Pt+yt+Tt}return d(yt)}return Fe=void 0===Fe?6:/[gprs]/.test(qe)?Math.max(1,Math.min(21,Fe)):Math.max(0,Math.min(20,Fe)),$t.toString=function(){return H+""},$t}return{format:k,formatPrefix:function N(H,q){var ne=k(((H=bw(H)).type="f",H)),fe=3*Math.max(-8,Math.min(8,Math.floor($f(q)/3))),ye=Math.pow(10,-fe),me=MG[8+fe/3];return function(De){return ne(ye*De)+me}}}}(t),NG=xw.format,FG=xw.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const GG=Symbol("implicit");function LA(){var t=new Map,n=[],e=[],r=GG;function a(d){var h=d+"",m=t.get(h);if(!m){if(r!==GG)return r;t.set(h,m=n.push(d))}return e[(m-1)%e.length]}return a.domain=function(d){if(!arguments.length)return n.slice();n=[],t=new Map;for(const h of d){const m=h+"";t.has(m)||t.set(m,n.push(h))}return a},a.range=function(d){return arguments.length?(e=Array.from(d),a):e.slice()},a.unknown=function(d){return arguments.length?(r=d,a):r},a.copy=function(){return LA(n,e).unknown(r)},Ev.apply(a,arguments),a}function GA(){var d,h,t=LA().unknown(void 0),n=t.domain,e=t.range,r=0,a=1,m=!1,S=0,k=0,N=.5;function H(){var q=n().length,ne=a<r,fe=ne?a:r,ye=ne?r:a;d=(ye-fe)/Math.max(1,q-S+2*k),m&&(d=Math.floor(d)),fe+=(ye-fe-d*(q-S))*N,h=d*(1-S),m&&(fe=Math.round(fe),h=Math.round(h));var me=LG(q).map(function(De){return fe+d*De});return e(ne?me.reverse():me)}return delete t.unknown,t.domain=function(q){return arguments.length?(n(q),H()):n()},t.range=function(q){return arguments.length?([r,a]=q,r=+r,a=+a,H()):[r,a]},t.rangeRound=function(q){return[r,a]=q,r=+r,a=+a,m=!0,H()},t.bandwidth=function(){return h},t.step=function(){return d},t.round=function(q){return arguments.length?(m=!!q,H()):m},t.padding=function(q){return arguments.length?(S=Math.min(1,k=+q),H()):S},t.paddingInner=function(q){return arguments.length?(S=Math.min(1,q),H()):S},t.paddingOuter=function(q){return arguments.length?(k=+q,H()):k},t.align=function(q){return arguments.length?(N=Math.max(0,Math.min(1,q)),H()):N},t.copy=function(){return GA(n(),[r,a]).round(m).paddingInner(S).paddingOuter(k).align(N)},Ev.apply(H(),arguments)}function Cne(t,n,e=wG){if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,a=(r-1)*n,d=Math.floor(a),h=+e(t[d],d,t);return h+(+e(t[d+1],d+1,t)-h)*(a-d)}}function VG(){var r,t=[],n=[],e=[];function a(){var h=0,m=Math.max(1,n.length);for(e=new Array(m-1);++h<m;)e[h-1]=Cne(t,h/m);return d}function d(h){return null==h||isNaN(h=+h)?r:n[SG(e,h)]}return d.invertExtent=function(h){var m=n.indexOf(h);return m<0?[NaN,NaN]:[m>0?e[m-1]:t[0],m<e.length?e[m]:t[t.length-1]]},d.domain=function(h){if(!arguments.length)return t.slice();t=[];for(let m of h)null!=m&&!isNaN(m=+m)&&t.push(m);return t.sort(yA),a()},d.range=function(h){return arguments.length?(n=Array.from(h),a()):n.slice()},d.unknown=function(h){return arguments.length?(r=h,d):r},d.quantiles=function(){return e.slice()},d.copy=function(){return VG().domain(t).range(n).unknown(r)},Ev.apply(d,arguments)}const BA=Math.PI,VA=2*BA,_h=1e-6,bne=VA-_h;function HA(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function HG(){return new HA}HA.prototype=HG.prototype={constructor:HA,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,a,d){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+a)+","+(this._y1=+d)},arcTo:function(t,n,e,r,a){var d=this._x1,h=this._y1,m=(e=+e)-(t=+t),S=(r=+r)-(n=+n),k=d-t,N=h-n,H=k*k+N*N;if((a=+a)<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(H>_h)if(Math.abs(N*m-S*k)>_h&&a){var q=e-d,ne=r-h,fe=m*m+S*S,ye=q*q+ne*ne,me=Math.sqrt(fe),De=Math.sqrt(H),Te=a*Math.tan((BA-Math.acos((fe+H-ye)/(2*me*De)))/2),Fe=Te/De,Ve=Te/me;Math.abs(Fe-1)>_h&&(this._+="L"+(t+Fe*k)+","+(n+Fe*N)),this._+="A"+a+","+a+",0,0,"+ +(N*q>k*ne)+","+(this._x1=t+Ve*m)+","+(this._y1=n+Ve*S)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,e,r,a,d){t=+t,n=+n,d=!!d;var h=(e=+e)*Math.cos(r),m=e*Math.sin(r),S=t+h,k=n+m,N=1^d,H=d?r-a:a-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+S+","+k:(Math.abs(this._x1-S)>_h||Math.abs(this._y1-k)>_h)&&(this._+="L"+S+","+k),e&&(H<0&&(H=H%VA+VA),H>bne?this._+="A"+e+","+e+",0,1,"+N+","+(t-h)+","+(n-m)+"A"+e+","+e+",0,1,"+N+","+(this._x1=S)+","+(this._y1=k):H>_h&&(this._+="A"+e+","+e+",0,"+ +(H>=BA)+","+N+","+(this._x1=t+e*Math.cos(a))+","+(this._y1=n+e*Math.sin(a))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};const wne=HG;function Io(t){return function(){return t}}var jG=Math.abs,fo=Math.atan2,vh=Math.cos,xne=Math.max,jA=Math.min,tl=Math.sin,Wf=Math.sqrt,Qo=1e-12,Av=Math.PI,Sw=Av/2,Tw=2*Av;function Sne(t){return t>1?0:t<-1?Av:Math.acos(t)}function $G(t){return t>=1?Sw:t<=-1?-Sw:Math.asin(t)}function Tne(t){return t.innerRadius}function Ene(t){return t.outerRadius}function Dne(t){return t.startAngle}function Ane(t){return t.endAngle}function Rne(t){return t&&t.padAngle}function One(t,n,e,r,a,d,h,m){var S=e-t,k=r-n,N=h-a,H=m-d,q=H*S-N*k;if(!(q*q<Qo))return[t+(q=(N*(n-d)-H*(t-a))/q)*S,n+q*k]}function Ew(t,n,e,r,a,d,h){var m=t-e,S=n-r,k=(h?d:-d)/Wf(m*m+S*S),N=k*S,H=-k*m,q=t+N,ne=n+H,fe=e+N,ye=r+H,me=(q+fe)/2,De=(ne+ye)/2,Te=fe-q,Fe=ye-ne,Ve=Te*Te+Fe*Fe,qe=a-d,Je=q*ye-fe*ne,Dt=(Fe<0?-1:1)*Wf(xne(0,qe*qe*Ve-Je*Je)),kt=(Je*Fe-Te*Dt)/Ve,qt=(-Je*Te-Fe*Dt)/Ve,$t=(Je*Fe+Te*Dt)/Ve,yt=(-Je*Te+Fe*Dt)/Ve,Pt=kt-me,Tt=qt-De,vn=$t-me,Zn=yt-De;return Pt*Pt+Tt*Tt>vn*vn+Zn*Zn&&(kt=$t,qt=yt),{cx:kt,cy:qt,x01:-N,y01:-H,x11:kt*(a/qe-1),y11:qt*(a/qe-1)}}function $A(){var t=Tne,n=Ene,e=Io(0),r=null,a=Dne,d=Ane,h=Rne,m=null;function S(){var k,N,H=+t.apply(this,arguments),q=+n.apply(this,arguments),ne=a.apply(this,arguments)-Sw,fe=d.apply(this,arguments)-Sw,ye=jG(fe-ne),me=fe>ne;if(m||(m=k=wne()),q<H&&(N=q,q=H,H=N),q>Qo)if(ye>Tw-Qo)m.moveTo(q*vh(ne),q*tl(ne)),m.arc(0,0,q,ne,fe,!me),H>Qo&&(m.moveTo(H*vh(fe),H*tl(fe)),m.arc(0,0,H,fe,ne,me));else{var Pt,Tt,De=ne,Te=fe,Fe=ne,Ve=fe,qe=ye,Je=ye,Dt=h.apply(this,arguments)/2,kt=Dt>Qo&&(r?+r.apply(this,arguments):Wf(H*H+q*q)),qt=jA(jG(q-H)/2,+e.apply(this,arguments)),$t=qt,yt=qt;if(kt>Qo){var vn=$G(kt/H*tl(Dt)),Zn=$G(kt/q*tl(Dt));(qe-=2*vn)>Qo?(Fe+=vn*=me?1:-1,Ve-=vn):(qe=0,Fe=Ve=(ne+fe)/2),(Je-=2*Zn)>Qo?(De+=Zn*=me?1:-1,Te-=Zn):(Je=0,De=Te=(ne+fe)/2)}var ct=q*vh(De),mt=q*tl(De),Gt=H*vh(Ve),Ft=H*tl(Ve);if(qt>Qo){var yn,gn=q*vh(Te),Ln=q*tl(Te),Dn=H*vh(Fe),Qi=H*tl(Fe);if(ye<Av&&(yn=One(ct,mt,Dn,Qi,gn,Ln,Gt,Ft))){var ir=ct-yn[0],Vr=mt-yn[1],Gn=gn-yn[0],$i=Ln-yn[1],Rt=1/tl(Sne((ir*Gn+Vr*$i)/(Wf(ir*ir+Vr*Vr)*Wf(Gn*Gn+$i*$i)))/2),rn=Wf(yn[0]*yn[0]+yn[1]*yn[1]);$t=jA(qt,(H-rn)/(Rt-1)),yt=jA(qt,(q-rn)/(Rt+1))}}Je>Qo?yt>Qo?(Pt=Ew(Dn,Qi,ct,mt,q,yt,me),Tt=Ew(gn,Ln,Gt,Ft,q,yt,me),m.moveTo(Pt.cx+Pt.x01,Pt.cy+Pt.y01),yt<qt?m.arc(Pt.cx,Pt.cy,yt,fo(Pt.y01,Pt.x01),fo(Tt.y01,Tt.x01),!me):(m.arc(Pt.cx,Pt.cy,yt,fo(Pt.y01,Pt.x01),fo(Pt.y11,Pt.x11),!me),m.arc(0,0,q,fo(Pt.cy+Pt.y11,Pt.cx+Pt.x11),fo(Tt.cy+Tt.y11,Tt.cx+Tt.x11),!me),m.arc(Tt.cx,Tt.cy,yt,fo(Tt.y11,Tt.x11),fo(Tt.y01,Tt.x01),!me))):(m.moveTo(ct,mt),m.arc(0,0,q,De,Te,!me)):m.moveTo(ct,mt),H>Qo&&qe>Qo?$t>Qo?(Pt=Ew(Gt,Ft,gn,Ln,H,-$t,me),Tt=Ew(ct,mt,Dn,Qi,H,-$t,me),m.lineTo(Pt.cx+Pt.x01,Pt.cy+Pt.y01),$t<qt?m.arc(Pt.cx,Pt.cy,$t,fo(Pt.y01,Pt.x01),fo(Tt.y01,Tt.x01),!me):(m.arc(Pt.cx,Pt.cy,$t,fo(Pt.y01,Pt.x01),fo(Pt.y11,Pt.x11),!me),m.arc(0,0,H,fo(Pt.cy+Pt.y11,Pt.cx+Pt.x11),fo(Tt.cy+Tt.y11,Tt.cx+Tt.x11),me),m.arc(Tt.cx,Tt.cy,$t,fo(Tt.y11,Tt.x11),fo(Tt.y01,Tt.x01),!me))):m.arc(0,0,H,Ve,Fe,me):m.lineTo(Gt,Ft)}else m.moveTo(0,0);if(m.closePath(),k)return m=null,k+""||null}return S.centroid=function(){var k=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,N=(+a.apply(this,arguments)+ +d.apply(this,arguments))/2-Av/2;return[vh(N)*k,tl(N)*k]},S.innerRadius=function(k){return arguments.length?(t="function"==typeof k?k:Io(+k),S):t},S.outerRadius=function(k){return arguments.length?(n="function"==typeof k?k:Io(+k),S):n},S.cornerRadius=function(k){return arguments.length?(e="function"==typeof k?k:Io(+k),S):e},S.padRadius=function(k){return arguments.length?(r=null==k?null:"function"==typeof k?k:Io(+k),S):r},S.startAngle=function(k){return arguments.length?(a="function"==typeof k?k:Io(+k),S):a},S.endAngle=function(k){return arguments.length?(d="function"==typeof k?k:Io(+k),S):d},S.padAngle=function(k){return arguments.length?(h="function"==typeof k?k:Io(+k),S):h},S.context=function(k){return arguments.length?(m=null==k?null:k,S):m},S}function kne(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Pne(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Ine(t){return t}X(87);const Fne=["caretElm"];function Lne(t,n){}const Gne=function(t){return{model:t}};function Bne(t,n){if(1&t&&($(0,"span"),he(1,Lne,0,0,"ng-template",5),z()),2&t){const e=ve();W(1),te("ngTemplateOutlet",e.template)("ngTemplateOutletContext",cf(2,Gne,e.context))}}function Vne(t,n){1&t&&Ee(0,"span",6),2&t&&te("innerHTML",ve().title,yp)}function Hne(t,n){if(1&t&&($(0,"header",4)(1,"span",5),pe(2),z()()),2&t){const e=ve();W(2),Fi(e.title)}}function jne(t,n){if(1&t){const e=Wt();$(0,"li",6)(1,"ngx-charts-legend-entry",7),tt("select",function(a){return Et(e),ve().labelClick.emit(a)})("activate",function(a){return Et(e),ve().activate(a)})("deactivate",function(a){return Et(e),ve().deactivate(a)}),z()()}if(2&t){const e=n.$implicit,r=ve();W(1),te("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",r.isActive(e))}}function $ne(t,n){if(1&t&&(pi(),Sc(),Ee(0,"ngx-charts-scale-legend",4)),2&t){const e=ve();te("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function Wne(t,n){if(1&t){const e=Wt();pi(),Sc(),$(0,"ngx-charts-legend",5),tt("labelClick",function(a){return Et(e),ve().legendLabelClick.emit(a)})("labelActivate",function(a){return Et(e),ve().legendLabelActivate.emit(a)})("labelDeactivate",function(a){return Et(e),ve().legendLabelDeactivate.emit(a)}),z()}if(2&t){const e=ve();te("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const WG=["*"],lie=["ngx-charts-svg-radial-gradient",""];function cie(t,n){if(1&t&&(pi(),Ee(0,"stop")),2&t){const e=n.$implicit;Ce("stop-color",e.color)("stop-opacity",e.opacity),Ut("offset",e.offset+"%")}}const Eie=["tooltipTemplate"],Rv=function(t,n){return[t,n]},ore=["ngx-charts-pie-label",""],ure=["ngx-charts-pie-arc",""];function dre(t,n){if(1&t&&(pi(),$(0,"defs"),Ee(1,"g",3),z()),2&t){const e=ve();W(1),te("color",e.fill)("name",e.radialGradientId)("startOpacity",e.startOpacity)}}const hre=["ngx-charts-pie-series",""];function pre(t,n){if(1&t&&(pi(),Ee(0,"g",3)),2&t){const e=ve().$implicit,r=ve();te("data",e)("radius",r.outerRadius)("color",r.color(e))("label",r.labelText(e))("labelTrim",r.trimLabels)("labelTrimSize",r.maxLabelLength)("max",r.max)("value",e.value)("explodeSlices",r.explodeSlices)("animations",r.animations)}}function fre(t,n){if(1&t){const e=Wt();pi(),$(0,"g"),he(1,pre,1,10,"g",1),$(2,"g",2),tt("select",function(a){return Et(e),ve().onClick(a)})("activate",function(a){return Et(e),ve().activate.emit(a)})("deactivate",function(a){return Et(e),ve().deactivate.emit(a)})("dblclick",function(a){return Et(e),ve().dblclick.emit(a)}),z()()}if(2&t){const e=n.$implicit,r=ve();W(1),te("ngIf",r.labelVisible(e)),W(1),te("startAngle",e.startAngle)("endAngle",e.endAngle)("innerRadius",r.innerRadius)("outerRadius",r.outerRadius)("fill",r.color(e))("value",e.data.value)("gradient",r.gradient)("data",e.data)("max",r.max)("explodeSlices",r.explodeSlices)("isActive",r.isActive(e.data))("animate",r.animations)("tooltipDisabled",r.tooltipDisabled)("tooltipPlacement",r.placementTypes.Top)("tooltipType",r.styleTypes.tooltip)("tooltipTitle",r.getTooltipTitle(e))("tooltipTemplate",r.tooltipTemplate)("tooltipContext",e.data)}}function xre(t,n,e){e=e||{};let r,a,d,h=null,m=0;function S(){m=!1===e.leading?0:+new Date,h=null,d=t.apply(r,a)}return function(){const k=+new Date;!m&&!1===e.leading&&(m=k);const N=n-(k-m);return r=this,a=arguments,N<=0?(clearTimeout(h),h=null,m=k,d=t.apply(r,a)):!h&&!1!==e.trailing&&(h=setTimeout(S,N)),d}}function Sre(t,n){return function(r,a,d){return{configurable:!0,enumerable:d.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:d.enumerable,value:xre(d.value,t,n)}),this[a]}}}}var Hn=(()=>{return(t=Hn||(Hn={})).Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",Hn;var t})();function UG(t,n,e){return e===Hn.Top?t.top-7:e===Hn.Bottom?t.top+t.height-n.height+7:e===Hn.Center?t.top+t.height/2-n.height/2:void 0}function zG(t,n,e){return e===Hn.Left?t.left-7:e===Hn.Right?t.left+t.width-n.width+7:e===Hn.Center?t.left+t.width/2-n.width/2:void 0}class ys{static calculateVerticalAlignment(n,e,r){let a=UG(n,e,r);return a+e.height>window.innerHeight&&(a=window.innerHeight-e.height),a}static calculateVerticalCaret(n,e,r,a){let d;a===Hn.Top&&(d=n.height/2-r.height/2+7),a===Hn.Bottom&&(d=e.height-n.height/2-r.height/2-7),a===Hn.Center&&(d=e.height/2-r.height/2);const h=UG(n,e,a);return h+e.height>window.innerHeight&&(d+=h+e.height-window.innerHeight),d}static calculateHorizontalAlignment(n,e,r){let a=zG(n,e,r);return a+e.width>window.innerWidth&&(a=window.innerWidth-e.width),a}static calculateHorizontalCaret(n,e,r,a){let d;a===Hn.Left&&(d=n.width/2-r.width/2+7),a===Hn.Right&&(d=e.width-n.width/2-r.width/2-7),a===Hn.Center&&(d=e.width/2-r.width/2);const h=zG(n,e,a);return h+e.width>window.innerWidth&&(d+=h+e.width-window.innerWidth),d}static shouldFlip(n,e,r,a){let d=!1;return r===Hn.Right&&n.left+n.width+e.width+a>window.innerWidth&&(d=!0),r===Hn.Left&&n.left-e.width-a<0&&(d=!0),r===Hn.Top&&n.top-e.height-a<0&&(d=!0),r===Hn.Bottom&&n.top+n.height+e.height+a>window.innerHeight&&(d=!0),d}static positionCaret(n,e,r,a,d){let h=0,m=0;return n===Hn.Right?(m=-7,h=ys.calculateVerticalCaret(r,e,a,d)):n===Hn.Left?(m=e.width,h=ys.calculateVerticalCaret(r,e,a,d)):n===Hn.Top?(h=e.height,m=ys.calculateHorizontalCaret(r,e,a,d)):n===Hn.Bottom&&(h=-7,m=ys.calculateHorizontalCaret(r,e,a,d)),{top:h,left:m}}static positionContent(n,e,r,a,d){let h=0,m=0;return n===Hn.Right?(m=r.left+r.width+a,h=ys.calculateVerticalAlignment(r,e,d)):n===Hn.Left?(m=r.left-e.width-a,h=ys.calculateVerticalAlignment(r,e,d)):n===Hn.Top?(h=r.top-e.height-a,m=ys.calculateHorizontalAlignment(r,e,d)):n===Hn.Bottom&&(h=r.top+r.height+a,m=ys.calculateHorizontalAlignment(r,e,d)),{top:h,left:m}}static determinePlacement(n,e,r,a){if(ys.shouldFlip(r,e,n,a)){if(n===Hn.Right)return Hn.Left;if(n===Hn.Left)return Hn.Right;if(n===Hn.Top)return Hn.Bottom;if(n===Hn.Bottom)return Hn.Top}return n}}let Tre=(()=>{class t{constructor(e,r,a){this.element=e,this.renderer=r,this.platformId=a}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!ff(this.platformId))return;const e=this.element.nativeElement,r=this.host.nativeElement.getBoundingClientRect();if(!r.height&&!r.width)return;const a=e.getBoundingClientRect();this.checkFlip(r,a),this.positionContent(e,r,a),this.showCaret&&this.positionCaret(r,a),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,r,a){const{top:d,left:h}=ys.positionContent(this.placement,a,r,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${d}px`),this.renderer.setStyle(e,"left",`${h}px`)}positionCaret(e,r){const a=this.caretElm.nativeElement,d=a.getBoundingClientRect(),{top:h,left:m}=ys.positionCaret(this.placement,r,e,d,this.alignment);this.renderer.setStyle(a,"top",`${h}px`),this.renderer.setStyle(a,"left",`${m}px`)}checkFlip(e,r){this.placement=ys.determinePlacement(this.placement,r,e,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se(Ao),Se(ha))},t.\u0275cmp=tn({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,r){if(1&e&&Ki(Fne,5),2&e){let a;dn(a=hn())&&(r.caretElm=a.first)}},hostVars:2,hostBindings:function(e,r){1&e&&tt("resize",function(){return r.onWindowResize()},!1,Bc),2&e&&He(r.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,r){1&e&&($(0,"div"),Ee(1,"span",0,1),$(3,"div",2),he(4,Bne,2,4,"span",3),he(5,Vne,1,1,"span",4),z()()),2&e&&(W(1),Nt("tooltip-caret position-",r.placement,""),te("hidden",!r.showCaret),W(3),te("ngIf",!r.title),W(1),te("ngIf",r.title))},directives:[Oi,pf],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function jt(t,n,e,r){var h,a=arguments.length,d=a<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(t,n,e,r);else for(var m=t.length-1;m>=0;m--)(h=t[m])&&(d=(a<3?h(d):a>3?h(n,e,d):h(n,e))||d);a>3&&d&&Object.defineProperty(n,e,d)}([Sre(100)],t.prototype,"onWindowResize",null),t})(),YG=(()=>{class t{constructor(e,r,a){this.applicationRef=e,this.componentFactoryResolver=r,this.injector=a}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function Dre(t){return t.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,r){if(r){if(void 0!==r.inputs){const a=Object.getOwnPropertyNames(r.inputs);for(const d of a)e.instance[d]=r.inputs[d]}if(void 0!==r.outputs){const a=Object.getOwnPropertyNames(r.outputs);for(const d of a)e.instance[d]=r.outputs[d]}}return e}appendComponent(e,r={},a){a||(a=this.getRootViewContainer());const d=this.getComponentRootNode(a),h=new QX(d,this.componentFactoryResolver,this.applicationRef,this.injector),m=new UL(e),S=h.attach(m);return this.projectComponentBindings(S,r),S}}return t.globalRootViewContainer=null,t.\u0275fac=function(e){return new(e||t)(Qe(pu),Qe(Ba),Qe(gi))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),WA=(()=>{class t extends class Ere{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,e){e=this.assignDefaults(e);const r=this.injectComponent(n,e);return this.register(n,r),r}destroy(n){const e=this.components.get(n.componentType);if(e&&e.length){const r=e.indexOf(n);r>-1&&(e[r].destroy(),e.splice(r,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const e=this.components.get(n);if(e&&e.length){let r=e.length-1;for(;r>=0;)this.destroy(e[r--])}}injectComponent(n,e){return this.injectionService.appendComponent(n,e)}assignDefaults(n){const e=Object.assign({},this.defaults.inputs),r=Object.assign({},this.defaults.outputs);return!n.inputs&&!n.outputs&&(n={inputs:n}),e&&(n.inputs=Object.assign(Object.assign({},e),n.inputs)),r&&(n.outputs=Object.assign(Object.assign({},r),n.outputs)),n}register(n,e){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(e)}}{constructor(e){super(e),this.type=Tre}}return t.\u0275fac=function(e){return new(e||t)(Qe(YG))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();var hc=(()=>{return(t=hc||(hc={})).Right="right",t.Below="below",hc;var t})(),yh=(()=>{return(t=yh||(yh={})).ScaleLegend="scaleLegend",t.Legend="legend",yh;var t})(),ln=(()=>{return(t=ln||(ln={})).Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",ln;var t})();let KG=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(e){const r=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${r})`}gradientString(e,r){r.push(1);const a=[];return e.reverse().forEach((d,h)=>{a.push(`${d} ${Math.round(100*r[h])}%`)}),a.join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[Wn],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,r){1&e&&($(0,"div",0)(1,"div",1)(2,"span"),pe(3),z()(),Ee(4,"div",2),$(5,"div",1)(6,"span"),pe(7),z()()()),2&e&&(Ce("height",r.horizontal?void 0:r.height,"px")("width",r.width,"px"),Re("horizontal-legend",r.horizontal),W(3),Fi(r.valueRange[1].toLocaleString()),W(1),Ce("background",r.gradient),W(3),Fi(r.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),t})();function Ov(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}let qG=(()=>{class t{constructor(){this.isActive=!1,this.select=new Ae,this.activate=new Ae,this.deactivate=new Ae,this.toggle=new Ae}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,r){1&e&&tt("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,r){1&e&&($(0,"span",0),tt("click",function(){return r.select.emit(r.formattedLabel)}),$(1,"span",1),tt("click",function(){return r.toggle.emit(r.formattedLabel)}),z(),$(2,"span",2),pe(3),z()()),2&e&&(Re("active",r.isActive),te("title",r.formattedLabel),W(1),Ce("background-color",r.color),W(2),wt(" ",r.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),XG=(()=>{class t{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new Ae,this.labelActivate=new Ae,this.labelDeactivate=new Ae,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const r of this.data){const a=Ov(r);-1===e.findIndex(h=>h.label===a)&&e.push({label:r,formattedLabel:a,color:this.colors.getColor(r)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>e.label===a.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,r){return r.label}}return t.\u0275fac=function(e){return new(e||t)(Se(Nr))},t.\u0275cmp=tn({type:t,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[Wn],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,r){1&e&&($(0,"div"),he(1,Hne,3,1,"header",0),$(2,"div",1)(3,"ul",2),he(4,jne,2,4,"li",3),z()()()),2&e&&(Ce("width",r.width,"px"),W(1),te("ngIf",(null==r.title?null:r.title.length)>0),W(2),Ce("max-height",r.height-45,"px"),Re("horizontal-legend",r.horizontal),W(1),te("ngForOf",r.legendEntries)("ngForTrackBy",r.trackBy))},directives:[qG,Oi,hr],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),t})(),QG=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new Ae,this.legendLabelActivate=new Ae,this.legendLabelDeactivate=new Ae,this.LegendPosition=hc,this.LegendType=yh}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===hc.Right)&&(e=this.legendType===yh.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==hc.Right?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return this.legendOptions.scaleType===ln.Linear?yh.ScaleLegend:yh.Legend}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[ei([WA]),Wn],ngContentSelectors:WG,decls:5,vars:6,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,r){1&e&&(lu(),$(0,"div",0),pi(),$(1,"svg",1),cu(2),z(),he(3,$ne,1,5,"ngx-charts-scale-legend",2),he(4,Wne,1,7,"ngx-charts-legend",3),z()),2&e&&(Ce("width",r.view[0],"px"),W(1),Ut("width",r.chartWidth)("height",r.view[1]),W(2),te("ngIf",r.showLegend&&r.legendType===r.LegendType.ScaleLegend),W(1),te("ngIf",r.showLegend&&r.legendType===r.LegendType.Legend))},directives:[KG,XG,Oi],encapsulation:2,changeDetection:0}),t})(),Are=(()=>{class t{constructor(e,r){this.element=e,this.zone=r,this.visible=new Ae,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:r,offsetWidth:a}=this.element.nativeElement;r&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se($n))},t.\u0275dir=gt({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function ZG(t){return"[object Date]"===toString.call(t)}let JG=(()=>{class t{constructor(e,r,a,d){this.chartElement=e,this.zone=r,this.cd=a,this.platformId=d,this.scheme="cool",this.schemeType=ln.Ordinal,this.animations=!0,this.select=new Ae}ngOnInit(){t1(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Are(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,r;const a=this.chartElement.nativeElement;if(ff(this.platformId)&&null!==a.parentNode){const d=a.parentNode.getBoundingClientRect();e=d.width,r=d.height}return e&&r?{width:e,height:r}:null}formatDates(){for(let e=0;e<this.results.length;e++){const r=this.results[e];if(r.label=r.name,ZG(r.label)&&(r.label=r.label.toLocaleDateString()),r.series)for(let a=0;a<r.series.length;a++){const d=r.series[a];d.label=d.name,ZG(d.label)&&(d.label=d.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!ff(this.platformId))return;const r=Zr(window,"resize").pipe(function ZX(t,n=z_){return ke((e,r)=>{let a=null,d=null,h=null;const m=()=>{if(a){a.unsubscribe(),a=null;const k=d;d=null,r.next(k)}};function S(){const k=h+t,N=n.now();if(N<k)return a=this.schedule(void 0,k-N),void r.add(a);m()}e.subscribe(It(r,k=>{d=k,h=n.now(),a||(a=n.schedule(S,t),r.add(a))},()=>{m(),r.complete()},void 0,()=>{d=a=null}))})}(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=r}cloneData(e){const r=[];for(const a of e){const d={name:a.name};if(void 0!==a.value&&(d.value=a.value),void 0!==a.series){d.series=[];for(const h of a.series){const m=Object.assign({},h);d.series.push(m)}}void 0!==a.extra&&(d.extra=JSON.parse(JSON.stringify(a.extra))),r.push(d)}return r}}return t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se($n),Se(Nr),Se(ha))},t.\u0275cmp=tn({type:t,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[Wn],decls:1,vars:0,template:function(e,r){1&e&&Ee(0,"div")},encapsulation:2}),t})();function eB(t,n=16){return"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=n?t:`${t.slice(0,n)}...`}var kv=(()=>{return(t=kv||(kv={})).Start="start",t.Middle="middle",t.End="end",kv;var t})();let tB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr]]}),t})();var Ch=(()=>{return(t=Ch||(Ch={})).popover="popover",t.tooltip="tooltip",Ch;var t})(),Du=(()=>{return(t=Du||(Du={}))[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",Du;var t})();let zA=(()=>{class t{constructor(e,r,a){this.tooltipService=e,this.viewContainerRef=r,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Hn.Top,this.tooltipAlignment=Hn.Center,this.tooltipType=Ch.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Du.all,this.tooltipImmediateExit=!1,this.show=new Ae,this.hide=new Ae}get listensForFocus(){return this.tooltipShowEvent===Du.all||this.tooltipShowEvent===Du.focus}get listensForHover(){return this.tooltipShowEvent===Du.all||this.tooltipShowEvent===Du.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const r=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},r)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",r=>{e.contains(r.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const r=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?r():this.timeout=setTimeout(r,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(e){return new(e||t)(Se(WA),Se(co),Se(Ao))},t.\u0275dir=gt({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,r){1&e&&tt("focusin",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(d){return r.onMouseLeave(d.target)})("click",function(){return r.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),t})(),nB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({providers:[YG,WA],imports:[[Fr]]}),t})();const iB={};function Pv(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,iB[t]?Pv():(iB[t]=!0,t)}var Ta=(()=>{return(t=Ta||(Ta={})).Vertical="vertical",t.Horizontal="horizontal",Ta;var t})();let KA,sB=(()=>{class t{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(e){this.stopsInput=e}ngOnChanges(e){this.r="30%",("color"in e||"startOpacity"in e||"endOpacity"in e)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[Wn],attrs:lie,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(pi(),$(0,"radialGradient",0),he(1,cie,1,5,"stop",1),z()),2&e&&(te("id",r.name),Ut("cx",r.cx)("cy",r.cy)("r",r.r),W(1),te("ngForOf",r.stops))},directives:[hr],encapsulation:2,changeDetection:0}),t})();"undefined"!=typeof window?KA=window:"undefined"!=typeof global&&(KA=global);let Hs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Fr,tB,nB],Fr,tB,nB]}),t})(),uB=[{name:"vivid",selectable:!0,group:ln.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:ln.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:ln.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:ln.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:ln.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:ln.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:ln.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:ln.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:ln.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:ln.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:ln.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:ln.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:ln.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:ln.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:ln.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Nre{constructor(n,e,r,a){"string"==typeof n&&(n=uB.find(d=>d.name===n)),this.colorDomain=n.domain,this.scaleType=e,this.domain=r,this.customColors=a,this.scale=this.generateColorScheme(n,e,this.domain)}generateColorScheme(n,e,r){let a;switch("string"==typeof n&&(n=uB.find(d=>d.name===n)),e){case ln.Quantile:a=VG().range(n.domain).domain(r);break;case ln.Ordinal:a=LA().range(n.domain).domain(r);break;case ln.Linear:{const d=[...n.domain];1===d.length&&(d.push(d[0]),this.colorDomain=d);const h=LG(0,1,1/d.length);a=Dv().range(d).domain(h)}}return a}getColor(n){if(null==n)throw new Error("Value can not be null");if(this.scaleType===ln.Linear){const e=Dv().domain(this.domain).range([0,1]);return this.scale(e(n))}{if("function"==typeof this.customColors)return this.customColors(n);const e=n.toString();let r;return this.customColors&&this.customColors.length>0&&(r=this.customColors.find(a=>a.name.toLowerCase()===e.toLowerCase())),r?r.value:this.scale(n)}}getLinearGradientStops(n,e){void 0===e&&(e=this.domain[0]);const r=Dv().domain(this.domain).range([0,1]),a=GA().domain(this.colorDomain).range([0,1]),d=this.getColor(n),h=r(e),m=this.getColor(e),S=r(n);let k=1,N=h;const H=[];for(H.push({color:m,offset:h,originalOffset:h,opacity:1});N<S&&k<this.colorDomain.length;){const q=this.colorDomain[k],ne=a(q);if(ne<=h)k++;else{if(ne.toFixed(4)>=(S-a.bandwidth()).toFixed(4))break;H.push({color:q,offset:ne,opacity:1}),N=ne,k++}}if(H[H.length-1].offset<100&&H.push({color:d,offset:S,opacity:1}),S===h)H[0].offset=0,H[1].offset=100;else if(100!==H[H.length-1].offset)for(const q of H)q.offset=(q.offset-h)/(S-h)*100;return H}}let Lre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),dB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),Gre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),Bre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),Vre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),hB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),Hre=(()=>{class t{constructor(e){this.platformId=e,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=eB}ngOnChanges(e){this.setTransforms(),this.update()}setTransforms(){if(t1(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{const e=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=e?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=e?`translate(${this.textX},${this.textY})`:null,this.textTransition=e||!this.animations?null:"transform 0.75s"}}update(){let e=this.radius;this.explodeSlices&&(e=this.radius*this.value/this.max);const a=$A().innerRadius(e).outerRadius(e).centroid(this.data);let d=this.data.pos[1]/a[1];(0===this.data.pos[1]||0===a[1])&&(d=1),this.line=`M${a}L${[d*a[0],d*a[1]]}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?kv.Start:kv.End}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}}return t.\u0275fac=function(e){return new(e||t)(Se(ha))},t.\u0275cmp=tn({type:t,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[Wn],attrs:ore,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(e,r){1&e&&($(0,"title"),pe(1),z(),pi(),$(2,"g")(3,"text",0),pe(4),z()(),Ee(5,"path",1)),2&e&&(W(1),Fi(r.label),W(1),Ce("transform",r.styleTransform)("transition",r.textTransition),Ut("transform",r.attrTransform),W(1),Ce("text-anchor",r.textAnchor())("shape-rendering","crispEdges"),Re("animation",r.animations),W(1),wt(" ",r.labelTrim?r.trimLabel(r.label,r.labelTrimSize):r.label," "),W(1),Re("animation",r.animations),Ut("d",r.line)("stroke",r.color))},encapsulation:2,changeDetection:0}),t})();Math;let jre=(()=>{class t{constructor(e){this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new Ae,this.activate=new Ae,this.deactivate=new Ae,this.dblclick=new Ae,this.barOrientation=Ta,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){const e=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+Pv().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=e.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let e=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(e=this.outerRadius*this.value/this.max),$A().innerRadius(this.innerRadius).outerRadius(e).cornerRadius(this.cornerRadius)}loadAnimation(){const e=_s(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),r=this.calculateArc();e.transition().attrTween("d",function(a){this._current=this._current||a;const d=Object.assign({},a);d.endAngle=d.startAngle;const h=uh(d,d);return this._current=h(0),function(m){return r(h(m))}}).transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const d=uh(this._current,a);return this._current=d(0),function(h){return r(d(h))}})}updateAnimation(){const e=_s(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),r=this.calculateArc();e.transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const d=uh(this._current,a);return this._current=d(0),function(h){return r(d(h))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:e})}}return t.\u0275fac=function(e){return new(e||t)(Se(Vn))},t.\u0275cmp=tn({type:t,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[Wn],attrs:ure,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(e,r){1&e&&(pi(),$(0,"g",0),he(1,dre,2,3,"defs",1),$(2,"path",2),tt("click",function(){return r.onClick()})("dblclick",function(d){return r.onDblClick(d)})("mouseenter",function(){return r.activate.emit(r.data)})("mouseleave",function(){return r.deactivate.emit(r.data)}),z()()),2&e&&(W(1),te("ngIf",r.gradient),W(1),Ce("pointer-events",r.getPointerEvents()),Re("active",r.isActive),Ut("d",r.path)("fill",r.getGradient()))},directives:[sB,Oi],encapsulation:2,changeDetection:0}),t})(),$re=(()=>{class t{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new Ae,this.activate=new Ae,this.deactivate=new Ae,this.dblclick=new Ae,this.placementTypes=Hn,this.styleTypes=Ch}ngOnChanges(e){this.update()}update(){const r=function Mne(){var t=Ine,n=Pne,e=null,r=Io(0),a=Io(Tw),d=Io(0);function h(m){var S,N,H,De,Ve,k=(m=kne(m)).length,q=0,ne=new Array(k),fe=new Array(k),ye=+r.apply(this,arguments),me=Math.min(Tw,Math.max(-Tw,a.apply(this,arguments)-ye)),Te=Math.min(Math.abs(me)/k,d.apply(this,arguments)),Fe=Te*(me<0?-1:1);for(S=0;S<k;++S)(Ve=fe[ne[S]=S]=+t(m[S],S,m))>0&&(q+=Ve);for(null!=n?ne.sort(function(qe,Je){return n(fe[qe],fe[Je])}):null!=e&&ne.sort(function(qe,Je){return e(m[qe],m[Je])}),S=0,H=q?(me-k*Fe)/q:0;S<k;++S,ye=De)fe[N=ne[S]]={data:m[N],index:S,value:Ve=fe[N],startAngle:ye,endAngle:De=ye+(Ve>0?Ve*H:0)+Fe,padAngle:Te};return fe}return h.value=function(m){return arguments.length?(t="function"==typeof m?m:Io(+m),h):t},h.sortValues=function(m){return arguments.length?(n=m,e=null,h):n},h.sort=function(m){return arguments.length?(e=m,n=null,h):e},h.startAngle=function(m){return arguments.length?(r="function"==typeof m?m:Io(+m),h):r},h.endAngle=function(m){return arguments.length?(a="function"==typeof m?m:Io(+m),h):a},h.padAngle=function(m){return arguments.length?(d="function"==typeof m?m:Io(+m),h):d},h}().value(a=>a.value).sort(null)(this.series);this.max=function Nne(t,n){let e;if(void 0===n)for(const r of t)null!=r&&(e<r||void 0===e&&r>=r)&&(e=r);else{let r=-1;for(let a of t)null!=(a=n(a,++r,t))&&(e<a||void 0===e&&a>=a)&&(e=a)}return e}(r,a=>a.value),this.data=this.calculateLabelPositions(r),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}outerArc(){return $A().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)}calculateLabelPositions(e){const d=e;d.forEach(h=>{h.pos=this.outerArc().centroid(h),h.pos[0]=1.5*this.outerRadius*(this.midAngle(h)<Math.PI?1:-1)});for(let h=0;h<d.length-1;h++){const m=d[h];if(this.labelVisible(m))for(let S=h+1;S<d.length;S++){const k=d[S];if(this.labelVisible(k)&&k.pos[0]*m.pos[0]>0){const N=10-Math.abs(k.pos[1]-m.pos[1]);N>0&&(k.pos[1]+=Math.sign(k.pos[0])*N)}}}return d}labelVisible(e){return this.showLabels&&e.endAngle-e.startAngle>Math.PI/30}getTooltipTitle(e){return this.tooltipTemplate?void 0:this.tooltipText(e)}labelText(e){return this.labelFormatting?this.labelFormatting(e.data.name):this.label(e)}label(e){return Ov(e.data.name)}defaultTooltipText(e){const r=this.label(e),a=Ov(e.data.value);return`\n      <span class="tooltip-label">${function UA(t){return t.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[n]))}(r)}</span>\n      <span class="tooltip-val">${a}</span>\n    `}color(e){return this.colors.getColor(this.label(e))}trackBy(e,r){return r.data.name}onClick(e){this.select.emit(e)}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>e.name===a.name&&e.series===a.series)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=tn({type:t,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[Wn],attrs:hre,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate","dblclick"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(e,r){1&e&&he(0,fre,3,19,"g",0),2&e&&te("ngForOf",r.data)("ngForTrackBy",r.trackBy)},directives:[Hre,jre,hr,Oi,zA],encapsulation:2,changeDetection:0}),t})(),Wre=(()=>{class t extends JG{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=hc.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new Ae,this.select=new Ae,this.activate=new Ae,this.deactivate=new Ae}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=function Mre({width:t,height:n,margins:e,showXAxis:r=!1,showYAxis:a=!1,xAxisHeight:d=0,yAxisWidth:h=0,showXLabel:m=!1,showYLabel:S=!1,showLegend:k=!1,legendType:N=ln.Ordinal,legendPosition:H=hc.Right,columns:q=12}){let ne=e[3],fe=t,ye=n-e[0]-e[2];return k&&H===hc.Right&&(q-=N===ln.Ordinal?2:1),fe=fe*q/12,fe=fe-e[1]-e[3],r&&(ye-=5,ye-=d,m&&(ye-=30)),a&&(fe-=5,fe-=h,ne+=h,ne+=10,S&&(fe-=30,ne+=30)),fe=Math.max(0,fe),ye=Math.max(0,ye),{width:Math.floor(fe),height:Math.floor(ye),xOffset:Math.floor(ne)}}({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates(),this.translation=`translate(${this.margins[3]+this.dims.width/2}, ${this.margins[0]+this.dims.height/2})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.outerRadius/=this.labels?3:2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((a,d)=>this.domain.indexOf(a.name)-this.domain.indexOf(d.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){this.colors=new Nre(this.scheme,ln.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:ln.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(e,r=!1){e=this.results.find(d=>r?d.label===e.name:d.name===e.name),!(this.activeEntries.findIndex(d=>d.name===e.name&&d.value===e.value&&d.series===e.series)>-1)&&(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,r=!1){e=this.results.find(d=>r?d.label===e.name:d.name===e.name);const a=this.activeEntries.findIndex(d=>d.name===e.name&&d.value===e.value&&d.series===e.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275cmp=tn({type:t,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(e,r,a){if(1&e&&xi(a,Eie,5),2&e){let d;dn(d=hn())&&(r.tooltipTemplate=d.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[Bn],decls:3,vars:24,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(e,r){1&e&&($(0,"ngx-charts-chart",0),tt("legendLabelActivate",function(d){return r.onActivate(d,!0)})("legendLabelDeactivate",function(d){return r.onDeactivate(d,!0)})("legendLabelClick",function(d){return r.onClick(d)}),pi(),$(1,"g",1)(2,"g",2),tt("dblclick",function(d){return r.dblclick.emit(d)})("select",function(d){return r.onClick(d)})("activate",function(d){return r.onActivate(d)})("deactivate",function(d){return r.onDeactivate(d)}),z()()()),2&e&&(te("view",uf(21,Rv,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),W(1),Ut("transform",r.translation),W(1),te("colors",r.colors)("series",r.data)("showLabels",r.labels)("labelFormatting",r.labelFormatting)("trimLabels",r.trimLabels)("maxLabelLength",r.maxLabelLength)("activeEntries",r.activeEntries)("innerRadius",r.innerRadius)("outerRadius",r.outerRadius)("explodeSlices",r.explodeSlices)("gradient",r.gradient)("animations",r.animations)("tooltipDisabled",r.tooltipDisabled)("tooltipTemplate",r.tooltipTemplate)("tooltipText",r.tooltipText))},directives:[QG,$re],styles:[".ngx-charts-outer{-webkit-animation:chartFadeIn linear .6s;animation:chartFadeIn linear .6s}@-webkit-keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n",".pie-label{font-size:11px}.pie-label.animation{-webkit-animation:.75s ease-in fadeIn;animation:.75s ease-in fadeIn}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{-webkit-animation:3s linear drawOut;animation:3s linear drawOut;transition:d .75s}@-webkit-keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}\n"],encapsulation:2,changeDetection:0}),t})(),XA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),Yre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs,XA,hB]]}),t})(),qre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),Xre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs]]}),t})(),Qre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[Hs,XA,dB]]}),t})(),Jre=(()=>{class t{constructor(){!function Zre(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[Hs,Lre,dB,Gre,Bre,Vre,hB,Yre,qre,XA,Xre,Qre]}),t})();const eoe=["closebuttonCreate"],toe=["closebuttonUpdate"];function noe(t,n){if(1&t&&($(0,"option",42),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e),Ut("selected",e.id==r.projectSelectedId||null),W(1),wt(" ",e.name,"")}}function ioe(t,n){if(1&t){const e=Wt();$(0,"div",38),Ee(1,"em",39),$(2,"select",40),tt("change",function(a){return Et(e),ve().loadProjectByIdEvent(a.target)}),he(3,noe,2,4,"option",41),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.myProjects)}}function roe(t,n){1&t&&($(0,"a",43),Ee(1,"em",44),z()),2&t&&te("openDelay",300)}function ooe(t,n){if(1&t&&($(0,"div",45),pe(1),z()),2&t){const e=ve();W(1),Fi(e.messageError)}}function soe(t,n){if(1&t){const e=Wt();$(0,"a",59),tt("click",function(){Et(e);const a=ve(2).$implicit;return ve().startSprint(a)}),Ee(1,"em",60),z()}2&t&&te("openDelay",300)}function aoe(t,n){if(1&t){const e=Wt();$(0,"a",61),tt("click",function(){Et(e);const a=ve(2).$implicit;return ve().closeSprint(a)}),Ee(1,"em",62),z()}2&t&&te("openDelay",300)}function loe(t,n){if(1&t){const e=Wt();$(0,"div"),he(1,soe,2,1,"a",51),he(2,aoe,2,1,"a",52),$(3,"a",53),tt("click",function(){Et(e);const a=ve().$implicit;return ve().loadEffortReport(a)}),Ee(4,"em",54),z(),$(5,"a",55),tt("click",function(){Et(e);const a=ve().$implicit;return ve().fillUpdateForm(a)}),Ee(6,"em",56),z(),$(7,"a",57),tt("click",function(){Et(e);const a=ve().$implicit;return ve().disableSprint(a)}),Ee(8,"em",58),z()()}if(2&t){const e=ve().$implicit,r=ve();W(1),te("ngIf","future"==r.determineSprintTimeStatus(e)),W(1),te("ngIf","present"==r.determineSprintTimeStatus(e)),W(1),te("openDelay",300),W(2),te("openDelay",300),W(2),te("openDelay",300)}}function coe(t,n){if(1&t&&($(0,"div")(1,"div",46)(2,"div",47)(3,"div",48)(4,"div",49),pe(5),z(),he(6,loe,9,5,"div",37),z(),$(7,"div",50),pe(8),z()()()()),2&t){const e=n.$implicit,r=ve();W(5),ur("#",e.number,": ",e.title,""),W(1),te("ngIf",r.adminAccess),W(2),Fi(e.description)}}function uoe(t,n){if(1&t&&($(0,"div",63),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.newSprintMessageError," ")}}function doe(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function hoe(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function poe(t,n){if(1&t&&($(0,"div",64),he(1,doe,2,0,"div",37),he(2,hoe,2,0,"div",37),z()),2&t){const e=ve();let r,a;W(1),te("ngIf",null==(r=e.formNewSprint.get("title"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formNewSprint.get("title"))||null==a.errors?null:a.errors.maxlength)}}function foe(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function goe(t,n){if(1&t&&($(0,"div",64),he(1,foe,2,0,"div",37),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formNewSprint.get("description"))||null==r.errors?null:r.errors.maxlength)}}function moe(t,n){if(1&t&&($(0,"div",63),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.updateSprintMessageError," ")}}function _oe(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function voe(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function yoe(t,n){if(1&t&&($(0,"div",64),he(1,_oe,2,0,"div",37),he(2,voe,2,0,"div",37),z()),2&t){const e=ve();let r,a;W(1),te("ngIf",null==(r=e.formUpdateSprint.get("title"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateSprint.get("title"))||null==a.errors?null:a.errors.maxlength)}}function Coe(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function boe(t,n){if(1&t&&($(0,"div",64),he(1,Coe,2,0,"div",37),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formUpdateSprint.get("description"))||null==r.errors?null:r.errors.maxlength)}}function woe(t,n){if(1&t&&($(0,"div",65)(1,"div",66),pe(2,"General"),z(),$(3,"div",67),Ee(4,"em",68),$(5,"div",69),pe(6),z()(),$(7,"div",67),Ee(8,"em",70),$(9,"div",69),pe(10),z()()()),2&t){const e=ve();W(4),te("openDelay",300),W(2),wt("Estimed time: ",e.timeToDoubleString(e.effortReport.totalEstimedTime),"h"),W(2),te("openDelay",300),W(2),wt("Computed time: ",e.timeToDoubleString(e.effortReport.totalComputedTime),"h")}}function xoe(t,n){if(1&t&&($(0,"div",76)(1,"div",48)(2,"div",77),pe(3),z(),$(4,"div",48)(5,"div",78),Ee(6,"em",79),$(7,"div",69),pe(8),z()(),$(9,"div",78),Ee(10,"em",80),$(11,"div",69),pe(12),z()()()()()),2&t){const e=n.$implicit,r=ve(3);W(3),wt("@",e.user.username,""),W(3),te("openDelay",300),W(2),wt(" ",r.timeToDoubleString(e.computedEffort),"h "),W(2),te("openDelay",300),W(2),wt(" ",e.percentageEffort.toFixed(3),"")}}function Soe(t,n){if(1&t&&($(0,"div",76)(1,"div",48)(2,"div",77),pe(3),z(),$(4,"div",48)(5,"div",78),Ee(6,"em",82),$(7,"div",69),pe(8),z()(),$(9,"div",78),Ee(10,"em",79),$(11,"div",69),pe(12),z()(),$(13,"div",78),Ee(14,"em",80),$(15,"div",69),pe(16),z()()()()()),2&t){const e=n.$implicit,r=ve(4);W(3),ur("#",e.kanbanTask.number,": ",e.kanbanTask.title,""),W(3),te("openDelay",300),W(2),wt(" ",r.timeToDoubleString(e.estimedEffort),"h "),W(2),te("openDelay",300),W(2),wt(" ",r.timeToDoubleString(e.computedEffort),"h "),W(2),te("openDelay",300),W(2),wt(" ",e.percentageEffort.toFixed(3),"")}}const pB=function(){return[250,250]};function Toe(t,n){if(1&t&&($(0,"div",72)(1,"div",66),pe(2,"By task"),z(),$(3,"div",48),Ee(4,"ngx-charts-pie-chart",73),$(5,"div",81),he(6,Soe,17,8,"div",75),z()()()),2&t){const e=ve(3);W(4),te("view",zi(7,pB))("results",e.pieChartEffortsByTask)("gradient",!1)("legend",!1)("labels",!1)("doughnut",!1),W(2),te("ngForOf",e.effortReport.effortsByTask)}}function Eoe(t,n){if(1&t&&($(0,"div",72)(1,"div",66),pe(2,"By user"),z(),$(3,"div",48),Ee(4,"ngx-charts-pie-chart",73),$(5,"div",74),he(6,xoe,13,5,"div",75),z()(),he(7,Toe,7,8,"div",71),z()),2&t){const e=ve(2);W(4),te("view",zi(8,pB))("results",e.pieChartEffortsByUser)("gradient",!1)("legend",!1)("labels",!1)("doughnut",!1),W(2),te("ngForOf",e.effortReport.effortsByUser),W(1),te("ngIf",null!=e.effortReport&&null!=e.effortReport.effortsByTask&&0!=e.effortReport.effortsByTask.length)}}function Doe(t,n){if(1&t&&($(0,"div"),he(1,Eoe,8,9,"div",71),z()),2&t){const e=ve();W(1),te("ngIf",null!=e.effortReport&&null!=e.effortReport.effortsByUser&&0!=e.effortReport.effortsByUser.length)}}let Aoe=(()=>{class t extends ah{constructor(e,r,a,d,h,m,S){super(r,a,d,h,m,S),this.effortReportService=e,this.newSprintContainError=!1,this.updateSprintContainError=!1,this.pieChartEffortsByTask=[],this.pieChartEffortsByUser=[],this.formNewSprint=m.group({title:["",[nn.required]],description:["",[]],startDate:["",[]],estimatedDate:["",[]]}),this.formUpdateSprint=m.group({title:["",[nn.required]],description:["",[]],startDate:["",[]],estimatedDate:["",[]]})}ngOnInit(){this.loadSprint=!0,this.loadMyProjects(),this.loadActualDate()}determineSprintTimeStatus(e){return null==e.startDate?"future":null!=e.closeDate?"past":"present"}fillUpdateForm(e){this.sprintSelectedId=e.id,this.formUpdateSprint=this.formBuilder.group({title:[e.title,[nn.required]],description:[e.description,[]],startDate:[e.startDate,[]],estimatedDate:[e.estimatedDate,[]]})}createSprint(){let e=this.projectService.getStoredProjectId();if(null!=e&&0!=e){let r=new UX(this.formNewSprint.value.title,this.formNewSprint.value.description,this.formNewSprint.value.startDate,this.formNewSprint.value.estimatedDate,e);this.sprintService.createSprint(r).subscribe(a=>{this.formNewSprint.reset(),this.closebuttonCreate.nativeElement.click(),this.loadSprintsBySelectedProject(),this.newSprintContainError=!1},a=>{this.returnNewError(a)})}else this.newSprintContainError=!0,this.newSprintMessageError="No project selected to create an Sprint"}returnNewError(e){var r=e.error.text;null==r&&(r="Error adding the user"),this.newSprintContainError=!0,this.newSprintMessageError=r}updateSprint(){let e=new zX(this.sprintSelectedId,this.formUpdateSprint.value.title,this.formUpdateSprint.value.description,this.formUpdateSprint.value.startDate,this.formUpdateSprint.value.estimatedDate);this.sprintService.updateSprint(e).subscribe(r=>{this.formNewSprint.reset(),this.closebuttonUpdate.nativeElement.click(),this.loadSprintsBySelectedProject(),this.updateSprintContainError=!1},r=>{var a=r.error.text;null==a&&(a="Error adding the user"),this.updateSprintContainError=!0,this.updateSprintMessageError=a})}disableSprint(e){confirm("Are you sure to disable sprint #"+e.number+" "+e.title+"?")&&this.sprintService.disableSprint(e.id).subscribe(r=>{this.containError=!1,this.loadSprintsBySelectedProject()},r=>{this.returnPrincipalError(r)})}startSprint(e){confirm("Are you sure to start sprint #"+e.number+" "+e.title+"?")&&this.sprintService.startSprint(e.id).subscribe(r=>{this.containError=!1,this.loadSprintsBySelectedProject()},r=>{this.returnPrincipalError(r)})}closeSprint(e){confirm("Are you sure to close sprint #"+e.number+" "+e.title+"?")&&this.sprintService.closeSprint(e.id).subscribe(r=>{this.containError=!1,this.loadSprintsBySelectedProject()},r=>{this.returnPrincipalError(r)})}loadEffortReport(e){this.sprintSelected=e,this.effortReportService.getEffortReportBySprintId(e.id).subscribe(r=>{this.effortReport=r,this.containError=!1,this.loadPieChartEffortsByTask(),this.loadPieChartEffortsByUser()},r=>{this.returnPrincipalError(r)})}loadPieChartEffortsByTask(){this.pieChartEffortsByTask=[];for(let e of this.effortReport.effortsByTask)this.pieChartEffortsByTask.push({name:"#"+e.kanbanTask.number+": "+e.kanbanTask.title,value:e.percentageEffort})}loadPieChartEffortsByUser(){this.pieChartEffortsByUser=[];for(let e of this.effortReport.effortsByUser)this.pieChartEffortsByUser.push({name:"@"+e.user.username,value:e.percentageEffort})}}return t.\u0275fac=function(e){return new(e||t)(Se(YX),Se(xu),Se(ac),Se(Su),Se(Tu),Se(Ka),Se(Ls))},t.\u0275cmp=tn({type:t,selectors:[["iMan-sprint"]],viewQuery:function(e,r){if(1&e&&(Ki(eoe,5),Ki(toe,5)),2&e){let a;dn(a=hn())&&(r.closebuttonCreate=a.first),dn(a=hn())&&(r.closebuttonUpdate=a.first)}},features:[Bn],decls:93,vars:46,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],["ngbTooltip","Create sprint","placement","left","data-bs-toggle","modal","data-bs-target","#createSprintModal",3,"openDelay",4,"ngIf"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],[1,"mt-3","overflow-auto","scrollable-content"],[4,"ngFor","ngForOf"],["id","createSprintModal","tabindex","-1","aria-labelledby","createSprintModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x"],[3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["type","text","name","title","formControlName","title","maxlength","30","placeholder",""],["class","invalid-feedback",4,"ngIf"],["type","text","name","description","formControlName","description","maxlength","255","placeholder",""],["type","date","name","startDate","formControlName","startDate","placeholder","",3,"min"],["type","date","name","estimatedDate","formControlName","estimatedDate","placeholder","",3,"min"],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebuttonCreate",""],["type","submit",1,"btn","btn-success",3,"disabled"],["id","updateSprintModal","tabindex","-1","aria-labelledby","updateSprintModalLabel","aria-hidden","true",1,"modal","fade"],["closebuttonUpdate",""],["id","effortReportModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","big-modal-content","bg-dark-5"],[1,"flex-grow-1","card-title","mt-2","text-break"],["class","mt-4",4,"ngIf"],[4,"ngIf"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Create sprint","placement","left","data-bs-toggle","modal","data-bs-target","#createSprintModal",3,"openDelay"],[1,"bi","bi-plus-lg"],[1,"alert","alert-danger","mt-3","mb-3"],[1,"card","card-list"],[1,"inside-card"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1","center","b-text","align-middle"],[1,"m-text","text-break"],["ngbTooltip","Start","placement","left",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Close","placement","left",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Effort report","data-bs-toggle","modal","data-bs-target","#effortReportModal","placement","left",3,"openDelay","click"],[1,"bi","bi-clock-history","me-3"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateSprintModal",3,"openDelay","click"],[1,"bi","bi-pencil-fill","me-3"],["ngbTooltip","Disable","placement","left",3,"openDelay","click"],[1,"bi","bi-trash-fill","me-3"],["ngbTooltip","Start","placement","left",3,"openDelay","click"],[1,"bi","bi-play-circle-fill","me-3"],["ngbTooltip","Close","placement","left",3,"openDelay","click"],[1,"bi","bi-square-fill","me-3"],[1,"alert","alert-danger","mt-5"],[1,"invalid-feedback"],[1,"mt-4"],[1,"fs-4"],[1,"d-flex","ms-4","my-3"],["ngbTooltip","Estimed effort","placement","right","data-bs-toggle","modal",1,"bi","bi-sm","bi-hourglass-top","me-2",3,"openDelay"],[1,"fs-6","ms-2","my-auto"],["ngbTooltip","Computed effort","placement","right","data-bs-toggle","modal",1,"bi","bi-sm","bi-hourglass-bottom","me-2",3,"openDelay"],["class","w-100 me-3 mt-4",4,"ngIf"],[1,"w-100","me-3","mt-4"],[1,"mx-4",3,"view","results","gradient","legend","labels","doughnut"],[1,"flex-grow-1","m-auto","me-3"],["class","card effort-report-card-list my-3 p-2",4,"ngFor","ngForOf"],[1,"card","effort-report-card-list","my-3","p-2"],[1,"flex-grow-1","fs-6","ms-2","my-auto"],[1,"d-flex","mx-3","card-list-field"],["ngbTooltip","Computed effort","placement","bottom","data-bs-toggle","modal",1,"bi","bi-sm","bi-hourglass-bottom","me-1",3,"openDelay"],["ngbTooltip","Percent of total computed effort","placement","bottom","data-bs-toggle","modal",1,"bi","bi-sm","bi-percent","me-1",3,"openDelay"],[1,"flex-grow-1","my-auto","me-3"],["ngbTooltip","Estimed effort","placement","bottom","data-bs-toggle","modal",1,"bi","bi-sm","bi-hourglass-top","me-1",3,"openDelay"]],template:function(e,r){if(1&e&&($(0,"div",0)(1,"div",1),he(2,ioe,4,2,"div",2),z(),$(3,"div"),he(4,roe,2,1,"a",3),z()(),Ee(5,"hr",4),he(6,ooe,2,1,"div",5),$(7,"div",6),he(8,coe,9,4,"div",7),z(),$(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14),pe(16,"New sprint"),z(),$(17,"div",15),Ee(18,"em",16),z()(),$(19,"form",17),tt("ngSubmit",function(){return r.createSprint()}),he(20,uoe,2,1,"div",18),$(21,"div",19)(22,"p",20),pe(23,"Title *"),z(),Ee(24,"input",21),he(25,poe,3,2,"div",22),z(),$(26,"div",19)(27,"p",20),pe(28,"Description"),z(),Ee(29,"input",23),he(30,goe,2,1,"div",22),z(),$(31,"div",19)(32,"p",20),pe(33,"Start date"),z(),Ee(34,"input",24),z(),$(35,"div",19)(36,"p",20),pe(37,"Close estimated date"),z(),Ee(38,"input",25),z(),$(39,"div",26)(40,"button",27,28),pe(42,"Close"),z(),$(43,"button",29),pe(44,"Create"),z()()()()()()()(),$(45,"div",30)(46,"div",9)(47,"div",10)(48,"div",11)(49,"div",12)(50,"div",13)(51,"div",14),pe(52,"Update sprint"),z(),$(53,"div",15,31),Ee(55,"em",16),z()(),$(56,"form",17),tt("ngSubmit",function(){return r.updateSprint()}),he(57,moe,2,1,"div",18),$(58,"div",19)(59,"p",20),pe(60,"Title *"),z(),Ee(61,"input",21),he(62,yoe,3,2,"div",22),z(),$(63,"div",19)(64,"p",20),pe(65,"Description"),z(),Ee(66,"input",23),he(67,boe,2,1,"div",22),z(),$(68,"div",19)(69,"p",20),pe(70,"Start date"),z(),Ee(71,"input",24),z(),$(72,"div",19)(73,"p",20),pe(74,"Close estimated date"),z(),Ee(75,"input",25),z(),$(76,"div",26)(77,"button",27),pe(78,"Close"),z(),$(79,"button",29),pe(80,"Update"),z()()()()()()()(),$(81,"div",32)(82,"div",33)(83,"div",34)(84,"div",11)(85,"div",12)(86,"div",13)(87,"div",35),pe(88),z(),$(89,"div",15),Ee(90,"em",16),z()(),he(91,woe,11,4,"div",36),he(92,Doe,2,1,"div",37),z()()()()()),2&e){let a,d,h,m;W(2),te("ngIf",r.myProjects&&0!=r.myProjects.length),W(2),te("ngIf",r.adminAccess),W(2),te("ngIf",r.containError),W(2),te("ngForOf",r.mySprints),W(11),te("formGroup",r.formNewSprint),W(1),te("ngIf",r.newSprintContainError),W(4),Nt("form-control ",r.inputClass(r.formNewSprint,"title"),""),W(1),te("ngIf",(null==(a=r.formNewSprint.get("title"))?null:a.touched)&&(null==(a=r.formNewSprint.get("title"))?null:a.invalid)),W(4),Nt("form-control ",r.inputClass(r.formNewSprint,"description"),""),W(1),te("ngIf",(null==(d=r.formNewSprint.get("description"))?null:d.touched)&&(null==(d=r.formNewSprint.get("description"))?null:d.invalid)),W(4),Nt("form-control ",r.inputClass(r.formNewSprint,"startDate"),""),Qn("min",r.actualDate),W(4),Nt("form-control ",r.inputClass(r.formNewSprint,"estimatedDate"),""),Qn("min",r.actualDate),W(5),te("disabled",!r.formNewSprint.valid),W(13),te("formGroup",r.formUpdateSprint),W(1),te("ngIf",r.updateSprintContainError),W(4),Nt("form-control ",r.inputClass(r.formUpdateSprint,"title"),""),W(1),te("ngIf",(null==(h=r.formUpdateSprint.get("title"))?null:h.touched)&&(null==(h=r.formUpdateSprint.get("title"))?null:h.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateSprint,"description"),""),W(1),te("ngIf",(null==(m=r.formUpdateSprint.get("description"))?null:m.touched)&&(null==(m=r.formUpdateSprint.get("description"))?null:m.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateSprint,"startDate"),""),Qn("min",r.actualDate),W(4),Nt("form-control ",r.inputClass(r.formUpdateSprint,"estimatedDate"),""),Qn("min",r.actualDate),W(4),te("disabled",!r.formUpdateSprint.valid),W(9),ur(" Effort in: #",null==r.sprintSelected?null:r.sprintSelected.number," ",null==r.sprintSelected?null:r.sprintSelected.title,""),W(3),te("ngIf",null!=r.effortReport),W(1),te("ngIf",null!=r.effortReport&&null!=r.effortReport.effortsByTask)}},directives:[Oi,oc,hr,Ua,za,Zl,Ql,va,_a,Xl,Wa,Ya,Wre],styles:[".effort-report-card-list[_ngcontent-%COMP%]{background-color:var(--dark-pallete-2)!important;border-radius:8px!important}.card-list-field[_ngcontent-%COMP%]{width:75px}.pie-label[_ngcontent-%COMP%]{font-size:32px!important;fill:var(--dark-contrast-text)!important}"]}),t})();const Roe=["closebuttonCreateEffort"],Ooe=["closebuttonUpdateEffort"];function koe(t,n){if(1&t&&($(0,"option",37),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e),Ut("selected",e.id==r.projectSelectedId||null),W(1),wt(" ",e.name,"")}}function Poe(t,n){if(1&t){const e=Wt();$(0,"div",33),Ee(1,"em",34),$(2,"select",35),tt("change",function(a){return Et(e),ve().loadProjectByIdEvent(a.target)}),he(3,koe,2,4,"option",36),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.myProjects)}}function Ioe(t,n){if(1&t&&($(0,"option",37),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e),Ut("selected",e.id==r.sprintSelectedId||null),W(1),ur(" #",e.number,": ",e.title,"")}}function Moe(t,n){if(1&t){const e=Wt();$(0,"div",33),Ee(1,"em",38),$(2,"select",35),tt("change",function(a){return Et(e),ve().loadSprintByIdEvent(a.target)}),he(3,Ioe,2,5,"option",36),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.mySprints)}}function Noe(t,n){if(1&t&&($(0,"option",37),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e.id),Ut("selected",e.id==r.kanbanTaskSelectedId||null),W(1),ur(" #",e.number,": ",e.title,"")}}function Foe(t,n){if(1&t){const e=Wt();$(0,"div",33),Ee(1,"em",39),$(2,"select",35),tt("change",function(a){return Et(e),ve().loadTasksByIdEvent(a.target)}),he(3,Noe,2,5,"option",36),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.myTasks)}}function Loe(t,n){1&t&&Ee(0,"em",40),2&t&&te("openDelay",300)}function Goe(t,n){1&t&&Ee(0,"em",41),2&t&&te("openDelay",300)}function Boe(t,n){if(1&t){const e=Wt();$(0,"div",42)(1,"form",43)(2,"input",44),tt("keydown.enter",function(){Et(e);const a=ve();return null==a.activeEffort||null==a.activeEffort.kanbanTask&&!a.changedToDescription||null!=a.activeEffort.kanbanTask&&(a.changedToDescription||a.kanbanTaskSelectedId!=a.activeEffort.kanbanTask.id)?a.startEffort():a.endEffort()}),z()()()}if(2&t){const e=ve();W(1),te("formGroup",e.formNewEffort)}}function Voe(t,n){if(1&t){const e=Wt();Di(0),$(1,"a",48),tt("click",function(){return Et(e),ve(2).startEffort()}),Ee(2,"em",49),z(),lr()}2&t&&(W(1),te("openDelay",300))}function Hoe(t,n){if(1&t){const e=Wt();$(0,"a",50),tt("click",function(){return Et(e),ve(2).endEffort()}),Ee(1,"em",51),z()}2&t&&te("openDelay",300)}function joe(t,n){if(1&t&&($(0,"div",45),he(1,Voe,3,1,"ng-container",46),he(2,Hoe,2,1,"ng-template",null,47,Hi),z()),2&t){const e=wi(3),r=ve();W(1),te("ngIf",null==r.activeEffort||null==r.activeEffort.kanbanTask&&!r.changedToDescription||null!=r.activeEffort.kanbanTask&&(r.changedToDescription||r.kanbanTaskSelectedId!=r.activeEffort.kanbanTask.id))("ngIfElse",e)}}function $oe(t,n){if(1&t&&($(0,"div",52),pe(1),z()),2&t){const e=ve();W(1),Fi(e.messageError)}}function Woe(t,n){if(1&t&&($(0,"div",33),Ee(1,"em",34),$(2,"div",69),pe(3),z()()),2&t){const e=ve(3).$implicit;W(1),te("openDelay",300),W(2),Fi(e.project.name)}}function Uoe(t,n){if(1&t&&($(0,"div",33),Ee(1,"em",38),$(2,"div",69),pe(3),z()()),2&t){const e=ve(3).$implicit;W(1),te("openDelay",300),W(2),ur("#",e.sprint.number,": ",e.sprint.title,"")}}function zoe(t,n){if(1&t&&(Di(0),he(1,Woe,4,2,"div",2),he(2,Uoe,4,3,"div",2),$(3,"div",33),Ee(4,"em",39),$(5,"div",69),pe(6),z()(),lr()),2&t){const e=ve(2).$implicit;W(1),te("ngIf",null!=e.project),W(1),te("ngIf",null!=e.sprint),W(2),te("openDelay",300),W(2),ur("#",e.kanbanTask.number,": ",e.kanbanTask.title,"")}}function Yoe(t,n){if(1&t&&($(0,"div",33),Ee(1,"em",70),$(2,"div",71),pe(3),z()()),2&t){const e=ve(2).$implicit;W(3),Fi(e.description)}}function Koe(t,n){if(1&t&&($(0,"div"),pe(1),z()),2&t){const e=ve(2).$implicit,r=ve();W(1),wt(" ",r.formatDate(e.startDate),"")}}function qoe(t,n){if(1&t){const e=Wt();$(0,"div",54)(1,"div",55)(2,"div",56)(3,"div",57),he(4,zoe,7,5,"ng-container",46),he(5,Yoe,4,1,"ng-template",null,58,Hi),z()(),$(7,"div",59)(8,"div",60)(9,"div"),pe(10),z(),he(11,Koe,2,1,"div",61),z(),$(12,"div",62),pe(13,"-"),z(),$(14,"div",60)(15,"div"),pe(16),z(),$(17,"div"),pe(18),z()()(),$(19,"div",63)(20,"div",64),pe(21),z(),$(22,"a",65),tt("click",function(){Et(e);const a=ve().$implicit;return ve().fillUpdateForm(a)}),Ee(23,"em",66),z(),$(24,"a",67),tt("click",function(){Et(e);const a=ve().$implicit;return ve().deleteEffort(a.id)}),Ee(25,"em",68),z()()()()}if(2&t){const e=wi(6),r=ve().$implicit,a=ve();W(4),te("ngIf",null!=r&&null!=r.kanbanTask)("ngIfElse",e),W(5),He(a.formatDate(r.startDate)!=a.formatDate(r.endDate)?"me-2":""),W(1),wt(" ",a.formatTime(r.startDate),""),W(1),te("ngIf",a.formatDate(r.startDate)!=a.formatDate(r.endDate)),W(4),He(a.formatDate(r.startDate)!=a.formatDate(r.endDate)?"me-2":"me-3"),W(1),wt(" ",a.formatTime(r.endDate),""),W(2),Fi(a.formatDate(r.endDate)),W(3),wt(" ",a.getDifferenceFormatted(r.startDate,r.endDate)," "),W(1),te("openDelay",300),W(2),te("openDelay",300)}}function Xoe(t,n){if(1&t&&($(0,"div"),he(1,qoe,26,15,"div",53),z()),2&t){const e=n.$implicit,r=ve();W(1),te("ngIf",null==r.activeEffort||null!=r.activeEffort&&e.id!=r.activeEffort.id)}}function Qoe(t,n){if(1&t&&($(0,"div",72),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.updateEffortMessageError," ")}}function Zoe(t,n){if(1&t&&($(0,"div",25)(1,"p",26),pe(2,"Description"),z(),Ee(3,"input",73),z()),2&t){const e=ve();W(3),Nt("form-control ",e.inputClass(e.formUpdateEffort,"description"),"")}}let Joe=(()=>{class t extends ah{constructor(e,r,a,d,h,m){super(e,r,a,d,h,m),this.changedToDescription=!1,this.updateEffortContainError=!1,this.formNewEffort=h.group({description:["",[]]}),this.formUpdateEffort=h.group({description:["",[]],startDate:["",[nn.required]],endDate:["",[]]})}ngOnInit(){this.loadEfforts=!0,this.loadActiveEffort(),this.loadTasks=!0,this.loadMyProjects()}loadActualDate(){let e=new Date;this.actualDate=this.getFormatedDateTimeLikeInput(e)}loadActiveEffort(){this.effortService.getActiveEffort().subscribe(e=>{this.containError=!1,this.activeEffort=e,null!=e&&(null!=e.project&&this.projectService.setStoredProjectId(e.project.id),null!=e.sprint&&this.sprintService.setStoredSprintId(e.sprint.id),null!=e.kanbanTask&&this.kanbanService.setStoredKanbanTaskId(e.kanbanTask.id)),this.loadDescriptionOrTaskEffort()},e=>{this.returnPrincipalError(e)})}loadDescriptionOrTaskEffort(){null!=this.activeEffort&&null==this.activeEffort.kanbanTask&&null!=this.activeEffort.description&&""!=this.activeEffort.description&&(this.changedToDescription=!0,this.formNewEffort=this.formBuilder.group({description:[this.activeEffort.description,[]]}))}startEffort(){let e,r=this.kanbanService.getStoredKanbanTaskId();e=this.changedToDescription||null==r?new LD(this.formNewEffort.value.description,0):new LD("",r),this.effortService.startEffort(e).subscribe(a=>{this.containError=!1,this.getEfforts()},a=>{this.returnPrincipalError(a)})}fillUpdateForm(e){this.effortSelected=e,this.loadActualDate(),this.formUpdateEffort=this.formBuilder.group({description:[e.description,[]],startDate:[this.getFormatedDateTimeLikeInput(e.startDate),[nn.required]],endDate:[this.getFormatedDateTimeLikeInput(e.endDate),[nn.required]]})}updateEffort(){if(null!=this.effortSelected&&null!=this.effortSelected){let r=new hY(this.effortSelected.id,this.formUpdateEffort.value.description,null==this.effortSelected.kanbanTask?0:this.effortSelected.kanbanTask.id,new Date(this.formUpdateEffort.value.startDate),new Date(this.formUpdateEffort.value.endDate));this.effortService.updateEffort(r).subscribe(a=>{this.effortSelected=void 0,this.formUpdateEffort.reset(),this.closebuttonUpdateEffort.nativeElement.click(),this.updateEffortContainError=!1,this.getEfforts()},a=>{var d=a.error.text;null==d&&(d="Error produced"),this.updateEffortMessageError=d,this.updateEffortContainError=!0})}}endEffort(){this.effortService.endEffort(this.activeEffort.id).subscribe(e=>{this.containError=!1,this.getEfforts()},e=>{this.returnPrincipalError(e)})}deleteEffort(e){confirm("Are you sure to delete this effort?")&&this.effortService.deleteEffort(e).subscribe(r=>{this.containError=!1,this.getEfforts()},r=>{this.returnPrincipalError(r)})}changeViewDescription(){this.changedToDescription=!this.changedToDescription}}return t.\u0275fac=function(e){return new(e||t)(Se(xu),Se(ac),Se(Su),Se(Tu),Se(Ka),Se(Ls))},t.\u0275cmp=tn({type:t,selectors:[["iMan-effort"]],viewQuery:function(e,r){if(1&e&&(Ki(Roe,5),Ki(Ooe,5)),2&e){let a;dn(a=hn())&&(r.closebuttonCreateEffort=a.first),dn(a=hn())&&(r.closebuttonUpdateEffort=a.first)}},features:[Bn],decls:43,vars:25,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","m-auto","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],[3,"click"],["class","bi bi-md bi-check2-square me-2","ngbTooltip","Asigned task","placement","left",3,"openDelay",4,"ngIf"],["class","bi bi-md bi-chat-left-text-fill me-2","ngbTooltip","Unnasigned task","placement","left",3,"openDelay",4,"ngIf"],["class","mx-3 m-auto w-100",4,"ngIf"],["class","mx-3 ms-auto",4,"ngIf"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],[1,"mt-3","overflow-auto","scrollable-content"],[4,"ngFor","ngForOf"],["id","updateEffortModal","tabindex","-1","aria-labelledby","updateEffortModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],["closebuttonUpdate",""],[1,"bi","bi-x"],[3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],["class","form-group mb-4 mt-3",4,"ngIf"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["type","datetime-local","name","startDate","formControlName","startDate","placeholder","",3,"max"],["type","datetime-local","name","endDate","formControlName","endDate","placeholder","",3,"min","max"],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebuttonUpdateEffort",""],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Sprint","placement","bottom",1,"bi","bi-md","bi-arrow-repeat","me-2",3,"openDelay"],["ngbTooltip","Task","placement","bottom",1,"bi","bi-md","bi-check2-square","me-2",3,"openDelay"],["ngbTooltip","Asigned task","placement","left",1,"bi","bi-md","bi-check2-square","me-2",3,"openDelay"],["ngbTooltip","Unnasigned task","placement","left",1,"bi","bi-md","bi-chat-left-text-fill","me-2",3,"openDelay"],[1,"mx-3","m-auto","w-100"],[3,"formGroup"],["id","formDescription","type","text","name","description","formControlName","description","maxlength","255","placeholder","",1,"m-auto","w-100",3,"keydown.enter"],[1,"mx-3","ms-auto"],[4,"ngIf","ngIfElse"],["startedTask",""],["ngbTooltip","Start effort","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-play-circle-fill","me-2"],["ngbTooltip","Stop effort","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-square-fill","me-2"],[1,"alert","alert-danger","mt-3","mb-3"],["class","card card-list me-3",4,"ngIf"],[1,"card","card-list","me-3"],[1,"d-flex","m-3","flex-wrap"],[1,"flex-grow-1"],[1,"d-flex","flex-wrap"],["descriptionEffort",""],[1,"d-flex","ms-3","me-4","flex-wrap"],[1,"d-flex","my-auto"],[4,"ngIf"],[1,"my-auto","mx-2","b-text"],[1,"d-flex","ms-auto"],[1,"m-auto","m-text","me-3"],["ngbTooltip","Edit effort","placement","left","data-bs-toggle","modal","data-bs-target","#updateEffortModal",3,"openDelay","click"],[1,"bi","bi-md","bi-pencil-fill","me-2","m-auto"],["ngbTooltip","Delete effort","placement","left",3,"openDelay","click"],[1,"bi","bi-md","bi-trash-fill","me-2","m-auto"],[1,"m-auto"],[1,"bi","bi-md","bi-card-text"],[1,"m-auto","mx-3","text-break"],[1,"alert","alert-danger","mt-5"],["id","formDescription","type","text","name","description","formControlName","description","maxlength","255","placeholder",""]],template:function(e,r){1&e&&($(0,"div",0)(1,"div",1),he(2,Poe,4,2,"div",2),he(3,Moe,4,2,"div",2),he(4,Foe,4,2,"div",2),$(5,"div")(6,"a",3),tt("click",function(){return r.changeViewDescription()}),he(7,Loe,1,1,"em",4),he(8,Goe,1,1,"em",5),z(),he(9,Boe,3,1,"div",6),z()(),he(10,joe,4,2,"div",7),z(),Ee(11,"hr",8),he(12,$oe,2,1,"div",9),$(13,"div",10),he(14,Xoe,2,1,"div",11),z(),$(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),pe(22,"Update sprint"),z(),$(23,"div",19,20),Ee(25,"em",21),z()(),$(26,"form",22),tt("ngSubmit",function(){return r.updateEffort()}),he(27,Qoe,2,1,"div",23),he(28,Zoe,4,3,"div",24),$(29,"div",25)(30,"p",26),pe(31,"Start date"),z(),Ee(32,"input",27),z(),$(33,"div",25)(34,"p",26),pe(35,"End date"),z(),Ee(36,"input",28),z(),$(37,"div",29)(38,"button",30,31),pe(40,"Close"),z(),$(41,"button",32),pe(42,"Update"),z()()()()()()()()),2&e&&(W(2),te("ngIf",r.myProjects&&0!=r.myProjects.length&&!r.changedToDescription),W(1),te("ngIf",r.mySprints&&0!=r.mySprints.length&&!r.changedToDescription),W(1),te("ngIf",r.myTasks&&0!=r.myTasks.length&&!r.changedToDescription),W(1),Nt("d-flex mx-3 ",r.changedToDescription?"w-100":"",""),W(2),te("ngIf",r.changedToDescription),W(1),te("ngIf",!r.changedToDescription),W(1),te("ngIf",r.changedToDescription),W(1),te("ngIf",r.changedToDescription||null!=r.myTasks&&0!=r.myTasks.length),W(2),te("ngIf",r.containError),W(2),te("ngForOf",r.efforts),W(12),te("formGroup",r.formUpdateEffort),W(1),te("ngIf",r.updateEffortContainError),W(1),te("ngIf",null!=r.effortSelected&&null==r.effortSelected.kanbanTask),W(4),Nt("form-control ",r.inputClass(r.formUpdateEffort,"startDate"),""),Qn("max",r.actualDate),W(4),Nt("form-control ",r.inputClass(r.formUpdateEffort,"endDate"),""),Qn("min",r.getFormatedDateTimeLikeInput(r.formUpdateEffort.value.startDate)),Qn("max",r.actualDate),W(5),te("disabled",!r.formUpdateEffort.valid))},directives:[Oi,oc,hr,Ua,za,Zl,Ql,va,_a,Xl,Wa,Ya],styles:["#formDescription[_ngcontent-%COMP%]{background:none;border:none;border-bottom:2px solid var(--dark-pallete-text);border-radius:0;color:inherit}"]}),t})();class ese{constructor(n,e,r,a,d,h,m,S){this.username=n,this.name=e,this.lastName=r,this.email=a,this.country=d,this.sector=h,this.oldPassword=m,this.newPassword=S}}function tse(t,n){if(1&t&&($(0,"div",27),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.messageError,"")}}function nse(t,n){1&t&&Ee(0,"img",28),2&t&&Qn("src",ve().getProfileImageUrl(),To)}function ise(t,n){1&t&&Ee(0,"em",29)}function rse(t,n){if(1&t){const e=Wt();$(0,"em",30),tt("click",function(){return Et(e),ve().deleteProfileImage()}),z()}}function ose(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function sse(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function ase(t,n){1&t&&($(0,"div"),pe(1,"Only 20 characters are allowed"),z())}function lse(t,n){if(1&t&&($(0,"div",31),he(1,ose,2,0,"div",32),he(2,sse,2,0,"div",32),he(3,ase,2,0,"div",32),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateProfile.get("name"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateProfile.get("name"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formUpdateProfile.get("name"))||null==d.errors?null:d.errors.maxlength)}}function cse(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function use(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function dse(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function hse(t,n){if(1&t&&($(0,"div",31),he(1,cse,2,0,"div",32),he(2,use,2,0,"div",32),he(3,dse,2,0,"div",32),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateProfile.get("lastName"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateProfile.get("lastName"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formUpdateProfile.get("lastName"))||null==d.errors?null:d.errors.maxlength)}}function pse(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function fse(t,n){1&t&&($(0,"div"),pe(1,"Must be email format"),z())}function gse(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function mse(t,n){if(1&t&&($(0,"div",31),he(1,pse,2,0,"div",32),he(2,fse,2,0,"div",32),he(3,gse,2,0,"div",32),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateProfile.get("email"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateProfile.get("email"))||null==a.errors?null:a.errors.email),W(1),te("ngIf",null==(d=e.formUpdateProfile.get("email"))||null==d.errors?null:d.errors.maxlength)}}function _se(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function vse(t,n){1&t&&($(0,"div"),pe(1,"Must contain only lower case characters and numbers"),z())}function yse(t,n){1&t&&($(0,"div"),pe(1,"Only 15 characters are allowed"),z())}function Cse(t,n){if(1&t&&($(0,"div",31),he(1,_se,2,0,"div",32),he(2,vse,2,0,"div",32),he(3,yse,2,0,"div",32),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateProfile.get("username"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateProfile.get("username"))||null==a.errors?null:a.errors.pattern),W(1),te("ngIf",null==(d=e.formUpdateProfile.get("username"))||null==d.errors?null:d.errors.maxlength)}}function bse(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function wse(t,n){1&t&&($(0,"div"),pe(1,"Must contain upper and lower case letters, numbers and special characters"),z())}function xse(t,n){1&t&&($(0,"div"),pe(1,"Must contain at least 8 characters"),z())}function Sse(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function Tse(t,n){if(1&t&&($(0,"div",31),he(1,bse,2,0,"div",32),he(2,wse,2,0,"div",32),he(3,xse,2,0,"div",32),he(4,Sse,2,0,"div",32),z()),2&t){const e=ve();let r,a,d,h;W(1),te("ngIf",null==(r=e.formUpdateProfile.get("oldPassword"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateProfile.get("oldPassword"))||null==a.errors?null:a.errors.pattern),W(1),te("ngIf",null==(d=e.formUpdateProfile.get("oldPassword"))||null==d.errors?null:d.errors.minlength),W(1),te("ngIf",null==(h=e.formUpdateProfile.get("oldPassword"))||null==h.errors?null:h.errors.maxlength)}}function Ese(t,n){1&t&&($(0,"div"),pe(1,"Must contain upper and lower case letters, numbers and special characters"),z())}function Dse(t,n){1&t&&($(0,"div"),pe(1,"Must contain at least 8 characters"),z())}function Ase(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function Rse(t,n){if(1&t&&($(0,"div",31),he(1,Ese,2,0,"div",32),he(2,Dse,2,0,"div",32),he(3,Ase,2,0,"div",32),z()),2&t){const e=ve();let r,a,d;W(1),te("ngIf",null==(r=e.formUpdateProfile.get("newPassword"))||null==r.errors?null:r.errors.pattern),W(1),te("ngIf",null==(a=e.formUpdateProfile.get("newPassword"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formUpdateProfile.get("newPassword"))||null==d.errors?null:d.errors.maxlength)}}function Ose(t,n){if(1&t&&($(0,"option",33),pe(1),z()),2&t){const e=n.$implicit;te("ngValue",e),W(1),wt(" ",e,"")}}function kse(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function Pse(t,n){if(1&t&&($(0,"div",31),he(1,kse,2,0,"div",32),z()),2&t){const e=ve();let r;W(1),te("ngIf",null==(r=e.formUpdateProfile.get("country"))||null==r.errors?null:r.errors.required)}}function Ise(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function Mse(t,n){1&t&&($(0,"div"),pe(1,"Only 20 characters are allowed"),z())}function Nse(t,n){if(1&t&&($(0,"div",31),he(1,Ise,2,0,"div",32),he(2,Mse,2,0,"div",32),z()),2&t){const e=ve();let r,a;W(1),te("ngIf",null==(r=e.formUpdateProfile.get("sector"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formUpdateProfile.get("sector"))||null==a.errors?null:a.errors.maxlength)}}let Fse=(()=>{class t extends ah{constructor(e,r,a,d,h,m,S,k){super(a,d,h,m,S,k),this.userService=e,this.countryService=r,this.containError=!1,this.countriesDictionary=this.countryService.getAllCountriesByISO3166(),this.countries=Object.values(this.countriesDictionary),this.formUpdateProfile=S.group({name:["",[nn.required]],lastName:["",[nn.required]],email:["",[nn.required]],username:["",[nn.required]],oldPassword:["",[nn.required]],newPassword:["",[]],country:["",[nn.required]],sector:["",[nn.required]]})}ngOnInit(){this.loadMyProfile()}loadMyProfile(){this.userService.getMyProfile().subscribe(e=>{this.myProfile=e,this.formUpdateProfile=this.formBuilder.group({name:[this.myProfile.name,[nn.required]],lastName:[this.myProfile.lastName,[nn.required]],email:[this.myProfile.email,[nn.required]],username:[this.myProfile.username,[nn.required]],oldPassword:["",[nn.required]],newPassword:["",[]],country:[this.countriesDictionary[this.myProfile.country],[nn.required]],sector:[this.myProfile.sector,[nn.required]]})},e=>{this.returnPrincipalError(e)})}editProfile(){if(confirm("Are you sure to modify your profile?")){let e=this.getKeyByValue(this.countriesDictionary,this.formUpdateProfile.value.country),r=new ese(this.formUpdateProfile.value.username,this.formUpdateProfile.value.name,this.formUpdateProfile.value.lastName,this.formUpdateProfile.value.email,null==e?"":e,this.formUpdateProfile.value.sector,this.formUpdateProfile.value.oldPassword,this.formUpdateProfile.value.newPassword);this.userService.updateProfile(r).subscribe(a=>{this.containError=!1,this.loadMyProfile()},a=>{this.returnPrincipalError(a)})}}getProfileImageUrl(){return this.userService.imageUrl}uploadProfileImage(e){var r=e.files[0];r&&r.size>4e6?this.returnPrincipalError("Profile image can't be bigger than 4MB"):"image/jpeg"!=(null==r?void 0:r.type)&&"image/jpg"!=(null==r?void 0:r.type)&&"image/png"!=(null==r?void 0:r.type)?this.returnPrincipalError("Profile image must be jpeg, jpg or png"):this.userService.uploadUserImageProfile(r).subscribe(a=>{this.userService.reloadProfileImage()},a=>{this.returnPrincipalError(a)})}deleteProfileImage(){confirm("Are you sure to change your profile image?")&&this.userService.deleteUserImageProfile().subscribe(e=>{this.userService.reloadProfileImage()},e=>{this.returnPrincipalError(e)})}}return t.\u0275fac=function(e){return new(e||t)(Se(Rf),Se(GN),Se(xu),Se(ac),Se(Su),Se(Tu),Se(Ka),Se(Ls))},t.\u0275cmp=tn({type:t,selectors:[["iMan-user"]],features:[Bn],decls:58,vars:39,consts:[[1,"m-4","overflow-auto","scrollable-content",3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"container","mt-3"],[1,"row"],[1,"col-lg-3","align-self-top","mb-4","me-auto"],["id","image-block",1,"mx-auto"],["class","profile-image my-2 size-xl mx-auto d-block","alt","Profile image","onclick","$('#userPhotoInput').trigger('click');",3,"src",4,"ngIf"],["class","bi bi-person-circle size-xl mx-auto d-block","style","font-size: 30px;","onclick","$('#userPhotoInput').trigger('click');",4,"ngIf"],["class","bi bi-trash-fill delete-image red-btn",3,"click",4,"ngIf"],["hidden","","type","file","accept","image/*","id","userPhotoInput","accept",".jpg, .jpeg, .png, .gif",3,"change"],["imageInput",""],[1,"col-lg-9"],[1,"form-group","mb-4","me-3"],[1,"mb-0"],["type","text","name","name","formControlName","name","maxlength","20","minlength","2","placeholder","John"],["class","invalid-feedback",4,"ngIf"],["type","text","name","lastName","formControlName","lastName","maxlength","50","placeholder","Doe"],["type","text","name","email","formControlName","email","maxlength","50","email","","placeholder","johndoe@example.com"],["type","text","name","username","formControlName","username","maxlength","15","placeholder","johndoe","pattern","^[a-z0-9]+$"],["type","password","name","oldPassword","formControlName","oldPassword","minlength","8","maxlength","50","placeholder","oldPassword","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,50}$","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7"],["type","password","name","newPassword","formControlName","newPassword","minlength","8","maxlength","50","placeholder","newPassword","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,50}$","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7"],["formControlName","country"],["value","","disabled","",1,"dark-text"],["class","dark-text",3,"ngValue",4,"ngFor","ngForOf"],["type","text","name","sector","formControlName","sector","maxlength","20","placeholder","Industry"],[1,"form-group","modal-footer"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger","mt-5"],["alt","Profile image","onclick","$('#userPhotoInput').trigger('click');",1,"profile-image","my-2","size-xl","mx-auto","d-block",3,"src"],["onclick","$('#userPhotoInput').trigger('click');",1,"bi","bi-person-circle","size-xl","mx-auto","d-block",2,"font-size","30px"],[1,"bi","bi-trash-fill","delete-image","red-btn",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"dark-text",3,"ngValue"]],template:function(e,r){if(1&e){const a=Wt();$(0,"form",0),tt("ngSubmit",function(){return r.editProfile()}),he(1,tse,2,1,"div",1),$(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),he(6,nse,1,1,"img",6),he(7,ise,1,0,"em",7),he(8,rse,1,0,"em",8),$(9,"input",9,10),tt("change",function(){Et(a);const h=wi(10);return r.uploadProfileImage(h)}),z()()(),$(11,"div",11)(12,"div",12)(13,"p",13),pe(14,"First name"),z(),Ee(15,"input",14),he(16,lse,4,3,"div",15),z(),$(17,"div",12)(18,"p",13),pe(19,"Last name"),z(),Ee(20,"input",16),he(21,hse,4,3,"div",15),z(),$(22,"div",12)(23,"p",13),pe(24,"Email"),z(),Ee(25,"input",17),he(26,mse,4,3,"div",15),z(),$(27,"div",12)(28,"p",13),pe(29,"Username"),z(),Ee(30,"input",18),he(31,Cse,4,3,"div",15),z(),$(32,"div",12)(33,"p",13),pe(34,"Old password"),z(),Ee(35,"input",19),he(36,Tse,5,4,"div",15),z(),$(37,"div",12)(38,"p",13),pe(39,"New password (only if you want)"),z(),Ee(40,"input",20),he(41,Rse,4,3,"div",15),z(),$(42,"div",12)(43,"p",13),pe(44,"Country"),z(),$(45,"select",21)(46,"option",22),pe(47,"Country"),z(),he(48,Ose,2,2,"option",23),z(),he(49,Pse,2,1,"div",15),z(),$(50,"div",12)(51,"p",13),pe(52,"Sector"),z(),Ee(53,"input",24),he(54,Nse,3,2,"div",15),z()()()(),$(55,"div",25)(56,"button",26),pe(57,"Edit"),z()()()}if(2&e){let a,d,h,m,S,k,N,H;te("formGroup",r.formUpdateProfile),W(1),te("ngIf",r.containError),W(5),te("ngIf",null!=r.getProfileImageUrl()&&""!=r.getProfileImageUrl()),W(1),te("ngIf",null==r.getProfileImageUrl()||""==r.getProfileImageUrl()),W(1),te("ngIf",null!=r.getProfileImageUrl()&&""!=r.getProfileImageUrl()),W(7),Nt("form-control ",r.inputClass(r.formUpdateProfile,"name"),""),W(1),te("ngIf",(null==(a=r.formUpdateProfile.get("name"))?null:a.touched)&&(null==(a=r.formUpdateProfile.get("name"))?null:a.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateProfile,"lastName"),""),W(1),te("ngIf",(null==(d=r.formUpdateProfile.get("lastName"))?null:d.touched)&&(null==(d=r.formUpdateProfile.get("lastName"))?null:d.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateProfile,"email"),""),W(1),te("ngIf",(null==(h=r.formUpdateProfile.get("email"))?null:h.touched)&&(null==(h=r.formUpdateProfile.get("email"))?null:h.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateProfile,"username"),""),W(1),te("ngIf",(null==(m=r.formUpdateProfile.get("username"))?null:m.touched)&&(null==(m=r.formUpdateProfile.get("username"))?null:m.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateProfile,"oldPassword"),""),W(1),te("ngIf",(null==(S=r.formUpdateProfile.get("oldPassword"))?null:S.touched)&&(null==(S=r.formUpdateProfile.get("oldPassword"))?null:S.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateProfile,"newPassword"),""),W(1),te("ngIf",(null==(k=r.formUpdateProfile.get("newPassword"))?null:k.touched)&&(null==(k=r.formUpdateProfile.get("oldPassword"))?null:k.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateProfile,"country"),""),W(3),te("ngForOf",r.countries),W(1),te("ngIf",(null==(N=r.formUpdateProfile.get("country"))?null:N.touched)&&(null==(N=r.formUpdateProfile.get("country"))?null:N.invalid)),W(4),Nt("form-control ",r.inputClass(r.formUpdateProfile,"sector"),""),W(1),te("ngIf",(null==(H=r.formUpdateProfile.get("sector"))?null:H.touched)&&(null==(H=r.formUpdateProfile.get("sector"))?null:H.invalid)),W(2),te("disabled",!r.formUpdateProfile.valid)}},directives:[Zl,Ql,va,Oi,_a,Xl,Wa,Ya,Cu,Ab,Rb,Jl,Ua,za,hr],styles:[".form-control[_ngcontent-%COMP%]{background:none;border:none;border-bottom:2px solid var(--dark-pallete-text);-webkit-box-shadow:0 0 0 30px var(--dark-pallete-1) inset!important;color:var(--dark-pallete-1)}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 60px - var(--navbar-size))!important}select[_ngcontent-%COMP%]{height:40px!important}.size-xl[_ngcontent-%COMP%]{cursor:pointer!important}em.size-xl[_ngcontent-%COMP%]{font-size:200px!important}img.size-xl[_ngcontent-%COMP%]{height:200px!important;width:200px!important}.delete-image[_ngcontent-%COMP%]{position:relative;font-size:35px!important;right:-166px;top:-66px}#image-block[_ngcontent-%COMP%]{max-width:200px}"]}),t})();var Au=X(190);class Lse{constructor(n,e,r,a){this.id=n,this.source=e,this.target=r,this.type=a}}let Gse=(()=>{class t{getGanttTask(e){return{id:e.id,text:e.title,start_date:this.getGanttDate(e.dueStartDate),duration:this.getDifferenceInDays(e.dueStartDate,e.dueEndDate),progress:e.computedTime<=e.estimatedTime?e.computedTime/e.estimatedTime*100:e.estimatedTime/e.computedTime*100,color:e.computedTime<=e.estimatedTime?"rgb(25,135,84)":"rgb(220,53,69)"}}getGanttTasks(e){return e.map(r=>this.getGanttTask(r)).filter(r=>r)}getGanttDate(e){let r=new z0("en-US");return e?r.transform(e,"dd-MM-yyyy")||"":r.transform(new Date,"dd-MM-yyyy")||""}getDifferenceInDays(e,r){return e&&r?Math.abs(new Date(r).getTime()-new Date(e).getTime())/864e5:31}getGanttLinks(e){var r=[];return e.forEach(a=>a.children.forEach(d=>r.push(new Lse(r.length,a.id,d.id,"0")))),r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bse=["closeButtonTask"];function Vse(t,n){if(1&t&&($(0,"div",11),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.messageError," ")}}function Hse(t,n){if(1&t&&($(0,"div",23),Ee(1,"em",24),$(2,"div",25),pe(3),z()()),2&t){const e=ve(2);W(3),wt(" Estimated time: ",e.timeToDoubleString(e.selectedTask.estimatedTime),"h ")}}function jse(t,n){if(1&t&&($(0,"div",23),Ee(1,"em",26),$(2,"div",25),pe(3),z()()),2&t){const e=ve(2);W(3),wt(" Computed time: ",e.timeToDoubleString(e.selectedTask.computedTime),"h ")}}function $se(t,n){if(1&t&&($(0,"div",23),Ee(1,"em",27),$(2,"div",25),pe(3),z()()),2&t){const e=ve(2);W(3),wt(" Importance: ",e.selectedTask.importance," ")}}function Wse(t,n){if(1&t&&($(0,"div",31),pe(1),z()),2&t){const e=n.$implicit;W(1),wt(" #",e.trim()," ")}}function Use(t,n){if(1&t&&($(0,"div",28),Ee(1,"em",29),$(2,"div",25),pe(3," Tags: "),z(),he(4,Wse,2,1,"div",30),z()),2&t){const e=ve(2);W(4),te("ngForOf",e.selectedTask.tags.split(","))}}function zse(t,n){if(1&t&&($(0,"div",23),Ee(1,"em",32),$(2,"div",25),pe(3),z()()),2&t){const e=ve(2);W(3),wt(" Due start date: ",e.getFormatedDate(e.selectedTask.dueStartDate,"dd/MM/yyyy")," ")}}function Yse(t,n){if(1&t&&($(0,"div",23),Ee(1,"em",33),$(2,"div",25),pe(3),z()()),2&t){const e=ve(2);W(3),wt(" Due end date: ",e.getFormatedDate(e.selectedTask.dueEndDate,"dd/MM/yyyy")," ")}}function Kse(t,n){if(1&t&&Ee(0,"img",44),2&t){const e=ve(2).$implicit;Qn("src",ve(4).getProfileImageUrlFromUser(e),To),Kr("alt","@",e.username," profile image")}}function qse(t,n){if(1&t&&(Di(0),he(1,Kse,1,2,"img",43),lr()),2&t){const e=ve().$implicit,r=ve(4);W(1),te("ngIf",null!=r.getProfileImageUrlFromUser(e)&&""!=r.getProfileImageUrlFromUser(e))}}function Xse(t,n){1&t&&Ee(0,"em",45)}function Qse(t,n){if(1&t&&($(0,"div",39),he(1,qse,2,1,"ng-container",40),he(2,Xse,1,0,"ng-template",null,41,Hi),$(4,"div",42),pe(5),z()()),2&t){const e=n.$implicit,r=wi(3),a=ve(4);Kr("ngbTooltip","@",e.username,""),te("openDelay",300),W(1),te("ngIf",null!=a.getProfileImageUrlFromUser(e)&&""!=a.getProfileImageUrlFromUser(e))("ngIfElse",r),W(4),wt("@",e.username,"")}}function Zse(t,n){if(1&t&&($(0,"div",36)(1,"div",5),Ee(2,"em",37),$(3,"div",25),pe(4," Assigned: "),z()(),he(5,Qse,6,5,"div",38),z()),2&t){const e=ve(3);W(5),te("ngForOf",e.selectedTask.assignedUsers)}}function Jse(t,n){if(1&t&&($(0,"div",49)(1,"div",50),pe(2),z()()),2&t){const e=n.$implicit;W(2),ur("#",e.number,": ",e.title,"")}}function eae(t,n){if(1&t&&($(0,"div",36)(1,"div",5),Ee(2,"em",46),$(3,"div",47),pe(4," Childrens: "),z()(),he(5,Jse,3,2,"div",48),z()),2&t){const e=ve(3);W(5),te("ngForOf",e.selectedTask.children)}}function tae(t,n){if(1&t&&($(0,"div",34),he(1,Zse,6,1,"div",35),he(2,eae,6,1,"div",35),z()),2&t){const e=ve(2);W(1),te("ngIf",e.selectedTask.assignedUsers&&0!=e.selectedTask.assignedUsers.length),W(1),te("ngIf",e.selectedTask.children&&0!=e.selectedTask.children.length)}}function nae(t,n){if(1&t){const e=Wt();$(0,"div",51)(1,"button",52),tt("click",function(){return Et(e),ve(2).edit()}),Ee(2,"em",53),$(3,"div",54),pe(4,"Edit"),z()()()}}function iae(t,n){if(1&t&&($(0,"div",12)(1,"div",13)(2,"div")(3,"div",14),Ee(4,"em",15),$(5,"div",16),pe(6,"Description:"),z()(),$(7,"div",17),pe(8),z(),he(9,Hse,4,1,"div",18),he(10,jse,4,1,"div",18),he(11,$se,4,1,"div",18),he(12,Use,5,1,"div",19),he(13,zse,4,1,"div",18),he(14,Yse,4,1,"div",18),z(),he(15,tae,3,2,"div",20),$(16,"div",21),he(17,nae,5,0,"div",22),z()()()),2&t){const e=ve();W(2),Nt("d-flex flex-wrap mt-2 ",e.selectedTask.assignedUsers&&0!=e.selectedTask.assignedUsers.length||e.selectedTask.children&&0!=e.selectedTask.children.length?"col-lg-7":"col-lg-12",""),W(6),wt(" ",e.selectedTask.description," "),W(1),te("ngIf",null!=e.selectedTask.estimatedTime),W(1),te("ngIf",null!=e.selectedTask.computedTime),W(1),te("ngIf",null!=e.selectedTask.importance),W(1),te("ngIf",null!=e.selectedTask.tags),W(1),te("ngIf",null!=e.selectedTask.dueStartDate),W(1),te("ngIf",null!=e.selectedTask.dueEndDate),W(1),te("ngIf",e.selectedTask.assignedUsers&&0!=e.selectedTask.assignedUsers.length||e.selectedTask.children&&0!=e.selectedTask.children.length),W(2),te("ngIf",e.isEditable&&!e.isEditing&&null!=e.selectedTask)}}function rae(t,n){1&t&&($(0,"div"),pe(1,"Cannot be empty"),z())}function oae(t,n){1&t&&($(0,"div"),pe(1,"Must containt at least 2 characters"),z())}function sae(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function aae(t,n){if(1&t&&($(0,"div",80),he(1,rae,2,0,"div",81),he(2,oae,2,0,"div",81),he(3,sae,2,0,"div",81),z()),2&t){const e=ve(2);let r,a,d;W(1),te("ngIf",null==(r=e.formTask.get("title"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formTask.get("title"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formTask.get("title"))||null==d.errors?null:d.errors.maxlength)}}function lae(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function cae(t,n){if(1&t&&($(0,"div",80),he(1,lae,2,0,"div",81),z()),2&t){const e=ve(2);let r;W(1),te("ngIf",null==(r=e.formTask.get("description"))||null==r.errors?null:r.errors.maxlength)}}function uae(t,n){1&t&&($(0,"div"),pe(1,"Cannot be negative time "),z())}function dae(t,n){if(1&t&&($(0,"div",80),he(1,uae,2,0,"div",81),z()),2&t){const e=ve(2);let r;W(1),te("ngIf",null==(r=e.formTask.get("estimatedTime"))||null==r.errors?null:r.errors.min)}}function hae(t,n){1&t&&($(0,"div"),pe(1,"Only 50 characters are allowed"),z())}function pae(t,n){if(1&t&&($(0,"div",80),he(1,hae,2,0,"div",81),z()),2&t){const e=ve(2);let r;W(1),te("ngIf",null==(r=e.formTask.get("importance"))||null==r.errors?null:r.errors.maxlength)}}function fae(t,n){1&t&&($(0,"div"),pe(1,"Only 255 characters are allowed"),z())}function gae(t,n){if(1&t&&($(0,"div",80),he(1,fae,2,0,"div",81),z()),2&t){const e=ve(2);let r;W(1),te("ngIf",null==(r=e.formTask.get("tags"))||null==r.errors?null:r.errors.maxlength)}}function mae(t,n){1&t&&($(0,"div"),pe(1," Cannot be empty"),z())}function _ae(t,n){1&t&&($(0,"div"),pe(1," Must containt at least 2 characters"),z())}function vae(t,n){1&t&&($(0,"div"),pe(1," Only 30 characters are allowed"),z())}function yae(t,n){if(1&t&&($(0,"div",80),he(1,mae,2,0,"div",81),he(2,_ae,2,0,"div",81),he(3,vae,2,0,"div",81),z()),2&t){const e=ve(2);let r,a,d;W(1),te("ngIf",null==(r=e.formAddAssignedUser.get("username"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formAddAssignedUser.get("username"))||null==a.errors?null:a.errors.minlength),W(1),te("ngIf",null==(d=e.formAddAssignedUser.get("username"))||null==d.errors?null:d.errors.maxlength)}}function Cae(t,n){if(1&t&&($(0,"option"),pe(1),z()),2&t){const e=n.$implicit;W(1),wt("",e.username," ")}}function bae(t,n){if(1&t&&(Di(0),Ee(1,"img",86),lr()),2&t){const e=ve().$implicit,r=ve(2);W(1),Qn("src",r.getProfileImageUrlFromUser(e),To)}}function wae(t,n){1&t&&Ee(0,"em",87)}function xae(t,n){if(1&t){const e=Wt();$(0,"div",82),he(1,bae,2,1,"ng-container",40),he(2,wae,1,0,"ng-template",null,41,Hi),$(4,"div",83),pe(5),z(),$(6,"div")(7,"a",84),tt("click",function(){const d=Et(e).index;return ve(2).removeAssignedUsername(d)}),Ee(8,"em",85),z()()()}if(2&t){const e=n.$implicit,r=wi(3),a=ve(2);W(1),te("ngIf",null!=a.getProfileImageUrlFromUser(e)&&""!=a.getProfileImageUrlFromUser(e))("ngIfElse",r),W(4),wt(" @",e.username," "),W(2),Kr("ngbTooltip","Delete @",e.username,""),te("openDelay",300)}}function Sae(t,n){if(1&t&&($(0,"option",88),pe(1),z()),2&t){const e=n.$implicit;Qn("value",e.id),W(1),ur(" #",e.number,": ",e.title,"")}}function Tae(t,n){if(1&t){const e=Wt();$(0,"div",49)(1,"div",50),pe(2),z(),$(3,"div")(4,"a",84),tt("click",function(){const d=Et(e).index;return ve(2).removeChildrenTask(d)}),Ee(5,"em",85),z()()()}if(2&t){const e=n.$implicit;W(2),ur("#",e.number,": ",e.title,""),W(2),Kr("ngbTooltip","Delete #",e.number,""),te("openDelay",300)}}function Eae(t,n){if(1&t){const e=Wt();$(0,"div",12)(1,"form",55),tt("ngSubmit",function(){return Et(e),ve().uploadTask()}),$(2,"div",56)(3,"div",14)(4,"div",54),pe(5,"Title:"),z(),Ee(6,"input",57),he(7,aae,4,3,"div",58),z(),$(8,"div",14),Ee(9,"em",15),$(10,"div",25),pe(11,"Description:"),z()(),$(12,"textarea",59),pe(13,"                                    "),z(),he(14,cae,2,1,"div",58),$(15,"div",23),Ee(16,"em",24)(17,"input",60),he(18,dae,2,1,"div",58),z(),$(19,"div",23),Ee(20,"em",27),$(21,"div",25),pe(22," Importance: "),z(),Ee(23,"input",61),he(24,pae,2,1,"div",58),$(25,"datalist",62)(26,"option"),pe(27,"Very high"),z(),$(28,"option"),pe(29,"High"),z(),$(30,"option"),pe(31,"Medium"),z(),$(32,"option"),pe(33,"Low"),z(),$(34,"option"),pe(35,"Very low"),z()()(),$(36,"div",28),Ee(37,"em",29),$(38,"div",25),pe(39," Tags: "),z(),Ee(40,"input",63),he(41,gae,2,1,"div",58),z(),$(42,"div",23),Ee(43,"em",32),$(44,"div",25),pe(45," Due start date: "),z(),Ee(46,"input",64),z(),$(47,"div",23),Ee(48,"em",33),$(49,"div",25),pe(50," Due end date: "),z(),Ee(51,"input",65),z()(),$(52,"div",66)(53,"div",36)(54,"div",5),Ee(55,"em",37),$(56,"div",25),pe(57," Assigned: "),z(),$(58,"form",67),tt("ngSubmit",function(){return Et(e),ve().addAssignedUsername()}),$(59,"div",5)(60,"div",68),Ee(61,"input",69),he(62,yae,4,3,"div",58),$(63,"datalist",70),he(64,Cae,2,1,"option",71),z()(),$(65,"div")(66,"button",72),pe(67," Add "),z()()()()(),he(68,xae,9,5,"div",73),z(),$(69,"div",36)(70,"div",5),Ee(71,"em",46),$(72,"div",47),pe(73," Childrens: "),z(),$(74,"form",74),tt("ngSubmit",function(){return Et(e),ve().addChildrenTask()}),$(75,"div",5)(76,"div",68)(77,"select",75),he(78,Sae,2,3,"option",76),z()(),$(79,"div")(80,"button",72),pe(81," Add "),z()()()()()(),he(82,Tae,6,4,"div",48),z(),$(83,"div",77)(84,"button",78),tt("click",function(){return Et(e),ve().edit()}),pe(85,"Close"),z(),$(86,"button",79),pe(87),z()()()()}if(2&t){const e=ve();let r,a,d,h,m,S;W(1),te("formGroup",e.formTask),W(5),Nt("form-control ",e.inputClass(e.formTask,"title"),""),W(1),te("ngIf",(null==(r=e.formTask.get("title"))?null:r.touched)&&(null==(r=e.formTask.get("title"))?null:r.invalid)),W(5),Nt("form-control ",e.inputClass(e.formTask,"description"),""),W(2),te("ngIf",(null==(a=e.formTask.get("description"))?null:a.touched)&&(null==(a=e.formTask.get("description"))?null:a.invalid)),W(3),Nt("form-control ",e.inputClass(e.formTask,"estimatedTime"),""),W(1),te("ngIf",(null==(d=e.formTask.get("estimatedTime"))?null:d.touched)&&(null==(d=e.formTask.get("estimatedTime"))?null:d.invalid)),W(5),Nt("form-control ",e.inputClass(e.formTask,"importance"),""),W(1),te("ngIf",(null==(h=e.formTask.get("importance"))?null:h.touched)&&(null==(h=e.formTask.get("importance"))?null:h.invalid)),W(16),Nt("form-control ",e.inputClass(e.formTask,"tags"),""),W(1),te("ngIf",(null==(m=e.formTask.get("tags"))?null:m.touched)&&(null==(m=e.formTask.get("tags"))?null:m.invalid)),W(5),Nt("form-control ",e.inputClass(e.formTask,"dueStartDate"),""),W(5),Nt("form-control ",e.inputClass(e.formTask,"dueEndDate"),""),W(7),te("formGroup",e.formAddAssignedUser),W(3),Nt("form-control flex-grow-1 ",e.inputClass(e.formAddAssignedUser,"username"),""),W(1),te("ngIf",(null==(S=e.formAddAssignedUser.get("username"))?null:S.touched)&&(null==(S=e.formAddAssignedUser.get("username"))?null:S.invalid)),W(2),te("ngForOf",e.usersInProject),W(2),te("disabled",!e.formAddAssignedUser.valid),W(2),te("ngForOf",e.assignedUsers),W(6),te("formGroup",e.formAddChildrenTask),W(3),Nt("form-select flex-grow-1 ",e.inputClass(e.formAddChildrenTask,"children"),""),W(1),te("ngForOf",e.myTasks),W(2),te("disabled",!e.formAddChildrenTask.valid),W(2),te("ngForOf",e.selectedChildrens),W(4),te("disabled",!e.formTask.valid),W(1),Fi(null==e.selectedTask?"Create":"Edit")}}let Dae=(()=>{class t{constructor(e,r,a){this.userService=e,this.formBuilder=r,this.kanbanService=a,this.isEditable=!1,this.usersInProject=[],this.selectedKanbanColumnId=0,this.myTasks=[],this.isEditing=!1,this.containError=!1,this.assignedUsers=[],this.selectedChildrens=[],this.formTask=r.group({title:["",[nn.required]],description:["",[]],estimatedTime:["",[]],tags:["",[]],importance:["",[]],dueStartDate:["",[]],dueEndDate:["",[]]}),this.formAddAssignedUser=r.group({username:["",[]]}),this.formAddChildrenTask=r.group({children:["",[]]})}ngOnInit(){}inputClass(e,r){var a,d,h,m;return(null===(a=null==e?void 0:e.get(r))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(r))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(r))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(r))||void 0===m?void 0:m.invalid)?"is-invalid":""}edit(){this.isEditing=!this.isEditing,this.isEditing&&this.buildForm()}buildForm(){this.clearForms(),null!=this.selectedTask&&(this.assignedUsers=this.selectedTask.assignedUsers,this.selectedChildrens=this.selectedTask.children,this.formTask=this.formBuilder.group({title:[this.selectedTask.title,[nn.required]],description:[this.selectedTask.description,[]],estimatedTime:[this.selectedTask.estimatedTime,[]],importance:[this.selectedTask.importance,[]],tags:[this.selectedTask.tags,[]],dueStartDate:[this.selectedTask.dueStartDate,[]],dueEndDate:[this.selectedTask.dueEndDate,[]]}))}clearForms(){this.formTask.reset(),this.assignedUsers=[],this.formAddAssignedUser.reset(),this.selectedChildrens=[],this.formAddChildrenTask.reset()}uploadTask(){null==this.selectedTask?this.newTask():this.editTask()}newTask(){if(this.selectedChildrens){let e=new cL(this.formTask.value.title,this.formTask.value.description,this.formTask.value.estimatedTime,this.selectedKanbanColumnId,this.formTask.value.tags,this.formTask.value.importance,this.formTask.value.dueStartDate,this.formTask.value.dueEndDate,this.getUsernamesInArray(this.assignedUsers),this.getChildrenIdsInArray(this.selectedChildrens));this.kanbanService.createKanbanTask(e).subscribe({next:r=>{this.handleNext(r)},error:r=>{this.handleError(r)}})}}editTask(){if(null!=this.selectedTask){let e=new sv(this.selectedTask.id,this.formTask.value.title,this.formTask.value.description,this.formTask.value.estimatedTime,this.formTask.value.tags,this.formTask.value.importance,this.formTask.value.dueStartDate,this.formTask.value.dueEndDate,this.getUsernamesInArray(this.assignedUsers),this.getChildrenIdsInArray(this.selectedChildrens));this.kanbanService.updateKanbanTask(e).subscribe({next:r=>{this.handleNext(r)},error:r=>{this.handleError(r)}})}}handleNext(e){this.selectedTask=e,this.clearForms(),this.edit()}handleError(e){var r=e.error.text;null==r&&(r="Error produced"),this.messageError=r,this.containError=!0}timeToDoubleString(e){return null==e&&(e=0),(e%1?e.toFixed(3):e)+""}getFormatedDate(e,r){return new z0("en-US").transform(e,r)}getProfileImageUrlFromUser(e){return this.userService.getUrlFromProfile(e.imageUid)}addAssignedUsername(){var e=this.formAddAssignedUser.value.username,r=this.usersInProject.find(a=>a.username==e);void 0!==r&&-1==this.assignedUsers.indexOf(r)&&(this.assignedUsers.push(r),this.formAddAssignedUser.reset())}removeAssignedUsername(e){this.assignedUsers.splice(e,1)}getUsernamesInArray(e){return e.map(r=>r.username)}addChildrenTask(){var e=this.formAddChildrenTask.value.children,r=this.myTasks.find(a=>a.id==e);void 0!==r&&-1==this.selectedChildrens.indexOf(r)&&(this.selectedChildrens.push(r),this.formAddChildrenTask.reset())}removeChildrenTask(e){this.selectedChildrens.splice(e,1)}getChildrenIdsInArray(e){return e.map(r=>r.id)}}return t.\u0275fac=function(e){return new(e||t)(Se(Rf),Se(Ka),Se(ac))},t.\u0275cmp=tn({type:t,selectors:[["task-modal-view"]],viewQuery:function(e,r){if(1&e&&Ki(Bse,5),2&e){let a;dn(a=hn())&&(r.closeButtonTask=a.first)}},inputs:{isEditable:"isEditable",selectedTask:"selectedTask",usersInProject:"usersInProject",selectedKanbanColumnId:"selectedKanbanColumnId",myTasks:"myTasks",isEditing:"isEditing"},decls:13,vars:4,consts:[["id","taskModal","tabindex","-1","aria-labelledby","taskModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],["class","container",4,"ngIf"],[1,"alert","alert-danger","mt-5"],[1,"container"],[1,"row"],[1,"w-100","d-flex","p-2"],[1,"bi","bi-card-text","my-auto",2,"font-size","20px !important"],[1,"text-break","my-auto","mx-2"],[1,"w-100","text-break","mb-3",2,"margin-left","2.4rem !important"],["class","w-50 d-flex p-2",4,"ngIf"],["class","w-50 d-flex flex-wrap p-2",4,"ngIf"],["class","col-lg-5 mt-2",4,"ngIf"],[1,"col-lg-12"],["class","w-100 d-flex p-2 mt-2",4,"ngIf"],[1,"w-50","d-flex","p-2"],[1,"bi","bi-hourglass-top","my-auto",2,"font-size","20px !important"],[1,"my-auto","mx-2"],[1,"bi","bi-hourglass-bottom","my-auto",2,"font-size","20px !important"],[1,"bi","bi-stoplights","my-auto",2,"font-size","20px !important"],[1,"w-50","d-flex","flex-wrap","p-2"],[1,"bi","bi-tags","my-auto",2,"font-size","20px !important"],["class","mx-1 my-auto chip",4,"ngFor","ngForOf"],[1,"mx-1","my-auto","chip"],[1,"bi","bi-caret-right","my-auto",2,"font-size","20px !important"],[1,"bi","bi-flag","my-auto",2,"font-size","20px !important"],[1,"col-lg-5","mt-2"],["class","w-100 p-2",4,"ngIf"],[1,"w-100","p-2"],[1,"bi","bi-people","my-auto",2,"font-size","20px !important"],["class","d-flex mx-1","placement","right",3,"ngbTooltip","openDelay",4,"ngFor","ngForOf"],["placement","right",1,"d-flex","mx-1",3,"ngbTooltip","openDelay"],[4,"ngIf","ngIfElse"],["showIconProfile",""],[1,"mx-1","my-auto"],["class","profile-image my-2",3,"src","alt",4,"ngIf"],[1,"profile-image","my-2",3,"src","alt"],[1,"bi","bi-person-circle",2,"font-size","35px !important"],[1,"bi","bi-diagram-2","my-auto",2,"font-size","20px !important"],[1,"my-auto","mx-2","flex-grow-1"],["class","d-flex mx-2",4,"ngFor","ngForOf"],[1,"d-flex","mx-2"],[1,"flex-grow-1","my-auto"],[1,"w-100","d-flex","p-2","mt-2"],["type","button",1,"btn","btn-secondary","ms-auto","d-flex",3,"click"],[1,"bi","bi-sm","bi-pencil-fill","ms-auto","me-2"],[1,"my-auto"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-7","d-flex","flex-wrap"],["type","text","name","title","formControlName","title","maxlength","50","minlength","2","placeholder",""],["class","invalid-feedback",4,"ngIf"],["formControlName","description","maxlength","255","rows","3"],["type","number","step","0.5","formControlName","estimatedTime","min","0","value","0"],["type","text","name","importance","formControlName","importance","list","impDataLs","maxlength","50","placeholder",""],["id","impDataLs"],["type","text","formControlName","tags","maxlength","255","placeholder",""],["type","date","formControlName","dueStartDate","placeholder",""],["type","date","formControlName","dueEndDate","placeholder","","min",""],[1,"col-lg-5"],[3,"formGroup","ngSubmit"],[1,"flex-grow-1","form-group","me-3"],["type","text","name","username","list","usersInProject","formControlName","username","maxlength","30","minlength","2","placeholder","User"],["id","usersInProject"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","my-auto",3,"disabled"],["class","d-flex mx-2 my-3",4,"ngFor","ngForOf"],[1,"mb-3",3,"formGroup","ngSubmit"],["formControlName","children"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-12","form-group","d-flex","flex-row-reverse","mt-3"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mx-2","my-3"],[1,"flex-grow-1","center","m-text"],["placement","right",1,"nav-link",3,"ngbTooltip","openDelay","click"],[1,"bi","bi-sm","bi-trash-fill"],["alt","Profile image",1,"profile-image","me-3","my-auto",3,"src"],[1,"bi","bi-person-circle","me-3",2,"font-size","35px !important"],[3,"value"]],template:function(e,r){1&e&&($(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),pe(7),z(),$(8,"div",7),Ee(9,"em",8),z()(),he(10,Vse,2,1,"div",9),he(11,iae,18,12,"div",10),he(12,Eae,88,44,"div",10),z()()()()()),2&e&&(W(7),Fi(null!=r.selectedTask?r.isEditing?"Update task":"#"+r.selectedTask.number+": "+r.selectedTask.title:"New task"),W(3),te("ngIf",r.containError),W(1),te("ngIf",null!=r.selectedTask&&!r.isEditing),W(1),te("ngIf",null==r.selectedTask||r.isEditable&&r.isEditing))},directives:[Oi,hr,oc,Zl,Ql,va,_a,Xl,Wa,Ya,Cu,j_,$_,Ua,za,Jl],styles:[""]}),t})();const Aae=["gantt_here"],Rae=["openTaskModal"];function Oae(t,n){if(1&t&&($(0,"option",15),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e),Ut("selected",e.id==r.projectSelectedId||null),W(1),wt(" ",e.name,"")}}function kae(t,n){if(1&t){const e=Wt();$(0,"div",11),Ee(1,"em",12),$(2,"select",13),tt("change",function(a){return Et(e),ve().loadProjectByIdEvent(a.target)}),he(3,Oae,2,4,"option",14),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.myProjects)}}function Pae(t,n){if(1&t&&($(0,"option",15),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e),Ut("selected",e.id==r.sprintSelectedId||null),W(1),ur(" #",e.number,": ",e.title,"")}}function Iae(t,n){if(1&t){const e=Wt();$(0,"div",11),Ee(1,"em",16),$(2,"select",13),tt("change",function(a){return Et(e),ve().loadSprintByIdEvent(a.target)}),he(3,Pae,2,5,"option",14),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.mySprints)}}function Mae(t,n){if(1&t){const e=Wt();$(0,"a",17),tt("click",function(){return Et(e),ve().addTask()}),Ee(1,"em",18),z()}2&t&&te("openDelay",300)}let Nae=(()=>{class t extends ah{constructor(e,r,a,d,h,m,S){super(e,r,a,d,h,m),this.ganttService=S,this.selectedKanbanColumnId=0}ngAfterViewInit(){this.loadTasks=!0,this.loadKanban=!0,this.loadMyProjects(),Au.gantt.init(this.ganttContainer.nativeElement),Au.gantt.config.sort=!0,Au.gantt.config.columns=[{name:"text",label:"Task name",width:"*",resize:!0},{name:"start_date",label:"Start",align:"center",resize:!0},{name:"end_date",label:"Finish",width:80,align:"center",resize:!0},{name:"duration",label:"Days",align:"center",resize:!0}],Au.gantt.attachEvent("onBeforeTaskUpdate",(e,r)=>{var a=this.getTaskById(e);if(null!=a){var d=new sv(a.id,a.title,a.description,a.estimatedTime,a.tags,a.importance,r.start_date,r.end_date,a.assignedUsers.map(h=>h.username),a.children.map(h=>h.id));this.kanbanService.updateKanbanTask(d).subscribe(h=>{console.log("Task with id "+e.toString()+" have been updated")},h=>{this.returnPrincipalError(h)})}},""),Au.gantt.attachEvent("onAfterLinkAdd",(e,r)=>{var a=this.getTaskById(r.source);if(null!=a){var d=a.children.map(m=>m.id);d.push(r.target);var h=new sv(a.id,a.title,a.description,a.estimatedTime,a.tags,a.importance,a.dueStartDate,a.dueEndDate,a.assignedUsers.map(m=>m.username),d);this.kanbanService.updateKanbanTask(h).subscribe(m=>{console.log("Link with source task id "+r.source.toString()+" and target task id "+r.target.toString()+" created")},m=>{this.returnPrincipalError(m)})}},""),Au.gantt.attachEvent("onAfterLinkDelete",(e,r)=>{var a=this.getTaskById(r.source);if(null!=a){var d=a.children.map(S=>S.id),h=d.indexOf(r.target);d.splice(h,1);var m=new sv(a.id,a.title,a.description,a.estimatedTime,a.tags,a.importance,a.dueStartDate,a.dueEndDate,a.assignedUsers.map(S=>S.username),d);this.kanbanService.updateKanbanTask(m).subscribe(S=>{console.log("Link with source task id "+r.source.toString()+" and target task id "+r.target.toString()+" deleted")},S=>{this.returnPrincipalError(S)})}},""),Au.gantt.attachEvent("onTaskDblClick",(e,r)=>{this.selectedTask=this.getTaskById(e),this.openTaskModal.nativeElement.click()},"")}addTask(){this.selectedTask=void 0,this.kanban&&0!=this.kanban.length&&(this.selectedKanbanColumnId=this.kanban[0].id),this.openTaskModal.nativeElement.click()}getTaskById(e){return this.myTasks.find(r=>r.id==e)}loadAfterTask(){var e=this.ganttService.getGanttTasks(this.myTasks),r=this.ganttService.getGanttLinks(this.myTasks);Au.gantt.parse({data:e,links:r})}}return t.\u0275fac=function(e){return new(e||t)(Se(xu),Se(ac),Se(Su),Se(Tu),Se(Ka),Se(Ls),Se(Gse))},t.\u0275cmp=tn({type:t,selectors:[["iMan-gantt"]],viewQuery:function(e,r){if(1&e&&(Ki(Aae,5),Ki(Rae,5)),2&e){let a;dn(a=hn())&&(r.ganttContainer=a.first),dn(a=hn())&&(r.openTaskModal=a.first)}},features:[Bn],decls:12,vars:8,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add column","placement","left","data-bs-toggle","modal",3,"openDelay","click",4,"ngIf"],[2,"height","2px"],[1,"gantt-chart"],["gantt_here",""],["hidden","","type","button","data-bs-target","#taskModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openTaskModal",""],[3,"isEditable","selectedTask","selectedKanbanColumnId","usersInProject","myTasks"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Sprint","placement","bottom",1,"bi","bi-md","bi-arrow-repeat","me-2",3,"openDelay"],["ngbTooltip","Add column","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-plus-lg"]],template:function(e,r){1&e&&($(0,"div",0)(1,"div",1),he(2,kae,4,2,"div",2),he(3,Iae,4,2,"div",2),z(),$(4,"div",3),he(5,Mae,2,1,"a",4),z()(),Ee(6,"hr",5)(7,"div",6,7)(9,"button",8,9)(11,"task-modal-view",10)),2&e&&(W(2),te("ngIf",r.myProjects&&0!=r.myProjects.length),W(1),te("ngIf",r.mySprints&&0!=r.mySprints.length),W(2),te("ngIf",r.adminAccess),W(6),te("isEditable",r.memberAccess)("selectedTask",r.selectedTask)("selectedKanbanColumnId",r.selectedKanbanColumnId)("usersInProject",r.usersInProject)("myTasks",r.myTasks))},directives:[Oi,oc,hr,Ua,za,Dae],styles:['.gridHoverStyle,.gridSelection,.timelineSelection{background-color:#fff3a1}.gantt_grid_scale .gantt_grid_head_cell{color:#a6a6a6;border-top:none!important;border-right:none!important}.gantt_grid_data .gantt_cell{border-right:none;color:#454545}.gantt_task_link .gantt_link_arrow_right{border-width:6px;margin-top:-3px}.gantt_task_link .gantt_link_arrow_left{border-width:6px;margin-left:-6px;margin-top:-3px}.gantt_task_link .gantt_link_arrow_down,.gantt_task_link .gantt_link_arrow_up{border-width:6px}.gantt_task_line .gantt_task_progress_drag{bottom:-4px;height:10px;margin-left:-8px;width:16px}.chartHeaderBg{background-color:#fff}.gantt_task .gantt_task_scale .gantt_scale_cell{color:#a6a6a6;border-right:1px solid #ebebeb}.gantt_row.gantt_project,.gantt_row.odd.gantt_project{background-color:#edffef}.gantt_task_row.gantt_project,.gantt_task_row.odd.gantt_project{background-color:#f5fff6}.gantt_task_line.gantt_project{background-color:#65c16f;border:1px solid #3c9445}.gantt_task_line.gantt_project .gantt_task_progress{background-color:#46ad51}.buttonBg{background:#fff}.gantt_cal_light .gantt_btn_set{margin:5px 10px}.gantt_btn_set.gantt_cancel_btn_set{background:#fff;color:#454545;border:1px solid #cecece}.gantt_btn_set.gantt_save_btn_set{background:#3db9d3;text-shadow:0 -1px 0 #248a9f;color:#fff}.gantt_btn_set.gantt_delete_btn_set{text-shadow:0 -1px 0 #6f6f6f;background:#ec8e00;text-shadow:0 -1px 0 #a60;color:#fff}.gantt_cal_light_wide{padding-left:0!important;padding-right:0!important}.gantt_cal_light_wide .gantt_cal_larea{border-left:none!important;border-right:none!important}.gantt_popup_button.gantt_ok_button{background:#3db9d3;text-shadow:0 -1px 0 #248a9f;color:#fff;font-weight:700;border-width:0}.gantt_popup_button.gantt_cancel_button{font-weight:700;color:#454544}.gantt_popup_title{background-color:#fff}.gantt_popup_shadow{box-shadow:3px 3px 3px #00000012}.gantt_qi_big_icon.icon_edit{color:#454545;background:#fff}.gantt_qi_big_icon.icon_delete{text-shadow:0 -1px 0 #a60;background:#ec8e00;color:#fff;border-width:0}.gantt_tooltip{box-shadow:3px 3px 3px #00000012;border-left:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);font-size:8pt;color:#454545}.gantt_container,.gantt_tooltip{background-color:#fff;font-family:Arial}.gantt_container{font-size:13px;border:1px solid #cecece;position:relative;white-space:nowrap;overflow-x:hidden;overflow-y:hidden}.gantt_touch_active{overscroll-behavior:none}.gantt_task_scroll{overflow-x:scroll}.gantt_grid,.gantt_task{position:relative;overflow-x:hidden;overflow-y:hidden;display:inline-block;vertical-align:top}.gantt_grid_scale,.gantt_task_scale{color:#6b6b6b;font-size:12px;border-bottom:1px solid #cecece;box-sizing:border-box}.gantt_grid_scale,.gantt_task_scale,.gantt_task_vscroll{background-color:#fff}.gantt_scale_line{box-sizing:border-box;-moz-box-sizing:border-box;border-top:1px solid #cecece}.gantt_scale_line:first-child{border-top:none}.gantt_grid_head_cell{display:inline-block;vertical-align:top;border-right:1px solid #cecece;text-align:center;position:relative;cursor:default;height:100%;box-sizing:border-box;-moz-box-sizing:border-box;line-height:33px;-webkit-user-select:none;user-select:none;overflow:hidden}.gantt_scale_line{clear:both}.gantt_grid_data{width:100%;overflow:hidden;position:relative}.gantt_row{position:relative;-webkit-user-select:none;-moz-user-select:none;-moz-user-select:-moz-none}.gantt_add,.gantt_grid_head_add{width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTQ3MjMyMENDNkI0MTFFMjk4MTI5QTg3MDhFNDVDQTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTQ3MjMyMERDNkI0MTFFMjk4MTI5QTg3MDhFNDVDQTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NDcyMzIwQUM2QjQxMUUyOTgxMjlBODcwOEU0NUNBOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1NDcyMzIwQkM2QjQxMUUyOTgxMjlBODcwOEU0NUNBOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PshZT8UAAABbSURBVHjaYrTdeZmBEsCER+4wEP+H4sPkGGCDg020ARR7gb4GIAcYDKMDdPnDyAbYkGG5DVW9cIQMvUdBBAuUY4vDz8iAcZinA2zgCHqAYQMseAywJcYFAAEGAM+UFGuohFczAAAAAElFTkSuQmCC);background-position:50%;background-repeat:no-repeat;cursor:pointer;position:relative;-moz-opacity:.3;opacity:.3}.gantt_grid_head_cell.gantt_grid_head_add{-moz-opacity:.6;opacity:.6;top:0}.gantt_grid_head_cell.gantt_grid_head_add:hover{-moz-opacity:1;opacity:1}.gantt_grid_data .gantt_row.odd:hover,.gantt_grid_data .gantt_row:hover{background-color:#fff3a1}.gantt_grid_data .gantt_row.odd:hover .gantt_add,.gantt_grid_data .gantt_row:hover .gantt_add{-moz-opacity:1;opacity:1}.gantt_row,.gantt_task_row{border-bottom:1px solid #ebebeb;background-color:#fff}.gantt_row.odd,.gantt_task_row.odd{background-color:#fff}.gantt_cell,.gantt_grid_head_cell,.gantt_row,.gantt_scale_cell,.gantt_task_cell,.gantt_task_row{box-sizing:border-box;-moz-box-sizing:border-box}.gantt_grid_head_cell,.gantt_scale_cell{line-height:inherit}.gantt_grid_scale .gantt_grid_column_resize_wrap{cursor:col-resize;position:absolute;width:13px;margin-left:-7px}.gantt_grid_column_resize_wrap .gantt_grid_column_resize{background-color:#cecece;height:100%;width:1px;margin:0 auto}.gantt_task_grid_row_resize_wrap{cursor:row-resize;position:absolute;height:13px;margin-top:-7px;left:0;width:100%}.gantt_task_grid_row_resize_wrap .gantt_task_grid_row_resize{background-color:#ebebeb;top:6px;height:1px;width:100%;margin:0 auto;position:relative}.gantt_drag_marker.gantt_grid_resize_area,.gantt_drag_marker.gantt_row_grid_resize_area{background-color:#e8e8e880;height:100%;width:100%;box-sizing:border-box}.gantt_drag_marker.gantt_grid_resize_area{border-left:1px solid #cecece;border-right:1px solid #cecece}.gantt_drag_marker.gantt_row_grid_resize_area{border-top:1px solid #cecece;border-bottom:1px solid #cecece;pointer-events:none}.gantt_row{display:flex}.gantt_row>div{flex-shrink:0;flex-grow:0}.gantt_cell{vertical-align:top;border-right:1px solid #ebebeb;padding-left:6px;padding-right:6px;height:100%;overflow:hidden;white-space:nowrap;font-size:13px}.gantt_cell_tree{display:flex;flex-wrap:nowrap}.gantt_grid_data .gantt_last_cell,.gantt_grid_scale .gantt_last_cell,.gantt_task .gantt_task_scale .gantt_scale_cell.gantt_last_cell,.gantt_task_bg .gantt_last_cell{border-right-width:0}.gantt_task .gantt_task_scale .gantt_scale_cell.gantt_last_cell{border-right-width:1px}.gantt_task_bg{overflow:hidden}.gantt_scale_cell{display:inline-block;white-space:nowrap;overflow:hidden;border-right:1px solid #cecece;text-align:center;height:100%}.gantt_task_cell{display:inline-block;height:100%;border-right:1px solid #ebebeb}.gantt_layout_cell.gantt_ver_scroll{width:0;background-color:transparent;height:1px;overflow-x:hidden;overflow-y:scroll;position:absolute;right:0;z-index:1}.gantt_ver_scroll>div{width:1px;height:1px}.gantt_hor_scroll{height:0;background-color:transparent;width:100%;clear:both;overflow-x:scroll;overflow-y:hidden}.gantt_layout_cell .gantt_hor_scroll{position:absolute}.gantt_hor_scroll>div{width:5000px;height:1px}.gantt_tree_icon,.gantt_tree_indent{flex-grow:0;flex-shrink:0}.gantt_tree_indent{width:15px;height:100%}.gantt_tree_content,.gantt_tree_icon{vertical-align:top}.gantt_tree_icon{width:28px;height:100%;background-repeat:no-repeat;background-position:50%}.gantt_tree_content{height:100%;white-space:nowrap;min-width:0}.gantt_tree_icon.gantt_open{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAArklEQVQ4T2NkoBJgpJI5DEPAoFOnTv0/c+YMQR+bmJgwmJmZwX2E4bVp06b9j4yMZODg4MBp2I8fPxiWL1/OkJWVNUAGcXJyMnz//h3uQrJdRLFBIAPQAchlJLsIFuCMjIwM////B5sJMoRkg2CuIdtrQcHBDOxsbHBfCQgIMHz48AHO//nrF8O6tWsJR7+7uzsDIxMTznT0/98/hp07d+I3iGopm2DewKFg8OV+AJWkfRMrTobLAAAAAElFTkSuQmCC);width:18px;cursor:pointer}.gantt_tree_icon.gantt_close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAkUlEQVQ4T2NkoBJgpJI5DEPAoFOnTv0/c+YMQR+bmJgwmJmZwX2E4bVp06b9j4yMZODg4MBp2I8fPxiWL1/OkJWVNeIN4uTkxAin79+/M5AcRtgCHGQIyQbhijaiDQoKDmZgZ2PDGf0/f/1iWLd2LeHod3d3Z2BkYsJp0P9//xh27tyJ3yCqpWyCeQOHgsGX+wEZpW4T5LCxKwAAAABJRU5ErkJggg==);width:18px;cursor:pointer}.gantt_tree_icon.gantt_blank{width:18px}.gantt_tree_icon.gantt_folder_open{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAs0lEQVQ4T62T0Q2EIBBEpQlzuaaMsQoqooqLsSljbMLLmMxmUXBR4U+Qt7Mzi2sqLVeJ00SgEMKWAnvvzYLyAyHfT5sU2fXDJSwCAXK8MI0/UTkva7IIFJsg3NSwnKdFoKtAWOQ1CN7CEqeTotE5L7QyJhmBcklZM4ZgTiAr3iOU3kD93ppO5SkMjB1EeXdBWoSkRql3YeIRe+cGvktS056JR9wsmeBUkujCfNXWCPC8GugPqn5ii/hV+FoAAAAASUVORK5CYII=)}.gantt_tree_icon.gantt_folder_closed{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAfElEQVQ4T2NkoBJgpJI5DCgGTZ8+/T82gzMzMwlaCFcAM0RKQgyrI/0Dg/EahmIQyBB0DRvXr4W78tmLV1gtAbmYoEEgnciG4QpTogzCFyEwSyg2CBS2oCAZNQh3cA+hMAJ5AlcKxuVBlOgnNgVjMwyUrQjmamKLGaoZBAAOTFyLnFFW4wAAAABJRU5ErkJggg==)}.gantt_tree_icon.gantt_file{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAeElEQVQ4T2NkoBJgRDZn+vTp/wmZm5mZiaIHph7DICkJMUJmMfgHBmMYhtUgbAo3rl+L4lp0NUQbBPI2umuRDaPIIFAYwAyjv0HoMQALM5JdhG4QLMxGDcKdyIdoGIE89OzFK4KZF5Rl8EY/QROQFGA1iBQD0NUCAJVjcxO0naAQAAAAAElFTkSuQmCC)}.gantt_grid_head_cell .gantt_sort{position:absolute;right:5px;top:8px;width:7px;height:13px;background-repeat:no-repeat;background-position:50%}.gantt_grid_head_cell .gantt_sort.gantt_asc{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAANCAYAAABlyXS1AAAARUlEQVR4nGNgQAKGxib/GbABkIS7b8B/DAUwCRiGK0CXwFBAb1DfP/U/LszwHwi2X7qFgUEArBtdAVwCBmAKMCSQFSDzAWXXaOHsXeqkAAAAAElFTkSuQmCC)}.gantt_grid_head_cell .gantt_sort.gantt_desc{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAANCAYAAABlyXS1AAAARUlEQVR42mNgQAL1/VP/M2ADIIntF2/9x1AAlrh0C47hCmA60DFYwX88gIFGwNDY5D8uDFbg7hvwHx2jmIBTAlkB0e4BAEjlaNtBWJPnAAAAAElFTkSuQmCC)}.gantt_inserted,.gantt_updated{font-weight:700}.gantt_deleted{text-decoration:line-through}.gantt_invalid{background-color:#ffe0e0}.gantt_error{color:red}.gantt_status{right:1px;padding:5px 10px;background:hsla(0,0%,61%,.1);position:absolute;top:1px;transition:opacity .2s;opacity:0}.gantt_status.gantt_status_visible{opacity:1}#gantt_ajax_dots span{transition:opacity .2s;background-repeat:no-repeat;opacity:0}#gantt_ajax_dots span.gantt_dot_visible{opacity:1}.gantt_column_drag_marker{border:1px solid #cecece;opacity:.8}.gantt_grid_head_cell_dragged{border:1px solid #cecece;opacity:.3}.gantt_grid_target_marker{position:absolute;top:0;width:2px;height:100%;background-color:#ffa011;transform:translate(-1px)}.gantt_grid_target_marker:after,.gantt_grid_target_marker:before{display:block;content:"";position:absolute;left:-5px;width:0;height:0;border:6px solid transparent}.gantt_grid_target_marker:before{border-top-color:#ffa011}.gantt_grid_target_marker:after{bottom:0;border-bottom-color:#ffa011}.gantt_message_area{position:fixed;right:5px;width:250px;z-index:1000}.gantt-info{min-width:120px;padding:4px 4px 4px 20px;font-family:Arial;z-index:10000;margin:5px 5px 10px;transition:all .5s ease}.gantt-info.hidden{height:0;padding:0;border-width:0;margin:0;overflow:hidden}.gantt_modal_box{overflow:hidden;display:inline-block;min-width:250px;width:250px;text-align:center;position:fixed;z-index:20000;box-shadow:3px 3px 3px #00000012;font-family:Arial;border-radius:6px;border:1px solid #cecece;background:#fff}.gantt_popup_title{border-top-left-radius:6px;border-top-right-radius:6px;border-width:0}.gantt_button,.gantt_popup_button{border:1px solid #cecece;height:30px;line-height:30px;display:inline-block;margin:0 5px;border-radius:4px;background:#fff}.gantt-info,.gantt_button,.gantt_popup_button{user-select:none;-webkit-user-select:none;-moz-user-select:-moz-none;cursor:pointer}.gantt_popup_text{overflow:hidden}.gantt_popup_controls{border-radius:6px;padding:10px}.gantt_popup_button{min-width:100px}div.dhx_modal_cover{background-color:#000;cursor:default;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=20);opacity:.2;position:fixed;z-index:19999;left:0;top:0;width:100%;height:100%;border:none;zoom:1}.gantt-info img,.gantt_modal_box img{float:left;margin-right:20px}.gantt-alert-error,.gantt-confirm-error{border:1px solid red}.gantt_button input,.gantt_popup_button div{border-radius:4px;font-size:14px;box-sizing:content-box;padding:0;margin:0;vertical-align:top}.gantt_popup_title{border-bottom:1px solid #cecece;height:40px;line-height:40px;font-size:20px}.gantt_popup_text{margin:15px 15px 5px;font-size:14px;color:#000;min-height:30px;border-radius:6px}.gantt-error,.gantt-info{font-size:14px;color:#000;box-shadow:3px 3px 3px #00000012;padding:0;background-color:#fff;border-radius:3px;border:1px solid #fff}.gantt-info div{padding:5px 10px;background-color:#fff;border-radius:3px;border:1px solid #cecece}.gantt-error{background-color:#d81b1b;border:1px solid #ff3c3c}.gantt-error div{background-color:#d81b1b;border:1px solid #940000;color:#fff}.gantt-warning{background-color:#ff9000;border:1px solid #ffa633}.gantt-warning div{background-color:#ff9000;border:1px solid #b36500;color:#fff}.gantt_data_area div,.gantt_grid div{-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.gantt_data_area{position:relative;overflow-x:hidden;overflow-y:hidden;-webkit-user-select:none;user-select:none}.gantt_links_area{position:absolute;left:0;top:0}.gantt_side_content,.gantt_task_content,.gantt_task_progress{line-height:inherit;overflow:hidden;height:100%}.gantt_task_content{font-size:12px;color:#fff;width:100%;top:0;cursor:pointer;position:absolute;white-space:nowrap;text-align:center}.gantt_task_progress{text-align:center;z-index:0;background:#299cb4}.gantt_task_progress_wrapper{border-radius:inherit;position:relative;width:100%;height:100%;overflow:hidden}.gantt_task_line{border-radius:2px;position:absolute;box-sizing:border-box;background-color:#3db9d3;border:1px solid #2898b0;-webkit-user-select:none;-moz-user-select:none;-moz-user-select:-moz-none}.gantt_task_line.gantt_drag_move div{cursor:move}.gantt_touch_move,.gantt_touch_progress .gantt_touch_resize{transform:scale(1.02,1.1);transform-origin:50%}.gantt_touch_progress .gantt_task_progress_drag,.gantt_touch_resize .gantt_task_drag{transform:scaleY(1.3);transform-origin:50%}.gantt_side_content{position:absolute;white-space:nowrap;color:#6e6e6e;top:0;font-size:11px}.gantt_side_content.gantt_left{right:100%;padding-right:20px}.gantt_side_content.gantt_right{left:100%;padding-left:20px}.gantt_side_content.gantt_link_crossing{bottom:8.75px;top:auto}.gantt_link_arrow,.gantt_task_link .gantt_line_wrapper{position:absolute;cursor:pointer}.gantt_line_wrapper div{background-color:#ffa011}.gantt_task_link:hover .gantt_line_wrapper div{box-shadow:0 0 5px #ffa011}.gantt_task_link div.gantt_link_arrow{background-color:transparent;border-style:solid;width:0;height:0}.gantt_link_control{position:absolute;width:20px;top:0}.gantt_link_control div{display:none;cursor:pointer;box-sizing:border-box;position:relative;top:50%;margin-top:-7.5px;vertical-align:middle;border:1px solid #929292;border-radius:6.5px;height:13px;width:13px;background-color:#f0f0f0}.gantt_link_control.task_right div.gantt_link_point{margin-left:7px}.gantt_link_control div:hover{background-color:#fff}.gantt_link_control.task_left{left:-20px}.gantt_link_control.task_right{right:-20px}.gantt_link_target .gantt_link_control div,.gantt_task_line.gantt_drag_move .gantt_link_control div,.gantt_task_line.gantt_drag_move .gantt_task_drag,.gantt_task_line.gantt_drag_move .gantt_task_progress_drag,.gantt_task_line.gantt_drag_progress .gantt_link_control div,.gantt_task_line.gantt_drag_progress .gantt_task_drag,.gantt_task_line.gantt_drag_progress .gantt_task_progress_drag,.gantt_task_line.gantt_drag_resize .gantt_link_control div,.gantt_task_line.gantt_drag_resize .gantt_task_drag,.gantt_task_line.gantt_drag_resize .gantt_task_progress_drag,.gantt_task_line.gantt_selected .gantt_link_control div,.gantt_task_line.gantt_selected .gantt_task_drag,.gantt_task_line.gantt_selected .gantt_task_progress_drag,.gantt_task_line:hover .gantt_link_control div,.gantt_task_line:hover .gantt_task_drag,.gantt_task_line:hover .gantt_task_progress_drag{display:block}.gantt_link_source,.gantt_link_target{box-shadow:0 0 3px #3db9d3}.gantt_link_target.link_finish_allow,.gantt_link_target.link_start_allow{box-shadow:0 0 3px #ffbf5e}.gantt_link_target.link_finish_deny,.gantt_link_target.link_start_deny{box-shadow:0 0 3px #e87e7b}.link_finish_allow .gantt_link_control.task_end_date div,.link_start_allow .gantt_link_control.task_start_date div{background-color:#ffbf5e;border-color:#ffa011}.link_finish_deny .gantt_link_control.task_end_date div,.link_start_deny .gantt_link_control.task_start_date div{background-color:#e87e7b;border-color:#dd3e3a}.gantt_link_arrow_right{border-width:4px 0 4px 6px;border-top-color:transparent!important;border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:#ffa011}.gantt_link_arrow_left{border-width:4px 6px 4px 0;margin-top:-1px;border-top-color:transparent!important;border-right-color:#ffa011;border-bottom-color:transparent!important;border-left-color:transparent!important}.gantt_link_arrow_up{border-width:0 4px 6px;border-color:transparent transparent #ffa011;border-top-color:transparent!important;border-right-color:transparent!important;border-bottom-color:#ffa011;border-left-color:transparent!important}.gantt_link_arrow_down{border-width:4px 6px 0 4px;border-top-color:#ffa011;border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.gantt_task_drag,.gantt_task_progress_drag{cursor:ew-resize;display:none;position:absolute}.gantt_task_drag.task_right{cursor:e-resize}.gantt_task_drag.task_left{cursor:w-resize}.gantt_task_drag{height:100%;width:8px;z-index:1;top:-1px}.gantt_task_drag.task_left{left:-7px}.gantt_task_drag.task_right{right:-7px}.gantt_task_progress_drag{height:8px;width:8px;bottom:-4px;margin-left:-4px;background-position:bottom;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkY3Rjk0RUVDMkYzMTFFMkI1OThEQTA3ODU0OTkzMEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkY3Rjk0RUZDMkYzMTFFMkI1OThEQTA3ODU0OTkzMEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRjdGOTRFQ0MyRjMxMUUyQjU5OERBMDc4NTQ5OTMwQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRjdGOTRFREMyRjMxMUUyQjU5OERBMDc4NTQ5OTMwQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PobPBzIAAADkSURBVHjaYpk2bRoDDsAExL1QdjEQ/8OmiAWHZk4gXqymqhQM4ty6fU8OSMUA8XdiDBAB4k0a6iqWRga6EKcwMQXduHlnL5DpB8Rv0J2JDFSA+JiOtgZcMwiA2CAxkBxUDVYDLEAKgIpV9XQ0MZwFEgPJAZnHoWpRDAgC4n2W5saiQKfjClQGkBxQDciL+6B6wAbkA/EqJwdrTkUFOQZCAKQGpBbIXA3SCzJggo+XK7OEuBgDsQCkFqgHrBfsBT5eHgZSAUwP2IBfv36TbABMDygdtK1Zv6UESLORaAbIhG6AAAMAKN8wE24DXWcAAAAASUVORK5CYII=);background-repeat:no-repeat;z-index:1}.gantt_task_progress_drag:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVQoz6WMPW7CQBgFJxZaiZ60qcgdwjVMmzu8gpwhDULabXyBdHAGuzRHivQiQZovigS2+Jtu95t5T03TMITtCtjEc5VSOgx5k5F4CnxJWgKUUl5sv6eUvk/daiCeAe1fDCCpBtq4jQ/YngO9pMWpGH99OOcDtt8ifmWEuO3D/R+wXQOdpGcuIGkGdNFQ2RawlTTlSsLd2RY55+O95JyPFQ/y8MAE+CylfADpxvYHWP8CXj+JR4wdKHYAAAAASUVORK5CYII=)}.gantt_link_tooltip{box-shadow:3px 3px 3px #888;background-color:#fff;border-left:1px dotted #cecece;border-top:1px dotted #cecece;font-family:Tahoma;font-size:8pt;color:#444;padding:6px;line-height:20px}.gantt_link_direction{height:0;border:0 none #ffa011;border-bottom-style:dashed;border-bottom-width:2px;transform-origin:0 0;-ms-transform-origin:0 0;-webkit-transform-origin:0 0;z-index:2;margin-left:1px;position:absolute}.gantt_grid_data .gantt_row.gantt_selected,.gantt_grid_data .gantt_row.odd.gantt_selected,.gantt_task_row.gantt_selected{background-color:#fff3a1}.gantt_task_row.gantt_selected .gantt_task_cell{border-right-color:#ffec6e}.gantt_task_line.gantt_selected{box-shadow:0 0 5px #299cb4}.gantt_task_line.gantt_project.gantt_selected{box-shadow:0 0 5px #46ad51}.gantt_task_line.gantt_milestone{visibility:hidden;background-color:#d33daf;border:0 solid #61164f;box-sizing:content-box;-moz-box-sizing:content-box}.gantt_task_line.gantt_milestone div{visibility:visible}.gantt_task_line.gantt_milestone .gantt_task_content{background:inherit;border:inherit;border-width:1px;border-radius:inherit;box-sizing:border-box;-moz-box-sizing:border-box;transform:rotate(45deg)}.gantt_task_line.gantt_task_inline_color{border-color:#999}.gantt_task_line.gantt_task_inline_color .gantt_task_progress{background-color:#363636;opacity:.2}.gantt_task_line.gantt_task_inline_color.gantt_project.gantt_selected,.gantt_task_line.gantt_task_inline_color.gantt_selected,.gantt_task_link.gantt_link_inline_color:hover .gantt_line_wrapper div{box-shadow:0 0 5px #999}.gantt_critical_task{background-color:#e63030;border-color:#9d3a3a}.gantt_critical_task .gantt_task_progress{background-color:#0006}.gantt_critical_link .gantt_line_wrapper>div{background-color:#e63030}.gantt_critical_link .gantt_link_arrow{border-color:#e63030}.gantt_btn_set:focus,.gantt_cell:focus,.gantt_grid_head_cell:focus,.gantt_popup_button:focus,.gantt_qi_big_icon:focus,.gantt_row:focus{box-shadow:inset 0 0 1px 1px #4d90fe}.gantt_split_parent,.gantt_split_subproject{opacity:.1;pointer-events:none}.gantt_rollup_child .gantt_link_control,.gantt_rollup_child:hover .gantt_link_control{display:none}.gantt_unselectable,.gantt_unselectable div{-webkit-user-select:none;-moz-user-select:none;-moz-user-select:-moz-none}.gantt_cal_light{-webkit-tap-highlight-color:transparent;background:#fff;border-radius:6px;font-family:Arial;font-size:13px;border:1px solid #cecece;color:#6b6b6b;font-size:12px;position:absolute;z-index:10001;width:550px;height:250px;box-shadow:3px 3px 3px #00000012}.gantt_cal_light_wide{width:650px}.gantt_cal_light select{font-family:Arial;border:1px solid #cecece;font-size:13px;padding:2px;margin:0}.gantt_cal_ltitle{padding:7px 10px;overflow:hidden;-webkit-border-top-left-radius:6px;-webkit-border-bottom-left-radius:0;-webkit-border-top-right-radius:6px;-webkit-border-bottom-right-radius:0;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:0;border-radius:6px 6px 0 0}.gantt_cal_ltitle,.gantt_cal_ltitle span{white-space:nowrap}.gantt_cal_lsection{color:#727272;font-weight:700;padding:12px 0 5px 10px}.gantt_cal_lsection .gantt_fullday{float:right;margin-right:5px;font-size:12px;font-weight:400;line-height:20px;vertical-align:top;cursor:pointer}.gantt_cal_lsection{font-size:13px}.gantt_cal_ltext{padding:2px 10px;overflow:hidden}.gantt_cal_ltext textarea{overflow-y:auto;overflow-x:hidden;font-family:Arial;font-size:13px;box-sizing:border-box;border:1px solid #cecece;height:100%;width:100%;outline:none!important;resize:none}.gantt_section_constraint [data-constraint-time-select]{margin-left:20px}.gantt_time{font-weight:700}.gantt_cal_light .gantt_title{padding-left:10px}.gantt_cal_larea{border:1px solid #cecece;border-left:none;border-right:none;background-color:#fff;overflow:hidden;height:1px}.gantt_btn_set{margin:10px 7px 5px 10px;padding:5px 15px 5px 10px;float:left;border-radius:4px;border:0 solid #cecece;height:32px;font-weight:700;background:#fff;box-sizing:border-box;cursor:pointer}.gantt_hidden{display:none}.gantt_btn_set div{float:left;font-size:13px;height:22px;line-height:22px;background-repeat:no-repeat;vertical-align:middle}.gantt_save_btn{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTk1OUU5RDFDMzA0MTFFMkExMUZBQTdDNDAzOUE5RjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTk1OUU5RDJDMzA0MTFFMkExMUZBQTdDNDAzOUE5RjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxOTU5RTlDRkMzMDQxMUUyQTExRkFBN0M0MDM5QTlGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxOTU5RTlEMEMzMDQxMUUyQTExRkFBN0M0MDM5QTlGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjDroXYAAAEXSURBVHjaYvz//z8DJYCRUgPIAUxAbAnEHiAHMIBcQCwGaRYXF3e6evXqoffv39/dv38/CymaGSUkJBzv3LlzCsj///fv3wdAihkkIQnEvkAshU8zLy+v7a1bt06ANP/79+87kDIAy505cybq06dPr3p7ezuwGQLTfOPGjWP/ESAZLg8kPKBO+g01RBJNszWyZqC6uSgWgIg/f/4shxnS2dnZBjMEqNkSFGBImi8CKTYMA4BYCGjIczRDHC5dunQQSfN7IKWI4UUkjjdMMdCwnw8ePLjwHxV4Yw1gZA5Q47z/2EELzhhCE+ABGvIQWSeQvwcU38QaAML2wHj+C/X3MyAlijeB4ZBoBOIPQGxJKIVSnBsBAgwABddBclWfcZUAAAAASUVORK5CYII=);margin-top:2px;width:21px}.gantt_cancel_btn{margin-top:2px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDkzMDA3MzlDMzA0MTFFMjg2QTVFMzFEQzgwRkJERDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDkzMDA3M0FDMzA0MTFFMjg2QTVFMzFEQzgwRkJERDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowOTMwMDczN0MzMDQxMUUyODZBNUUzMURDODBGQkRENiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTMwMDczOEMzMDQxMUUyODZBNUUzMURDODBGQkRENiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmYuYOUAAAEdSURBVHjaYvz//z8DJYAFXWDlypU8QKoIiD2A2AwqfAqIdwBxX3h4+Bdk9YzILgBqtgdS84FYEYeF94E4EWjIQZgAE5LmQCB1AKoZZKMPEAtAMYh9GSp3AKjWD8UFQAEhIPshEIOc3wHENUBb/qJ57SyQMoJyPwKxElDNO1gYFEE17wMKVmIJlzNQzeegrjaA6qmBecEbSvfh0GwMxGeBhoPoemQ9MAO0kEIbl2YTqPAFKK2IbMB3AjabYIkRZmQD7kNpMyI0G0PpO8gGbIUFJj7NQDk2INWIrIcJKfBAKcwJqvkcDs0TgFgXGo19KCkRmpDWQdWDEk0NUoCBoq0FqhkE/IEWbKJKUmZEz43QzFSKIzN1481M5ACAAAMAlfl/lCwRpagAAAAASUVORK5CYII=);width:20px}.gantt_delete_btn{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjFENzI3NUNDMzA0MTFFMjhBNjJGQTc3MUIyQzYzNEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjFENzI3NURDMzA0MTFFMjhBNjJGQTc3MUIyQzYzNEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMUQ3Mjc1QUMzMDQxMUUyOEE2MkZBNzcxQjJDNjM0RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyMUQ3Mjc1QkMzMDQxMUUyOEE2MkZBNzcxQjJDNjM0RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmUD0gAAAABvSURBVHjaYvz//z8DIyMjAxYQicReji4J0ofKQNP8HwmgGQbXB8IsWGwDSSwDuioKjY9uBthVjFAXYHUGAQA2kYmBUoAUBpGk0LAwgBvwH+YX4mkwptgLowYMRgOITUyYKRFIN/wnDjQgJySAAAMApryKzL8wjfUAAAAASUVORK5CYII=);margin-top:2px;width:20px}.gantt_cal_cover{width:100%;height:100%;position:fixed;z-index:10000;top:0;left:0;background-color:#000;opacity:.1;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=10)}.gantt_custom_button{padding:0 3px;font-family:Arial;font-size:13px;font-weight:400;margin-right:10px;margin-top:-5px;cursor:pointer;float:right;height:21px;width:90px;border:1px solid #cecece;text-align:center;border-radius:4px}.gantt_custom_button div{cursor:pointer;float:none;height:21px;line-height:21px;vertical-align:middle}.gantt_custom_button div:first-child{display:none}.gantt_cal_light_wide{width:580px;padding:2px 4px}.gantt_cal_light_wide .gantt_cal_larea{box-sizing:border-box;border:1px solid #cecece}.gantt_cal_light_wide .gantt_cal_lsection{border:0;float:left;text-align:right;width:80px;height:20px;padding:5px 10px 0 0}.gantt_cal_light_wide .gantt_wrap_section{position:relative;padding:10px 0;overflow:hidden;border-bottom:1px solid #ebebeb}.gantt_cal_light_wide .gantt_section_time{overflow:hidden;padding-top:2px!important;padding-right:0;height:20px!important}.gantt_cal_light_wide .gantt_cal_ltext{padding-right:0}.gantt_cal_light_wide .gantt_cal_larea{padding:0 10px;width:100%}.gantt_cal_light_wide .gantt_section_time{background:transparent}.gantt_cal_light_wide .gantt_cal_checkbox label{padding-left:0}.gantt_cal_light_wide .gantt_cal_lsection .gantt_fullday{float:none;margin-right:0;font-weight:700;cursor:pointer}.gantt_cal_light_wide .gantt_custom_button{position:absolute;top:0;right:0;margin-top:2px}.gantt_cal_light_wide .gantt_repeat_right{margin-right:55px}.gantt_cal_light_wide.gantt_cal_light_full{width:738px}.gantt_cal_wide_checkbox input{margin-top:8px;margin-left:14px}.gantt_cal_light input{font-size:13px}.gantt_section_time{background-color:#fff;white-space:nowrap;padding:2px 10px 5px;padding-top:2px!important}.gantt_section_time .gantt_time_selects{float:left;height:25px}.gantt_section_time .gantt_time_selects select{height:23px;padding:2px;border:1px solid #cecece}.gantt_duration{width:100px;height:23px;float:left;white-space:nowrap;margin-left:20px;line-height:23px}.gantt_duration .gantt_duration_dec,.gantt_duration .gantt_duration_inc,.gantt_duration .gantt_duration_value{box-sizing:border-box;text-align:center;vertical-align:top;height:100%;border:1px solid #cecece}.gantt_duration .gantt_duration_value{width:40px;padding:3px 4px;border-left-width:0;border-right-width:0}.gantt_duration .gantt_duration_value.gantt_duration_value_formatted{width:70px}.gantt_duration .gantt_duration_dec,.gantt_duration .gantt_duration_inc{width:20px;padding:1px;background:#fff}.gantt_duration .gantt_duration_dec{-moz-border-top-left-radius:4px;-moz-border-bottom-left-radius:4px;-webkit-border-top-left-radius:4px;-webkit-border-bottom-left-radius:4px;border-top-left-radius:4px;border-bottom-left-radius:4px}.gantt_duration .gantt_duration_inc{margin-right:4px;-moz-border-top-right-radius:4px;-moz-border-bottom-right-radius:4px;-webkit-border-top-right-radius:4px;-webkit-border-bottom-right-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px}.gantt_resources{max-height:150px;height:auto;overflow-y:auto}.gantt_resource_row{display:block;padding:10px 0;border-bottom:1px solid #ebebeb;cursor:pointer}.gantt_resource_row input[type=checkbox]:not(:checked),.gantt_resource_row input[type=checkbox]:not(:checked)~div{opacity:.5}.gantt_resource_toggle{vertical-align:middle}.gantt_resources_filter .gantt_resources_filter_input{padding:1px 2px;box-sizing:border-box}.gantt_resources_filter .switch_unsetted{vertical-align:middle}.gantt_resource_cell{display:inline-block}.gantt_resource_cell.gantt_resource_cell_checkbox{width:24px;max-width:24px;min-width:24px;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_label{width:40%;max-width:40%;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_value{width:30%;max-width:30%;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_value input,.gantt_resource_cell.gantt_resource_cell_value select{width:80%;vertical-align:middle;padding:1px 2px;box-sizing:border-box}.gantt_resource_cell.gantt_resource_cell_unit{width:10%;max-width:10%;vertical-align:middle}.gantt_resource_early_value{opacity:.8;font-size:.9em}.gantt_cal_quick_info{border:1px solid #cecece;border-radius:6px;position:absolute;z-index:300;box-shadow:3px 3px 3px #00000012;background-color:#fff;width:300px;transition:left .5s ease,right .5s;-moz-transition:left .5s ease,right .5s;-webkit-transition:left .5s ease,right .5s;-o-transition:left .5s ease,right .5s}.gantt_no_animate{transition:none;-moz-transition:none;-webkit-transition:none;-o-transition:none}.gantt_cal_quick_info.gantt_qi_left .gantt_qi_big_icon{float:right}.gantt_cal_qi_title{-webkit-border-top-left-radius:6px;-webkit-border-bottom-left-radius:0;-webkit-border-top-right-radius:6px;-webkit-border-bottom-right-radius:0;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:0;border-radius:6px 6px 0 0;padding:5px 0 8px 12px;color:#454545;background-color:#fff;border-bottom:1px solid #cecece}.gantt_cal_qi_tdate{font-size:14px;font-weight:700}.gantt_cal_qi_tcontent{font-size:13px}.gantt_cal_qi_content{padding:16px 8px;font-size:13px;color:#454545;overflow:hidden}.gantt_cal_qi_controls{-webkit-border-top-left-radius:0;-webkit-border-bottom-left-radius:6px;-webkit-border-top-right-radius:0;-webkit-border-bottom-right-radius:6px;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:6px;border-radius:0 0 6px 6px;padding-left:7px}.gantt_cal_qi_controls .gantt_menu_icon{margin-top:6px;background-repeat:no-repeat}.gantt_cal_qi_controls .gantt_menu_icon.icon_edit{width:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3QYFCjI5ZQj5bAAAAFNJREFUOMvt0zEOACAIA0DkwTymH8bJTRTKZGJXyaWEKPKTCQAH4Ls37cItcDUzsxHNDLZNhCq7Gt1wh9ErV7EjyGAhyGLphlnsClWuS32rn0czAV+vNGrM/LBtAAAAAElFTkSuQmCC)}.gantt_cal_qi_controls .gantt_menu_icon.icon_delete{width:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjFENzI3NUNDMzA0MTFFMjhBNjJGQTc3MUIyQzYzNEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjFENzI3NURDMzA0MTFFMjhBNjJGQTc3MUIyQzYzNEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMUQ3Mjc1QUMzMDQxMUUyOEE2MkZBNzcxQjJDNjM0RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyMUQ3Mjc1QkMzMDQxMUUyOEE2MkZBNzcxQjJDNjM0RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmUD0gAAAABvSURBVHjaYvz//z8DIyMjAxYQicReji4J0ofKQNP8HwmgGQbXB8IsWGwDSSwDuioKjY9uBthVjFAXYHUGAQA2kYmBUoAUBpGk0LAwgBvwH+YX4mkwptgLowYMRgOITUyYKRFIN/wnDjQgJySAAAMApryKzL8wjfUAAAAASUVORK5CYII=)}.gantt_qi_big_icon{font-size:13px;border-radius:4px;font-weight:700;background:#fff;margin:5px 9px 8px 0;min-width:60px;line-height:32px;vertical-align:middle;padding:0 10px 0 5px;cursor:pointer;border:1px solid #cecece}.gantt_cal_qi_controls div{float:left;height:32px;text-align:center;line-height:32px}.gantt_tooltip{padding:10px;position:absolute;z-index:50;white-space:nowrap}.gantt_resource_marker{position:absolute;text-align:center;font-size:14px;color:#fff}.gantt_resource_marker_ok{background:rgba(78,208,134,.75)}.gantt_resource_marker_overtime{background:hsla(0,100%,76%,.69)}.gantt_histogram_label{width:100%;height:100%;position:absolute;z-index:1;font-weight:700;font-size:13px}.gantt_histogram_fill{background-color:#299db433;width:100%;position:absolute;bottom:0}.gantt_histogram_hor_bar{height:1px;margin-top:-1px}.gantt_histogram_hor_bar,.gantt_histogram_vert_bar{position:absolute;background:#299db4;margin-left:-1px}.gantt_histogram_vert_bar{width:1px}.gantt_histogram_cell{position:absolute;text-align:center;font-size:13px;color:#000}.gantt_marker{height:100%;width:2px;top:0;position:absolute;text-align:center;background-color:#f006;box-sizing:border-box}.gantt_marker .gantt_marker_content{padding:5px;background:inherit;color:#fff;position:absolute;font-size:12px;line-height:12px;opacity:.8}.gantt_marker_area{position:absolute;top:0;left:0}.gantt_grid_editor_placeholder{position:absolute}.gantt_grid_editor_placeholder>div,.gantt_grid_editor_placeholder input,.gantt_grid_editor_placeholder select{width:100%;height:100%;box-sizing:border-box}.gantt_row_placeholder div{opacity:.5}.gantt_row_placeholder .gantt_add,.gantt_row_placeholder .gantt_file{display:none}.gantt_drag_marker.gantt_grid_dnd_marker{background-color:transparent;transition:all .1s ease}.gantt_grid_dnd_marker_line{height:4px;width:100%;background-color:#3498db}.gantt_grid_dnd_marker_line:before{background:#fff;width:12px;height:12px;box-sizing:border-box;border:3px solid #3498db;border-radius:6px;content:"";line-height:1px;display:block;position:absolute;margin-left:-11px;margin-top:-4px;pointer-events:none}.gantt_grid_dnd_marker_folder{height:100%;width:100%;position:absolute;pointer-events:none;box-sizing:border-box;box-shadow:inset 0 0 0 2px #3f98db;background:transparent}.gantt_overlay_area{display:none}.gantt_overlay,.gantt_overlay_area{position:absolute;height:inherit;width:inherit;top:0;left:0}.gantt_click_drag_rect{position:absolute;left:0;top:0;outline:1px solid #3f98db;background-color:#3498db4d}.gantt_timeline_move_available,.gantt_timeline_move_available *{cursor:move}.gantt_rtl .gantt_grid{text-align:right}.gantt_rtl .gantt_cell,.gantt_rtl .gantt_row{flex-direction:row-reverse}.gantt_layout_content{width:100%;overflow:auto;box-sizing:border-box}.gantt_layout_cell{position:relative;box-sizing:border-box}.gantt_layout_cell>.gantt_layout_header{background:#33aae8;color:#fff;font-size:17px;padding:5px 10px;box-sizing:border-box}.gantt_layout_header.collapsed_x{background:#a9a9a9}.gantt_layout_header.collapsed_x .gantt_header_arrow:before{content:"\\21e7"}.gantt_layout_header.collapsed_y{background:#a9a9a9}.gantt_layout_header.collapsed_y .gantt_header_arrow:before{content:"\\21e9"}.gantt_layout_header{cursor:pointer}.gantt_layout_header .gantt_header_arrow{float:right;text-align:right}.gantt_layout_header .gantt_header_arrow:before{content:"\\21e6"}.gantt_layout_header.vertical .gantt_header_arrow:before{content:"\\21e7"}.gantt_layout_outer_scroll_vertical .gantt_layout_content{overflow-y:hidden}.gantt_layout_outer_scroll_horizontal .gantt_layout_content{overflow-x:hidden}.gantt_layout_x>.gantt_layout_cell{display:inline-block;vertical-align:top}.gantt_layout_x{white-space:nowrap}.gantt_resizing{opacity:.7;background:#f2f2f2}.gantt_layout_cell_border_right.gantt_resizer{overflow:visible;border-right:0}.gantt_resizer{cursor:e-resize;position:relative}.gantt_resizer_y{cursor:n-resize}.gantt_resizer_stick{background:#33aae8;z-index:9999;position:absolute;top:0;width:100%}.gantt_resizer_x .gantt_resizer_x{position:absolute;width:20px;height:100%;margin-left:-10px;top:0;left:0;z-index:1}.gantt_resizer_y .gantt_resizer_y{position:absolute;height:20px;width:100%;top:-10px;left:0;z-index:1}.gantt_resizer_error{background:#cd5c5c!important}.gantt_layout_cell_border_left{border-left:1px solid #cecece}.gantt_layout_cell_border_right{border-right:1px solid #cecece}.gantt_layout_cell_border_top{border-top:1px solid #cecece}.gantt_layout_cell_border_bottom{border-bottom:1px solid #cecece}.gantt_layout_cell_border_transparent{border-color:transparent}.gantt_window{position:absolute;top:50%;left:50%;z-index:999999999;background:#fff}.gantt_window_content{position:relative}.gantt_window_content_header{background:#39c;color:#fff;height:33px;padding:10px 10px 0;border-bottom:2px solid #fff;position:relative}.gantt_window_content_header_text{padding-left:10%}.gantt_window_content_header_buttons{position:absolute;top:10px;right:10px}.gantt_window_content_header_buttons:hover{color:#000;cursor:pointer}.gantt_window_content_resizer{position:absolute;width:15px;height:15px;bottom:0;line-height:15px;right:-1px;text-align:center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUeAFjIAUwUshlpJDLSIhLGAAACQ4AFk79JaMAAAAASUVORK5CYII=);cursor:nw-resize;z-index:999}.gantt_window_content_frame{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.1);z-index:9999}.gantt_window_drag{cursor:pointer!important}.gantt_window_resizing{overflow:visible}.gantt_window_resizing_body{overflow:hidden!important}.gantt_window_modal{background:rgba(0,0,0,.1);z-index:9999;top:0;left:0;width:100%;height:100%;position:fixed}.gantt_cal_light,.gantt_cal_quick_info,.gantt_container,.gantt_message_area,.gantt_modal_box,.gantt_tooltip{text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.gantt_noselect{-webkit-user-select:none;user-select:none}.gantt_noselect .gantt_grid_data .gantt_row.odd:hover,.gantt_noselect .gantt_grid_data .gantt_row:hover{background-color:unset}.gantt_drag_marker{position:absolute;top:-1000px;left:-1000px;font-family:Arial;font-size:13px;z-index:1;white-space:nowrap}.gantt_drag_marker .gantt_tree_icon.gantt_blank,.gantt_drag_marker .gantt_tree_icon.gantt_close,.gantt_drag_marker .gantt_tree_icon.gantt_open,.gantt_drag_marker .gantt_tree_indent{display:none}.gantt_drag_marker,.gantt_drag_marker .gantt_row.odd{background-color:#fff}.gantt_drag_marker .gantt_row{border-left:1px solid #d2d2d2;border-top:1px solid #d2d2d2}.gantt_drag_marker .gantt_cell{border-color:#d2d2d2}.gantt_row.gantt_over,.gantt_task_row.gantt_over{background-color:#0070fe}.gantt_row.gantt_transparent .gantt_cell{opacity:.7}.gantt_task_row.gantt_transparent{background-color:#f8fdfd}.gantt_popup_button.gantt_delete_button{background:#3db9d3;text-shadow:0 -1px 0 #248a9f;color:#fff;font-weight:700;border-width:0}.gantt_container_resize_watcher{background:transparent;width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;pointer-events:none;border:0;box-sizing:border-box;opacity:0}.gantt-chart{position:relative;width:100%;height:calc(100vh - 120px - var(--navbar-size))!important}.gantt_bar_task{border-radius:50px!important}.gantt_container{border-radius:10px!important}.gantt_task_progress_drag{display:none!important}.gantt_task_scale,.gantt_task_cell,.gantt_scale_cell,.gantt_grid_head_cell{border-color:var(--dark-pallete-text)!important}.gantt_row.odd,.gantt_task_row.odd{border-bottom:1px solid}.gantt_task_line.gantt_task_inline_color{border-color:transparent!important}.gantt_task_line.gantt_task_inline_color{margin-top:2.5px!important;height:25px!important}.gantt_task_content{top:-1.5px}.gantt_grid_scale,.gantt_task_scale{background-color:var(--dark-pallete-4)!important}.gantt_grid_head_cell,.gantt_scale_cell{color:#fff!important}.gantt_container,.gantt_row,.gantt_task_row{background-color:var(--dark-pallete-3)!important;border-color:var(--dark-pallete-text)!important}.gantt_container.gantt_selected,.gantt_row.gantt_selected,.gantt_task_row.gantt_selected{background-color:var(--dark-pallete-4)!important}.gantt_tree_content{color:#fff!important}.gantt_cell.gantt_cell_tree{margin-left:5px!important}.gantt_blank,.gantt_file,.gantt_add{display:none!important}\n'],encapsulation:2}),t})();class Fae{constructor(n,e,r,a){this.projectId=n,this.title=e,this.description=r,this.reported=a}}class Lae{constructor(n,e,r,a){this.id=n,this.title=e,this.description=r,this.reported=a}}class Gae{constructor(n,e,r,a,d,h){this.description=n,this.estimatedTime=e,this.affects=r,this.priority=a,this.status=d,this.assignedUsername=h}}let Bae=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=fs_backendEndpoint+"/incident/"}findIncidentsByProject(e,r,a,d,h,m){var S=this.hostUrl+"project/"+e;let k=(new tc).set("page",(r-1).toString()).set("size",a.toString());for(let ne=0;ne<d.length;ne++){var N=d[ne];k=k.append("sort",N.colId+","+N.sort)}if(h){var H=this.getAllColumns(m);for(let ne of H){var q=h[ne];q&&(k=k.append(ne,q.filter))}}return this.httpClient.get(S,{params:k})}getAllColumns(e){return e.map(r=>r.field)}getIncidentById(e){return this.httpClient.get(this.hostUrl+e)}getIncidentUpdatesByIncidentId(e){return this.httpClient.get(this.hostUrl+e+"/updates")}createIncident(e){return this.httpClient.post(this.hostUrl,e)}updateIncident(e){return this.httpClient.put(this.hostUrl,e)}disableIncident(e){return this.httpClient.delete(this.hostUrl+e)}createIncidentUpdate(e,r){return this.httpClient.post(this.hostUrl+e+"/update",r)}}return t.\u0275fac=function(e){return new(e||t)(Qe(nc))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function se(t,n,e,r){var h,a=arguments.length,d=a<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(t,n,e,r);else for(var m=t.length-1;m>=0;m--)(h=t[m])&&(d=(a<3?h(d):a>3?h(n,e,d):h(n,e))||d);return a>3&&d&&Object.defineProperty(n,e,d),d}function ae(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}var ZA,bh=X(564);let Ue=ZA=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let n=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(n.children=this.getChildColDefs(this.childColumns)),n}getChildColDefs(n){return n.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(n){return function Vae(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(e[r[a]]=t[r[a]])}return e}(n,["childColumns"])}};Ue.\u0275fac=function(n){return new(n||Ue)},Ue.\u0275cmp=tn({type:Ue,selectors:[["ag-grid-column"]],contentQueries:function(n,e,r){if(1&n&&xi(r,ZA,4),2&n){let a;dn(a=hn())&&(e.childColumns=a)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",defaultAggFunc:"defaultAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(n,e){},encapsulation:2}),se([op(ZA),ae("design:type",g_)],Ue.prototype,"childColumns",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"filterFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"filterParams",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"floatingFilterComponent",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"floatingFilterComponentParams",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"floatingFilterComponentFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"floatingFilterFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"filter",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"headerName",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerValueGetter",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"headerTooltip",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerClass",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"suppressHeaderKeyboardEvent",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"columnGroupShow",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"toolPanelClass",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"suppressColumnsToolPanel",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"suppressFiltersToolPanel",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"tooltipComponent",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"tooltipComponentFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"tooltipComponentParams",void 0),se([ue(),ae("design:type",Array)],Ue.prototype,"children",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"groupId",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"openByDefault",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"marryChildren",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerGroupComponent",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerGroupComponentFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerGroupComponentParams",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"colId",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"field",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"type",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"valueGetter",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"valueFormatter",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"refData",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"keyCreator",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"equals",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"tooltipField",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"tooltipValueGetter",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"checkboxSelection",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"icons",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"suppressNavigable",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"suppressKeyboardEvent",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"suppressPaste",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"suppressFillHandle",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"hide",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"initialHide",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"lockVisible",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"lockPosition",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"suppressMovable",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"editable",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"valueSetter",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"valueParser",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellEditor",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellEditorFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellEditorParams",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"cellEditorSelector",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"singleClickEdit",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"newValueHandler",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"cellEditorPopup",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"cellEditorPopupPosition",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"onCellValueChanged",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"onCellClicked",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"onCellDoubleClicked",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"onCellContextMenu",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"getQuickFilterText",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"filterValueGetter",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"floatingFilter",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerComponent",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerComponentFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerComponentParams",void 0),se([ue(),ae("design:type",Array)],Ue.prototype,"menuTabs",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"columnsMenuParams",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"suppressMenu",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"headerCheckboxSelection",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"headerCheckboxSelectionFilteredOnly",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"chartDataType",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"pinned",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"initialPinned",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"lockPinned",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"pinnedRowCellRenderer",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"pinnedRowCellRendererFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"pinnedRowCellRendererParams",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"pinnedRowValueFormatter",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"pivot",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"initialPivot",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"pivotIndex",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"initialPivotIndex",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"pivotComparator",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"enablePivot",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellStyle",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellClass",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellClassRules",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellRenderer",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellRendererFramework",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"cellRendererParams",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"cellRendererSelector",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"autoHeight",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"wrapText",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"enableCellChangeFlash",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"suppressCellFlash",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"rowDrag",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"rowDragText",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"dndSource",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"dndSourceOnRowDrag",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"rowGroup",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"initialRowGroup",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"rowGroupIndex",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"initialRowGroupIndex",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"enableRowGroup",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"enableValue",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"aggFunc",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"initialAggFunc",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"defaultAggFunc",void 0),se([ue(),ae("design:type",Array)],Ue.prototype,"allowedAggFuncs",void 0),se([ue(),ae("design:type",Object)],Ue.prototype,"showRowGroup",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"sortable",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"sort",void 0),se([ue(),ae("design:type",String)],Ue.prototype,"initialSort",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"sortIndex",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"initialSortIndex",void 0),se([ue(),ae("design:type",Array)],Ue.prototype,"sortingOrder",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"comparator",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"unSortIcon",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"sortedAt",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"colSpan",void 0),se([ue(),ae("design:type",Function)],Ue.prototype,"rowSpan",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"width",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"initialWidth",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"minWidth",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"maxWidth",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"flex",void 0),se([ue(),ae("design:type",Number)],Ue.prototype,"initialFlex",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"resizable",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"suppressSizeToFit",void 0),se([ue(),ae("design:type",Boolean)],Ue.prototype,"suppressAutoSize",void 0);let JA=(()=>{let t=class extends bh.vA3{constructor(e){super(),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,r){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},r)}):window.setTimeout(()=>{e()},r)}setInterval(e,r){return new bh.j_S(a=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{a(window.setInterval(()=>{e()},r))}):a(window.setInterval(()=>{e()},r))})}addEventListener(e,r,a,d){this.isOutsideAngular(r)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(r,a,d)}):e.addEventListener(r,a,d)}dispatchEvent(e,r,a=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(r):r():(this.isEmitterUsed(e)||a)&&(!$n.isInAngularZone()&&this._ngZone?this._ngZone.run(r):r())}isFrameworkComponent(e){if(!e)return!1;const r=e.prototype;return r&&"agInit"in r}};return t.\u0275fac=function(e){return new(e||t)(Qe($n))},t.\u0275prov=St({token:t,factory:function(n){return t.\u0275fac(n)}}),t=se([ae("design:paramtypes",[$n])],t),t})(),eR=(()=>{let t=class extends bh.Nk3{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let r=this,d=new class a extends class jae{init(n){this._params=n,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(m){super.init(m),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return r.createComponent(e)}hasMethod(m){return null!=d.getFrameworkComponentInstance()[m]}callMethod(m,S){const k=this.getFrameworkComponentInstance();return d.getFrameworkComponentInstance()[m].apply(k,S)}addMethod(m,S){d[m]=S}};return d}createComponent(e){let r=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(r)}};return t.\u0275fac=function(){let n;return function(r){return(n||(n=fr(t)))(r||t)}}(),t.\u0275prov=St({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),$ae=(()=>{let t=class{constructor(e,r,a,d,h){this.viewContainerRef=r,this.angularFrameworkOverrides=a,this.frameworkComponentWrapper=d,this.componentFactoryResolver=h,this._initialised=!1,this._destroyed=!1,this._fullyReady=bh.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new Ae,this.pasteStart=new Ae,this.pasteEnd=new Ae,this.columnVisible=new Ae,this.columnPinned=new Ae,this.columnResized=new Ae,this.columnMoved=new Ae,this.columnValueChanged=new Ae,this.columnPivotModeChanged=new Ae,this.columnPivotChanged=new Ae,this.columnGroupOpened=new Ae,this.newColumnsLoaded=new Ae,this.gridColumnsChanged=new Ae,this.displayedColumnsChanged=new Ae,this.virtualColumnsChanged=new Ae,this.columnEverythingChanged=new Ae,this.componentStateChanged=new Ae,this.cellValueChanged=new Ae,this.cellEditRequest=new Ae,this.rowValueChanged=new Ae,this.cellEditingStarted=new Ae,this.cellEditingStopped=new Ae,this.rowEditingStarted=new Ae,this.rowEditingStopped=new Ae,this.filterOpened=new Ae,this.filterChanged=new Ae,this.filterModified=new Ae,this.chartCreated=new Ae,this.chartRangeSelectionChanged=new Ae,this.chartOptionsChanged=new Ae,this.chartDestroyed=new Ae,this.cellKeyDown=new Ae,this.cellKeyPress=new Ae,this.gridReady=new Ae,this.firstDataRendered=new Ae,this.gridSizeChanged=new Ae,this.modelUpdated=new Ae,this.virtualRowRemoved=new Ae,this.viewportChanged=new Ae,this.bodyScroll=new Ae,this.bodyScrollEnd=new Ae,this.dragStarted=new Ae,this.dragStopped=new Ae,this.paginationChanged=new Ae,this.rowDragEnter=new Ae,this.rowDragMove=new Ae,this.rowDragLeave=new Ae,this.rowDragEnd=new Ae,this.columnRowGroupChanged=new Ae,this.rowGroupOpened=new Ae,this.expandOrCollapseAll=new Ae,this.pinnedRowDataChanged=new Ae,this.rowDataChanged=new Ae,this.rowDataUpdated=new Ae,this.asyncTransactionsFlushed=new Ae,this.cellClicked=new Ae,this.cellDoubleClicked=new Ae,this.cellFocused=new Ae,this.cellMouseOver=new Ae,this.cellMouseOut=new Ae,this.cellMouseDown=new Ae,this.rowClicked=new Ae,this.rowDoubleClicked=new Ae,this.rowSelected=new Ae,this.selectionChanged=new Ae,this.cellContextMenu=new Ae,this.rangeSelectionChanged=new Ae,this.sortChanged=new Ae,this.columnRowGroupChangeRequest=new Ae,this.columnPivotChangeRequest=new Ae,this.columnValueChangeRequest=new Ae,this.columnAggFuncChangeRequest=new Ae,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=bh.plv.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(e=>e.toColDef())),new bh.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&bh.plv.processOnChange(e,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(e){const r=this[e],a=!!r&&r.observers&&r.observers.length>0,d=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return a||!!this.gridOptions&&!!this.gridOptions[d]}globalEventListener(e,r){if(this._destroyed)return;const a=this[e];a&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(d=>{a.emit(r)}):a.emit(r))}};return t.\u0275fac=function(e){return new(e||t)(Se(Vn),Se(co),Se(JA),Se(eR),Se(Ba))},t.\u0275cmp=tn({type:t,selectors:[["ag-grid-angular"]],contentQueries:function(e,r,a){if(1&e&&xi(a,Ue,4),2&e){let d;dn(d=hn())&&(r.columns=d)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[ei([JA,eR]),Wn],decls:0,vars:0,template:function(e,r){},encapsulation:2}),se([op(Ue),ae("design:type",g_)],t.prototype,"columns",void 0),se([ue(),ae("design:type",Object)],t.prototype,"gridOptions",void 0),se([ue(),ae("design:type",Array)],t.prototype,"modules",void 0),se([ue(),ae("design:type",Object)],t.prototype,"statusBar",void 0),se([ue(),ae("design:type",Object)],t.prototype,"sideBar",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressContextMenu",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"preventDefaultOnContextMenu",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"allowContextMenuWithControlKey",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMenuHide",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableBrowserTooltips",void 0),se([ue(),ae("design:type",Number)],t.prototype,"tooltipShowDelay",void 0),se([ue(),ae("design:type",Number)],t.prototype,"tooltipHideDelay",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"tooltipMouseTrack",void 0),se([ue(),ae("design:type",HTMLElement)],t.prototype,"popupParent",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"copyHeadersToClipboard",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"copyGroupHeadersToClipboard",void 0),se([ue(),ae("design:type",String)],t.prototype,"clipboardDelimiter",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressCopyRowsToClipboard",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressCopySingleCellRanges",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressLastEmptyLineOnPaste",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressClipboardPaste",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressClipboardApi",void 0),se([ue(),ae("design:type",Array)],t.prototype,"columnDefs",void 0),se([ue(),ae("design:type",Object)],t.prototype,"defaultColDef",void 0),se([ue(),ae("design:type",Object)],t.prototype,"defaultColGroupDef",void 0),se([ue(),ae("design:type",Object)],t.prototype,"columnTypes",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"maintainColumnOrder",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressFieldDotNotation",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"deltaColumnMode",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"applyColumnDefOrder",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"immutableColumns",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressSetColumnStateEvents",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressColumnStateEvents",void 0),se([ue(),ae("design:type",Number)],t.prototype,"colWidth",void 0),se([ue(),ae("design:type",Number)],t.prototype,"minColWidth",void 0),se([ue(),ae("design:type",Number)],t.prototype,"maxColWidth",void 0),se([ue(),ae("design:type",Number)],t.prototype,"headerHeight",void 0),se([ue(),ae("design:type",Number)],t.prototype,"groupHeaderHeight",void 0),se([ue(),ae("design:type",Number)],t.prototype,"floatingFiltersHeight",void 0),se([ue(),ae("design:type",Number)],t.prototype,"pivotHeaderHeight",void 0),se([ue(),ae("design:type",Number)],t.prototype,"pivotGroupHeaderHeight",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"allowDragFromColumnsToolPanel",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMovableColumns",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressColumnMoveAnimation",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressDragLeaveHidesColumns",void 0),se([ue(),ae("design:type",String)],t.prototype,"colResizeDefault",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressAutoSize",void 0),se([ue(),ae("design:type",Number)],t.prototype,"autoSizePadding",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"skipHeaderOnAutoSize",void 0),se([ue(),ae("design:type",Object)],t.prototype,"components",void 0),se([ue(),ae("design:type",Object)],t.prototype,"frameworkComponents",void 0),se([ue(),ae("design:type",String)],t.prototype,"editType",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"singleClickEdit",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressClickEdit",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"readOnlyEdit",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"stopEditingWhenCellsLoseFocus",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enterMovesDown",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enterMovesDownAfterEdit",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"undoRedoCellEditing",void 0),se([ue(),ae("design:type",Number)],t.prototype,"undoRedoCellEditingLimit",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"stopEditingWhenGridLosesFocus",void 0),se([ue(),ae("design:type",Object)],t.prototype,"defaultCsvExportParams",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressCsvExport",void 0),se([ue(),ae("design:type",Object)],t.prototype,"defaultExcelExportParams",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressExcelExport",void 0),se([ue(),ae("design:type",Array)],t.prototype,"excelStyles",void 0),se([ue(),ae("design:type",Object)],t.prototype,"defaultExportParams",void 0),se([ue(),ae("design:type",String)],t.prototype,"quickFilterText",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"cacheQuickFilter",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableCharts",void 0),se([ue(),ae("design:type",Array)],t.prototype,"chartThemes",void 0),se([ue(),ae("design:type",Object)],t.prototype,"customChartThemes",void 0),se([ue(),ae("design:type",Object)],t.prototype,"chartThemeOverrides",void 0),se([ue(),ae("design:type",Object)],t.prototype,"loadingCellRenderer",void 0),se([ue(),ae("design:type",Object)],t.prototype,"loadingCellRendererFramework",void 0),se([ue(),ae("design:type",Object)],t.prototype,"loadingCellRendererParams",void 0),se([ue(),ae("design:type",Function)],t.prototype,"loadingCellRendererSelector",void 0),se([ue(),ae("design:type",Object)],t.prototype,"localeText",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"masterDetail",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"keepDetailRows",void 0),se([ue(),ae("design:type",Number)],t.prototype,"keepDetailRowsCount",void 0),se([ue(),ae("design:type",Object)],t.prototype,"detailCellRenderer",void 0),se([ue(),ae("design:type",Object)],t.prototype,"detailCellRendererFramework",void 0),se([ue(),ae("design:type",Object)],t.prototype,"detailCellRendererParams",void 0),se([ue(),ae("design:type",Number)],t.prototype,"detailRowHeight",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"detailRowAutoHeight",void 0),se([ue(),ae("design:type",Object)],t.prototype,"context",void 0),se([ue(),ae("design:type",Array)],t.prototype,"alignedGrids",void 0),se([ue(),ae("design:type",Number)],t.prototype,"tabIndex",void 0),se([ue(),ae("design:type",Number)],t.prototype,"rowBuffer",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"valueCache",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"valueCacheNeverExpires",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableCellExpressions",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressParentsInRowNodes",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressTouch",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressFocusAfterRefresh",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressAsyncEvents",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressBrowserResizeObserver",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressPropertyNamesCheck",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressChangeDetection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"debug",void 0),se([ue(),ae("design:type",String)],t.prototype,"overlayLoadingTemplate",void 0),se([ue(),ae("design:type",Object)],t.prototype,"loadingOverlayComponent",void 0),se([ue(),ae("design:type",Object)],t.prototype,"loadingOverlayComponentFramework",void 0),se([ue(),ae("design:type",Object)],t.prototype,"loadingOverlayComponentParams",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressLoadingOverlay",void 0),se([ue(),ae("design:type",String)],t.prototype,"overlayNoRowsTemplate",void 0),se([ue(),ae("design:type",Object)],t.prototype,"noRowsOverlayComponent",void 0),se([ue(),ae("design:type",Object)],t.prototype,"noRowsOverlayComponentFramework",void 0),se([ue(),ae("design:type",Object)],t.prototype,"noRowsOverlayComponentParams",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressNoRowsOverlay",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"pagination",void 0),se([ue(),ae("design:type",Number)],t.prototype,"paginationPageSize",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"paginationAutoPageSize",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"paginateChildRows",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressPaginationPanel",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"pivotMode",void 0),se([ue(),ae("design:type",String)],t.prototype,"pivotPanelShow",void 0),se([ue(),ae("design:type",String)],t.prototype,"pivotColumnGroupTotals",void 0),se([ue(),ae("design:type",String)],t.prototype,"pivotRowTotals",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"pivotSuppressAutoColumn",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressExpandablePivotGroups",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"functionsReadOnly",void 0),se([ue(),ae("design:type",Object)],t.prototype,"aggFuncs",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressAggFuncInHeader",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressAggAtRootLevel",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"aggregateOnlyChangedColumns",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressAggFilteredOnly",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"removePivotHeaderRowWhenSingleValueColumn",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"animateRows",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableCellChangeFlash",void 0),se([ue(),ae("design:type",Number)],t.prototype,"cellFlashDelay",void 0),se([ue(),ae("design:type",Number)],t.prototype,"cellFadeDelay",void 0),se([ue(),ae("design:type",String)],t.prototype,"domLayout",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"ensureDomOrder",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableRtl",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressColumnVirtualisation",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMaxRenderedRowRestriction",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressRowVirtualisation",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"rowDragManaged",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressRowDrag",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMoveWhenRowDragging",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"rowDragEntireRow",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"rowDragMultiRow",void 0),se([ue(),ae("design:type",Object)],t.prototype,"fullWidthCellRenderer",void 0),se([ue(),ae("design:type",Object)],t.prototype,"fullWidthCellRendererFramework",void 0),se([ue(),ae("design:type",Object)],t.prototype,"fullWidthCellRendererParams",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"embedFullWidthRows",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"deprecatedEmbedFullWidthRows",void 0),se([ue(),ae("design:type",String)],t.prototype,"groupDisplayType",void 0),se([ue(),ae("design:type",Number)],t.prototype,"groupDefaultExpanded",void 0),se([ue(),ae("design:type",Object)],t.prototype,"autoGroupColumnDef",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupMaintainOrder",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupSelectsChildren",void 0),se([ue(),ae("design:type",Object)],t.prototype,"groupAggFiltering",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupIncludeFooter",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupIncludeTotalFooter",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupSuppressBlankHeader",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupSelectsFiltered",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"showOpenedGroup",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupRemoveSingleChildren",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupRemoveLowestSingleChildren",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupHideOpenParents",void 0),se([ue(),ae("design:type",String)],t.prototype,"rowGroupPanelShow",void 0),se([ue(),ae("design:type",Object)],t.prototype,"groupRowRenderer",void 0),se([ue(),ae("design:type",Object)],t.prototype,"groupRowRendererFramework",void 0),se([ue(),ae("design:type",Object)],t.prototype,"groupRowRendererParams",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"treeData",void 0),se([ue(),ae("design:type",Object)],t.prototype,"groupRowInnerRenderer",void 0),se([ue(),ae("design:type",Object)],t.prototype,"groupRowInnerRendererFramework",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupMultiAutoColumn",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupUseEntireRow",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"groupSuppressAutoColumn",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"rememberGroupStateWhenNewData",void 0),se([ue(),ae("design:type",Array)],t.prototype,"pinnedTopRowData",void 0),se([ue(),ae("design:type",Array)],t.prototype,"pinnedBottomRowData",void 0),se([ue(),ae("design:type",String)],t.prototype,"rowModelType",void 0),se([ue(),ae("design:type",Array)],t.prototype,"rowData",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"immutableData",void 0),se([ue(),ae("design:type",Number)],t.prototype,"asyncTransactionWaitMillis",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"deltaRowDataMode",void 0),se([ue(),ae("design:type",Number)],t.prototype,"batchUpdateWaitMillis",void 0),se([ue(),ae("design:type",Object)],t.prototype,"datasource",void 0),se([ue(),ae("design:type",Number)],t.prototype,"cacheOverflowSize",void 0),se([ue(),ae("design:type",Number)],t.prototype,"infiniteInitialRowCount",void 0),se([ue(),ae("design:type",String)],t.prototype,"serverSideStoreType",void 0),se([ue(),ae("design:type",Number)],t.prototype,"cacheBlockSize",void 0),se([ue(),ae("design:type",Number)],t.prototype,"maxBlocksInCache",void 0),se([ue(),ae("design:type",Number)],t.prototype,"maxConcurrentDatasourceRequests",void 0),se([ue(),ae("design:type",Number)],t.prototype,"blockLoadDebounceMillis",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"purgeClosedRowNodes",void 0),se([ue(),ae("design:type",Object)],t.prototype,"serverSideDatasource",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"serverSideSortingAlwaysResets",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"serverSideFilteringAlwaysResets",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressEnterpriseResetOnNewColumns",void 0),se([ue(),ae("design:type",Object)],t.prototype,"viewportDatasource",void 0),se([ue(),ae("design:type",Number)],t.prototype,"viewportRowModelPageSize",void 0),se([ue(),ae("design:type",Number)],t.prototype,"viewportRowModelBufferSize",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"alwaysShowHorizontalScroll",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"alwaysShowVerticalScroll",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"debounceVerticalScrollbar",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressHorizontalScroll",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressScrollOnNewData",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressScrollWhenPopupsAreOpen",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressAnimationFrame",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMiddleClickScrolls",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressPreventDefaultOnMouseWheel",void 0),se([ue(),ae("design:type",Number)],t.prototype,"scrollbarWidth",void 0),se([ue(),ae("design:type",String)],t.prototype,"rowSelection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"rowMultiSelectWithClick",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressRowDeselection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressRowClickSelection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressCellSelection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressCellFocus",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMultiRangeSelection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableCellTextSelection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableRangeSelection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableRangeHandle",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableFillHandle",void 0),se([ue(),ae("design:type",String)],t.prototype,"fillHandleDirection",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressClearOnFillReduction",void 0),se([ue(),ae("design:type",Array)],t.prototype,"sortingOrder",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"accentedSort",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"unSortIcon",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMultiSort",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"alwaysMultiSort",void 0),se([ue(),ae("design:type",String)],t.prototype,"multiSortKey",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressMaintainUnsortedOrder",void 0),se([ue(),ae("design:type",Object)],t.prototype,"icons",void 0),se([ue(),ae("design:type",Number)],t.prototype,"rowHeight",void 0),se([ue(),ae("design:type",Object)],t.prototype,"rowStyle",void 0),se([ue(),ae("design:type",Object)],t.prototype,"rowClass",void 0),se([ue(),ae("design:type",Object)],t.prototype,"rowClassRules",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressRowHoverHighlight",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"suppressRowTransform",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"columnHoverHighlight",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"deltaSort",void 0),se([ue(),ae("design:type",String)],t.prototype,"treeDataDisplayType",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"angularCompileRows",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"angularCompileFilters",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"functionsPassive",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"enableGroupEdit",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getContextMenuItems",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getMainMenuItems",void 0),se([ue(),ae("design:type",Function)],t.prototype,"postProcessPopup",void 0),se([ue(),ae("design:type",Function)],t.prototype,"processCellForClipboard",void 0),se([ue(),ae("design:type",Function)],t.prototype,"processHeaderForClipboard",void 0),se([ue(),ae("design:type",Function)],t.prototype,"processGroupHeaderForClipboard",void 0),se([ue(),ae("design:type",Function)],t.prototype,"processCellFromClipboard",void 0),se([ue(),ae("design:type",Function)],t.prototype,"sendToClipboard",void 0),se([ue(),ae("design:type",Function)],t.prototype,"processDataFromClipboard",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isExternalFilterPresent",void 0),se([ue(),ae("design:type",Function)],t.prototype,"doesExternalFilterPass",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getChartToolbarItems",void 0),se([ue(),ae("design:type",Function)],t.prototype,"createChartContainer",void 0),se([ue(),ae("design:type",Function)],t.prototype,"navigateToNextHeader",void 0),se([ue(),ae("design:type",Function)],t.prototype,"tabToNextHeader",void 0),se([ue(),ae("design:type",Function)],t.prototype,"navigateToNextCell",void 0),se([ue(),ae("design:type",Function)],t.prototype,"tabToNextCell",void 0),se([ue(),ae("design:type",Function)],t.prototype,"suppressKeyboardEvent",void 0),se([ue(),ae("design:type",Function)],t.prototype,"localeTextFunc",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getLocaleText",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getDocument",void 0),se([ue(),ae("design:type",Function)],t.prototype,"paginationNumberFormatter",void 0),se([ue(),ae("design:type",Function)],t.prototype,"groupRowAggNodes",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getGroupRowAgg",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isGroupOpenByDefault",void 0),se([ue(),ae("design:type",Function)],t.prototype,"initialGroupOrderComparator",void 0),se([ue(),ae("design:type",Function)],t.prototype,"defaultGroupOrderComparator",void 0),se([ue(),ae("design:type",Function)],t.prototype,"processSecondaryColDef",void 0),se([ue(),ae("design:type",Function)],t.prototype,"processSecondaryColGroupDef",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getDataPath",void 0),se([ue(),ae("design:type",Function)],t.prototype,"defaultGroupSortComparator",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getChildCount",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getServerSideStoreParams",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isServerSideGroupOpenByDefault",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isApplyServerSideTransaction",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isServerSideGroup",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getServerSideGroupKey",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getBusinessKeyForNode",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getRowNodeId",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getRowId",void 0),se([ue(),ae("design:type",Boolean)],t.prototype,"resetRowDataOnUpdate",void 0),se([ue(),ae("design:type",Function)],t.prototype,"processRowPostCreate",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isRowSelectable",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isRowMaster",void 0),se([ue(),ae("design:type",Function)],t.prototype,"fillOperation",void 0),se([ue(),ae("design:type",Function)],t.prototype,"postSort",void 0),se([ue(),ae("design:type",Function)],t.prototype,"postSortRows",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getRowStyle",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getRowClass",void 0),se([ue(),ae("design:type",Function)],t.prototype,"getRowHeight",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isFullWidthCell",void 0),se([ue(),ae("design:type",Function)],t.prototype,"isFullWidthRow",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"toolPanelVisibleChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"pasteStart",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"pasteEnd",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnVisible",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnPinned",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnResized",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnMoved",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnValueChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnPivotModeChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnPivotChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnGroupOpened",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"newColumnsLoaded",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"gridColumnsChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"displayedColumnsChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"virtualColumnsChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnEverythingChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"componentStateChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellValueChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellEditRequest",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowValueChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellEditingStarted",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellEditingStopped",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowEditingStarted",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowEditingStopped",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"filterOpened",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"filterChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"filterModified",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"chartCreated",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"chartRangeSelectionChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"chartOptionsChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"chartDestroyed",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellKeyDown",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellKeyPress",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"gridReady",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"firstDataRendered",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"gridSizeChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"modelUpdated",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"virtualRowRemoved",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"viewportChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"bodyScroll",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"bodyScrollEnd",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"dragStarted",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"dragStopped",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"paginationChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowDragEnter",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowDragMove",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowDragLeave",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowDragEnd",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnRowGroupChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowGroupOpened",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"expandOrCollapseAll",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"pinnedRowDataChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowDataChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowDataUpdated",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"asyncTransactionsFlushed",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellClicked",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellDoubleClicked",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellFocused",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellMouseOver",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellMouseOut",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellMouseDown",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowClicked",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowDoubleClicked",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rowSelected",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"selectionChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"cellContextMenu",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"rangeSelectionChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"sortChanged",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnRowGroupChangeRequest",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnPivotChangeRequest",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnValueChangeRequest",void 0),se([Ht(),ae("design:type",Ae)],t.prototype,"columnAggFuncChangeRequest",void 0),t=se([ae("design:paramtypes",[Vn,co,JA,eR,Ba])],t),t})();var tR;let Yf=tR=class{static withComponents(n){return{ngModule:tR,providers:[{provide:mn,useValue:n,multi:!0}]}}static forRoot(n){return{ngModule:tR,providers:[{provide:mn,useValue:n,multi:!0}]}}};Yf.\u0275fac=function(n){return new(n||Yf)},Yf.\u0275mod=Xt({type:Yf}),Yf.\u0275inj=en({imports:[[]]});const Wae=["openViewModal"],Uae=["closebuttonModalView"];function zae(t,n){if(1&t&&($(0,"option",34),pe(1),z()),2&t){const e=n.$implicit,r=ve(2);Qn("value",e.id),te("ngValue",e),Ut("selected",e.id==r.projectSelectedId||null),W(1),wt(" ",e.name,"")}}function Yae(t,n){if(1&t){const e=Wt();$(0,"div",30),Ee(1,"em",31),$(2,"select",32),tt("change",function(a){return Et(e),ve().loadProjectByIdEvent(a.target)}),he(3,zae,2,4,"option",33),z()()}if(2&t){const e=ve();W(1),te("openDelay",300),W(2),te("ngForOf",e.myProjects)}}function Kae(t,n){if(1&t){const e=Wt();$(0,"a",35),tt("click",function(){return Et(e),ve().newIncident()}),Ee(1,"em",36),z()}2&t&&te("openDelay",300)}function qae(t,n){if(1&t&&($(0,"div",37),pe(1),z()),2&t){const e=ve();W(1),Fi(e.messageError)}}function Xae(t,n){1&t&&($(0,"div",38),pe(1,"New incident "),z())}function Qae(t,n){if(1&t&&($(0,"div",38),pe(1),z()),2&t){const e=ve();W(1),ur(" #",e.selectedIncident.code,": ",e.selectedIncident.title,"")}}function Zae(t,n){if(1&t&&($(0,"div",39),pe(1),z()),2&t){const e=ve();W(1),wt(" ",e.incidentMessageError," ")}}function Jae(t,n){1&t&&($(0,"div"),pe(1," Only 50 characters are allowed "),z())}function ele(t,n){if(1&t&&($(0,"div",51),he(1,Jae,2,0,"div",52),z()),2&t){const e=ve(2);let r;W(1),te("ngIf",null==(r=e.formIncident.get("title"))||null==r.errors?null:r.errors.maxlength)}}function tle(t,n){1&t&&($(0,"div"),pe(1," Only 255 characters are allowed "),z())}function nle(t,n){if(1&t&&($(0,"div",51),he(1,tle,2,0,"div",52),z()),2&t){const e=ve(2);let r;W(1),te("ngIf",null==(r=e.formIncident.get("description"))||null==r.errors?null:r.errors.maxlength)}}function ile(t,n){1&t&&($(0,"div"),pe(1," Only 30 characters are allowed "),z())}function rle(t,n){if(1&t&&($(0,"div",51),he(1,ile,2,0,"div",52),z()),2&t){const e=ve(2);let r;W(1),te("ngIf",null==(r=e.formIncident.get("reported"))||null==r.errors?null:r.errors.maxlength)}}function ole(t,n){if(1&t){const e=Wt();$(0,"div",40)(1,"form",41),tt("ngSubmit",function(){return Et(e),ve().uploadIncident()}),$(2,"div",42)(3,"p",43),pe(4,"Title"),z(),Ee(5,"input",44),he(6,ele,2,1,"div",45),z(),$(7,"div",42)(8,"p",43),pe(9,"Description"),z(),$(10,"textarea",46),pe(11,"                                                "),z(),he(12,nle,2,1,"div",45),z(),$(13,"div",42)(14,"p",43),pe(15,"Reported by"),z(),Ee(16,"input",47),he(17,rle,2,1,"div",45),z(),$(18,"div",48)(19,"button",49),tt("click",function(){return Et(e),ve().editable()}),pe(20,"Close"),z(),$(21,"button",50),pe(22),z()()()()}if(2&t){const e=ve();let r,a,d;W(1),te("formGroup",e.formIncident),W(4),Nt("form-control ",e.inputClass(e.formIncident,"title"),""),W(1),te("ngIf",(null==(r=e.formIncident.get("title"))?null:r.touched)&&(null==(r=e.formIncident.get("title"))?null:r.invalid)),W(4),Nt("form-control ",e.inputClass(e.formIncident,"description"),""),W(2),te("ngIf",(null==(a=e.formIncident.get("description"))?null:a.touched)&&(null==(a=e.formIncident.get("description"))?null:a.invalid)),W(4),Nt("form-control ",e.inputClass(e.formIncident,"reported"),""),W(1),te("ngIf",(null==(d=e.formIncident.get("reported"))?null:d.touched)&&(null==(d=e.formIncident.get("reported"))?null:d.invalid)),W(4),te("disabled",!e.formIncident.valid),W(1),Fi(null==e.selectedIncident?"Create":"Edit")}}function sle(t,n){if(1&t&&($(0,"div",40)(1,"div",53),Ee(2,"em",54),$(3,"div",55),pe(4,"Description:"),z()(),$(5,"div",56),pe(6),z(),$(7,"div",53),Ee(8,"em",57),$(9,"div",58),pe(10),z()()()),2&t){const e=ve();W(6),wt(" ",e.selectedIncident.description,""),W(4),wt("Reported by: ",e.selectedIncident.reported," ")}}function ale(t,n){if(1&t&&($(0,"div",59),Ee(1,"em",60),$(2,"div",58),pe(3),z()()),2&t){const e=ve();W(3),wt("Creation date: ",e.getFormatedDate(e.selectedIncident.date,"HH:mm:ss dd/MM/yyyy"),"")}}function lle(t,n){if(1&t&&($(0,"div",59),Ee(1,"em",60),$(2,"div",58),pe(3),z()()),2&t){const e=ve();W(3),wt("Last update: ",e.getFormatedDate(e.selectedIncident.lastModification,"HH:mm:ss dd/MM/yyyy")," ")}}function cle(t,n){if(1&t&&($(0,"div",61),Ee(1,"em",60),$(2,"div",58),pe(3),z()()),2&t){const e=ve();W(3),wt("Assigned: @",e.selectedIncident.assignedUsername,"")}}function ule(t,n){if(1&t&&($(0,"div",61),Ee(1,"em",62),$(2,"div",58),pe(3),z()()),2&t){const e=ve();W(3),wt("Creator: @",e.selectedIncident.username,"")}}function dle(t,n){if(1&t&&($(0,"div",61),Ee(1,"em",63),$(2,"div",58),pe(3),z()()),2&t){const e=ve();W(3),wt("Estimated time: ",e.selectedIncident.estimatedTime," ")}}function hle(t,n){if(1&t&&($(0,"div",61),Ee(1,"em",64),$(2,"div",58),pe(3),z()()),2&t){const e=ve();W(3),wt("Priority: ",e.getPriority(e.selectedIncident.priority)," ")}}function ple(t,n){if(1&t&&($(0,"div",61),Ee(1,"em",65),$(2,"div",58),pe(3),z()()),2&t){const e=ve();W(3),wt("Affects: ",e.selectedIncident.affects,"")}}function fle(t,n){if(1&t&&($(0,"div",61),Ee(1,"em",66),$(2,"div",58),pe(3),z()()),2&t){const e=ve();W(3),wt("Status: ",e.selectedIncident.status,"")}}function gle(t,n){if(1&t){const e=Wt();$(0,"div",67)(1,"button",68),tt("click",function(){return Et(e),ve().editable()}),Ee(2,"em",69),$(3,"div",28),pe(4,"Edit"),z()()()}}function mle(t,n){1&t&&($(0,"div"),pe(1," Only 255 characters are allowed "),z())}function _le(t,n){if(1&t&&($(0,"div",51),he(1,mle,2,0,"div",52),z()),2&t){const e=ve(3);let r;W(1),te("ngIf",null==(r=e.formIncidentUpdate.get("description"))||null==r.errors?null:r.errors.maxlength)}}function vle(t,n){1&t&&($(0,"div"),pe(1," Cannot be negative time "),z())}function yle(t,n){if(1&t&&($(0,"div",51),he(1,vle,2,0,"div",52),z()),2&t){const e=ve(3);let r;W(1),te("ngIf",null==(r=e.formIncidentUpdate.get("estimatedTime"))||null==r.errors?null:r.errors.min)}}function Cle(t,n){1&t&&($(0,"div"),pe(1," Only 50 characters are allowed "),z())}function ble(t,n){if(1&t&&($(0,"div",51),he(1,Cle,2,0,"div",52),z()),2&t){const e=ve(3);let r;W(1),te("ngIf",null==(r=e.formIncidentUpdate.get("affects"))||null==r.errors?null:r.errors.maxlength)}}function wle(t,n){1&t&&($(0,"div"),pe(1," Only 50 characters are allowed "),z())}function xle(t,n){if(1&t&&($(0,"div",51),he(1,wle,2,0,"div",52),z()),2&t){const e=ve(3);let r;W(1),te("ngIf",null==(r=e.formIncidentUpdate.get("status"))||null==r.errors?null:r.errors.maxlength)}}function Sle(t,n){1&t&&($(0,"div"),pe(1," Cannot be empty"),z())}function Tle(t,n){1&t&&($(0,"div"),pe(1," Must containt at least 2 characters"),z())}function Ele(t,n){if(1&t&&($(0,"div",51),he(1,Sle,2,0,"div",52),he(2,Tle,2,0,"div",52),z()),2&t){const e=ve(3);let r,a;W(1),te("ngIf",null==(r=e.formIncidentUpdate.get("assignedUsername"))||null==r.errors?null:r.errors.required),W(1),te("ngIf",null==(a=e.formIncidentUpdate.get("assignedUsername"))||null==a.errors?null:a.errors.minlength)}}function Dle(t,n){1&t&&($(0,"div"),pe(1," Only 30 characters are allowed"),z())}function Ale(t,n){if(1&t&&($(0,"option"),pe(1),z()),2&t){const e=n.$implicit;W(1),wt("",e.username," ")}}function Rle(t,n){if(1&t){const e=Wt();$(0,"div",73)(1,"div",74)(2,"h2",75)(3,"button",76),pe(4," Create update "),z()(),$(5,"div",77)(6,"form",78),tt("ngSubmit",function(){return Et(e),ve(2).createNewIncidentUpdate()}),$(7,"div",79)(8,"div",28),pe(9,"Description "),z(),$(10,"textarea",46),pe(11,"                                                        "),z(),he(12,_le,2,1,"div",45),z(),$(13,"div",61),Ee(14,"em",63),$(15,"div",58),pe(16,"Estimated time: "),z(),Ee(17,"input",80),he(18,yle,2,1,"div",45),z(),$(19,"div",61),Ee(20,"em",64),$(21,"div",58),pe(22,"Priority: "),z(),$(23,"select",81)(24,"option",82),pe(25,"Critical"),z(),$(26,"option",83),pe(27,"High"),z(),$(28,"option",84),pe(29,"Medium"),z(),$(30,"option",85),pe(31,"Low"),z()()(),$(32,"div",61),Ee(33,"em",66),$(34,"div",58),pe(35,"Affects: "),z(),Ee(36,"input",86),he(37,ble,2,1,"div",45),$(38,"datalist",87)(39,"option"),pe(40,"Scope"),z(),$(41,"option"),pe(42,"\u20ac"),z(),$(43,"option"),pe(44,"Scope & \u20ac"),z()()(),$(45,"div",61),Ee(46,"em",65),$(47,"div",58),pe(48,"Status: "),z(),Ee(49,"input",88),he(50,xle,2,1,"div",45),$(51,"datalist",89)(52,"option"),pe(53,"To do"),z(),$(54,"option"),pe(55,"In progress"),z(),$(56,"option"),pe(57,"Done"),z(),$(58,"option"),pe(59,"Re-open"),z()()(),$(60,"div",61),Ee(61,"em",60),$(62,"div",58),pe(63,"Assigned: "),z(),Ee(64,"input",90),he(65,Ele,3,2,"div",45),he(66,Dle,2,0,"div",52),$(67,"datalist",91),he(68,Ale,2,1,"option",92),z()(),$(69,"div",93)(70,"button",94),pe(71,"Upload"),z()()()()()()}if(2&t){const e=ve(2);let r,a,d,h,m,S;W(6),te("formGroup",e.formIncidentUpdate),W(4),Nt("form-control ",e.inputClass(e.formIncidentUpdate,"description"),""),W(2),te("ngIf",(null==(r=e.formIncidentUpdate.get("description"))?null:r.touched)&&(null==(r=e.formIncidentUpdate.get("description"))?null:r.invalid)),W(5),Nt("form-control ",e.inputClass(e.formIncidentUpdate,"estimatedTime"),""),W(1),te("ngIf",(null==(a=e.formIncidentUpdate.get("estimatedTime"))?null:a.touched)&&(null==(a=e.formIncidentUpdate.get("estimatedTime"))?null:a.invalid)),W(5),Nt("form-select my-auto ",e.inputClass(e.formIncidentUpdate,"priority"),""),W(13),Nt("form-control ",e.inputClass(e.formIncidentUpdate,"affects"),""),W(1),te("ngIf",(null==(d=e.formIncidentUpdate.get("affects"))?null:d.touched)&&(null==(d=e.formIncidentUpdate.get("affects"))?null:d.invalid)),W(12),Nt("form-control ",e.inputClass(e.formIncidentUpdate,"status"),""),W(1),te("ngIf",(null==(h=e.formIncidentUpdate.get("status"))?null:h.touched)&&(null==(h=e.formIncidentUpdate.get("status"))?null:h.invalid)),W(14),Nt("form-control ",e.inputClass(e.formIncidentUpdate,"assignedUsername"),""),W(1),te("ngIf",(null==(m=e.formIncidentUpdate.get("assignedUsername"))?null:m.touched)&&(null==(m=e.formIncidentUpdate.get("assignedUsername"))?null:m.invalid)),W(1),te("ngIf",null==(S=e.formIncidentUpdate.get("assignedUsername"))||null==S.errors?null:S.errors.maxlength),W(2),te("ngForOf",e.usersInProject),W(2),te("disabled",!e.formIncident.valid)}}function Ole(t,n){if(1&t&&(Di(0),Ee(1,"img",107),lr()),2&t){const e=ve().$implicit,r=ve(3);W(1),Qn("src",r.getProfileImageUrlFromUser(e.user),To),te("openDelay",300)}}function kle(t,n){1&t&&Ee(0,"em",108),2&t&&te("openDelay",300)}function Ple(t,n){if(1&t&&($(0,"div",109),Ee(1,"em",63),$(2,"div",58),pe(3),z()()),2&t){const e=ve().$implicit;W(3),wt("Estimated time: ",e.estimatedTime,"")}}function Ile(t,n){if(1&t&&($(0,"div",109),Ee(1,"em",64),$(2,"div",58),pe(3),z()()),2&t){const e=ve().$implicit,r=ve(3);W(3),wt("Priority: ",r.getPriority(e.priority),"")}}function Mle(t,n){if(1&t&&($(0,"div",109),Ee(1,"em",65),$(2,"div",58),pe(3),z()()),2&t){const e=ve().$implicit;W(3),wt("Affects: ",e.affects,"")}}function Nle(t,n){if(1&t&&($(0,"div",109),Ee(1,"em",66),$(2,"div",58),pe(3),z()()),2&t){const e=ve().$implicit;W(3),wt("Status: ",e.status,"")}}function Fle(t,n){if(1&t&&(Di(0),Ee(1,"img",112),lr()),2&t){const e=ve(2).$implicit,r=ve(3);W(1),Qn("src",r.getProfileImageUrlFromUser(e.assignedUser),To),te("openDelay",300)}}function Lle(t,n){1&t&&Ee(0,"em",113),2&t&&te("openDelay",300)}function Gle(t,n){if(1&t&&($(0,"div",110),Ee(1,"em",60),$(2,"div",58),pe(3,"Assigned: "),z(),he(4,Fle,2,2,"ng-container",100),he(5,Lle,1,1,"ng-template",null,101,Hi),$(7,"div",111),pe(8),z()()),2&t){const e=wi(6),r=ve().$implicit,a=ve(3);W(4),te("ngIf",null!=a.getProfileImageUrlFromUser(r.assignedUser)&&""!=a.getProfileImageUrlFromUser(r.assignedUser))("ngIfElse",e),W(3),te("openDelay",300),W(1),wt("@",r.assignedUser.username,"")}}function Ble(t,n){if(1&t&&($(0,"div",97)(1,"div",23)(2,"div",98),pe(3),z(),$(4,"div",99),he(5,Ole,2,2,"ng-container",100),he(6,kle,1,1,"ng-template",null,101,Hi),$(8,"div",102),pe(9),z()(),$(10,"div",15),Ee(11,"em",103),$(12,"div",28),pe(13),z()()(),$(14,"div",104),pe(15),z(),$(16,"div",23),he(17,Ple,4,1,"div",105),he(18,Ile,4,1,"div",105),he(19,Mle,4,1,"div",105),he(20,Nle,4,1,"div",105),he(21,Gle,9,4,"div",106),z()()),2&t){const e=n.$implicit,r=n.index,a=wi(7),d=ve(3);W(3),wt("#",d.selectedIncident.updates.length-r," "),W(2),te("ngIf",null!=d.getProfileImageUrlFromUser(e.user)&&""!=d.getProfileImageUrlFromUser(e.user))("ngIfElse",a),W(3),te("openDelay",300),W(1),wt("@",e.user.username,""),W(2),te("openDelay",300),W(2),wt("",d.getFormatedDate(e.date,"HH:mm:ss dd/MM/yyyy")," "),W(2),Fi(e.description),W(2),te("ngIf",e.estimatedTime),W(1),te("ngIf",null!=e.priority),W(1),te("ngIf",e.affects),W(1),te("ngIf",e.status),W(1),te("ngIf",e.assignedUser)}}function Vle(t,n){if(1&t&&($(0,"div",95),he(1,Ble,22,13,"div",96),z()),2&t){const e=ve(2);W(1),te("ngForOf",e.selectedIncident.updates)}}function Hle(t,n){if(1&t&&($(0,"div",70),he(1,Rle,72,27,"div",71),he(2,Vle,2,1,"div",72),z()),2&t){const e=ve();W(1),te("ngIf",e.memberAccess),W(1),te("ngIf",e.selectedIncident)}}const jle=[{path:"",component:SM},{path:"login",component:Z9},{path:"app",component:dY,children:[{path:"projects",component:WX},{path:"effort",component:Joe},{path:"kanban",component:qq},{path:"user",component:Fse},{path:"sprint",component:Aoe},{path:"gantt",component:Nae},{path:"incidents",component:(()=>{class t extends ah{constructor(e,r,a,d,h,m,S,k){super(e,r,a,d,h,m),this.effortService=e,this.kanbanService=r,this.sprintService=a,this.projectService=d,this.formBuilder=h,this.tokenService=m,this.incidentService=S,this.userService=k,this.incCol=[{headerName:"Code",field:"code",sortable:!0,filter:!0,maxWidth:120,unSortIcon:!0,pinned:"left",valueFormatter:N=>null!=N.data&&null!=N.data.code?"#"+N.data.code:""},{headerName:"Title",field:"title",sortable:!0,filter:!0,resizable:!0},{headerName:"Description",field:"description",sortable:!0,filter:!0,resizable:!0},{headerName:"Reported",field:"reported",sortable:!0,filter:!0,resizable:!0},{headerName:"Estimated time",field:"estimatedTime",sortable:!0,filter:!0,resizable:!0},{headerName:"Creation",field:"date",sortable:!0,filter:!0,resizable:!0,valueFormatter:N=>this.formatCreationDate(N.data)},{headerName:"Last modification",field:"lastModification",sortable:!0,filter:!0,resizable:!0,valueFormatter:N=>this.formatLastModification(N.data)},{headerName:"Priority",field:"priority",sortable:!0,filter:!0,resizable:!0,valueFormatter:N=>this.formatPriority(N.data)},{headerName:"Affects",field:"affects",sortable:!0,filter:!0,resizable:!0},{headerName:"Status",field:"status",sortable:!0,filter:!0,resizable:!0},{headerName:"Creator",field:"username",filter:!0,resizable:!0,valueFormatter:N=>null!=N.data?this.formatUsername(N.data.username):""},{headerName:"Assigned",field:"assignedUsername",filter:!0,resizable:!0,valueFormatter:N=>null!=N.data?this.formatUsername(N.data.assignedUsername):""}],this.pageSize=25,this.pageNumber=1,this.totalElements=0,this.incidents=[],this.isEditable=!1,this.incidentContainError=!1,this.dataSource={getRows:N=>{this.getRows(N)}},this.formIncident=h.group({title:["",[nn.required]],description:["",[]],reported:["",[]]}),this.formIncidentUpdate=h.group({description:["",[]],estimatedTime:["",[]],affects:["",[]],priority:["",[]],status:["",[]],assignedUsername:["",[]]})}ngOnInit(){this.loadProject=!0,this.loadMyProjects()}editable(){this.isEditable=!this.isEditable}loadAfterProject(){this.reloadGridTable()}loadSelectedData(e){this.incidentService.getIncidentById(e.id).subscribe(r=>{this.containError=!1,this.selectedIncident=r,this.isEditable=!1,this.buildIncidentForm()},r=>{this.returnPrincipalError(r)})}buildIncidentForm(){this.formIncident.reset(),this.formIncidentUpdate.reset(),null!=this.selectedIncident&&(this.formIncident=this.formBuilder.group({title:[this.selectedIncident.title,[nn.required]],description:[this.selectedIncident.description,[]],reported:[this.selectedIncident.reported,[]]}))}newIncident(){this.isEditable=!0,this.selectedIncident=void 0,this.incidentContainError=!1,this.buildIncidentForm(),this.openViewModal.nativeElement.click()}formatPriority(e){return null!=e&&null!=e.priority?this.getPriority(e.priority):""}formatCreationDate(e){return null!=e&&null!=e.date&&this.getFormatedDate(e.date,"HH:mm:ss dd/MM/yyyy")||""}formatLastModification(e){return null!=e&&null!=e.lastModification&&this.getFormatedDate(e.lastModification,"HH:mm:ss dd/MM/yyyy")||""}formatUsername(e){return null!=e?"@"+e:""}uploadIncident(){if(this.selectedIncident){let e=new Lae(this.selectedIncident.id,this.formIncident.value.title,this.formIncident.value.description,this.formIncident.value.reported);this.incidentService.updateIncident(e).subscribe(r=>{this.loadSelectedData(this.selectedIncident),this.reloadGridTable(),this.isEditable=!1},r=>{var a=r.error.text;null==a&&(a="Error produced"),this.incidentMessageError=a,this.incidentContainError=!0})}else if(null!=this.projectSelectedId){let e=new Fae(this.projectSelectedId,this.formIncident.value.title,this.formIncident.value.description,this.formIncident.value.reported);this.incidentService.createIncident(e).subscribe(r=>{this.reloadGridTable(),this.closebuttonModalView.nativeElement.click()},r=>{var a=r.error.text;null==a&&(a="Error produced"),this.incidentMessageError=a,this.incidentContainError=!0})}}createNewIncidentUpdate(){if(null!=this.selectedIncident){let e=new Gae(this.formIncidentUpdate.value.description,this.formIncidentUpdate.value.estimatedTime,this.formIncidentUpdate.value.affects,this.formIncidentUpdate.value.priority,this.formIncidentUpdate.value.status,this.formIncidentUpdate.value.assignedUsername);this.incidentService.createIncidentUpdate(this.selectedIncident.id,e).subscribe(r=>{this.loadSelectedData(this.selectedIncident),this.formIncidentUpdate.reset(),this.reloadGridTable()},r=>{var a=r.error.text;null==a&&(a="Error produced"),this.incidentMessageError=a,this.incidentContainError=!0})}}reloadGridTable(){this.gridApi.setDatasource(this.dataSource)}loadSelectedRow(e){this.loadSelectedData(e.data),this.openViewModal.nativeElement.click()}getRows(e){this.projectSelectedId&&(this.pageSize=this.gridApi.paginationGetPageSize(),this.pageNumber=this.gridApi.paginationGetCurrentPage()+1,this.incidentService.findIncidentsByProject(this.projectSelectedId,this.pageNumber,this.pageSize,e.sortModel,e.filterModel,this.incCol).subscribe(r=>{this.containError=!1,this.incidents=r.content,this.pageNumber=r.pageable.pageNumber+1,this.pageSize=r.pageable.pageSize,this.totalElements=r.totalElements,e.successCallback(this.incidents,this.totalElements)},r=>{this.returnPrincipalError(r),e.failCallback()}))}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.setDatasource(this.dataSource)}getProfileImageUrlFromUser(e){return this.userService.getUrlFromProfile(e.imageUid)}}return t.\u0275fac=function(e){return new(e||t)(Se(xu),Se(ac),Se(Su),Se(Tu),Se(Ka),Se(Ls),Se(Bae),Se(Rf))},t.\u0275cmp=tn({type:t,selectors:[["iMan-incident"]],viewQuery:function(e,r){if(1&e&&(Ki(Wae,5),Ki(Uae,5)),2&e){let a;dn(a=hn())&&(r.openViewModal=a.first),dn(a=hn())&&(r.closebuttonModalView=a.first)}},features:[Bn],decls:40,vars:31,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add incident","placement","left",3,"openDelay","click",4,"ngIf"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],[1,"overflow-auto","scrollable-content"],[1,"ag-theme-alpine-dark",2,"width","100%","height","100%",3,"rowData","columnDefs","cacheBlockSize","pagination","paginationPageSize","enableRangeSelection","rowModelType","gridReady","rowDoubleClicked"],["hidden","","type","button","data-bs-target","#viewModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openViewModal",""],["id","viewModal","tabindex","-1","aria-labelledby","viewModalLabel","aria-hidden","false",1,"modal","fade"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],["class","flex-grow-1 card-title mt-2 ms-3",4,"ngIf"],["data-bs-dismiss","modal",1,"close-card-button"],["closebuttonModalView",""],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"container"],[1,"row"],[1,"d-flex","flex-wrap"],["class","w-100",4,"ngIf"],["class","w-100 d-flex p-2",4,"ngIf"],["class","w-50 d-flex p-2",4,"ngIf"],["class","w-100 d-flex p-2 mt-2",4,"ngIf"],[1,"my-auto"],["class","col-lg-7",4,"ngIf"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Add incident","placement","left",3,"openDelay","click"],[1,"bi","bi-plus-lg"],[1,"alert","alert-danger","mt-3","mb-3"],[1,"flex-grow-1","card-title","mt-2","ms-3"],[1,"alert","alert-danger","mt-5"],[1,"w-100"],[1,"w-100","mb-3",3,"formGroup","ngSubmit"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["id","formIncidentTitle","type","text","formControlName","title","maxlength","50","minlength","2"],["class","invalid-feedback",4,"ngIf"],["formControlName","description","maxlength","255","rows","3"],["type","text","formControlName","reported","maxlength","50"],[1,"form-group","d-flex","flex-row-reverse"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","p-2"],[1,"bi","bi-card-text","my-auto",2,"font-size","20px !important"],[1,"text-break","my-auto","mx-2"],[1,"text-break","mb-3",2,"margin-left","2.4rem !important"],[1,"bi","bi-person-bounding-box","my-auto",2,"font-size","20px !important"],[1,"my-auto","mx-2"],[1,"w-100","d-flex","p-2"],[1,"bi","bi-person-check","my-auto",2,"font-size","20px !important"],[1,"w-50","d-flex","p-2"],[1,"bi","bi-person-plus","my-auto",2,"font-size","20px !important"],[1,"bi","bi-hourglass-top","my-auto",2,"font-size","20px !important"],[1,"bi","bi-stoplights","my-auto",2,"font-size","20px !important"],[1,"bi","bi-shield-exclamation","my-auto",2,"font-size","20px !important"],[1,"bi","bi-activity","my-auto",2,"font-size","20px !important"],[1,"w-100","d-flex","p-2","mt-2"],["type","button",1,"btn","btn-secondary","ms-auto","d-flex",3,"click"],[1,"bi","bi-sm","bi-pencil-fill","ms-auto","me-2"],[1,"col-lg-7"],["class","accordion mt-1 mb-3","id","accordionIncidentUpdateCreate",4,"ngIf"],["class","overflow-auto",4,"ngIf"],["id","accordionIncidentUpdateCreate",1,"accordion","mt-1","mb-3"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionIncidentUpdateCreate",1,"accordion-collapse","collapse"],[1,"d-flex","flex-wrap","p-2",3,"formGroup","ngSubmit"],[1,"w-100","form-group","p-2","mt-2"],["type","number","step","0.5","formControlName","estimatedTime","min","0","value","0"],["formControlName","priority"],["value","0"],["value","1"],["value","2"],["selected","","value","3"],["type","text","formControlName","affects","list","lsAffects","maxlength","50"],["id","lsAffects"],["type","text","formControlName","status","list","lsStatus","maxlength","50"],["id","lsStatus"],["type","text","formControlName","assignedUsername","maxlength","30","list","usersInProject","minlength","2"],["id","usersInProject"],[4,"ngFor","ngForOf"],[1,"w-100","form-group","d-flex","flex-row-reverse"],["type","submit",1,"m-2","btn","btn-success",2,"margin-left","auto !important",3,"disabled"],[1,"overflow-auto"],["class","card inc-upd-card p-3 mb-3",4,"ngFor","ngForOf"],[1,"card","inc-upd-card","p-3","mb-3"],[1,"m-text","me-3","my-auto"],[1,"d-flex","flex-grow-1"],[4,"ngIf","ngIfElse"],["showIconProfile",""],["ngbTooltip","Author","placement","right",1,"my-auto",3,"openDelay"],["ngbTooltip","Date","placement","right",1,"bi","bi-calendar-date","me-3","my-auto",2,"font-size","20px !important",3,"openDelay"],[1,"text-break","my-2"],["class","d-flex me-3 my-1",4,"ngIf"],["class","d-flex flex-grow-1 me-3 my-1",4,"ngIf"],["alt","Author","ngbTooltip","Author","placement","right",1,"profile-image","me-2","my-auto",3,"src","openDelay"],["ngbTooltip","Author","placement","right",1,"bi","bi-person-circle","me-2","my-auto",2,"font-size","25px !important",3,"openDelay"],[1,"d-flex","me-3","my-1"],[1,"d-flex","flex-grow-1","me-3","my-1"],["ngbTooltip","Assigned user","placement","right",1,"my-auto",3,"openDelay"],["alt","Assigned user","ngbTooltip","Author","placement","right",1,"profile-image","me-2","my-auto",2,"height","30px !important","width","30px !important",3,"src","openDelay"],["ngbTooltip","Assigned user","placement","right",1,"bi","bi-person-circle","me-2","my-auto",2,"font-size","20px !important",3,"openDelay"]],template:function(e,r){1&e&&($(0,"div",0)(1,"div",1),he(2,Yae,4,2,"div",2),z(),$(3,"div",3),he(4,Kae,2,1,"a",4),z()(),Ee(5,"hr",5),he(6,qae,2,1,"div",6),$(7,"div",7)(8,"ag-grid-angular",8),tt("gridReady",function(d){return r.onGridReady(d)})("rowDoubleClicked",function(d){return r.loadSelectedRow(d)}),z()(),Ee(9,"button",9,10),$(11,"div",11)(12,"div")(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15),he(17,Xae,2,0,"div",16),he(18,Qae,2,2,"div",16),$(19,"div",17,18),Ee(21,"em",19),z()(),he(22,Zae,2,1,"div",20),$(23,"div",21)(24,"div",22)(25,"div")(26,"div",23),he(27,ole,23,15,"div",24),he(28,sle,11,2,"div",24),he(29,ale,4,1,"div",25),he(30,lle,4,1,"div",25),he(31,cle,4,1,"div",26),he(32,ule,4,1,"div",26),he(33,dle,4,1,"div",26),he(34,hle,4,1,"div",26),he(35,ple,4,1,"div",26),he(36,fle,4,1,"div",26),he(37,gle,5,0,"div",27),z(),Ee(38,"div",28),z(),he(39,Hle,3,2,"div",29),z()()()()()()()),2&e&&(W(2),te("ngIf",r.myProjects&&0!=r.myProjects.length),W(2),te("ngIf",r.adminAccess),W(2),te("ngIf",r.containError),W(2),te("rowData",r.incidents)("columnDefs",r.incCol)("cacheBlockSize",r.pageSize)("pagination",!0)("paginationPageSize",r.pageSize)("enableRangeSelection",!0)("rowModelType","infinite"),W(4),Nt("modal-dialog ",null!=r.selectedIncident?"modal-xl":"",""),W(5),te("ngIf",null==r.selectedIncident),W(1),te("ngIf",null!=r.selectedIncident),W(4),te("ngIf",r.incidentContainError),W(3),Nt("",null!=r.selectedIncident?"col-lg-5":"col-lg-12"," mt-2"),W(2),te("ngIf",r.isEditable&&r.adminAccess),W(1),te("ngIf",!(r.isEditable&&r.adminAccess)&&null!=r.selectedIncident),W(1),te("ngIf",null!=r.selectedIncident&&null!=r.selectedIncident.date),W(1),te("ngIf",null!=r.selectedIncident&&null!=r.selectedIncident.lastModification),W(1),te("ngIf",null!=r.selectedIncident&&null!=r.selectedIncident.assignedUsername),W(1),te("ngIf",null!=r.selectedIncident&&null!=r.selectedIncident.username),W(1),te("ngIf",null!=r.selectedIncident&&null!=r.selectedIncident.estimatedTime),W(1),te("ngIf",null!=r.selectedIncident&&null!=r.selectedIncident.priority),W(1),te("ngIf",null!=r.selectedIncident&&null!=r.selectedIncident.affects),W(1),te("ngIf",null!=r.selectedIncident&&null!=r.selectedIncident.status),W(1),te("ngIf",!(r.isEditable&&r.adminAccess)&&null!=r.selectedIncident),W(2),te("ngIf",null!=r.selectedIncident))},directives:[Oi,oc,hr,Ua,za,$ae,Zl,Ql,va,_a,Xl,Wa,Ya,Cu,j_,$_,Jl],styles:[".inc-upd-card[_ngcontent-%COMP%]{background-color:var(--dark-pallete-2)!important;border-radius:10px!important}"]}),t})()}]}];let $le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({imports:[[fM.forRoot(jle)],fM]}),t})();const Xn=!1;function mB(t){return new Lt(3e3,Xn)}function xce(){return"undefined"!=typeof window&&void 0!==window.document}function nR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ru(t){switch(t.length){case 0:return new L_;case 1:return t[0];default:return new CM(t)}}function _B(t,n,e,r,a={},d={}){const h=[],m=[];let S=-1,k=null;if(r.forEach(N=>{const H=N.offset,q=H==S,ne=q&&k||{};Object.keys(N).forEach(fe=>{let ye=fe,me=N[fe];if("offset"!==fe)switch(ye=n.normalizePropertyName(ye,h),me){case"!":me=a[fe];break;case ql:me=d[fe];break;default:me=n.normalizeStyleValue(fe,ye,me,h)}ne[ye]=me}),q||m.push(ne),k=ne,S=H}),h.length)throw function hce(t){return new Lt(3502,Xn)}();return m}function iR(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&rR(e,"start",t)));break;case"done":t.onDone(()=>r(e&&rR(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&rR(e,"destroy",t)))}}function rR(t,n,e){const r=e.totalTime,d=oR(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,null==r?t.totalTime:r,!!e.disabled),h=t._data;return null!=h&&(d._data=h),d}function oR(t,n,e,r,a="",d=0,h){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:a,totalTime:d,disabled:!!h}}function Cs(t,n,e){let r;return t instanceof Map?(r=t.get(n),r||t.set(n,r=e)):(r=t[n],r||(r=t[n]=e)),r}function vB(t){const n=t.indexOf(":");return[t.substring(1,n),t.substr(n+1)]}let sR=(t,n)=>!1,yB=(t,n,e)=>[],CB=null;function aR(t){const n=t.parentNode||t.host;return n===CB?null:n}(nR()||"undefined"!=typeof Element)&&(xce()?(CB=(()=>document.documentElement)(),sR=(t,n)=>{for(;n;){if(n===t)return!0;n=aR(n)}return!1}):sR=(t,n)=>t.contains(n),yB=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]});let wh=null,bB=!1;function wB(t){wh||(wh=function Tce(){return"undefined"!=typeof document?document.body:null}()||{},bB=!!wh.style&&"WebkitAppearance"in wh.style);let n=!0;return wh.style&&!function Sce(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in wh.style,!n&&bB&&(n="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in wh.style)),n}const xB=sR,SB=yB;let TB=(()=>{class t{validateStyleProperty(e){return wB(e)}matchesElement(e,r){return!1}containsElement(e,r){return xB(e,r)}getParentElement(e){return aR(e)}query(e,r,a){return SB(e,r,a)}computeStyle(e,r,a){return a||""}animate(e,r,a,d,h,m=[],S){return new L_(a,d)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),lR=(()=>{class t{}return t.NOOP=new TB,t})();const cR="ng-enter",Rw="ng-leave",Ow="ng-trigger",kw=".ng-trigger",DB="ng-animating",uR=".ng-animating";function xh(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:dR(parseFloat(n[1]),n[2])}function dR(t,n){return"s"===n?1e3*t:t}function Pw(t,n,e){return t.hasOwnProperty("duration")?t:function Ace(t,n,e){let a,d=0,h="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return n.push(mB()),{duration:0,delay:0,easing:""};a=dR(parseFloat(m[1]),m[2]);const S=m[3];null!=S&&(d=dR(parseFloat(S),m[4]));const k=m[5];k&&(h=k)}else a=t;if(!e){let m=!1,S=n.length;a<0&&(n.push(function Wle(){return new Lt(3100,Xn)}()),m=!0),d<0&&(n.push(function Ule(){return new Lt(3101,Xn)}()),m=!0),m&&n.splice(S,0,mB())}return{duration:a,delay:d,easing:h}}(t,n,e)}function Kf(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function Ou(t,n,e={}){if(n)for(let r in t)e[r]=t[r];else Kf(t,e);return e}function RB(t,n,e){return e?n+":"+e+";":""}function OB(t){let n="";for(let e=0;e<t.style.length;e++){const r=t.style.item(e);n+=RB(0,r,t.style.getPropertyValue(r))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=RB(0,kce(e),t.style[e]));t.setAttribute("style",n)}function nl(t,n,e){t.style&&(Object.keys(n).forEach(r=>{const a=pR(r);e&&!e.hasOwnProperty(r)&&(e[r]=t.style[a]),t.style[a]=n[r]}),nR()&&OB(t))}function Sh(t,n){t.style&&(Object.keys(n).forEach(e=>{const r=pR(e);t.style[r]=""}),nR()&&OB(t))}function Iv(t){return Array.isArray(t)?1==t.length?t[0]:vM(t):t}const hR=new RegExp("{{\\s*(.+?)\\s*}}","g");function kB(t){let n=[];if("string"==typeof t){let e;for(;e=hR.exec(t);)n.push(e[1]);hR.lastIndex=0}return n}function Iw(t,n,e){const r=t.toString(),a=r.replace(hR,(d,h)=>{let m=n[h];return n.hasOwnProperty(h)||(e.push(function Yle(t){return new Lt(3003,Xn)}()),m=""),m.toString()});return a==r?t:a}function Mw(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Oce=/-+([a-z0-9])/g;function pR(t){return t.replace(Oce,(...n)=>n[1].toUpperCase())}function kce(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function bs(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function Kle(t){return new Lt(3004,Xn)}()}}function PB(t,n){return window.getComputedStyle(t)[n]}function Lce(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Gce(t,n,e){if(":"==t[0]){const S=function Bce(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function lce(t){return new Lt(3016,Xn)}()),"* => *"}}(t,e);if("function"==typeof S)return void n.push(S);t=S}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function ace(t){return new Lt(3015,Xn)}()),n;const a=r[1],d=r[2],h=r[3];n.push(IB(a,h));"<"==d[0]&&!("*"==a&&"*"==h)&&n.push(IB(h,a))}(r,e,n)):e.push(t),e}const Gw=new Set(["true","1"]),Bw=new Set(["false","0"]);function IB(t,n){const e=Gw.has(t)||Bw.has(t),r=Gw.has(n)||Bw.has(n);return(a,d)=>{let h="*"==t||t==a,m="*"==n||n==d;return!h&&e&&"boolean"==typeof a&&(h=a?Gw.has(t):Bw.has(t)),!m&&r&&"boolean"==typeof d&&(m=d?Gw.has(n):Bw.has(n)),h&&m}}const Vce=new RegExp("s*:selfs*,?","g");function fR(t,n,e,r){return new Hce(t).build(n,e,r)}class Hce{constructor(n){this._driver=n}build(n,e,r){const a=new Wce(e);this._resetContextStyleTimingState(a);const d=bs(this,Iv(n),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),d}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,a=e.depCount=0;const d=[],h=[];return"@"==n.name.charAt(0)&&e.errors.push(function Xle(){return new Lt(3006,Xn)}()),n.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const S=m,k=S.name;k.toString().split(/\s*,\s*/).forEach(N=>{S.name=N,d.push(this.visitState(S,e))}),S.name=k}else if(1==m.type){const S=this.visitTransition(m,e);r+=S.queryCount,a+=S.depCount,h.push(S)}else e.errors.push(function Qle(){return new Lt(3007,Xn)}())}),{type:7,name:n.name,states:d,transitions:h,queryCount:r,depCount:a,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),a=n.options&&n.options.params||null;if(r.containsDynamicStyles){const d=new Set,h=a||{};r.styles.forEach(m=>{if(Vw(m)){const S=m;Object.keys(S).forEach(k=>{kB(S[k]).forEach(N=>{h.hasOwnProperty(N)||d.add(N)})})}}),d.size&&(Mw(d.values()),e.errors.push(function Zle(t,n){return new Lt(3008,Xn)}()))}return{type:0,name:n.name,style:r,options:a?{params:a}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=bs(this,Iv(n.animation),e);return{type:1,matchers:Lce(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Th(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>bs(this,r,e)),options:Th(n.options)}}visitGroup(n,e){const r=e.currentTime;let a=0;const d=n.steps.map(h=>{e.currentTime=r;const m=bs(this,h,e);return a=Math.max(a,e.currentTime),m});return e.currentTime=a,{type:3,steps:d,options:Th(n.options)}}visitAnimate(n,e){const r=function zce(t,n){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return gR(Pw(t,n).duration,0,"");const r=t;if(r.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=gR(0,0,"");return d.dynamic=!0,d.strValue=r,d}return e=e||Pw(r,n),gR(e.duration,e.delay,e.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let a,d=n.styles?n.styles:ma({});if(5==d.type)a=this.visitKeyframes(d,e);else{let h=n.styles,m=!1;if(!h){m=!0;const k={};r.easing&&(k.easing=r.easing),h=ma(k)}e.currentTime+=r.duration+r.delay;const S=this.visitStyle(h,e);S.isEmptyStep=m,a=S}return e.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[];Array.isArray(n.styles)?n.styles.forEach(h=>{"string"==typeof h?h==ql?r.push(h):e.errors.push(function Jle(t){return new Lt(3002,Xn)}()):r.push(h)}):r.push(n.styles);let a=!1,d=null;return r.forEach(h=>{if(Vw(h)){const m=h,S=m.easing;if(S&&(d=S,delete m.easing),!a)for(let k in m)if(m[k].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:d,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let a=e.currentTime,d=e.currentTime;r&&d>0&&(d-=r.duration+r.delay),n.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete h[m],void e.unsupportedCSSPropertiesFound.add(m);const S=e.collectedStyles[e.currentQuerySelector],k=S[m];let N=!0;k&&(d!=a&&d>=k.startTime&&a<=k.endTime&&(e.errors.push(function ece(t,n,e,r,a){return new Lt(3010,Xn)}()),N=!1),d=k.startTime),N&&(S[m]={startTime:d,endTime:a}),e.options&&function Rce(t,n,e){const r=n.params||{},a=kB(t);a.length&&a.forEach(d=>{r.hasOwnProperty(d)||e.push(function zle(t){return new Lt(3001,Xn)}())})}(h[m],e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function tce(){return new Lt(3011,Xn)}()),r;let d=0;const h=[];let m=!1,S=!1,k=0;const N=n.steps.map(De=>{const Te=this._makeStyleAst(De,e);let Fe=null!=Te.offset?Te.offset:function Uce(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(Vw(e)&&e.hasOwnProperty("offset")){const r=e;n=parseFloat(r.offset),delete r.offset}});else if(Vw(t)&&t.hasOwnProperty("offset")){const e=t;n=parseFloat(e.offset),delete e.offset}return n}(Te.styles),Ve=0;return null!=Fe&&(d++,Ve=Te.offset=Fe),S=S||Ve<0||Ve>1,m=m||Ve<k,k=Ve,h.push(Ve),Te});S&&e.errors.push(function nce(){return new Lt(3012,Xn)}()),m&&e.errors.push(function ice(){return new Lt(3200,Xn)}());const H=n.steps.length;let q=0;d>0&&d<H?e.errors.push(function rce(){return new Lt(3202,Xn)}()):0==d&&(q=1/(H-1));const ne=H-1,fe=e.currentTime,ye=e.currentAnimateTimings,me=ye.duration;return N.forEach((De,Te)=>{const Fe=q>0?Te==ne?1:q*Te:h[Te],Ve=Fe*me;e.currentTime=fe+ye.delay+Ve,ye.duration=Ve,this._validateStyleAst(De,e),De.offset=Fe,r.styles.push(De)}),r}visitReference(n,e){return{type:8,animation:bs(this,Iv(n.animation),e),options:Th(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Th(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Th(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,a=n.options||{};e.queryCount++,e.currentQuery=n;const[d,h]=function jce(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Vce,"")),t=t.replace(/@\*/g,kw).replace(/@\w+/g,e=>kw+"-"+e.substr(1)).replace(/:animating/g,uR),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+d:d,Cs(e.collectedStyles,e.currentQuerySelector,{});const m=bs(this,Iv(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:m,originalSelector:n.selector,options:Th(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function oce(){return new Lt(3013,Xn)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:Pw(n.timings,e.errors,!0);return{type:12,animation:bs(this,Iv(n.animation),e),timings:r,options:null}}}class Wce{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vw(t){return!Array.isArray(t)&&"object"==typeof t}function Th(t){return t?(t=Kf(t)).params&&(t.params=function $ce(t){return t?Kf(t):null}(t.params)):t={},t}function gR(t,n,e){return{duration:t,delay:n,easing:e}}function mR(t,n,e,r,a,d,h=null,m=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:a,delay:d,totalTime:a+d,easing:h,subTimeline:m}}class Hw{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const qce=new RegExp(":enter","g"),Qce=new RegExp(":leave","g");function _R(t,n,e,r,a,d={},h={},m,S,k=[]){return(new Zce).buildKeyframes(t,n,e,r,a,d,h,m,S,k)}class Zce{buildKeyframes(n,e,r,a,d,h,m,S,k,N=[]){k=k||new Hw;const H=new vR(n,e,k,a,d,N,[]);H.options=S,H.currentTimeline.setStyles([h],null,H.errors,S),bs(this,r,H);const q=H.timelines.filter(ne=>ne.containsAnimation());if(Object.keys(m).length){let ne;for(let fe=q.length-1;fe>=0;fe--){const ye=q[fe];if(ye.element===e){ne=ye;break}}ne&&!ne.allowOnlyTimelineStyles()&&ne.setStyles([m],null,H.errors,S)}return q.length?q.map(ne=>ne.buildKeyframes()):[mR(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const a=e.createSubContext(n.options),d=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,a,a.options);d!=h&&e.transformIntoNewTimeline(h)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,r){let d=e.currentTimeline.currentTime;const h=null!=r.duration?xh(r.duration):null,m=null!=r.delay?xh(r.delay):null;return 0!==h&&n.forEach(S=>{const k=e.appendInstructionToTimeline(S,h,m);d=Math.max(d,k.duration+k.delay)}),d}visitReference(n,e){e.updateOptions(n.options,!0),bs(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let a=e;const d=n.options;if(d&&(d.params||d.delay)&&(a=e.createSubContext(d),a.transformIntoNewTimeline(),null!=d.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=jw);const h=xh(d.delay);a.delayNextStep(h)}n.steps.length&&(n.steps.forEach(h=>bs(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let a=e.currentTimeline.currentTime;const d=n.options&&n.options.delay?xh(n.options.delay):0;n.steps.forEach(h=>{const m=e.createSubContext(n.options);d&&m.delayNextStep(d),bs(this,h,m),a=Math.max(a,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(a),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return Pw(e.params?Iw(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),a=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),a.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(r.duration),this.visitStyle(d,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,a=e.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const d=a&&a.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(d):r.setStyles(n.styles,d,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,a=e.currentTimeline.duration,d=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,n.styles.forEach(S=>{m.forwardTime((S.offset||0)*d),m.setStyles(S.styles,S.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(a+d),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,a=n.options||{},d=a.delay?xh(a.delay):0;d&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=jw);let h=r;const m=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=m.length;let S=null;m.forEach((k,N)=>{e.currentQueryIndex=N;const H=e.createSubContext(n.options,k);d&&H.delayNextStep(d),k===e.element&&(S=H.currentTimeline),bs(this,n.animation,H),H.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,H.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),S&&(e.currentTimeline.mergeTimelineCollectedStyles(S),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,a=e.currentTimeline,d=n.timings,h=Math.abs(d.duration),m=h*(e.currentQueryTotal-1);let S=h*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":S=m-S;break;case"full":S=r.currentStaggerTime}const N=e.currentTimeline;S&&N.delayNextStep(S);const H=N.currentTime;bs(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=a.currentTime-H+(a.startTime-r.currentTimeline.startTime)}}const jw={};class vR{constructor(n,e,r,a,d,h,m,S){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=d,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=S||new $w(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let a=this.options;null!=r.duration&&(a.duration=xh(r.duration)),null!=r.delay&&(a.delay=xh(r.delay));const d=r.params;if(d){let h=a.params;h||(h=this.options.params={}),Object.keys(d).forEach(m=>{(!e||!h.hasOwnProperty(m))&&(h[m]=Iw(d[m],h,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(a=>{r[a]=e[a]})}}return n}createSubContext(n=null,e,r){const a=e||this.element,d=new vR(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=jw,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const a={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+n.delay,easing:""},d=new Jce(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,a,n.stretchStartingKeyframe);return this.timelines.push(d),a}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,a,d,h){let m=[];if(a&&m.push(this.element),n.length>0){n=(n=n.replace(qce,"."+this._enterClassName)).replace(Qce,"."+this._leaveClassName);let k=this._driver.query(this.element,n,1!=r);0!==r&&(k=r<0?k.slice(k.length+r,k.length):k.slice(0,r)),m.push(...k)}return!d&&0==m.length&&h.push(function sce(t){return new Lt(3014,Xn)}()),m}}class $w{constructor(n,e,r,a){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new $w(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ql,this._currentKeyframe[e]=ql}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,a){e&&(this._previousKeyframe.easing=e);const d=a&&a.params||{},h=function eue(t,n){const e={};let r;return t.forEach(a=>{"*"===a?(r=r||Object.keys(n),r.forEach(d=>{e[d]=ql})):Ou(a,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const S=Iw(h[m],d,r);this._pendingStyles[m]=S,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:ql),this._updateStyle(m,S)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=n[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const r=this._styleSummary[e],a=n._styleSummary[e];(!r||a.time>r.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,S)=>{const k=Ou(m,!0);Object.keys(k).forEach(N=>{const H=k[N];"!"==H?n.add(N):H==ql&&e.add(N)}),r||(k.offset=S/this.duration),a.push(k)});const d=n.size?Mw(n.values()):[],h=e.size?Mw(e.values()):[];if(r){const m=a[0],S=Kf(m);m.offset=0,S.offset=1,a=[m,S]}return mR(this.element,a,d,h,this.duration,this.startTime,this.easing,!1)}}class Jce extends $w{constructor(n,e,r,a,d,h,m=!1){super(n,e,h.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=d,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],h=r+e,m=e/h,S=Ou(n[0],!1);S.offset=0,d.push(S);const k=Ou(n[0],!1);k.offset=FB(m),d.push(k);const N=n.length-1;for(let H=1;H<=N;H++){let q=Ou(n[H],!1);q.offset=FB((e+q.offset*r)/h),d.push(q)}r=h,e=0,a="",n=d}return mR(this.element,n,this.preStyleProps,this.postStyleProps,r,e,a,!0)}}function FB(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class yR{}class tue extends yR{normalizePropertyName(n,e){return pR(n)}normalizeStyleValue(n,e,r,a){let d="";const h=r.toString().trim();if(nue[e]&&0!==r&&"0"!==r)if("number"==typeof r)d="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(function qle(t,n){return new Lt(3005,Xn)}())}return h+d}}const nue=(()=>function iue(t){const n={};return t.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function LB(t,n,e,r,a,d,h,m,S,k,N,H,q){return{type:0,element:t,triggerName:n,isRemovalTransition:a,fromState:e,fromStyles:d,toState:r,toStyles:h,timelines:m,queriedElements:S,preStyleProps:k,postStyleProps:N,totalTime:H,errors:q}}const CR={};class GB{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,a){return function rue(t,n,e,r,a){return t.some(d=>d(n,e,r,a))}(this.ast.matchers,n,e,r,a)}buildStyles(n,e,r){const a=this._stateStyles["*"],d=this._stateStyles[n],h=a?a.buildStyles(e,r):{};return d?d.buildStyles(e,r):h}build(n,e,r,a,d,h,m,S,k,N){const H=[],q=this.ast.options&&this.ast.options.params||CR,fe=this.buildStyles(r,m&&m.params||CR,H),ye=S&&S.params||CR,me=this.buildStyles(a,ye,H),De=new Set,Te=new Map,Fe=new Map,Ve="void"===a,qe={params:Object.assign(Object.assign({},q),ye)},Je=N?[]:_R(n,e,this.ast.animation,d,h,fe,me,qe,k,H);let Dt=0;if(Je.forEach(qt=>{Dt=Math.max(qt.duration+qt.delay,Dt)}),H.length)return LB(e,this._triggerName,r,a,Ve,fe,me,[],[],Te,Fe,Dt,H);Je.forEach(qt=>{const $t=qt.element,yt=Cs(Te,$t,{});qt.preStyleProps.forEach(Tt=>yt[Tt]=!0);const Pt=Cs(Fe,$t,{});qt.postStyleProps.forEach(Tt=>Pt[Tt]=!0),$t!==e&&De.add($t)});const kt=Mw(De.values());return LB(e,this._triggerName,r,a,Ve,fe,me,Je,kt,Te,Fe,Dt)}}class oue{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r={},a=Kf(this.defaultParams);return Object.keys(n).forEach(d=>{const h=n[d];null!=h&&(a[d]=h)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const h=d;Object.keys(h).forEach(m=>{let S=h[m];S.length>1&&(S=Iw(S,a,e));const k=this.normalizer.normalizePropertyName(m,e);S=this.normalizer.normalizeStyleValue(m,k,S,e),r[k]=S})}}),r}}class aue{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new oue(a.style,a.options&&a.options.params||{},r)}),BB(this.states,"true","1"),BB(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new GB(n,a,this.states))}),this.fallbackTransition=function lue(t,n,e){return new GB(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,a){return this.transitionFactories.find(h=>h.match(n,e,r,a))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function BB(t,n,e){t.hasOwnProperty(n)?t.hasOwnProperty(e)||(t[e]=t[n]):t.hasOwnProperty(e)&&(t[n]=t[e])}const cue=new Hw;class uue{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(n,e){const r=[],d=fR(this._driver,e,r,[]);if(r.length)throw function pce(t){return new Lt(3503,Xn)}();this._animations[n]=d}_buildPlayer(n,e,r){const a=n.element,d=_B(0,this._normalizer,0,n.keyframes,e,r);return this._driver.animate(a,d,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const a=[],d=this._animations[n];let h;const m=new Map;if(d?(h=_R(this._driver,e,d,cR,Rw,{},{},r,cue,a),h.forEach(N=>{const H=Cs(m,N.element,{});N.postStyleProps.forEach(q=>H[q]=null)})):(a.push(function fce(){return new Lt(3300,Xn)}()),h=[]),a.length)throw function gce(t){return new Lt(3504,Xn)}();m.forEach((N,H)=>{Object.keys(N).forEach(q=>{N[q]=this._driver.computeStyle(H,q,ql)})});const k=Ru(h.map(N=>{const H=m.get(N.element);return this._buildPlayer(N,{},H)}));return this._playersById[n]=k,k.onDestroy(()=>this.destroy(n)),this.players.push(k),k}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw function mce(t){return new Lt(3301,Xn)}();return e}listen(n,e,r,a){const d=oR(e,"","","");return iR(this._getPlayer(n),r,d,a),()=>{}}command(n,e,r,a){if("register"==r)return void this.register(n,a[0]);if("create"==r)return void this.create(n,e,a[0]||{});const d=this._getPlayer(n);switch(r){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(n)}}}const VB="ng-animate-queued",bR="ng-animate-disabled",gue=[],HB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},js="__ng_removed";class wR{constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function Cue(t){return null!=t?t:null}(r?n.value:n),r){const d=Kf(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(a=>{null==r[a]&&(r[a]=e[a])})}}}const Mv="void",xR=new wR(Mv);class _ue{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,$s(e,this._hostClassName)}listen(n,e,r,a){if(!this._triggers.hasOwnProperty(e))throw function _ce(t,n){return new Lt(3302,Xn)}();if(null==r||0==r.length)throw function vce(t){return new Lt(3303,Xn)}();if(!function bue(t){return"start"==t||"done"==t}(r))throw function yce(t,n){return new Lt(3400,Xn)}();const d=Cs(this._elementListeners,n,[]),h={name:e,phase:r,callback:a};d.push(h);const m=Cs(this._engine.statesByElement,n,{});return m.hasOwnProperty(e)||($s(n,Ow),$s(n,Ow+"-"+e),m[e]=xR),()=>{this._engine.afterFlush(()=>{const S=d.indexOf(h);S>=0&&d.splice(S,1),this._triggers[e]||delete m[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw function Cce(t){return new Lt(3401,Xn)}();return e}trigger(n,e,r,a=!0){const d=this._getTrigger(e),h=new SR(this.id,e,n);let m=this._engine.statesByElement.get(n);m||($s(n,Ow),$s(n,Ow+"-"+e),this._engine.statesByElement.set(n,m={}));let S=m[e];const k=new wR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&S&&k.absorbOptions(S.options),m[e]=k,S||(S=xR),k.value!==Mv&&S.value===k.value){if(!function Sue(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let a=0;a<e.length;a++){const d=e[a];if(!n.hasOwnProperty(d)||t[d]!==n[d])return!1}return!0}(S.params,k.params)){const ye=[],me=d.matchStyles(S.value,S.params,ye),De=d.matchStyles(k.value,k.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Sh(n,me),nl(n,De)})}return}const q=Cs(this._engine.playersByElement,n,[]);q.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==e&&ye.queued&&ye.destroy()});let ne=d.matchTransition(S.value,k.value,n,k.params),fe=!1;if(!ne){if(!a)return;ne=d.fallbackTransition,fe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:ne,fromState:S,toState:k,player:h,isFallbackTransition:fe}),fe||($s(n,VB),h.onStart(()=>{qf(n,VB)})),h.onDone(()=>{let ye=this.players.indexOf(h);ye>=0&&this.players.splice(ye,1);const me=this._engine.playersByElement.get(n);if(me){let De=me.indexOf(h);De>=0&&me.splice(De,1)}}),this.players.push(h),q.push(h),h}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,r)=>{delete e[n]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(a=>a.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,kw,!0);r.forEach(a=>{if(a[js])return;const d=this._engine.fetchNamespacesByElement(a);d.size?d.forEach(h=>h.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(n,e,r,a){const d=this._engine.statesByElement.get(n),h=new Map;if(d){const m=[];if(Object.keys(d).forEach(S=>{if(h.set(S,d[S].value),this._triggers[S]){const k=this.trigger(n,S,Mv,a);k&&m.push(k)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,h),r&&Ru(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const a=new Set;e.forEach(d=>{const h=d.name;if(a.has(h))return;a.add(h);const S=this._triggers[h].fallbackTransition,k=r[h]||xR,N=new wR(Mv),H=new SR(this.id,h,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:h,transition:S,fromState:k,toState:N,player:H,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let a=!1;if(r.totalAnimations){const d=r.players.length?r.playersByQueriedElement.get(n):[];if(d&&d.length)a=!0;else{let h=n;for(;h=h.parentNode;)if(r.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(n),a)r.markElementAsRemoved(this.id,n,!1,e);else{const d=n[js];(!d||d===HB)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){$s(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const d=r.element,h=this._elementListeners.get(d);h&&h.forEach(m=>{if(m.name==r.triggerName){const S=oR(d,r.triggerName,r.fromState.value,r.toState.value);S._data=n,iR(r.player,m.phase,S,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(r)}),this._queue=[],e.sort((r,a)=>{const d=r.transition.ast.depCount,h=a.transition.ast.depCount;return 0==d||0==h?d-h:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class vue{constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,d)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new _ue(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,a=this.namespacesByHostElement,d=r.length-1;if(d>=0){let h=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(e);for(;m;){const S=a.get(m);if(S){const k=r.indexOf(S);r.splice(k+1,0,n),h=!0;break}m=this.driver.getParentElement(m)}}else for(let m=d;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,e)){r.splice(m+1,0,n),h=!0;break}h||r.unshift(n)}else r.push(n);return a.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let a=this._namespaceLookup[n];a&&a.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r){const a=Object.keys(r);for(let d=0;d<a.length;d++){const h=r[a[d]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&e.add(m)}}}return e}trigger(n,e,r,a){if(Ww(e)){const d=this._fetchNamespace(n);if(d)return d.trigger(e,r,a),!0}return!1}insertNode(n,e,r,a){if(!Ww(e))return;const d=e[js];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(n){const h=this._fetchNamespace(n);h&&h.insertNode(e,r)}a&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),$s(n,bR)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),qf(n,bR))}removeNode(n,e,r,a){if(Ww(e)){const d=n?this._fetchNamespace(n):null;if(d?d.removeNode(e,a):this.markElementAsRemoved(n,e,!1,a),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==n&&h.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(n,e,r,a,d){this.collectedLeaveElements.push(e),e[js]={namespaceId:n,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:d}}listen(n,e,r,a,d){return Ww(e)?this._fetchNamespace(n).listen(e,r,a,d):()=>{}}_buildInstruction(n,e,r,a,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,a,n.fromState.options,n.toState.options,e,d)}destroyInnerAnimations(n){let e=this.driver.query(n,kw,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,uR,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Ru(this.players).onDone(()=>n());n()})}processLeaveNode(n){var e;const r=n[js];if(r&&r.setForRemoval){if(n[js]=HB,r.namespaceId){this.destroyInnerAnimations(n);const a=this._fetchNamespace(r.namespaceId);a&&a.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}(null===(e=n.classList)||void 0===e?void 0:e.contains(bR))&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)$s(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ru(e).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(n){throw function bce(t){return new Lt(3402,Xn)}()}_flushAnimations(n,e){const r=new Hw,a=[],d=new Map,h=[],m=new Map,S=new Map,k=new Map,N=new Set;this.disabledNodes.forEach(ct=>{N.add(ct);const mt=this.driver.query(ct,".ng-animate-queued",!0);for(let Gt=0;Gt<mt.length;Gt++)N.add(mt[Gt])});const H=this.bodyNode,q=Array.from(this.statesByElement.keys()),ne=WB(q,this.collectedEnterElements),fe=new Map;let ye=0;ne.forEach((ct,mt)=>{const Gt=cR+ye++;fe.set(mt,Gt),ct.forEach(Ft=>$s(Ft,Gt))});const me=[],De=new Set,Te=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const mt=this.collectedLeaveElements[ct],Gt=mt[js];Gt&&Gt.setForRemoval&&(me.push(mt),De.add(mt),Gt.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(Ft=>De.add(Ft)):Te.add(mt))}const Fe=new Map,Ve=WB(q,Array.from(De));Ve.forEach((ct,mt)=>{const Gt=Rw+ye++;Fe.set(mt,Gt),ct.forEach(Ft=>$s(Ft,Gt))}),n.push(()=>{ne.forEach((ct,mt)=>{const Gt=fe.get(mt);ct.forEach(Ft=>qf(Ft,Gt))}),Ve.forEach((ct,mt)=>{const Gt=Fe.get(mt);ct.forEach(Ft=>qf(Ft,Gt))}),me.forEach(ct=>{this.processLeaveNode(ct)})});const qe=[],Je=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(e).forEach(Gt=>{const Ft=Gt.player,gn=Gt.element;if(qe.push(Ft),this.collectedEnterElements.length){const Gn=gn[js];if(Gn&&Gn.setForMove){if(Gn.previousTriggersValues&&Gn.previousTriggersValues.has(Gt.triggerName)){const $i=Gn.previousTriggersValues.get(Gt.triggerName),Rt=this.statesByElement.get(Gt.element);Rt&&Rt[Gt.triggerName]&&(Rt[Gt.triggerName].value=$i)}return void Ft.destroy()}}const Ln=!H||!this.driver.containsElement(H,gn),Dn=Fe.get(gn),Qi=fe.get(gn),yn=this._buildInstruction(Gt,r,Qi,Dn,Ln);if(yn.errors&&yn.errors.length)return void Je.push(yn);if(Ln)return Ft.onStart(()=>Sh(gn,yn.fromStyles)),Ft.onDestroy(()=>nl(gn,yn.toStyles)),void a.push(Ft);if(Gt.isFallbackTransition)return Ft.onStart(()=>Sh(gn,yn.fromStyles)),Ft.onDestroy(()=>nl(gn,yn.toStyles)),void a.push(Ft);const ir=[];yn.timelines.forEach(Gn=>{Gn.stretchStartingKeyframe=!0,this.disabledNodes.has(Gn.element)||ir.push(Gn)}),yn.timelines=ir,r.append(gn,yn.timelines),h.push({instruction:yn,player:Ft,element:gn}),yn.queriedElements.forEach(Gn=>Cs(m,Gn,[]).push(Ft)),yn.preStyleProps.forEach((Gn,$i)=>{const Rt=Object.keys(Gn);if(Rt.length){let rn=S.get($i);rn||S.set($i,rn=new Set),Rt.forEach(On=>rn.add(On))}}),yn.postStyleProps.forEach((Gn,$i)=>{const Rt=Object.keys(Gn);let rn=k.get($i);rn||k.set($i,rn=new Set),Rt.forEach(On=>rn.add(On))})});if(Je.length){const ct=[];Je.forEach(mt=>{ct.push(function wce(t,n){return new Lt(3505,Xn)}())}),qe.forEach(mt=>mt.destroy()),this.reportError(ct)}const Dt=new Map,kt=new Map;h.forEach(ct=>{const mt=ct.element;r.has(mt)&&(kt.set(mt,mt),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,Dt))}),a.forEach(ct=>{const mt=ct.element;this._getPreviousPlayers(mt,!1,ct.namespaceId,ct.triggerName,null).forEach(Ft=>{Cs(Dt,mt,[]).push(Ft),Ft.destroy()})});const qt=me.filter(ct=>zB(ct,S,k)),$t=new Map;$B($t,this.driver,Te,k,ql).forEach(ct=>{zB(ct,S,k)&&qt.push(ct)});const Pt=new Map;ne.forEach((ct,mt)=>{$B(Pt,this.driver,new Set(ct),S,"!")}),qt.forEach(ct=>{const mt=$t.get(ct),Gt=Pt.get(ct);$t.set(ct,Object.assign(Object.assign({},mt),Gt))});const Tt=[],vn=[],Zn={};h.forEach(ct=>{const{element:mt,player:Gt,instruction:Ft}=ct;if(r.has(mt)){if(N.has(mt))return Gt.onDestroy(()=>nl(mt,Ft.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(Ft.totalTime),void a.push(Gt);let gn=Zn;if(kt.size>1){let Dn=mt;const Qi=[];for(;Dn=Dn.parentNode;){const yn=kt.get(Dn);if(yn){gn=yn;break}Qi.push(Dn)}Qi.forEach(yn=>kt.set(yn,gn))}const Ln=this._buildAnimation(Gt.namespaceId,Ft,Dt,d,Pt,$t);if(Gt.setRealPlayer(Ln),gn===Zn)Tt.push(Gt);else{const Dn=this.playersByElement.get(gn);Dn&&Dn.length&&(Gt.parentPlayer=Ru(Dn)),a.push(Gt)}}else Sh(mt,Ft.fromStyles),Gt.onDestroy(()=>nl(mt,Ft.toStyles)),vn.push(Gt),N.has(mt)&&a.push(Gt)}),vn.forEach(ct=>{const mt=d.get(ct.element);if(mt&&mt.length){const Gt=Ru(mt);ct.setRealPlayer(Gt)}}),a.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<me.length;ct++){const mt=me[ct],Gt=mt[js];if(qf(mt,Rw),Gt&&Gt.hasAnimation)continue;let Ft=[];if(m.size){let Ln=m.get(mt);Ln&&Ln.length&&Ft.push(...Ln);let Dn=this.driver.query(mt,uR,!0);for(let Qi=0;Qi<Dn.length;Qi++){let yn=m.get(Dn[Qi]);yn&&yn.length&&Ft.push(...yn)}}const gn=Ft.filter(Ln=>!Ln.destroyed);gn.length?wue(this,mt,gn):this.processLeaveNode(mt)}return me.length=0,Tt.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const mt=this.players.indexOf(ct);this.players.splice(mt,1)}),ct.play()}),Tt}elementContainsData(n,e){let r=!1;const a=e[js];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,a,d){let h=[];if(e){const m=this.playersByQueriedElement.get(n);m&&(h=m)}else{const m=this.playersByElement.get(n);if(m){const S=!d||d==Mv;m.forEach(k=>{k.queued||!S&&k.triggerName!=a||h.push(k)})}}return(r||a)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||a&&a!=m.triggerName))),h}_beforeAnimationBuild(n,e,r){const d=e.element,h=e.isRemovalTransition?void 0:n,m=e.isRemovalTransition?void 0:e.triggerName;for(const S of e.timelines){const k=S.element,N=k!==d,H=Cs(r,k,[]);this._getPreviousPlayers(k,N,h,m,e.toState).forEach(ne=>{const fe=ne.getRealPlayer();fe.beforeDestroy&&fe.beforeDestroy(),ne.destroy(),H.push(ne)})}Sh(d,e.fromStyles)}_buildAnimation(n,e,r,a,d,h){const m=e.triggerName,S=e.element,k=[],N=new Set,H=new Set,q=e.timelines.map(fe=>{const ye=fe.element;N.add(ye);const me=ye[js];if(me&&me.removedBeforeQueried)return new L_(fe.duration,fe.delay);const De=ye!==S,Te=function xue(t){const n=[];return UB(t,n),n}((r.get(ye)||gue).map(Dt=>Dt.getRealPlayer())).filter(Dt=>!!Dt.element&&Dt.element===ye),Fe=d.get(ye),Ve=h.get(ye),qe=_B(0,this._normalizer,0,fe.keyframes,Fe,Ve),Je=this._buildPlayer(fe,qe,Te);if(fe.subTimeline&&a&&H.add(ye),De){const Dt=new SR(n,m,ye);Dt.setRealPlayer(Je),k.push(Dt)}return Je});k.forEach(fe=>{Cs(this.playersByQueriedElement,fe.element,[]).push(fe),fe.onDone(()=>function yue(t,n,e){let r;if(t instanceof Map){if(r=t.get(n),r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&t.delete(n)}}else if(r=t[n],r){if(r.length){const a=r.indexOf(e);r.splice(a,1)}0==r.length&&delete t[n]}return r}(this.playersByQueriedElement,fe.element,fe))}),N.forEach(fe=>$s(fe,DB));const ne=Ru(q);return ne.onDestroy(()=>{N.forEach(fe=>qf(fe,DB)),nl(S,e.toStyles)}),H.forEach(fe=>{Cs(a,fe,[]).push(ne)}),ne}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new L_(n.duration,n.delay)}}class SR{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new L_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>iR(n,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Cs(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Ww(t){return t&&1===t.nodeType}function jB(t,n){const e=t.style.display;return t.style.display=null!=n?n:"none",e}function $B(t,n,e,r,a){const d=[];e.forEach(S=>d.push(jB(S)));const h=[];r.forEach((S,k)=>{const N={};S.forEach(H=>{const q=N[H]=n.computeStyle(k,H,a);(!q||0==q.length)&&(k[js]=mue,h.push(k))}),t.set(k,N)});let m=0;return e.forEach(S=>jB(S,d[m++])),h}function WB(t,n){const e=new Map;if(t.forEach(m=>e.set(m,[])),0==n.length)return e;const a=new Set(n),d=new Map;function h(m){if(!m)return 1;let S=d.get(m);if(S)return S;const k=m.parentNode;return S=e.has(k)?k:a.has(k)?1:h(k),d.set(m,S),S}return n.forEach(m=>{const S=h(m);1!==S&&e.get(S).push(m)}),e}function $s(t,n){var e;null===(e=t.classList)||void 0===e||e.add(n)}function qf(t,n){var e;null===(e=t.classList)||void 0===e||e.remove(n)}function wue(t,n,e){Ru(e).onDone(()=>t.processLeaveNode(n))}function UB(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof CM?UB(r.players,n):n.push(r)}}function zB(t,n,e){const r=e.get(t);if(!r)return!1;let a=n.get(t);return a?r.forEach(d=>a.add(d)):n.set(t,r),e.delete(t),!0}class Uw{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,d)=>{},this._transitionEngine=new vue(n,e,r),this._timelineEngine=new uue(n,e,r),this._transitionEngine.onRemovalComplete=(a,d)=>this.onRemovalComplete(a,d)}registerTrigger(n,e,r,a,d){const h=n+"-"+a;let m=this._triggerCache[h];if(!m){const S=[],N=fR(this._driver,d,S,[]);if(S.length)throw function dce(t,n){return new Lt(3404,Xn)}();m=function sue(t,n,e){return new aue(t,n,e)}(a,N,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(e,a,m)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,a){this._transitionEngine.insertNode(n,e,r,a)}onRemove(n,e,r,a){this._transitionEngine.removeNode(n,e,a||!1,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,a){if("@"==r.charAt(0)){const[d,h]=vB(r);this._timelineEngine.command(d,e,h,a)}else this._transitionEngine.trigger(n,e,r,a)}listen(n,e,r,a,d){if("@"==r.charAt(0)){const[h,m]=vB(r);return this._timelineEngine.listen(h,e,m,d)}return this._transitionEngine.listen(n,e,r,a,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Eue=(()=>{class t{constructor(e,r,a){this._element=e,this._startStyles=r,this._endStyles=a,this._state=0;let d=t.initialStylesByElement.get(e);d||t.initialStylesByElement.set(e,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&nl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nl(this._element,this._initialStyles),this._endStyles&&(nl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Sh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sh(this._element,this._endStyles),this._endStyles=null),nl(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function TR(t){let n=null;const e=Object.keys(t);for(let r=0;r<e.length;r++){const a=e[r];Due(a)&&(n=n||{},n[a]=t[a])}return n}function Due(t){return"display"===t||"position"===t}class YB{constructor(n,e,r,a){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,r){return n.animate(e,r)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(n[r]=this._finished?e[r]:PB(this.element,r))})}this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Aue{validateStyleProperty(n){return wB(n)}matchesElement(n,e){return!1}containsElement(n,e){return xB(n,e)}getParentElement(n){return aR(n)}query(n,e,r){return SB(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}animate(n,e,r,a,d,h=[]){const S={duration:r,delay:a,fill:0==a?"both":"forwards"};d&&(S.easing=d);const k={},N=h.filter(q=>q instanceof YB);(function Pce(t,n){return 0===t||0===n})(r,a)&&N.forEach(q=>{let ne=q.currentSnapshot;Object.keys(ne).forEach(fe=>k[fe]=ne[fe])}),e=function Ice(t,n,e){const r=Object.keys(e);if(r.length&&n.length){let d=n[0],h=[];if(r.forEach(m=>{d.hasOwnProperty(m)||h.push(m),d[m]=e[m]}),h.length)for(var a=1;a<n.length;a++){let m=n[a];h.forEach(function(S){m[S]=PB(t,S)})}}return n}(n,e=e.map(q=>Ou(q,!1)),k);const H=function Tue(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=TR(n[0]),n.length>1&&(r=TR(n[n.length-1]))):n&&(e=TR(n)),e||r?new Eue(t,e,r):null}(n,e);return new YB(n,e,S,H)}}let Rue=(()=>{class t extends _M{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:kr.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?vM(e):e;return KB(this._renderer,null,r,"register",[a]),new Oue(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Qe(af),Qe(ri))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class Oue extends class Fz{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new kue(this._id,n,e||{},this._renderer)}}class kue{constructor(n,e,r,a){this.id=n,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return KB(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function KB(t,n,e,r,a){return t.setProperty(n,`@@${e}:${r}`,a)}const qB="@.disabled";let Pue=(()=>{class t{constructor(e,r,a){this.delegate=e,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(d,h)=>{const m=null==h?void 0:h.parentNode(d);m&&h.removeChild(m,d)}}createRenderer(e,r){const d=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let N=this._rendererCache.get(d);return N||(N=new XB("",d,this.engine),this._rendererCache.set(d,N)),N}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const S=N=>{Array.isArray(N)?N.forEach(S):this.engine.registerTrigger(h,m,e,N.name,N)};return r.data.animation.forEach(S),new Iue(this,m,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,a){e>=0&&e<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[h,m]=d;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Qe(af),Qe(Uw),Qe($n))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class XB{constructor(n,e,r){this.namespaceId=n,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,a=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,a)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,a){this.delegate.setAttribute(n,e,r,a)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,a){this.delegate.setStyle(n,e,r,a)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==qB?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Iue extends XB{constructor(n,e,r,a){super(e,r,a),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==qB?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.substr(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const a=function Mue(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let d=e.substr(1),h="";return"@"!=d.charAt(0)&&([d,h]=function Nue(t){const n=t.indexOf(".");return[t.substring(0,n),t.substr(n+1)]}(d)),this.engine.listen(this.namespaceId,a,d,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(n,e,r)}}let Fue=(()=>{class t extends Uw{constructor(e,r,a){super(e.body,r,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Qe(ri),Qe(lR),Qe(yR))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();const QB=new Kt("AnimationModuleType"),ZB=[{provide:_M,useClass:Rue},{provide:yR,useFactory:function Lue(){return new tue}},{provide:Uw,useClass:Fue},{provide:af,useFactory:function Gue(t,n,e){return new Pue(t,n,e)},deps:[Q0,Uw,$n]}],JB=[{provide:lR,useFactory:()=>new Aue},{provide:QB,useValue:"BrowserAnimations"},...ZB],Bue=[{provide:lR,useClass:TB},{provide:QB,useValue:"NoopAnimations"},...ZB];let Vue=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Bue:JB}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=en({providers:JB,imports:[nI]}),t})(),Hue=(()=>{class t{constructor(e){this.tokenService=e}intercept(e,r){var a=e;const d=this.tokenService.getToken();return null!=d&&(a=e.clone({headers:e.headers.set("Authorization","Bearer "+d)})),r.handle(a)}}return t.\u0275fac=function(e){return new(e||t)(Qe(Ls))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),jue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Xt({type:t,bootstrap:[SM]}),t.\u0275inj=en({providers:[{provide:aD,useClass:Hue,multi:!0}],imports:[[_K,nI,$le,Vue,SN,f4,TN,o5.forRoot({preventDuplicates:!0}),_9,Jre,Yf]]}),t})();(function q3(){fP=!1})(),sW().bootstrapModule(jue).catch(t=>console.error(t))},564:(Or,j)=>{"use strict";function R(u){return null==u||""===u?null:u}function I(u,o){return void 0===o&&(o=!1),null!=u&&(""!==u||o)}function O(u){return!I(u)}function x(u){return null==u||0===u.length}function D(u){return null!=u&&"function"==typeof u.toString?u.toString():null}function C(u){if(void 0!==u){if(null===u||""===u)return null;if("number"==typeof u)return isNaN(u)?void 0:u;var o=parseInt(u,10);return isNaN(o)?void 0:o}}function _(u){if(void 0!==u)return null!==u&&""!==u&&("boolean"==typeof u?u:/true/i.test(u))}function b(u){if(u instanceof Set||u instanceof Map){var o=[];return u.forEach(function(i){return o.push(i)}),o}return Object.values(u)}var T=Object.freeze({makeNull:R,exists:I,missing:O,missingOrEmpty:x,toStringOrNull:D,attrToNumber:C,attrToBoolean:_,attrToString:function y(u){if(null!=u&&""!==u)return u},referenceCompare:function f(u,o){return null==u&&null==o||!(null==u&&null!=o||null!=u&&null==o)&&u===o},jsonEquals:function g(u,o){return(u?JSON.stringify(u):null)===(o?JSON.stringify(o):null)},defaultComparator:function w(u,o,i){void 0===i&&(i=!1);var s=null==u,l=null==o;if(u&&u.toNumber&&(u=u.toNumber()),o&&o.toNumber&&(o=o.toNumber()),s&&l)return 0;if(s)return-1;if(l)return 1;function c(p,v){return p>v?1:p<v?-1:0}if("string"!=typeof u||!i)return c(u,o);try{return u.localeCompare(o)}catch(p){return c(u,o)}},values:b}),P=function(){function u(){this.existingKeys={}}return u.prototype.addExistingKeys=function(o){for(var i=0;i<o.length;i++)this.existingKeys[o[i]]=!0},u.prototype.getUniqueKey=function(o,i){o=D(o);for(var s=0;;){var l=void 0;if(o?(l=o,0!==s&&(l+="_"+s)):i?(l=i,0!==s&&(l+="_"+s)):l=""+s,!this.existingKeys[l])return this.existingKeys[l]=!0,l;s++}},u}();function E(u,o){null!=u&&(Array.isArray(u)?u.forEach(function(i,s){return o(""+s,i)}):Object.keys(u).forEach(function(i){return o(i,u[i])}))}function F(u){for(var o={},i=Object.keys(u),s=0;s<i.length;s++){var l=i[s];o[l]=u[l]}return o}function V(u,o){if(u){var i=u,s={};return Object.keys(i).forEach(function(l){if(!(o&&o.indexOf(l)>=0)){var c=i[l],p=Me(c)&&c.constructor===Object;s[l]=p?V(c):c}}),s}}function B(u,o){return u[o]}function K(u,o,i){u[o]=i}function ee(u,o,i,s){var l=B(u,i);void 0!==l&&K(o,i,s?s(l):l)}function ie(u){var o={};return u.filter(function(i){return null!=i}).forEach(function(i){Object.keys(i).forEach(function(s){return o[s]=null})}),Object.keys(o)}function J(u){if(!u)return[];var o=Object;if("function"==typeof o.values)return o.values(u);var i=[];for(var s in u)u.hasOwnProperty(s)&&u.propertyIsEnumerable(s)&&i.push(u[s]);return i}function Q(u,o,i,s){void 0===i&&(i=!0),void 0===s&&(s=!1),I(o)&&E(o,function(l,c){var p=u[l];p!==c&&(s&&null==p&&null!=c&&"object"==typeof c&&c.constructor===Object&&(u[l]=p={}),Me(c)&&Me(p)&&!Array.isArray(p)?Q(p,c,i,s):(i||void 0!==c)&&(u[l]=c))})}function we(u,o,i){if(o&&u){if(!i)return u[o];for(var s=o.split("."),l=u,c=0;c<s.length;c++){if(null==l)return;l=l[s[c]]}return l}}function Pe(u,o){Object.keys(u).forEach(function(l){"object"==typeof u[l]&&(u[l]=void 0)});var i=Object.getPrototypeOf(u),s={};Object.keys(i).forEach(function(l){"function"==typeof i[l]&&(s[l]={value:function(){console.warn("AG Grid: "+o+" function "+l+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(u,s)}function Me(u){return"object"==typeof u&&null!==u}var Oe=Object.freeze({iterateObject:E,cloneObject:F,deepCloneObject:function G(u){return JSON.parse(JSON.stringify(u))},deepCloneDefinition:V,getProperty:B,setProperty:K,copyPropertiesIfPresent:function U(u,o){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];i.forEach(function(l){return ee(u,o,l)})},copyPropertyIfPresent:ee,getAllKeysInObjects:ie,getAllValuesInObject:J,mergeDeep:Q,missingOrEmptyObject:function oe(u){return O(u)||0===Object.keys(u).length},get:function ce(u,o,i){if(null==u)return i;for(var s=o.split("."),l=u;s.length>1;)if(null==(l=l[s.shift()]))return i;var c=l[s[0]];return null!=c?c:i},set:function ge(u,o,i){if(null!=u){for(var s=o.split("."),l=u;s.length>1;)if(null==(l=l[s.shift()]))return;l[s[0]]=i}},deepFreeze:function _e(u){return Object.freeze(u),b(u).forEach(function(o){(Me(o)||"function"==typeof o)&&_e(o)}),u},getValueUsingField:we,removeAllReferences:Pe,isNonNullObject:Me}),Be=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,je=/([^\s,]+)/g,nt={};function We(u,o){nt[o]||(u(),nt[o]=!0)}function ze(u){if(u.name)return u.name;var o=/function\s+([^\(]+)/.exec(u.toString());return o&&2===o.length?o[1].trim():null}function Ct(u){return!!(u&&u.constructor&&u.call&&u.apply)}function ke(u){Ne(u,400)}var It=[],jn=!1;function vt(u){It.push(u),!jn&&(jn=!0,window.setTimeout(function(){var o=It.slice();It.length=0,jn=!1,o.forEach(function(i){return i()})},0))}function Ne(u,o){void 0===o&&(o=0),u.length>0&&window.setTimeout(function(){return u.forEach(function(i){return i()})},o)}function $e(u,o,i){var s;return void 0===i&&(i=!1),function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var p=this,v=i&&!s;window.clearTimeout(s),s=window.setTimeout(function(){s=null,i||u.apply(p,l)},o),v&&u.apply(p,l)}}function et(u,o){var i=0;return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=this,p=(new Date).getTime();p-i<o||(i=p,u.apply(c,s))}}function bt(u,o,i,s){void 0===i&&(i=100);var l=(new Date).getTime(),c=null,p=!1,v=function(){var M=(new Date).getTime()-l>i;(u()||M)&&(o(),p=!0,null!=c&&(window.clearInterval(c),c=null),M&&s&&console.warn(s))};v(),p||(c=window.setInterval(v,10))}function Zt(u){u&&u()}var yi=Object.freeze({doOnce:We,getFunctionName:ze,getFunctionParameters:function ft(u){var o=u.toString().replace(Be,"");return o.slice(o.indexOf("(")+1,o.indexOf(")")).match(je)||[]},isFunction:Ct,executeInAWhile:ke,executeNextVMTurn:vt,executeAfter:Ne,debounce:$e,throttle:et,waitUntil:bt,compose:function jt(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];return function(i){return u.reduce(function(s,l){return l(s)},i)}},callIfPresent:Zt}),Ci=function(){function u(o,i){if(this.beanWrappers={},this.destroyed=!1,o&&o.beanClasses){this.contextParams=o,this.logger=i,this.logger.log(">> creating ag-Application Context"),this.createBeans();var s=this.getBeanInstances();this.wireBeans(s),this.logger.log(">> ag-Application Context ready - component is alive")}}return u.prototype.getBeanInstances=function(){return b(this.beanWrappers).map(function(o){return o.beanInstance})},u.prototype.createBean=function(o,i){if(!o)throw Error("Can't wire to bean since it is null");return this.wireBeans([o],i),o},u.prototype.wireBeans=function(o,i){this.autoWireBeans(o),this.methodWireBeans(o),this.callLifeCycleMethods(o,"preConstructMethods"),I(i)&&o.forEach(i),this.callLifeCycleMethods(o,"postConstructMethods")},u.prototype.createBeans=function(){var o=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),E(this.beanWrappers,function(s,l){var c;l.bean.__agBeanMetaData&&l.bean.__agBeanMetaData.autowireMethods&&l.bean.__agBeanMetaData.autowireMethods.agConstructor&&(c=l.bean.__agBeanMetaData.autowireMethods.agConstructor);var p=o.getBeansForParameters(c,l.bean.name),v=function rt(u,o){var i=[null].concat(o);return new(u.bind.apply(u,i))}(l.bean,p);l.beanInstance=v});var i=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+i)},u.prototype.createBeanWrapper=function(o){var i=o.__agBeanMetaData;if(!i){var s;return s=o.prototype.constructor?ze(o.prototype.constructor):""+o,void console.error("Context item "+s+" is not a bean")}this.beanWrappers[i.beanName]={bean:o,beanInstance:null,beanName:i.beanName}},u.prototype.autoWireBeans=function(o){var i=this;o.forEach(function(s){i.forEachMetaDataInHierarchy(s,function(l,c){var p=l.agClassAttributes;!p||p.forEach(function(v){var M=i.lookupBeanInstance(c,v.beanName,v.optional);s[v.attributeName]=M})})})},u.prototype.methodWireBeans=function(o){var i=this;o.forEach(function(s){i.forEachMetaDataInHierarchy(s,function(l,c){E(l.autowireMethods,function(p,v){if("agConstructor"!==p){var M=i.getBeansForParameters(v,c);s[p].apply(s,M)}})})})},u.prototype.forEachMetaDataInHierarchy=function(o,i){for(var s=Object.getPrototypeOf(o);null!=s;){var l=s.constructor;l.hasOwnProperty("__agBeanMetaData")&&i(l.__agBeanMetaData,this.getBeanName(l)),s=Object.getPrototypeOf(s)}},u.prototype.getBeanName=function(o){if(o.__agBeanMetaData&&o.__agBeanMetaData.beanName)return o.__agBeanMetaData.beanName;var i=o.toString();return i.substring(9,i.indexOf("("))},u.prototype.getBeansForParameters=function(o,i){var s=this,l=[];return o&&E(o,function(c,p){var v=s.lookupBeanInstance(i,p);l[Number(c)]=v}),l},u.prototype.lookupBeanInstance=function(o,i,s){if(void 0===s&&(s=!1),"context"===i)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(i))return this.contextParams.providedBeanInstances[i];var l=this.beanWrappers[i];return l?l.beanInstance:(s||console.error("AG Grid: unable to find bean reference "+i+" while initialising "+o),null)},u.prototype.callLifeCycleMethods=function(o,i){var s=this;o.forEach(function(l){return s.callLifeCycleMethodsOnBean(l,i)})},u.prototype.callLifeCycleMethodsOnBean=function(o,i,s){var l={};this.forEachMetaDataInHierarchy(o,function(p){var v=p[i];v&&v.forEach(function(M){M!=s&&(l[M]=!0)})}),Object.keys(l).forEach(function(p){return o[p]()})},u.prototype.getBean=function(o){return this.lookupBeanInstance("getBean",o,!0)},u.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var o=this.getBeanInstances();this.destroyBeans(o),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},u.prototype.destroyBean=function(o){!o||this.destroyBeans([o])},u.prototype.destroyBeans=function(o){var i=this;return o?(o.forEach(function(s){i.callLifeCycleMethodsOnBean(s,"preDestroyMethods","destroy"),"function"==typeof s.destroy&&s.destroy()}),[]):[]},u}();function Jt(u,o,i){var s=eo(u.constructor);s.preConstructMethods||(s.preConstructMethods=[]),s.preConstructMethods.push(o)}function Xe(u,o,i){var s=eo(u.constructor);s.postConstructMethods||(s.postConstructMethods=[]),s.postConstructMethods.push(o)}function Yt(u,o,i){var s=eo(u.constructor);s.preDestroyMethods||(s.preDestroyMethods=[]),s.preDestroyMethods.push(o)}function at(u){return function(o){eo(o).beanName=u}}function le(u){return function(o,i,s){mo(o,u,!1,0,i,null)}}function fn(u){return function(o,i,s){mo(o,u,!0,0,i,null)}}function mo(u,o,i,s,l,c){if(null!==o)if("number"!=typeof c){var p=eo(u.constructor);p.agClassAttributes||(p.agClassAttributes=[]),p.agClassAttributes.push({attributeName:l,beanName:o,optional:i})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Jn(u){return function(o,i,s){var c,l="function"==typeof o?o:o.constructor;if("number"==typeof s){var p=void 0;i?(c=eo(l),p=i):(c=eo(l),p="agConstructor"),c.autowireMethods||(c.autowireMethods={}),c.autowireMethods[p]||(c.autowireMethods[p]={}),c.autowireMethods[p][s]=u}}}function eo(u){return u.hasOwnProperty("__agBeanMetaData")||(u.__agBeanMetaData={}),u.__agBeanMetaData}var u,Ws=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},_o=function(u,o){return function(i,s){o(i,s,u)}},Zo=function(){function u(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return u.prototype.setBeans=function(o,i,s,l){if(void 0===l&&(l=null),this.frameworkOverrides=s,l){var c=i.useAsyncEvents();this.addGlobalListener(l,c)}},u.prototype.getListeners=function(o,i,s){var l=i?this.allAsyncListeners:this.allSyncListeners,c=l.get(o);return!c&&s&&l.set(o,c=new Set),c},u.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},u.prototype.addEventListener=function(o,i,s){void 0===s&&(s=!1),this.getListeners(o,s,!0).add(i)},u.prototype.removeEventListener=function(o,i,s){void 0===s&&(s=!1);var l=this.getListeners(o,s,!1);l&&(l.delete(i),0===l.size)&&(s?this.allAsyncListeners:this.allSyncListeners).delete(o)},u.prototype.addGlobalListener=function(o,i){void 0===i&&(i=!1),(i?this.globalAsyncListeners:this.globalSyncListeners).add(o)},u.prototype.removeGlobalListener=function(o,i){void 0===i&&(i=!1),(i?this.globalAsyncListeners:this.globalSyncListeners).delete(o)},u.prototype.dispatchEvent=function(o){this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0},u.prototype.dispatchEventOnce=function(o){this.firedEvents[o.type]||this.dispatchEvent(o)},u.prototype.dispatchToListeners=function(o,i){var s=this,l=o.type,p=this.getListeners(l,i,!1);p&&p.forEach(function(L){i?s.dispatchAsync(function(){return L(o)}):L(o)}),(i?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(M){i?s.dispatchAsync(function(){return s.frameworkOverrides.dispatchEvent(l,function(){return M(l,o)},!0)}):s.frameworkOverrides.dispatchEvent(l,function(){return M(l,o)},!0)})},u.prototype.dispatchAsync=function(o){this.asyncFunctionsQueue.push(o),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},u.prototype.flushAsyncQueue=function(){this.scheduled=!1;var o=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],o.forEach(function(i){return i()})},Ws([_o(0,Jn("loggerFactory")),_o(1,Jn("gridOptionsWrapper")),_o(2,Jn("frameworkOverrides")),_o(3,Jn("globalEventListener"))],u.prototype,"setBeans",null),Ws([at("eventService")],u)}(),Ie=function(){function u(){}return u.ROW_BUFFER_SIZE=10,u.LAYOUT_INTERVAL=500,u.BATCH_WAIT_MILLIS=50,u.EXPORT_TYPE_DRAG_COPY="dragCopy",u.EXPORT_TYPE_CLIPBOARD="clipboard",u.EXPORT_TYPE_EXCEL="excel",u.EXPORT_TYPE_CSV="csv",u.ROW_MODEL_TYPE_INFINITE="infinite",u.ROW_MODEL_TYPE_VIEWPORT="viewport",u.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",u.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",u.ALWAYS="always",u.ONLY_WHEN_GROUPING="onlyWhenGrouping",u.PINNED_TOP="top",u.PINNED_BOTTOM="bottom",u.DOM_LAYOUT_NORMAL="normal",u.DOM_LAYOUT_PRINT="print",u.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",u.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",u.SOURCE_PASTE="paste",u.PINNED_RIGHT="right",u.PINNED_LEFT="left",u.SORT_ASC="asc",u.SORT_DESC="desc",u.INPUT_SELECTOR="input, select, button, textarea",u.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",u.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",u}();(u=j.GXE||(j.GXE={})).CommunityCoreModule="@ag-grid-community/core",u.CommunityAllModules="@ag-grid-community/all",u.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",u.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",u.CsvExportModule="@ag-grid-community/csv-export",u.EnterpriseCoreModule="@ag-grid-enterprise/core",u.EnterpriseAllModules="@ag-grid-enterprise/all",u.RowGroupingModule="@ag-grid-enterprise/row-grouping",u.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",u.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",u.MenuModule="@ag-grid-enterprise/menu",u.SetFilterModule="@ag-grid-enterprise/set-filter",u.MultiFilterModule="@ag-grid-enterprise/multi-filter",u.StatusBarModule="@ag-grid-enterprise/status-bar",u.SideBarModule="@ag-grid-enterprise/side-bar",u.RangeSelectionModule="@ag-grid-enterprise/range-selection",u.MasterDetailModule="@ag-grid-enterprise/master-detail",u.RichSelectModule="@ag-grid-enterprise/rich-select",u.GridChartsModule="@ag-grid-enterprise/charts",u.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",u.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",u.ExcelExportModule="@ag-grid-enterprise/excel-export",u.ClipboardModule="@ag-grid-enterprise/clipboard",u.SparklinesModule="@ag-grid-enterprise/sparklines",u.AngularModule="@ag-grid-community/angular",u.ReactModule="@ag-grid-community/react",u.VueModule="@ag-grid-community/vue",u.PolymerModule="@ag-grid-community/polymer";var Le=function(){function u(){}return u.register=function(o,i){void 0===i&&(i=!0),u.modulesMap[o.moduleName]=o,void 0===u.moduleBased?u.moduleBased=i:u.moduleBased!==i&&We(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},u.registerModules=function(o,i){void 0===i&&(i=!0),o&&o.forEach(function(s){return u.register(s,i)})},u.assertRegistered=function(o,i){return!!this.isRegistered(o)||(l=u.moduleBased?"AG Grid: unable to use "+i+" as module "+o+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+i+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",We(function(){console.warn(l)},i+o),!1);var l},u.isRegistered=function(o){return!!u.modulesMap[o]},u.getRegisteredModules=function(){return b(u.modulesMap)},u.isPackageBased=function(){return!u.moduleBased},u.modulesMap={},u}(),it=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ot=0,ot=function(){function u(o,i,s,l){this.instanceId=Ot++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Zo,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=o,this.userProvidedColDef=i,this.colId=s,this.primary=l,this.setState(o)}return u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.setState=function(o){void 0!==o.sort?(o.sort===Ie.SORT_ASC||o.sort===Ie.SORT_DESC)&&(this.sort=o.sort):(o.initialSort===Ie.SORT_ASC||o.initialSort===Ie.SORT_DESC)&&(this.sort=o.initialSort);var i=C(o.sortIndex),s=C(o.initialSortIndex);void 0!==i?null!==i&&(this.sortIndex=i):null!==s&&(this.sortIndex=s);var l=_(o.hide),c=_(o.initialHide);this.visible=void 0!==l?!l:!c,this.setPinned(void 0!==o.pinned?o.pinned:o.initialPinned);var p=C(o.flex),v=C(o.initialFlex);void 0!==p?this.flex=p:void 0!==v&&(this.flex=v)},u.prototype.setColDef=function(o,i){this.colDef=o,this.userProvidedColDef=i,this.initMinAndMaxWidths(),this.initDotNotation()},u.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},u.prototype.setParent=function(o){this.parent=o},u.prototype.getParent=function(){return this.parent},u.prototype.setOriginalParent=function(o){this.originalParent=o},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},u.prototype.initDotNotation=function(){var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=I(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=I(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o},u.prototype.initMinAndMaxWidths=function(){var o=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(o),this.maxWidth=this.columnUtils.calculateColMaxWidth(o)},u.prototype.resetActualWidth=function(o){void 0===o&&(o="api");var i=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(i,o,!0)},u.prototype.isEmptyGroup=function(){return!1},u.prototype.isRowGroupDisplayed=function(o){return!(O(this.colDef)||O(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==o)},u.prototype.isPrimary=function(){return this.primary},u.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},u.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},u.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},u.prototype.validate=function(){var o=this.colDef;function i(p,v,M){We(function(){M?console.warn(p,M):We(function(){return console.warn(p)},v)},v)}this.gridOptionsWrapper.isRowModelDefault()&&!Le.isRegistered(j.GXE.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(p){I(o[p])&&(Le.isPackageBased()?i("AG Grid: "+p+" is only valid in ag-grid-enterprise, your column definition should not have "+p,"ColumnRowGroupingMissing"+p):i("AG Grid: "+p+" is only valid with AG Grid Enterprise Module "+j.GXE.RowGroupingModule+" - your column definition should not have "+p,"ColumnRowGroupingMissing"+p))}),Le.isRegistered(j.GXE.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(Le.isPackageBased()?i("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):i("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+j.GXE.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(p){I(o[p])&&i("AG Grid: "+p+" is not possible when doing tree data, your column definition should not have "+p,"TreeDataCannotRowGroup")}),I(this.colDef.width)&&"number"!=typeof this.colDef.width&&i("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),o.pinnedRowCellRenderer&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererParams&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererFramework&&i("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowValueGetter&&i("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},u.prototype.addEventListener=function(o,i){this.eventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.eventService.removeEventListener(o,i)},u.prototype.createColumnFunctionCallbackParams=function(o){return{node:o,data:o.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},u.prototype.isSuppressNavigable=function(o){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var i=this.createColumnFunctionCallbackParams(o);return(0,this.colDef.suppressNavigable)(i)}return!1},u.prototype.isCellEditable=function(o){return!(o.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(o,this.colDef.editable)},u.prototype.isSuppressFillHandle=function(){return!!_(this.colDef.suppressFillHandle)},u.prototype.isAutoHeight=function(){return!!_(this.colDef.autoHeight)},u.prototype.isRowDrag=function(o){return this.isColumnFunc(o,this.colDef.rowDrag)},u.prototype.isDndSource=function(o){return this.isColumnFunc(o,this.colDef.dndSource)},u.prototype.isCellCheckboxSelection=function(o){return this.isColumnFunc(o,this.colDef.checkboxSelection)},u.prototype.isSuppressPaste=function(o){return this.isColumnFunc(o,this.colDef?this.colDef.suppressPaste:null)},u.prototype.isResizable=function(){return!!_(this.colDef.resizable)},u.prototype.isColumnFunc=function(o,i){return"boolean"==typeof i?i:"function"==typeof i&&i(this.createColumnFunctionCallbackParams(o))},u.prototype.setMoving=function(o,i){void 0===i&&(i="api"),this.moving=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MOVING_CHANGED,i))},u.prototype.createColumnEvent=function(o,i){return{api:this.gridApi,columnApi:this.columnApi,type:o,column:this,columns:[this],source:i}},u.prototype.isMoving=function(){return this.moving},u.prototype.getSort=function(){return this.sort},u.prototype.setSort=function(o,i){void 0===i&&(i="api"),this.sort!==o&&(this.sort=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_SORT_CHANGED,i)))},u.prototype.setMenuVisible=function(o,i){void 0===i&&(i="api"),this.menuVisible!==o&&(this.menuVisible=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MENU_VISIBLE_CHANGED,i)))},u.prototype.isMenuVisible=function(){return this.menuVisible},u.prototype.isSortAscending=function(){return this.sort===Ie.SORT_ASC},u.prototype.isSortDescending=function(){return this.sort===Ie.SORT_DESC},u.prototype.isSortNone=function(){return O(this.sort)},u.prototype.isSorting=function(){return I(this.sort)},u.prototype.getSortIndex=function(){return this.sortIndex},u.prototype.setSortIndex=function(o){this.sortIndex=o},u.prototype.setAggFunc=function(o){this.aggFunc=o},u.prototype.getAggFunc=function(){return this.aggFunc},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.getRight=function(){return this.left+this.actualWidth},u.prototype.setLeft=function(o,i){void 0===i&&(i="api"),this.oldLeft=this.left,this.left!==o&&(this.left=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LEFT_CHANGED,i)))},u.prototype.isFilterActive=function(){return this.filterActive},u.prototype.setFilterActive=function(o,i,s){void 0===i&&(i="api"),this.filterActive!==o&&(this.filterActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FILTER_ACTIVE_CHANGED,i)));var l=this.createColumnEvent(u.EVENT_FILTER_CHANGED,i);s&&Q(l,s),this.eventService.dispatchEvent(l)},u.prototype.setPinned=function(o){this.pinned=!0===o||o===Ie.PINNED_LEFT?Ie.PINNED_LEFT:o===Ie.PINNED_RIGHT?Ie.PINNED_RIGHT:null},u.prototype.setFirstRightPinned=function(o,i){void 0===i&&(i="api"),this.firstRightPinned!==o&&(this.firstRightPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FIRST_RIGHT_PINNED_CHANGED,i)))},u.prototype.setLastLeftPinned=function(o,i){void 0===i&&(i="api"),this.lastLeftPinned!==o&&(this.lastLeftPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LAST_LEFT_PINNED_CHANGED,i)))},u.prototype.isFirstRightPinned=function(){return this.firstRightPinned},u.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},u.prototype.isPinned=function(){return this.pinned===Ie.PINNED_LEFT||this.pinned===Ie.PINNED_RIGHT},u.prototype.isPinnedLeft=function(){return this.pinned===Ie.PINNED_LEFT},u.prototype.isPinnedRight=function(){return this.pinned===Ie.PINNED_RIGHT},u.prototype.getPinned=function(){return this.pinned},u.prototype.setVisible=function(o,i){void 0===i&&(i="api");var s=!0===o;this.visible!==s&&(this.visible=s,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VISIBLE_CHANGED,i)))},u.prototype.isVisible=function(){return this.visible},u.prototype.getColDef=function(){return this.colDef},u.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},u.prototype.getColId=function(){return this.colId},u.prototype.getId=function(){return this.getColId()},u.prototype.getUniqueId=function(){return this.getId()},u.prototype.getDefinition=function(){return this.colDef},u.prototype.getActualWidth=function(){return this.actualWidth},u.prototype.createBaseColDefParams=function(o){return{node:o,data:o.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},u.prototype.getColSpan=function(o){if(O(this.colDef.colSpan))return 1;var i=this.createBaseColDefParams(o),s=this.colDef.colSpan(i);return Math.max(s,1)},u.prototype.getRowSpan=function(o){if(O(this.colDef.rowSpan))return 1;var i=this.createBaseColDefParams(o),s=this.colDef.rowSpan(i);return Math.max(s,1)},u.prototype.setActualWidth=function(o,i,s){void 0===i&&(i="api"),void 0===s&&(s=!1),null!=this.minWidth&&(o=Math.max(o,this.minWidth)),null!=this.maxWidth&&(o=Math.min(o,this.maxWidth)),this.actualWidth!==o&&(this.actualWidth=o,this.flex&&"flex"!==i&&"gridInitializing"!==i&&(this.flex=null),s||this.fireColumnWidthChangedEvent(i))},u.prototype.fireColumnWidthChangedEvent=function(o){this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_WIDTH_CHANGED,o))},u.prototype.isGreaterThanMax=function(o){return null!=this.maxWidth&&o>this.maxWidth},u.prototype.getMinWidth=function(){return this.minWidth},u.prototype.getMaxWidth=function(){return this.maxWidth},u.prototype.getFlex=function(){return this.flex||0},u.prototype.setFlex=function(o){this.flex!==o&&(this.flex=o)},u.prototype.setMinimum=function(o){void 0===o&&(o="api"),I(this.minWidth)&&this.setActualWidth(this.minWidth,o)},u.prototype.setRowGroupActive=function(o,i){void 0===i&&(i="api"),this.rowGroupActive!==o&&(this.rowGroupActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_ROW_GROUP_CHANGED,i)))},u.prototype.isRowGroupActive=function(){return this.rowGroupActive},u.prototype.setPivotActive=function(o,i){void 0===i&&(i="api"),this.pivotActive!==o&&(this.pivotActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_PIVOT_CHANGED,i)))},u.prototype.isPivotActive=function(){return this.pivotActive},u.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},u.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},u.prototype.setValueActive=function(o,i){void 0===i&&(i="api"),this.aggregationActive!==o&&(this.aggregationActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VALUE_CHANGED,i)))},u.prototype.isValueActive=function(){return this.aggregationActive},u.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},u.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},u.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},u.prototype.getMenuTabs=function(o){var i=this.getColDef().menuTabs;return null==i&&(i=o),i},u.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},u.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},u.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},u.EVENT_MOVING_CHANGED="movingChanged",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_WIDTH_CHANGED="widthChanged",u.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",u.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",u.EVENT_VISIBLE_CHANGED="visibleChanged",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",u.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_PIVOT_CHANGED="columnPivotChanged",u.EVENT_VALUE_CHANGED="columnValueChanged",it([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),it([le("columnUtils")],u.prototype,"columnUtils",void 0),it([le("columnApi")],u.prototype,"columnApi",void 0),it([le("gridApi")],u.prototype,"gridApi",void 0),it([le("context")],u.prototype,"context",void 0),it([Xe],u.prototype,"initialise",null),u}();function on(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];for(var i=0;i<u.length;i++){var s=u[i];if(I(s))return s}return null}function xt(u){if(u&&u.length)return u[u.length-1]}function In(u,o,i){return null==u&&null==o||null!=u&&null!=o&&u.length===o.length&&u.every(function(s,l){return i?i(s,o[l]):o[l]===s})}function ws(u){return u.sort(function(o,i){return o-i})}function si(u,o){var i=u.indexOf(o);i>=0&&u.splice(i,1)}function Ea(u,o){o.forEach(function(i){return si(u,i)})}function pc(u,o,i){u.splice(i,0,o)}function Xf(u,o,i){Ea(u,o),o.slice().reverse().forEach(function(s){return pc(u,s,i)})}function vo(u,o){return u.indexOf(o)>-1}function Qf(u,o){null==o||null==u||o.forEach(function(i){return u.push(i)})}var Xw=Object.freeze({firstExistingValue:on,existsAndNotEmpty:function Qt(u){return null!=u&&u.length>0},last:xt,areEqual:In,compareArrays:function ki(u,o){return In(u,o)},shallowCompare:function ci(u,o){return In(u,o)},sortNumerically:ws,removeRepeatsFromArray:function jr(u,o){if(u)for(var i=u.length-2;i>=0;i--)u[i]===o&&u[i+1]===o&&u.splice(i+1,1)},removeFromArray:si,removeAllFromArray:Ea,insertIntoArray:pc,insertArrayIntoArray:function yr(u,o,i){if(null!=u&&null!=o)for(var s=o.length-1;s>=0;s--)pc(u,o[s],i)},moveInArray:Xf,includes:vo,flatten:function Kw(u){return[].concat.apply([],u)},pushAll:Qf,toStrings:function Nv(u){return u.map(D)},forEachReverse:function qw(u,o){if(null!=u)for(var i=u.length-1;i>=0;i--)o(u[i],i)}}),Cr=function(){function u(o,i,s,l){this.displayedChildren=[],this.localEventService=new Zo,this.groupId=i,this.instanceId=s,this.providedColumnGroup=o,this.pinned=l}return u.createUniqueId=function(o,i){return o+"_"+i},u.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},u.prototype.getParent=function(){return this.parent},u.prototype.setParent=function(o){this.parent=o},u.prototype.getUniqueId=function(){return u.createUniqueId(this.groupId,this.instanceId)},u.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},u.prototype.isMoving=function(){var o=this.getProvidedColumnGroup().getLeafColumns();return!(!o||0===o.length)&&o.every(function(i){return i.isMoving()})},u.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(l){l instanceof u&&l.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var i=xt(this.displayedChildren).getLeft();this.setLeft(i)}else{var s=this.displayedChildren[0].getLeft();this.setLeft(s)}else this.setLeft(null)},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.setLeft=function(o){this.oldLeft=o,this.left!==o&&(this.left=o,this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_LEFT_CHANGED)))},u.prototype.getPinned=function(){return this.pinned},u.prototype.createAgEvent=function(o){return{type:o}},u.prototype.addEventListener=function(o,i){this.localEventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.localEventService.removeEventListener(o,i)},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.isChildInThisGroupDeepSearch=function(o){var i=!1;return this.children.forEach(function(s){o===s&&(i=!0),s instanceof u&&s.isChildInThisGroupDeepSearch(o)&&(i=!0)}),i},u.prototype.getActualWidth=function(){var o=0;return this.displayedChildren&&this.displayedChildren.forEach(function(i){o+=i.getActualWidth()}),o},u.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var o=!1;return this.displayedChildren.forEach(function(i){i.isResizable()&&(o=!0)}),o},u.prototype.getMinWidth=function(){var o=0;return this.displayedChildren.forEach(function(i){o+=i.getMinWidth()||0}),o},u.prototype.addChild=function(o){this.children||(this.children=[]),this.children.push(o)},u.prototype.getDisplayedChildren=function(){return this.displayedChildren},u.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},u.prototype.getDisplayedLeafColumns=function(){var o=[];return this.addDisplayedLeafColumns(o),o},u.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},u.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},u.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},u.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},u.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},u.prototype.setExpanded=function(o){this.providedColumnGroup.setExpanded(o)},u.prototype.addDisplayedLeafColumns=function(o){this.displayedChildren.forEach(function(i){i instanceof ot?o.push(i):i instanceof u&&i.addDisplayedLeafColumns(o)})},u.prototype.addLeafColumns=function(o){this.children.forEach(function(i){i instanceof ot?o.push(i):i instanceof u&&i.addLeafColumns(o)})},u.prototype.getChildren=function(){return this.children},u.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},u.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},u.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},u.prototype.getPaddingLevel=function(){var o=this.getParent();return this.isPadding()&&o&&o.isPadding()?1+o.getPaddingLevel():0},u.prototype.calculateDisplayedColumns=function(){var o=this;this.displayedChildren=[];for(var i=this;null!=i&&i.isPadding();)i=i.getParent();if(!i||!i.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(l){if(!(l instanceof u)||l.displayedChildren&&l.displayedChildren.length)switch(l.getColumnGroupShow()){case u.HEADER_GROUP_SHOW_OPEN:i.providedColumnGroup.isExpanded()&&o.displayedChildren.push(l);break;case u.HEADER_GROUP_SHOW_CLOSED:i.providedColumnGroup.isExpanded()||o.displayedChildren.push(l);break;default:o.displayedChildren.push(l)}}),this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED))},u.HEADER_GROUP_SHOW_OPEN="open",u.HEADER_GROUP_SHOW_CLOSED="closed",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),En=function(){function u(o,i,s,l){this.localEventService=new Zo,this.expandable=!1,this.colGroupDef=o,this.groupId=i,this.expanded=!!o&&!!o.openByDefault,this.padding=s,this.level=l}return u.prototype.setOriginalParent=function(o){this.originalParent=o},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.getLevel=function(){return this.level},u.prototype.isVisible=function(){return!!this.children&&this.children.some(function(o){return o.isVisible()})},u.prototype.isPadding=function(){return this.padding},u.prototype.setExpanded=function(o){this.expanded=void 0!==o&&o,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDED_CHANGED})},u.prototype.isExpandable=function(){return this.expandable},u.prototype.isExpanded=function(){return this.expanded},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getId=function(){return this.getGroupId()},u.prototype.setChildren=function(o){this.children=o},u.prototype.getChildren=function(){return this.children},u.prototype.getColGroupDef=function(){return this.colGroupDef},u.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},u.prototype.addLeafColumns=function(o){!this.children||this.children.forEach(function(i){i instanceof ot?o.push(i):i instanceof u&&i.addLeafColumns(o)})},u.prototype.getColumnGroupShow=function(){var o=this.colGroupDef;if(o)return o.columnGroupShow},u.prototype.setupExpandable=function(){var o=this;this.setExpandable(),this.getLeafColumns().forEach(function(i){return i.addEventListener(ot.EVENT_VISIBLE_CHANGED,o.onColumnVisibilityChanged.bind(o))})},u.prototype.setExpandable=function(){if(!this.isPadding()){for(var o=!1,i=!1,s=!1,l=this.findChildrenRemovingPadding(),c=0,p=l.length;c<p;c++){var v=l[c];if(v.isVisible()){var M=v.getColumnGroupShow();M===Cr.HEADER_GROUP_SHOW_OPEN?(o=!0,s=!0):M===Cr.HEADER_GROUP_SHOW_CLOSED?(i=!0,s=!0):(o=!0,i=!0)}}var L=o&&i&&s;this.expandable!==L&&(this.expandable=L,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDABLE_CHANGED}))}},u.prototype.findChildrenRemovingPadding=function(){var o=[],i=function(s){s.forEach(function(l){l instanceof u&&l.isPadding()?i(l.children):o.push(l)})};return i(this.children),o},u.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},u.prototype.addEventListener=function(o,i){this.localEventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.localEventService.removeEventListener(o,i)},u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_EXPANDABLE_CHANGED="expandableChanged",u}(),ku={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Mo="__ag_Grid_Stop_Propagation",DR=["touchstart","touchend","touchmove","touchcancel"],Zf={};function il(u){u[Mo]=!0}function No(u){return!0===u[Mo]}var fc=function(){var u={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(i){if("boolean"==typeof Zf[i])return Zf[i];var s=document.createElement(u[i]||"div");return Zf[i="on"+i]=i in s}}();function Da(u,o,i){for(var s=o.target;s;){var l=u.getDomData(s,i);if(l)return l;s=s.parentElement}return null}function Pu(u,o){return!(!o||!u)&&eg(o).indexOf(u)>=0}function Jf(u){for(var o=[],i=u.target;i;)o.push(i),i=i.parentElement;return o}function eg(u){var o=u;return o.path?o.path:o.composedPath?o.composedPath():o.__agGridEventPath?o.__agGridEventPath:Jf(u)}function Fv(u,o,i,s){var l=vo(DR,i);u&&u.addEventListener&&u.addEventListener(o,i,s,l?{passive:!0}:void 0)}var Jw=Object.freeze({stopPropagationForAgGrid:il,isStopPropagationForAgGrid:No,isEventSupported:fc,getCtrlForEvent:Da,addChangeListener:function Qw(u,o){u.addEventListener("changed",o),u.addEventListener("paste",o),u.addEventListener("input",o)},isElementInEventPath:Pu,createEventPath:Jf,addAgGridEventPath:function Zw(u){u.__agGridEventPath=eg(u)},getEventPath:eg,addSafePassiveEventListener:Fv}),gc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},dt=function(){function u(){var o=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!o.destroyed}}return u.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},u.prototype.getContext=function(){return this.context},u.prototype.destroy=function(){this.destroyFunctions.forEach(function(o){return o()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:u.EVENT_DESTROYED})},u.prototype.addEventListener=function(o,i){this.localEventService||(this.localEventService=new Zo),this.localEventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.localEventService&&this.localEventService.removeEventListener(o,i)},u.prototype.dispatchEventAsync=function(o){var i=this;window.setTimeout(function(){return i.dispatchEvent(o)},0)},u.prototype.dispatchEvent=function(o){this.localEventService&&this.localEventService.dispatchEvent(o)},u.prototype.addManagedListener=function(o,i,s){var l=this;if(!this.destroyed){o instanceof HTMLElement?Fv(this.getFrameworkOverrides(),o,i,s):o.addEventListener(i,s);var c=function(){return o.removeEventListener(i,s),l.destroyFunctions=l.destroyFunctions.filter(function(p){return p!==c}),null};return this.destroyFunctions.push(c),c}},u.prototype.addDestroyFunc=function(o){this.isAlive()?this.destroyFunctions.push(o):o()},u.prototype.createManagedBean=function(o,i){var s=this.createBean(o,i);return this.addDestroyFunc(this.destroyBean.bind(this,o,i)),s},u.prototype.createBean=function(o,i,s){return(i||this.getContext()).createBean(o,s)},u.prototype.destroyBean=function(o,i){return(i||this.getContext()).destroyBean(o)},u.prototype.destroyBeans=function(o,i){var s=this;return o&&o.forEach(function(l){return s.destroyBean(l,i)}),[]},u.EVENT_DESTROYED="destroyed",gc([le("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),gc([le("context")],u.prototype,"context",void 0),gc([le("eventService")],u.prototype,"eventService",void 0),gc([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),gc([Yt],u.prototype,"destroy",null),u}(),ex=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zi=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Dh=function(u,o){return function(i,s){o(i,s,u)}},Ji=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ex(o,u),o.prototype.setBeans=function(i){this.logger=i.create("ColumnFactory")},o.prototype.createColumnTree=function(i,s,l){var c=new P,p=this.extractExistingTreeData(l),v=p.existingCols,M=p.existingGroups;c.addExistingKeys(p.existingColKeys);var Y=this.recursivelyCreateColumns(i,0,s,v,c,M),re=this.findMaxDept(Y,0);this.logger.log("Number of levels for grouped columns is "+re);var de=this.balanceColumnTree(Y,0,re,c);return this.columnUtils.depthFirstOriginalTreeSearch(null,de,function(Ce,Re){Ce instanceof En&&Ce.setupExpandable(),Ce.setOriginalParent(Re)}),{columnTree:de,treeDept:re}},o.prototype.extractExistingTreeData=function(i){var s=[],l=[],c=[];return i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,function(p){if(p instanceof En)l.push(p);else{var M=p;c.push(M.getId()),s.push(M)}}),{existingCols:s,existingGroups:l,existingColKeys:c}},o.prototype.createForAutoGroups=function(i,s){var l=this;return i.map(function(c){return l.createAutoGroupTreeItem(s,c)})},o.prototype.createAutoGroupTreeItem=function(i,s){for(var c=s,p=this.findDepth(i)-1;p>=0;p--){var v=new En(null,"FAKE_PATH_"+s.getId()+"}_"+p,!0,p);this.context.createBean(v),v.setChildren([c]),c.setOriginalParent(v),c=v}return c},o.prototype.findDepth=function(i){for(var s=0,l=i;l&&l[0]&&l[0]instanceof En;)s++,l=l[0].getChildren();return s},o.prototype.balanceColumnTree=function(i,s,l,c){for(var p=[],v=0;v<i.length;v++){var M=i[v];if(M instanceof En){var L=M,Y=this.balanceColumnTree(L.getChildren(),s+1,l,c);L.setChildren(Y),p.push(L)}else{for(var re=void 0,de=void 0,be=l-1;be>=s;be--){var Ce=c.getUniqueKey(null,null),Re=this.createMergedColGroupDef(null),Ge=new En(Re,Ce,!0,s);this.context.createBean(Ge),de&&de.setChildren([Ge]),de=Ge,re||(re=de)}if(re&&de){if(p.push(re),i.some(function(He){return He instanceof En})){de.setChildren([M]);continue}de.setChildren(i);break}p.push(M)}}return p},o.prototype.findMaxDept=function(i,s){for(var l=s,c=0;c<i.length;c++){var p=i[c];if(p instanceof En){var M=this.findMaxDept(p.getChildren(),s+1);l<M&&(l=M)}}return l},o.prototype.recursivelyCreateColumns=function(i,s,l,c,p,v){var M=this;return(i||[]).map(function(L){return M.isColumnGroup(L)?M.createColumnGroup(l,L,s,c,p,v):M.createColumn(l,L,c,p)})},o.prototype.createColumnGroup=function(i,s,l,c,p,v){var M=this.createMergedColGroupDef(s),L=p.getUniqueKey(M.groupId||null,null),Y=new En(M,L,!1,l);this.context.createBean(Y);var re=this.findExistingGroup(s,v);re&&si(v,re),re&&re.isExpanded()&&Y.setExpanded(!0);var de=this.recursivelyCreateColumns(M.children,l+1,i,c,p,v);return Y.setChildren(de),Y},o.prototype.createMergedColGroupDef=function(i){var s={};return Object.assign(s,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(s,i),this.checkForDeprecatedItems(s),s},o.prototype.createColumn=function(i,s,l,c){var p=this.mergeColDefs(s);this.checkForDeprecatedItems(p);var v=this.findExistingColumn(s,l);if(l&&v&&si(l,v),v)v.setColDef(p,s),this.applyColumnState(v,p);else{var M=c.getUniqueKey(p.colId,p.field);v=new ot(p,s,M,i),this.context.createBean(v)}return v},o.prototype.applyColumnState=function(i,s){var l=C(s.flex);if(void 0!==l&&i.setFlex(l),i.getFlex()<=0){var p=C(s.width);if(null!=p)i.setActualWidth(p);else{var v=i.getActualWidth();i.setActualWidth(v)}}void 0!==s.sort&&i.setSort(s.sort==Ie.SORT_ASC||s.sort==Ie.SORT_DESC?s.sort:void 0);var M=C(s.sortIndex);void 0!==M&&i.setSortIndex(M);var L=_(s.hide);void 0!==L&&i.setVisible(!L),void 0!==s.pinned&&i.setPinned(s.pinned)},o.prototype.findExistingColumn=function(i,s){return(s||[]).find(function(l){var c=l.getUserProvidedColDef();if(!c)return!1;var v=null!=i.field;return null!=i.colId?l.getId()===i.colId:v?c.field===i.field:c===i})},o.prototype.findExistingGroup=function(i,s){return s.find(function(l){return!(!l.getColGroupDef()||null==i.groupId||l.getId()!==i.groupId)})},o.prototype.mergeColDefs=function(i){var s={},l=this.gridOptionsWrapper.getDefaultColDef();Q(s,l,!1,!0);var c=i.type;return c||(c=l&&l.type),c&&this.assignColumnTypes(c,s),Q(s,i,!1,!0),s},o.prototype.assignColumnTypes=function(i,s){var l=[];if(i instanceof Array)i.some(function(M){return"string"!=typeof M})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):l=i;else{if("string"!=typeof i)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");l=i.split(",")}var p=Object.assign({},ku);E(this.gridOptionsWrapper.getColumnTypes()||{},function(M,L){M in p?console.warn("AG Grid: the column type '"+M+"' is a default column type and cannot be overridden."):p[M]=L}),l.forEach(function(M){var L=p[M.trim()];L?Q(s,L,!1,!0):console.warn("AG Grid: colDef.type '"+M+"' does not correspond to defined gridOptions.columnTypes")})},o.prototype.checkForDeprecatedItems=function(i){if(i){var s=i;void 0!==s.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==s.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(s.suppressRowGroup||s.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),s.displayName&&(console.warn("AG Grid: Found displayName "+s.displayName+", please use headerName instead, displayName is deprecated."),s.headerName=s.displayName)}},o.prototype.isColumnGroup=function(i){return void 0!==i.children},Zi([le("columnUtils")],o.prototype,"columnUtils",void 0),Zi([Dh(0,Jn("loggerFactory"))],o.prototype,"setBeans",null),Zi([at("columnFactory")],o)}(dt),xe=function(){function u(){}return u.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",u.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",u.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",u.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",u.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",u.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",u.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",u.EVENT_COLUMN_MOVED="columnMoved",u.EVENT_COLUMN_VISIBLE="columnVisible",u.EVENT_COLUMN_PINNED="columnPinned",u.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",u.EVENT_COLUMN_RESIZED="columnResized",u.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",u.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",u.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",u.EVENT_ROW_GROUP_OPENED="rowGroupOpened",u.EVENT_ROW_DATA_CHANGED="rowDataChanged",u.EVENT_ROW_DATA_UPDATED="rowDataUpdated",u.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",u.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",u.EVENT_CHART_CREATED="chartCreated",u.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",u.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",u.EVENT_CHART_DESTROYED="chartDestroyed",u.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",u.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",u.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",u.EVENT_MODEL_UPDATED="modelUpdated",u.EVENT_PASTE_START="pasteStart",u.EVENT_PASTE_END="pasteEnd",u.EVENT_FILL_START="fillStart",u.EVENT_FILL_END="fillEnd",u.EVENT_CELL_CLICKED="cellClicked",u.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",u.EVENT_CELL_MOUSE_DOWN="cellMouseDown",u.EVENT_CELL_CONTEXT_MENU="cellContextMenu",u.EVENT_CELL_VALUE_CHANGED="cellValueChanged",u.EVENT_CELL_EDIT_REQUEST="cellEditRequest",u.EVENT_ROW_VALUE_CHANGED="rowValueChanged",u.EVENT_CELL_FOCUSED="cellFocused",u.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_SELECTION_CHANGED="selectionChanged",u.EVENT_CELL_KEY_DOWN="cellKeyDown",u.EVENT_CELL_KEY_PRESS="cellKeyPress",u.EVENT_CELL_MOUSE_OVER="cellMouseOver",u.EVENT_CELL_MOUSE_OUT="cellMouseOut",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_MODIFIED="filterModified",u.EVENT_FILTER_OPENED="filterOpened",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",u.EVENT_ROW_CLICKED="rowClicked",u.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",u.EVENT_GRID_READY="gridReady",u.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",u.EVENT_VIEWPORT_CHANGED="viewportChanged",u.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",u.EVENT_FIRST_DATA_RENDERED="firstDataRendered",u.EVENT_DRAG_STARTED="dragStarted",u.EVENT_DRAG_STOPPED="dragStopped",u.EVENT_CHECKBOX_CHANGED="checkboxChanged",u.EVENT_ROW_EDITING_STARTED="rowEditingStarted",u.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",u.EVENT_CELL_EDITING_STARTED="cellEditingStarted",u.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",u.EVENT_BODY_SCROLL="bodyScroll",u.EVENT_BODY_SCROLL_END="bodyScrollEnd",u.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",u.EVENT_PAGINATION_CHANGED="paginationChanged",u.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",u.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",u.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",u.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",u.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",u.EVENT_FLASH_CELLS="flashCells",u.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",u.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",u.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",u.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",u.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",u.EVENT_ROW_DRAG_ENTER="rowDragEnter",u.EVENT_ROW_DRAG_MOVE="rowDragMove",u.EVENT_ROW_DRAG_LEAVE="rowDragLeave",u.EVENT_ROW_DRAG_END="rowDragEnd",u.EVENT_POPUP_TO_FRONT="popupToFront",u.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",u.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",u.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",u.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",u.EVENT_KEYBOARD_FOCUS="keyboardFocus",u.EVENT_MOUSE_FOCUS="mouseFocus",u.EVENT_STORE_UPDATED="storeUpdated",u}(),Iu=function(){function u(){this.existingIds={}}return u.prototype.getInstanceIdForKey=function(o){var s,i=this.existingIds[o];return this.existingIds[o]=s="number"!=typeof i?0:i+1,s},u}(),ui=/[&<>"']/g,tg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ah(u){return null==u?null:u.replace(/([A-Z])/g,function(o){return"-"+o[0].toLowerCase()})}function Lv(u){return null==u?null:u.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()})}function zn(u){return u[0].toUpperCase()+u.substr(1).toLowerCase()}function sn(u){return null==u?null:u.toString().toString().replace(ui,function(o){return tg[o]})}function Rh(u){return u&&null!=u?u.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(s){return s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")}).join(" "):null}var AR=Object.freeze({utf8_encode:function ni(u){var o=String.fromCharCode;function l(re,de){return o(re>>de&63|128)}function c(re){if(re>=0&&re<=31&&10!==re)return"_x"+re.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&re))return o(re);var Ce="";return 0==(4294965248&re)?Ce=o(re>>6&31|192):0==(4294901760&re)?(function s(re){if(re>=55296&&re<=57343)throw Error("Lone surrogate U+"+re.toString(16).toUpperCase()+" is not a scalar value")}(re),Ce=o(re>>12&15|224),Ce+=l(re,6)):0==(4292870144&re)&&(Ce=o(re>>18&7|240),Ce+=l(re,12),Ce+=l(re,6)),Ce+o(63&re|128)}for(var p=function i(re){var de=[];if(!re)return[];for(var Re,Ge,be=re.length,Ce=0;Ce<be;)(Re=re.charCodeAt(Ce++))>=55296&&Re<=56319&&Ce<be?56320==(64512&(Ge=re.charCodeAt(Ce++)))?de.push(((1023&Re)<<10)+(1023&Ge)+65536):(de.push(Re),Ce--):de.push(Re);return de}(u),v=p.length,M=-1,Y="";++M<v;)Y+=c(p[M]);return Y},camelCaseToHyphen:Ah,hyphenToCamelCase:Lv,capitalise:zn,escapeString:sn,camelCaseToHumanText:Rh});function Lt(u){var o=new Map;return u.forEach(function(i){return o.set(i[0],i[1])}),o}var $r=Object.freeze({convertToMap:Lt,mapById:function ng(u,o){var i=new Map;return u.forEach(function(s){return i.set(o(s),s)}),i},keys:function bn(u){var o=[];return u.forEach(function(i,s){return o.push(s)}),o}}),tx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pr=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},RR=function(u,o){return function(i,s){o(i,s,u)}},Mu=function(u){var o="function"==typeof Symbol&&Symbol.iterator,i=o&&u[o],s=0;if(i)return i.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},yo=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},Oh=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(yo(arguments[o]));return u},Gv=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.primaryHeaderRowCount=0,i.secondaryHeaderRowCount=0,i.gridHeaderRowCount=0,i.displayedColumnsLeft=[],i.displayedColumnsRight=[],i.displayedColumnsCenter=[],i.displayedColumns=[],i.displayedColumnsAndGroupsMap={},i.viewportColumns=[],i.viewportColumnsCenter=[],i.autoHeightActiveAtLeastOnce=!1,i.rowGroupColumns=[],i.valueColumns=[],i.pivotColumns=[],i.ready=!1,i.autoGroupsNeedBuilding=!1,i.forceRecreateAutoGroups=!1,i.pivotMode=!1,i.bodyWidth=0,i.leftWidth=0,i.rightWidth=0,i.bodyWidthDirty=!0,i.colDefVersion=0,i.flexColsCalculatedAtLestOnce=!1,i}return tx(o,u),o.prototype.init=function(){var i=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var s=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(s)&&(this.pivotMode=s),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return i.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return i.onDefaultColDefChanged()})},o.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},o.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},o.prototype.getColDefVersion=function(){return this.colDefVersion},o.prototype.setColumnDefs=function(i,s){void 0===s&&(s="api");var l=!!this.columnDefs;this.colDefVersion++,this.columnDefs=i,this.createColumnsFromColumnDefs(l,s)},o.prototype.createColumnsFromColumnDefs=function(i,s){var l=this;void 0===s&&(s="api");var c=i?this.compareColumnStatesAndRaiseEvents(s):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var p=this.primaryColumns,M=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=M.columnTree,this.primaryHeaderRowCount=M.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(re){return l.primaryColumnsMap[re.getId()]=re}),this.extractRowGroupColumns(s,p),this.extractPivotColumns(s,p),this.extractValueColumns(s,p),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),i&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(s),this.checkViewportColumns()),this.dispatchEverythingChanged(s),c&&c(),this.dispatchNewColumnsLoaded()},o.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:xe.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.dispatchEverythingChanged=function(i){void 0===i&&(i="api"),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:i})},o.prototype.orderGridColumnsLikePrimary=function(){var i=this,s=this.primaryColumns;!s||this.gridColumns.sort(function(l,c){var p=s.indexOf(l),v=s.indexOf(c),M=p>=0,L=v>=0;return M&&L?p-v:M?1:L?-1:i.gridColumns.indexOf(l)-i.gridColumns.indexOf(c)})},o.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},o.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},o.prototype.getDisplayedColumnsStartingAt=function(i){for(var s=i,l=[];null!=s;)l.push(s),s=this.getDisplayedColAfter(s);return l},o.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var i=this.viewportColumns.map(function(c){return c.getId()}).join("#");this.extractViewport(),i!==this.viewportColumns.map(function(c){return c.getId()}).join("#")&&this.eventService.dispatchEvent({type:xe.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},o.prototype.setViewportPosition=function(i,s){(i!==this.scrollWidth||s!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=i,this.scrollPosition=s,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},o.prototype.isPivotMode=function(){return this.pivotMode},o.prototype.isPivotSettingAllowed=function(i){return!i||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},o.prototype.setPivotMode=function(i,s){void 0===s&&(s="api"),i!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=i,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getSecondaryPivotColumn=function(i,s){if(O(this.secondaryColumns))return null;var l=this.getPrimaryColumn(s),c=null;return this.secondaryColumns.forEach(function(p){var v=p.getColDef().pivotKeys,M=p.getColDef().pivotValueColumn;In(v,i)&&M===l&&(c=p)}),c},o.prototype.setBeans=function(i){this.logger=i.create("columnModel")},o.prototype.setFirstRightAndLastLeftPinned=function(i){var s,l;this.gridOptionsWrapper.isEnableRtl()?(s=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,l=this.displayedColumnsRight?xt(this.displayedColumnsRight):null):(s=this.displayedColumnsLeft?xt(this.displayedColumnsLeft):null,l=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(c){c.setLastLeftPinned(c===s,i),c.setFirstRightPinned(c===l,i)})},o.prototype.autoSizeColumns=function(i){var s=this,l=i.columns,c=i.skipHeader,p=i.skipHeaderGroups,v=i.stopAtGroup,M=i.source,L=void 0===M?"api":M;this.animationFrameService.flushAllFrames();for(var Y=[],re=-1,de=null!=c?c:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),be=null!=p?p:de;0!==re;)re=0,this.actionOnGridColumns(l,function(Ce){if(Y.indexOf(Ce)>=0)return!1;var Re=s.autoWidthCalculator.getPreferredWidthForColumn(Ce,de);if(Re>0){var Ge=s.normaliseColumnWidth(Ce,Re);Ce.setActualWidth(Ge,L),Y.push(Ce),re++}return!0},L);be||this.autoSizeColumnGroupsByColumns(l,v),this.fireColumnResizedEvent(Y,!0,"autosizeColumns")},o.prototype.fireColumnResizedEvent=function(i,s,l,c){void 0===c&&(c=null),i&&i.length&&this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,flexColumns:c,finished:s,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.autoSizeColumn=function(i,s,l){void 0===l&&(l="api"),i&&this.autoSizeColumns({columns:[i],skipHeader:s,skipHeaderGroups:!0,source:l})},o.prototype.autoSizeColumnGroupsByColumns=function(i,s){var l,c,p,v,Y,M=new Set;this.getGridColumns(i).forEach(function(He){for(var Ke=He.getParent();Ke&&Ke!=s;)Ke.isPadding()||M.add(Ke),Ke=Ke.getParent()});try{for(var de=Mu(M),be=de.next();!be.done;be=de.next()){var Ce=be.value;try{for(var Re=(p=void 0,Mu(this.ctrlsService.getHeaderRowContainerCtrls())),Ge=Re.next();!Ge.done&&!(Y=Ge.value.getHeaderCtrlForColumn(Ce));Ge=Re.next());}catch(He){p={error:He}}finally{try{Ge&&!Ge.done&&(v=Re.return)&&v.call(Re)}finally{if(p)throw p.error}}Y&&Y.resizeLeafColumnsToFit()}}catch(He){l={error:He}}finally{try{be&&!be.done&&(c=de.return)&&c.call(de)}finally{if(l)throw l.error}}return[]},o.prototype.autoSizeAllColumns=function(i,s){void 0===s&&(s="api");var l=this.getAllDisplayedColumns();this.autoSizeColumns({columns:l,skipHeader:i,source:s})},o.prototype.getColumnsFromTree=function(i){var s=[],l=function(c){for(var p=0;p<c.length;p++){var v=c[p];v instanceof ot?s.push(v):v instanceof En&&l(v.getChildren())}};return l(i),s},o.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},o.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},o.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},o.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},o.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},o.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},o.prototype.isColumnDisplayed=function(i){return this.getAllDisplayedColumns().indexOf(i)>=0},o.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},o.prototype.getViewportColumns=function(){return this.viewportColumns},o.prototype.getDisplayedLeftColumnsForRow=function(i){return this.colSpanActive?this.getDisplayedColumnsForRow(i,this.displayedColumnsLeft):this.displayedColumnsLeft},o.prototype.getDisplayedRightColumnsForRow=function(i){return this.colSpanActive?this.getDisplayedColumnsForRow(i,this.displayedColumnsRight):this.displayedColumnsRight},o.prototype.getDisplayedColumnsForRow=function(i,s,l,c){for(var L,p=[],v=null,M=function(re){var He,de=s[re],be=s.length-re,Ce=Math.min(de.getColSpan(i),be),Re=[de];if(Ce>1){for(var Ge=Ce-1,Ze=1;Ze<=Ge;Ze++)Re.push(s[re+Ze]);re+=Ge}l?(He=!1,Re.forEach(function(pt){l(pt)&&(He=!0)})):He=!0,He&&(0===p.length&&v&&c&&c(de)&&p.push(v),p.push(de)),v=de,L=re},Y=0;Y<s.length;Y++)M(Y),Y=L;return p},o.prototype.getViewportCenterColumnsForRow=function(i){var s=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var c=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(i,this.displayedColumnsCenter,c,function(p){var v=p.getLeft();return I(v)&&v>s.viewportLeft})},o.prototype.getAriaColumnIndex=function(i){return this.getAllGridColumns().indexOf(i)+1},o.prototype.isColumnInViewport=function(i){if(i.isAutoHeight())return!0;var s=i.getLeft()||0,l=s+i.getActualWidth(),c=this.viewportLeft-200,p=this.viewportRight+200;return!(s<c&&l<c||s>p&&l>p)},o.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},o.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},o.prototype.updatePrimaryColumnList=function(i,s,l,c,p,v){var M=this;if(void 0===v&&(v="api"),i&&!x(i)){var L=!1;i.forEach(function(re){var de=M.getPrimaryColumn(re);if(de){if(l){if(s.indexOf(de)>=0)return;s.push(de)}else{if(s.indexOf(de)<0)return;si(s,de)}c(de),L=!0}}),L&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(v),this.eventService.dispatchEvent({type:p,columns:s,column:1===s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:v}))}},o.prototype.setRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(i,this.rowGroupColumns,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),s)},o.prototype.setRowGroupActive=function(i,s,l){i!==s.isRowGroupActive()&&(s.setRowGroupActive(i,l),!i&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&s.setVisible(!0,l))},o.prototype.addRowGroupColumn=function(i,s){void 0===s&&(s="api"),i&&this.addRowGroupColumns([i],s)},o.prototype.addRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(i,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),xe.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},o.prototype.removeRowGroupColumns=function(i,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(i,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),xe.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},o.prototype.removeRowGroupColumn=function(i,s){void 0===s&&(s="api"),i&&this.removeRowGroupColumns([i],s)},o.prototype.addPivotColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.pivotColumns,!0,function(l){return l.setPivotActive(!0,s)},xe.EVENT_COLUMN_PIVOT_CHANGED,s)},o.prototype.setPivotColumns=function(i,s){void 0===s&&(s="api"),this.setPrimaryColumnList(i,this.pivotColumns,xe.EVENT_COLUMN_PIVOT_CHANGED,function(l,c){c.setPivotActive(l,s)},s)},o.prototype.addPivotColumn=function(i,s){void 0===s&&(s="api"),this.addPivotColumns([i],s)},o.prototype.removePivotColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.pivotColumns,!1,function(l){return l.setPivotActive(!1,s)},xe.EVENT_COLUMN_PIVOT_CHANGED,s)},o.prototype.removePivotColumn=function(i,s){void 0===s&&(s="api"),this.removePivotColumns([i],s)},o.prototype.setPrimaryColumnList=function(i,s,l,c,p){var v=this;s.length=0,I(i)&&i.forEach(function(M){var L=v.getPrimaryColumn(M);L&&s.push(L)}),(this.primaryColumns||[]).forEach(function(M){var L=s.indexOf(M)>=0;c(L,M)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(p),this.fireColumnEvent(l,s,p)},o.prototype.setValueColumns=function(i,s){void 0===s&&(s="api"),this.setPrimaryColumnList(i,this.valueColumns,xe.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),s)},o.prototype.setValueActive=function(i,s,l){if(i!==s.isValueActive()&&(s.setValueActive(i,l),i&&!s.getAggFunc())){var c=this.aggFuncService.getDefaultAggFunc(s);s.setAggFunc(c)}},o.prototype.addValueColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.valueColumns,!0,this.setValueActive.bind(this,!0),xe.EVENT_COLUMN_VALUE_CHANGED,s)},o.prototype.addValueColumn=function(i,s){void 0===s&&(s="api"),i&&this.addValueColumns([i],s)},o.prototype.removeValueColumn=function(i,s){void 0===s&&(s="api"),this.removeValueColumns([i],s)},o.prototype.removeValueColumns=function(i,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(i,this.valueColumns,!1,this.setValueActive.bind(this,!1),xe.EVENT_COLUMN_VALUE_CHANGED,s)},o.prototype.normaliseColumnWidth=function(i,s){var l=i.getMinWidth();I(l)&&s<l&&(s=l);var c=i.getMaxWidth();return I(c)&&i.isGreaterThanMax(s)&&(s=c),s},o.prototype.getPrimaryOrGridColumn=function(i){return this.getPrimaryColumn(i)||this.getGridColumn(i)},o.prototype.setColumnWidths=function(i,s,l,c){var p=this;void 0===c&&(c="api");var v=[];i.forEach(function(M){var L=p.getPrimaryOrGridColumn(M.key);if(L&&(v.push({width:M.newWidth,ratios:[1],columns:[L]}),"shift"===p.gridOptionsWrapper.getColResizeDefault()&&(s=!s),s)){var re=p.getDisplayedColAfter(L);if(!re)return;var de=L.getActualWidth()-M.newWidth,be=re.getActualWidth()+de;v.push({width:be,ratios:[1],columns:[re]})}}),0!==v.length&&this.resizeColumnSets({resizeSets:v,finished:l,source:c})},o.prototype.checkMinAndMaxWidthsForSet=function(i){var l=i.width,c=0,p=0,v=!0;return i.columns.forEach(function(Y){var re=Y.getMinWidth();c+=re||0;var de=Y.getMaxWidth();I(de)&&de>0?p+=de:v=!1}),l>=c&&(!v||l<=p)},o.prototype.resizeColumnSets=function(i){var s=this,l=i.resizeSets,c=i.finished,p=i.source;if(!l||l.every(function(Ce){return s.checkMinAndMaxWidthsForSet(Ce)})){var L=[],Y=[];l.forEach(function(Ce){var Re=Ce.width,Ge=Ce.columns,Ze=Ce.ratios,He={},Ke={};Ge.forEach(function(zt){return Y.push(zt)});for(var pt=!0,Bt=0,Sn=function(){if(++Bt>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";pt=!1;var zt=[],kn=0,Pn=Re;Ge.forEach(function(Ai,qr){Ke[Ai.getId()]?Pn-=He[Ai.getId()]:(zt.push(Ai),kn+=Ze[qr])});var Vi=1/kn;zt.forEach(function(Ai,qr){var lo;qr===zt.length-1?lo=Pn:(lo=Math.round(Ze[qr]*Re*Vi),Pn-=lo);var uu=Ai.getMinWidth(),Ga=Ai.getMaxWidth();I(uu)&&lo<uu?(lo=uu,Ke[Ai.getId()]=!0,pt=!0):I(Ga)&&Ga>0&&lo>Ga&&(lo=Ga,Ke[Ai.getId()]=!0,pt=!0),He[Ai.getId()]=lo})};pt&&"break"!==Sn(););Ge.forEach(function(zt){var kn=He[zt.getId()];zt.getActualWidth()!==kn&&(zt.setActualWidth(kn,p),L.push(zt))})});var re=L.length>0,de=[];re&&(de=this.refreshFlexedColumns({resizingCols:Y,skipSetLeft:!0}),this.setLeftValues(p),this.updateBodyWidths(),this.checkViewportColumns());var be=Y.concat(de);(re||c)&&this.fireColumnResizedEvent(be,c,p,de)}else c&&this.fireColumnResizedEvent(l&&l.length>0?l[0].columns:null,c,p)},o.prototype.setColumnAggFunc=function(i,s,l){if(void 0===l&&(l="api"),i){var c=this.getPrimaryColumn(i);!c||(c.setAggFunc(s),this.fireColumnEvent(xe.EVENT_COLUMN_VALUE_CHANGED,[c],l))}},o.prototype.fireColumnEvent=function(i,s,l){this.eventService.dispatchEvent({type:i,columns:s,column:s&&1==s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.moveRowGroupColumn=function(i,s,l){void 0===l&&(l="api");var c=this.rowGroupColumns[i];this.rowGroupColumns.splice(i,1),this.rowGroupColumns.splice(s,0,c),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.moveColumns=function(i,s,l){if(void 0===l&&(l="api"),this.columnAnimationService.start(),s>this.gridColumns.length-i.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+s),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var c=this.getGridColumns(i);!this.doesMovePassRules(c,s)||(Xf(this.gridColumns,c,s),this.updateDisplayedColumns(l),this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_MOVED,columns:c,column:1===c.length?c[0]:null,toIndex:s,api:this.gridApi,columnApi:this.columnApi,source:l}),this.columnAnimationService.finish())},o.prototype.doesMovePassRules=function(i,s){var l=this.gridColumns.slice();return Xf(l,i,s),!(!this.doesMovePassMarryChildren(l)||!this.doesMovePassLockedPositions(l))},o.prototype.sortColumnsLikeGridColumns=function(i){var s=this;!i||i.length<=1||i.filter(function(c){return s.gridColumns.indexOf(c)<0}).length>0||i.sort(function(c,p){return s.gridColumns.indexOf(c)-s.gridColumns.indexOf(p)})},o.prototype.doesMovePassLockedPositions=function(i){var s=0,l=!0;return i.forEach(function(p){var v=function(p){return p?!0===p||"left"===p?0:2:1}(p.getColDef().lockPosition);v<s&&(l=!1),s=v}),l},o.prototype.doesMovePassMarryChildren=function(i){var s=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(l){if(l instanceof En){var c=l,p=c.getColGroupDef();if(p&&p.marryChildren){var M=[];c.getLeafColumns().forEach(function(be){var Ce=i.indexOf(be);M.push(Ce)}),Math.max.apply(Math,M)-Math.min.apply(Math,M)>c.getLeafColumns().length-1&&(s=!1)}}}),s},o.prototype.moveColumn=function(i,s,l){void 0===l&&(l="api"),this.moveColumns([i],s,l)},o.prototype.moveColumnByIndex=function(i,s,l){void 0===l&&(l="api"),this.moveColumn(this.gridColumns[i],s,l)},o.prototype.getColumnDefs=function(){var i=this;if(this.primaryColumns){var s=this.primaryColumns.slice();return this.gridColsArePrimary?s.sort(function(l,c){return i.gridColumns.indexOf(l)-i.gridColumns.indexOf(c)}):this.lastPrimaryOrder&&s.sort(function(l,c){return i.lastPrimaryOrder.indexOf(l)-i.lastPrimaryOrder.indexOf(c)}),this.columnDefFactory.buildColumnDefs(s,this.rowGroupColumns,this.pivotColumns)}},o.prototype.getBodyContainerWidth=function(){return this.bodyWidth},o.prototype.getContainerWidth=function(i){switch(i){case Ie.PINNED_LEFT:return this.leftWidth;case Ie.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},o.prototype.updateBodyWidths=function(){var i=this.getWidthOfColsInList(this.displayedColumnsCenter),s=this.getWidthOfColsInList(this.displayedColumnsLeft),l=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==i,(this.bodyWidth!==i||this.leftWidth!==s||this.rightWidth!==l)&&(this.bodyWidth=i,this.leftWidth=s,this.rightWidth=l,this.eventService.dispatchEvent({type:xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},o.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},o.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},o.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},o.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},o.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},o.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},o.prototype.getDisplayedColumns=function(i){switch(i){case Ie.PINNED_LEFT:return this.getDisplayedLeftColumns();case Ie.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},o.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},o.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},o.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},o.prototype.getAllGridColumns=function(){return this.gridColumns},o.prototype.isEmpty=function(){return x(this.gridColumns)},o.prototype.isRowGroupEmpty=function(){return x(this.rowGroupColumns)},o.prototype.setColumnVisible=function(i,s,l){void 0===l&&(l="api"),this.setColumnsVisible([i],s,l)},o.prototype.setColumnsVisible=function(i,s,l){var c=this;void 0===s&&(s=!1),void 0===l&&(l="api"),this.columnAnimationService.start(),this.actionOnGridColumns(i,function(p){return p.isVisible()!==s&&(p.setVisible(s,l),!0)},l,function(){return{type:xe.EVENT_COLUMN_VISIBLE,visible:s,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:l}}),this.columnAnimationService.finish()},o.prototype.setColumnPinned=function(i,s,l){void 0===l&&(l="api"),i&&this.setColumnsPinned([i],s,l)},o.prototype.setColumnsPinned=function(i,s,l){var p,c=this;void 0===l&&(l="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),p=!0===s||s===Ie.PINNED_LEFT?Ie.PINNED_LEFT:s===Ie.PINNED_RIGHT?Ie.PINNED_RIGHT:null,this.actionOnGridColumns(i,function(v){return v.getPinned()!==p&&(v.setPinned(p),!0)},l,function(){return{type:xe.EVENT_COLUMN_PINNED,pinned:p,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:l}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},o.prototype.actionOnGridColumns=function(i,s,l,c){var p=this;if(!x(i)){var v=[];if(i.forEach(function(L){var Y=p.getGridColumn(L);Y&&!1!==s(Y)&&v.push(Y)}),v.length&&(this.updateDisplayedColumns(l),I(c)&&c)){var M=c();M.columns=v,M.column=1===v.length?v[0]:null,this.eventService.dispatchEvent(M)}}},o.prototype.getDisplayedColBefore=function(i){var s=this.getAllDisplayedColumns(),l=s.indexOf(i);return l>0?s[l-1]:null},o.prototype.getDisplayedColAfter=function(i){var s=this.getAllDisplayedColumns(),l=s.indexOf(i);return l<s.length-1?s[l+1]:null},o.prototype.getDisplayedGroupAfter=function(i){return this.getDisplayedGroupAtDirection(i,"After")},o.prototype.getDisplayedGroupBefore=function(i){return this.getDisplayedGroupAtDirection(i,"Before")},o.prototype.getDisplayedGroupAtDirection=function(i,s){for(var l=i.getProvidedColumnGroup().getLevel()+i.getPaddingLevel(),c=i.getDisplayedLeafColumns(),p="After"===s?xt(c):c[0],v="getDisplayedCol"+s;;){var M=this[v](p);if(!M)return null;var L=this.getColumnGroupAtLevel(M,l);if(L!==i)return L}},o.prototype.getColumnGroupAtLevel=function(i,s){for(var l=i.getParent();!(l.getProvidedColumnGroup().getLevel()+l.getPaddingLevel()<=s);)l=l.getParent();return l},o.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},o.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},o.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var i;return(i=[]).concat.apply(i,Oh([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},o.prototype.getPrimaryAndAutoGroupCols=function(){var i;return(i=[]).concat.apply(i,Oh([this.primaryColumns||[],this.groupAutoColumns||[]]))},o.prototype.getPrimaryAndSecondaryColumns=function(){var i;return(i=[]).concat.apply(i,Oh([this.primaryColumns||[],this.secondaryColumns||[]]))},o.prototype.createStateItemFromColumn=function(i){var s=i.isRowGroupActive()?this.rowGroupColumns.indexOf(i):null,l=i.isPivotActive()?this.pivotColumns.indexOf(i):null,c=i.isValueActive()?i.getAggFunc():null,p=null!=i.getSort()?i.getSort():null,v=null!=i.getSortIndex()?i.getSortIndex():null,M=null!=i.getFlex()&&i.getFlex()>0?i.getFlex():null;return{colId:i.getColId(),width:i.getActualWidth(),hide:!i.isVisible(),pinned:i.getPinned(),sort:p,sortIndex:v,aggFunc:c,rowGroup:i.isRowGroupActive(),rowGroupIndex:s,pivot:i.isPivotActive(),pivotIndex:l,flex:M}},o.prototype.getColumnState=function(){if(O(this.primaryColumns)||!this.isAlive())return[];var s=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(s),s},o.prototype.orderColumnStateList=function(i){var s=Lt(this.gridColumns.map(function(l,c){return[l.getColId(),c]}));i.sort(function(l,c){return(s.has(l.colId)?s.get(l.colId):-1)-(s.has(c.colId)?s.get(c.colId):-1)})},o.prototype.resetColumnState=function(i){void 0===i&&(i="api");var s=this.getColumnsFromTree(this.primaryColumnTree),l=[],c=1e3,p=1e3,v=[];this.groupAutoColumns&&(v=v.concat(this.groupAutoColumns)),s&&(v=v.concat(s)),v.forEach(function(M){var L=function(Tn,zt){return null!=Tn?Tn:null!=zt?zt:null},Y=M.getColDef(),re=L(Y.sort,Y.initialSort),de=L(Y.sortIndex,Y.initialSortIndex),be=L(Y.hide,Y.initialHide),Ce=L(Y.pinned,Y.initialPinned),Re=L(Y.width,Y.initialWidth),Ge=L(Y.flex,Y.initialFlex),Ze=L(Y.rowGroupIndex,Y.initialRowGroupIndex),He=L(Y.rowGroup,Y.initialRowGroup);null==Ze&&(null==He||0==He)&&(Ze=null,He=null);var Ke=L(Y.pivotIndex,Y.initialPivotIndex),pt=L(Y.pivot,Y.initialPivot);null==Ke&&(null==pt||0==pt)&&(Ke=null,pt=null);var Bt=L(Y.aggFunc,Y.initialAggFunc),Sn={colId:M.getColId(),sort:re,sortIndex:de,hide:be,pinned:Ce,width:Re,flex:Ge,rowGroup:He,rowGroupIndex:Ze,pivot:pt,pivotIndex:Ke,aggFunc:Bt};O(Ze)&&He&&(Sn.rowGroupIndex=c++),O(Ke)&&pt&&(Sn.pivotIndex=p++),l.push(Sn)}),this.applyColumnState({state:l,applyOrder:!0},i)},o.prototype.applyColumnState=function(i,s){var l=this;if(void 0===s&&(s="api"),x(this.primaryColumns))return!1;if(i&&i.state&&!i.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var c=function(L,Y,re){var de=l.compareColumnStatesAndRaiseEvents(s);l.autoGroupsNeedBuilding=!0;var be=Y.slice(),Ce={},Re={},Ge=[],Ze=[],He=0,Ke=l.rowGroupColumns.slice(),pt=l.pivotColumns.slice();L.forEach(function(zt){var kn=zt.colId||"";if(kn.startsWith(Ie.GROUP_AUTO_COLUMN_ID))return Ge.push(zt),void Ze.push(zt);var Vi=re(kn);Vi?(l.syncColumnWithStateItem(Vi,zt,i.defaultState,Ce,Re,!1,s),si(be,Vi)):(Ze.push(zt),He+=1)});var Bt=function(zt){return l.syncColumnWithStateItem(zt,null,i.defaultState,Ce,Re,!1,s)};be.forEach(Bt);var Sn=function(zt,kn,Pn,Vi){var Ai=zt[Pn.getId()],qr=zt[Vi.getId()],ps=null!=Ai,lo=null!=qr;if(ps&&lo)return Ai-qr;if(ps)return-1;if(lo)return 1;var uu=kn.indexOf(Pn),Ga=kn.indexOf(Vi),s_=uu>=0;return s_&&Ga>=0?uu-Ga:s_?-1:1};l.rowGroupColumns.sort(Sn.bind(l,Ce,Ke)),l.pivotColumns.sort(Sn.bind(l,Re,pt)),l.updateGridColumns();var Tn=l.groupAutoColumns?l.groupAutoColumns.slice():[];return Ge.forEach(function(zt){var kn=l.getAutoColumn(zt.colId);si(Tn,kn),l.syncColumnWithStateItem(kn,zt,i.defaultState,null,null,!0,s)}),Tn.forEach(Bt),l.applyOrderAfterApplyState(i),l.updateDisplayedColumns(s),l.dispatchEverythingChanged(s),de(),{unmatchedAndAutoStates:Ze,unmatchedCount:He}};this.columnAnimationService.start();var p=c(i.state||[],this.primaryColumns||[],function(L){return l.getPrimaryColumn(L)}),v=p.unmatchedAndAutoStates,M=p.unmatchedCount;return(v.length>0||I(i.defaultState))&&(M=c(v,this.secondaryColumns||[],function(L){return l.getSecondaryColumn(L)}).unmatchedCount),this.columnAnimationService.finish(),0===M},o.prototype.applyOrderAfterApplyState=function(i){var s=this;if(i.applyOrder&&i.state){var l=[],c={};i.state.forEach(function(v){if(v.colId&&!c[v.colId]){var M=s.gridColumnsMap[v.colId];M&&(l.push(M),c[v.colId]=!0)}});var p=0;if(this.gridColumns.forEach(function(v){var M=v.getColId();null!=c[M]||(M.startsWith(Ie.GROUP_AUTO_COLUMN_ID)?pc(l,v,p++):l.push(v))}),l=this.placeLockedColumns(l),!this.doesMovePassMarryChildren(l))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=l}},o.prototype.compareColumnStatesAndRaiseEvents=function(i){var s=this,l={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},c=this.getColumnState(),p={};return c.forEach(function(v){p[v.colId]=v}),function(){if(!s.gridOptionsWrapper.isSuppressColumnStateEvents()){var v=s.getPrimaryAndSecondaryAndAutoColumns(),M=function(Ze,He,Ke,pt){In(He.map(pt),Ke.map(pt))||s.eventService.dispatchEvent({type:Ze,columns:Ke,column:1===Ke.length?Ke[0]:null,api:s.gridApi,columnApi:s.columnApi,source:i})},L=function(Ze){var He=[];return v.forEach(function(Ke){var pt=p[Ke.getColId()];pt&&Ze(pt,Ke)&&He.push(Ke)}),He},Y=function(Ze){return Ze.getColId()};M(xe.EVENT_COLUMN_ROW_GROUP_CHANGED,l.rowGroupColumns,s.rowGroupColumns,Y),M(xe.EVENT_COLUMN_PIVOT_CHANGED,l.pivotColumns,s.pivotColumns,Y),L(function(Ze,He){var Ke=null!=Ze.aggFunc,pt=Ke!=He.isValueActive(),Bt=Ke&&Ze.aggFunc!=He.getAggFunc();return pt||Bt}).length>0&&s.fireColumnEvent(xe.EVENT_COLUMN_VALUE_CHANGED,s.valueColumns,i),s.fireColumnResizedEvent(L(function(Ze,He){return Ze.width!=He.getActualWidth()}),!0,i),s.raiseColumnPinnedEvent(L(function(Ze,He){return Ze.pinned!=He.getPinned()}),i),s.raiseColumnVisibleEvent(L(function(Ze,He){return Ze.hide==He.isVisible()}),i),L(function(Ze,He){return Ze.sort!=He.getSort()||Ze.sortIndex!=He.getSortIndex()}).length>0&&s.sortController.dispatchSortChangedEvents(i),s.raiseColumnMovedEvent(c,i)}}},o.prototype.raiseColumnPinnedEvent=function(i,s){if(i.length){var l=1===i.length?i[0]:null,c=this.getCommonValue(i,function(v){return v.getPinned()});this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_PINNED,pinned:null!=c?c:null,columns:i,column:l,api:this.gridApi,columnApi:this.columnApi,source:s})}},o.prototype.getCommonValue=function(i,s){if(i&&0!=i.length){for(var l=s(i[0]),c=1;c<i.length;c++)if(l!==s(i[c]))return;return l}},o.prototype.raiseColumnVisibleEvent=function(i,s){if(i.length){var l=1===i.length?i[0]:null,c=this.getCommonValue(i,function(v){return v.isVisible()});this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_VISIBLE,visible:c,columns:i,column:l,api:this.gridApi,columnApi:this.columnApi,source:s})}},o.prototype.raiseColumnMovedEvent=function(i,s){var l=this,c=this.getColumnState(),p={};c.forEach(function(de){return p[de.colId]=de});var v={};i.forEach(function(de){p[de.colId]&&(v[de.colId]=!0)});var M=i.filter(function(de){return v[de.colId]}),L=c.filter(function(de){return v[de.colId]}),Y=[];L.forEach(function(de,be){var Ce=M&&M[be];if(Ce&&Ce.colId!==de.colId){var Re=l.getGridColumn(Ce.colId);Re&&Y.push(Re)}}),Y.length&&this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_MOVED,columns:Y,column:null,api:this.gridApi,columnApi:this.columnApi,source:s})},o.prototype.syncColumnWithStateItem=function(i,s,l,c,p,v,M){if(i){var L=function(kn,Pn){var Vi={value1:void 0,value2:void 0},Ai=!1;return s&&(void 0!==s[kn]&&(Vi.value1=s[kn],Ai=!0),I(Pn)&&void 0!==s[Pn]&&(Vi.value2=s[Pn],Ai=!0)),!Ai&&l&&(void 0!==l[kn]&&(Vi.value1=l[kn]),I(Pn)&&void 0!==l[Pn]&&(Vi.value2=l[Pn])),Vi},Y=L("hide").value1;void 0!==Y&&i.setVisible(!Y,M);var re=L("pinned").value1;void 0!==re&&i.setPinned(re);var de=this.columnUtils.calculateColMinWidth(i.getColDef()),be=L("flex").value1;if(void 0!==be&&i.setFlex(be),i.getFlex()<=0){var Re=L("width").value1;null!=Re&&null!=de&&Re>=de&&i.setActualWidth(Re,M)}var Ge=L("sort").value1;void 0!==Ge&&i.setSort(Ge===Ie.SORT_DESC||Ge===Ie.SORT_ASC?Ge:void 0,M);var Ze=L("sortIndex").value1;if(void 0!==Ze&&i.setSortIndex(Ze),!v&&i.isPrimary()){var He=L("aggFunc").value1;void 0!==He&&("string"==typeof He?(i.setAggFunc(He),i.isValueActive()||(i.setValueActive(!0,M),this.valueColumns.push(i))):(I(He)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),i.isValueActive()&&(i.setValueActive(!1,M),si(this.valueColumns,i))));var Ke=L("rowGroup","rowGroupIndex"),pt=Ke.value1,Bt=Ke.value2;(void 0!==pt||void 0!==Bt)&&("number"==typeof Bt||pt?(i.isRowGroupActive()||(i.setRowGroupActive(!0,M),this.rowGroupColumns.push(i)),c&&"number"==typeof Bt&&(c[i.getId()]=Bt)):i.isRowGroupActive()&&(i.setRowGroupActive(!1,M),si(this.rowGroupColumns,i)));var Sn=L("pivot","pivotIndex"),Tn=Sn.value1,zt=Sn.value2;(void 0!==Tn||void 0!==zt)&&("number"==typeof zt||Tn?(i.isPivotActive()||(i.setPivotActive(!0,M),this.pivotColumns.push(i)),p&&"number"==typeof zt&&(p[i.getId()]=zt)):i.isPivotActive()&&(i.setPivotActive(!1,M),si(this.pivotColumns,i)))}}},o.prototype.getGridColumns=function(i){return this.getColumns(i,this.getGridColumn.bind(this))},o.prototype.getColumns=function(i,s){var l=[];return i&&i.forEach(function(c){var p=s(c);p&&l.push(p)}),l},o.prototype.getColumnWithValidation=function(i){if(null==i)return null;var s=this.getGridColumn(i);return s||console.warn("AG Grid: could not find column "+i),s},o.prototype.getPrimaryColumn=function(i){return this.primaryColumns?this.getColumn(i,this.primaryColumns,this.primaryColumnsMap):null},o.prototype.getGridColumn=function(i){return this.getColumn(i,this.gridColumns,this.gridColumnsMap)},o.prototype.getSecondaryColumn=function(i){return this.secondaryColumns?this.getColumn(i,this.secondaryColumns,this.secondaryColumnsMap):null},o.prototype.getColumn=function(i,s,l){if(!i)return null;if("string"==typeof i&&l[i])return l[i];for(var c=0;c<s.length;c++)if(this.columnsMatch(s[c],i))return s[c];return this.getAutoColumn(i)},o.prototype.getAutoColumn=function(i){var s=this;return this.groupAutoColumns&&I(this.groupAutoColumns)&&!O(this.groupAutoColumns)&&this.groupAutoColumns.find(function(l){return s.columnsMatch(l,i)})||null},o.prototype.columnsMatch=function(i,s){var l=i===s,c=i.getColDef()===s,p=i.getColId()==s;return l||c||p},o.prototype.getDisplayNameForColumn=function(i,s,l){if(void 0===l&&(l=!1),!i)return null;var c=this.getHeaderName(i.getColDef(),i,null,null,s);return l?this.wrapHeaderNameWithAggFunc(i,c):c},o.prototype.getDisplayNameForProvidedColumnGroup=function(i,s,l){var c=s?s.getColGroupDef():null;return c?this.getHeaderName(c,null,i,s,l):null},o.prototype.getDisplayNameForColumnGroup=function(i,s){return this.getDisplayNameForProvidedColumnGroup(i,i.getProvidedColumnGroup(),s)},o.prototype.getHeaderName=function(i,s,l,c,p){var v=i.headerValueGetter;if(v){var M={colDef:i,column:s,columnGroup:l,providedColumnGroup:c,location:p,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof v?v(M):"string"==typeof v?this.expressionService.evaluate(v,M):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=i.headerName?i.headerName:i.field?Rh(i.field):""},o.prototype.wrapHeaderNameWithAggFunc=function(i,s){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return s;var v,l=i.getColDef().pivotValueColumn,p=null;if(I(l)){var M=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,L=void 0!==i.getColDef().pivotTotalColumnIds;if(M&&!L)return s;p=l?l.getAggFunc():null,v=!0}else{var Y=i.isValueActive(),re=this.pivotMode||!this.isRowGroupEmpty();Y&&re?(p=i.getAggFunc(),v=!0):v=!1}if(v){var de="string"==typeof p?p:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(de,de)+"("+s+")"}return s},o.prototype.getColumnGroup=function(i,s){if(!i)return null;if(i instanceof Cr)return i;var l=this.getAllDisplayedTrees(),c="number"==typeof s,p=null;return this.columnUtils.depthFirstAllColumnTreeSearch(l,function(v){if(v instanceof Cr){var M=v;(c?i===M.getGroupId()&&s===M.getInstanceId():i===M.getGroupId())&&(p=M)}}),p},o.prototype.isReady=function(){return this.ready},o.prototype.extractValueColumns=function(i,s){this.valueColumns=this.extractColumns(s,this.valueColumns,function(l,c){return l.setValueActive(c,i)},function(){},function(){},function(l){var c=l.aggFunc;return null===c||""===c?null:void 0!==c?!!c:void 0},function(l){return null!=l.initialAggFunc&&""!=l.initialAggFunc}),this.valueColumns.forEach(function(l){var c=l.getColDef();null!=c.aggFunc&&""!=c.aggFunc?l.setAggFunc(c.aggFunc):l.getAggFunc()||l.setAggFunc(c.initialAggFunc)})},o.prototype.extractRowGroupColumns=function(i,s){this.rowGroupColumns=this.extractColumns(s,this.rowGroupColumns,function(l,c){return l.setRowGroupActive(c,i)},function(l){return l.rowGroupIndex},function(l){return l.initialRowGroupIndex},function(l){return l.rowGroup},function(l){return l.initialRowGroup})},o.prototype.extractColumns=function(i,s,l,c,p,v,M){void 0===i&&(i=[]),void 0===s&&(s=[]);var L=[],Y=[];(this.primaryColumns||[]).forEach(function(be){var Ce=i.indexOf(be)<0,Re=be.getColDef(),Ge=_(v(Re)),Ze=_(M(Re)),He=C(c(Re)),Ke=C(p(Re));(void 0!==Ge?Ge:void 0!==He?null!==He&&He>=0:Ce?void 0!==Ze?Ze:void 0!==Ke&&null!=Ke&&Ke>=0:s.indexOf(be)>=0)&&((Ce?null!=He||null!=Ke:null!=He)?L.push(be):Y.push(be))});var re=function(be){var Ce=c(be.getColDef()),Re=p(be.getColDef());return null!=Ce?Ce:Re};L.sort(function(be,Ce){var Re=re(be),Ge=re(Ce);return Re===Ge?0:Re<Ge?-1:1});var de=[].concat(L);return s.forEach(function(be){Y.indexOf(be)>=0&&de.push(be)}),Y.forEach(function(be){de.indexOf(be)<0&&de.push(be)}),s.forEach(function(be){de.indexOf(be)<0&&l(be,!1)}),de.forEach(function(be){s.indexOf(be)<0&&l(be,!0)}),de},o.prototype.extractPivotColumns=function(i,s){this.pivotColumns=this.extractColumns(s,this.pivotColumns,function(l,c){return l.setPivotActive(c,i)},function(l){return l.pivotIndex},function(l){return l.initialPivotIndex},function(l){return l.pivot},function(l){return l.initialPivot})},o.prototype.resetColumnGroupState=function(i){void 0===i&&(i="api");var s=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(l){if(l instanceof En){var c=l.getColGroupDef(),p={groupId:l.getGroupId(),open:c?c.openByDefault:void 0};s.push(p)}}),this.setColumnGroupState(s,i)},o.prototype.getColumnGroupState=function(){var i=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(s){s instanceof En&&i.push({groupId:s.getGroupId(),open:s.isExpanded()})}),i},o.prototype.setColumnGroupState=function(i,s){var l=this;void 0===s&&(s="api"),this.columnAnimationService.start();var c=[];i.forEach(function(p){var M=p.open,L=l.getProvidedColumnGroup(p.groupId);!L||L.isExpanded()!==M&&(l.logger.log("columnGroupOpened("+L.getGroupId()+","+M+")"),L.setExpanded(M),c.push(L))}),this.updateGroupsAndDisplayedColumns(s),this.setFirstRightAndLastLeftPinned(s),c.forEach(function(p){l.eventService.dispatchEvent({type:xe.EVENT_COLUMN_GROUP_OPENED,columnGroup:p,api:l.gridApi,columnApi:l.columnApi})}),this.columnAnimationService.finish()},o.prototype.setColumnGroupOpened=function(i,s,l){var c;void 0===l&&(l="api"),c=i instanceof En?i.getId():i||"",this.setColumnGroupState([{groupId:c,open:s}],l)},o.prototype.getProvidedColumnGroup=function(i){"string"!=typeof i&&console.error("AG Grid: group key must be a string");var s=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(l){l instanceof En&&l.getId()===i&&(s=l)}),s},o.prototype.calculateColumnsForDisplay=function(){var i=this;return this.pivotMode&&O(this.secondaryColumns)?this.gridColumns.filter(function(l){var c=i.groupAutoColumns&&vo(i.groupAutoColumns,l),p=i.valueColumns&&vo(i.valueColumns,l);return c||p}):this.gridColumns.filter(function(l){return i.groupAutoColumns&&vo(i.groupAutoColumns,l)||l.isVisible()})},o.prototype.checkColSpanActiveInCols=function(i){var s=!1;return i.forEach(function(l){I(l.getColDef().colSpan)&&(s=!0)}),s},o.prototype.calculateColumnsForGroupDisplay=function(){var i=this;this.groupDisplayColumns=[];var s=function(l){var c=l.getColDef();c&&I(c.showRowGroup)&&i.groupDisplayColumns.push(l)};this.gridColumns.forEach(s),this.groupAutoColumns&&this.groupAutoColumns.forEach(s)},o.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},o.prototype.updateDisplayedColumns=function(i){var s=this.calculateColumnsForDisplay();this.buildDisplayedTrees(s),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i)},o.prototype.isSecondaryColumnsPresent=function(){return I(this.secondaryColumns)},o.prototype.setSecondaryColumns=function(i,s){var l=this;void 0===s&&(s="api");var c=i&&i.length>0;if(c||!O(this.secondaryColumns)){if(c){this.processSecondaryColumnDefinitions(i);var p=this.columnFactory.createColumnTree(i,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=p.columnTree,this.secondaryHeaderRowCount=p.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(v){return l.secondaryColumnsMap[v.getId()]=v}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(s)}},o.prototype.processSecondaryColumnDefinitions=function(i){var s=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),l=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(s||l){var c=function(p){p.forEach(function(v){if(I(v.children)){var L=v;l&&l(L),c(L.children)}else s&&s(v)})};i&&c(i)}},o.prototype.updateGridColumns=function(){var i=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.every(function(c){return void 0!==i.gridColumnsMap[c.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(c){return i.gridColumnsMap[c.getId()]=c}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:xe.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(c){return c.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var i=this.rowModel.getType();i!==Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&i!==Ie.ROW_MODEL_TYPE_SERVER_SIDE&&We(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},o.prototype.orderGridColsLike=function(i){if(!O(i)){var s=Lt(i.map(function(Y,re){return[Y,re]})),l=!0;if(this.gridColumns.forEach(function(Y){s.has(Y)&&(l=!1)}),!l){var c=Lt(this.gridColumns.map(function(Y){return[Y,!0]})),p=i.filter(function(Y){return c.has(Y)}),v=Lt(p.map(function(Y){return[Y,!0]})),M=this.gridColumns.filter(function(Y){return!v.has(Y)}),L=p.slice();M.forEach(function(Y){var re=Y.getOriginalParent();if(re){for(var de=[];!de.length&&re;)re.getLeafColumns().forEach(function(Ge){var Ze=L.indexOf(Ge)>=0,He=de.indexOf(Ge)<0;Ze&&He&&de.push(Ge)}),re=re.getOriginalParent();if(de.length){var Ce=de.map(function(Ge){return L.indexOf(Ge)}),Re=Math.max.apply(Math,Oh(Ce));pc(L,Y,Re+1)}else L.push(Y)}else L.push(Y)}),this.gridColumns=L}}},o.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},o.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},o.prototype.placeLockedColumns=function(i){var s=[],l=[],c=[];return i.forEach(function(p){var v=p.getColDef().lockPosition;"right"===v?c.push(p):"left"===v||!0===v?s.push(p):l.push(p)}),Oh(s,l,c)},o.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!O(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var i=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=i.concat(this.gridBalancedTree)}},o.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},o.prototype.updateGroupsAndDisplayedColumns=function(i){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(i),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:xe.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.deriveDisplayedColumns=function(i){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(i),this.displayedAutoHeightCols=this.displayedColumns.filter(function(s){return s.isAutoHeight()})},o.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},o.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},o.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},o.prototype.setLeftValues=function(i){this.setLeftValuesOfColumns(i),this.setLeftValuesOfGroups()},o.prototype.setLeftValuesOfColumns=function(i){var s=this;if(this.primaryColumns){var l=this.primaryColumns.slice(0),c=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(p){if(c){var v=s.getWidthOfColsInList(p);p.forEach(function(L){v-=L.getActualWidth(),L.setLeft(v,i)})}else{var M=0;p.forEach(function(L){L.setLeft(M,i),M+=L.getActualWidth()})}Ea(l,p)}),l.forEach(function(p){p.setLeft(null,i)})}},o.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(i){i.forEach(function(s){s instanceof Cr&&s.checkLeft()})})},o.prototype.derivedDisplayedColumnsFromDisplayedTree=function(i,s){s.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(i,function(l){l instanceof ot&&s.push(l)})},o.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},o.prototype.getVirtualHeaderGroupRow=function(i,s){var l;switch(i){case Ie.PINNED_LEFT:l=this.viewportRowLeft[s];break;case Ie.PINNED_RIGHT:l=this.viewportRowRight[s];break;default:l=this.viewportRowCenter[s]}return O(l)&&(l=[]),l},o.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var i={};this.viewportColumns.forEach(function(l){return i[l.getId()]=!0});var s=function(l,c,p){for(var v=!1,M=0;M<l.length;M++){var L=l[M],Y=!1;if(L instanceof ot)Y=!0===i[L.getId()];else{var de=L.getDisplayedChildren();de&&(Y=s(de,c,p+1))}Y&&(v=!0,c[p]||(c[p]=[]),c[p].push(L))}return v};s(this.displayedTreeLeft,this.viewportRowLeft,0),s(this.displayedTreeRight,this.viewportRowRight,0),s(this.displayedTreeCentre,this.viewportRowCenter,0)},o.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},o.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},o.prototype.refreshFlexedColumns=function(i){var s=this;void 0===i&&(i={});var l=i.source?i.source:"flex";if(null!=i.viewportWidth&&(this.flexViewportWidth=i.viewportWidth),!this.flexViewportWidth)return[];var c=-1;i.resizingCols&&i.resizingCols.forEach(function(pt){var Bt=s.displayedColumnsCenter.indexOf(pt);c<Bt&&(c=Bt)});var p=function(pt){var Bt=s.displayedColumnsCenter.indexOf(pt)>c;return pt.getFlex()&&Bt},v=this.displayedColumnsCenter.filter(function(pt){return!p(pt)}),M=this.displayedColumnsCenter.filter(function(pt){return p(pt)}),L=[];if(!M.length)return[];var re,Y=[];e:for(;;){var de=M.reduce(function(pt,Bt){return pt+Bt.getFlex()},0);re=this.flexViewportWidth-this.getWidthOfColsInList(v);for(var be=0;be<M.length;be++){var Ce=M[be],Re=re*Ce.getFlex()/de,Ge=0,Ze=Ce.getMinWidth(),He=Ce.getMaxWidth();if(I(Ze)&&Re<Ze?Ge=Ze:I(He)&&Re>He&&(Ge=He),Ge){Ce.setActualWidth(Ge,l),si(M,Ce),L.push(Ce),v.push(Ce);continue e}Y[be]=Math.round(Re)}break}var Ke=re;return M.forEach(function(pt,Bt){pt.setActualWidth(Math.min(Y[Bt],Ke),l),L.push(pt),Ke-=Y[Bt]}),i.skipSetLeft||this.setLeftValues(l),i.updateBodyWidths&&this.updateBodyWidths(),i.fireResizedEvent&&this.fireColumnResizedEvent(L,!0,l,M),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),M},o.prototype.sizeColumnsToFit=function(i,s,l){void 0===s&&(s="sizeColumnsToFit");var c=this.getAllDisplayedColumns();if(!(i<=0)&&c.length){var p=[],v=[];c.forEach(function(Ke){!0===Ke.getColDef().suppressSizeToFit?v.push(Ke):p.push(Ke)});var M=p.slice(0),L=!1,Y=function(Ke){si(p,Ke),v.push(Ke)};for(p.forEach(function(Ke){return Ke.resetActualWidth(s)});!L;){L=!0;var re=i-this.getWidthOfColsInList(v);if(re<=0)p.forEach(function(Ke){Ke.setMinimum(s)});else for(var de=re/this.getWidthOfColsInList(p),be=re,Ce=p.length-1;Ce>=0;Ce--){var Re=p[Ce],Ge=Re.getMinWidth(),Ze=Re.getMaxWidth(),He=Math.round(Re.getActualWidth()*de);I(Ge)&&He<Ge?(He=Ge,Y(Re),L=!1):I(Ze)&&Re.isGreaterThanMax(He)?(He=Ze,Y(Re),L=!1):0===Ce&&(He=be),Re.setActualWidth(He,s,!0),be-=He}}M.forEach(function(Ke){Ke.fireColumnWidthChangedEvent(s)}),this.setLeftValues(s),this.updateBodyWidths(),!l&&this.fireColumnResizedEvent(M,!0,s)}},o.prototype.buildDisplayedTrees=function(i){var s=[],l=[],c=[];i.forEach(function(v){switch(v.getPinned()){case"left":s.push(v);break;case"right":l.push(v);break;default:c.push(v)}});var p=new Iu;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(s,this.gridBalancedTree,p,Ie.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(l,this.gridBalancedTree,p,Ie.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,p,null,this.displayedTreeCentre),this.updateDisplayedMap()},o.prototype.updateDisplayedMap=function(){var i=this;this.displayedColumnsAndGroupsMap={};var s=function(l){i.displayedColumnsAndGroupsMap[l.getUniqueId()]=l};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,s)},o.prototype.isDisplayed=function(i){return this.displayedColumnsAndGroupsMap[i.getUniqueId()]===i},o.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var i=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){s instanceof Cr&&s.calculateDisplayedColumns()})},o.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},o.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var i=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),s=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||s||i)this.groupAutoColumns=null;else{var v=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(v,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=v)}}},o.prototype.autoColsEqual=function(i,s){return In(i,s,function(l,c){return l.getColId()===c.getColId()})},o.prototype.getWidthOfColsInList=function(i){return i.reduce(function(s,l){return s+l.getActualWidth()},0)},o.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},o.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(s){return s.getColDef().floatingFilter})},o.prototype.getFirstDisplayedColumn=function(){var i=this.gridOptionsWrapper.isEnableRtl(),s=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];i&&s.reverse();for(var l=0;l<s.length;l++){var c=this[s[l]]();if(c.length)return i?xt(c):c[0]}return null},pr([le("expressionService")],o.prototype,"expressionService",void 0),pr([le("columnFactory")],o.prototype,"columnFactory",void 0),pr([le("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),pr([le("ctrlsService")],o.prototype,"ctrlsService",void 0),pr([le("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),pr([le("columnUtils")],o.prototype,"columnUtils",void 0),pr([le("columnAnimationService")],o.prototype,"columnAnimationService",void 0),pr([le("autoGroupColService")],o.prototype,"autoGroupColService",void 0),pr([fn("aggFuncService")],o.prototype,"aggFuncService",void 0),pr([fn("valueCache")],o.prototype,"valueCache",void 0),pr([fn("animationFrameService")],o.prototype,"animationFrameService",void 0),pr([le("rowModel")],o.prototype,"rowModel",void 0),pr([le("columnApi")],o.prototype,"columnApi",void 0),pr([le("gridApi")],o.prototype,"gridApi",void 0),pr([le("sortController")],o.prototype,"sortController",void 0),pr([le("columnDefFactory")],o.prototype,"columnDefFactory",void 0),pr([Xe],o.prototype,"init",null),pr([RR(0,Jn("loggerFactory"))],o.prototype,"setBeans",null),pr([at("columnModel")],o)}(dt),OR=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),nx=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return OR(o,u),o.prototype.calculateColMinWidth=function(i){return null!=i.minWidth?i.minWidth:this.gridOptionsWrapper.getMinColWidth()},o.prototype.calculateColMaxWidth=function(i){return null!=i.maxWidth?i.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},o.prototype.calculateColInitialWidth=function(i){var c,s=this.calculateColMinWidth(i),l=this.calculateColMaxWidth(i),p=C(i.width),v=C(i.initialWidth);return c=null!=p?p:null!=v?v:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(c,l),s)},o.prototype.getOriginalPathForColumn=function(i,s){var l=[],c=!1,p=function(v,M){for(var L=0;L<v.length;L++){if(c)return;var Y=v[L];Y instanceof En?(p(Y.getChildren(),M+1),l[M]=Y):Y===i&&(c=!0)}};return p(s,0),c?l:null},o.prototype.depthFirstOriginalTreeSearch=function(i,s,l){var c=this;!s||s.forEach(function(p){p instanceof En&&c.depthFirstOriginalTreeSearch(p,p.getChildren(),l),l(p,i)})},o.prototype.depthFirstAllColumnTreeSearch=function(i,s){var l=this;!i||i.forEach(function(c){c instanceof Cr&&l.depthFirstAllColumnTreeSearch(c.getChildren(),s),s(c)})},o.prototype.depthFirstDisplayedColumnTreeSearch=function(i,s){var l=this;!i||i.forEach(function(c){c instanceof Cr&&l.depthFirstDisplayedColumnTreeSearch(c.getDisplayedChildren(),s),s(c)})},o=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at("columnUtils")],o),o}(dt),kR=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ix=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return kR(o,u),o.prototype.createDisplayedGroups=function(i,s,l,c,p){var L,Y,v=this,M=[],re=this.mapOldGroupsById(p);return i.forEach(function(de){for(var be=v.getOriginalPathForColumn(s,de),Ce=[],Re=!Y,Ge=0;Ge<be.length;Ge++)if(Re||be[Ge]!==Y[Ge]){var Ze=v.createColumnGroup(be[Ge],l,re,c);Ce[Ge]=Ze,0==Ge?M.push(Ze):Ce[Ge-1].addChild(Ze)}else Ce[Ge]=L[Ge];0===Ce.length?M.push(de):xt(Ce).addChild(de),L=Ce,Y=be}),this.setupParentsIntoColumns(M,null),M},o.prototype.createColumnGroup=function(i,s,l,c){var p=i.getGroupId(),v=s.getInstanceIdForKey(p),L=l[Cr.createUniqueId(p,v)];return L&&L.getProvidedColumnGroup()!==i&&(L=null),I(L)?L.reset():(L=new Cr(i,p,v,c),this.context.createBean(L)),L},o.prototype.mapOldGroupsById=function(i){var s={},l=function(c){c.forEach(function(p){if(p instanceof Cr){var v=p;s[p.getUniqueId()]=v,l(v.getChildren())}})};return i&&l(i),s},o.prototype.setupParentsIntoColumns=function(i,s){var l=this;i.forEach(function(c){if(c.setParent(s),c instanceof Cr){var p=c;l.setupParentsIntoColumns(p.getChildren(),p)}})},o.prototype.getOriginalPathForColumn=function(i,s){var l=[],c=!1,p=function(v,M){for(var L=0;L<v.length;L++){if(c)return;var Y=v[L];Y instanceof En?(p(Y.getChildren(),M+1),l[M]=Y):Y===s&&(c=!0)}};return p(i,0),c?l:(console.warn("AG Grid: could not get path"),null)},o=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at("displayedGroupCreator")],o),o}(dt),rx=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},xs=function(){function u(){}return u.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],u.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],u.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],u.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],u.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges"],u.ALL_PROPERTIES=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(rx(arguments[o]));return u}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),Bv=function(){return Bv=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Bv.apply(this,arguments)},Co=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},mi=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(Co(arguments[o]));return u},rl=function(){function u(){}return u.getEventCallbacks=function(){return u.EVENT_CALLBACKS||(u.EVENT_CALLBACKS=u.EVENTS.map(function(o){return u.getCallbackForEvent(o)})),u.EVENT_CALLBACKS},u.copyAttributesToGridOptions=function(o,i,s){"object"!=typeof o&&(o={});var l=o,c=function(p){return void 0!==i[p]};return c("groupAggFiltering")&&"function"!=typeof i.groupAggFiltering&&(l.groupAggFiltering=u.toBoolean(i.groupAggFiltering),delete i.groupAggFiltering),mi(u.ARRAY_PROPERTIES,u.STRING_PROPERTIES,u.OBJECT_PROPERTIES,u.FUNCTION_PROPERTIES,u.getEventCallbacks()).filter(c).forEach(function(p){return l[p]=i[p]}),u.BOOLEAN_PROPERTIES.filter(c).forEach(function(p){return l[p]=u.toBoolean(i[p])}),u.NUMBER_PROPERTIES.filter(c).forEach(function(p){return l[p]=u.toNumber(i[p])}),o},u.getCallbackForEvent=function(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substr(1)},u.processOnChange=function(o,i,s,l){if(o){var c=Bv({},o),p=i,v=function(Y){return c[Y]};v("groupAggFiltering")&&(p.groupAggFiltering="function"==typeof c.groupAggFiltering?c.groupAggFiltering:u.toBoolean(c.groupAggFiltering),delete c.groupAggFiltering),c.rowClass&&(s.setRowClass(c.rowClass.currentValue),delete c.rowClass),mi(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.getEventCallbacks()).filter(v).forEach(function(Y){return p[Y]=c[Y].currentValue}),u.BOOLEAN_PROPERTIES.filter(v).forEach(function(Y){return p[Y]=u.toBoolean(c[Y].currentValue)}),u.NUMBER_PROPERTIES.filter(v).forEach(function(Y){return p[Y]=u.toNumber(c[Y].currentValue)}),c.enableCellTextSelection&&(s.setEnableCellTextSelection(u.toBoolean(c.enableCellTextSelection.currentValue)),delete c.enableCellTextSelection),c.quickFilterText&&(s.setQuickFilter(c.quickFilterText.currentValue),delete c.quickFilterText),c.autoGroupColumnDef&&(s.setAutoGroupColumnDef(c.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete c.autoGroupColumnDef),c.columnDefs&&(s.setColumnDefs(c.columnDefs.currentValue,"gridOptionsChanged"),delete c.columnDefs),c.defaultColDef&&(s.setDefaultColDef(c.defaultColDef.currentValue,"gridOptionsChanged"),delete c.defaultColDef),c.paginationPageSize&&(s.paginationSetPageSize(u.toNumber(c.paginationPageSize.currentValue)),delete c.paginationPageSize),c.pivotMode&&(l.setPivotMode(u.toBoolean(c.pivotMode.currentValue)),delete c.pivotMode),c.groupRemoveSingleChildren&&(s.setGroupRemoveSingleChildren(u.toBoolean(c.groupRemoveSingleChildren.currentValue)),delete c.groupRemoveSingleChildren),c.suppressRowDrag&&(s.setSuppressRowDrag(u.toBoolean(c.suppressRowDrag.currentValue)),delete c.suppressRowDrag),c.suppressMoveWhenRowDragging&&(s.setSuppressMoveWhenRowDragging(u.toBoolean(c.suppressMoveWhenRowDragging.currentValue)),delete c.suppressMoveWhenRowDragging),c.suppressRowClickSelection&&(s.setSuppressRowClickSelection(u.toBoolean(c.suppressRowClickSelection.currentValue)),delete c.suppressRowClickSelection),c.suppressClipboardPaste&&(s.setSuppressClipboardPaste(u.toBoolean(c.suppressClipboardPaste.currentValue)),delete c.suppressClipboardPaste),c.headerHeight&&(s.setHeaderHeight(u.toNumber(c.headerHeight.currentValue)),delete c.headerHeight);var M=s;Object.keys(c).forEach(function(Y){var re="set"+Y.charAt(0).toUpperCase()+Y.substring(1);M[re]&&M[re](o[Y].currentValue)});var L={type:xe.EVENT_COMPONENT_STATE_CHANGED,api:i.api,columnApi:i.columnApi};E(o,function(Y,re){L[Y]=re}),s.dispatchEvent(L)}},u.toBoolean=function(o){return"boolean"==typeof o?o:"string"==typeof o&&("TRUE"===o.toUpperCase()||""==o)},u.toNumber=function(o){return"number"==typeof o?o:"string"==typeof o?Number(o):void 0},u.EVENTS=[],u.PUBLIC_EVENTS=[],u.EXCLUDED_INTERNAL_EVENTS=[],u.STRING_PROPERTIES=xs.STRING_PROPERTIES,u.OBJECT_PROPERTIES=xs.OBJECT_PROPERTIES,u.ARRAY_PROPERTIES=xs.ARRAY_PROPERTIES,u.NUMBER_PROPERTIES=xs.NUMBER_PROPERTIES,u.BOOLEAN_PROPERTIES=xs.BOOLEAN_PROPERTIES,u.FUNCTION_PROPERTIES=xs.FUNCTION_PROPERTIES,u.ALL_PROPERTIES=xs.ALL_PROPERTIES,u}();rl.EVENTS=b(xe),rl.EXCLUDED_INTERNAL_EVENTS=[xe.EVENT_SCROLLBAR_WIDTH_CHANGED,xe.EVENT_CHECKBOX_CHANGED,xe.EVENT_HEIGHT_SCALE_CHANGED,xe.EVENT_BODY_HEIGHT_CHANGED,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,xe.EVENT_SCROLL_VISIBILITY_CHANGED,xe.EVENT_COLUMN_HOVER_CHANGED,xe.EVENT_FLASH_CELLS,xe.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,xe.EVENT_DISPLAYED_ROWS_CHANGED,xe.EVENT_LEFT_PINNED_WIDTH_CHANGED,xe.EVENT_RIGHT_PINNED_WIDTH_CHANGED,xe.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,xe.EVENT_POPUP_TO_FRONT,xe.EVENT_KEYBOARD_FOCUS,xe.EVENT_MOUSE_FOCUS,xe.EVENT_STORE_UPDATED,xe.EVENT_COLUMN_PANEL_ITEM_DRAG_START,xe.EVENT_COLUMN_PANEL_ITEM_DRAG_END,xe.EVENT_FILL_START,xe.EVENT_FILL_END,xe.EVENT_FULL_WIDTH_ROW_FOCUSED],rl.PUBLIC_EVENTS=rl.EVENTS.filter(function(u){return!vo(rl.EXCLUDED_INTERNAL_EVENTS,u)});var MR=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),St=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.componentsMappedByName={},i}return MR(o,u),o.prototype.setupComponents=function(i){var s=this;i&&i.forEach(function(l){return s.addComponent(l)})},o.prototype.addComponent=function(i){var l=i.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[l]=i.componentClass},o.prototype.getComponentClass=function(i){return this.componentsMappedByName[i]},o=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at("agStackComponentsRegistry")],o),o}(dt),FR=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},Nu=function(){function u(){}return u.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],u.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],u.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],u.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],u.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],u.ALL_PROPERTIES=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(FR(arguments[o]));return u}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),ig=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},mc=function(){function u(o,i,s,l){void 0===l&&(l=1),this.r=Math.min(1,Math.max(0,o||0)),this.g=Math.min(1,Math.max(0,i||0)),this.b=Math.min(1,Math.max(0,s||0)),this.a=Math.min(1,Math.max(0,l||0))}return u.fromString=function(o){if(o.indexOf("#")>=0)return u.fromHexString(o);var i=u.nameToHex[o];if(i)return u.fromHexString(i);if(o.indexOf("rgb")>=0)return u.fromRgbaString(o);throw new Error("Invalid color string: '"+o+"'")},u.parseHex=function(o){var i;switch((o=o.replace(/ /g,"").slice(1)).length){case 6:case 8:i=[];for(var s=0;s<o.length;s+=2)i.push(parseInt(""+o[s]+o[s+1],16));break;case 3:case 4:i=o.split("").map(function(l){return parseInt(l,16)}).map(function(l){return l+16*l})}if(i.length>=3&&i.every(function(l){return l>=0}))return 3===i.length&&i.push(255),i},u.fromHexString=function(o){var i=u.parseHex(o);if(i){var s=ig(i,4);return new u(s[0]/255,s[1]/255,s[2]/255,s[3]/255)}throw new Error("Malformed hexadecimal color string: '"+o+"'")},u.stringToRgba=function(o){for(var i=ig([NaN,NaN],2),s=i[0],l=i[1],c=0;c<o.length;c++){var p=o[c];if(s||"("!==p){if(")"===p){l=c;break}}else s=c}var v=s&&l&&o.substring(s+1,l);if(v){var M=v.split(","),L=[];for(c=0;c<M.length;c++){var Y=M[c],re=parseFloat(Y);if(isNaN(re))return;Y.indexOf("%")>=0?(re=Math.max(0,Math.min(100,re)),re/=100):3===c?re=Math.max(0,Math.min(1,re)):(re=Math.max(0,Math.min(255,re)),re/=255),L.push(re)}return L}},u.fromRgbaString=function(o){var i=u.stringToRgba(o);if(i){if(3===i.length)return new u(i[0],i[1],i[2]);if(4===i.length)return new u(i[0],i[1],i[2],i[3])}throw new Error("Malformed rgb/rgba color string: '"+o+"'")},u.fromArray=function(o){if(4===o.length)return new u(o[0],o[1],o[2],o[3]);if(3===o.length)return new u(o[0],o[1],o[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},u.fromHSB=function(o,i,s,l){void 0===l&&(l=1);var c=u.HSBtoRGB(o,i,s);return new u(c[0],c[1],c[2],l)},u.padHex=function(o){return 1===o.length?"0"+o:o},u.prototype.toHexString=function(){var o="#"+u.padHex(Math.round(255*this.r).toString(16))+u.padHex(Math.round(255*this.g).toString(16))+u.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(o+=u.padHex(Math.round(255*this.a).toString(16))),o},u.prototype.toRgbaString=function(o){void 0===o&&(o=3);var i=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],s=Math.pow(10,o);return 1!==this.a?(i.push(Math.round(this.a*s)/s),"rgba("+i.join(", ")+")"):"rgb("+i.join(", ")+")"},u.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},u.prototype.toHSB=function(){return u.RGBtoHSB(this.r,this.g,this.b)},u.RGBtoHSB=function(o,i,s){var l=Math.min(o,i,s),c=Math.max(o,i,s),v=NaN;if(l!==c){var M=c-l,L=(c-o)/M,Y=(c-i)/M,re=(c-s)/M;v=o===c?re-Y:i===c?2+L-re:4+Y-L,(v/=6)<0&&(v+=1)}return[360*v,0!==c?(c-l)/c:0,c]},u.HSBtoRGB=function(o,i,s){isNaN(o)&&(o=0),o=(o%360+360)%360/360;var l=0,c=0,p=0;if(0===i)l=c=p=s;else{var v=6*(o-Math.floor(o)),M=v-Math.floor(v),L=s*(1-i),Y=s*(1-i*M),re=s*(1-i*(1-M));switch(v>>0){case 0:l=s,c=re,p=L;break;case 1:l=Y,c=s,p=L;break;case 2:l=L,c=s,p=re;break;case 3:l=L,c=Y,p=s;break;case 4:l=re,c=L,p=s;break;case 5:l=s,c=L,p=Y}}return[l,c,p]},u.prototype.derive=function(o,i,s,l){var c=u.RGBtoHSB(this.r,this.g,this.b),p=c[2];0==p&&s>1&&(p=.05);var v=((c[0]+o)%360+360)%360,M=Math.max(Math.min(c[1]*i,1),0);p=Math.max(Math.min(p*s,1),0);var L=Math.max(Math.min(this.a*l,1),0),Y=u.HSBtoRGB(v,M,p);return Y.push(L),u.fromArray(Y)},u.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},u.prototype.darker=function(){return this.derive(0,1,.7,1)},u.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),u}();var Fu,Ph,rg,cn,Lu,og,Ss,Ih,Hv=Object.freeze({stringToArray:function Vv(u,o){void 0===o&&(o=",");var i=[],s=function(de){return"\r"===de||"\n"===de},l=!1;if(""===u)return[[""]];for(var p,v,M,c=function(de,be,Ce){var Re=u[Ce-1],Ge=u[Ce],Ze=u[Ce+1],He=function(){i[de]||(i[de]=[]),i[de][be]||(i[de][be]="")};if(He(),'"'===Ge){if(l)return'"'===Ze?(i[de][be]+='"',Ce++):l=!1,p=de,v=be,M=Ce,"continue";if(void 0===Re||Re===o||s(Re))return l=!0,p=de,v=be,M=Ce,"continue"}if(!l){if(Ge===o)return be++,He(),p=de,v=be,M=Ce,"continue";if(s(Ge))return be=0,de++,He(),"\r"===Ge&&"\n"===Ze&&Ce++,p=de,v=be,M=Ce,"continue"}i[de][be]+=Ge,p=de,v=be,M=Ce},L=0,Y=0,re=0;re<u.length;re++)c(L,Y,re),L=p,Y=v,re=M;return i}});function Jo(){return void 0===rg&&(rg=!function LR(){return void 0===Ph&&(Ph=!!document.documentMode),Ph}()&&!!window.StyleMedia),rg}function Wr(){return void 0===Fu&&(Fu=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Fu}function Mh(){if(void 0===cn){var u=window;cn=!!u.chrome&&(!!u.chrome.webstore||!!u.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return cn}function jv(){if(void 0===Lu){var u=window;Lu=void 0!==u.InstallTrigger}return Lu}function kr(){return void 0===og&&(og=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),og}function Nh(u){if(!u)return null;var o=u.tabIndex,i=u.getAttribute("tabIndex");return-1!==o||null!==i&&(""!==i||jv())?o.toString():null}function $v(){if(!document.body)return-1;var u=1e6,o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){var s=2*u;if(i.style.height=s+"px",s>o||i.clientHeight!==s)break;u=s}return document.body.removeChild(i),u}function Wv(){return null==Ih&&ox(),Ih}function ox(){var u=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",u.appendChild(o);var i=o.offsetWidth-o.clientWidth;0===i&&0===o.clientWidth&&(i=null),o.parentNode&&o.parentNode.removeChild(o),null!=i&&(Ih=i,Ss=0===i)}function ii(){return null==Ss&&ox(),Ss}function sx(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function ol(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var sl,di=Object.freeze({isBrowserEdge:Jo,isBrowserSafari:Wr,isBrowserChrome:Mh,isBrowserFirefox:jv,isIOSUserAgent:kr,getTabIndex:Nh,getMaxDivHeight:$v,getScrollbarWidth:Wv,isInvisibleScrollbar:ii,hasOverflowScrolling:function GR(){var u,o,i=["webkit","moz","o","ms"],s=document.createElement("div"),c=!1;document.getElementsByTagName("body")[0].appendChild(s),s.setAttribute("style",i.map(function(Y){return"-"+Y+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var v=window.getComputedStyle(s);if("touch"===v.overflowScrolling&&(c=!0),!c)try{for(var M=function(u){var o="function"==typeof Symbol&&Symbol.iterator,i=o&&u[o],s=0;if(i)return i.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),L=M.next();!L.done;L=M.next())if("touch"===v[L.value+"OverflowScrolling"]){c=!0;break}}catch(Y){u={error:Y}}finally{try{L&&!L.done&&(o=M.return)&&o.call(M)}finally{if(u)throw u.error}}return s.parentNode&&s.parentNode.removeChild(s),c},getBodyWidth:sx,getBodyHeight:ol});function Fh(u){var o=Element.prototype.matches||Element.prototype.msMatchesSelector,i=o.call(u,Ie.INPUT_SELECTOR),s=o.call(u,Ie.FOCUSABLE_EXCLUDE),l=bo(u);return i&&!s&&l}function ai(u,o){u.classList.toggle("ag-hidden",!o)}function Ts(u,o){u.classList.toggle("ag-invisible",!o)}function Es(u,o){var i="disabled",s=o?function(l){return l.setAttribute(i,"")}:function(l){return l.removeAttribute(i)};s(u),Aa(u.querySelectorAll("input"),function(l){return s(l)})}function Lh(u,o,i){for(var s=0;u;){if(u.classList.contains(o))return!0;if(u=u.parentElement,i&&++s>i)break}return!1}function tn(u){var o=window.getComputedStyle(u),s=o.width,l=o.paddingTop,c=o.paddingRight,p=o.paddingBottom,v=o.paddingLeft,M=o.marginTop,L=o.marginRight,Y=o.marginBottom,re=o.marginLeft,de=o.boxSizing;return{height:parseFloat(o.height),width:parseFloat(s),paddingTop:parseFloat(l),paddingRight:parseFloat(c),paddingBottom:parseFloat(p),paddingLeft:parseFloat(v),marginTop:parseFloat(M),marginRight:parseFloat(L),marginBottom:parseFloat(Y),marginLeft:parseFloat(re),boxSizing:de}}function Gu(u){var o=tn(u);return"border-box"===o.boxSizing?o.height-o.paddingTop-o.paddingBottom:o.height}function Bu(u){var o=tn(u);return"border-box"===o.boxSizing?o.width-o.paddingLeft-o.paddingRight:o.width}function Gh(u){var o=tn(u);return Math.ceil(u.offsetHeight+(o.marginBottom+o.marginTop))}function Vu(u){var o=tn(u);return Math.ceil(u.offsetWidth+(o.marginLeft+o.marginRight))}function Xt(){if("boolean"==typeof sl)return sl;var u=document.createElement("div");return u.style.direction="rtl",u.style.width="1px",u.style.height="1px",u.style.position="fixed",u.style.top="0px",u.style.overflow="hidden",u.dir="rtl",u.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(u),u.scrollLeft=1,sl=0===Math.floor(u.scrollLeft),document.body.removeChild(u),sl}function Hu(u,o){var i=u.scrollLeft;return o&&(i=Math.abs(i),Mh()&&!Xt()&&(i=u.scrollWidth-u.clientWidth-i)),i}function ju(u,o,i){i&&(Xt()?o*=-1:(Wr()||Mh())&&(o=u.scrollWidth-u.clientWidth-o)),u.scrollLeft=o}function gt(u){for(;u&&u.firstChild;)u.removeChild(u.firstChild)}function _i(u){u&&u.parentNode&&u.parentNode.removeChild(u)}function bo(u){return null!==u.offsetParent}function Si(u){if(null!==DOMParser)return(new DOMParser).parseFromString(u,"text/html").body.firstChild;var s=document.createElement("div");return s.innerHTML=(u||"").trim(),s.firstChild}function $u(u){return u&&u.clientHeight?u.clientHeight:0}function al(u){return u&&u.clientWidth?u.clientWidth:0}function _c(u,o,i){i&&i.nextSibling===o||(i?i.nextSibling?u.insertBefore(o,i.nextSibling):u.appendChild(o):u.firstChild&&u.firstChild!==o&&u.insertAdjacentElement("afterbegin",o))}function Ys(u,o){for(var i=0;i<o.length;i++){var s=o[i],l=u.children[i];l!==s&&u.insertBefore(s,l)}}function br(u,o,i){i?i.insertAdjacentElement("afterend",o):u.firstChild?u.insertAdjacentElement("afterbegin",o):u.appendChild(o)}function no(u,o){!o||Object.keys(o).forEach(function(i){var s=Lv(i);s&&(u.style[s]=o[i])})}function Mt(u){return u.clientWidth<u.scrollWidth}function Mn(u){return u.clientHeight<u.scrollHeight}function li(u,o){"flex"===o?(u.style.removeProperty("width"),u.style.removeProperty("minWidth"),u.style.removeProperty("maxWidth"),u.style.flex="1 1 auto"):Gi(u,o)}function Gi(u,o){o=Ks(o),u.style.width=o.toString(),u.style.maxWidth=o.toString(),u.style.minWidth=o.toString()}function Ti(u,o){o=Ks(o),u.style.height=o.toString(),u.style.maxHeight=o.toString(),u.style.minHeight=o.toString()}function Ks(u){return"number"==typeof u?u+"px":u}function Bi(u){return"function"==typeof Node?u instanceof Node:u&&"object"==typeof u&&"number"==typeof u.nodeType&&"string"==typeof u.nodeName}function vc(u){return"function"==typeof HTMLElement?u instanceof HTMLElement:u&&Me(u)&&1===u.nodeType&&"string"==typeof u.nodeName}function Ds(u){return Bi(u)||vc(u)}function An(u){if(null==u)return[];var o=[];return Aa(u,function(i){return o.push(i)}),o}function Wu(u,o){if(u)for(var i=0;i<u.length;i++){var s=u[i];o(s.name,s.value)}}function cl(u,o,i){null==i?u.removeAttribute(o):u.setAttribute(o,i.toString())}function Aa(u,o){if(null!=u)for(var i=0;i<u.length;i++)o(u[i])}var io=Object.freeze({radioCssClass:function sg(u,o,i){for(var s=u.parentElement,l=s&&s.firstChild;l;)o&&l.classList.toggle(o,l===u),i&&l.classList.toggle(i,l!==u),l=l.nextSibling},isFocusableFormField:Fh,setDisplayed:ai,setVisible:Ts,setDisabled:Es,isElementChildOfClass:Lh,getElementSize:tn,getInnerHeight:Gu,getInnerWidth:Bu,getAbsoluteHeight:Gh,getAbsoluteWidth:Vu,isRtlNegativeScroll:Xt,getScrollLeft:Hu,setScrollLeft:ju,clearElement:gt,removeElement:function to(u,o){_i(u.querySelector(o))},removeFromParent:_i,isVisible:bo,loadTemplate:Si,appendHtml:function Fo(u,o){u.lastChild?u.insertAdjacentHTML("afterbegin",o):u.innerHTML=o},getElementAttribute:function Bh(u,o){return u.attributes&&u.attributes[o]?u.attributes[o].value:null},offsetHeight:$u,offsetWidth:al,ensureDomOrder:_c,setDomChildOrder:Ys,insertWithDomOrder:br,prependDC:function ax(u,o){I(u.firstChild)?u.insertBefore(o,u.firstChild):u.appendChild(o)},addStylesToElement:no,isHorizontalScrollShowing:Mt,isVerticalScrollShowing:Mn,setElementWidth:li,setFixedWidth:Gi,setElementHeight:function ll(u,o){"flex"===o?(u.style.removeProperty("height"),u.style.removeProperty("minHeight"),u.style.removeProperty("maxHeight"),u.style.flex="1 1 auto"):Ti(u,o)},setFixedHeight:Ti,formatSize:Ks,isNode:Bi,isElement:vc,isNodeOrElement:Ds,copyNodeList:An,iterateNamedNodeMap:Wu,setCheckboxState:function yc(u,o){"boolean"==typeof o?(u.checked=o,u.indeterminate=!1):u.indeterminate=!0},addOrRemoveAttribute:cl,nodeListForEach:Aa}),cx=Object.freeze({getNameOfClass:function Uu(u){var i=u.toString(),s=/function (.{1,})\(/.exec(i);return s&&s.length>1?s[1]:""},findLineByLeastSquares:function Cc(u){var o=u.length,i=0;if(o<=1)return u;for(var s=0;s<u.length;s++){var l=u[s],c=l.toString().split("e-");c.length>1?i=Math.max(i,parseInt(c[1],10)):Math.floor(l)!==l&&(i=Math.max(i,l.toString().split(".")[1].length))}for(var p=0,v=0,M=0,L=0,Y=0,re=0;re<o;re++)p+=re,v+=Y=u[re],L+=re*re,M+=re*Y;var de=(o*M-p*v)/(o*L-p*p),be=v/o-de*p/o,Ce=[];for(re=0;re<=o;re++)Ce.push(parseFloat((re*de+be).toFixed(i)));return Ce},cssStyleObjectToMarkup:function es(u){if(!u)return"";var o=[];return E(u,function(i,s){var l=Ah(i);o.push(l+": "+s+";")}),o.join(" ")},message:function vi(u){var o=document.createElement("div"),i=document.querySelector("#__ag__message");o.innerHTML=u,i||(i=Si('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(i)),i.insertBefore(o,i.children[0])},bindCellRendererToHtmlElement:function lx(u,o){u.then(function(i){var s=i.getGui();null!=s&&("object"==typeof s?o.appendChild(s):o.innerHTML=s)})}});function hi(u,o,i){u.setAttribute(Vh(o),i.toString())}function wr(u,o){u.removeAttribute(Vh(o))}function Vh(u){return"aria-"+u}function rr(u,o){o?u.setAttribute("role",o):u.removeAttribute("role")}function zu(u){return u.isSortAscending()?"ascending":u.isSortDescending()?"descending":"none"}function Lo(u){return parseInt(u.getAttribute("aria-level"),10)}function Uv(u){return parseInt(u.getAttribute("aria-posinset"),10)}function ul(u,o){var i="label";o?hi(u,i,o):wr(u,i)}function ag(u,o){var i="labelledby";o?hi(u,i,o):wr(u,i)}function ux(u,o){var i="description";o?hi(u,i,o):wr(u,i)}function zv(u,o){var i="describedby";o?hi(u,i,o):wr(u,i)}function dx(u,o){hi(u,"level",o)}function Yv(u,o){hi(u,"disabled",o)}function Go(u,o){hi(u,"expanded",o)}function hx(u){wr(u,"expanded")}function Kv(u,o){hi(u,"setsize",o)}function qv(u,o){hi(u,"posinset",o)}function px(u,o){hi(u,"multiselectable",o)}function fx(u,o){hi(u,"rowcount",o)}function Xv(u,o){hi(u,"rowindex",o)}function gx(u,o){hi(u,"colcount",o)}function Qv(u,o){hi(u,"colindex",o)}function mx(u,o){hi(u,"colspan",o)}function lg(u,o){hi(u,"sort",o)}function Hh(u){wr(u,"sort")}function Yu(u,o){var i="selected";o?hi(u,i,o):wr(u,i)}function _x(u,o){hi(u,"checked",void 0===o?"mixed":o)}var VR=Object.freeze({setAriaRole:rr,getAriaSortState:zu,getAriaLevel:Lo,getAriaPosInSet:Uv,getAriaDescribedBy:function BR(u){return u.getAttribute("aria-describedby")||""},setAriaLabel:ul,setAriaLabelledBy:ag,setAriaDescription:ux,setAriaDescribedBy:zv,setAriaLevel:dx,setAriaDisabled:Yv,setAriaExpanded:Go,removeAriaExpanded:hx,setAriaSetSize:Kv,setAriaPosInSet:qv,setAriaMultiSelectable:px,setAriaRowCount:fx,setAriaRowIndex:Xv,setAriaColCount:gx,setAriaColIndex:Qv,setAriaColSpan:mx,setAriaSort:lg,removeAriaSort:Hh,setAriaSelected:Yu,setAriaChecked:_x});function qs(u,o){return u.toString().padStart(o,"0")}function Zv(u,o){for(var i=[],s=u;s<=o;s++)i.push(s);return i}function Wn(u){return""!==u&&!isNaN(parseFloat(u))&&isFinite(u)}function jh(u,o,i){return"number"!=typeof u?"":u.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o)}var Cx=Object.freeze({padStartWidthZeros:qs,createArrayOfNumbers:Zv,isNumeric:Wn,cleanNumber:function Jv(u){return"string"==typeof u&&(u=parseInt(u,10)),"number"==typeof u?Math.floor(u):null},decToHex:function vx(u,o){for(var i="",s=0;s<o;s++)i+=String.fromCharCode(255&u),u>>>=8;return i},formatNumberTwoDecimalPlacesAndCommas:function yx(u,o,i){return"number"!=typeof u?"":jh(Math.round(100*u)/100,o,i)},formatNumberCommas:jh,sum:function ey(u){return null==u?null:u.reduce(function(o,i){return o+i},0)}}),Ku=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c};function Ra(u,o,i){if(void 0===o&&(o=!0),void 0===i&&(i="-"),!u)return null;var s=[u.getFullYear(),u.getMonth()+1,u.getDate()].map(function(l){return qs(l,2)}).join(i);return o&&(s+=" "+[u.getHours(),u.getMinutes(),u.getSeconds()].map(function(l){return qs(l,2)}).join(":")),s}function or(u){if(!u)return null;var o=Ku(u.split(" "),2),i=o[0],s=o[1];if(!i)return null;var l=i.split("-").map(function(Ce){return parseInt(Ce,10)});if(3!==l.filter(function(Ce){return!isNaN(Ce)}).length)return null;var c=Ku(l,3),p=c[0],v=c[1],M=c[2],L=new Date(p,v-1,M);if(L.getFullYear()!==p||L.getMonth()!==v-1||L.getDate()!==M)return null;if(!s||"00:00:00"===s)return L;var Y=Ku(s.split(":").map(function(Ce){return parseInt(Ce,10)}),3),re=Y[0],de=Y[1],be=Y[2];return re>=0&&re<24&&L.setHours(re),de>=0&&de<60&&L.setMinutes(de),be>=0&&be<60&&L.setSeconds(be),L}var cg=Object.freeze({serialiseDate:Ra,parseDateTimeFromString:or});function ty(u,o,i){var s={},l=u.filter(function(c){return!o.some(function(p){return p===c})});return l.length>0&&l.forEach(function(c){return s[c]=$h(c,i)}),s}function $h(u,o,i,s){var l=s?Wh:ny,c=o.map(function(p){return{value:p,relevance:l(u.toLowerCase(),p.toLocaleLowerCase())}});return c.sort(function(p,v){return v.relevance-p.relevance}),i&&(c=c.filter(function(p){return 0!==p.relevance})),c.map(function(p){return p.value})}function ug(u){var s,l,c,o=u.toLowerCase(),i=new Array(o.length-1);for(s=l=0,c=i.length;l<=c;s=l+=1)i[s]=o.slice(s,s+2);return i}function ny(u,o){if(0===u.length&&0===o.length)return 0;var p,v,i=ug(u),s=ug(o),l=i.length+s.length,c=0;for(p=0,v=i.length;p<v;p++){var Y,M=i[p],L=void 0;for(L=0,Y=s.length;L<Y;L++)M===s[L]&&c++}return c>0?2*c/l:0}function Wh(u,o){for(var i=u.replace(/\s/g,""),s=o.replace(/\s/g,""),l=0,c=0,p=0;p<i.length;p++){var v=s.indexOf(i[p],c);-1!==v&&(l+=100-100*(c=v)/1e4*100)}return l}var bx=Object.freeze({fuzzyCheckStrings:ty,fuzzySuggestions:$h,get_bigrams:ug,string_distances:ny,string_weighted_distances:Wh}),Uh={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function ts(u,o,i){var s=Rn(u,o,i);if(s&&s.className.indexOf("ag-icon")>-1)return s;var l=document.createElement("span");return l.appendChild(s),l}function Rn(u,o,i,s){var l=null,c=i&&i.getColDef().icons;if(c&&(l=c[u]),o&&!l){var p=o.getIcons();p&&(l=p[u])}if(!l){var M=document.createElement("span"),L=Uh[u];return L||(s?L=u:(console.warn("AG Grid: Did not find icon "+u),L="")),M.setAttribute("class","ag-icon ag-icon-"+L),M.setAttribute("unselectable","on"),rr(M,"presentation"),M}var v=void 0;if("function"==typeof l)v=l();else{if("string"!=typeof l)throw new Error("icon from grid options needs to be a string or a function");v=l}return"string"==typeof v?Si(v):Ds(v)?v:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var iy=Object.freeze({iconNameClassMap:Uh,createIcon:ts,createIconNoSpan:Rn});function ry(u){if(u.altKey||u.ctrlKey||u.metaKey)return!1;var o=1===u.key.length,i=function Bo(u){return Jo()&&"Del"===u.key&&46===u.charCode}(u);return o||i}function dg(u,o,i,s,l){var c=u.getSuppressKeyboardEventFunc(),p=s?s.getColDef().suppressKeyboardEvent:void 0;if(!c&&!p)return!1;var v={event:o,editing:l,column:s,api:u.getApi(),node:i,data:i.data,colDef:s.getColDef(),context:u.getContext(),columnApi:u.getColumnApi()};return!(!p||!p(v))||!!c&&c(v)}function qu(u,o,i,s){var l=s.getDefinition(),c=l&&l.suppressHeaderKeyboardEvent;return!!I(c)&&!!c({api:u.getApi(),columnApi:u.getColumnApi(),context:u.getContext(),colDef:l,column:s,headerRowIndex:i,event:o})}var xx=Object.freeze({isEventFromPrintableCharacter:ry,isUserSuppressingKeyboardEvent:dg,isUserSuppressingHeaderKeyboardEvent:qu});function Xu(u,o,i){if(0===i)return!1;var s=Math.abs(u.clientX-o.clientX),l=Math.abs(u.clientY-o.clientY);return Math.max(s,l)<=i}var bc=Object.freeze({areEventsNear:Xu}),hg=Object.freeze({sortRowNodesByOrder:function wo(u,o){if(u){for(var i=function(v,M){var L=o[v.id],Y=o[M.id],re=void 0!==L,de=void 0!==Y;return re&&de?L-Y:re||de?re?1:-1:v.__objectId-M.__objectId},c=!1,p=0;p<u.length-1;p++)if(i(u[p],u[p+1])>0){c=!0;break}c&&u.sort(i)}},traverseNodesWithKey:function oy(u,o){var i=[];!function s(l){!l||l.forEach(function(c){if(c.group||c.hasChildren()){i.push(c.key);var p=i.join("|");o(c,p),s(c.childrenAfterGroup),i.pop()}})}(u)}});function pg(u){var o=new Set;return u.forEach(function(i){return o.add(i)}),o}var Oa=Object.freeze({convertToSet:pg}),Pi=function(){return Pi=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Pi.apply(this,arguments)},ht=Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi({},cx),VR),Xw),di),Hv),cg),io),Jw),yi),bx),T),iy),xx),$r),bc),Cx),Oe),hg),Oa),AR),wc=function(){function u(o,i){void 0===o&&(o=0),void 0===i&&(i=1),this.nextValue=o,this.step=i}return u.prototype.next=function(){var o=this.nextValue;return this.nextValue+=this.step,o},u.prototype.peek=function(){return this.nextValue},u.prototype.skip=function(o){this.nextValue+=o},u}();!function(u){u[u.IN_PROGRESS=0]="IN_PROGRESS",u[u.RESOLVED=1]="RESOLVED"}(j.Ws0||(j.Ws0={}));var ro=function(){function u(o){var i=this;this.status=j.Ws0.IN_PROGRESS,this.resolution=null,this.waiters=[],o(function(s){return i.onDone(s)},function(s){return i.onReject(s)})}return u.all=function(o){return new u(function(i){var s=o.length,l=new Array(s);o.forEach(function(c,p){c.then(function(v){l[p]=v,0==--s&&i(l)})})})},u.resolve=function(o){return void 0===o&&(o=null),new u(function(i){return i(o)})},u.prototype.then=function(o){var i=this;return new u(function(s){i.status===j.Ws0.RESOLVED?s(o(i.resolution)):i.waiters.push(function(l){return s(o(l))})})},u.prototype.resolveNow=function(o,i){return this.status===j.Ws0.RESOLVED?i(this.resolution):o},u.prototype.onDone=function(o){this.status=j.Ws0.RESOLVED,this.resolution=o,this.waiters.forEach(function(i){return i(o)})},u.prototype.onReject=function(o){console.warn("TBI")},u}(),Tx=(function(){function u(){this.timestamp=(new Date).getTime()}u.prototype.print=function(o){var i=(new Date).getTime()-this.timestamp;console.info(o+" = "+i),this.timestamp=(new Date).getTime()}}(),function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),zh=function(){return zh=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},zh.apply(this,arguments)},Qu=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Vo=(()=>(function(u){u[u.NOTHING=0]="NOTHING",u[u.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",u[u.SHOWING=2]="SHOWING"}(Vo||(Vo={})),Vo))(),ut=function(u){function o(i){var s=u.call(this)||this;return s.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,s.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,s.SHOW_QUICK_TOOLTIP_DIFF=1e3,s.FADE_OUT_TOOLTIP_TIMEOUT=1e3,s.state=Vo.NOTHING,s.tooltipInstanceCount=0,s.tooltipMouseTrack=!1,s.parentComp=i,s}return Tx(o,u),o.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var i=this.parentComp.getGui();this.addManagedListener(i,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(i,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(i,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(i,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(i,"keydown",this.onKeyDown.bind(this))},o.prototype.destroy=function(){this.setToDoNothing(),u.prototype.destroy.call(this)},o.prototype.onMouseEnter=function(i){if(!kr()&&this.state==Vo.NOTHING){var s=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),s),this.lastMouseEvent=i,this.state=Vo.WAITING_TO_SHOW}},o.prototype.onMouseLeave=function(){this.setToDoNothing()},o.prototype.onKeyDown=function(){this.setToDoNothing()},o.prototype.setToDoNothing=function(){this.state===Vo.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Vo.NOTHING},o.prototype.onMouseMove=function(i){this.lastMouseEvent=i,this.tooltipMouseTrack&&this.state===Vo.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},o.prototype.onMouseDown=function(){this.setToDoNothing()},o.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),o.lastTooltipHideTime=(new Date).getTime()),this.state=Vo.NOTHING},o.prototype.destroyTooltipComp=function(){var i=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var s=this.tooltipPopupDestroyFunc,l=this.tooltipComp;window.setTimeout(function(){s(),i.getContext().destroyBean(l)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},o.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-o.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},o.prototype.showTooltip=function(){var i=zh({},this.parentComp.getTooltipParams());if(I(i.value)){this.state=Vo.SHOWING,this.tooltipInstanceCount++;var s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(i).newAgStackInstance().then(s)}else this.setToDoNothing()},o.prototype.newTooltipComponentCallback=function(i,s){if(this.state!==Vo.SHOWING||this.tooltipInstanceCount!==i)this.getContext().destroyBean(s);else{var c=s.getGui();this.tooltipComp=s,c.classList.contains("ag-tooltip")||c.classList.add("ag-tooltip-custom");var p=this.gridOptionsWrapper.getLocaleTextFunc(),v=this.popupService.addPopup({eChild:c,ariaLabel:p("ariaLabelTooltip","Tooltip")});v&&(this.tooltipPopupDestroyFunc=v.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},o.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},o.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Qu([le("popupService")],o.prototype,"popupService",void 0),Qu([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Qu([le("columnApi")],o.prototype,"columnApi",void 0),Qu([le("gridApi")],o.prototype,"gridApi",void 0),Qu([Xe],o.prototype,"postConstruct",null),o}(dt),Kn=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Et=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},sr=new wc,gg=function(){function u(o){this.cssClassStates={},this.getGui=o}return u.prototype.addCssClass=function(o){var i=this,s=(o||"").split(" ");s.length>1?s.forEach(function(c){return i.addCssClass(c)}):!0!==this.cssClassStates[o]&&o.length&&(this.getGui().classList.add(o),this.cssClassStates[o]=!0)},u.prototype.removeCssClass=function(o){var i=this,s=(o||"").split(" ");s.length>1?s.forEach(function(c){return i.removeCssClass(c)}):!1!==this.cssClassStates[o]&&o.length&&(this.getGui().classList.remove(o),this.cssClassStates[o]=!1)},u.prototype.containsCssClass=function(o){return this.getGui().classList.contains(o)},u.prototype.addOrRemoveCssClass=function(o,i){var s=this,l=(o||"").split(" ");l.length>1?l.forEach(function(p){return s.addOrRemoveCssClass(p,i)}):this.cssClassStates[o]!==i&&o.length&&(this.getGui().classList.toggle(o,i),this.cssClassStates[o]=i)},u}(),un=function(u){function o(i){var s=u.call(this)||this;return s.displayed=!0,s.visible=!0,s.compId=sr.next(),s.cssClassManager=new gg(function(){return s.eGui}),i&&s.setTemplate(i),s}return Kn(o,u),o.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},o.prototype.getCompId=function(){return this.compId},o.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},o.prototype.setTooltip=function(i){var s=this;this.tooltipText!=i&&(this.tooltipText&&(s.usingBrowserTooltips?s.getGui().removeAttribute("title"):s.tooltipFeature=s.destroyBean(s.tooltipFeature)),null!=i&&(this.tooltipText=i,this.tooltipText&&(s.usingBrowserTooltips?s.getGui().setAttribute("title",s.tooltipText):s.tooltipFeature=s.createBean(new ut(s)))))},o.prototype.createChildComponentsFromTags=function(i,s){var l=this;An(i.childNodes).forEach(function(p){if(p instanceof HTMLElement){var v=l.createComponentFromElement(p,function(L){L.getGui()&&l.copyAttributesFromNode(p,L.getGui())},s);if(v){if(v.addItems&&p.children.length){l.createChildComponentsFromTags(p,s);var M=Array.prototype.slice.call(p.children);v.addItems(M)}l.swapComponentForNode(v,i,p)}else p.childNodes&&l.createChildComponentsFromTags(p,s)}})},o.prototype.createComponentFromElement=function(i,s,l){var c=i.nodeName,p=l?l[i.getAttribute("ref")]:void 0,v=this.agStackComponentsRegistry.getComponentClass(c);if(v){o.elementGettingCreated=i;var M=new v(p);return M.setParentComponent(this),this.createBean(M,null,s),M}return null},o.prototype.copyAttributesFromNode=function(i,s){Wu(i.attributes,function(l,c){return s.setAttribute(l,c)})},o.prototype.swapComponentForNode=function(i,s,l){var c=i.getGui();s.replaceChild(c,l),s.insertBefore(document.createComment(l.nodeName),c),this.addDestroyFunc(this.destroyBean.bind(this,i)),this.swapInComponentForQuerySelectors(i,l)},o.prototype.swapInComponentForQuerySelectors=function(i,s){var l=this;this.iterateOverQuerySelectors(function(c){l[c.attributeName]===s&&(l[c.attributeName]=i)})},o.prototype.iterateOverQuerySelectors=function(i){for(var s=Object.getPrototypeOf(this);null!=s;){var l=s.__agComponentMetaData,c=ze(s.constructor);l&&l[c]&&l[c].querySelectors&&l[c].querySelectors.forEach(function(p){return i(p)}),s=Object.getPrototypeOf(s)}},o.prototype.setTemplate=function(i,s){var l=Si(i);this.setTemplateFromElement(l,s)},o.prototype.setTemplateFromElement=function(i,s){this.eGui=i,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),s)},o.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},o.prototype.wireQuerySelectors=function(){var i=this;if(this.eGui){var s=this;this.iterateOverQuerySelectors(function(l){var c=function(M){return s[l.attributeName]=M};if(l.refSelector&&i.eGui.getAttribute("ref")===l.refSelector)c(i.eGui);else{var v=i.eGui.querySelector(l.querySelector);v&&c(v.__agComponent||v)}})}},o.prototype.getGui=function(){return this.eGui},o.prototype.getFocusableElement=function(){return this.eGui},o.prototype.setParentComponent=function(i){this.parentComponent=i},o.prototype.getParentComponent=function(){return this.parentComponent},o.prototype.setGui=function(i){this.eGui=i},o.prototype.queryForHtmlElement=function(i){return this.eGui.querySelector(i)},o.prototype.queryForHtmlInputElement=function(i){return this.eGui.querySelector(i)},o.prototype.appendChild=function(i,s){if(s||(s=this.eGui),null!=i)if(Ds(i))s.appendChild(i);else{var l=i;s.appendChild(l.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,l))}},o.prototype.isDisplayed=function(){return this.displayed},o.prototype.setVisible=function(i){i!==this.visible&&(this.visible=i,Ts(this.eGui,i))},o.prototype.setDisplayed=function(i){i!==this.displayed&&(this.displayed=i,ai(this.eGui,i),this.dispatchEvent({type:o.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},o.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),u.prototype.destroy.call(this)},o.prototype.addGuiEventListener=function(i,s){var l=this;this.eGui.addEventListener(i,s),this.addDestroyFunc(function(){return l.eGui.removeEventListener(i,s)})},o.prototype.addCssClass=function(i){this.cssClassManager.addCssClass(i)},o.prototype.removeCssClass=function(i){this.cssClassManager.removeCssClass(i)},o.prototype.containsCssClass=function(i){return this.cssClassManager.containsCssClass(i)},o.prototype.addOrRemoveCssClass=function(i,s){this.cssClassManager.addOrRemoveCssClass(i,s)},o.prototype.getAttribute=function(i){var s=this.eGui;return s?s.getAttribute(i):null},o.prototype.getRefElement=function(i){return this.queryForHtmlElement('[ref="'+i+'"]')},o.EVENT_DISPLAYED_CHANGED="displayedChanged",Et([le("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),Et([Jt],o.prototype,"preConstructOnComponent",null),Et([Jt],o.prototype,"createChildComponentsPreConstruct",null),o}(dt);function st(u){return Yh.bind(this,"[ref="+u+"]",u)}function Yh(u,o,i,s,l){null!==u?"number"!=typeof l?function HR(u,o,i){var s=function Ex(u,o){return u.__agComponentMetaData||(u.__agComponentMetaData={}),u.__agComponentMetaData[o]||(u.__agComponentMetaData[o]={}),u.__agComponentMetaData[o]}(u,ze(u.constructor));s[o]||(s[o]=[]),s[o].push(i)}(i,"querySelectors",{attributeName:s,querySelector:u,refSelector:o}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var Kh=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zu=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ur=function(u){function o(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Kh(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){this.params=i;var s=this.columnModel.getDisplayNameForColumn(i.column,"header",!0),l=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(s+" "+l("ariaFilterInput","Filter Input"))},o.prototype.onParentModelChanged=function(i){var s=this;i?this.params.parentFilterInstance(function(l){if(l.getModelAsString){var c=l.getModelAsString(i);s.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")},Zu([st("eFloatingFilterText")],o.prototype,"eFloatingFilterText",void 0),Zu([le("columnModel")],o.prototype,"columnModel",void 0),o}(un),Rs=function(){function u(o,i,s,l){var c=this;this.alive=!0,this.context=o,this.eParent=l,i.getDateCompDetails(s).newAgStackInstance().then(function(M){c.alive?(c.dateComp=M,M&&(l.appendChild(M.getGui()),M.afterGuiAttached&&M.afterGuiAttached(),c.tempValue&&M.setDate(c.tempValue),null!=c.disabled&&c.setDateCompDisabled(c.disabled))):o.destroyBean(M)})}return u.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},u.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},u.prototype.setDate=function(o){this.dateComp?this.dateComp.setDate(o):this.tempValue=o},u.prototype.setDisabled=function(o){this.dateComp?this.setDateCompDisabled(o):this.disabled=o},u.prototype.setDisplayed=function(o){ai(this.eParent,o)},u.prototype.setInputPlaceholder=function(o){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(o)},u.prototype.setInputAriaLabel=function(o){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(o)},u.prototype.afterGuiAttached=function(o){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(o)},u.prototype.setDateCompDisabled=function(o){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(o)},u}(),qh=function(){return qh=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},qh.apply(this,arguments)},dl=function(){function u(){this.customFilterOptions={}}return u.prototype.init=function(o,i){this.filterOptions=o.filterOptions||i,this.mapCustomOptions(),this.selectDefaultItem(o),this.checkForDeprecatedParams()},u.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(o){return"string"!=typeof o&&null!=o.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(o){return"string"!=typeof o&&null!=o.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},u.prototype.getFilterOptions=function(){return this.filterOptions},u.prototype.mapCustomOptions=function(){var o=this;!this.filterOptions||this.filterOptions.forEach(function(i){if("string"!=typeof i){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(v){return!!v.some(function(M){return null!=i[M]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+v+"'"),!1)}))return void(o.filterOptions=o.filterOptions.filter(function(v){return v===i})||[]);var c=i.test,p=qh({},i);null!=c&&null==i.predicate&&(p.predicate=function(v,M){return c(v[0],M)},delete p.test),p.hideFilterInput&&null==p.numberOfInputs&&(p.numberOfInputs=0,delete p.hideFilterInput),o.customFilterOptions[i.displayKey]=p}})},u.prototype.selectDefaultItem=function(o){if(o.defaultOption)this.defaultOption=o.defaultOption;else if(this.filterOptions.length>=1){var i=this.filterOptions[0];"string"==typeof i?this.defaultOption=i:i.displayKey?this.defaultOption=i.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},u.prototype.getDefaultOption=function(){return this.defaultOption},u.prototype.getCustomOption=function(o){return this.customFilterOptions[o]},u}(),Xs={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},lt=function(){function u(){}return u.BACKSPACE="Backspace",u.TAB="Tab",u.ENTER="Enter",u.ESCAPE="Escape",u.SPACE=" ",u.LEFT="ArrowLeft",u.UP="ArrowUp",u.RIGHT="ArrowRight",u.DOWN="ArrowDown",u.DELETE="Delete",u.F2="F2",u.PAGE_UP="PageUp",u.PAGE_DOWN="PageDown",u.PAGE_HOME="Home",u.PAGE_END="End",u.A="KeyA",u.C="KeyC",u.V="KeyV",u.D="KeyD",u.Z="KeyZ",u.Y="KeyY",u}(),sy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),mg=function(){return mg=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},mg.apply(this,arguments)},ay=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ns=function(u){function o(i,s){void 0===s&&(s={});var l=u.call(this)||this;return l.eFocusableElement=i,l.callbacks=s,l.callbacks=mg({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(c){if(!c.defaultPrevented){var p=l.focusService.findNextFocusableElement(l.eFocusableElement,!1,c.shiftKey);!p||(p.focus(),c.preventDefault())}}},s),l}return sy(o,u),o.prototype.postConstruct=function(){this.eFocusableElement.classList.add(o.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},o.prototype.addKeyDownListeners=function(i){var s=this;this.addManagedListener(i,"keydown",function(l){if(!l.defaultPrevented&&!No(l)){if(s.callbacks.shouldStopEventPropagation(l))return void il(l);l.key===lt.TAB?s.callbacks.onTabKeyDown(l):s.callbacks.handleKeyDown&&s.callbacks.handleKeyDown(l)}})},o.FOCUS_MANAGED_CLASS="ag-focus-managed",ay([le("focusService")],o.prototype,"focusService",void 0),ay([Xe],o.prototype,"postConstruct",null),o}(dt),_g=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xh=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},hl=function(u){function o(i){var s=u.call(this)||this;return s.filterNameKey=i,s.applyActive=!1,s.hidePopup=null,s.appliedModel=null,s}return _g(o,u),o.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new ns(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},o.prototype.handleKeyDown=function(i){},o.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},o.prototype.isFilterActive=function(){return!!this.appliedModel},o.prototype.resetTemplate=function(i){var s='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(s,i)},o.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},o.prototype.init=function(i){var s=this;this.setParams(i),this.resetUiToDefaults(!0).then(function(){s.updateUiVisibility(),s.setupOnBtApplyDebounce()})},o.prototype.setParams=function(i){this.providedFilterParams=i,this.applyActive=o.isUseApplyButton(i),this.createButtonPanel()},o.prototype.createButtonPanel=function(){var i=this,s=this.providedFilterParams.buttons;if(!(!s||s.length<1||this.isReadOnly())){var l=document.createElement("div");l.classList.add("ag-filter-apply-panel"),pg(s).forEach(function(p){return function(p){var v,M;switch(p){case"apply":v=i.translate("applyFilter"),M=function(Y){return i.onBtApply(!1,!1,Y)};break;case"clear":v=i.translate("clearFilter"),M=function(){return i.onBtClear()};break;case"reset":v=i.translate("resetFilter"),M=function(){return i.onBtReset()};break;case"cancel":v=i.translate("cancelFilter"),M=function(Y){i.onBtCancel(Y)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var L=Si('<button\n                    type="button"\n                    ref="'+p+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+v+"\n                </button>");l.appendChild(L),i.addManagedListener(L,"click",M)}(p)}),this.getGui().appendChild(l)}},o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.setupOnBtApplyDebounce=function(){var i=o.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=$e(this.onBtApply.bind(this),i)},o.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},o.prototype.setModel=function(i){var s=this;return(null!=i?this.setModelIntoUi(i):this.resetUiToDefaults()).then(function(){s.updateUiVisibility(),s.applyModel()})},o.prototype.onBtCancel=function(i){var s=this,l=this.getModel(),c=function(){s.onUiChanged(!1,"prevent"),s.providedFilterParams.closeOnApply&&s.close(i)};null!=l?this.setModelIntoUi(l).then(c):this.resetUiToDefaults().then(c)},o.prototype.onBtClear=function(){var i=this;this.resetUiToDefaults().then(function(){return i.onUiChanged()})},o.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},o.prototype.applyModel=function(){var i=this.getModelFromUi();if(!this.isModelValid(i))return!1;var s=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(s,i)},o.prototype.isModelValid=function(i){return!0},o.prototype.onBtApply=function(i,s,l){void 0===i&&(i=!1),void 0===s&&(s=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:i,afterDataChange:s}),this.providedFilterParams.closeOnApply&&this.applyActive&&!i&&!s&&this.close(l)},o.prototype.onNewRowsLoaded=function(){},o.prototype.close=function(i){if(this.hidePopup){var c,l=i&&i.key;("Enter"===l||"Space"===l)&&(c={keyboardEvent:i}),this.hidePopup(c),this.hidePopup=null}},o.prototype.onUiChanged=function(i,s){if(void 0===i&&(i=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var l=this.isModelValid(this.getModelFromUi());Es(this.getRefElement("applyFilterButton"),!l)}i&&!s||"immediately"===s?this.onBtApply(i):(!this.applyActive&&!s||"debounce"===s)&&this.onBtApplyDebounce()},o.prototype.afterGuiAttached=function(i){null!=i&&(this.hidePopup=i.hidePopup)},o.getDebounceMs=function(i,s){return o.isUseApplyButton(i)?(null!=i.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=i.debounceMs?i.debounceMs:s},o.isUseApplyButton=function(i){return!!i.buttons&&i.buttons.indexOf("apply")>=0},o.prototype.destroy=function(){this.hidePopup=null,u.prototype.destroy.call(this)},o.prototype.translate=function(i){return this.gridOptionsWrapper.getLocaleTextFunc()(i,Xs[i])},o.prototype.getCellValue=function(i){var s=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:s.api,colDef:s.colDef,column:s.column,columnApi:s.columnApi,context:s.context,data:i.data,getValue:function(L){return i.data[L]},node:i})},Xh([le("rowModel")],o.prototype,"rowModel",void 0),Xh([le("valueService")],o.prototype,"valueService",void 0),Xh([Xe],o.prototype,"postConstruct",null),o}(un),Dx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xc=function(u){function o(i,s){var l=u.call(this,s)||this;return l.labelSeparator="",l.labelAlignment="left",l.label="",l.config=i||{},l}return Dx(o,u),o.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var i=this.config,s=i.labelSeparator,l=i.label,c=i.labelWidth,p=i.labelAlignment;null!=s&&this.setLabelSeparator(s),null!=l&&this.setLabel(l),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(p||this.labelAlignment),this.refreshLabel()},o.prototype.refreshLabel=function(){gt(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),rr(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),rr(this.eLabel,null))},o.prototype.setLabelSeparator=function(i){return this.labelSeparator===i||(this.labelSeparator=i,null!=this.label&&this.refreshLabel()),this},o.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},o.prototype.getLabel=function(){return this.label},o.prototype.setLabel=function(i){return this.label===i||(this.label=i,this.refreshLabel()),this},o.prototype.setLabelAlignment=function(i){var l=this.getGui().classList;return l.toggle("ag-label-align-left","left"===i),l.toggle("ag-label-align-right","right"===i),l.toggle("ag-label-align-top","top"===i),this},o.prototype.setLabelWidth=function(i){return null==this.label||li(this.eLabel,i),this},function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Xe],o.prototype,"postConstruct",null),o}(un),cy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),is=function(u){function o(i,s,l){var c=u.call(this,i,s)||this;return c.className=l,c.disabled=!1,c}return cy(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},o.prototype.onValueChange=function(i){var s=this;return this.addManagedListener(this,o.EVENT_CHANGED,function(){return i(s.getValue())}),this},o.prototype.getWidth=function(){return this.getGui().clientWidth},o.prototype.setWidth=function(i){return Gi(this.getGui(),i),this},o.prototype.getPreviousValue=function(){return this.previousValue},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(i,s){return this.value===i||(this.previousValue=this.value,this.value=i,s||this.dispatchEvent({type:o.EVENT_CHANGED})),this},o.prototype.setDisabled=function(i){i=!!i;var s=this.getGui();return Es(s,i),s.classList.toggle("ag-disabled",i),this.disabled=i,this},o.prototype.isDisabled=function(){return!!this.disabled},o.EVENT_CHANGED="valueChange",o}(xc),uy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ju=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ed=function(u){function o(i,s,l,c){var p=u.call(this,i,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(c?'role="'+c+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',s)||this;return p.pickerIcon=l,p.isPickerDisplayed=!1,p.isDestroyingPicker=!1,p.skipClick=!1,p}return uy(o,u),o.prototype.postConstruct=function(){var i=this;u.prototype.postConstruct.call(this);var s=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",s),zv(this.eWrapper,s);var l=function(){i.skipClick?i.skipClick=!1:i.isDisabled()||(i.pickerComponent=i.showPicker())},c=this.getGui();if(this.addManagedListener(c,"mousedown",function(v){!i.skipClick&&i.pickerComponent&&i.pickerComponent.isAlive()&&bo(i.pickerComponent.getGui())&&c.contains(v.target)&&(i.skipClick=!0)}),this.addManagedListener(c,"keydown",function(v){switch(v.key){case lt.UP:case lt.DOWN:case lt.ENTER:case lt.SPACE:l();case lt.ESCAPE:i.isPickerDisplayed&&v.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",l),this.addManagedListener(this.eLabel,"click",l),this.pickerIcon){var p=Rn(this.pickerIcon,this.gridOptionsWrapper);p&&this.eIcon.appendChild(p)}},o.prototype.refreshLabel=function(){I(this.getLabel())?ag(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},o.prototype.setAriaLabel=function(i){return ul(this.eWrapper,i),this},o.prototype.setInputWidth=function(i){return li(this.eWrapper,i),this},o.prototype.getFocusableElement=function(){return this.eWrapper},Ju([st("eLabel")],o.prototype,"eLabel",void 0),Ju([st("eWrapper")],o.prototype,"eWrapper",void 0),Ju([st("eDisplayField")],o.prototype,"eDisplayField",void 0),Ju([st("eIcon")],o.prototype,"eIcon",void 0),o}(is),Ax=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Pr=function(u){function o(i){void 0===i&&(i="default");var s=u.call(this,'<div class="ag-list ag-'+i+'-list" role="listbox"></div>')||this;return s.cssIdentifier=i,s.options=[],s.itemEls=[],s}return Ax(o,u),o.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},o.prototype.handleKeyDown=function(i){var s=i.key;switch(s){case lt.ENTER:if(this.highlightedEl){var l=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(l)}else this.setValue(this.getValue());break;case lt.DOWN:case lt.UP:var c=s===lt.DOWN,p=void 0;if(i.preventDefault(),this.highlightedEl){var M=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);M=Math.min(Math.max(M,0),this.itemEls.length-1),p=this.itemEls[M]}else p=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(p)}},o.prototype.addOptions=function(i){var s=this;return i.forEach(function(l){return s.addOption(l)}),this},o.prototype.addOption=function(i){var s=i.value,c=sn(i.text||s);return this.options.push({value:s,text:c}),this.renderOption(s,c),this.updateIndices(),this},o.prototype.updateIndices=function(){var i=this.getGui().querySelectorAll(".ag-list-item");i.forEach(function(s,l){qv(s,l+1),Kv(s,i.length)})},o.prototype.renderOption=function(i,s){var l=this,c=document.createElement("div");rr(c,"option"),c.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),c.innerHTML="<span>"+s+"</span>",c.tabIndex=-1,this.itemEls.push(c),this.addManagedListener(c,"mouseover",function(){return l.highlightItem(c)}),this.addManagedListener(c,"mouseleave",function(){return l.clearHighlighted()}),this.addManagedListener(c,"click",function(){return l.setValue(i)}),this.getGui().appendChild(c)},o.prototype.setValue=function(i,s){if(this.value===i)return this.fireItemSelected(),this;if(null==i)return this.reset(),this;var l=this.options.findIndex(function(p){return p.value===i});if(-1!==l){var c=this.options[l];this.value=c.value,this.displayValue=null!=c.text?c.text:c.value,this.highlightItem(this.itemEls[l]),s||this.fireChangeEvent()}return this},o.prototype.setValueByIndex=function(i){return this.setValue(this.options[i].value)},o.prototype.getValue=function(){return this.value},o.prototype.getDisplayValue=function(){return this.displayValue},o.prototype.refreshHighlighted=function(){var i=this;this.clearHighlighted();var s=this.options.findIndex(function(l){return l.value===i.value});-1!==s&&this.highlightItem(this.itemEls[s])},o.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},o.prototype.highlightItem=function(i){!i.offsetParent||(this.clearHighlighted(),this.highlightedEl=i,this.highlightedEl.classList.add(o.ACTIVE_CLASS),Yu(this.highlightedEl,!0),this.highlightedEl.focus())},o.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(o.ACTIVE_CLASS),Yu(this.highlightedEl,!1),this.highlightedEl=null)},o.prototype.fireChangeEvent=function(){this.dispatchEvent({type:is.EVENT_CHANGED}),this.fireItemSelected()},o.prototype.fireItemSelected=function(){this.dispatchEvent({type:o.EVENT_ITEM_SELECTED})},o.EVENT_ITEM_SELECTED="selectedItem",o.ACTIVE_CLASS="ag-active-item",function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Xe],o.prototype,"init",null),o}(un),ka=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ii=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},pi=function(u){function o(i){return u.call(this,i,"ag-select","smallDown","listbox")||this}return ka(o,u),o.prototype.init=function(){var i=this;this.listComponent=this.createBean(new Pr("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Pr.EVENT_ITEM_SELECTED,function(){i.hideList&&i.hideList()}),this.listComponent.addManagedListener(this.listComponent,is.EVENT_CHANGED,function(){i.setValue(i.listComponent.getValue(),!1,!0),i.hideList&&i.hideList()})},o.prototype.showPicker=function(){var i=this,s=this.listComponent.getGui(),l=this.gridOptionsWrapper.getDocument(),c=this.addManagedListener(l.body,"wheel",function(L){!s.contains(L.target)&&i.hideList&&i.hideList()}),p=this.addManagedListener(s,"focusout",function(L){!s.contains(L.relatedTarget)&&i.hideList&&i.hideList()}),v=this.gridOptionsWrapper.getLocaleTextFunc(),M=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(){i.hideList=null,i.isPickerDisplayed=!1,p(),c(),i.isAlive()&&(Go(i.eWrapper,!1),i.getFocusableElement().focus())},ariaLabel:v("ariaLabelSelectField","Select Field")});return M&&(this.hideList=M.hideFunc),this.isPickerDisplayed=!0,li(s,Vu(this.eWrapper)),Go(this.eWrapper,!0),s.style.maxHeight=Gu(this.popupService.getPopupParent())+"px",s.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:s,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},o.prototype.addOptions=function(i){var s=this;return i.forEach(function(l){return s.addOption(l)}),this},o.prototype.addOption=function(i){return this.listComponent.addOption(i),this},o.prototype.setValue=function(i,s,l){return this.value===i?this:(l||this.listComponent.setValue(i,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),u.prototype.setValue.call(this,i,s)))},o.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),u.prototype.destroy.call(this)},Ii([le("popupService")],o.prototype,"popupService",void 0),Ii([Xe],o.prototype,"init",null),o}(ed),Ox=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Qs=function(u){function o(i,s,l,c){void 0===l&&(l="text"),void 0===c&&(c="input");var p=u.call(this,i,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+c+' ref="eInput" class="ag-input-field-input"></'+c+">\n                </div>\n            </div>",s)||this;return p.inputType=l,p.displayFieldTag=c,p}return Ox(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var i=this.config,s=i.width,l=i.value;null!=s&&this.setWidth(s),null!=l&&this.setValue(l),this.addInputListeners()},o.prototype.refreshLabel=function(){I(this.getLabel())?ag(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},o.prototype.addInputListeners=function(){var i=this;this.addManagedListener(this.eInput,"input",function(s){return i.setValue(s.target.value)})},o.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},o.prototype.getInputElement=function(){return this.eInput},o.prototype.setInputWidth=function(i){return li(this.eWrapper,i),this},o.prototype.setInputName=function(i){return this.getInputElement().setAttribute("name",i),this},o.prototype.getFocusableElement=function(){return this.eInput},o.prototype.setMaxLength=function(i){return this.eInput.maxLength=i,this},o.prototype.setInputPlaceholder=function(i){return cl(this.eInput,"placeholder",i),this},o.prototype.setInputAriaLabel=function(i){return ul(this.eInput,i),this},o.prototype.setDisabled=function(i){return Es(this.eInput,i),u.prototype.setDisabled.call(this,i)},Sc([st("eLabel")],o.prototype,"eLabel",void 0),Sc([st("eWrapper")],o.prototype,"eWrapper",void 0),Sc([st("eInput")],o.prototype,"eInput",void 0),o}(is),kx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),pl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},tr=(()=>(function(u){u[u.One=0]="One",u[u.Two=1]="Two"}(tr||(tr={})),tr))(),bi=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return kx(o,u),o.prototype.getNumberOfInputs=function(i){var s=this.optionsFactory.getCustomOption(i);if(s){var l=s.numberOfInputs;return null!=l?l:1}return i&&[o.EMPTY,o.NOT_BLANK,o.BLANK].indexOf(i)>=0?0:i===o.IN_RANGE?2:1},o.prototype.onFloatingFilterChanged=function(i,s){this.setTypeFromFloatingFilter(i),this.setValueFromFloatingFilter(s),this.onUiChanged(!0)},o.prototype.setTypeFromFloatingFilter=function(i){this.eType1.setValue(i),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},o.prototype.getModelFromUi=function(){return this.isConditionUiComplete(tr.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(tr.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(tr.One),condition2:this.createCondition(tr.Two)}:this.createCondition(tr.One):null},o.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},o.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},o.prototype.areModelsEqual=function(i,s){if(!i&&!s)return!0;if(!i&&s||i&&!s)return!1;var v,l=!i.operator,c=!s.operator;if(!l&&c||l&&!c)return!1;if(l)v=this.areSimpleModelsEqual(i,s);else{var Y=i,re=s;v=Y.operator===re.operator&&this.areSimpleModelsEqual(Y.condition1,re.condition1)&&this.areSimpleModelsEqual(Y.condition2,re.condition2)}return v},o.prototype.setModelIntoUi=function(i){if(i.operator){var l=i,c="OR"===l.operator;this.eJoinOperatorAnd.setValue(!c),this.eJoinOperatorOr.setValue(c),this.eType1.setValue(l.condition1.type),this.eType2.setValue(l.condition2.type),this.setConditionIntoUi(l.condition1,tr.One),this.setConditionIntoUi(l.condition2,tr.Two)}else{var p=i;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(p.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(p,tr.One),this.setConditionIntoUi(null,tr.Two)}return ro.resolve()},o.prototype.doesFilterPass=function(i){var s=this,l=this.getModel();if(null==l)return!0;var c=l.operator,p=[];return c?p.push(l.condition1,l.condition2):p.push(l),p[c&&"OR"===c?"some":"every"](function(L){return s.individualConditionPasses(i,L)})},o.prototype.setParams=function(i){u.prototype.setParams.call(this,i),this.optionsFactory=new dl,this.optionsFactory.init(i,this.getDefaultFilterOptions()),this.allowTwoConditions=!i.suppressAndOrCondition,this.alwaysShowBothConditions=!!i.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(i.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},o.prototype.getDefaultJoinOperator=function(i){return vo(["AND","OR"],i)?i:"AND"},o.prototype.putOptionsIntoDropdown=function(){var i=this,s=this.optionsFactory.getFilterOptions(),l=[this.eType1,this.eType2];s.forEach(function(c){var p="string"==typeof c?i.createBoilerplateListOption(c):i.createCustomListOption(c);l.forEach(function(v){return v.addOption(p)})}),l.forEach(function(c){return c.setDisabled(s.length<=1)})},o.prototype.createBoilerplateListOption=function(i){return{value:i,text:this.translate(i)}},o.prototype.createCustomListOption=function(i){var s=i.displayKey,l=this.optionsFactory.getCustomOption(i.displayKey);return{value:s,text:l?this.gridOptionsWrapper.getLocaleTextFunc()(l.displayKey,l.displayName):this.translate(s)}},o.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},o.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(tr.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(tr.Two)},o.prototype.getCssIdentifier=function(){return"simple-filter"},o.prototype.updateUiVisibility=function(){var i=this,l=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(c,p){var v=i.isConditionVisible(p),M=i.isConditionDisabled(p);c.forEach(function(L){L instanceof Qs||L instanceof pi?(L.setDisabled(M),L.setDisplayed(v)):(Es(L,M),ai(L,v))})}),l.forEach(function(c,p){ai(c,i.isConditionBodyVisible(p))}),this.forEachInput(function(c,p,v,M){i.setElementDisplayed(c,p<M),i.setElementDisabled(c,i.isConditionDisabled(v))}),this.resetPlaceholder()},o.prototype.afterGuiAttached=function(i){if(u.prototype.afterGuiAttached.call(this,i),this.resetPlaceholder(),!i||!i.suppressFocus&&!this.isReadOnly()){var s=this.getInputs()[0][0];if(!s)return;s instanceof Qs&&s.getInputElement().focus()}},o.prototype.resetPlaceholder=function(){var i=this,s=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(l,c,p,v){if(l instanceof Qs){var M=0===c&&v>1?"inRangeStart":0===c?"filterOoo":"inRangeEnd",L=0===c&&v>1?s("ariaFilterFromValue","Filter from value"):0===c?s("ariaFilterValue","Filter Value"):s("ariaFilterToValue","Filter to Value");l.setInputPlaceholder(i.translate(M)),l.setInputAriaLabel(L)}})},o.prototype.setElementValue=function(i,s,l){i instanceof Qs&&i.setValue(null!=s?String(s):null,l)},o.prototype.setElementDisplayed=function(i,s){i instanceof un&&ai(i.getGui(),s)},o.prototype.setElementDisabled=function(i,s){i instanceof un&&Es(i.getGui(),s)},o.prototype.attachElementOnChange=function(i,s){i instanceof Qs&&i.onValueChange(s)},o.prototype.forEachInput=function(i){var s=this,l=this.getInputs();this.getConditionTypes().forEach(function(c,p){for(var v=s.getNumberOfInputs(c),M=0;M<l[p].length;M++){var L=l[p][M];null!=L&&i(L,M,p,v)}})},o.prototype.isConditionVisible=function(i){return 0===i||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(i):!!this.alwaysShowBothConditions||this.isConditionUiComplete(i-1))},o.prototype.isConditionDisabled=function(i){return!(!this.isReadOnly()&&this.isConditionVisible(i))||0!==i&&!this.isConditionUiComplete(i-1)},o.prototype.isConditionBodyVisible=function(i){if(!this.isConditionVisible(i))return!1;var s=this.getConditionTypes()[i];return this.getNumberOfInputs(s)>0},o.prototype.isConditionUiComplete=function(i){return!(this.getConditionTypes()[i]===o.EMPTY||this.getValues(i).some(function(l){return null==l}))},o.prototype.resetUiToDefaults=function(i){var s=this,c=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),p="ag-simple-filter-and-or-"+this.getCompId(),v=this.optionsFactory.getDefaultOption();return this.eType1.setValue(v,i).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),i).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),i).setName(p).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),i).setName(p).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(M){s.setElementValue(M,null,i),s.setElementDisabled(M,s.isReadOnly())}),this.resetPlaceholder(),ro.resolve()},o.prototype.setConditionIntoUi=function(i,s){var l=this,c=this.mapValuesFromModel(i);this.forEachInput(function(p,v,M,L){M===s&&l.setElementValue(p,null!=c[v]?c[v]:null)})},o.prototype.setValueFromFloatingFilter=function(i){var s=this;this.forEachInput(function(l,c,p,v){s.setElementValue(l,0===c&&0===p?i:null)})},o.prototype.isDefaultOperator=function(i){return i===this.defaultJoinOperator},o.prototype.addChangedListeners=function(){var i=this;if(!this.isReadOnly()){var s=function(){return i.onUiChanged()};this.eType1.onValueChange(s),this.eType2.onValueChange(s),this.eJoinOperatorOr.onValueChange(s),this.eJoinOperatorAnd.onValueChange(s),this.forEachInput(function(l){i.attachElementOnChange(l,s)})}},o.prototype.individualConditionPasses=function(i,s){var l=this.getCellValue(i.node),c=this.mapValuesFromModel(s),p=this.optionsFactory.getCustomOption(s.type),v=this.evaluateCustomFilter(p,c,l);return null!=v?v:null==l?this.evaluateNullValue(s.type):this.evaluateNonNullValue(c,l,s,i)},o.prototype.evaluateCustomFilter=function(i,s,l){if(null!=i){var c=i.predicate;if(null!=c&&!s.some(function(p){return null==p}))return c(s,l)}},o.prototype.isBlank=function(i){return null==i||"string"==typeof i&&0===i.trim().length},o.EMPTY="empty",o.BLANK="blank",o.NOT_BLANK="notBlank",o.EQUALS="equals",o.NOT_EQUAL="notEqual",o.LESS_THAN="lessThan",o.LESS_THAN_OR_EQUAL="lessThanOrEqual",o.GREATER_THAN="greaterThan",o.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",o.IN_RANGE="inRange",o.CONTAINS="contains",o.NOT_CONTAINS="notContains",o.STARTS_WITH="startsWith",o.ENDS_WITH="endsWith",pl([st("eOptions1")],o.prototype,"eType1",void 0),pl([st("eOptions2")],o.prototype,"eType2",void 0),pl([st("eJoinOperatorPanel")],o.prototype,"eJoinOperatorPanel",void 0),pl([st("eJoinOperatorAnd")],o.prototype,"eJoinOperatorAnd",void 0),pl([st("eJoinOperatorOr")],o.prototype,"eJoinOperatorOr",void 0),pl([st("eCondition1Body")],o.prototype,"eCondition1Body",void 0),pl([st("eCondition2Body")],o.prototype,"eCondition2Body",void 0),o}(hl),Qh=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ui=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Qh(o,u),o.prototype.setParams=function(i){u.prototype.setParams.call(this,i),this.scalarFilterParams=i},o.prototype.evaluateNullValue=function(i){switch(i){case o.EQUALS:case o.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case o.GREATER_THAN:case o.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case o.LESS_THAN:case o.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case o.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case o.BLANK:return!0;case o.NOT_BLANK:return!1}return!1},o.prototype.evaluateNonNullValue=function(i,s,l){var c=this.comparator(),p=null!=i[0]?c(i[0],s):0;switch(l.type){case o.EQUALS:return 0===p;case o.NOT_EQUAL:return 0!==p;case o.GREATER_THAN:return p>0;case o.GREATER_THAN_OR_EQUAL:return p>=0;case o.LESS_THAN:return p<0;case o.LESS_THAN_OR_EQUAL:return p<=0;case o.IN_RANGE:var v=c(i[1],s);return this.scalarFilterParams.inRangeInclusive?p>=0&&v<=0:p>0&&v<0;case o.BLANK:return this.isBlank(s);case o.NOT_BLANK:return!this.isBlank(s);default:return console.warn('AG Grid: Unexpected type of filter "'+l.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},o}(bi),dy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),vg=function(){return vg=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},vg.apply(this,arguments)},Ho=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},yg=function(u){function o(){var i=u.call(this,"dateFilter")||this;return i.minValidYear=1e3,i.maxValidYear=1/0,i}return dy(o,u),o.prototype.afterGuiAttached=function(i){u.prototype.afterGuiAttached.call(this,i),this.dateCondition1FromComp.afterGuiAttached(i)},o.prototype.mapValuesFromModel=function(i){var s=i||{},l=s.dateFrom,c=s.dateTo,p=s.type;return[l&&or(l)||null,c&&or(c)||null].slice(0,this.getNumberOfInputs(p))},o.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},o.prototype.defaultComparator=function(i,s){return null==s||s<i?-1:s>i?1:0},o.prototype.setParams=function(i){u.prototype.setParams.call(this,i),this.dateFilterParams=i;var s=function(l,c){if(null!=i[l]){if(!isNaN(i[l]))return null==i[l]?c:Number(i[l]);console.warn("AG Grid: DateFilter "+l+" is not a number")}return c};this.minValidYear=s("minValidYear",1e3),this.maxValidYear=s("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},o.prototype.createDateComponents=function(){var i=this,s=function(l){return new Rs(i.getContext(),i.userComponentFactory,{onDateChanged:function(){return i.onUiChanged()},filterParams:i.dateFilterParams},l)};this.dateCondition1FromComp=s(this.eCondition1PanelFrom),this.dateCondition1ToComp=s(this.eCondition1PanelTo),this.dateCondition2FromComp=s(this.eCondition2PanelFrom),this.dateCondition2ToComp=s(this.eCondition2PanelTo),this.addDestroyFunc(function(){i.forEachInput(function(l){return l.destroy()})})},o.prototype.setElementValue=function(i,s,l){i.setDate(s)},o.prototype.setElementDisplayed=function(i,s){i.setDisplayed(s)},o.prototype.setElementDisabled=function(i,s){i.setDisabled(s)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(i){var s=i===tr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+s+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+s+'PanelTo"></div>\n            </div>'},o.prototype.isConditionUiComplete=function(i){var s=this;if(!u.prototype.isConditionUiComplete.call(this,i))return!1;var c=!0;return this.forEachInput(function(p,v,M,L){M!==i||!c||v>=L||(c=c&&function(p){return null!=p&&p.getUTCFullYear()>=s.minValidYear&&p.getUTCFullYear()<=s.maxValidYear}(p.getDate()))}),c},o.prototype.areSimpleModelsEqual=function(i,s){return i.dateFrom===s.dateFrom&&i.dateTo===s.dateTo&&i.type===s.type},o.prototype.getFilterType=function(){return"date"},o.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={},c=this.getValues(i);return c.length>0&&(l.dateFrom=Ra(c[0])),c.length>1&&(l.dateTo=Ra(c[1])),vg({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:s},l)},o.prototype.resetPlaceholder=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.translate("dateFormatOoo"),l=i("ariaFilterValue","Filter Value");this.forEachInput(function(c){c.setInputPlaceholder(s),c.setInputAriaLabel(l)})},o.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},o.prototype.getValues=function(i){var s=[];return this.forEachInput(function(l,c,p,v){i===p&&c<v&&s.push(l.getDate())}),s},o.DEFAULT_FILTER_OPTIONS=[Ui.EQUALS,Ui.GREATER_THAN,Ui.LESS_THAN,Ui.NOT_EQUAL,Ui.IN_RANGE,Ui.BLANK,Ui.NOT_BLANK],Ho([st("eCondition1PanelFrom")],o.prototype,"eCondition1PanelFrom",void 0),Ho([st("eCondition1PanelTo")],o.prototype,"eCondition1PanelTo",void 0),Ho([st("eCondition2PanelFrom")],o.prototype,"eCondition2PanelFrom",void 0),Ho([st("eCondition2PanelTo")],o.prototype,"eCondition2PanelTo",void 0),Ho([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),o}(Ui),td=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zh=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return td(o,u),o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.getTextFromModel=function(i){if(!i)return null;if(null!=i.operator){var l=i,c=l||{},p=c.condition1,v=c.condition2,M=this.optionsFactory.getCustomOption(p.type),L=this.optionsFactory.getCustomOption(v.type);return[this.conditionToString(p,M),l.operator,this.conditionToString(v,L)].join(" ")}var Y=i,re=this.optionsFactory.getCustomOption(Y.type),de=re||{},be=de.displayKey,Ce=de.displayName;return be&&Ce&&0===de.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(be,Ce),Ce):this.conditionToString(Y,re)},o.prototype.isEventFromFloatingFilter=function(i){return i&&i.afterFloatingFilter},o.prototype.getLastType=function(){return this.lastType},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setLastTypeFromModel=function(i){i?this.lastType=(i.operator?i.condition1:i).type:this.lastType=this.optionsFactory.getDefaultOption()},o.prototype.canWeEditAfterModelFromParentFilter=function(i){return i?!i.operator&&this.isTypeEditable(i.type):this.isTypeEditable(this.lastType)},o.prototype.init=function(i){this.optionsFactory=new dl,this.optionsFactory.init(i.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!i.filterParams.readOnly;var s=this.isTypeEditable(this.lastType);this.setEditable(s)},o.prototype.doesFilterHaveSingleInput=function(i){var l=(this.optionsFactory.getCustomOption(i)||{}).numberOfInputs;return null==l||1==l},o.prototype.isTypeEditable=function(i){var s=[bi.IN_RANGE,bi.EMPTY,bi.BLANK,bi.NOT_BLANK];return!!i&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(i)&&s.indexOf(i)<0},o}(un),Px=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Cg=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},jR=function(u){function o(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Px(o,u),o.prototype.getDefaultFilterOptions=function(){return yg.DEFAULT_FILTER_OPTIONS},o.prototype.conditionToString=function(i,s){var l=i.type,p=l==bi.IN_RANGE||2===(s||{}).numberOfInputs,v=or(i.dateFrom),M=or(i.dateTo);return p?Ra(v,!1)+"-"+Ra(M,!1):null!=v?""+Ra(v,!1):""+l},o.prototype.init=function(i){u.prototype.init.call(this,i),this.params=i,this.createDateComponent();var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(s("ariaDateFilterInput","Date Filter Input"))},o.prototype.setEditable=function(i){ai(this.eDateWrapper,i),ai(this.eReadOnlyText.getGui(),!i)},o.prototype.onParentModelChanged=function(i,s){if(!this.isEventFromFloatingFilter(s)){u.prototype.setLastTypeFromModel.call(this,i);var l=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(i);this.setEditable(l),l?(this.dateComp.setDate(i?or(i.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(i)),this.dateComp.setDate(null))}},o.prototype.onDateChanged=function(){var i=this,l=Ra(this.dateComp.getDate());this.params.parentFilterInstance(function(c){if(c){var p=or(l);c.onFloatingFilterChanged(i.getLastType()||null,p)}})},o.prototype.createDateComponent=function(){var i=this,s=hl.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),l={onDateChanged:$e(this.onDateChanged.bind(this),s),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Rs(this.getContext(),this.userComponentFactory,l,this.eDateWrapper),this.addDestroyFunc(function(){return i.dateComp.destroy()})},Cg([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Cg([st("eReadOnlyText")],o.prototype,"eReadOnlyText",void 0),Cg([st("eDateWrapper")],o.prototype,"eDateWrapper",void 0),o}(Zh),$R=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),py=function(u){function o(){return u.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return $R(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){var s=this,l=this.gridOptionsWrapper.getDocument(),c=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(i)&&(c.type="date"),this.addManagedListener(c,"mousedown",function(){s.eDateInput.isDisabled()||c.focus()}),this.addManagedListener(c,"input",function(L){L.target===l.activeElement&&(s.eDateInput.isDisabled()||i.onDateChanged())});var p=i.filterParams||{},v=p.minValidYear,M=p.maxValidYear;v&&(c.min=v+"-01-01"),M&&(c.max=M+"-12-31")},o.prototype.getDate=function(){return or(this.eDateInput.getValue())},o.prototype.setDate=function(i){this.eDateInput.setValue(Ra(i,!1))},o.prototype.setInputPlaceholder=function(i){this.eDateInput.setInputPlaceholder(i)},o.prototype.setDisabled=function(i){this.eDateInput.setDisabled(i)},o.prototype.afterGuiAttached=function(i){(!i||!i.suppressFocus)&&this.eDateInput.getInputElement().focus()},o.prototype.shouldUseBrowserDatePicker=function(i){return i.filterParams&&null!=i.filterParams.browserDatePicker?i.filterParams.browserDatePicker:Mh()||jv()},function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([st("eDateInput")],o.prototype,"eDateInput",void 0),o}(un),bg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),fl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ep=function(u){function o(){return u.call(this,"numberFilter")||this}return bg(o,u),o.prototype.mapValuesFromModel=function(i){var s=i||{},l=s.filter,c=s.filterTo;return[null==l?null:l,null==c?null:c].slice(0,this.getNumberOfInputs(s.type))},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.comparator=function(){return function(i,s){return i===s?0:i<s?1:-1}},o.prototype.setParams=function(i){this.numberFilterParams=i;var s=this.getAllowedCharPattern();if(s){var l={allowedCharPattern:s};this.resetTemplate({"eValue-index0-1":l,"eValue-index1-1":l,"eValue-index0-2":l,"eValue-index1-2":l})}u.prototype.setParams.call(this,i)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(i){var s=i===tr.One?"1":"2",c=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <'+c+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></'+c+">\n                <"+c+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></'+c+">\n            </div>"},o.prototype.getValues=function(i){var s=this,l=[];return this.forEachInput(function(c,p,v,M){i===v&&p<M&&l.push(s.stringToFloat(c.getValue()))}),l},o.prototype.areSimpleModelsEqual=function(i,s){return i.filter===s.filter&&i.filterTo===s.filterTo&&i.type===s.type},o.prototype.getFilterType=function(){return"number"},o.prototype.stringToFloat=function(i){if("number"==typeof i)return i;var s=R(i);return null!=s&&""===s.trim()&&(s=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(s):null==s||"-"===s.trim()?null:parseFloat(s)},o.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={filterType:this.getFilterType(),type:s},c=this.getValues(i);return c.length>0&&(l.filter=c[0]),c.length>1&&(l.filterTo=c[1]),l},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Mh()||Jo()?null:"\\d\\-\\.")},o.DEFAULT_FILTER_OPTIONS=[Ui.EQUALS,Ui.NOT_EQUAL,Ui.LESS_THAN,Ui.LESS_THAN_OR_EQUAL,Ui.GREATER_THAN,Ui.GREATER_THAN_OR_EQUAL,Ui.IN_RANGE,Ui.BLANK,Ui.NOT_BLANK],fl([st("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),fl([st("eValue-index1-1")],o.prototype,"eValueTo1",void 0),fl([st("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),fl([st("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(Ui),fy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zs=function(){return Zs=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Zs.apply(this,arguments)},tp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Js=function(u){function o(){return u.call(this,"textFilter")||this}return fy(o,u),o.trimInput=function(i){var s=i&&i.trim();return""===s?i:s},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.setParams=function(i){u.prototype.setParams.call(this,i),this.textFilterParams=i,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?o.DEFAULT_FORMATTER:o.DEFAULT_LOWERCASE_FORMATTER)},o.prototype.getTextMatcher=function(){var i=this.textFilterParams.textCustomComparator;return i?(ht.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(s){return i(s.filterOption,s.value,s.filterText)}):this.textFilterParams.textMatcher||o.DEFAULT_MATCHER},o.prototype.createCondition=function(i){var s=this.getConditionTypes()[i],l={filterType:this.getFilterType(),type:s},c=this.getValues(i);return c.length>0&&(l.filter=c[0]),c.length>1&&(l.filterTo=c[1]),l},o.prototype.getFilterType=function(){return"text"},o.prototype.areSimpleModelsEqual=function(i,s){return i.filter===s.filter&&i.filterTo===s.filterTo&&i.type===s.type},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getValues=function(i){var s=this,l=[];return this.forEachInput(function(c,p,v,M){if(i===v&&p<M){var L=R(c.getValue()),Y=(s.textFilterParams.trimInput?o.trimInput(L):L)||null;l.push(Y),c.setValue(Y,!0)}}),l},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(i){var s=i===tr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></ag-input-text-field>\n            </div>'},o.prototype.mapValuesFromModel=function(i){var s=i||{};return[s.filter||null,s.filterTo||null].slice(0,this.getNumberOfInputs(s.type))},o.prototype.evaluateNullValue=function(i){return!!i&&[bi.NOT_EQUAL,bi.NOT_CONTAINS,bi.BLANK].indexOf(i)>=0},o.prototype.evaluateNonNullValue=function(i,s,l,c){var p=this,v=i.map(function(Ze){return p.formatter(Ze)})||[],M=this.formatter(s),L=this.textFilterParams,Y=L.api,re=L.colDef,de=L.column,be=L.columnApi,Ce=L.context,Re=L.textFormatter;if(l.type===bi.BLANK)return this.isBlank(s);if(l.type===bi.NOT_BLANK)return!this.isBlank(s);var Ge={api:Y,colDef:re,column:de,columnApi:be,context:Ce,node:c.node,data:c.data,filterOption:l.type,value:M,textFormatter:Re};return v.some(function(Ze){return p.matcher(Zs(Zs({},Ge),{filterText:Ze}))})},o.DEFAULT_FILTER_OPTIONS=[bi.CONTAINS,bi.NOT_CONTAINS,bi.EQUALS,bi.NOT_EQUAL,bi.STARTS_WITH,bi.ENDS_WITH,bi.BLANK,bi.NOT_BLANK],o.DEFAULT_FORMATTER=function(i){return i},o.DEFAULT_LOWERCASE_FORMATTER=function(i){return null==i?null:i.toString().toLowerCase()},o.DEFAULT_MATCHER=function(i){var l=i.value,c=i.filterText;if(null==c)return!1;switch(i.filterOption){case o.CONTAINS:return l.indexOf(c)>=0;case o.NOT_CONTAINS:return l.indexOf(c)<0;case o.EQUALS:return l===c;case o.NOT_EQUAL:return l!=c;case o.STARTS_WITH:return 0===l.indexOf(c);case o.ENDS_WITH:var p=l.lastIndexOf(c);return p>=0&&p===l.length-c.length;default:return!1}},tp([st("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),tp([st("eValue-index1-1")],o.prototype,"eValueTo1",void 0),tp([st("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),tp([st("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(bi),wg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ec=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ix=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return wg(o,u),o.prototype.postConstruct=function(){this.resetTemplate()},o.prototype.resetTemplate=function(i){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',i)},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.onParentModelChanged=function(i,s){this.isEventFromFloatingFilter(s)||(this.setLastTypeFromModel(i),this.eFloatingFilterInput.setValue(this.getTextFromModel(i)),this.setEditable(this.canWeEditAfterModelFromParentFilter(i)))},o.prototype.init=function(i){u.prototype.init.call(this,i),this.params=i,this.applyActive=hl.isUseApplyButton(this.params.filterParams);var s=this.params.filterParams.allowedCharPattern;if(null!=s&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:s}}),!this.isReadOnly()){var l=hl.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c=$e(this.syncUpWithParentFilter.bind(this),l),p=this.eFloatingFilterInput.getGui();this.addManagedListener(p,"input",c),this.addManagedListener(p,"keypress",c),this.addManagedListener(p,"keydown",c)}var v=i.column.getDefinition();(this.isReadOnly()||v.filterParams&&v.filterParams.filterOptions&&1===v.filterParams.filterOptions.length&&"inRange"===v.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var M=this.columnModel.getDisplayNameForColumn(i.column,"header",!0),L=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(M+" "+L("ariaFilterInput","Filter Input"))},o.prototype.syncUpWithParentFilter=function(i){var s=this;if(!this.applyActive||i.key===lt.ENTER){var c=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(c=Js.trimInput(c),this.eFloatingFilterInput.setValue(c,!0)),this.params.parentFilterInstance(function(p){p&&p.onFloatingFilterChanged(s.getLastType()||null,c||null)})}},o.prototype.conditionToString=function(i,s){return i.type==bi.IN_RANGE||2===(s||{}).numberOfInputs?i.filter+"-"+i.filterTo:null!=i.filter?""+i.filter:""+i.type},o.prototype.setEditable=function(i){this.eFloatingFilterInput.setDisabled(!i)},Ec([le("columnModel")],o.prototype,"columnModel",void 0),Ec([st("eFloatingFilterInput")],o.prototype,"eFloatingFilterInput",void 0),Ec([Xe],o.prototype,"postConstruct",null),o}(Zh),gy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),my=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return gy(o,u),o.prototype.getDefaultFilterOptions=function(){return ep.DEFAULT_FILTER_OPTIONS},o}(Ix),Mx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),_y=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Mx(o,u),o.prototype.getDefaultFilterOptions=function(){return Js.DEFAULT_FILTER_OPTIONS},o}(Ix),Ir=function(){function u(o,i){var s=this;void 0===i&&(i=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Zo,this.eElement=o,this.preventMouseClick=i;var l=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),p=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",l,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",p,{passive:!1}),this.destroyFuncs.push(function(){s.eElement.removeEventListener("touchstart",l,{passive:!0}),s.eElement.removeEventListener("touchmove",c,{passive:!0}),s.eElement.removeEventListener("touchend",p,{passive:!1})})}return u.prototype.getActiveTouch=function(o){for(var i=0;i<o.length;i++)if(o[i].identifier===this.touchStart.identifier)return o[i];return null},u.prototype.addEventListener=function(o,i){this.eventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){this.eventService.removeEventListener(o,i)},u.prototype.onTouchStart=function(o){var i=this;if(!this.touching){this.touchStart=o.touches[0],this.touching=!0,this.moved=!1;var s=this.touchStart;window.setTimeout(function(){i.touching&&i.touchStart===s&&!i.moved&&(i.moved=!0,i.eventService.dispatchEvent({type:u.EVENT_LONG_TAP,touchStart:i.touchStart,touchEvent:o}))},500)}},u.prototype.onTouchMove=function(o){if(this.touching){var i=this.getActiveTouch(o.touches);i&&!Xu(i,this.touchStart,4)&&(this.moved=!0)}},u.prototype.onTouchEnd=function(o){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:u.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&o.preventDefault(),this.touching=!1)},u.prototype.checkForDoubleTap=function(){var o=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&o-this.lastTapTime>u.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:u.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=o},u.prototype.destroy=function(){this.destroyFuncs.forEach(function(o){return o()})},u.EVENT_TAP="tap",u.EVENT_DOUBLE_TAP="doubleTap",u.EVENT_LONG_TAP="longTap",u.DOUBLE_TAP_MILLIS=500,u}(),xg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jo=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},np=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.lastMovingChanged=0,i}return xg(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.refresh=function(i){return this.params=i,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(i),!0)},o.prototype.workOutTemplate=function(){var i=on(this.params.template,o.TEMPLATE);return i&&i.trim?i.trim():i},o.prototype.init=function(i){this.params=i,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(i.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(i)},o.prototype.setDisplayName=function(i){if(this.currentDisplayName!=i.displayName){this.currentDisplayName=i.displayName;var s=sn(this.currentDisplayName);this.eText&&(this.eText.innerHTML=s)}},o.prototype.setupIcons=function(i){this.addInIcon("sortAscending",this.eSortAsc,i),this.addInIcon("sortDescending",this.eSortDesc,i),this.addInIcon("sortUnSort",this.eSortNone,i),this.addInIcon("menu",this.eMenu,i),this.addInIcon("filter",this.eFilter,i)},o.prototype.addInIcon=function(i,s,l){if(null!=s){var c=Rn(i,this.gridOptionsWrapper,l);c&&s.appendChild(c)}},o.prototype.setupTap=function(){var i=this,s=this.gridOptionsWrapper;if(!s.isSuppressTouch()){var l=new Ir(this.getGui(),!0),c=s.isSuppressMenuHide(),p=c&&I(this.eMenu),v=p?new Ir(this.eMenu,!0):l;this.params.enableMenu&&this.addManagedListener(v,Ir[p?"EVENT_TAP":"EVENT_LONG_TAP"],function(re){s.getApi().showColumnMenuAfterMouseClick(i.params.column,re.touchStart)}),this.params.enableSorting&&this.addManagedListener(l,Ir.EVENT_TAP,function(re){c&&i.eMenu.contains(re.touchStart.target)||i.sortController.progressSort(i.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return l.destroy()}),p&&this.addDestroyFunc(function(){return v.destroy()})}},o.prototype.workOutShowMenu=function(){var i=!this.gridOptionsWrapper.isSuppressMenuHide(),s=kr()&&i;return this.params.enableMenu&&!s},o.prototype.setMenu=function(){var i=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void _i(this.eMenu);var s=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return i.showMenu(i.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",s)}},o.prototype.showMenu=function(i){i||(i=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,i,"columnMenu")},o.prototype.removeSortIcons=function(){_i(this.eSortAsc),_i(this.eSortDesc),_i(this.eSortNone),_i(this.eSortOrder)},o.prototype.workOutSort=function(){return this.params.enableSorting},o.prototype.setupSort=function(){var i=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var s=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,ot.EVENT_MOVING_CHANGED,function(){i.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(l){var c=i.params.column.isMoving(),p=(new Date).getTime();c||p-i.lastMovingChanged<50||i.params.progressSort(s?l.ctrlKey||l.metaKey:l.shiftKey)}),this.addManagedListener(this.params.column,ot.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,xe.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},o.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var i=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",i||!this.params.column.isSortNone())}},o.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var i=this.params.column,s=this.sortController.getColumnsWithSortingOrdered(),l=s.indexOf(i),c=s.length>1,p=i.isSorting()&&c;ai(this.eSortOrder,p),l>=0?this.eSortOrder.innerHTML=(l+1).toString():gt(this.eSortOrder)}},o.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,ot.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},o.prototype.onFilterChanged=function(){var i=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!i)},o.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',jo([le("sortController")],o.prototype,"sortController",void 0),jo([le("menuFactory")],o.prototype,"menuFactory",void 0),jo([st("eFilter")],o.prototype,"eFilter",void 0),jo([st("eSortAsc")],o.prototype,"eSortAsc",void 0),jo([st("eSortDesc")],o.prototype,"eSortDesc",void 0),jo([st("eSortNone")],o.prototype,"eSortNone",void 0),jo([st("eSortOrder")],o.prototype,"eSortOrder",void 0),jo([st("eMenu")],o.prototype,"eMenu",void 0),jo([st("eLabel")],o.prototype,"eLabel",void 0),jo([st("eText")],o.prototype,"eText",void 0),o}(un),ip=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sg=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},vy=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return ip(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){this.params=i,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},o.prototype.checkWarnings=function(){this.params.template&&We(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},o.prototype.setupExpandIcons=function(){var i=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var s=function(p){if(!No(p)){var v=!i.params.columnGroup.isExpanded();i.columnModel.setColumnGroupOpened(i.params.columnGroup.getProvidedColumnGroup(),v,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,s),this.addTouchAndClickListeners(this.eOpenIcon,s);var l=function(p){il(p)};this.addManagedListener(this.eCloseIcon,"dblclick",l),this.addManagedListener(this.eOpenIcon,"dblclick",l),this.addManagedListener(this.getGui(),"dblclick",s),this.updateIconVisibility();var c=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(c,En.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(c,En.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},o.prototype.addTouchAndClickListeners=function(i,s){var l=new Ir(i,!0);this.addManagedListener(l,Ir.EVENT_TAP,s),this.addDestroyFunc(function(){return l.destroy()}),this.addManagedListener(i,"click",s)},o.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var s=this.params.columnGroup.isExpanded();ai(this.eOpenIcon,s),ai(this.eCloseIcon,!s)}else ai(this.eOpenIcon,!1),ai(this.eCloseIcon,!1)},o.prototype.addInIcon=function(i,s){var l=Rn(i,this.gridOptionsWrapper,null);l&&this.getRefElement(s).appendChild(l)},o.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return ai(this.eOpenIcon,!1),void ai(this.eCloseIcon,!1)},o.prototype.setupLabel=function(){var i=this.params.displayName;if(I(i)){var s=sn(i);this.getRefElement("agLabel").innerHTML=s}},o.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Sg([le("columnModel")],o.prototype,"columnModel",void 0),Sg([st("agOpened")],o.prototype,"eOpenIcon",void 0),Sg([st("agClosed")],o.prototype,"eCloseIcon",void 0),o}(un),yy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gl=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return yy(o,u),o.prototype.isPopup=function(){return!0},o.prototype.setParentComponent=function(i){i.addCssClass("ag-has-popup"),u.prototype.setParentComponent.call(this,i)},o.prototype.destroy=function(){var i=this.parentComponent;i&&i.isAlive()&&i.getGui().classList.remove("ag-has-popup"),u.prototype.destroy.call(this)},o}(un),Cy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),by=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return Cy(o,u),o.prototype.init=function(i){this.params=i,this.focusAfterAttached=i.cellStartedEdit,this.eTextArea.setMaxLength(i.maxLength||200).setCols(i.cols||60).setRows(i.rows||10),I(i.value)&&this.eTextArea.setValue(i.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},o.prototype.onKeyDown=function(i){var s=i.key;(s===lt.LEFT||s===lt.UP||s===lt.RIGHT||s===lt.DOWN||i.shiftKey&&s===lt.ENTER)&&i.stopPropagation()},o.prototype.afterGuiAttached=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(i("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},o.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},o.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([st("eTextArea")],o.prototype,"eTextArea",void 0),o}(gl),rp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Tg=function(u){function o(){var i=u.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return i.startedByEnter=!1,i}return rp(o,u),o.prototype.init=function(i){var s=this;if(this.focusAfterAttached=i.cellStartedEdit,O(i.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=i.eventKey&&i.eventKey===lt.ENTER;var l=!1;i.values.forEach(function(c){var p={value:c},v=s.valueFormatterService.formatValue(i.column,null,null,c);p.text=null!=v?v:c,s.eSelect.addOption(p),l=l||i.value===c}),l?this.eSelect.setValue(i.value,!0):i.values.length&&this.eSelect.setValue(i.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return i.stopEditing()})}},o.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},o.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},o.prototype.getValue=function(){return this.eSelect.getValue()},o.prototype.isPopup=function(){return!1},Dc([le("valueFormatterService")],o.prototype,"valueFormatterService",void 0),Dc([st("eSelect")],o.prototype,"eSelect",void 0),o}(gl),wy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Eg=function(u){function o(){var i=u.call(this)||this;return We(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),i}return wy(o,u),o.prototype.isPopup=function(){return!0},o}(Tg),Ac=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Rc=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return Ac(o,u),o.prototype.init=function(i){this.params=i;var l,s=this.eInput;i.cellStartedEdit?(this.focusAfterAttached=!0,i.eventKey===lt.BACKSPACE||i.eventKey===lt.DELETE?l="":i.charPress?l=i.charPress:(l=this.getStartValue(i),i.eventKey!==lt.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=this.getStartValue(i)),null!=l&&s.setValue(l,!0),this.addManagedListener(s.getGui(),"keydown",function(c){var p=c.key;(p===lt.PAGE_UP||p===lt.PAGE_DOWN)&&c.preventDefault()})},o.prototype.afterGuiAttached=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.eInput;if(s.setInputAriaLabel(i("ariaInputEditor","Input Editor")),this.focusAfterAttached){Wr()||s.getFocusableElement().focus();var l=s.getInputElement();if(this.highlightAllOnFocus)l.select();else{var c=s.getValue(),p=I(c)&&c.length||0;p&&l.setSelectionRange(p,p)}}},o.prototype.focusIn=function(){var i=this.eInput,s=i.getFocusableElement(),l=i.getInputElement();s.focus(),l.select()},o.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},o.prototype.getStartValue=function(i){return i.useFormatter||i.column.getColDef().refData?i.formatValue(i.value):i.value},o.prototype.isPopup=function(){return!1},o.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([st("eInput")],o.prototype,"eInput",void 0),o}(gl),ml=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),_l=function(u){function o(){var i=u.call(this)||this;return We(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),i}return ml(o,u),o.prototype.isPopup=function(){return!0},o}(Rc),Oc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),vl=function(u){function o(){var i=u.call(this,o.TEMPLATE)||this;return i.refreshCount=0,i}return Oc(o,u),o.prototype.init=function(i){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(i)},o.prototype.showDelta=function(i,s){var l=Math.abs(s),c=i.formatValue(l),p=I(c)?c:l,v=s>=0;this.eDelta.innerHTML=v?"\u2191"+p:"\u2193"+p,this.eDelta.classList.toggle("ag-value-change-delta-up",v),this.eDelta.classList.toggle("ag-value-change-delta-down",!v)},o.prototype.setTimerToRemoveDelta=function(){var i=this;this.refreshCount++;var s=this.refreshCount;window.setTimeout(function(){s===i.refreshCount&&i.hideDeltaValue()},2e3)},o.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),gt(this.eDelta)},o.prototype.refresh=function(i){var s=i.value;return s!==this.lastValue&&(I(i.valueFormatted)?this.eValue.innerHTML=i.valueFormatted:I(i.value)?this.eValue.innerHTML=s:gt(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof s&&"number"==typeof this.lastValue&&this.showDelta(i,s-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=s,!0)},o.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([le("filterManager")],o.prototype,"filterManager",void 0),o}(un),Ag=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Kt=function(u){function o(){var i=u.call(this,o.TEMPLATE)||this;return i.refreshCount=0,i.eCurrent=i.queryForHtmlElement(".ag-value-slide-current"),i}return Ag(o,u),o.prototype.init=function(i){this.refresh(i)},o.prototype.addSlideAnimation=function(){var i=this;this.refreshCount++;var s=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Si('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){s===i.refreshCount&&i.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){s===i.refreshCount&&(i.getGui().removeChild(i.ePrevious),i.ePrevious=null)},3e3)},o.prototype.refresh=function(i){var s=i.value;return O(s)&&(s=""),s!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=s,I(i.valueFormatted)?this.eCurrent.innerHTML=i.valueFormatted:I(i.value)?this.eCurrent.innerHTML=s:gt(this.eCurrent),!0)},o.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([le("filterManager")],o.prototype,"filterManager",void 0),o}(un);!function(u){u[u.Above=0]="Above",u[u.Below=1]="Below"}(j.oh5||(j.oh5={}));var mn=function(){function u(o){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=u.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=$e(this.onRowHeightChanged.bind(this),100),this.beans=o}return u.prototype.setData=function(o){this.setDataCommon(o,!1)},u.prototype.updateData=function(o){this.setDataCommon(o,!0)},u.prototype.setDataCommon=function(o,i){var s=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var l=this.createDataChangedEvent(o,s,i);this.dispatchLocalEvent(l)},u.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},u.prototype.createDataChangedEvent=function(o,i,s){return{type:u.EVENT_DATA_CHANGED,node:this,oldData:i,newData:o,update:s}},u.prototype.createLocalRowEvent=function(o){return{type:o,node:this}},u.prototype.getRowIndexString=function(){return this.rowPinned===Ie.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===Ie.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},u.prototype.createDaemonNode=function(){var o=new u(this.beans);return o.id=this.id,o.data=this.data,o.daemon=!0,o.selected=this.selected,o.level=this.level,o},u.prototype.setDataAndId=function(o,i){var s=I(this.id)?this.createDaemonNode():null,l=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(i),this.beans.selectionService.syncInRowNode(this,s),this.checkRowSelectable();var c=this.createDataChangedEvent(o,l,!1);this.dispatchLocalEvent(c)},u.prototype.checkRowSelectable=function(){var o=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!o||o(this))},u.prototype.setRowSelectable=function(o){this.selectable!==o&&(this.selectable=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_SELECTABLE_CHANGED)))},u.prototype.setId=function(o){var i=this.beans.gridOptionsWrapper.getRowIdFunc();if(i)if(this.data){var s=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(u.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+u.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=o},u.prototype.getGroupKeys=function(o){void 0===o&&(o=!1);var i=[],s=this;for(o&&(s=s.parent);s&&s.level>=0;)i.push(s.key),s=s.parent;return i.reverse(),i},u.prototype.isPixelInRange=function(o){return!(!I(this.rowTop)||!I(this.rowHeight))&&o>=this.rowTop&&o<this.rowTop+this.rowHeight},u.prototype.setFirstChild=function(o){this.firstChild!==o&&(this.firstChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_FIRST_CHILD_CHANGED)))},u.prototype.setLastChild=function(o){this.lastChild!==o&&(this.lastChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_LAST_CHILD_CHANGED)))},u.prototype.setChildIndex=function(o){this.childIndex!==o&&(this.childIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_CHILD_INDEX_CHANGED)))},u.prototype.setRowTop=function(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_TOP_CHANGED)),this.setDisplayed(null!==o))},u.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},u.prototype.setDisplayed=function(o){this.displayed!==o&&(this.displayed=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DISPLAYED_CHANGED)))},u.prototype.setDragging=function(o){this.dragging!==o&&(this.dragging=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DRAGGING_CHANGED)))},u.prototype.setHighlighted=function(o){o!==this.highlighted&&(this.highlighted=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HIGHLIGHT_CHANGED)))},u.prototype.setAllChildrenCount=function(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},u.prototype.setMaster=function(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_MASTER_CHANGED)))},u.prototype.setGroup=function(o){this.group!==o&&(this.group&&!o&&(this.expanded=!1),this.group=o,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_GROUP_CHANGED)))},u.prototype.setRowHeight=function(o,i){void 0===i&&(i=!1),this.rowHeight=o,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HEIGHT_CHANGED))},u.prototype.setRowAutoHeight=function(o,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=o,null!=o&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=$e(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},u.prototype.checkAutoHeights=function(){var o=!1,i=!0,s=0,l=this.__autoHeights;null!=l&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(p){var v=l[p.getId()];null!=v?(i=!1,v>s&&(s=v)):o=!0}),!o&&((i||s<10)&&(s=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),s!=this.rowHeight&&(this.setRowHeight(s),this.onRowHeightChangedDebounced())))},u.prototype.onRowHeightChanged=function(){var o=this.beans.rowModel;o.onRowHeightChanged&&o.onRowHeightChanged()},u.prototype.setRowIndex=function(o){this.rowIndex!==o&&(this.rowIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ROW_INDEX_CHANGED)))},u.prototype.setUiLevel=function(o){this.uiLevel!==o&&(this.uiLevel=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_UI_LEVEL_CHANGED)))},u.prototype.setExpanded=function(o,i){if(this.expanded!==o){this.expanded=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_EXPANDED_CHANGED));var s=Object.assign({},this.createGlobalRowEvent(xe.EVENT_ROW_GROUP_OPENED),{expanded:o,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},u.prototype.createGlobalRowEvent=function(o){return{type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},u.prototype.dispatchLocalEvent=function(o){this.eventService&&this.eventService.dispatchEvent(o)},u.prototype.setDataValue=function(o,i,s){var l=this.beans.columnModel.getPrimaryColumn(o),c=this.beans.valueService.getValue(l,this),p=this.beans.valueService.setValue(this,l,i,s);return this.dispatchCellChangedEvent(l,i,c),p},u.prototype.setGroupValue=function(o,i){var s=this.beans.columnModel.getGridColumn(o);O(this.groupData)&&(this.groupData={});var l=s.getColId(),c=this.groupData[l];c!==i&&(this.groupData[l]=i,this.dispatchCellChangedEvent(s,i,c))},u.prototype.setAggData=function(o){var i=this,s=ie([this.aggData,o]),l=this.aggData;this.aggData=o,this.eventService&&s.forEach(function(c){var p=i.beans.columnModel.getGridColumn(c);i.dispatchCellChangedEvent(p,i.aggData?i.aggData[c]:void 0,l?l[c]:void 0)})},u.prototype.updateHasChildren=function(){var o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;o!==this.__hasChildren&&(this.__hasChildren=!!o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HAS_CHILDREN_CHANGED)))},u.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},u.prototype.isEmptyRowGroupNode=function(){return this.group&&x(this.childrenAfterGroup)},u.prototype.dispatchCellChangedEvent=function(o,i,s){this.dispatchLocalEvent({type:u.EVENT_CELL_CHANGED,node:this,column:o,newValue:i,oldValue:s})},u.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},u.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},u.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},u.prototype.depthFirstSearch=function(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(i){return i.depthFirstSearch(o)}),o(this)},u.prototype.calculateSelectedFromChildren=function(){var o,i=!1,s=!1,l=!1;if(null===(o=this.childrenAfterGroup)||void 0===o?void 0:o.length){for(var p=0;p<this.childrenAfterGroup.length;p++){var v=this.childrenAfterGroup[p];if(v.selectable)switch(v.isSelected()){case!0:i=!0;break;case!1:s=!0;break;default:l=!0}}this.selectThisNode(l?void 0:!(!i||s)||!(!i&&s)&&void 0)}},u.prototype.setSelectedInitialValue=function(o){this.selected=o},u.prototype.setSelected=function(o,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),this.setSelectedParams({newValue:o,clearSelection:i,suppressFinishActions:s,rangeSelect:!1})},u.prototype.isRowPinned=function(){return this.rowPinned===Ie.PINNED_TOP||this.rowPinned===Ie.PINNED_BOTTOM},u.prototype.setSelectedParams=function(o){var i,s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),l=!0===o.newValue,c=!0===o.clearSelection,p=!0===o.suppressFinishActions,v=!0===o.rangeSelect,M=s&&!0===o.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(o);if(v&&this.beans.selectionService.getLastSelectedNode()){var L=this.beans.selectionService.getLastSelectedNode()!==this,Y=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(L&&Y){var re=this.doRowRangeSelection(o.newValue);return this.beans.selectionService.setLastSelectedNode(this),re}}var de=0;return M&&this.group||this.selectThisNode(l)&&de++,s&&(null===(i=this.childrenAfterGroup)||void 0===i?void 0:i.length)&&(de+=this.selectChildNodes(l,M)),p||(l&&(c||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(de+=this.beans.selectionService.clearOtherNodes(this)),de>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),l&&this.beans.selectionService.setLastSelectedNode(this)),de},u.prototype.doRowRangeSelection=function(o){var i=this;void 0===o&&(o=!0);var s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),l=this.beans.selectionService.getLastSelectedNode(),c=this.beans.rowModel.getNodesInRangeForSelection(this,l),p=0;return c.forEach(function(M){M.group&&s||!1===o&&i===M||M.selectThisNode(o)&&p++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),p},u.prototype.isParentOfNode=function(o){for(var i=this.parent;i;){if(i===o)return!0;i=i.parent}return!1},u.prototype.selectThisNode=function(o){if(!this.selectable&&o||this.selected===o)return!1;this.selected=o,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_ROW_SELECTED));var l=this.createGlobalRowEvent(xe.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(l),!0},u.prototype.selectChildNodes=function(o,i){var s=i?this.childrenAfterAggFilter:this.childrenAfterGroup;if(O(s))return 0;for(var l=0,c=0;c<s.length;c++)l+=s[c].setSelectedParams({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i});return l},u.prototype.addEventListener=function(o,i){this.eventService||(this.eventService=new Zo),this.eventService.addEventListener(o,i)},u.prototype.removeEventListener=function(o,i){!this.eventService||(this.eventService.removeEventListener(o,i),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},u.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_ENTER))},u.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_LEAVE))},u.prototype.getFirstChildOfFirstChild=function(o){for(var i=this,s=!0,l=!1,c=null;s&&!l;){var p=i.parent;I(p)&&i.firstChild?p.rowGroupColumn===o&&(l=!0,c=p):s=!1,i=p}return l?c:null},u.prototype.isFullWidthCell=function(){var o=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!o&&o({rowNode:this})},u.prototype.getRoute=function(){if(null!=this.key){for(var o=[],i=this;null!=i.key;)o.push(i.key),i=i.parent;return o.reverse()}},u.ID_PREFIX_ROW_GROUP="row-group-",u.ID_PREFIX_TOP_PINNED="t-",u.ID_PREFIX_BOTTOM_PINNED="b-",u.OBJECT_ID_SEQUENCE=0,u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_DATA_CHANGED="dataChanged",u.EVENT_CELL_CHANGED="cellChanged",u.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",u.EVENT_MASTER_CHANGED="masterChanged",u.EVENT_GROUP_CHANGED="groupChanged",u.EVENT_MOUSE_ENTER="mouseEnter",u.EVENT_MOUSE_LEAVE="mouseLeave",u.EVENT_HEIGHT_CHANGED="heightChanged",u.EVENT_TOP_CHANGED="topChanged",u.EVENT_DISPLAYED_CHANGED="displayedChanged",u.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",u.EVENT_LAST_CHILD_CHANGED="lastChildChanged",u.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",u.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",u.EVENT_SELECTABLE_CHANGED="selectableChanged",u.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",u.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",u.EVENT_DRAGGING_CHANGED="draggingChanged",u}(),Lx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sy=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},op=function(u){function o(){return u.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Lx(o,u),o.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},o.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},o.prototype.onDataChanged=function(){this.onSelectionChanged()},o.prototype.onSelectableChanged=function(){this.showOrHideSelect()},o.prototype.onSelectionChanged=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.rowNode.isSelected(),l=void 0===s?i("ariaIndeterminate","indeterminate"):!0===s?i("ariaChecked","checked"):i("ariaUnchecked","unchecked"),c=i("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(s,!0),this.eCheckbox.setInputAriaLabel(c+" ("+l+")")},o.prototype.onCheckedClicked=function(i){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:i.shiftKey,groupSelectsFiltered:s})},o.prototype.onUncheckedClicked=function(i){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:i.shiftKey,groupSelectsFiltered:s})},o.prototype.init=function(i){var s=this;if(this.rowNode=i.rowNode,this.column=i.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(v){return il(v)}),this.addGuiEventListener("dblclick",function(v){return il(v)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(v){var M=s.eCheckbox.getValue();void 0===s.eCheckbox.getPreviousValue()||void 0===M?0===s.onUncheckedClicked(v||{})&&s.onCheckedClicked(v):M?s.onCheckedClicked(v):s.onUncheckedClicked(v||{})}),this.addManagedListener(this.rowNode,mn.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var p=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,p),this.addManagedListener(this.rowNode,mn.EVENT_DATA_CHANGED,p),this.addManagedListener(this.rowNode,mn.EVENT_CELL_CHANGED,p),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},o.prototype.showOrHideSelect=function(){var i=this.rowNode.selectable;i&&this.checkboxCallbackExists()&&(i=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(i)},o.prototype.checkboxCallbackExists=function(){var i=this.column?this.column.getColDef():null;return!!i&&"function"==typeof i.checkboxSelection},Sy([st("eCheckbox")],o.prototype,"eCheckbox",void 0),Sy([Xe],o.prototype,"postConstruct",null),o}(un),WR=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Pc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Gx=function(u){var o="function"==typeof Symbol&&Symbol.iterator,i=o&&u[o],s=0;if(i)return i.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(u){u[u.ToolPanel=0]="ToolPanel",u[u.HeaderCell=1]="HeaderCell",u[u.RowDrag=2]="RowDrag",u[u.ChartPanel=3]="ChartPanel"})(j.rvo||(j.rvo={})),function(u){u[u.Up=0]="Up",u[u.Down=1]="Down"}(j.HO_||(j.HO_={})),function(u){u[u.Left=0]="Left",u[u.Right=1]="Right"}(j.poj||(j.poj={}));var ar=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.dragSourceAndParamsList=[],s.dropTargets=[],s}var i;return WR(o,u),i=o,o.prototype.init=function(){this.ePinnedIcon=ts("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=ts("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=ts("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=ts("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=ts("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=ts("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=ts("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=ts("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=ts("dropNotAllowed",this.gridOptionsWrapper,null)},o.prototype.addDragSource=function(s,l){void 0===l&&(l=!1);var c={eElement:s.eElement,dragStartPixels:s.dragStartPixels,onDragStart:this.onDragStart.bind(this,s),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:c,dragSource:s}),this.dragService.addDragSource(c,l)},o.prototype.removeDragSource=function(s){var l=this.dragSourceAndParamsList.find(function(c){return c.dragSource===s});l&&(this.dragService.removeDragSource(l.params),si(this.dragSourceAndParamsList,l))},o.prototype.clearDragSourceParamsList=function(){var s=this;this.dragSourceAndParamsList.forEach(function(l){return s.dragService.removeDragSource(l.params)}),this.dragSourceAndParamsList.length=0},o.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},o.prototype.onDragStart=function(s,l){this.dragging=!0,this.dragSource=s,this.eventLastTime=l,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},o.prototype.onDragStop=function(s){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var l=this.createDropTargetEvent(this.lastDropTarget,s,null,null,!1);this.lastDropTarget.onDragStop(l)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},o.prototype.onDragging=function(s,l){var c=this,p=this.getHorizontalDirection(s),v=this.getVerticalDirection(s);this.eventLastTime=s,this.positionGhost(s);var M=this.dropTargets.filter(function(de){return c.isMouseOnDropTarget(s,de)}),L=M.length,Y=null;if(L>0&&(Y=1===L?M[0]:M.reduce(function(de,be){if(!de)return be;var Ce=de.getContainer(),Re=be.getContainer();return Ce.contains(Re)?be:de})),Y!==this.lastDropTarget)this.leaveLastTargetIfExists(s,p,v,l),this.enterDragTargetIfExists(Y,s,p,v,l),this.lastDropTarget=Y;else if(Y&&Y.onDragging){var re=this.createDropTargetEvent(Y,s,p,v,l);Y.onDragging(re)}},o.prototype.enterDragTargetIfExists=function(s,l,c,p,v){if(s){if(s.onDragEnter){var M=this.createDropTargetEvent(s,l,c,p,v);s.onDragEnter(M)}this.setGhostIcon(s.getIconName?s.getIconName():null)}},o.prototype.leaveLastTargetIfExists=function(s,l,c,p){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var v=this.createDropTargetEvent(this.lastDropTarget,s,l,c,p);this.lastDropTarget.onDragLeave(v)}this.setGhostIcon(null)}},o.prototype.getAllContainersFromDropTarget=function(s){var l=s.getSecondaryContainers?s.getSecondaryContainers():null,c=[[s.getContainer()]];return l?c.concat(l):c},o.prototype.allContainersIntersect=function(s,l){var c,p;try{for(var v=Gx(l),M=v.next();!M.done;M=v.next()){var Y=M.value.getBoundingClientRect();if(0===Y.width||0===Y.height)return!1;if(!(s.clientX>=Y.left&&s.clientX<Y.right&&s.clientY>=Y.top&&s.clientY<Y.bottom))return!1}}catch(be){c={error:be}}finally{try{M&&!M.done&&(p=v.return)&&p.call(v)}finally{if(c)throw c.error}}return!0},o.prototype.isMouseOnDropTarget=function(s,l){var c,p,v=this.getAllContainersFromDropTarget(l),M=!1;try{for(var L=Gx(v),Y=L.next();!Y.done;Y=L.next())if(this.allContainersIntersect(s,Y.value)){M=!0;break}}catch(de){c={error:de}}finally{try{Y&&!Y.done&&(p=L.return)&&p.call(L)}finally{if(c)throw c.error}}return!(l.targetContainsSource&&!l.getContainer().contains(this.dragSource.eElement))&&M&&l.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},o.prototype.addDropTarget=function(s){this.dropTargets.push(s)},o.prototype.removeDropTarget=function(s){this.dropTargets=this.dropTargets.filter(function(l){return l.getContainer()!==s.getContainer()})},o.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(s){return s.external})},o.prototype.findExternalZone=function(s){return this.dropTargets.filter(function(c){return c.external}).find(function(c){return c.getContainer()===s.getContainer()})||null},o.prototype.getHorizontalDirection=function(s){var l=this.eventLastTime&&this.eventLastTime.clientX,c=s.clientX;return l===c?null:l>c?j.poj.Left:j.poj.Right},o.prototype.getVerticalDirection=function(s){var l=this.eventLastTime&&this.eventLastTime.clientY,c=s.clientY;return l===c?null:l>c?j.HO_.Up:j.HO_.Down},o.prototype.createDropTargetEvent=function(s,l,c,p,v){var M=s.getContainer(),L=M.getBoundingClientRect(),Y=this;return{event:l,x:l.clientX-L.left,y:l.clientY-L.top,vDirection:p,hDirection:c,dragSource:Y.dragSource,fromNudge:v,dragItem:Y.dragItem,api:Y.gridApi,columnApi:Y.columnApi,dropZoneTarget:M}},o.prototype.positionGhost=function(s){var l=this.eGhost;if(l){var p=l.getBoundingClientRect().height,v=sx()-2,M=ol()-2,L=s.pageY-p/2,Y=s.pageX-10,re=this.gridOptionsWrapper.getDocument(),de=re.defaultView||window,be=de.pageYOffset||re.documentElement.scrollTop,Ce=de.pageXOffset||re.documentElement.scrollLeft;v>0&&Y+l.clientWidth>v+Ce&&(Y=v+Ce-l.clientWidth),Y<0&&(Y=0),M>0&&L+l.clientHeight>M+be&&(L=M+be-l.clientHeight),L<0&&(L=0),l.style.left=Y+"px",l.style.top=L+"px"}},o.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},o.prototype.createGhost=function(){this.eGhost=Si(i.GHOST_TEMPLATE);var s=this.environment.getTheme().theme;s&&this.eGhost.classList.add(s),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var l=this.eGhost.querySelector(".ag-dnd-ghost-label"),c=this.dragSource.dragItemName;Ct(c)&&(c=c()),l.innerHTML=sn(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var p=this.gridOptionsWrapper.getDocument(),v=null;try{v=p.fullscreenElement}catch(M){}finally{v||(v=p.querySelector("body"))}this.eGhostParent=v,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},o.prototype.setGhostIcon=function(s,l){void 0===l&&(l=!1),gt(this.eGhostIcon);var c=null;switch(s||(s=this.dragSource.defaultIconName||i.ICON_NOT_ALLOWED),s){case i.ICON_PINNED:c=this.ePinnedIcon;break;case i.ICON_MOVE:c=this.eMoveIcon;break;case i.ICON_LEFT:c=this.eLeftIcon;break;case i.ICON_RIGHT:c=this.eRightIcon;break;case i.ICON_GROUP:c=this.eGroupIcon;break;case i.ICON_AGGREGATE:c=this.eAggregateIcon;break;case i.ICON_PIVOT:c=this.ePivotIcon;break;case i.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case i.ICON_HIDE:c=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",l),(c!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&c&&this.eGhostIcon.appendChild(c)},o.ICON_PINNED="pinned",o.ICON_MOVE="move",o.ICON_LEFT="left",o.ICON_RIGHT="right",o.ICON_GROUP="group",o.ICON_AGGREGATE="aggregate",o.ICON_PIVOT="pivot",o.ICON_NOT_ALLOWED="notAllowed",o.ICON_HIDE="hide",o.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Pc([le("dragService")],o.prototype,"dragService",void 0),Pc([le("environment")],o.prototype,"environment",void 0),Pc([le("columnApi")],o.prototype,"columnApi",void 0),Pc([le("gridApi")],o.prototype,"gridApi",void 0),Pc([Xe],o.prototype,"init",null),Pc([Yt],o.prototype,"clearDragSourceParamsList",null),i=Pc([at("dragAndDropService")],o)}(dt),Rg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Mi=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ic=function(u){function o(i,s,l,c,p,v){var M=u.call(this)||this;return M.cellValueFn=i,M.rowNode=s,M.column=l,M.customGui=c,M.dragStartPixels=p,M.suppressVisibilityChange=v,M.dragSource=null,M}return Rg(o,u),o.prototype.isCustomGui=function(){return null!=this.customGui},o.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Rn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var i=this.beans.gridOptionsWrapper.isRowDragManaged()?new Bx(this,this.beans,this.rowNode,this.column):new UR(this,this.beans,this.rowNode,this.column);this.createManagedBean(i,this.beans.context)}},o.prototype.setDragElement=function(i,s){this.setTemplateFromElement(i),this.addDragSource(s)},o.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var s=this.beans.selectionService.getSelectedNodes();return-1!==s.indexOf(this.rowNode)?s.length:1},o.prototype.checkCompatibility=function(){var i=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&i&&We(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},o.prototype.addDragSource=function(i){var s=this;void 0===i&&(i=4),this.dragSource&&this.removeDragSource();var l={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},c=this.column&&this.column.getColDef().rowDragText,p=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:j.rvo.RowDrag,eElement:this.getGui(),dragItemName:function(){var v=s.getSelectedCount();return c?c(l,v):1===v?s.cellValueFn():v+" "+p("rowDragRows","rows")},getDragItem:function(){return l},dragStartPixels:i,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},o.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Mi([le("beans")],o.prototype,"beans",void 0),Mi([Xe],o.prototype,"postConstruct",null),Mi([Yt],o.prototype,"removeDragSource",null),o}(un),Mc=function(u){function o(i,s,l){var c=u.call(this)||this;return c.parent=i,c.rowNode=s,c.column=l,c}return Rg(o,u),o.prototype.setDisplayedOrVisible=function(i){if(i)this.parent.setDisplayed(!1);else{var s=!0,l=!1;this.column&&(s=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),l=Ct(this.column.getColDef().rowDrag)),l?(this.parent.setDisplayed(!0),this.parent.setVisible(s)):(this.parent.setDisplayed(s),this.parent.setVisible(!0))}},o}(dt),UR=function(u){function o(i,s,l,c){var p=u.call(this,i,l,c)||this;return p.beans=s,p}return Rg(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var i=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(i)},Mi([Xe],o.prototype,"postConstruct",null),o}(Mc),Bx=function(u){function o(i,s,l,c){var p=u.call(this,i,l,c)||this;return p.beans=s,p}return Rg(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,xe.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,xe.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var s=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),l=s&&s.shouldPreventRowMove(),c=this.beans.gridOptionsWrapper.isSuppressRowDrag(),p=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(l&&!p||c)},Mi([Xe],o.prototype,"postConstruct",null),o}(Mc),$o=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xo=function(){return xo=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},xo.apply(this,arguments)},Nc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},nd=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return $o(o,u),o.prototype.init=function(i,s,l,c,p,v,M){this.params=M,this.eGui=s,this.eCheckbox=l,this.eExpanded=c,this.eContracted=p,this.comp=i,this.compClass=v;var L=this.isTopLevelFooter(),Y=this.isEmbeddedRowMismatch(),re=null==M.value,de=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var be=M.node;be.footer&&(de=(M.colDef&&M.colDef.showRowGroup)!==(be.rowGroupColumn&&be.rowGroupColumn.getColId()))}this.cellIsBlank=!L&&(Y||re||de),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.expandListener=null},o.prototype.refreshAriaExpanded=function(){var i=this.params,s=i.node,l=i.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var c=function(){Go(l,!!s.expanded)};this.expandListener=this.addManagedListener(s,mn.EVENT_EXPANDED_CHANGED,c)||null,c()}else hx(l)},o.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var i=this.params.colDef;if(null==i||!0===i.showRowGroup)return!0;var l=this.columnModel.getRowGroupColumns();return!l||0===l.length||l[0].getId()===i.showRowGroup},o.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var i=this.params.pinned===Ie.PINNED_LEFT,s=this.params.pinned===Ie.PINNED_RIGHT,l=!i&&!s;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!s:!l:this.columnModel.isPinningLeft()?!i:!l},o.prototype.findDisplayedGroupNode=function(){var i=this.params.column,s=this.params.node;if(this.showingValueForOpenedParent)for(var l=s.parent;null!=l;){if(l.rowGroupColumn&&i.isRowGroupDisplayed(l.rowGroupColumn.getId())){this.displayedGroupNode=l;break}l=l.parent}O(this.displayedGroupNode)&&(this.displayedGroupNode=s)},o.prototype.setupShowingValueForOpenedParent=function(){var i=this.params.node,s=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(i.groupData){if(null!=i.rowGroupColumn){var c=i.rowGroupColumn.getId();if(s.isRowGroupDisplayed(c))return void(this.showingValueForOpenedParent=!1)}var v=null!=i.groupData[s.getId()];this.showingValueForOpenedParent=v}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},o.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},o.prototype.addGroupValue=function(){var i=this.adjustParamsWithDetailsFromRelatedColumn(),s=this.getInnerCompDetails(i),l=i.valueFormatted;this.comp.setInnerRenderer(s,null!=l?l:i.value)},o.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var i=this.displayedGroupNode.rowGroupColumn,s=this.params.column;if(!i)return this.params;if(null!=s&&!s.isRowGroupDisplayed(i.getId()))return this.params;var p=this.params,v=this.params,Y=this.valueFormatterService.formatValue(i,v.node,v.value);return xo(xo({},p),{valueFormatted:Y})},o.prototype.addFooterValue=function(){var i=this.params.footerValueGetter,s="";if(i){var l=F(this.params);l.value=this.params.value,"function"==typeof i?s=i(l):"string"==typeof i?s=this.expressionService.evaluate(i,l):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else s="Total "+(null!=this.params.value?this.params.value:"");var c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,s)},o.prototype.getInnerCompDetails=function(i){var s=this;if(i.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,i);var l=this.userComponentFactory.getInnerRendererDetails(i,i),c=function(Y){return Y&&Y.componentClass==s.compClass};if(l&&!c(l))return l;var p=this.displayedGroupNode.rowGroupColumn,v=p?p.getColDef():void 0;if(v){var M=this.userComponentFactory.getCellRendererDetails(v,i);if(M&&!c(M))return M;if(c(M)&&v.cellRendererParams&&v.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(v.cellRendererParams,i)}},o.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,mn.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},o.prototype.updateChildCount=function(){var i=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow();this.comp.setChildCount(s&&null!=i&&i>=0?"("+i+")":"")},o.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var i=this.displayedGroupNode.rowGroupColumn;if(!i)return!1;var s=this.params.column;return null==s||s.isRowGroupDisplayed(i.getId())},o.prototype.addExpandAndContract=function(){var i=this.params,s=Rn("groupExpanded",this.gridOptionsWrapper,null),l=Rn("groupContracted",this.gridOptionsWrapper,null);s&&this.eExpanded.appendChild(s),l&&this.eContracted.appendChild(l);var c=i.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!i.suppressDoubleClickExpand&&this.addManagedListener(c,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(c,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(i.node,mn.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var p=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,mn.EVENT_ALL_CHILDREN_COUNT_CHANGED,p),this.addManagedListener(this.displayedGroupNode,mn.EVENT_MASTER_CHANGED,p),this.addManagedListener(this.displayedGroupNode,mn.EVENT_GROUP_CHANGED,p),this.addManagedListener(this.displayedGroupNode,mn.EVENT_HAS_CHILDREN_CHANGED,p)},o.prototype.onExpandClicked=function(i){No(i)||(il(i),this.onExpandOrContract(i))},o.prototype.onExpandOrContract=function(i){var s=this.displayedGroupNode;s.setExpanded(!s.expanded,i)},o.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var i=this.displayedGroupNode,s=this.columnModel.isPivotMode()&&i.leafGroup;if(!i.isExpandable()||i.footer||s)return!1;var c=this.params.column;return null==c||"string"!=typeof c.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},o.prototype.showExpandAndContractIcons=function(){var i=this,l=i.displayedGroupNode,c=i.columnModel,p=i.params.node,v=this.isExpandable();if(v){var M=!!this.showingValueForOpenedParent||p.expanded;this.comp.setExpandedDisplayed(M),this.comp.setContractedDisplayed(!M)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var L=c.isPivotMode(),Y=L&&l.leafGroup,re=v&&!Y,de=p.footer&&-1===p.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",re),this.comp.addOrRemoveCssClass("ag-row-group",re),L?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",Y):de||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!re)},o.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},o.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,mn.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},o.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var i=this.params,s=i.node,l=!!i.colDef,c=this.gridOptionsWrapper.isTreeData(),v=!l||c||!0===i.colDef.showRowGroup?s.uiLevel:0;i.padding>=0&&We(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+v,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},o.prototype.addFullWidthRowDraggerIfNeeded=function(){var i=this;if(this.params.fullWidth&&this.params.rowDrag){var s=new Ic(function(){return i.params.value},this.params.node);this.createManagedBean(s,this.context),this.eGui.insertAdjacentElement("afterbegin",s.getGui())}},o.prototype.isUserWantsSelected=function(){var i=this.params.checkbox;return"function"==typeof i?i(this.params):!0===i},o.prototype.addCheckboxIfNeeded=function(){var i=this,s=this.displayedGroupNode,l=this.isUserWantsSelected()&&!s.footer&&!s.rowPinned&&!s.detail;if(l){var c=new op;this.getContext().createBean(c),c.init({rowNode:s,column:this.params.column}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(function(){return i.getContext().destroyBean(c)})}this.comp.setCheckboxVisible(l)},o.prototype.onKeyDown=function(i){i.key!==lt.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(i)},o.prototype.onCellDblClicked=function(i){No(i)||Pu(this.eExpanded,i)||Pu(this.eContracted,i)||this.onExpandOrContract(i)},Nc([le("expressionService")],o.prototype,"expressionService",void 0),Nc([le("valueFormatterService")],o.prototype,"valueFormatterService",void 0),Nc([le("columnModel")],o.prototype,"columnModel",void 0),Nc([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Nc([le("gridOptions")],o.prototype,"gridOptions",void 0),o}(dt),id=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Og=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return id(o,u),o.prototype.init=function(i){var s=this,l={setInnerRenderer:function(M,L){return s.setRenderDetails(M,L)},setChildCount:function(M){return s.eChildCount.innerHTML=M},addOrRemoveCssClass:function(M,L){return s.addOrRemoveCssClass(M,L)},setContractedDisplayed:function(M){return ai(s.eContracted,M)},setExpandedDisplayed:function(M){return ai(s.eExpanded,M)},setCheckboxVisible:function(M){return s.eCheckbox.classList.toggle("ag-invisible",!M)}},c=this.createManagedBean(new nd),p=!i.colDef,v=this.getGui();c.init(l,v,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,i),p&&rr(v,"gridcell")},o.prototype.setRenderDetails=function(i,s){var l=this;if(i){var c=i.newAgStackInstance();if(!c)return;c.then(function(p){if(p){var v=function(){return l.context.destroyBean(p)};l.isAlive()?(l.eValue.appendChild(p.getGui()),l.addDestroyFunc(v)):v()}})}else this.eValue.innerText=s},o.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),u.prototype.destroy.call(this)},o.prototype.refresh=function(){return!1},o.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Fc([st("eExpanded")],o.prototype,"eExpanded",void 0),Fc([st("eContracted")],o.prototype,"eContracted",void 0),Fc([st("eCheckbox")],o.prototype,"eCheckbox",void 0),Fc([st("eValue")],o.prototype,"eValue",void 0),Fc([st("eChildCount")],o.prototype,"eChildCount",void 0),o}(un),Vx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Hx=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},zR=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return Vx(o,u),o.prototype.init=function(i){i.node.failedLoad?this.setupFailed():this.setupLoading()},o.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},o.prototype.setupLoading=function(){var i=Rn("groupLoading",this.gridOptionsWrapper,null);i&&this.eLoadingIcon.appendChild(i);var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=s("loadingOoo","Loading")},o.prototype.refresh=function(i){return!1},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Hx([st("eLoadingIcon")],o.prototype,"eLoadingIcon",void 0),Hx([st("eLoadingText")],o.prototype,"eLoadingText",void 0),o}(un),Ty=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),So=function(u){function o(){return u.call(this)||this}return Ty(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){var s=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():o.DEFAULT_LOADING_OVERLAY_TEMPLATE,l=this.gridOptionsWrapper.getLocaleTextFunc(),c=s.replace("[LOADING...]",l("loadingOoo","Loading..."));this.setTemplate(c)},o.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',o}(un),kg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Lc=function(u){function o(){return u.call(this)||this}return kg(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(i){var s=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():o.DEFAULT_NO_ROWS_TEMPLATE,l=this.gridOptionsWrapper.getLocaleTextFunc(),c=s.replace("[NO_ROWS_TO_SHOW]",l("noRowsToShow","No Rows To Show"));this.setTemplate(c)},o.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',o}(un),YR=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ey=function(u){function o(){return u.call(this,'<div class="ag-tooltip"></div>')||this}return YR(o,u),o.prototype.init=function(i){var s=i.value;this.getGui().innerHTML=sn(s)},o}(gl),jx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),sp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Dy=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.agGridDefaults={agDateInput:py,agColumnHeader:np,agColumnGroupHeader:vy,agTextColumnFloatingFilter:_y,agNumberColumnFloatingFilter:my,agDateColumnFloatingFilter:jR,agReadOnlyFloatingFilter:Ur,agAnimateShowChangeCellRenderer:vl,agAnimateSlideCellRenderer:Kt,agGroupCellRenderer:Og,agGroupRowRenderer:Og,agLoadingCellRenderer:zR,agCellEditor:Rc,agTextCellEditor:Rc,agSelectCellEditor:Tg,agPopupTextCellEditor:_l,agPopupSelectCellEditor:Eg,agLargeTextCellEditor:by,agTextColumnFilter:Js,agNumberColumnFilter:ep,agDateColumnFilter:yg,agLoadingOverlay:So,agNoRowsOverlay:Lc,agTooltipComponent:Ey},i.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},i.jsComps={},i.fwComps={},i}return jx(o,u),o.prototype.init=function(){var i=this;null!=this.gridOptions.components&&E(this.gridOptions.components,function(s,l){return i.registerJsComponent(s,l)}),null!=this.gridOptions.frameworkComponents&&E(this.gridOptions.frameworkComponents,function(s,l){return i.registerFwComponent(s,l)})},o.prototype.registerDefaultComponent=function(i,s){var l=this.translateIfDeprecated(i);this.agGridDefaults[l]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[l]=s},o.prototype.registerJsComponent=function(i,s){var l=this.translateIfDeprecated(i);this.fwComps[l]?console.error("Trying to register a component that you have already registered for frameworks: "+l):this.jsComps[l]=s},o.prototype.registerFwComponent=function(i,s){We(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var c=this.translateIfDeprecated(i);this.fwComps[c]=s},o.prototype.retrieve=function(i){var s=this.translateIfDeprecated(i),l=function(Y,re){return{componentFromFramework:re,component:Y}},c=this.getFrameworkOverrides().frameworkComponent(s);if(null!=c)return l(c,!0);var p=this.fwComps[s];if(p)return l(p,!0);var v=this.jsComps[s];if(v)return l(v,this.getFrameworkOverrides().isFrameworkComponent(v));var L=this.agGridDefaults[s];return L?l(L,!1):(Object.keys(this.agGridDefaults).indexOf(s)<0&&console.warn("AG Grid: Looking for component ["+s+"] but it wasn't found."),null)},o.prototype.translateIfDeprecated=function(i){var s=this.agDeprecatedNames[i];return null!=s?(We(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+s.propertyHolder+":"+i+" to "+s.propertyHolder+":"+s.newComponentName)},"DEPRECATE_COMPONENT_"+i),s.newComponentName):i},sp([le("gridOptions")],o.prototype,"gridOptions",void 0),sp([le("agComponentUtils")],o.prototype,"agComponentUtils",void 0),sp([Xe],o.prototype,"init",null),sp([at("userComponentRegistry")],o)}(dt),$x={propertyName:"dateComponent",cellRenderer:!1},Wx={propertyName:"headerComponent",cellRenderer:!1},Ay={propertyName:"headerGroupComponent",cellRenderer:!1},ap={propertyName:"cellRenderer",cellRenderer:!0},lp={propertyName:"cellEditor",cellRenderer:!1},Ux={propertyName:"innerRenderer",cellRenderer:!0},rd={propertyName:"loadingOverlayComponent",cellRenderer:!1},Pg={propertyName:"noRowsOverlayComponent",cellRenderer:!1},cp={propertyName:"tooltipComponent",cellRenderer:!1},Ig={propertyName:"filter",cellRenderer:!1},zx={propertyName:"floatingFilterComponent",cellRenderer:!1},Yx={propertyName:"toolPanel",cellRenderer:!1},Ry={propertyName:"statusPanel",cellRenderer:!1},Kx={propertyName:"fullWidthCellRenderer",cellRenderer:!0},od={propertyName:"loadingCellRenderer",cellRenderer:!0},Oy={propertyName:"groupRowRenderer",cellRenderer:!0},qx={propertyName:"detailCellRenderer",cellRenderer:!0},Qe=function(){function u(){}return u.getFloatingFilterType=function(o){return this.filterToFloatingFilterMapping[o]},u.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},u}(),ky=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},up=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ky(o,u),o.prototype.getHeaderCompDetails=function(i,s){return this.getCompDetails(i,Wx,"agColumnHeader",s)},o.prototype.getHeaderGroupCompDetails=function(i){var s=i.columnGroup.getColGroupDef();return this.getCompDetails(s,Ay,"agColumnGroupHeader",i)},o.prototype.getFullWidthCellRendererDetails=function(i){return this.getCompDetails(this.gridOptions,Kx,null,i,!0)},o.prototype.getFullWidthLoadingCellRendererDetails=function(i){return this.getCompDetails(this.gridOptions,od,"agLoadingCellRenderer",i,!0)},o.prototype.getFullWidthGroupCellRendererDetails=function(i){return this.getCompDetails(this.gridOptions,Oy,"agGroupRowRenderer",i,!0)},o.prototype.getFullWidthDetailCellRendererDetails=function(i){return this.getCompDetails(this.gridOptions,qx,"agDetailCellRenderer",i,!0)},o.prototype.getInnerRendererDetails=function(i,s){return this.getCompDetails(i,Ux,null,s)},o.prototype.getFullWidthGroupRowInnerCellRenderer=function(i,s){return this.getCompDetails(i,Ux,null,s)},o.prototype.getCellRendererDetails=function(i,s){return this.getCompDetails(i,ap,null,s)},o.prototype.getCellEditorDetails=function(i,s){return this.getCompDetails(i,lp,"agCellEditor",s,!0)},o.prototype.getFilterDetails=function(i,s,l){return this.getCompDetails(i,Ig,l,s,!0)},o.prototype.getDateCompDetails=function(i){return this.getCompDetails(this.gridOptions,$x,"agDateInput",i,!0)},o.prototype.getLoadingOverlayCompDetails=function(i){return this.getCompDetails(this.gridOptions,rd,"agLoadingOverlay",i,!0)},o.prototype.getNoRowsOverlayCompDetails=function(i){return this.getCompDetails(this.gridOptions,Pg,"agNoRowsOverlay",i,!0)},o.prototype.getTooltipCompDetails=function(i){return this.getCompDetails(i.colDef,cp,"agTooltipComponent",i,!0)},o.prototype.getSetFilterCellRendererDetails=function(i,s){return this.getCompDetails(i,ap,null,s)},o.prototype.getFloatingFilterCompDetails=function(i,s,l){return this.getCompDetails(i,zx,l,s)},o.prototype.getToolPanelCompDetails=function(i,s){return this.getCompDetails(i,Yx,null,s,!0)},o.prototype.getStatusPanelCompDetails=function(i,s){return this.getCompDetails(i,Ry,null,s,!0)},o.prototype.getCompDetails=function(i,s,l,c,p){var v=this;void 0===p&&(p=!1);var M=s.propertyName,L=s.cellRenderer,Y=this.getCompKeys(i,s,c),re=Y.compName,de=Y.jsComp,be=Y.fwComp,Ce=Y.paramsFromSelector,Re=Y.popupFromSelector,Ge=Y.popupPositionFromSelector,Ze=function(Bt){var Sn=v.userComponentRegistry.retrieve(Bt);Sn&&(de=Sn.componentFromFramework?void 0:Sn.component,be=Sn.componentFromFramework?Sn.component:void 0)};if(null!=re&&Ze(re),null==de&&null==be&&null!=l&&Ze(l),de&&L&&!this.agComponentUtils.doesImplementIComponent(de)&&(de=this.agComponentUtils.adaptFunction(M,de)),de||be){var He=this.mergeParamsWithApplicationProvidedParams(i,s,c,Ce),Ke=null==de,pt=de||be;return{componentFromFramework:Ke,componentClass:pt,params:He,type:s,popupFromSelector:Re,popupPositionFromSelector:Ge,newAgStackInstance:function(){return v.newAgStackInstance(pt,Ke,He,s)}}}p&&console.error("Could not find component "+re+", did you forget to configure this component?")},o.prototype.getCompKeys=function(i,s,l){var v,M,L,Y,re,de,c=this,p=s.propertyName;if(i){var be=i,Ce=be[p+"Selector"],Re=Ce?Ce(l):null,Ge=function(He,Ke){var pt=function(){var Sn="AG Grid: As of v27, the property "+p+"Framework is deprecated. The property "+p+" can now be used for JavaScript AND Framework Components.";We(function(){return console.warn(Sn)},"UserComponentFactory."+p+"FrameworkDeprecated")};"string"==typeof He?v=He:"string"==typeof Ke?(pt(),v=Ke):null!=He&&!0!==He?c.getFrameworkOverrides().isFrameworkComponent(He)?L=He:M=He:null!=Ke&&(pt(),L=Ke)};if(Re){if(null!=Re.frameworkComponent){var Ze="AG Grid: As of v27, the return for "+p+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";We(function(){return console.warn(Ze)},"UserComponentFactory."+p+"FrameworkSelectorDeprecated"),Ge(Re.frameworkComponent,void 0)}else Ge(Re.component,void 0);Y=Re.params,re=Re.popup,de=Re.popupPosition}else Ge(be[p],be[p+"Framework"])}return{compName:v,jsComp:M,fwComp:L,paramsFromSelector:Y,popupFromSelector:re,popupPositionFromSelector:de}},o.prototype.newAgStackInstance=function(i,s,l,c){var M;if(s){var L=this.componentMetadataProvider.retrieve(c.propertyName);M=this.frameworkComponentWrapper.wrap(i,L.mandatoryMethodList,L.optionalMethodList,c)}else M=new i;var Y=this.initComponent(M,l);return null==Y?ro.resolve(M):Y.then(function(){return M})},o.prototype.mergeParamsWithApplicationProvidedParams=function(i,s,l,c){void 0===c&&(c=null);var p={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};Q(p,l);var M=i&&i[s.propertyName+"Params"];return"function"==typeof M?Q(p,M(l)):"object"==typeof M&&Q(p,M),Q(p,c),p},o.prototype.initComponent=function(i,s){if(this.context.createBean(i),null!=i.init)return i.init(s)},o.prototype.getDefaultFloatingFilterType=function(i){if(null==i)return null;var s=null,l=this.getCompKeys(i,Ig),c=l.compName,p=l.jsComp,v=l.fwComp;return c?s=Qe.getFloatingFilterType(c):null==p&&null==v&&!0===i.filter&&(s=Le.isRegistered(j.GXE.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),s},yl([le("gridOptions")],o.prototype,"gridOptions",void 0),yl([le("agComponentUtils")],o.prototype,"agComponentUtils",void 0),yl([le("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),yl([le("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),yl([fn("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),yl([at("userComponentFactory")],o)}(dt);!function(u){u[u.SINGLE_SHEET=0]="SINGLE_SHEET",u[u.MULTI_SHEET=1]="MULTI_SHEET"}(j.nPL||(j.nPL={}));var sd=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Cl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Py=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.dragEndFunctions=[],i.dragSources=[],i}return sd(o,u),o.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},o.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},o.prototype.removeListener=function(i){var s=i.dragSource.eElement;s.removeEventListener("mousedown",i.mouseDownListener),i.touchEnabled&&s.removeEventListener("touchstart",i.touchStartListener,{passive:!0})},o.prototype.removeDragSource=function(i){var s=this.dragSources.find(function(l){return l.dragSource===i});!s||(this.removeListener(s),si(this.dragSources,s))},o.prototype.isDragging=function(){return this.dragging},o.prototype.addDragSource=function(i,s){var l=this;void 0===s&&(s=!1);var c=this.onMouseDown.bind(this,i);i.eElement.addEventListener("mousedown",c);var p=null,v=this.gridOptionsWrapper.isSuppressTouch();s&&!v&&i.eElement.addEventListener("touchstart",p=function(M){M.cancelable&&M.preventDefault(),l.onTouchStart(i,M)},{passive:!0}),this.dragSources.push({dragSource:i,mouseDownListener:c,touchStartListener:p,touchEnabled:s})},o.prototype.onTouchStart=function(i,s){var l=this;this.currentDragParams=i,this.dragging=!1;var c=s.touches[0];this.touchLastTime=c,this.touchStart=c;var v=function(re){return l.onTouchUp(re,i.eElement)},L=i.eElement,Y=[{target:document,type:"touchmove",listener:function(re){re.cancelable&&re.preventDefault()},options:{passive:!1}},{target:L,type:"touchmove",listener:function(re){return l.onTouchMove(re,i.eElement)},options:{passive:!0}},{target:L,type:"touchend",listener:v,options:{passive:!0}},{target:L,type:"touchcancel",listener:v,options:{passive:!0}}];this.addTemporaryEvents(Y),0===i.dragStartPixels&&this.onCommonMove(c,this.touchStart,i.eElement)},o.prototype.onMouseDown=function(i,s){var l=this,c=s;if(!(i.skipMouseEvent&&i.skipMouseEvent(s)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==s.button))){this.currentDragParams=i,this.dragging=!1,this.mouseStartEvent=s;var p=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:p,type:"mousemove",listener:function(de){return l.onMouseMove(de,i.eElement)}},{target:p,type:"mouseup",listener:function(de){return l.onMouseUp(de,i.eElement)}},{target:p,type:"contextmenu",listener:function(de){return de.preventDefault()}}]),0===i.dragStartPixels&&this.onMouseMove(s,i.eElement)}},o.prototype.addTemporaryEvents=function(i){i.forEach(function(s){s.target.addEventListener(s.type,s.listener,s.options)}),this.dragEndFunctions.push(function(){i.forEach(function(s){s.target.removeEventListener(s.type,s.listener,s.options)})})},o.prototype.isEventNearStartEvent=function(i,s){var l=this.currentDragParams.dragStartPixels;return Xu(i,s,I(l)?l:4)},o.prototype.getFirstActiveTouch=function(i){for(var s=0;s<i.length;s++)if(i[s].identifier===this.touchStart.identifier)return i[s];return null},o.prototype.onCommonMove=function(i,s,l){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(i,s))return;this.dragging=!0,this.eventService.dispatchEvent({type:xe.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:l}),this.currentDragParams.onDragStart(s),this.currentDragParams.onDragging(s)}this.currentDragParams.onDragging(i)},o.prototype.onTouchMove=function(i,s){var l=this.getFirstActiveTouch(i.touches);!l||this.onCommonMove(l,this.touchStart,s)},o.prototype.onMouseMove=function(i,s){Wr()&&"mousemove"===i.type&&i.cancelable&&this.mouseEventService.isEventFromThisGrid(i)&&!this.isOverFormFieldElement(i)&&i.preventDefault(),this.onCommonMove(i,this.mouseStartEvent,s)},o.prototype.isOverFormFieldElement=function(i){var s,l;return!!(null===(l=null===(s=i.target)||void 0===s?void 0:s.tagName.toLocaleLowerCase())||void 0===l?void 0:l.match("^a$|textarea|input|select|button"))},o.prototype.onTouchUp=function(i,s){var l=this.getFirstActiveTouch(i.changedTouches);l||(l=this.touchLastTime),this.onUpCommon(l,s)},o.prototype.onMouseUp=function(i,s){this.onUpCommon(i,s)},o.prototype.onUpCommon=function(i,s){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(i),this.eventService.dispatchEvent({type:xe.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:s})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(c){return c()}),this.dragEndFunctions.length=0},Cl([le("loggerFactory")],o.prototype,"loggerFactory",void 0),Cl([le("columnApi")],o.prototype,"columnApi",void 0),Cl([le("gridApi")],o.prototype,"gridApi",void 0),Cl([le("mouseEventService")],o.prototype,"mouseEventService",void 0),Cl([Xe],o.prototype,"init",null),Cl([Yt],o.prototype,"removeAllListeners",null),Cl([at("dragService")],o)}(dt),Xx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bl=function(){return bl=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},bl.apply(this,arguments)},xr=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Mg=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.allColumnFilters=new Map,s.activeAggregateFilters=[],s.activeColumnFilters=[],s.quickFilter=null,s.quickFilterParts=null,s.processingFilterChange=!1,s}var i;return Xx(o,u),i=o,o.prototype.init=function(){var s=this;this.addManagedListener(this.eventService,xe.EVENT_GRID_COLUMNS_CHANGED,function(){return s.onColumnsChanged()}),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_VALUE_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PIVOT_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},o.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},o.prototype.setFilterModel=function(s){var l=this,c=[],p=this.getFilterModel();if(s){var v=pg(Object.keys(s));this.allColumnFilters.forEach(function(M,L){c.push(l.setModelOnFilterWrapper(M.filterPromise,s[L])),v.delete(L)}),v.forEach(function(M){var L=l.columnModel.getPrimaryColumn(M)||l.columnModel.getGridColumn(M);if(L)if(L.isFilterAllowed()){var Y=l.getOrCreateFilterWrapper(L,"NO_UI");Y?c.push(l.setModelOnFilterWrapper(Y.filterPromise,s[M])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+M)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+M);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+M)})}else this.allColumnFilters.forEach(function(M){c.push(l.setModelOnFilterWrapper(M.filterPromise,null))});ro.all(c).then(function(){var M=l.getFilterModel(),L=[];l.allColumnFilters.forEach(function(Y,re){ht.jsonEquals(p?p[re]:null,M?M[re]:null)||L.push(Y.column)}),L.length>0&&l.onFilterChanged({columns:L})})},o.prototype.setModelOnFilterWrapper=function(s,l){return new ro(function(c){s.then(function(p){"function"!=typeof p.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),c()),(p.setModel(l)||ro.resolve()).then(function(){return c()})})})},o.prototype.getFilterModel=function(){var s={};return this.allColumnFilters.forEach(function(l,c){var v=l.filterPromise.resolveNow(null,function(L){return L});if(null==v)return null;if("function"==typeof v.getModel){var M=v.getModel();I(M)&&(s[c]=M)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),s},o.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},o.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},o.prototype.doAggregateFiltersPass=function(s,l){return this.doColumnFiltersPass(s,l,!0)},o.prototype.updateActiveFilters=function(){var s=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var l=function(v){return!!v&&(v.isFilterActive?v.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},c=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(v){if(v.filterPromise.resolveNow(!1,l)){var M=v.filterPromise.resolveNow(null,function(L){return L});!function(v){if(!v.isPrimary())return!0;var L=!s.columnModel.isPivotActive();return!(!v.isValueActive()||!L)&&(!!s.columnModel.isPivotMode()||c)}(v.column)?s.activeColumnFilters.push(M):s.activeAggregateFilters.push(M)}})},o.prototype.updateFilterFlagInColumns=function(s,l){this.allColumnFilters.forEach(function(c){var p=c.filterPromise.resolveNow(!1,function(v){return v.isFilterActive()});c.column.setFilterActive(p,s,l)})},o.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},o.prototype.doColumnFiltersPass=function(s,l,c){for(var M=c?this.activeAggregateFilters:this.activeColumnFilters,L=c?s.aggData:s.data,Y=0;Y<M.length;Y++){var re=M[Y];if(null!=re&&re!==l){if("function"!=typeof re.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!re.doesFilterPass({node:s,data:L}))return!1}}return!0},o.prototype.parseQuickFilter=function(s){return I(s)?this.gridOptionsWrapper.isRowModelDefault()?s.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},o.prototype.setQuickFilter=function(s){if(null==s||"string"==typeof s){var l=this.parseQuickFilter(s);this.quickFilter!==l&&(this.quickFilter=l,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof s)},o.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},o.prototype.callOnFilterChangedOutsideRenderCycle=function(s){var l=this;void 0===s&&(s={});var c=function(){return l.onFilterChanged(s)};this.rowRenderer.isRefreshInProgress()?setTimeout(c,0):c()},o.prototype.onFilterChanged=function(s){void 0===s&&(s={});var l=s.filterInstance,c=s.additionalEventAttributes,p=s.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",c),this.allColumnFilters.forEach(function(M){!M.filterPromise||M.filterPromise.then(function(L){L&&L!==l&&L.onAnyFilterChanged&&L.onAnyFilterChanged()})});var v={type:xe.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:p||[]};c&&Q(v,c),this.processingFilterChange=!0,this.eventService.dispatchEvent(v),this.processingFilterChange=!1},o.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},o.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},o.prototype.doesRowPassOtherFilters=function(s,l){return this.doesRowPassFilter({rowNode:l,filterInstanceToSkip:s})},o.prototype.doesRowPassQuickFilterNoCache=function(s,l){var c=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(v){var M=c.getQuickFilterTextForColumn(v,s);return I(M)&&M.indexOf(l)>=0})},o.prototype.doesRowPassQuickFilterCache=function(s,l){return s.quickFilterAggregateText||this.aggregateRowForQuickFilter(s),s.quickFilterAggregateText.indexOf(l)>=0},o.prototype.doesRowPassQuickFilter=function(s){var l=this,c=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(p){return c?l.doesRowPassQuickFilterCache(s,p):l.doesRowPassQuickFilterNoCache(s,p)})},o.prototype.doesRowPassAggregateFilters=function(s){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(s.rowNode,s.filterInstanceToSkip))},o.prototype.doesRowPassFilter=function(s){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(s.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(s.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(s.rowNode,s.filterInstanceToSkip))},o.prototype.getQuickFilterTextForColumn=function(s,l){var c=this.valueService.getValue(s,l,!0),p=s.getColDef();if(p.getQuickFilterText){var v={value:c,node:l,data:l.data,column:s,colDef:p,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};c=p.getQuickFilterText(v)}return I(c)?c.toString().toUpperCase():null},o.prototype.aggregateRowForQuickFilter=function(s){var l=this,c=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(v){var M=l.getQuickFilterTextForColumn(v,s);I(M)&&c.push(M)}),s.quickFilterAggregateText=c.join(i.QUICK_FILTER_SEPARATOR)},o.prototype.onNewRowsLoaded=function(s){this.allColumnFilters.forEach(function(l){l.filterPromise.then(function(c){c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(s),this.updateActiveFilters()},o.prototype.createValueGetter=function(s){var l=this;return function(c){return l.valueService.getValue(s,c.node,!0)}},o.prototype.getFilterComponent=function(s,l,c){var p;if(void 0===c&&(c=!0),c)return(null===(p=this.getOrCreateFilterWrapper(s,l))||void 0===p?void 0:p.filterPromise)||null;var v=this.cachedFilter(s);return v?v.filterPromise:null},o.prototype.isFilterActive=function(s){var l=this.cachedFilter(s);return!!l&&l.filterPromise.resolveNow(!1,function(c){return c.isFilterActive()})},o.prototype.getOrCreateFilterWrapper=function(s,l){if(!s.isFilterAllowed())return null;var c=this.cachedFilter(s);return c?"NO_UI"!==l&&this.putIntoGui(c,l):(c=this.createFilterWrapper(s,l),this.allColumnFilters.set(s.getColId(),c)),c},o.prototype.cachedFilter=function(s){return this.allColumnFilters.get(s.getColId())},o.prototype.createFilterInstance=function(s){var v,l=this,c=Le.isRegistered(j.GXE.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",p=s.getColDef(),M=bl(bl({},this.createFilterParams(s,p)),{filterModifiedCallback:function(){l.eventService.dispatchEvent({type:xe.EVENT_FILTER_MODIFIED,api:l.gridApi,columnApi:l.columnApi,column:s,filterInstance:v})},filterChangedCallback:function(re){l.callOnFilterChangedOutsideRenderCycle({filterInstance:v,additionalEventAttributes:re,columns:[s]})},doesRowPassOtherFilter:function(re){return l.doesRowPassOtherFilters(v,re)}}),L=this.userComponentFactory.getFilterDetails(p,M,c);if(!L)return null;var Y=L.newAgStackInstance();return Y&&Y.then(function(re){return v=re}),Y},o.prototype.createFilterParams=function(s,l){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:s,colDef:F(l),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(s),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},o.prototype.createFilterWrapper=function(s,l){var c={column:s,filterPromise:null,compiledElement:null,guiPromise:ro.resolve(null)};return c.filterPromise=this.createFilterInstance(s),c.filterPromise&&this.putIntoGui(c,l),c},o.prototype.putIntoGui=function(s,l){var c=this,p=document.createElement("div");p.className="ag-filter",s.guiPromise=new ro(function(v){s.filterPromise.then(function(M){var L=M.getGui();I(L)||console.warn("AG Grid: getGui method from filter returned "+L+", it should be a DOM element or an HTML template string."),"string"==typeof L&&(L=Si(L)),p.appendChild(L),v(p),c.eventService.dispatchEvent({type:xe.EVENT_FILTER_OPENED,column:s.column,source:l,eGui:p,api:c.gridApi,columnApi:c.columnApi})})})},o.prototype.onColumnsChanged=function(){var s=this,l=[];this.allColumnFilters.forEach(function(c,p){!(c.column.isPrimary()?s.columnModel.getPrimaryColumn(p):s.columnModel.getGridColumn(p))&&(l.push(c.column),s.disposeFilterWrapper(c,"filterDestroyed"))}),l.length>0&&this.onFilterChanged({columns:l})},o.prototype.destroyFilter=function(s,l){void 0===l&&(l="api");var c=this.allColumnFilters.get(s.getColId());c&&(this.disposeFilterWrapper(c,l),this.onFilterChanged({columns:[s]}))},o.prototype.disposeFilterWrapper=function(s,l){var c=this;s.filterPromise.then(function(p){(p.setModel(null)||ro.resolve()).then(function(){c.getContext().destroyBean(p),s.column.setFilterActive(!1,l),c.allColumnFilters.delete(s.column.getColId())})})},o.prototype.destroy=function(){var s=this;u.prototype.destroy.call(this),this.allColumnFilters.forEach(function(l){return s.disposeFilterWrapper(l,"filterDestroyed")})},o.QUICK_FILTER_SEPARATOR="\n",xr([le("valueService")],o.prototype,"valueService",void 0),xr([le("columnModel")],o.prototype,"columnModel",void 0),xr([le("rowModel")],o.prototype,"rowModel",void 0),xr([le("columnApi")],o.prototype,"columnApi",void 0),xr([le("gridApi")],o.prototype,"gridApi",void 0),xr([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),xr([le("rowRenderer")],o.prototype,"rowRenderer",void 0),xr([Xe],o.prototype,"init",null),xr([Yt],o.prototype,"destroy",null),i=xr([at("filterManager")],o)}(dt),ad=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ng=function(u){function o(i,s){var l=u.call(this,i)||this;return l.ctrl=s,l}return ad(o,u),o.prototype.getCtrl=function(){return this.ctrl},o}(un),Iy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ld=function(u){function o(i){return u.call(this,o.TEMPLATE,i)||this}return Iy(o,u),o.prototype.postConstruct=function(){var i=this,s=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(c,p){return i.addOrRemoveCssClass(c,p)},addOrRemoveBodyCssClass:function(c,p){return i.eFloatingFilterBody.classList.toggle(c,p)},addOrRemoveButtonWrapperCssClass:function(c,p){return i.eButtonWrapper.classList.toggle(c,p)},setCompDetails:function(c){return i.setCompDetails(c)},getFloatingFilterComp:function(){return i.compPromise},setWidth:function(c){return s.style.width=c},setMenuIcon:function(c){return i.eButtonShowMainFilter.appendChild(c)}},s,this.eButtonShowMainFilter,this.eFloatingFilterBody)},o.prototype.setCompDetails=function(i){var s=this;this.compPromise=i.newAgStackInstance(),this.compPromise.then(function(l){return s.afterCompCreated(l)})},o.prototype.afterCompCreated=function(i){var s=this;!i||(this.addDestroyFunc(function(){return s.context.destroyBean(i)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(i.getGui()),i.afterGuiAttached&&i.afterGuiAttached()))},o.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Gc([st("eFloatingFilterBody")],o.prototype,"eFloatingFilterBody",void 0),Gc([st("eButtonWrapper")],o.prototype,"eButtonWrapper",void 0),Gc([st("eButtonShowMainFilter")],o.prototype,"eButtonShowMainFilter",void 0),Gc([Xe],o.prototype,"postConstruct",null),o}(Ng),Fg=function(){function u(){}return u.parse=function(o){if(!o)return null;if(!0===o)return{toolPanels:[u.DEFAULT_COLUMN_COMP,u.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof o)return u.parse([o]);if(Array.isArray(o)){var i=[];return o.forEach(function(l){var c=u.DEFAULT_BY_KEY[l];c?i.push(c):console.warn("AG Grid: the key "+l+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","))}),0===i.length?null:{toolPanels:i,defaultToolPanel:i[0].id}}return{toolPanels:u.parseComponents(o.toolPanels),defaultToolPanel:o.defaultToolPanel,hiddenByDefault:o.hiddenByDefault,position:o.position}},u.parseComponents=function(o){var i=[];return o&&o.forEach(function(s){var l=null;if("string"==typeof s){var c=u.DEFAULT_BY_KEY[s];if(!c)return void console.warn("AG Grid: the key "+s+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","));l=c}else l=s;i.push(l)}),i},u.DEFAULT_BY_KEY={columns:u.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:u.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},u}(),dp=function(){return dp=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},dp.apply(this,arguments)},Pa=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},wl=function(u,o){return function(i,s){o(i,s,u)}},cd=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},Lg=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(cd(arguments[o]));return u};function Ye(u){return!0===u||"true"===u}function Gg(u){return"number"==typeof u?u:"string"==typeof u?parseInt(u,10):void 0}function pp(u,o){var i=parseInt(u,10);return Wn(i)&&i>0?i:o}var At=function(){function u(){this.propertyEventService=new Zo,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var o;return o=u,u.prototype.agWire=function(i,s){this.gridOptions.api=i,this.gridOptions.columnApi=s,this.checkForDeprecated(),this.checkForViolations()},u.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},u.prototype.init=function(){var i=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Fg.parse(this.gridOptions.sideBar));var s=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),s),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var l=function(p){return"AG Grid: '"+p+"' is not supported on the Server-Side Row Model"};I(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupDefaultExpanded")),I(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupIncludeFooter")),I(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&Le.assertRegistered(j.GXE.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var c=function(p){i.gridOptions.icons&&i.gridOptions.icons[p]&&console.warn("gridOptions.icons."+p+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};c("radioButtonOff"),c("radioButtonOn"),c("checkboxChecked"),c("checkboxUnchecked"),c("checkboxIndeterminate"),this.getScrollbarWidth()},u.prototype.checkColumnDefProperties=function(){var i=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(s){var l=Object.getOwnPropertyNames(s),c=Lg(Nu.ALL_PROPERTIES,Nu.FRAMEWORK_PROPERTIES);i.checkProperties(l,c,c,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},u.prototype.checkGridOptionsProperties=function(){var i=Object.getOwnPropertyNames(this.gridOptions),s=Lg(xs.ALL_PROPERTIES,xs.FRAMEWORK_PROPERTIES,b(xe).map(function(c){return rl.getCallbackForEvent(c)})),l=Lg(s,["api","columnApi"]);this.checkProperties(i,l,s,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},u.prototype.checkProperties=function(i,s,l,c,p){var v=ty(i,s,l);E(v,function(M,L){console.warn("ag-grid: invalid "+c+" property '"+M+"' did you mean any of these: "+L.slice(0,8).join(", "))}),Object.keys(v).length>0&&console.warn("ag-grid: to see all the valid "+c+" properties please check: "+p)},u.prototype.mergeGridCommonParams=function(i){var s=this;return i?function(c){var p=dp(dp({},c),{api:s.getApi(),columnApi:s.getColumnApi(),context:s.getContext()});return i(p)}:i},u.prototype.getDomDataKey=function(){return this.domDataKey},u.prototype.getDomData=function(i,s){var l=i[this.getDomDataKey()];return l?l[s]:void 0},u.prototype.setDomData=function(i,s,l){var c=this.getDomDataKey(),p=i[c];O(p)&&(i[c]=p={}),p[s]=l},u.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},u.prototype.isSuppressRowDeselection=function(){return Ye(this.gridOptions.suppressRowDeselection)},u.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},u.prototype.isRowMultiSelectWithClick=function(){return Ye(this.gridOptions.rowMultiSelectWithClick)},u.prototype.getContext=function(){return this.gridOptions.context},u.prototype.isPivotMode=function(){return Ye(this.gridOptions.pivotMode)},u.prototype.isSuppressExpandablePivotGroups=function(){return Ye(this.gridOptions.suppressExpandablePivotGroups)},u.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},u.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},u.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===Ie.ROW_MODEL_TYPE_INFINITE},u.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===Ie.ROW_MODEL_TYPE_VIEWPORT},u.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===Ie.ROW_MODEL_TYPE_SERVER_SIDE},u.prototype.isRowModelDefault=function(){return O(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===Ie.ROW_MODEL_TYPE_CLIENT_SIDE},u.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},u.prototype.isSuppressFocusAfterRefresh=function(){return Ye(this.gridOptions.suppressFocusAfterRefresh)},u.prototype.isSuppressBrowserResizeObserver=function(){return Ye(this.gridOptions.suppressBrowserResizeObserver)},u.prototype.isSuppressMaintainUnsortedOrder=function(){return Ye(this.gridOptions.suppressMaintainUnsortedOrder)},u.prototype.isSuppressClearOnFillReduction=function(){return Ye(this.gridOptions.suppressClearOnFillReduction)},u.prototype.isShowToolPanel=function(){return Ye(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},u.prototype.getSideBar=function(){return this.gridOptions.sideBar},u.prototype.isSuppressTouch=function(){return Ye(this.gridOptions.suppressTouch)},u.prototype.isMaintainColumnOrder=function(){return Ye(this.gridOptions.maintainColumnOrder)},u.prototype.isSuppressRowTransform=function(){return Ye(this.gridOptions.suppressRowTransform)},u.prototype.isSuppressColumnStateEvents=function(){return Ye(this.gridOptions.suppressColumnStateEvents)},u.prototype.isAllowDragFromColumnsToolPanel=function(){return Ye(this.gridOptions.allowDragFromColumnsToolPanel)},u.prototype.useAsyncEvents=function(){return!Ye(this.gridOptions.suppressAsyncEvents)},u.prototype.isEnableCellChangeFlash=function(){return Ye(this.gridOptions.enableCellChangeFlash)},u.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},u.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},u.prototype.isGroupSelectsChildren=function(){return Ye(this.gridOptions.groupSelectsChildren)},u.prototype.isSuppressRowHoverHighlight=function(){return Ye(this.gridOptions.suppressRowHoverHighlight)},u.prototype.isColumnHoverHighlight=function(){return Ye(this.gridOptions.columnHoverHighlight)},u.prototype.isGroupSelectsFiltered=function(){return Ye(this.gridOptions.groupSelectsFiltered)},u.prototype.isGroupHideOpenParents=function(){return Ye(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupMaintainOrder=function(){return Ye(this.gridOptions.groupMaintainOrder)},u.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},u.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Ye(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupUseEntireRow=function(i){return!i&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},u.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},u.prototype.isGroupRemoveSingleChildren=function(){return Ye(this.gridOptions.groupRemoveSingleChildren)},u.prototype.isGroupRemoveLowestSingleChildren=function(){return Ye(this.gridOptions.groupRemoveLowestSingleChildren)},u.prototype.isGroupIncludeFooter=function(){return Ye(this.gridOptions.groupIncludeFooter)},u.prototype.isGroupIncludeTotalFooter=function(){return Ye(this.gridOptions.groupIncludeTotalFooter)},u.prototype.isGroupSuppressBlankHeader=function(){return Ye(this.gridOptions.groupSuppressBlankHeader)},u.prototype.isSuppressRowClickSelection=function(){return Ye(this.gridOptions.suppressRowClickSelection)},u.prototype.isSuppressCellFocus=function(){return Ye(this.gridOptions.suppressCellFocus)},u.prototype.isSuppressMultiSort=function(){return Ye(this.gridOptions.suppressMultiSort)},u.prototype.isAlwaysMultiSort=function(){return Ye(this.gridOptions.alwaysMultiSort)},u.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},u.prototype.isPivotSuppressAutoColumn=function(){return Ye(this.gridOptions.pivotSuppressAutoColumn)},u.prototype.isSuppressDragLeaveHidesColumns=function(){return Ye(this.gridOptions.suppressDragLeaveHidesColumns)},u.prototype.isSuppressScrollOnNewData=function(){return Ye(this.gridOptions.suppressScrollOnNewData)},u.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Ye(this.gridOptions.suppressScrollWhenPopupsAreOpen)},u.prototype.isRowDragEntireRow=function(){return Ye(this.gridOptions.rowDragEntireRow)},u.prototype.isSuppressRowDrag=function(){return Ye(this.gridOptions.suppressRowDrag)},u.prototype.isRowDragManaged=function(){return Ye(this.gridOptions.rowDragManaged)},u.prototype.isSuppressMoveWhenRowDragging=function(){return Ye(this.gridOptions.suppressMoveWhenRowDragging)},u.prototype.isRowDragMultiRow=function(){return Ye(this.gridOptions.rowDragMultiRow)},u.prototype.getDomLayout=function(){var i=this.gridOptions.domLayout||Ie.DOM_LAYOUT_NORMAL;return-1===[Ie.DOM_LAYOUT_PRINT,Ie.DOM_LAYOUT_AUTO_HEIGHT,Ie.DOM_LAYOUT_NORMAL].indexOf(i)?(We(function(){return console.warn("AG Grid: "+i+" is not valid for DOM Layout, valid values are "+Ie.DOM_LAYOUT_NORMAL+", "+Ie.DOM_LAYOUT_AUTO_HEIGHT+" and "+Ie.DOM_LAYOUT_PRINT)},"warn about dom layout values"),Ie.DOM_LAYOUT_NORMAL):i},u.prototype.isSuppressHorizontalScroll=function(){return Ye(this.gridOptions.suppressHorizontalScroll)},u.prototype.isSuppressMaxRenderedRowRestriction=function(){return Ye(this.gridOptions.suppressMaxRenderedRowRestriction)},u.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Ye(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},u.prototype.isAlwaysShowHorizontalScroll=function(){return Ye(this.gridOptions.alwaysShowHorizontalScroll)},u.prototype.isAlwaysShowVerticalScroll=function(){return Ye(this.gridOptions.alwaysShowVerticalScroll)},u.prototype.isDebounceVerticalScrollbar=function(){return Ye(this.gridOptions.debounceVerticalScrollbar)},u.prototype.isSuppressLoadingOverlay=function(){return Ye(this.gridOptions.suppressLoadingOverlay)},u.prototype.isSuppressNoRowsOverlay=function(){return Ye(this.gridOptions.suppressNoRowsOverlay)},u.prototype.isSuppressFieldDotNotation=function(){return Ye(this.gridOptions.suppressFieldDotNotation)},u.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},u.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},u.prototype.isFunctionsPassive=function(){return Ye(this.gridOptions.functionsPassive)},u.prototype.isSuppressChangeDetection=function(){return Ye(this.gridOptions.suppressChangeDetection)},u.prototype.isSuppressAnimationFrame=function(){return Ye(this.gridOptions.suppressAnimationFrame)},u.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},u.prototype.isCacheQuickFilter=function(){return Ye(this.gridOptions.cacheQuickFilter)},u.prototype.isUnSortIcon=function(){return Ye(this.gridOptions.unSortIcon)},u.prototype.isSuppressMenuHide=function(){return Ye(this.gridOptions.suppressMenuHide)},u.prototype.isEnterMovesDownAfterEdit=function(){return Ye(this.gridOptions.enterMovesDownAfterEdit)},u.prototype.isEnterMovesDown=function(){return Ye(this.gridOptions.enterMovesDown)},u.prototype.isUndoRedoCellEditing=function(){return Ye(this.gridOptions.undoRedoCellEditing)},u.prototype.getUndoRedoCellEditingLimit=function(){return Gg(this.gridOptions.undoRedoCellEditingLimit)},u.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},u.prototype.getRowClass=function(){return this.gridOptions.rowClass},u.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},u.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},u.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},u.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},u.prototype.getServerSideStoreParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideStoreParams)},u.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},u.prototype.getPopupParent=function(){return this.gridOptions.popupParent},u.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},u.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},u.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},u.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},u.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},u.prototype.getInitialGroupOrderComparator=function(){var i=this.gridOptions,s=i.initialGroupOrderComparator,l=i.defaultGroupOrderComparator;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.nodeA,c.nodeB)}:void 0},u.prototype.getIsFullWidthCellFunc=function(){var i=this.gridOptions,s=i.isFullWidthRow,l=i.isFullWidthCell;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.rowNode)}:void 0},u.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},u.prototype.isEmbedFullWidthRows=function(){return Ye(this.gridOptions.embedFullWidthRows)||Ye(this.gridOptions.deprecatedEmbedFullWidthRows)},u.prototype.isDetailRowAutoHeight=function(){return Ye(this.gridOptions.detailRowAutoHeight)},u.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},u.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},u.prototype.getApi=function(){return this.gridOptions.api},u.prototype.getColumnApi=function(){return this.gridOptions.columnApi},u.prototype.isReadOnlyEdit=function(){return Ye(this.gridOptions.readOnlyEdit)},u.prototype.isImmutableData=function(){var i=null!=this.gridOptions.getRowId,s=Ye(this.gridOptions.immutableData);return!Ye(this.gridOptions.resetRowDataOnUpdate)&&(i||s)},u.prototype.isEnsureDomOrder=function(){return Ye(this.gridOptions.ensureDomOrder)},u.prototype.isEnableCharts=function(){return!!Ye(this.gridOptions.enableCharts)&&Le.assertRegistered(j.GXE.GridChartsModule,"enableCharts")},u.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},u.prototype.isSingleClickEdit=function(){return Ye(this.gridOptions.singleClickEdit)},u.prototype.isSuppressClickEdit=function(){return Ye(this.gridOptions.suppressClickEdit)},u.prototype.isStopEditingWhenCellsLoseFocus=function(){return Ye(this.gridOptions.stopEditingWhenCellsLoseFocus)},u.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},u.prototype.getMaxConcurrentDatasourceRequests=function(){var i=Gg(this.gridOptions.maxConcurrentDatasourceRequests);return null==i?2:i<=0?void 0:i},u.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},u.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},u.prototype.getPaginationPageSize=function(){return Gg(this.gridOptions.paginationPageSize)},u.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Ye(this.gridOptions.paginateChildRows)},u.prototype.getCacheBlockSize=function(){return pp(this.gridOptions.cacheBlockSize)},u.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},u.prototype.isPurgeClosedRowNodes=function(){return Ye(this.gridOptions.purgeClosedRowNodes)},u.prototype.isSuppressPaginationPanel=function(){return Ye(this.gridOptions.suppressPaginationPanel)},u.prototype.getRowData=function(){return this.gridOptions.rowData},u.prototype.isEnableRtl=function(){return Ye(this.gridOptions.enableRtl)},u.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},u.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},u.prototype.isAngularCompileRows=function(){return Ye(this.gridOptions.angularCompileRows)},u.prototype.isAngularCompileFilters=function(){return Ye(this.gridOptions.angularCompileFilters)},u.prototype.isDebug=function(){return Ye(this.gridOptions.debug)},u.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},u.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},u.prototype.getDatasource=function(){return this.gridOptions.datasource},u.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},u.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},u.prototype.isAccentedSort=function(){return Ye(this.gridOptions.accentedSort)},u.prototype.isEnableBrowserTooltips=function(){return Ye(this.gridOptions.enableBrowserTooltips)},u.prototype.isEnableCellExpressions=function(){return Ye(this.gridOptions.enableCellExpressions)},u.prototype.isEnableGroupEdit=function(){return Ye(this.gridOptions.enableGroupEdit)},u.prototype.isSuppressMiddleClickScrolls=function(){return Ye(this.gridOptions.suppressMiddleClickScrolls)},u.prototype.isPreventDefaultOnContextMenu=function(){return Ye(this.gridOptions.preventDefaultOnContextMenu)},u.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Ye(this.gridOptions.suppressPreventDefaultOnMouseWheel)},u.prototype.isSuppressColumnVirtualisation=function(){return Ye(this.gridOptions.suppressColumnVirtualisation)},u.prototype.isSuppressRowVirtualisation=function(){return Ye(this.gridOptions.suppressRowVirtualisation)},u.prototype.isSuppressContextMenu=function(){return Ye(this.gridOptions.suppressContextMenu)},u.prototype.isAllowContextMenuWithControlKey=function(){return Ye(this.gridOptions.allowContextMenuWithControlKey)},u.prototype.isSuppressCopyRowsToClipboard=function(){return Ye(this.gridOptions.suppressCopyRowsToClipboard)},u.prototype.isSuppressCopySingleCellRanges=function(){return Ye(this.gridOptions.suppressCopySingleCellRanges)},u.prototype.isCopyHeadersToClipboard=function(){return Ye(this.gridOptions.copyHeadersToClipboard)},u.prototype.isCopyGroupHeadersToClipboard=function(){return Ye(this.gridOptions.copyGroupHeadersToClipboard)},u.prototype.isSuppressClipboardPaste=function(){return Ye(this.gridOptions.suppressClipboardPaste)},u.prototype.isSuppressLastEmptyLineOnPaste=function(){return Ye(this.gridOptions.suppressLastEmptyLineOnPaste)},u.prototype.isPagination=function(){return Ye(this.gridOptions.pagination)},u.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Ye(this.gridOptions.suppressEnterpriseResetOnNewColumns)},u.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},u.prototype.getAsyncTransactionWaitMillis=function(){return I(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:Ie.BATCH_WAIT_MILLIS},u.prototype.isSuppressMovableColumns=function(){return Ye(this.gridOptions.suppressMovableColumns)},u.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Ye(this.gridOptions.animateRows)},u.prototype.isSuppressColumnMoveAnimation=function(){return Ye(this.gridOptions.suppressColumnMoveAnimation)},u.prototype.isSuppressAggFuncInHeader=function(){return Ye(this.gridOptions.suppressAggFuncInHeader)},u.prototype.isSuppressAggAtRootLevel=function(){return Ye(this.gridOptions.suppressAggAtRootLevel)},u.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||Ye(this.gridOptions.suppressAggFilteredOnly)},u.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return Ye(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},u.prototype.isShowOpenedGroup=function(){return Ye(this.gridOptions.showOpenedGroup)},u.prototype.isReactUi=function(){return Ye(this.gridOptions.reactUi)},u.prototype.isSuppressReactUi=function(){return Ye(this.gridOptions.suppressReactUi)},u.prototype.isEnableRangeSelection=function(){return Le.isRegistered(j.GXE.RangeSelectionModule)&&Ye(this.gridOptions.enableRangeSelection)},u.prototype.isEnableRangeHandle=function(){return Ye(this.gridOptions.enableRangeHandle)},u.prototype.isEnableFillHandle=function(){return Ye(this.gridOptions.enableFillHandle)},u.prototype.getFillHandleDirection=function(){var i=this.gridOptions.fillHandleDirection;return i?"x"!==i&&"y"!==i&&"xy"!==i?(We(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):i:"xy"},u.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},u.prototype.isSuppressMultiRangeSelection=function(){return Ye(this.gridOptions.suppressMultiRangeSelection)},u.prototype.isPaginationAutoPageSize=function(){return Ye(this.gridOptions.paginationAutoPageSize)},u.prototype.isRememberGroupStateWhenNewData=function(){return Ye(this.gridOptions.rememberGroupStateWhenNewData)},u.prototype.getIcons=function(){return this.gridOptions.icons},u.prototype.getGroupAggFiltering=function(){var i=this.gridOptions.groupAggFiltering;return"function"==typeof i?this.mergeGridCommonParams(i):Ye(i)?function(){return!0}:void 0},u.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},u.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},u.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},u.prototype.isMasterDetail=function(){return!!Ye(this.gridOptions.masterDetail)&&Le.assertRegistered(j.GXE.MasterDetailModule,"masterDetail")},u.prototype.isKeepDetailRows=function(){return Ye(this.gridOptions.keepDetailRows)},u.prototype.getKeepDetailRowsCount=function(){var i=this.gridOptions.keepDetailRowsCount;return I(i)&&i>0?this.gridOptions.keepDetailRowsCount:10},u.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},u.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},u.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},u.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},u.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},u.prototype.isSuppressAutoSize=function(){return Ye(this.gridOptions.suppressAutoSize)},u.prototype.isEnableCellTextSelection=function(){return Ye(this.gridOptions.enableCellTextSelection)},u.prototype.isSuppressParentsInRowNodes=function(){return Ye(this.gridOptions.suppressParentsInRowNodes)},u.prototype.isSuppressClipboardApi=function(){return Ye(this.gridOptions.suppressClipboardApi)},u.prototype.isFunctionsReadOnly=function(){return Ye(this.gridOptions.functionsReadOnly)},u.prototype.isEnableCellTextSelect=function(){return Ye(this.gridOptions.enableCellTextSelection)},u.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},u.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},u.prototype.getDefaultExportParams=function(i){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+zn(i)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===i&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===i&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},u.prototype.isSuppressCsvExport=function(){return Ye(this.gridOptions.suppressCsvExport)},u.prototype.isAllowShowChangeAfterFilter=function(){return Ye(this.gridOptions.allowShowChangeAfterFilter)},u.prototype.isSuppressExcelExport=function(){return Ye(this.gridOptions.suppressExcelExport)},u.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Ye(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},u.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},u.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},u.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},u.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},u.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},u.prototype.getGroupRowAggFunc=function(){var i=this.gridOptions,s=i.getGroupRowAgg,l=i.groupRowAggNodes;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.nodes)}:void 0},u.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},u.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},u.prototype.getRowIdFunc=function(){var i=this.gridOptions,s=i.getRowId,l=i.getRowNodeId;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.data)}:void 0},u.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},u.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},u.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},u.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},u.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},u.prototype.isTreeData=function(){return!!Ye(this.gridOptions.treeData)&&Le.assertRegistered(j.GXE.RowGroupingModule,"Tree Data")},u.prototype.isValueCache=function(){return Ye(this.gridOptions.valueCache)},u.prototype.isValueCacheNeverExpires=function(){return Ye(this.gridOptions.valueCacheNeverExpires)},u.prototype.isDeltaSort=function(){return Ye(this.gridOptions.deltaSort)},u.prototype.isAggregateOnlyChangedColumns=function(){return Ye(this.gridOptions.aggregateOnlyChangedColumns)},u.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},u.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},u.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},u.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},u.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},u.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},u.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},u.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},u.prototype.getViewportRowModelPageSize=function(){return pp(this.gridOptions.viewportRowModelPageSize,5)},u.prototype.getViewportRowModelBufferSize=function(){return function hp(u,o){return u>=0?u:o}(this.gridOptions.viewportRowModelBufferSize,5)},u.prototype.isServerSideSortingAlwaysResets=function(){return Ye(this.gridOptions.serverSideSortingAlwaysResets)},u.prototype.isServerSideFilteringAlwaysResets=function(){return Ye(this.gridOptions.serverSideFilteringAlwaysResets)},u.prototype.getPostSortFunc=function(){var i=this.gridOptions,s=i.postSortRows,l=i.postSort;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.nodes)}:void 0},u.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},u.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},u.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},u.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},u.prototype.getClipboardDelimiter=function(){return I(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},u.prototype.setProperty=function(i,s,l){void 0===l&&(l=!1);var c=this.gridOptions,p=c[i];(l||p!==s)&&(c[i]=s,this.propertyEventService.dispatchEvent({type:i,currentValue:s,previousValue:p}))},u.prototype.addEventListener=function(i,s){this.propertyEventService.addEventListener(i,s)},u.prototype.removeEventListener=function(i,s){this.propertyEventService.removeEventListener(i,s)},u.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},u.prototype.getAutoSizePadding=function(){var i=this.gridOptions.autoSizePadding;return null!=i&&i>=0?i:20},u.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},u.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},u.prototype.doesExternalFilterPass=function(i){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(i)},u.prototype.getTooltipDelay=function(i){var s=this.gridOptions,p="show"===i?s.tooltipShowDelay:s.tooltipHideDelay,v=zn(i);return I(p)?(p<0&&We(function(){return console.warn("ag-grid: tooltip"+v+"Delay should not be lower than 0")},"tooltip"+v+"DelayWarn"),Math.max(200,p)):null},u.prototype.isTooltipMouseTrack=function(){return Ye(this.gridOptions.tooltipMouseTrack)},u.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Ye(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},u.prototype.getDocument=function(){var i=null;return this.gridOptions.getDocument&&I(this.gridOptions.getDocument)?i=this.gridOptions.getDocument():this.eGridDiv&&(i=this.eGridDiv.ownerDocument),i&&I(i)?i:document},u.prototype.getMinColWidth=function(){var i=this.gridOptions.minColWidth;if(I(i)&&i>o.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var s=this.getFromTheme(null,"headerCellMinWidth");return I(s)?Math.max(s,o.MIN_COL_WIDTH):o.MIN_COL_WIDTH},u.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>o.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},u.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},u.prototype.getRowBuffer=function(){var i=this.gridOptions.rowBuffer;return"number"==typeof i?i<0&&(We(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=i=0):i=Ie.ROW_BUFFER_SIZE,i},u.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},u.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var s="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Wv();null!=s&&(this.scrollbarWidth=s,this.eventService.dispatchEvent({type:xe.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},u.prototype.checkForDeprecated=function(){var i=this.gridOptions;i.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),i.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),i.enableMultiRowDragging&&(i.rowDragMultiRow=!0,delete i.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var s=function(p,v,M){null!=i[p]&&(console.warn("AG Grid: since version "+M+", '"+p+"' is deprecated / renamed, please use the new property name '"+v+"' instead."),null==i[v]&&(i[v]=i[p]))};if(s("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),s("deltaRowDataMode","immutableData","23.1.x"),(i.immutableColumns||i.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),s("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),i.groupRowInnerRenderer||i.groupRowInnerRendererParams||i.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),i.groupRowRendererParams||(i.groupRowRendererParams={});var l=i.groupRowRendererParams;i.groupRowInnerRenderer&&(l.innerRenderer=i.groupRowInnerRenderer),i.groupRowInnerRendererParams&&(l.innerRendererParams=i.groupRowInnerRendererParams),i.groupRowInnerRendererFramework&&(l.innerRendererFramework=i.groupRowInnerRendererFramework)}i.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),i.detailCellRendererParams&&i.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),i.detailRowAutoHeight=!0),i.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),i.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),i.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),i.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),i.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),i.stopEditingWhenCellsLoseFocus=!0),i.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),i.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),i.groupDisplayType="multipleColumns"),i.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),i.groupDisplayType="groupRows"),i.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(i.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),i.groupDisplayType="custom"),i.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),i.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),i.defaultGroupOrderComparator=i.defaultGroupSortComparator),i.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),i.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),i.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),i.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),i.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),i.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),i.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),i.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),i.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),i.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),i.suppressCellFocus=i.suppressCellSelection),i.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),i.immutableData&&(i.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),i.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),i.clipboardDelimiter=i.clipboardDeliminator)},u.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},u.prototype.treeDataViolations=function(){this.isRowModelDefault()&&O(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(O(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),O(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},u.prototype.getLocaleTextFunc=function(){var i=this,s=this.gridOptions,l=s.localeText,c=s.getLocaleText;return c?function(v,M,L){var Y={key:v,defaultValue:M,variableValues:L,api:i.getApi(),columnApi:i.getColumnApi(),context:i.getContext()};return c(Y)}:s.localeTextFunc||function(v,M,L){var Y=l&&l[v];if(Y&&L&&L.length)for(var re=0;!(re>=L.length)&&-1!==Y.indexOf("${variable}");)Y=Y.replace("${variable}",L[re++]);return null!=Y?Y:M}},u.prototype.globalEventHandler=function(i,s){if(!this.destroyed){var l=rl.getCallbackForEvent(i);"function"==typeof this.gridOptions[l]&&this.gridOptions[l](s)}},u.prototype.setRowHeightVariable=function(i){var l=i+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=l&&this.eGridDiv.style.setProperty("--ag-line-height",l)},u.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||O(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var i=this.gridOptions.rowHeight;return i&&this.isNumeric(i)?(this.setRowHeightVariable(i),i):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},u.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getRowHeightForNode=function(i,s,l){if(void 0===s&&(s=!1),null==l&&(l=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(s)return{height:l,estimated:!0};var c={node:i,data:i.data},p=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(c);if(this.isNumeric(p))return 0===p&&We(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,p),estimated:!1}}return i.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:l,estimated:!1}},u.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},u.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},u.prototype.isNumeric=function(i){return!isNaN(i)&&"number"==typeof i&&isFinite(i)},u.prototype.getFromTheme=function(i,s){var l=this.environment.getTheme().theme;return l&&0===l.indexOf("ag-theme")?this.environment.getSassVariable(l,s):i},u.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},u.prototype.matchesGroupDisplayType=function(i,s){var l=["groupRows","multipleColumns","custom","singleColumn"];return l.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid groupDisplayType value - possible values are: '"+l.join("', '")+"'"),!1):s===i},u.prototype.matchesTreeDataDisplayType=function(i,s){var l=["auto","custom"];return l.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid treeDataDisplayType value - possible values are: '"+l.join("', '")+"'"),!1):s===i},u.MIN_COL_WIDTH=10,u.PROP_HEADER_HEIGHT="headerHeight",u.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",u.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",u.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",u.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",u.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",u.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",u.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",u.PROP_TAB_TO_NEXT_CELL="tabToNextCell",u.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",u.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",u.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",u.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",u.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",u.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",u.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",u.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",u.PROP_GET_ROW_CLASS="getRowClass",u.PROP_GET_ROW_STYLE="getRowStyle",u.PROP_GET_ROW_HEIGHT="getRowHeight",u.PROP_POPUP_PARENT="popupParent",u.PROP_DOM_LAYOUT="domLayout",u.PROP_ROW_CLASS="rowClass",u.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",u.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",u.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",u.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",u.PROP_GET_CHILD_COUNT="getChildCount",u.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",u.PROP_GET_ROW_NODE_ID="getRowNodeId",u.PROP_GET_ROW_ID="getRowId",u.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",u.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",u.PROP_IS_ROW_SELECTABLE="isRowSelectable",u.PROP_IS_ROW_MASTER="isRowMaster",u.PROP_POST_SORT="postSort",u.PROP_POST_SORT_ROWS="postSortRows",u.PROP_GET_DOCUMENT="getDocument",u.PROP_POST_PROCESS_POPUP="postProcessPopup",u.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",u.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",u.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",u.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",u.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",u.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",u.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",u.PROP_SEND_TO_CLIPBOARD="sendToClipboard",u.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",u.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",u.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",u.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",u.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",u.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",u.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",u.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Pa([le("gridOptions")],u.prototype,"gridOptions",void 0),Pa([le("eventService")],u.prototype,"eventService",void 0),Pa([le("environment")],u.prototype,"environment",void 0),Pa([le("eGridDiv")],u.prototype,"eGridDiv",void 0),Pa([wl(0,Jn("gridApi")),wl(1,Jn("columnApi"))],u.prototype,"agWire",null),Pa([Yt],u.prototype,"destroy",null),Pa([Xe],u.prototype,"init",null),o=Pa([at("gridOptionsWrapper")],u)}(),Jx=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ny=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u.AUTO_HEIGHT="ag-layout-auto-height",u.NORMAL="ag-layout-normal",u.PRINT="ag-layout-print"}(j.LBn||(j.LBn={}));var Fy=function(u){function o(i){var s=u.call(this)||this;return s.view=i,s}return Jx(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,At.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},o.prototype.updateLayoutClasses=function(){var i=this.gridOptionsWrapper.getDomLayout(),s={autoHeight:i===Ie.DOM_LAYOUT_AUTO_HEIGHT,normal:i===Ie.DOM_LAYOUT_NORMAL,print:i===Ie.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(s.autoHeight?j.LBn.AUTO_HEIGHT:s.print?j.LBn.PRINT:j.LBn.NORMAL,s)},Ny([le("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Ny([Xe],o.prototype,"postConstruct",null),o}(dt),fp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wo=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ly=function(u){function o(i){var s=u.call(this)||this;return s.scrollLeft=-1,s.nextScrollTop=-1,s.scrollTop=-1,s.eBodyViewport=i,s.resetLastHorizontalScrollElementDebounced=$e(s.resetLastHorizontalScrollElement.bind(s),500),s}return fp(o,u),o.prototype.postConstruct=function(){var i=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(s){i.centerRowContainerCtrl=s.centerRowContainerCtrl,i.onDisplayedColumnsWidthChanged(),i.addScrollListener()})},o.prototype.addScrollListener=function(){var i=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(i.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var s=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?$e(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",s)},o.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},o.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(i){if(null!=this.centerRowContainerCtrl){void 0===i&&(i=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var l=this.enableRtl?i:-i,c=this.ctrlsService.getTopCenterRowContainerCtrl(),p=this.ctrlsService.getBottomCenterRowContainerCtrl(),v=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(l),p.setContainerTranslateX(l),c.setContainerTranslateX(l),ju(this.lastHorizontalScrollElement===this.centerRowContainerCtrl.getViewportElement()?v.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(i),this.enableRtl)}},o.prototype.isControllingScroll=function(i){return this.lastHorizontalScrollElement?i===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=i,!0)},o.prototype.onFakeHorizontalScroll=function(){var i=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(i)||this.onBodyHorizontalScroll(i)},o.prototype.onCenterViewportScroll=function(){var i=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(i)||this.onBodyHorizontalScroll(i)},o.prototype.onBodyHorizontalScroll=function(i){var s=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",s.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Hu(i,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},o.prototype.onVerticalScroll=function(){var i=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",i,!0)||(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},o.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},o.prototype.doHorizontalScroll=function(i){var l=Hu(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===i&&i===l||(this.scrollLeft=i,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(i),this.onHorizontalViewportChanged())},o.prototype.fireScrollEvent=function(i){var s=this,l={type:xe.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:i,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(l),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var c=Object.assign({},l,{type:xe.EVENT_BODY_SCROLL_END});s.eventService.dispatchEvent(c)},100)},o.prototype.shouldBlockScrollUpdate=function(i,s,l){if(void 0===l&&(l=!1),l&&!kr())return!1;if("vertical"===i){var c=Gu(this.eBodyViewport);if(s<0||s+c>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===i){var v=this.centerRowContainerCtrl.getCenterWidth(),M=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Xt()){if(s>0)return!0}else if(s<0)return!0;if(Math.abs(s)+v>M)return!0}return!1},o.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},o.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},o.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},o.prototype.executeAnimationFrameScroll=function(){var i=this.scrollTop!=this.nextScrollTop;return i&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),i},o.prototype.setHorizontalScrollPosition=function(i){var l=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",i)&&(i=this.enableRtl&&Xt()?i>0?0:l:Math.min(Math.max(i,0),l)),ju(this.centerRowContainerCtrl.getViewportElement(),Math.abs(i),this.enableRtl),this.doHorizontalScroll(i)},o.prototype.setVerticalScrollPosition=function(i){this.eBodyViewport.scrollTop=i},o.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},o.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},o.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},o.prototype.scrollHorizontally=function(i){var s=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(s+i),this.centerRowContainerCtrl.getViewportElement().scrollLeft-s},o.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},o.prototype.ensureNodeVisible=function(i,s){void 0===s&&(s=null);for(var l=this.rowModel.getRowCount(),c="function"==typeof i,p=-1,v=0;v<l;v++){var M=this.rowModel.getRow(v);if(c){if(i(M)){p=v;break}}else if(i===M||i===M.data){p=v;break}}p>=0&&this.ensureIndexVisible(p,s)},o.prototype.ensureIndexVisible=function(i,s){if(this.gridOptionsWrapper.getDomLayout()!==Ie.DOM_LAYOUT_PRINT){var l=this.paginationProxy.getRowCount();if("number"!=typeof i||i<0||i>=l)return void console.warn("invalid row index for ensureIndexVisible: "+i);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(i);var M,v=this.paginationProxy.getRow(i);do{var L=v.rowTop,Y=v.rowHeight,re=this.paginationProxy.getPixelOffset(),de=v.rowTop-re,be=de+v.rowHeight,Ce=this.getVScrollPosition(),Re=this.heightScaler.getDivStretchOffset(),Ge=Ce.top+Re,Ze=Ce.bottom+Re,He=Ze-Ge,Ke=this.heightScaler.getScrollPositionForPixel(de),pt=this.heightScaler.getScrollPositionForPixel(be-He),Bt=Math.min((Ke+pt)/2,de),zt=null;"top"===s?zt=Ke:"bottom"===s?zt=pt:"middle"===s?zt=Bt:Ge>de?zt=Ke:Ze<be&&(zt=pt),null!==zt&&(this.eBodyViewport.scrollTop=zt,this.rowRenderer.redrawAfterScroll()),M=L!==v.rowTop||Y!==v.rowHeight}while(M);this.animationFrameService.flushAllFrames()}},o.prototype.ensureColumnVisible=function(i,s){void 0===s&&(s="auto");var l=this.columnModel.getGridColumn(i);if(l&&!l.isPinned()&&this.columnModel.isColumnDisplayed(l)){var c=this.getPositionedHorizontalScroll(l,s);null!==c&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(c),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},o.prototype.getPositionedHorizontalScroll=function(i,s){var l=this.isColumnOutsideViewport(i),c=l.columnBeforeStart,p=l.columnAfterEnd,v=this.centerRowContainerCtrl.getCenterWidth()<i.getActualWidth(),M=this.centerRowContainerCtrl.getCenterWidth(),L=this.enableRtl,Y=(L?c:p)||v,re=L?p:c;"auto"!==s&&(Y="start"===s,re="end"===s);var de="middle"===s;if(Y||re||de){var be=this.getColumnBounds(i),Ce=be.colLeft,Ge=be.colRight;return de?be.colMiddle-M/2:Y?L?Ge:Ce:L?Ce-M:Ge-M}return null},o.prototype.isColumnOutsideViewport=function(i){var s=this.getViewportBounds(),l=s.start,c=s.end,p=this.getColumnBounds(i),v=p.colLeft,M=p.colRight,L=this.enableRtl;return{columnBeforeStart:L?l>M:c<M,columnAfterEnd:L?c<v:l>v}},o.prototype.getColumnBounds=function(i){var s=this.enableRtl,l=this.columnModel.getBodyContainerWidth(),c=i.getActualWidth(),p=i.getLeft(),v=s?-1:1,M=s?l-p:p;return{colLeft:M,colMiddle:M+c/2*v,colRight:M+c*v}},o.prototype.getViewportBounds=function(){var i=this.centerRowContainerCtrl.getCenterWidth(),s=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:s,end:i+s,width:i}},Wo([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Wo([le("animationFrameService")],o.prototype,"animationFrameService",void 0),Wo([le("columnApi")],o.prototype,"columnApi",void 0),Wo([le("gridApi")],o.prototype,"gridApi",void 0),Wo([le("paginationProxy")],o.prototype,"paginationProxy",void 0),Wo([le("rowModel")],o.prototype,"rowModel",void 0),Wo([le("rowContainerHeightService")],o.prototype,"heightScaler",void 0),Wo([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Wo([le("columnModel")],o.prototype,"columnModel",void 0),Wo([Xe],o.prototype,"postConstruct",null),o}(dt),Bg=function(){function u(o){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=o.scrollContainer,this.scrollHorizontally=-1!==o.scrollAxis.indexOf("x"),this.scrollVertically=-1!==o.scrollAxis.indexOf("y"),this.scrollByTick=null!=o.scrollByTick?o.scrollByTick:20,o.onScrollCallback&&(this.onScrollCallback=o.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=o.getVerticalPosition,this.setVerticalPosition=o.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=o.getHorizontalPosition,this.setHorizontalPosition=o.setHorizontalPosition),this.shouldSkipVerticalScroll=o.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=o.shouldSkipHorizontalScroll||function(){return!1}}return u.prototype.check=function(o,i){void 0===i&&(i=!1);var s=i||this.shouldSkipVerticalScroll();if(!s||!this.shouldSkipHorizontalScroll()){var l=this.scrollContainer.getBoundingClientRect(),c=this.scrollByTick;this.tickLeft=o.clientX<l.left+c,this.tickRight=o.clientX>l.right-c,this.tickUp=o.clientY<l.top+c&&!s,this.tickDown=o.clientY>l.bottom-c&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},u.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},u.prototype.doTick=function(){var o;if(this.tickCount++,o=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var i=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(i-o),this.tickDown&&this.setVerticalPosition(i+o)}if(this.scrollHorizontally){var s=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(s-o),this.tickRight&&this.setHorizontalPosition(s+o)}this.onScrollCallback&&this.onScrollCallback()},u.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},u}(),Gy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ea=function(){return ea=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},ea.apply(this,arguments)},oo=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},eS=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},nS=function(u){function o(i){var s=u.call(this)||this;return s.isMultiRowDrag=!1,s.isGridSorted=!1,s.isGridFiltered=!1,s.isRowGroupActive=!1,s.eContainer=i,s}return Gy(o,u),o.prototype.postConstruct=function(){var i=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var s=function(){i.onSortChanged(),i.onFilterChanged(),i.onRowGroupChanged()};this.addManagedListener(this.eventService,xe.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_MODEL_UPDATED,function(){s()}),s(),this.ctrlsService.whenReady(function(){var l=i.ctrlsService.getGridBodyCtrl();i.autoScrollService=new Bg({scrollContainer:l.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return l.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(c){return l.getScrollFeature().setVerticalScrollPosition(c)},onScrollCallback:function(){i.onDragging(i.lastDraggingEvent)}})})},o.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},o.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},o.prototype.onRowGroupChanged=function(){var i=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!x(i)},o.prototype.getContainer=function(){return this.eContainer},o.prototype.isInterestedIn=function(i){return i===j.rvo.RowDrag},o.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?ar.ICON_NOT_ALLOWED:ar.ICON_MOVE},o.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},o.prototype.getRowNodes=function(i){var s=this;if(!this.isFromThisGrid(i))return i.dragItem.rowNodes||[];var l=this.gridOptionsWrapper.isRowDragMultiRow(),c=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(eS(arguments[o]));return u}(this.selectionService.getSelectedNodes()).sort(function(v,M){return s.getRowIndexNumber(v)-s.getRowIndexNumber(M)}),p=i.dragItem.rowNode;return l&&-1!==c.indexOf(p)?(this.isMultiRowDrag=!0,c):(this.isMultiRowDrag=!1,[p])},o.prototype.onDragEnter=function(i){i.dragItem.rowNodes=this.getRowNodes(i),this.dispatchGridEvent(xe.EVENT_ROW_DRAG_ENTER,i),this.getRowNodes(i).forEach(function(s){s.setDragging(!0)}),this.onEnterOrDragging(i)},o.prototype.onDragging=function(i){this.onEnterOrDragging(i)},o.prototype.isFromThisGrid=function(i){return i.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},o.prototype.isDropZoneWithinThisGrid=function(i){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(i.dropZoneTarget)},o.prototype.onEnterOrDragging=function(i){this.dispatchGridEvent(xe.EVENT_ROW_DRAG_MOVE,i),this.lastDraggingEvent=i;var s=this.mouseEventService.getNormalisedPosition(i).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(i,s),this.autoScrollService.check(i.event)},o.prototype.doManagedDrag=function(i,s){var l=this.isFromThisGrid(i),c=this.gridOptionsWrapper.isRowDragManaged(),p=i.dragItem.rowNodes;c&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!l?this.isDropZoneWithinThisGrid(i)||this.clientSideRowModel.highlightRowAtPixel(p[0],s):this.moveRows(p,s))},o.prototype.getRowIndexNumber=function(i){return parseInt(xt(i.getRowIndexString().split("-")),10)},o.prototype.moveRowAndClearHighlight=function(i){var s=this,l=this.clientSideRowModel.getLastHighlightedRowNode(),c=l&&l.highlighted===j.oh5.Below,p=this.mouseEventService.getNormalisedPosition(i).y,v=i.dragItem.rowNodes,M=c?1:0;if(this.isFromThisGrid(i))v.forEach(function(re){re.rowTop<p&&(M-=1)}),this.moveRows(v,p,M);else{var L=this.gridOptionsWrapper.getRowIdFunc(),Y=this.clientSideRowModel.getRowIndexAtPixel(p)+1;this.clientSideRowModel.getHighlightPosition(p)===j.oh5.Above&&Y--,this.clientSideRowModel.updateRowData({add:v.map(function(re){return re.data}).filter(function(re){return!s.clientSideRowModel.getRowNode(L?L({data:re,level:0}):re.id)}),addIndex:Y})}this.clearRowHighlight()},o.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},o.prototype.moveRows=function(i,s,l){void 0===l&&(l=0),this.clientSideRowModel.ensureRowsAtPixel(i,s,l)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},o.prototype.addRowDropZone=function(i){var s=this;if(i.getContainer())if(this.dragAndDropService.findExternalZone(i))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var l={getContainer:i.getContainer};i.fromGrid?(i.fromGrid=void 0,l=i):(i.onDragEnter&&(l.onDragEnter=function(c){i.onDragEnter(s.draggingToRowDragEvent(xe.EVENT_ROW_DRAG_ENTER,c))}),i.onDragLeave&&(l.onDragLeave=function(c){i.onDragLeave(s.draggingToRowDragEvent(xe.EVENT_ROW_DRAG_LEAVE,c))}),i.onDragging&&(l.onDragging=function(c){i.onDragging(s.draggingToRowDragEvent(xe.EVENT_ROW_DRAG_MOVE,c))}),i.onDragStop&&(l.onDragStop=function(c){i.onDragStop(s.draggingToRowDragEvent(xe.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(ea({isInterestedIn:function(c){return c===j.rvo.RowDrag},getIconName:function(){return ar.ICON_MOVE},external:!0},l))}else We(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},o.prototype.getRowDropZone=function(i){var s=this,l=this.getContainer.bind(this),c=this.onDragEnter.bind(this),p=this.onDragLeave.bind(this),v=this.onDragging.bind(this),M=this.onDragStop.bind(this);return i?{getContainer:l,onDragEnter:i.onDragEnter?function(L){c(L),i.onDragEnter(s.draggingToRowDragEvent(xe.EVENT_ROW_DRAG_ENTER,L))}:c,onDragLeave:i.onDragLeave?function(L){p(L),i.onDragLeave(s.draggingToRowDragEvent(xe.EVENT_ROW_DRAG_LEAVE,L))}:p,onDragging:i.onDragging?function(L){v(L),i.onDragging(s.draggingToRowDragEvent(xe.EVENT_ROW_DRAG_MOVE,L))}:v,onDragStop:i.onDragStop?function(L){M(L),i.onDragStop(s.draggingToRowDragEvent(xe.EVENT_ROW_DRAG_END,L))}:M,fromGrid:!0}:{getContainer:l,onDragEnter:c,onDragLeave:p,onDragging:v,onDragStop:M,fromGrid:!0}},o.prototype.draggingToRowDragEvent=function(i,s){var v,M,l=this.mouseEventService.getNormalisedPosition(s).y,p=-1;switch(l>this.paginationProxy.getCurrentPageHeight()||(p=this.rowModel.getRowIndexAtPixel(l),v=this.rowModel.getRow(p)),s.vDirection){case j.HO_.Down:M="down";break;case j.HO_.Up:M="up";break;default:M=null}return{type:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:s.event,node:s.dragItem.rowNode,nodes:s.dragItem.rowNodes,overIndex:p,overNode:v,y:l,vDirection:M}},o.prototype.dispatchGridEvent=function(i,s){var l=this.draggingToRowDragEvent(i,s);this.eventService.dispatchEvent(l)},o.prototype.onDragLeave=function(i){this.dispatchGridEvent(xe.EVENT_ROW_DRAG_LEAVE,i),this.stopDragging(i),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(i)&&(this.isMultiRowDrag=!1)},o.prototype.onDragStop=function(i){this.dispatchGridEvent(xe.EVENT_ROW_DRAG_END,i),this.stopDragging(i),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(i))&&!this.isDropZoneWithinThisGrid(i)&&this.moveRowAndClearHighlight(i)},o.prototype.stopDragging=function(i){this.autoScrollService.ensureCleared(),this.getRowNodes(i).forEach(function(s){s.setDragging(!1)})},oo([le("dragAndDropService")],o.prototype,"dragAndDropService",void 0),oo([le("rowModel")],o.prototype,"rowModel",void 0),oo([le("paginationProxy")],o.prototype,"paginationProxy",void 0),oo([le("columnModel")],o.prototype,"columnModel",void 0),oo([le("focusService")],o.prototype,"focusService",void 0),oo([le("sortController")],o.prototype,"sortController",void 0),oo([le("filterManager")],o.prototype,"filterManager",void 0),oo([le("selectionService")],o.prototype,"selectionService",void 0),oo([le("mouseEventService")],o.prototype,"mouseEventService",void 0),oo([le("ctrlsService")],o.prototype,"ctrlsService",void 0),oo([fn("rangeService")],o.prototype,"rangeService",void 0),oo([le("columnApi")],o.prototype,"columnApi",void 0),oo([le("gridApi")],o.prototype,"gridApi",void 0),oo([Xe],o.prototype,"postConstruct",null),o}(dt),iS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ei=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u.ANIMATION_ON="ag-row-animation",u.ANIMATION_OFF="ag-row-no-animation"}(j.SJN||(j.SJN={}));var rs="ag-selectable",Vg="ag-force-vertical-scroll",By="ag-column-moving",Vy=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return iS(o,u),o.prototype.getScrollFeature=function(){return this.bodyScrollFeature},o.prototype.getBodyViewportElement=function(){return this.eBodyViewport},o.prototype.setComp=function(i,s,l,c,p){this.comp=i,this.eGridBody=s,this.eBodyViewport=l,this.eTop=c,this.eBottom=p,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Fy(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Ly(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([c,l,p]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},o.prototype.getComp=function(){return this.comp},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,xe.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},o.prototype.addFocusListeners=function(i){var s=this;i.forEach(function(l){s.addManagedListener(l,"focusin",function(){l.classList.add("ag-has-focus")}),s.addManagedListener(l,"focusout",function(c){l.contains(c.relatedTarget)||l.classList.remove("ag-has-focus")})})},o.prototype.setColumnMovingCss=function(i){this.comp.setColumnMovingCss(i?By:null,i)},o.prototype.setCellTextSelection=function(i){void 0===i&&(i=!1),this.comp.setCellSelectableCss(i?rs:null,i)},o.prototype.onScrollVisibilityChanged=function(){var i=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(i)},o.prototype.onGridColumnsChanged=function(){var i=this.columnModel.getAllGridColumns();this.comp.setColumnCount(i?i.length:0)},o.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(i){if(i.target instanceof HTMLImageElement)return i.preventDefault(),!1})},o.prototype.addStopEditingWhenGridLosesFocus=function(){var i=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var s=function(c){var p=c.relatedTarget;if(null!==Nh(p)){var v=l.some(function(L){return L.contains(p)})&&i.mouseEventService.isElementInThisGrid(p);if(!v){var M=i.popupService;v=M.getActivePopups().some(function(L){return L.contains(p)})||M.isElementWithinCustomPopup(p)}v||i.rowRenderer.stopEditing()}else i.rowRenderer.stopEditing()},l=[this.eBodyViewport,this.eBottom,this.eTop];l.forEach(function(c){return i.addManagedListener(c,"focusout",s)})}},o.prototype.updateRowCount=function(){var i=this.headerNavigationService.getHeaderRowCount(),s=this.paginationProxy.getType(),l=-1;s===Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(l=0,this.paginationProxy.forEachNode(function(p){p.group||l++})),this.comp.setRowCount(-1===l?-1:i+l)},o.prototype.registerBodyViewportResizeListener=function(i){this.comp.registerBodyViewportResizeListener(i)},o.prototype.setVerticalScrollPaddingVisible=function(i){this.comp.setPinnedTopBottomOverflowY(i?"scroll":"hidden")},o.prototype.isVerticalScrollShowing=function(){var i=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(i?Vg:null,i),i||Mn(this.eBodyViewport)},o.prototype.setupRowAnimationCssClass=function(){var i=this,s=function(){var l=i.gridOptionsWrapper.isAnimateRows()&&!i.rowContainerHeightService.isStretching();i.comp.setRowAnimationCssOnBodyViewport(l?j.SJN.ANIMATION_ON:j.SJN.ANIMATION_OFF,l)};s(),this.addManagedListener(this.eventService,xe.EVENT_HEIGHT_SCALE_CHANGED,s)},o.prototype.getGridBodyElement=function(){return this.eGridBody},o.prototype.addBodyViewportListener=function(){var i=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(l){i.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&l.preventDefault();var c=l.target;(c===i.eBodyViewport||c===i.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&i.contextMenuFactory&&i.contextMenuFactory.onContextMenu(l,null,null,null,null,i.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},o.prototype.onWheel=function(i){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&i.preventDefault()},o.prototype.getGui=function(){return this.eGridBody},o.prototype.scrollVertically=function(i){var s=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(s+i),this.eBodyViewport.scrollTop-s},o.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new nS(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},o.prototype.getRowDragFeature=function(){return this.rowDragFeature},o.prototype.setFloatingHeights=function(){var i=this.pinnedRowModel,s=i.getPinnedTopTotalHeight();s&&(s+=1);var l=i.getPinnedBottomTotalHeight();l&&(l+=1),this.comp.setTopHeight(s),this.comp.setBottomHeight(l),this.comp.setTopDisplay(s?"inherit":"none"),this.comp.setBottomDisplay(l?"inherit":"none")},o.prototype.sizeColumnsToFit=function(i){var s=this,c=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,v=Bu(this.eBodyViewport)-c;v>0?this.columnModel.sizeColumnsToFit(v,"sizeColumnsToFit"):void 0===i?window.setTimeout(function(){s.sizeColumnsToFit(100)},0):100===i?window.setTimeout(function(){s.sizeColumnsToFit(500)},100):500===i?window.setTimeout(function(){s.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},o.prototype.addScrollEventListener=function(i){this.eBodyViewport.addEventListener("scroll",i)},o.prototype.removeScrollEventListener=function(i){this.eBodyViewport.removeEventListener("scroll",i)},Ei([le("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),Ei([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Ei([le("columnModel")],o.prototype,"columnModel",void 0),Ei([le("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Ei([fn("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),Ei([le("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Ei([le("paginationProxy")],o.prototype,"paginationProxy",void 0),Ei([le("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Ei([le("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Ei([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Ei([le("popupService")],o.prototype,"popupService",void 0),Ei([le("mouseEventService")],o.prototype,"mouseEventService",void 0),o}(dt);(function(u){u[u.FILL=0]="FILL",u[u.RANGE=1]="RANGE"})(j.Lm6||(j.Lm6={})),function(u){u[u.VALUE=0]="VALUE",u[u.DIMENSION=1]="DIMENSION"}(j.StC||(j.StC={}));var ud="ag-cell-range-selected",uS=function(){function u(o,i){this.beans=o,this.cellCtrl=i}return u.prototype.setComp=function(o,i){this.cellComp=o,this.eGui=i,this.onRangeSelectionChanged()},u.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ud,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(ud+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(ud+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(ud+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(ud+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Yu(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},u.prototype.updateRangeBorders=function(){var o=this.getRangeBorders(),i=this.isSingleCell(),l=!i&&o.right,c=!i&&o.bottom,p=!i&&o.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!i&&o.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",l),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",p)},u.prototype.isSingleCell=function(){var o=this.beans.rangeService;return 1===this.rangeCount&&o&&!o.isMoreThanOneCell()},u.prototype.getHasChartRange=function(){var o=this.beans.rangeService;if(!this.rangeCount||!o)return!1;var i=o.getCellRanges();return i.length>0&&i.every(function(s){return vo([j.StC.DIMENSION,j.StC.VALUE],s.type)})},u.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},u.prototype.getRangeBorders=function(){var re,de,o=this,i=this.beans.gridOptionsWrapper.isEnableRtl(),s=!1,l=!1,c=!1,p=!1,v=this.cellCtrl.getCellPosition().column,M=this.beans,L=M.rangeService,Y=M.columnModel;i?(re=Y.getDisplayedColAfter(v),de=Y.getDisplayedColBefore(v)):(re=Y.getDisplayedColBefore(v),de=Y.getDisplayedColAfter(v));var be=L.getCellRanges().filter(function(He){return L.isCellInSpecificRange(o.cellCtrl.getCellPosition(),He)});re||(p=!0),de||(l=!0);for(var Ce=0;Ce<be.length&&!(s&&l&&c&&p);Ce++){var Re=be[Ce],Ge=L.getRangeStartRow(Re),Ze=L.getRangeEndRow(Re);!s&&this.beans.rowPositionUtils.sameRow(Ge,this.cellCtrl.getCellPosition())&&(s=!0),!c&&this.beans.rowPositionUtils.sameRow(Ze,this.cellCtrl.getCellPosition())&&(c=!0),!p&&re&&Re.columns.indexOf(re)<0&&(p=!0),!l&&de&&Re.columns.indexOf(de)<0&&(l=!0)}return{top:s,right:l,bottom:c,left:p}},u.prototype.refreshHandle=function(){if(this.beans.rangeService){var o=this.shouldHaveSelectionHandle();this.selectionHandle&&!o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),o&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},u.prototype.shouldHaveSelectionHandle=function(){var o=this.beans,i=o.gridOptionsWrapper,s=o.rangeService,l=s.getCellRanges(),c=l.length;if(this.rangeCount<1||c<1)return!1;var p=xt(l),v=this.cellCtrl.getCellPosition(),M=i.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),L=i.isEnableRangeHandle(),Y=1===c&&!this.cellCtrl.isEditing()&&(M||L);if(this.hasChartRange){var de=l[0].type===j.StC.DIMENSION&&s.isCellInSpecificRange(v,l[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",de),Y=p.type===j.StC.VALUE}return Y&&null!=p.endRow&&s.isContiguousRange(p)&&s.isBottomRightCell(p,v)},u.prototype.addSelectionHandle=function(){var o=this.beans,i=o.gridOptionsWrapper,l=xt(o.rangeService.getCellRanges()).type,p=i.isEnableFillHandle()&&O(l)?j.Lm6.FILL:j.Lm6.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==p&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(p)),this.selectionHandle.refresh(this.cellCtrl)},u.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},u}(),dd=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jy=function(u){function o(i,s){var l=u.call(this)||this;return l.cellCtrl=i,l.beans=s,l.column=i.getColumn(),l.rowNode=i.getRowNode(),l.setupColSpan(),l.setupRowSpan(),l}return dd(o,u),o.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},o.prototype.setComp=function(i){this.eGui=i,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},o.prototype.onDisplayColumnsChanged=function(){var i=this.getColSpanningList();In(this.colsSpanning,i)||(this.colsSpanning=i,this.onWidthChanged(),this.onLeftChanged())},o.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},o.prototype.onWidthChanged=function(){if(this.eGui){var i=this.getCellWidth();this.eGui.style.width=i+"px"}},o.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(i,s){return i+s.getActualWidth()},0):this.column.getActualWidth()},o.prototype.getColSpanningList=function(){var i=this.column.getColSpan(this.rowNode),s=[];if(1===i)s.push(this.column);else for(var l=this.column,c=this.column.getPinned(),p=0;l&&p<i&&(s.push(l),(l=this.beans.columnModel.getDisplayedColAfter(l))&&!O(l)&&c===l.getPinned());p++);return s},o.prototype.onLeftChanged=function(){if(this.eGui){var i=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=i+"px"}},o.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?xt(this.colsSpanning):this.column).getLeft()},o.prototype.modifyLeftForPrintLayout=function(i){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===Ie.PINNED_LEFT)return i;var s=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===Ie.PINNED_RIGHT?s+this.beans.columnModel.getBodyContainerWidth()+(i||0):s+(i||0)},o.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var i=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=i*this.rowSpan+"px",this.eGui.style.zIndex="1"}},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(dt),Os=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),hd=function(u){function o(i,s){var l=u.call(this)||this;return l.staticClasses=[],l.cellCtrl=i,l.beans=s,l.column=i.getColumn(),l.rowNode=i.getRowNode(),l}return Os(o,u),o.prototype.setComp=function(i){this.cellComp=i,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},o.prototype.applyCellClassRules=function(){var i=this,s=this.column.getColDef(),l={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(s.cellClassRules,l,function(c){return i.cellComp.addOrRemoveCssClass(c,!0)},function(c){return i.cellComp.addOrRemoveCssClass(c,!1)})},o.prototype.applyUserStyles=function(){var i=this.column.getColDef();if(i.cellStyle){var s;if("function"==typeof i.cellStyle){var l={column:this.column,value:this.cellCtrl.getValue(),colDef:i,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};s=(0,i.cellStyle)(l)}else s=i.cellStyle;this.cellComp.setUserStyles(s)}},o.prototype.applyClassesFromColDef=function(){var i=this,s=this.column.getColDef(),l={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(c){return i.cellComp.addOrRemoveCssClass(c,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(s,l),this.staticClasses.length&&this.staticClasses.forEach(function(c){return i.cellComp.addOrRemoveCssClass(c,!0)})},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(dt),$y=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gp=function(u){function o(i,s){var l=u.call(this)||this;return l.ctrl=i,l.beans=s,l}return $y(o,u),o.prototype.setComp=function(i){this.comp=i,this.setupTooltip()},o.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},o.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},o.prototype.createTooltipFeatureIfNeeded=function(){var i=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new ut({getTooltipParams:function(){return i.getTooltipParams()},getGui:function(){return i.ctrl.getGui()}}),this.beans.context))},o.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},o.prototype.getTooltipParams=function(){var i=this.ctrl,s=i.getColumn?i.getColumn():void 0,l=i.getColDef?i.getColDef():void 0,c=i.getRowNode?i.getRowNode():void 0;return{location:i.getLocation(),colDef:l,column:s,rowIndex:i.getRowIndex?i.getRowIndex():void 0,node:c,data:c?c.data:void 0,value:this.getTooltipText(),valueFormatted:i.getValueFormatted?i.getValueFormatted():void 0}},o.prototype.getTooltipText=function(){return this.tooltip},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(dt),wn=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Wy=function(){function u(){}return u.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},wn([le("resizeObserverService")],u.prototype,"resizeObserverService",void 0),wn([le("paginationProxy")],u.prototype,"paginationProxy",void 0),wn([le("context")],u.prototype,"context",void 0),wn([le("columnApi")],u.prototype,"columnApi",void 0),wn([le("gridApi")],u.prototype,"gridApi",void 0),wn([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),wn([le("expressionService")],u.prototype,"expressionService",void 0),wn([le("rowRenderer")],u.prototype,"rowRenderer",void 0),wn([le("templateService")],u.prototype,"templateService",void 0),wn([le("valueService")],u.prototype,"valueService",void 0),wn([le("eventService")],u.prototype,"eventService",void 0),wn([le("columnModel")],u.prototype,"columnModel",void 0),wn([le("headerNavigationService")],u.prototype,"headerNavigationService",void 0),wn([le("navigationService")],u.prototype,"navigationService",void 0),wn([le("columnAnimationService")],u.prototype,"columnAnimationService",void 0),wn([fn("rangeService")],u.prototype,"rangeService",void 0),wn([le("focusService")],u.prototype,"focusService",void 0),wn([fn("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),wn([le("popupService")],u.prototype,"popupService",void 0),wn([le("valueFormatterService")],u.prototype,"valueFormatterService",void 0),wn([le("stylingService")],u.prototype,"stylingService",void 0),wn([le("columnHoverService")],u.prototype,"columnHoverService",void 0),wn([le("userComponentFactory")],u.prototype,"userComponentFactory",void 0),wn([le("userComponentRegistry")],u.prototype,"userComponentRegistry",void 0),wn([le("animationFrameService")],u.prototype,"animationFrameService",void 0),wn([le("dragAndDropService")],u.prototype,"dragAndDropService",void 0),wn([le("sortController")],u.prototype,"sortController",void 0),wn([le("filterManager")],u.prototype,"filterManager",void 0),wn([le("rowContainerHeightService")],u.prototype,"rowContainerHeightService",void 0),wn([le("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),wn([le("cellPositionUtils")],u.prototype,"cellPositionUtils",void 0),wn([le("rowPositionUtils")],u.prototype,"rowPositionUtils",void 0),wn([le("selectionService")],u.prototype,"selectionService",void 0),wn([fn("selectionHandleFactory")],u.prototype,"selectionHandleFactory",void 0),wn([le("rowCssClassCalculator")],u.prototype,"rowCssClassCalculator",void 0),wn([le("rowModel")],u.prototype,"rowModel",void 0),wn([le("ctrlsService")],u.prototype,"ctrlsService",void 0),wn([le("ctrlsFactory")],u.prototype,"ctrlsFactory",void 0),wn([le("agStackComponentsRegistry")],u.prototype,"agStackComponentsRegistry",void 0),wn([le("valueCache")],u.prototype,"valueCache",void 0),wn([le("rowNodeEventThrottle")],u.prototype,"rowNodeEventThrottle",void 0),wn([Xe],u.prototype,"postConstruct",null),wn([at("beans")],u)}(),QR=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ZR=function(u){function o(i,s,l){var c=u.call(this)||this;return c.cellCtrl=i,c.beans=s,c.column=l,c}return QR(o,u),o.prototype.onMouseEvent=function(i,s){if(!No(s))switch(i){case"click":this.onCellClicked(s);break;case"mousedown":case"touchstart":this.onMouseDown(s);break;case"dblclick":this.onCellDoubleClicked(s);break;case"mouseout":this.onMouseOut(s);break;case"mouseover":this.onMouseOver(s)}},o.prototype.onCellClicked=function(i){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(i),void i.preventDefault();var s=this.beans,l=s.eventService,c=s.gridOptionsWrapper,p=this.cellCtrl.createEvent(i,xe.EVENT_CELL_CLICKED);l.dispatchEvent(p);var v=this.column.getColDef();v.onCellClicked&&window.setTimeout(function(){return v.onCellClicked(p)},0),(c.isSingleClickEdit()||v.singleClickEdit)&&!c.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},o.prototype.isDoubleClickOnIPad=function(){if(!kr()||fc("dblclick"))return!1;var i=(new Date).getTime(),s=i-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=i,s},o.prototype.onCellDoubleClicked=function(i){var s=this.column.getColDef(),l=this.cellCtrl.createEvent(i,xe.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(l),"function"==typeof s.onCellDoubleClicked&&window.setTimeout(function(){return s.onCellDoubleClicked(l)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,i)},o.prototype.onMouseDown=function(i){var s=i.ctrlKey,l=i.metaKey,c=i.shiftKey,p=i.target,v=this.beans,M=v.eventService,L=v.rangeService;if(!this.isRightClickInExistingRange(i)){var Y=L&&0!=L.getCellRanges().length;if(!c||!Y){var re=Jo()&&!this.cellCtrl.isEditing()&&!Fh(p);this.cellCtrl.focusCell(re)}if(c&&Y&&i.preventDefault(),!this.containsWidget(p)){if(L){var de=this.cellCtrl.getCellPosition();c?L.extendLatestRangeToCell(de):L.setRangeToCell(de,s||l)}M.dispatchEvent(this.cellCtrl.createEvent(i,xe.EVENT_CELL_MOUSE_DOWN))}}},o.prototype.isRightClickInExistingRange=function(i){var s=this.beans.rangeService;return!(!s||!s.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==i.button)},o.prototype.containsWidget=function(i){return Lh(i,"ag-selection-checkbox",3)},o.prototype.onMouseOut=function(i){if(!this.mouseStayingInsideCell(i)){var s=this.cellCtrl.createEvent(i,xe.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.clearMouseOver()}},o.prototype.onMouseOver=function(i){if(!this.mouseStayingInsideCell(i)){var s=this.cellCtrl.createEvent(i,xe.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.setMouseOver([this.column])}},o.prototype.mouseStayingInsideCell=function(i){if(!i.target||!i.relatedTarget)return!1;var s=this.cellCtrl.getGui(),l=s.contains(i.target),c=s.contains(i.relatedTarget);return l&&c},o.prototype.destroy=function(){},o}(Wy),Hg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jg=function(u){function o(i,s,l,c,p){var v=u.call(this)||this;return v.cellCtrl=i,v.beans=s,v.rowNode=c,v.rowCtrl=p,v}return Hg(o,u),o.prototype.setComp=function(i){this.eGui=i},o.prototype.onKeyDown=function(i){var s=i.key;switch(s){case lt.ENTER:this.onEnterKeyDown(i);break;case lt.F2:this.onF2KeyDown(i);break;case lt.ESCAPE:this.onEscapeKeyDown(i);break;case lt.TAB:this.onTabKeyDown(i);break;case lt.BACKSPACE:case lt.DELETE:this.onBackspaceOrDeleteKeyPressed(s,i);break;case lt.DOWN:case lt.UP:case lt.RIGHT:case lt.LEFT:this.onNavigationKeyPressed(i,s)}},o.prototype.onNavigationKeyPressed=function(i,s){this.cellCtrl.isEditing()||(i.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(i):this.beans.navigationService.navigateToNextCell(i,s,this.cellCtrl.getCellPosition(),!0),i.preventDefault())},o.prototype.onShiftRangeSelect=function(i){if(this.beans.rangeService){var s=this.beans.rangeService.extendLatestRangeInDirection(i);s&&this.beans.navigationService.ensureCellVisible(s)}},o.prototype.onTabKeyDown=function(i){this.beans.navigationService.onTabKeyDown(this.cellCtrl,i)},o.prototype.onBackspaceOrDeleteKeyPressed=function(i,s){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(i,void 0,s)},o.prototype.onEnterKeyDown=function(i){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,lt.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(lt.ENTER,void 0,i),this.cellCtrl.isEditing()&&i.preventDefault())},o.prototype.onF2KeyDown=function(i){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(lt.F2,void 0,i)},o.prototype.onEscapeKeyDown=function(i){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},o.prototype.onKeyPress=function(i){if(i.target===this.eGui&&!this.cellCtrl.isEditing()){var c=String.fromCharCode(i.charCode);" "===c?this.onSpaceKeyPressed(i):ry(i)&&(this.cellCtrl.startRowOrCellEdit(null,c,i),i.preventDefault())}},o.prototype.onSpaceKeyPressed=function(i){var s=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&s.isRowSelection()){var l=this.rowNode.isSelected(),c=!l;if(c||!s.isSuppressRowDeselection()){var p=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),v=this.rowNode.setSelectedParams({newValue:c,rangeSelect:i.shiftKey,groupSelectsFiltered:p});void 0===l&&0===v&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:i.shiftKey,groupSelectsFiltered:p})}}i.preventDefault()},o.prototype.destroy=function(){},o}(dt),$g=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),eO=function(u){function o(i,s,l,c){var p=u.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return p.rowNode=i,p.column=s,p.beans=l,p.eCell=c,p}return $g(o,u),o.prototype.postConstruct=function(){this.getGui().appendChild(Rn("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(s){s.stopPropagation()}),this.addDragSource(),this.checkVisibility()},o.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},o.prototype.onDragStart=function(i){var s=this,l=this.column.getColDef().dndSourceOnRowDrag;i.dataTransfer.setDragImage(this.eCell,0,0),l?l({rowNode:this.rowNode,dragEvent:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var v=JSON.stringify(s.rowNode.data);i.dataTransfer.setData("application/json",v),i.dataTransfer.setData("text/plain",v)}catch(M){}}()},o.prototype.checkVisibility=function(){var i=this.column.isDndSource(this.rowNode);this.setDisplayed(i)},function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Xe],o.prototype,"postConstruct",null),o}(un),Uy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),mp=function(){return mp=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},mp.apply(this,arguments)},vp="ag-cell-not-inline-editing",To=0,ta=function(u){function o(i,s,l,c){var p=u.call(this)||this;return p.suppressRefreshCell=!1,p.column=i,p.rowNode=s,p.beans=l,p.rowCtrl=c,p.instanceId=i.getId()+"-"+To++,p.createCellPosition(),p.addFeatures(),p}return Uy(o,u),o.prototype.addFeatures=function(){var i=this;this.cellPositionFeature=new jy(this,this.beans),this.addDestroyFunc(function(){return i.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new hd(this,this.beans),this.addDestroyFunc(function(){return i.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new ZR(this,this.beans,this.column),this.addDestroyFunc(function(){return i.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new jg(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return i.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new uS(this.beans,this),this.addDestroyFunc(function(){return i.cellRangeFeature.destroy()})),this.addTooltipFeature()},o.prototype.addTooltipFeature=function(){var i=this;this.tooltipFeature=new gp({getColumn:function(){return i.column},getColDef:function(){return i.column.getColDef()},getRowIndex:function(){return i.cellPosition.rowIndex},getRowNode:function(){return i.rowNode},getGui:function(){return i.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var c=i.column.getColDef(),p=i.rowNode.data;if(c.tooltipField&&I(p))return we(p,c.tooltipField,i.column.isTooltipFieldContainsDots());var v=c.tooltipValueGetter;return v?v({location:"cell",api:i.beans.gridOptionsWrapper.getApi(),columnApi:i.beans.gridOptionsWrapper.getColumnApi(),context:i.beans.gridOptionsWrapper.getContext(),colDef:i.column.getColDef(),column:i.column,rowIndex:i.cellPosition.rowIndex,node:i.rowNode,data:i.rowNode.data,value:i.value,valueFormatted:i.valueFormatted}):null},getValueFormatted:function(){return i.valueFormatted}},this.beans),this.addDestroyFunc(function(){return i.tooltipFeature.destroy()})},o.prototype.setComp=function(i,s,l,c,p){this.cellComp=i,this.gow=this.beans.gridOptionsWrapper,this.eGui=s,this.eCellWrapper=l,this.printLayout=c,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var v=sn(this.column.getId());this.cellComp.setColId(v),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(s),this.cellCustomStyleFeature.setComp(i),this.tooltipFeature.setComp(i),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(i,s),p&&this.isCellEditable()?this.startEditing():this.showValue()},o.prototype.setupAutoHeight=function(){var i=this;if(this.column.isAutoHeight()){var s=this.eCellWrapper,l=s.parentElement,c=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,p=function(L){if(!i.editing&&i.isAlive()){var Y=tn(l),Ce=s.offsetHeight+Y.paddingTop+Y.paddingBottom;if(L<5){var Re=i.beans.gridOptionsWrapper.getDocument();if(!Re||!Re.contains(s)||0==Ce)return void i.beans.frameworkOverrides.setTimeout(function(){return p(L+1)},0)}var He=Math.max(Ce,c);i.rowNode.setRowAutoHeight(He,i.column)}},v=function(){return p(0)};v();var M=this.beans.resizeObserverService.observeResize(s,v);this.addDestroyFunc(function(){M(),i.rowNode.setRowAutoHeight(void 0,i.column)})}},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.showValue=function(i){void 0===i&&(i=!1);var s=null!=this.valueFormatted?this.valueFormatted:this.value,l=this.createCellRendererParams(),c=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),l);this.cellComp.setRenderDetails(c,s,i),this.refreshHandle()},o.prototype.setupControlComps=function(){var i=this.column.getColDef();this.includeSelection=this.isIncludeControl(i.checkboxSelection),this.includeRowDrag=this.isIncludeControl(i.rowDrag),this.includeDndSource=this.isIncludeControl(i.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},o.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},o.prototype.isIncludeControl=function(i){return!(null!=this.rowNode.rowPinned||"function"!=typeof i&&!0!==i)},o.prototype.refreshShouldDestroy=function(){var i=this.column.getColDef(),s=this.includeSelection!=this.isIncludeControl(i.checkboxSelection),l=this.includeRowDrag!=this.isIncludeControl(i.rowDrag),c=this.includeDndSource!=this.isIncludeControl(i.dndSource);return s||l||c},o.prototype.startEditing=function(i,s,l,c){var p,v;if(void 0===i&&(i=null),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===c&&(c=null),this.isCellEditable()&&!this.editing){var M=this.createCellEditorParams(i,s,l),L=this.column.getColDef(),Y=this.beans.userComponentFactory.getCellEditorDetails(L,M),re=null!=(null===(p=Y)||void 0===p?void 0:p.popupFromSelector)?Y.popupFromSelector:!!L.cellEditorPopup,de=null!=(null===(v=Y)||void 0===v?void 0:v.popupPositionFromSelector)?Y.popupPositionFromSelector:L.cellEditorPopupPosition;this.setEditing(!0,re),this.cellComp.setEditDetails(Y,re,de);var be=this.createEvent(c,xe.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(be)}},o.prototype.setEditing=function(i,s){void 0===s&&(s=!1),this.editing!==i&&(this.editing=i,this.editingInPopup=s,this.setInlineEditingClass())},o.prototype.stopRowOrCellEdit=function(i){void 0===i&&(i=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(i):this.stopEditing(i)},o.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},o.prototype.takeValueFromCellEditor=function(i){var s={newValueExists:!1};if(i)return s;var l=this.cellComp.getCellEditor();return l?l.isCancelAfterEnd&&l.isCancelAfterEnd()?s:{newValue:l.getValue(),newValueExists:!0}:s},o.prototype.saveNewValue=function(i,s){if(s===i)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(i,s),!1;this.suppressRefreshCell=!0;var l=this.rowNode.setDataValue(this.column,s);return this.suppressRefreshCell=!1,l},o.prototype.dispatchEventForSaveValueReadOnly=function(i,s){var l=this.rowNode,c={type:xe.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:l.rowIndex,rowPinned:l.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:l.data,node:l,oldValue:i,newValue:s,value:s,source:void 0};this.beans.eventService.dispatchEvent(c)},o.prototype.stopEditing=function(i){if(void 0===i&&(i=!1),!this.editing)return!1;var s=this.takeValueFromCellEditor(i),l=s.newValue,c=s.newValueExists,p=this.getValueFromValueService(),v=!1;return c&&(v=this.saveNewValue(p,l)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(p,l),v},o.prototype.dispatchEditingStoppedEvent=function(i,s){var l=mp(mp({},this.createEvent(null,xe.EVENT_CELL_EDITING_STOPPED)),{oldValue:i,newValue:s});this.beans.eventService.dispatchEvent(l)},o.prototype.setInlineEditingClass=function(){if(this.isAlive()){var i=this.editing&&!this.editingInPopup,s=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",i),this.cellComp.addOrRemoveCssClass(vp,!i),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",s),this.rowCtrl.setInlineEditingCss(this.editing)}},o.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},o.prototype.createCellEditorParams=function(i,s,l){return{value:this.getValueFromValueService(),key:i,eventKey:i,charPress:s,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:l,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},o.prototype.createCellRendererParams=function(){var i=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(c){return i.beans.valueService.setValue(i.rowNode,i.column,c)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(c,p,v,M){return i.registerRowDragger(c,p,M)},addRowCompListener:function(c,p){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),i.rowCtrl.addEventListener(c,p)}}},o.prototype.parseValue=function(i){var s=this.column.getColDef(),l={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:i,colDef:s,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},c=s.valueParser;return I(c)?this.beans.expressionService.evaluate(c,l):i},o.prototype.setFocusOutOnEditor=function(){if(this.editing){var i=this.cellComp.getCellEditor();i&&i.focusOut&&i.focusOut()}},o.prototype.setFocusInOnEditor=function(){if(this.editing){var i=this.cellComp.getCellEditor();i&&i.focusIn?i.focusIn():this.focusCell(!0)}},o.prototype.onCellChanged=function(i){this.cellComp&&i.column===this.column&&this.refreshCell({})},o.prototype.refreshCell=function(i){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var s=this.column.getColDef(),l=null!=i&&!!i.newData,c=null!=i&&!!i.suppressFlash||!!s.suppressCellFlash,v=i&&i.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||l,M=this.updateAndFormatValue();if(v||M){this.showValue(l);var Y=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!Y&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||s.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},o.prototype.stopEditingAndFocus=function(i){void 0===i&&(i=!1),this.stopRowOrCellEdit(),this.focusCell(!0),i||this.navigateAfterEdit()},o.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,lt.DOWN,this.getCellPosition(),!1)},o.prototype.flashCell=function(i){this.animateCell("data-changed",i&&i.flashDelay,i&&i.fadeDelay)},o.prototype.animateCell=function(i,s,l){var c=this,p="ag-cell-"+i,v="ag-cell-"+i+"-animation",M=this.beans.gridOptionsWrapper;s||(s=M.getCellFlashDelay()),I(l)||(l=M.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(p,!0),this.cellComp.addOrRemoveCssClass(v,!1),window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(p,!1),c.cellComp.addOrRemoveCssClass(v,!0),c.eGui.style.transition="background-color "+l+"ms",window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(v,!1),c.eGui.style.transition=""},l)},s)},o.prototype.onFlashCells=function(i){if(this.cellComp){var s=this.beans.cellPositionUtils.createId(this.getCellPosition());i.cells[s]&&this.animateCell("highlight")}},o.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},o.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},o.prototype.formatValue=function(i){var s=this.callValueFormatter(i);return null!=s?s:i},o.prototype.callValueFormatter=function(i){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,i)},o.prototype.updateAndFormatValue=function(i){void 0===i&&(i=!1);var s=this.value,l=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!i||!this.valuesAreEqual(s,this.value)||this.valueFormatted!=l},o.prototype.valuesAreEqual=function(i,s){var l=this.column.getColDef();return l.equals?l.equals(i,s):i===s},o.prototype.getComp=function(){return this.cellComp},o.prototype.getValueFromValueService=function(){var i=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),s=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!i,l=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),c=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,s&&l&&!c)},o.prototype.getValue=function(){return this.value},o.prototype.getValueFormatted=function(){return this.valueFormatted},o.prototype.addDomData=function(){var i=this,s=this.getGui();this.beans.gridOptionsWrapper.setDomData(s,o.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return i.beans.gridOptionsWrapper.setDomData(s,o.DOM_DATA_KEY_CELL_CTRL,null)})},o.prototype.createEvent=function(i,s){return{type:s,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:i,rowIndex:this.rowNode.rowIndex}},o.prototype.onKeyPress=function(i){this.cellKeyboardListenerFeature.onKeyPress(i)},o.prototype.onKeyDown=function(i){this.cellKeyboardListenerFeature.onKeyDown(i)},o.prototype.onMouseEvent=function(i,s){this.cellMouseListenerFeature.onMouseEvent(i,s)},o.prototype.getGui=function(){return this.eGui},o.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},o.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},o.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},o.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},o.prototype.setAriaColIndex=function(){var i=this.beans.columnModel.getAriaColumnIndex(this.column);Qv(this.getGui(),i)},o.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},o.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},o.prototype.getColumn=function(){return this.column},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getBeans=function(){return this.beans},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.appendChild=function(i){this.eGui.appendChild(i)},o.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},o.prototype.getCellPosition=function(){return this.cellPosition},o.prototype.isEditing=function(){return this.editing},o.prototype.startRowOrCellEdit=function(i,s,l){void 0===l&&(l=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(i,s,this):this.startEditing(i,s,!0,l)},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},o.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},o.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},o.prototype.focusCell=function(i){void 0===i&&(i=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,i)},o.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var i=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",i)}},o.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var i=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",i)}},o.prototype.onCellFocused=function(i){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var s=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",s),s&&i&&i.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var c=this.beans.gridOptionsWrapper.isFullRowEdit();!s&&!c&&this.editing&&this.stopRowOrCellEdit()}},o.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:R(this.rowNode.rowPinned),column:this.column}},o.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(vp,!0);var i=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",i),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!i)},o.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var i=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",i)}},o.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},o.prototype.setWrapText=function(){var i=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",i)},o.prototype.dispatchCellContextMenuEvent=function(i){var s=this.column.getColDef(),l=this.createEvent(i,xe.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(l),s.onCellContextMenu&&window.setTimeout(function(){return s.onCellContextMenu(l)},0)},o.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},o.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.createSelectionCheckbox=function(){var i=new op;return this.beans.context.createBean(i),i.init({rowNode:this.rowNode,column:this.column}),i},o.prototype.createDndSource=function(){var i=new eO(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(i),i},o.prototype.registerRowDragger=function(i,s,l){var c=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(i,s);else{var p=this.createRowDragComp(i,s,l);p&&(this.customRowDragComp=p,this.addDestroyFunc(function(){return c.beans.context.destroyBean(p)}))}},o.prototype.createRowDragComp=function(i,s,l){var c=this,p=this.beans.gridOptionsWrapper.isPagination(),v=this.beans.gridOptionsWrapper.isRowDragManaged(),M=this.beans.gridOptionsWrapper.isRowModelDefault();if(v){if(!M)return void We(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(p)return void We(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var L=new Ic(function(){return c.value},this.rowNode,this.column,i,s,l);return this.beans.context.createBean(L),L},o.DOM_DATA_KEY_CELL_CTRL="cellCtrl",o}(dt),mS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),_S=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},zr=(()=>(function(u){u.Normal="Normal",u.FullWidth="FullWidth",u.FullWidthLoading="FullWidthLoading",u.FullWidthGroup="FullWidthGroup",u.FullWidthDetail="FullWidthDetail"}(zr||(zr={})),zr))(),yS=0,xl=function(u){function o(i,s,l,c,p){var v=u.call(this)||this;return v.allRowGuis=[],v.active=!0,v.centerCellCtrls={list:[],map:{}},v.leftCellCtrls={list:[],map:{}},v.rightCellCtrls={list:[],map:{}},v.lastMouseDownOnDragger=!1,v.updateColumnListsPending=!1,v.beans=s,v.rowNode=i,v.paginationPage=v.beans.paginationProxy.getCurrentPage(),v.useAnimationFrameForCreate=c,v.printLayout=p,v.instanceId=i.id+"-"+yS++,v.setAnimateFlags(l),v.rowFocused=v.beans.focusService.isRowFocused(v.rowNode.rowIndex,v.rowNode.rowPinned),v.rowLevel=v.beans.rowCssClassCalculator.calculateRowLevel(v.rowNode),v.setRowType(),v.addListeners(),v.setInitialRowTop(),v}return mS(o,u),o.prototype.getBeans=function(){return this.beans},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(i,s,l){var c={rowComp:i,element:s,containerType:l};this.allRowGuis.push(c),l===j.EDi.LEFT?this.leftGui=c:l===j.EDi.RIGHT?this.rightGui=c:l===j.EDi.FULL_WIDTH?this.fullWidthGui=c:this.centerGui=c,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},o.prototype.isCacheable=function(){return this.rowType===zr.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},o.prototype.setCached=function(i){var s=i?"none":"";this.allRowGuis.forEach(function(l){return l.element.style.display=s})},o.prototype.initialiseRowComps=function(){var i=this,s=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),s.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&vt(this.onTopChanged.bind(this)),this.fadeRowIn&&vt(function(){i.allRowGuis.forEach(function(v){return v.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var l=this.getRowBusinessKey(),c=sn(this.rowNode.id),p=sn(l);this.allRowGuis.forEach(function(v){var M=v.rowComp;M.setRole("row"),i.getInitialRowClasses(v.containerType).forEach(function(Y){return M.addOrRemoveCssClass(Y,!0)}),i.rowNode.group&&Go(v.element,1==i.rowNode.expanded),null!=c&&M.setRowId(c),null!=p&&M.setRowBusinessKey(p),i.isFullWidth()&&!i.beans.gridOptionsWrapper.isSuppressCellFocus()&&M.setTabIndex(-1),s.setDomData(v.element,o.DOM_DATA_KEY_ROW_CTRL,i),i.addDestroyFunc(function(){return s.setDomData(v.element,o.DOM_DATA_KEY_ROW_CTRL,null)}),i.useAnimationFrameForCreate?i.beans.animationFrameService.createTask(i.addHoverFunctionality.bind(i,v.element),i.rowNode.rowIndex,"createTasksP2"):i.addHoverFunctionality(v.element),i.isFullWidth()&&i.setupFullWidth(v),s.isRowDragEntireRow()&&i.addRowDraggerToRow(v),i.useAnimationFrameForCreate&&i.beans.animationFrameService.addDestroyTask(function(){!i.isAlive()||v.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},o.prototype.addRowDraggerToRow=function(i){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())We(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var l=new Ic(function(){return"1 row"},this.rowNode,void 0,i.element,void 0,!0);this.createManagedBean(l,this.beans.context)}},o.prototype.setupFullWidth=function(i){var s=this.getPinnedForContainer(i.containerType),l=this.createFullWidthParams(i.element,s),c=Le.isRegistered(j.GXE.MasterDetailModule);if(this.rowType!=zr.FullWidthDetail||c){var p;switch(this.rowType){case zr.FullWidthDetail:p=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(l);break;case zr.FullWidthGroup:p=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(l);break;case zr.FullWidthLoading:p=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(l);break;default:p=this.beans.userComponentFactory.getFullWidthCellRendererDetails(l)}i.rowComp.showFullWidth(p)}else Le.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+j.GXE.MasterDetailModule)},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.getCellElement=function(i){var s=this.getCellCtrl(i);return s?s.getGui():null},o.prototype.executeProcessRowPostCreateFunc=function(){var i=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();i&&i({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},o.prototype.setRowType=function(){var i=this.rowNode.stub,s=this.rowNode.isFullWidthCell(),l=this.beans.doingMasterDetail&&this.rowNode.detail,c=this.beans.columnModel.isPivotMode(),v=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(c);this.rowType=i?zr.FullWidthLoading:l?zr.FullWidthDetail:s?zr.FullWidth:v?zr.FullWidthGroup:zr.Normal},o.prototype.updateColumnLists=function(i){var s=this;if(void 0===i&&(i=!1),!this.isFullWidth()){if(i||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!s.active||s.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},o.prototype.createCellCtrls=function(i,s,l){var c=this;void 0===l&&(l=null);var p={list:[],map:{}},v=function(M,L){p.list.push(L),p.map[M]=L};return s.forEach(function(M){var L=M.getInstanceId(),Y=i.map[L];Y||(Y=new ta(M,c.rowNode,c.beans,c)),v(L,Y)}),i.list.forEach(function(M){if(null==p.map[M.getColumn().getInstanceId()]){if(!c.isCellEligibleToBeRemoved(M,l))return void v(M.getColumn().getInstanceId(),M);M.destroy()}}),p},o.prototype.updateColumnListsImpl=function(){var i=this;this.updateColumnListsPending=!1;var s=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var l=s.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,l);var c=s.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,c,Ie.PINNED_LEFT);var p=s.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,p,Ie.PINNED_RIGHT)}this.allRowGuis.forEach(function(v){v.rowComp.setCellCtrls((v.containerType===j.EDi.LEFT?i.leftCellCtrls:v.containerType===j.EDi.RIGHT?i.rightCellCtrls:i.centerCellCtrls).list)})},o.prototype.isCellEligibleToBeRemoved=function(i,s){var l=!0;if(i.getColumn().getPinned()!=s)return l;var v=i.isEditing(),M=this.beans.focusService.isCellFocused(i.getCellPosition());if(v||M){var Y=i.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(Y)>=0)&&l}return l},o.prototype.setAnimateFlags=function(i){if(i){var s=I(this.rowNode.oldRowTop);this.slideRowIn=s,this.fadeRowIn=!s}else this.slideRowIn=!1,this.fadeRowIn=!1},o.prototype.isEditing=function(){return this.editingRow},o.prototype.stopRowEditing=function(i){this.stopEditing(i)},o.prototype.isFullWidth=function(){return this.rowType!==zr.Normal},o.prototype.getRowType=function(){return this.rowType},o.prototype.refreshFullWidth=function(){var i=this,s=function(L,Y){if(!L)return!0;var re=L.rowComp.getFullWidthCellRenderer();if(!re||!re.refresh)return!1;var de=i.createFullWidthParams(L.element,Y);return re.refresh(de)},l=s(this.fullWidthGui,null),c=s(this.centerGui,null),p=s(this.leftGui,Ie.PINNED_LEFT),v=s(this.rightGui,Ie.PINNED_RIGHT);return l&&c&&p&&v},o.prototype.addListeners=function(){this.addManagedListener(this.rowNode,mn.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,mn.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var i=this.beans.eventService;this.addManagedListener(i,xe.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(i,xe.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(i,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(i,xe.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(i,xe.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(i,xe.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(i,xe.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(i,xe.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},o.prototype.onColumnMoved=function(){this.updateColumnLists()},o.prototype.addListenersForCellComps=function(){var i=this;this.addManagedListener(this.rowNode,mn.EVENT_ROW_INDEX_CHANGED,function(){i.getAllCellCtrls().forEach(function(s){return s.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,mn.EVENT_CELL_CHANGED,function(s){i.getAllCellCtrls().forEach(function(l){return l.onCellChanged(s)})})},o.prototype.onRowNodeDataChanged=function(i){this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!i.update,newData:!i.update})}),this.onRowSelected(),this.postProcessCss()},o.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},o.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},o.prototype.onRowNodeHighlightChanged=function(){var i=this.rowNode.highlighted;this.allRowGuis.forEach(function(s){var c=i===j.oh5.Below;s.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i===j.oh5.Above),s.rowComp.addOrRemoveCssClass("ag-row-highlight-below",c)})},o.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},o.prototype.postProcessRowDragging=function(){var i=this.rowNode.dragging;this.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-row-dragging",i)})},o.prototype.updateExpandedCss=function(){var i=this.rowNode.isExpandable(),s=1==this.rowNode.expanded;this.allRowGuis.forEach(function(l){l.rowComp.addOrRemoveCssClass("ag-row-group",i),l.rowComp.addOrRemoveCssClass("ag-row-group-expanded",i&&s),l.rowComp.addOrRemoveCssClass("ag-row-group-contracted",i&&!s),Go(l.element,i&&s)})},o.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},o.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},o.prototype.getRowPosition=function(){return{rowPinned:R(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},o.prototype.onKeyboardNavigate=function(i){var s=this.allRowGuis.find(function(L){return L.element.contains(i.target)});if((s?s.element:null)===i.target){var p=this.rowNode,v=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(i,i.key,{rowIndex:p.rowIndex,rowPinned:p.rowPinned,column:v&&v.column},!0),i.preventDefault()}},o.prototype.onTabKeyDown=function(i){if(!i.defaultPrevented&&!No(i)){var s=this.allRowGuis.find(function(v){return v.element.contains(i.target)}),l=s?s.element:null,c=l===i.target,p=null;c||(p=this.beans.focusService.findNextFocusableElement(l,!1,i.shiftKey)),(this.isFullWidth()&&c||!p)&&this.beans.navigationService.onTabKeyDown(this,i)}},o.prototype.onFullWidthRowFocused=function(i){var s,l=this.rowNode,c=this.isFullWidth()&&i.rowIndex===l.rowIndex&&i.rowPinned==l.rowPinned,p=this.fullWidthGui?this.fullWidthGui.element:null===(s=this.centerGui)||void 0===s?void 0:s.element;!p||(p.classList.toggle("ag-full-width-focus",c),c&&p.focus({preventScroll:!0}))},o.prototype.refreshCell=function(i){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,i),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,i),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,i),this.updateColumnLists()},o.prototype.removeCellCtrl=function(i,s){var l={list:[],map:{}};return i.list.forEach(function(c){c!==s&&(l.list.push(c),l.map[c.getInstanceId()]=c)}),l},o.prototype.onMouseEvent=function(i,s){switch(i){case"dblclick":this.onRowDblClick(s);break;case"click":this.onRowClick(s);break;case"touchstart":case"mousedown":this.onRowMouseDown(s)}},o.prototype.createRowEvent=function(i,s){return{type:i,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:s}},o.prototype.createRowEventWithSource=function(i,s){var l=this.createRowEvent(i,s);return l.source=this,l},o.prototype.onRowDblClick=function(i){if(!No(i)){var s=this.createRowEventWithSource(xe.EVENT_ROW_DOUBLE_CLICKED,i);this.beans.eventService.dispatchEvent(s)}},o.prototype.onRowMouseDown=function(i){if(this.lastMouseDownOnDragger=Lh(i.target,"ag-row-drag",3),this.isFullWidth()){var s=this.rowNode;this.beans.focusService.setFocusedCell(s.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],s.rowPinned,!0)}},o.prototype.onRowClick=function(i){if(!No(i)&&!this.lastMouseDownOnDragger){var l=this.createRowEventWithSource(xe.EVENT_ROW_CLICKED,i);this.beans.eventService.dispatchEvent(l);var c=i.ctrlKey||i.metaKey,p=i.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var M=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),L=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?M?this.rowNode.setSelectedParams({newValue:!1}):c?L&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!p,rangeSelect:p}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!M&&!c,rangeSelect:p})}}},o.prototype.setupDetailRowAutoHeight=function(i){var s=this;if(this.rowType===zr.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var l=function(){var p=i.clientHeight;null!=p&&p>0&&s.beans.frameworkOverrides.setTimeout(function(){s.rowNode.setRowHeight(p),s.beans.clientSideRowModel?s.beans.clientSideRowModel.onRowHeightChanged():s.beans.serverSideRowModel&&s.beans.serverSideRowModel.onRowHeightChanged()},0)},c=this.beans.resizeObserverService.observeResize(i,l);this.addDestroyFunc(c),l()}},o.prototype.createFullWidthParams=function(i,s){var l=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:i,eParentOfValue:i,pinned:s,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(p,v,M,L){return l.addFullWidthRowDragging(p,v,M,L)}}},o.prototype.addFullWidthRowDragging=function(i,s,l,c){if(void 0===l&&(l=""),this.isFullWidth()){var p=new Ic(function(){return l},this.rowNode,void 0,i,s,c);this.createManagedBean(p,this.beans.context)}},o.prototype.onUiLevelChanged=function(){var i=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=i){var s="ag-row-level-"+i,l="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass(s,!0),c.rowComp.addOrRemoveCssClass(l,!1)})}this.rowLevel=i},o.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},o.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},o.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},o.prototype.refreshFirstAndLastRowStyles=function(){var i=this.isFirstRowOnPage(),s=this.isLastRowOnPage();this.firstRowOnPage!==i&&(this.firstRowOnPage=i,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-first",i)})),this.lastRowOnPage!==s&&(this.lastRowOnPage=s,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-last",s)}))},o.prototype.stopEditing=function(i){void 0===i&&(i=!1);var s=this.getAllCellCtrls().map(function(c){return c.stopEditing(i)});if(this.editingRow){if(!i&&s.some(function(c){return c})){var l=this.createRowEvent(xe.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(l)}this.setEditingRow(!1)}},o.prototype.setInlineEditingCss=function(i){this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",i),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!i)})},o.prototype.setEditingRow=function(i){this.editingRow=i,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-editing",i)});var s=this.createRowEvent(i?xe.EVENT_ROW_EDITING_STARTED:xe.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(s)},o.prototype.startRowEditing=function(i,s,l,c){void 0===i&&(i=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(p){var v=p===l;v?p.startEditing(i,s,v,c):p.startEditing(null,null,v,c)}),this.setEditingRow(!0))},o.prototype.getAllCellCtrls=function(){var i=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(_S(arguments[o]));return u}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return i},o.prototype.postProcessClassesFromGridOptions=function(){var i=this,s=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!s||!s.length||s.forEach(function(l){i.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(l,!0)})})},o.prototype.postProcessRowClassRules=function(){var i=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(s){i.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass(s,!0)})},function(s){i.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass(s,!1)})})},o.prototype.setStylesFromGridOptions=function(){var i=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(s){return s.rowComp.setUserStyles(i)})},o.prototype.getRowBusinessKey=function(){var i=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof i)return i(this.rowNode)},o.prototype.getPinnedForContainer=function(i){return i===j.EDi.LEFT?Ie.PINNED_LEFT:i===j.EDi.RIGHT?Ie.PINNED_RIGHT:null},o.prototype.getInitialRowClasses=function(i){var s=this.getPinnedForContainer(i),l={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:s};return this.beans.rowCssClassCalculator.getInitialRowClasses(l)},o.prototype.processStylesFromGridOptions=function(){var i=this.beans.gridOptionsWrapper.getRowStyle();if(!i||"function"!=typeof i){var l,s=this.beans.gridOptionsWrapper.getRowStyleFunc();return s&&(l=s({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},i,l)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},o.prototype.onRowSelected=function(){var i=this,s=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(l){l.rowComp.addOrRemoveCssClass("ag-row-selected",s),Yu(l.element,!!s||void 0);var c=i.createAriaLabel();ul(l.element,null==c?"":c)})},o.prototype.createAriaLabel=function(){var i=this.rowNode.isSelected();if(!i||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(i?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(i?"deselect":"select")+" this row.")},o.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},o.prototype.addHoverFunctionality=function(i){var s=this;!this.active||(this.addManagedListener(i,"mouseenter",function(){return s.rowNode.onMouseEnter()}),this.addManagedListener(i,"mouseleave",function(){return s.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,mn.EVENT_MOUSE_ENTER,function(){s.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||i.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,mn.EVENT_MOUSE_LEAVE,function(){i.classList.remove("ag-row-hover")}))},o.prototype.roundRowTopToBounds=function(i){var l=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.applyPaginationOffset(l.top,!0)-100,p=this.applyPaginationOffset(l.bottom,!0)+100;return Math.min(Math.max(c,i),p)},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var i=this.rowNode.rowHeight,s=this.beans.gridOptionsWrapper.getDefaultRowHeight(),c=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,p=c?Math.min(s,c)-2+"px":void 0;this.allRowGuis.forEach(function(v){v.element.style.height=i+"px",p&&v.element.style.setProperty("--ag-line-height",p)})}},o.prototype.addEventListener=function(i,s){("renderedRowRemoved"===i||"rowRemoved"===i)&&(i=xe.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+xe.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.addEventListener.call(this,i,s)},o.prototype.removeEventListener=function(i,s){("renderedRowRemoved"===i||"rowRemoved"===i)&&(i=xe.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+xe.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.removeEventListener.call(this,i,s)},o.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var i=this.createRowEvent(xe.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(i),this.beans.eventService.dispatchEvent(i),u.prototype.destroy.call(this)},o.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},o.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var i=function(s){return s.list.forEach(function(l){return l.destroy()}),{list:[],map:{}}};this.centerCellCtrls=i(this.centerCellCtrls),this.leftCellCtrls=i(this.leftCellCtrls),this.rightCellCtrls=i(this.rightCellCtrls)},o.prototype.setFocusedClasses=function(){var i=this;this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-focus",i.rowFocused),s.rowComp.addOrRemoveCssClass("ag-row-no-focus",!i.rowFocused)})},o.prototype.onCellFocusChanged=function(){var i=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editingRow&&this.stopEditing(!1)},o.prototype.onPaginationChanged=function(){var i=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==i&&(this.paginationPage=i,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},o.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},o.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},o.prototype.applyPaginationOffset=function(i,s){return void 0===s&&(s=!1),this.rowNode.isRowPinned()?i:i+this.beans.paginationProxy.getPixelOffset()*(s?1:-1)},o.prototype.setRowTop=function(i){if(!this.printLayout&&I(i)){var s=this.applyPaginationOffset(i),l=this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s);this.setRowTopStyle(l+"px")}},o.prototype.getInitialRowTop=function(){return this.initialTop},o.prototype.getInitialTransform=function(){return this.initialTransform},o.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var i=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,s=this.applyPaginationOffset(i),c=(this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=c:this.initialTransform="translateY("+c+")"},o.prototype.setRowTopStyle=function(i){var s=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(l){return s?l.rowComp.setTop(i):l.rowComp.setTransform("translateY("+i+")")})},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getCellCtrl=function(i){var s=null;return this.getAllCellCtrls().forEach(function(l){l.getColumn()==i&&(s=l)}),null!=s||this.getAllCellCtrls().forEach(function(l){l.getColSpanningList().indexOf(i)>=0&&(s=l)}),s},o.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},o.prototype.updateRowIndexes=function(){var i=this.rowNode.getRowIndexString(),s=this.beans.headerNavigationService.getHeaderRowCount(),l=this.rowNode.rowIndex%2==0,c=s+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(p){p.rowComp.setRowIndex(i),p.rowComp.addOrRemoveCssClass("ag-row-even",l),p.rowComp.addOrRemoveCssClass("ag-row-odd",!l),Xv(p.element,c)})},o.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},o.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},o.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},o.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},o.DOM_DATA_KEY_ROW_CTRL="renderedRow",o}(dt),tO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sr=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Wg=function(u){function o(i){var s=u.call(this)||this;return s.element=i,s}return tO(o,u),o.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},o.prototype.addKeyboardEvents=function(){var i=this;["keydown","keypress"].forEach(function(l){var c=i.processKeyboardEvent.bind(i,l);i.addManagedListener(i.element,l,c)})},o.prototype.addMouseListeners=function(){var i=this;["dblclick","contextmenu","mouseover","mouseout","click",fc("touchstart")?"touchstart":"mousedown"].forEach(function(c){var p=i.processMouseEvent.bind(i,c);i.addManagedListener(i.element,c,p)})},o.prototype.processMouseEvent=function(i,s){if(this.mouseEventService.isEventFromThisGrid(s)&&!No(s)){var l=this.getRowForEvent(s),c=this.mouseEventService.getRenderedCellForEvent(s);"contextmenu"===i?this.handleContextMenuMouseEvent(s,null,l,c):(c&&c.onMouseEvent(i,s),l&&l.onMouseEvent(i,s))}},o.prototype.mockContextMenuForIPad=function(){var i=this;if(kr()){var s=new Ir(this.element);this.addManagedListener(s,Ir.EVENT_LONG_TAP,function(c){var p=i.getRowForEvent(c.touchEvent),v=i.mouseEventService.getRenderedCellForEvent(c.touchEvent);i.handleContextMenuMouseEvent(null,c.touchEvent,p,v)}),this.addDestroyFunc(function(){return s.destroy()})}},o.prototype.getRowForEvent=function(i){for(var s=i.target;s;){var l=this.gridOptionsWrapper.getDomData(s,xl.DOM_DATA_KEY_ROW_CTRL);if(l)return l;s=s.parentElement}return null},o.prototype.handleContextMenuMouseEvent=function(i,s,l,c){var p=l?l.getRowNode():null,v=c?c.getColumn():null,M=null;v&&(c.dispatchCellContextMenuEvent(i||s),M=this.valueService.getValue(v,p));var Y=this.ctrlsService.getGridBodyCtrl(),re=c?c.getGui():Y.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(i,s,p,v,M,re)},o.prototype.processKeyboardEvent=function(i,s){var l=Da(this.gridOptionsWrapper,s,ta.DOM_DATA_KEY_CELL_CTRL),c=Da(this.gridOptionsWrapper,s,xl.DOM_DATA_KEY_ROW_CTRL);s.defaultPrevented||(l?this.processCellKeyboardEvent(l,i,s):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,i,s))},o.prototype.processCellKeyboardEvent=function(i,s,l){var c=i.getRowNode(),p=i.getColumn(),v=i.isEditing();if(!dg(this.gridOptionsWrapper,l,c,p,v))switch(s){case"keydown":!v&&this.navigationService.handlePageScrollingKey(l)||i.onKeyDown(l),this.doGridOperations(l,i.isEditing());break;case"keypress":i.onKeyPress(l)}if("keydown"===s){var Y=i.createEvent(l,xe.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(Y)}if("keypress"===s){var re=i.createEvent(l,xe.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(re)}},o.prototype.processFullWidthRowKeyboardEvent=function(i,s,l){var c=i.getRowNode(),p=this.focusService.getFocusedCell();if(!dg(this.gridOptionsWrapper,l,c,p&&p.column,!1)&&"keydown"===s)switch(l.key){case lt.UP:case lt.DOWN:i.onKeyboardNavigate(l);break;case lt.TAB:i.onTabKeyDown(l)}if("keydown"===s){var Y=i.createRowEvent(xe.EVENT_CELL_KEY_DOWN,l);this.eventService.dispatchEvent(Y)}if("keypress"===s){var re=i.createRowEvent(xe.EVENT_CELL_KEY_PRESS,l);this.eventService.dispatchEvent(re)}},o.prototype.doGridOperations=function(i,s){if((i.ctrlKey||i.metaKey)&&!s&&this.mouseEventService.isEventFromThisGrid(i))switch(i.code){case lt.A:return this.onCtrlAndA(i);case lt.C:return this.onCtrlAndC(i);case lt.V:return this.onCtrlAndV();case lt.D:return this.onCtrlAndD(i);case lt.Z:return i.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case lt.Y:return this.undoRedoService.redo()}},o.prototype.onCtrlAndA=function(i){var s=this,l=s.pinnedRowModel,p=s.rangeService,v=Ie.PINNED_BOTTOM,M=Ie.PINNED_TOP;if(p&&s.paginationProxy.isRowsToRender()){var L=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c}([l.isEmpty(M),l.isEmpty(v)],2),de=L[0]?null:M,be=void 0,Ce=void 0;L[1]?(be=null,Ce=this.paginationProxy.getRowCount()-1):(be=v,Ce=l.getPinnedBottomRowData().length-1);var Re=this.columnModel.getAllDisplayedColumns();if(x(Re))return;p.setCellRange({rowStartIndex:0,rowStartPinned:de,rowEndIndex:Ce,rowEndPinned:be,columnStart:Re[0],columnEnd:xt(Re)})}i.preventDefault()},o.prototype.onCtrlAndC=function(i){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),i.preventDefault())},o.prototype.onCtrlAndV=function(){Le.isRegistered(j.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},o.prototype.onCtrlAndD=function(i){Le.isRegistered(j.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),i.preventDefault()},Sr([le("mouseEventService")],o.prototype,"mouseEventService",void 0),Sr([le("valueService")],o.prototype,"valueService",void 0),Sr([fn("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),Sr([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Sr([le("navigationService")],o.prototype,"navigationService",void 0),Sr([le("focusService")],o.prototype,"focusService",void 0),Sr([le("undoRedoService")],o.prototype,"undoRedoService",void 0),Sr([le("columnModel")],o.prototype,"columnModel",void 0),Sr([le("paginationProxy")],o.prototype,"paginationProxy",void 0),Sr([le("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Sr([fn("rangeService")],o.prototype,"rangeService",void 0),Sr([fn("clipboardService")],o.prototype,"clipboardService",void 0),Sr([Xe],o.prototype,"postConstruct",null),o}(dt),Ky=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Mr=function(u){function o(i){var s=u.call(this)||this;return s.centerContainerCtrl=i,s}return Ky(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl(),i.listenForResize()}),this.addManagedListener(this.eventService,xe.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},o.prototype.listenForResize=function(){var i=this,s=function(){return i.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(s),this.gridBodyCtrl.registerBodyViewportResizeListener(s)},o.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},o.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},o.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},o.prototype.getBodyHeight=function(){return this.bodyHeight},o.prototype.checkBodyHeight=function(){var s=Gu(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==s&&(this.bodyHeight=s,this.eventService.dispatchEvent({type:xe.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},o.prototype.updateScrollVisibleServiceImpl=function(){var i={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(i),this.gridBodyCtrl.setVerticalScrollPaddingVisible(i.verticalScrollShowing)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},o.prototype.onHorizontalViewportChanged=function(){var i=this.centerContainerCtrl.getCenterWidth(),s=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(i,s)},Sl([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Sl([le("columnModel")],o.prototype,"columnModel",void 0),Sl([le("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Sl([le("columnApi")],o.prototype,"columnApi",void 0),Sl([le("gridApi")],o.prototype,"gridApi",void 0),Sl([Xe],o.prototype,"postConstruct",null),o}(dt),pd=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Cp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},CS=function(u){function o(i){var s=u.call(this)||this;return s.element=i,s}return pd(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,xe.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},o.prototype.onPinnedLeftWidthChanged=function(){var i=this.pinnedWidthService.getPinnedLeftWidth(),s=i>0;ai(this.element,s),s&&Gi(this.element,i)},Cp([le("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),Cp([Xe],o.prototype,"postConstruct",null),o}(dt),bS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ug=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},wS=function(u){function o(i){var s=u.call(this)||this;return s.element=i,s}return bS(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,xe.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},o.prototype.onPinnedRightWidthChanged=function(){var i=this.pinnedWidthService.getPinnedRightWidth(),s=i>0;ai(this.element,s),s&&Gi(this.element,i)},Ug([le("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),Ug([Xe],o.prototype,"postConstruct",null),o}(dt),qy=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xy=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Qy=function(u){function o(i,s){var l=u.call(this)||this;return l.eContainer=i,l.eWrapper=s,l}return qy(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,xe.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},o.prototype.onHeightChanged=function(){var i=this.maxDivHeightScaler.getUiContainerHeight(),s=null!=i?i+"px":"";this.eContainer.style.height=s,this.eWrapper&&(this.eWrapper.style.height=s)},Xy([le("rowContainerHeightService")],o.prototype,"maxDivHeightScaler",void 0),Xy([Xe],o.prototype,"postConstruct",null),o}(dt),xS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zg=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Yg=function(u){function o(i){var s=u.call(this)||this;return s.eContainer=i,s}return xS(o,u),o.prototype.postConstruct=function(){var i=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!O(this.rangeService)){var s={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(s),this.addDestroyFunc(function(){return i.dragService.removeDragSource(s)})}},zg([fn("rangeService")],o.prototype,"rangeService",void 0),zg([le("dragService")],o.prototype,"dragService",void 0),zg([Xe],o.prototype,"postConstruct",null),o}(dt),SS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zy=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},fd=function(u){function o(i){var s=u.call(this)||this;return s.callback=i,s}return SS(o,u),o.prototype.postConstruct=function(){var i=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,At.PROP_DOM_LAYOUT,i),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.setWidth()},o.prototype.setWidth=function(){var i=this.columnModel,s=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,l=i.getBodyContainerWidth(),c=i.getDisplayedColumnsLeftWidth(),p=i.getDisplayedColumnsRightWidth();this.callback(s?l+c+p:l)},Zy([le("columnModel")],o.prototype,"columnModel",void 0),Zy([Xe],o.prototype,"postConstruct",null),o}(dt),TS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Tl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},gd=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c};(function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth",u.TOP_LEFT="topLeft",u.TOP_RIGHT="topRight",u.TOP_CENTER="topCenter",u.TOP_FULL_WIDTH="topFullWidth",u.BOTTOM_LEFT="bottomLeft",u.BOTTOM_RIGHT="bottomRight",u.BOTTOM_CENTER="bottomCenter",u.BOTTOM_FULL_WIDTH="bottomFullWidth"})(j.hA6||(j.hA6={})),function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth"}(j.EDi||(j.EDi={}));var DS=Lt([[j.hA6.CENTER,"ag-center-cols-container"],[j.hA6.LEFT,"ag-pinned-left-cols-container"],[j.hA6.RIGHT,"ag-pinned-right-cols-container"],[j.hA6.FULL_WIDTH,"ag-full-width-container"],[j.hA6.TOP_CENTER,"ag-floating-top-container"],[j.hA6.TOP_LEFT,"ag-pinned-left-floating-top"],[j.hA6.TOP_RIGHT,"ag-pinned-right-floating-top"],[j.hA6.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[j.hA6.BOTTOM_CENTER,"ag-floating-bottom-container"],[j.hA6.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[j.hA6.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[j.hA6.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),AS=Lt([[j.hA6.CENTER,"ag-center-cols-viewport"],[j.hA6.TOP_CENTER,"ag-floating-top-viewport"],[j.hA6.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),RS=Lt([[j.hA6.CENTER,"ag-center-cols-clipper"]]),md=function(u){function o(i){var s=u.call(this)||this;return s.name=i,s}return TS(o,u),o.getRowContainerCssClasses=function(i){return{container:DS.get(i),viewport:AS.get(i),wrapper:RS.get(i)}},o.getPinned=function(i){switch(i){case j.hA6.BOTTOM_LEFT:case j.hA6.TOP_LEFT:case j.hA6.LEFT:return Ie.PINNED_LEFT;case j.hA6.BOTTOM_RIGHT:case j.hA6.TOP_RIGHT:case j.hA6.RIGHT:return Ie.PINNED_RIGHT;default:return null}},o.prototype.postConstruct=function(){var i=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([j.hA6.CENTER],function(){return i.viewportSizeFeature=i.createManagedBean(new Mr(i))})},o.prototype.registerWithCtrlsService=function(){switch(this.name){case j.hA6.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case j.hA6.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case j.hA6.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case j.hA6.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case j.hA6.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case j.hA6.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case j.hA6.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case j.hA6.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case j.hA6.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},o.prototype.forContainers=function(i,s){i.indexOf(this.name)>=0&&s()},o.prototype.getContainerElement=function(){return this.eContainer},o.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},o.prototype.setComp=function(i,s,l,c){var p=this;this.comp=i,this.eContainer=s,this.eViewport=l,this.eWrapper=c,this.createManagedBean(new Wg(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var Y=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(gd(arguments[o]));return u}([j.hA6.TOP_CENTER,j.hA6.TOP_LEFT,j.hA6.TOP_RIGHT],[j.hA6.BOTTOM_CENTER,j.hA6.BOTTOM_LEFT,j.hA6.BOTTOM_RIGHT],[j.hA6.CENTER,j.hA6.LEFT,j.hA6.RIGHT]),re=[j.hA6.CENTER,j.hA6.LEFT,j.hA6.RIGHT,j.hA6.FULL_WIDTH],de=[j.hA6.CENTER,j.hA6.TOP_CENTER,j.hA6.BOTTOM_CENTER],Ce=[j.hA6.RIGHT,j.hA6.BOTTOM_RIGHT,j.hA6.TOP_RIGHT];this.forContainers([j.hA6.LEFT,j.hA6.BOTTOM_LEFT,j.hA6.TOP_LEFT],function(){return p.createManagedBean(new CS(p.eContainer))}),this.forContainers(Ce,function(){return p.createManagedBean(new wS(p.eContainer))}),this.forContainers(re,function(){return p.createManagedBean(new Qy(p.eContainer,p.eWrapper))}),this.forContainers(Y,function(){return p.createManagedBean(new Yg(p.eContainer))}),this.forContainers(de,function(){return p.createManagedBean(new fd(function(Re){return p.comp.setContainerWidth(Re+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},o.prototype.addListeners=function(){var i=this;this.addManagedListener(this.eventService,xe.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return i.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return i.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return i.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_ROWS_CHANGED,function(){return i.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},o.prototype.listenOnDomOrder=function(){var i=this,s=function(){return i.comp.setDomOrder(i.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,At.PROP_DOM_LAYOUT,s),s()},o.prototype.stopHScrollOnPinnedRows=function(){var i=this;this.forContainers([j.hA6.TOP_CENTER,j.hA6.BOTTOM_CENTER],function(){i.addManagedListener(i.eViewport,"scroll",function(){return i.eViewport.scrollLeft=0})})},o.prototype.onDisplayedColumnsChanged=function(){var i=this;this.forContainers([j.hA6.CENTER],function(){return i.onHorizontalViewportChanged()})},o.prototype.onDisplayedColumnsWidthChanged=function(){var i=this;this.forContainers([j.hA6.CENTER],function(){return i.onHorizontalViewportChanged()})},o.prototype.onScrollVisibilityChanged=function(){if(this.name===j.hA6.CENTER){var s=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==s?"100%":"calc(100% + "+s+"px)")}},o.prototype.addPreventScrollWhileDragging=function(){var i=this,s=function(l){i.dragService.isDragging()&&l.cancelable&&l.preventDefault()};this.eContainer.addEventListener("touchmove",s,{passive:!1}),this.addDestroyFunc(function(){return i.eContainer.removeEventListener("touchmove",s)})},o.prototype.onHorizontalViewportChanged=function(){var i=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,s)},o.prototype.getCenterWidth=function(){return Bu(this.eViewport)},o.prototype.getCenterViewportScrollLeft=function(){return Hu(this.eViewport,this.enableRtl)},o.prototype.registerViewportResizeListener=function(i){var s=this.resizeObserverService.observeResize(this.eViewport,i);this.addDestroyFunc(function(){return s()})},o.prototype.isViewportVisible=function(){return bo(this.eViewport)},o.prototype.isViewportHScrollShowing=function(){return Mt(this.eViewport)},o.prototype.getViewportScrollLeft=function(){return Hu(this.eViewport,this.enableRtl)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||Mt(this.eViewport)},o.prototype.getViewportElement=function(){return this.eViewport},o.prototype.setContainerTranslateX=function(i){this.eContainer.style.transform="translateX("+i+"px)"},o.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},o.prototype.setCenterViewportScrollLeft=function(i){ju(this.eViewport,i,this.enableRtl)},o.prototype.onDisplayedRowsChanged=function(){var i=this,s=this.name===j.hA6.TOP_FULL_WIDTH||this.name===j.hA6.BOTTOM_FULL_WIDTH||this.name===j.hA6.FULL_WIDTH,p=this.getRowCtrls().filter(function(v){var M=v.isFullWidth(),L=i.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,Y=i.embedFullWidthRows||L;return s?!Y&&M:Y||!M});this.comp.setRowCtrls(p)},o.prototype.getRowCtrls=function(){switch(this.name){case j.hA6.TOP_CENTER:case j.hA6.TOP_LEFT:case j.hA6.TOP_RIGHT:case j.hA6.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case j.hA6.BOTTOM_CENTER:case j.hA6.BOTTOM_LEFT:case j.hA6.BOTTOM_RIGHT:case j.hA6.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},Tl([le("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Tl([le("dragService")],o.prototype,"dragService",void 0),Tl([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Tl([le("columnModel")],o.prototype,"columnModel",void 0),Tl([le("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Tl([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Tl([Xe],o.prototype,"postConstruct",null),o}(dt),OS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),El=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},kS='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+j.hA6.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+j.hA6.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+j.hA6.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+j.hA6.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+j.hA6.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+j.hA6.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+j.hA6.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+j.hA6.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+j.hA6.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+j.hA6.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+j.hA6.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+j.hA6.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',eC=function(u){function o(){return u.call(this,kS)||this}return OS(o,u),o.prototype.init=function(){var i=this,s=function(c,p){var v=c+"px";p.style.minHeight=v,p.style.height=v},l={setRowAnimationCssOnBodyViewport:function(c,p){return i.setRowAnimationCssOnBodyViewport(c,p)},setColumnCount:function(c){return gx(i.getGui(),c)},setRowCount:function(c){return fx(i.getGui(),c)},setTopHeight:function(c){return s(c,i.eTop)},setBottomHeight:function(c){return s(c,i.eBottom)},setTopDisplay:function(c){return i.eTop.style.display=c},setBottomDisplay:function(c){return i.eBottom.style.display=c},setColumnMovingCss:function(c,p){return i.addOrRemoveCssClass(By,p)},updateLayoutClasses:function(c,p){var v=i.eBodyViewport.classList;v.toggle(j.LBn.AUTO_HEIGHT,p.autoHeight),v.toggle(j.LBn.NORMAL,p.normal),v.toggle(j.LBn.PRINT,p.print),i.addOrRemoveCssClass(j.LBn.AUTO_HEIGHT,p.autoHeight),i.addOrRemoveCssClass(j.LBn.NORMAL,p.normal),i.addOrRemoveCssClass(j.LBn.PRINT,p.print)},setAlwaysVerticalScrollClass:function(c,p){return i.eBodyViewport.classList.toggle(Vg,p)},registerBodyViewportResizeListener:function(c){var p=i.resizeObserverService.observeResize(i.eBodyViewport,c);i.addDestroyFunc(function(){return p()})},setPinnedTopBottomOverflowY:function(c){return i.eTop.style.overflowY=i.eBottom.style.overflowY=c},setCellSelectableCss:function(c,p){[i.eTop,i.eBodyViewport,i.eBottom].forEach(function(v){return v.classList.toggle(rs,p)})}};this.ctrl=this.createManagedBean(new Vy),this.ctrl.setComp(l,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&px(this.getGui(),!0)},o.prototype.setRowAnimationCssOnBodyViewport=function(i,s){var l=this.eBodyViewport.classList;l.toggle(j.SJN.ANIMATION_ON,s),l.toggle(j.SJN.ANIMATION_OFF,!s)},o.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},El([le("resizeObserverService")],o.prototype,"resizeObserverService",void 0),El([fn("rangeService")],o.prototype,"rangeService",void 0),El([st("eBodyViewport")],o.prototype,"eBodyViewport",void 0),El([st("eTop")],o.prototype,"eTop",void 0),El([st("eBottom")],o.prototype,"eBottom",void 0),El([st("gridHeader")],o.prototype,"headerRootComp",void 0),El([Xe],o.prototype,"init",null),o}(un),PS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Bc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},tC=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return PS(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},o.prototype.onDisplayedColumnsChanged=function(){this.update()},o.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},o.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},o.prototype.updateImpl=function(){var i=this.ctrlsService.getCenterRowContainerCtrl();if(i){var s={horizontalScrollShowing:i.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(s)}},o.prototype.setScrollsVisible=function(i){this.horizontalScrollShowing===i.horizontalScrollShowing&&this.verticalScrollShowing===i.verticalScrollShowing||(this.horizontalScrollShowing=i.horizontalScrollShowing,this.verticalScrollShowing=i.verticalScrollShowing,this.eventService.dispatchEvent({type:xe.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},o.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Bc([le("columnApi")],o.prototype,"columnApi",void 0),Bc([le("gridApi")],o.prototype,"gridApi",void 0),Bc([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Bc([Xe],o.prototype,"postConstruct",null),Bc([at("scrollVisibleService")],o)}(dt),IS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},os=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.gridInstanceId=i.gridInstanceSequence.next(),s}var i;return IS(o,u),i=o,o.prototype.stampTopLevelGridCompWithGridInstance=function(s){s[i.GRID_DOM_KEY]=this.gridInstanceId},o.prototype.getRenderedCellForEvent=function(s){return Da(this.gridOptionsWrapper,s,ta.DOM_DATA_KEY_CELL_CTRL)},o.prototype.isEventFromThisGrid=function(s){return this.isElementInThisGrid(s.target)},o.prototype.isElementInThisGrid=function(s){for(var l=s;l;){var c=l[i.GRID_DOM_KEY];if(I(c))return c===this.gridInstanceId;l=l.parentElement}return!1},o.prototype.getCellPositionForEvent=function(s){var l=this.getRenderedCellForEvent(s);return l?l.getCellPosition():null},o.prototype.getNormalisedPosition=function(s){var p,v,l=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_NORMAL;if(null!=s.clientX||null!=s.clientY?(p=s.clientX,v=s.clientY):(p=s.x,v=s.y),l){var M=this.ctrlsService.getGridBodyCtrl(),L=M.getScrollFeature().getVScrollPosition();p+=M.getScrollFeature().getHScrollPosition().left,v+=L.top}return{x:p,y:v}},o.gridInstanceSequence=new wc,o.GRID_DOM_KEY="__ag_grid_instance",Dl([le("ctrlsService")],o.prototype,"ctrlsService",void 0),i=Dl([at("mouseEventService")],o)}(dt),nO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Kg=function(){return Kg=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Kg.apply(this,arguments)},Tr=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},MS=function(u){function o(){var i=u.call(this)||this;return i.onPageDown=et(i.onPageDown,100),i.onPageUp=et(i.onPageUp,100),i}return nO(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridBodyCon=s.gridBodyCtrl})},o.prototype.handlePageScrollingKey=function(i){var s=i.key,l=i.altKey,c=i.ctrlKey||i.metaKey,p=!!this.rangeService&&i.shiftKey,v=this.mouseEventService.getCellPositionForEvent(i);if(!v)return!1;var M=!1;switch(s){case lt.PAGE_HOME:case lt.PAGE_END:!c&&!l&&(this.onHomeOrEndKey(s),M=!0);break;case lt.LEFT:case lt.RIGHT:case lt.UP:case lt.DOWN:c&&!l&&!p&&(this.onCtrlUpDownLeftRight(s,v),M=!0);break;case lt.PAGE_DOWN:!c&&!l&&(this.onPageDown(v),M=!0);break;case lt.PAGE_UP:!c&&!l&&(this.onPageUp(v),M=!0)}return M&&i.preventDefault(),M},o.prototype.navigateTo=function(i){var s=i.scrollIndex,l=i.scrollType,c=i.scrollColumn,p=i.focusIndex,v=i.focusColumn;I(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),I(s)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(s,l),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(p,v,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:p,rowPinned:null,column:v})},o.prototype.onPageDown=function(i){var l=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.getViewportHeight(),p=this.paginationProxy.getPixelOffset(),M=this.paginationProxy.getRowIndexAtPixel(l.top+c+p);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(i,M):this.navigateToNextPage(i,M)},o.prototype.onPageUp=function(i){var l=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.paginationProxy.getPixelOffset(),v=this.paginationProxy.getRowIndexAtPixel(l.top+c);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(i,v,!0):this.navigateToNextPage(i,v,!0)},o.prototype.navigateToNextPage=function(i,s,l){void 0===l&&(l=!1);var c,p,Ge,v=this.getViewportHeight(),M=this.paginationProxy.getPageFirstRow(),L=this.paginationProxy.getPageLastRow(),Y=this.paginationProxy.getPixelOffset(),re=this.paginationProxy.getRow(i.rowIndex),de=l?(null===(c=re)||void 0===c?void 0:c.rowHeight)-v-Y:v-Y,be=(null===(p=re)||void 0===p?void 0:p.rowTop)+de,Ce=this.paginationProxy.getRowIndexAtPixel(be+Y);Ce===i.rowIndex&&(s=Ce=i.rowIndex+(l?-1:1)),l?(Ge="bottom",Ce<M&&(Ce=M),s<M&&(s=M)):(Ge="top",Ce>L&&(Ce=L),s>L&&(s=L)),this.isRowTallerThanView(Ce)&&(s=Ce,Ge="top"),this.navigateTo({scrollIndex:s,scrollType:Ge,scrollColumn:null,focusIndex:Ce,focusColumn:i.column})},o.prototype.navigateToNextPageWithAutoHeight=function(i,s,l){var c=this;void 0===l&&(l=!1),this.navigateTo({scrollIndex:s,scrollType:l?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:i.column}),setTimeout(function(){var p=c.getNextFocusIndexForAutoHeight(i,l);c.navigateTo({scrollIndex:s,scrollType:l?"bottom":"top",scrollColumn:null,focusIndex:p,focusColumn:i.column})},50)},o.prototype.getNextFocusIndexForAutoHeight=function(i,s){void 0===s&&(s=!1);for(var l,c=s?-1:1,p=this.getViewportHeight(),v=this.paginationProxy.getPageLastRow(),M=0,L=i.rowIndex;L>=0&&L<=v;){var Y=this.paginationProxy.getRow(L);if(Y){var re=null!=(l=Y.rowHeight)?l:0;if(M+re>p)break;M+=re}L+=c}return Math.max(0,Math.min(L,v))},o.prototype.getViewportHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),l=this.gridOptionsWrapper.getScrollbarWidth(),c=s.bottom-s.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(c-=l),c},o.prototype.isRowTallerThanView=function(i){var s=this.paginationProxy.getRow(i);if(!s)return!1;var l=s.rowHeight;return"number"==typeof l&&l>this.getViewportHeight()},o.prototype.onCtrlUpDownLeftRight=function(i,s){var l=this.cellNavigationService.getNextCellToFocus(i,s,!0),c=l.rowIndex,p=l.column;this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:p,focusIndex:c,focusColumn:p})},o.prototype.onHomeOrEndKey=function(i){var s=i===lt.PAGE_HOME,l=this.columnModel.getAllDisplayedColumns(),c=s?l[0]:xt(l),p=s?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:p,scrollType:null,scrollColumn:c,focusIndex:p,focusColumn:c})},o.prototype.onTabKeyDown=function(i,s){var l=s.shiftKey;if(this.tabToNextCellCommon(i,l,s))s.preventDefault();else if(l){var p=i.getRowPosition(),v=p.rowIndex;(p.rowPinned?0===v:v===this.paginationProxy.getPageFirstRow())&&(s.preventDefault(),this.focusService.focusLastHeader(s))}else i instanceof ta&&i.focusCell(!0),this.focusService.focusNextGridCoreContainer(l)&&s.preventDefault()},o.prototype.tabToNextCell=function(i,s){var l=this.focusService.getFocusedCell();if(!l)return!1;var c=this.getCellByPosition(l);return!!(c||(c=this.rowRenderer.getRowByPosition(l),c&&c.isFullWidth()))&&this.tabToNextCellCommon(c,i,s)},o.prototype.tabToNextCellCommon=function(i,s,l){var c=i.isEditing();if(!c&&i instanceof ta){var v=i.getRowCtrl();v&&(c=v.isEditing())}return(c?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(i,s,l):this.moveToNextEditingCell(i,s,l):this.moveToNextCellNotEditing(i,s))||!!this.focusService.getFocusedHeader()},o.prototype.moveToNextEditingCell=function(i,s,l){void 0===l&&(l=null);var c=i.getCellPosition();i.stopEditing();var p=this.findNextCellToFocusOn(c,s,!0);return null!=p&&(p.startEditing(null,null,!0,l),p.focusCell(!1),!0)},o.prototype.moveToNextEditingRow=function(i,s,l){void 0===l&&(l=null);var c=i.getCellPosition(),p=this.findNextCellToFocusOn(c,s,!0);if(null==p)return!1;var v=p.getCellPosition(),M=this.isCellEditable(c),L=this.isCellEditable(v),Y=v&&c.rowIndex===v.rowIndex&&c.rowPinned===v.rowPinned;return M&&i.setFocusOutOnEditor(),Y||(i.getRowCtrl().stopEditing(),p.getRowCtrl().startRowEditing(void 0,void 0,void 0,l)),L?(p.setFocusInOnEditor(),p.focusCell()):p.focusCell(!0),!0},o.prototype.moveToNextCellNotEditing=function(i,s){var c,l=this.columnModel.getAllDisplayedColumns();c=i instanceof xl?Kg(Kg({},i.getRowPosition()),{column:s?l[0]:xt(l)}):i.getCellPosition();var p=this.findNextCellToFocusOn(c,s,!1);if(p instanceof ta)p.focusCell(!0);else if(p)return this.tryToFocusFullWidthRow(p.getRowPosition(),s);return I(p)},o.prototype.findNextCellToFocusOn=function(i,s,l){for(var c=i;;){i!==c&&(i=c),s||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,s);var p=this.gridOptionsWrapper.getTabToNextCellFunc();if(I(p)){var M=p({backwards:s,editing:l,previousCellPosition:i,nextCellPosition:c||null});I(M)?(M.floating&&(We(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),M.rowPinned=M.floating),c={rowIndex:M.rowIndex,column:M.column,rowPinned:M.rowPinned}):c=null}if(!c)return null;if(c.rowIndex<0){var L=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:L+c.rowIndex,column:c.column}}),null}var Y=this.gridOptionsWrapper.isFullRowEdit();if(!l||Y||this.isCellEditable(c)){this.ensureCellVisible(c);var de=this.getCellByPosition(c);if(!de){var be=this.rowRenderer.getRowByPosition(c);if(!be||!be.isFullWidth())continue;return be}if(!de.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(c),de}}},o.prototype.isCellEditable=function(i){var s=this.lookupRowNodeForCell(i);return!!s&&i.column.isCellEditable(s)},o.prototype.getCellByPosition=function(i){var s=this.rowRenderer.getRowByPosition(i);return s?s.getCellCtrl(i.column):null},o.prototype.lookupRowNodeForCell=function(i){return i.rowPinned===Ie.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(i.rowIndex):i.rowPinned===Ie.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(i.rowIndex):this.paginationProxy.getRow(i.rowIndex)},o.prototype.navigateToNextCell=function(i,s,l,c){for(var p=l,v=!1;p&&(p===l||!this.isValidNavigateCell(p));)this.gridOptionsWrapper.isEnableRtl()?s===lt.LEFT&&(p=this.getLastCellOfColSpan(p)):s===lt.RIGHT&&(p=this.getLastCellOfColSpan(p)),v=O(p=this.cellNavigationService.getNextCellToFocus(s,p));if(v&&i&&i.key===lt.UP&&(p={rowIndex:-1,rowPinned:null,column:l.column}),c){var M=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(I(M)){var Y=M({key:s,previousCellPosition:l,nextCellPosition:p||null,event:i});I(Y)?(Y.floating&&(We(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),Y.rowPinned=Y.floating),p={rowPinned:Y.rowPinned,rowIndex:Y.rowIndex,column:Y.column}):p=null}}if(p){if(p.rowIndex<0){var re=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:re+p.rowIndex,column:l.column},event:i||void 0})}var de=this.getNormalisedPosition(p);de?this.focusPosition(de):this.tryToFocusFullWidthRow(p)}},o.prototype.getNormalisedPosition=function(i){this.ensureCellVisible(i);var s=this.getCellByPosition(i);return s?(i=s.getCellPosition(),this.ensureCellVisible(i),i):null},o.prototype.tryToFocusFullWidthRow=function(i,s){void 0===s&&(s=!1);var l=this.columnModel.getAllDisplayedColumns(),c=this.rowRenderer.getRowByPosition(i);if(!c||!c.isFullWidth())return!1;var p=this.focusService.getFocusedCell(),v={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column||(s?xt(l):l[0])};this.focusPosition(v);var M=null!=p&&this.rowPositionUtils.before(v,p);return this.eventService.dispatchEvent({type:xe.EVENT_FULL_WIDTH_ROW_FOCUSED,api:this.gridApi,columnApi:this.columnApi,rowIndex:v.rowIndex,rowPinned:v.rowPinned,column:v.column,isFullWidthCell:!0,floating:v.rowPinned,fromBelow:M}),!0},o.prototype.focusPosition=function(i){this.focusService.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(i)},o.prototype.isValidNavigateCell=function(i){return!!this.rowPositionUtils.getRowNode(i)},o.prototype.getLastCellOfColSpan=function(i){var s=this.getCellByPosition(i);if(!s)return i;var l=s.getColSpanningList();return 1===l.length?i:{rowIndex:i.rowIndex,column:xt(l),rowPinned:i.rowPinned}},o.prototype.ensureCellVisible=function(i){O(i.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i.rowIndex),i.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(i.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},Tr([le("columnApi")],o.prototype,"columnApi",void 0),Tr([le("gridApi")],o.prototype,"gridApi",void 0),Tr([le("mouseEventService")],o.prototype,"mouseEventService",void 0),Tr([le("paginationProxy")],o.prototype,"paginationProxy",void 0),Tr([le("focusService")],o.prototype,"focusService",void 0),Tr([le("animationFrameService")],o.prototype,"animationFrameService",void 0),Tr([fn("rangeService")],o.prototype,"rangeService",void 0),Tr([le("columnModel")],o.prototype,"columnModel",void 0),Tr([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Tr([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Tr([le("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Tr([le("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),Tr([le("cellNavigationService")],o.prototype,"cellNavigationService",void 0),Tr([le("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Tr([Xe],o.prototype,"postConstruct",null),Tr([at("navigationService")],o)}(dt),Eo=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bp=function(u){function o(i){var s=u.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return s.params=i,s}return Eo(o,u),o.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),o.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},o.prototype.addKeyDownListener=function(){var i=this,s=this.getGui(),l=this.params;this.addManagedListener(s,"keydown",function(p){dg(i.gridOptionsWrapper,p,l.node,l.column,!0)||l.onKeyDown(p)})},o.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Xe],o.prototype,"postConstruct",null),o}(gl),NS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xg=function(u){function o(i,s,l,c,p){var v=u.call(this)||this;v.rendererVersion=0,v.editorVersion=0,v.beans=i,v.column=s.getColumn(),v.rowNode=s.getRowNode(),v.rowCtrl=s.getRowCtrl(),v.eRow=c,v.setTemplate('<div comp-id="'+v.getCompId()+'"/>');var M=v.getGui();v.forceWrapper=s.isForceWrapper(),v.refreshWrapper(!1);var L=function(re,de,be){var Ce=be||M;null!=de&&""!=de?Ce.setAttribute(re,de):Ce.removeAttribute(re)},Y={addOrRemoveCssClass:function(re,de){return v.addOrRemoveCssClass(re,de)},setUserStyles:function(re){return no(M,re)},getFocusableElement:function(){return v.getFocusableElement()},setTabIndex:function(re){return L("tabindex",re.toString())},setRole:function(re){return rr(M,re)},setColId:function(re){return L("col-id",re)},setTitle:function(re){return L("title",re)},setIncludeSelection:function(re){return v.includeSelection=re},setIncludeRowDrag:function(re){return v.includeRowDrag=re},setIncludeDndSource:function(re){return v.includeDndSource=re},setRenderDetails:function(re,de,be){return v.setRenderDetails(re,de,be)},setEditDetails:function(re,de,be){return v.setEditDetails(re,de,be)},getCellEditor:function(){return v.cellEditor||null},getCellRenderer:function(){return v.cellRenderer||null},getParentOfValue:function(){return v.getParentOfValue()}};return v.cellCtrl=s,s.setComp(Y,v.getGui(),v.eCellWrapper,l,p),v}return NS(o,u),o.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},o.prototype.setRenderDetails=function(i,s,l){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var p=this.refreshWrapper(!1);i?!l&&!p&&this.refreshCellRenderer(i)||(this.destroyRenderer(),this.createCellRendererInstance(i)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(s))}},o.prototype.setEditDetails=function(i,s,l){i?this.createCellEditorInstance(i,s,l):this.destroyEditor()},o.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},o.prototype.refreshWrapper=function(i){var s=this.includeRowDrag||this.includeDndSource||this.includeSelection,l=s||this.forceWrapper,c=l&&null==this.eCellWrapper;c&&(this.eCellWrapper=Si('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var p=!l&&null!=this.eCellWrapper;p&&(_i(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!l);var v=!i&&l,M=v&&null==this.eCellValue;M&&(this.eCellValue=Si('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var L=!v&&null!=this.eCellValue;L&&(_i(this.eCellValue),this.eCellValue=void 0);var Y=c||p||M||L;return Y&&this.removeControls(),!i&&s&&this.addControls(),Y},o.prototype.addControls=function(){var i=this.eCellValue.id="cell-"+this.getCompId(),s=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),s.push(this.checkboxSelectionComp.getCheckboxId())),s.push(i),zv(this.getGui(),s.join(" "))},o.prototype.createCellEditorInstance=function(i,s,l){var c=this,p=this.editorVersion,v=i.newAgStackInstance();if(v){var M=i.params;v.then(function(Y){return c.afterCellEditorCreated(p,Y,M,s,l)}),O(this.cellEditor)&&M.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},o.prototype.insertValueWithoutCellRenderer=function(i){var s=this.getParentOfValue();gt(s);var l=null!=i?sn(i):null;null!=l&&(s.innerHTML=l)},o.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},o.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),_i(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},o.prototype.destroyEditor=function(){var i=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=i.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=i.destroyBean(this.cellEditorPopupWrapper),_i(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},o.prototype.refreshCellRenderer=function(i){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==i.componentClass)return!1;var s=this.cellRenderer.refresh(i.params);return!0===s||void 0===s},o.prototype.createCellRendererInstance=function(i){var s=this,l=this.beans.gridOptionsWrapper.isAngularCompileRows(),c=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),v=this.rendererVersion,M=i.componentClass,L=function(){if(s.rendererVersion===v&&s.isAlive()){var re=i.newAgStackInstance(),de=s.afterCellRendererCreated.bind(s,v,M);re&&re.then(de)}};l||c||!this.firstRender?L():this.beans.animationFrameService.createTask(L,this.rowNode.rowIndex,"createTasksP2")},o.prototype.getCtrl=function(){return this.cellCtrl},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getCellRenderer=function(){return this.cellRenderer},o.prototype.getCellEditor=function(){return this.cellEditor},o.prototype.afterCellRendererCreated=function(i,s,l){if(this.isAlive()&&i===this.rendererVersion){if(this.cellRenderer=l,this.cellRendererClass=s,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var p=this.getParentOfValue();gt(p),p.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(l)},o.prototype.afterCellEditorCreated=function(i,s,l,c,p){if(i!==this.editorVersion)this.beans.context.destroyBean(s);else{if(s.isCancelBeforeStart&&s.isCancelBeforeStart())return this.beans.context.destroyBean(s),void this.cellCtrl.stopEditing();if(!s.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(s);this.cellEditor=s,this.cellEditorGui=s.getGui(),c||void 0!==s.isPopup&&s.isPopup()?(c||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(l,p)):this.addInCellEditor(),s.afterGuiAttached&&s.afterGuiAttached()}},o.prototype.addInCellEditor=function(){var i=this.getGui(),s=this.beans.gridOptionsWrapper.getDocument();i.contains(s.activeElement)&&i.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},o.prototype.addPopupCellEditor=function(i,s){var l=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new bp(i));var p=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&p.appendChild(this.cellEditorGui);var v=this.beans.popupService,M=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),L=null!=s?s:c.getPopupPosition?c.getPopupPosition():"over",Y={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:p,keepWithinBounds:!0},re="under"===L?v.positionPopupUnderComponent.bind(v,Y):v.positionPopupOverComponent.bind(v,Y),de=this.beans.gridOptionsWrapper.getLocaleTextFunc(),be=v.addPopup({modal:M,eChild:p,closeOnEsc:!0,closedCallback:function(){l.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:re,ariaLabel:de("ariaLabelCellEditor","Cell Editor")});be&&(this.hideEditorPopup=be.hideFunc)},o.prototype.detach=function(){this.eRow.removeChild(this.getGui())},o.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),u.prototype.destroy.call(this)},o.prototype.clearParentOfValue=function(){var i=this.getGui(),s=this.beans.gridOptionsWrapper.getDocument();i.contains(s.activeElement)&&i.focus({preventScroll:!0}),gt(this.getParentOfValue())},o}(un),_d=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),nC=function(u){function o(i,s,l){var c=u.call(this)||this;c.cellComps={},c.beans=s,c.rowCtrl=i,c.setTemplate('<div comp-id="'+c.getCompId()+'" style="'+c.getInitialStyle()+'"/>');var p=c.getGui(),v=p.style;return i.setComp({setDomOrder:function(L){return c.domOrder=L},setCellCtrls:function(L){return c.setCellCtrls(L)},showFullWidth:function(L){return c.showFullWidth(L)},getFullWidthCellRenderer:function(){return c.getFullWidthCellRenderer()},addOrRemoveCssClass:function(L,Y){return c.addOrRemoveCssClass(L,Y)},setUserStyles:function(L){return no(p,L)},setTop:function(L){return v.top=L},setTransform:function(L){return v.transform=L},setRowIndex:function(L){return p.setAttribute("row-index",L)},setRole:function(L){return rr(p,L)},setRowId:function(L){return p.setAttribute("row-id",L)},setRowBusinessKey:function(L){return p.setAttribute("row-business-key",L)},setTabIndex:function(L){return p.setAttribute("tabindex",L.toString())}},c.getGui(),l),c}return _d(o,u),o.prototype.getInitialStyle=function(){var i=this.rowCtrl.getInitialTransform(),s=this.rowCtrl.getInitialRowTop();return i?"transform: "+i:"top: "+s},o.prototype.showFullWidth=function(i){var s=this,c=i.newAgStackInstance();!c||c.then(function(p){if(s.isAlive()){var v=p.getGui();s.getGui().appendChild(v),s.rowCtrl.setupDetailRowAutoHeight(v),s.setFullWidthRowComp(p)}else s.beans.context.destroyBean(p)})},o.prototype.setCellCtrls=function(i){var s=this,l=Object.assign({},this.cellComps);i.forEach(function(p){var v=p.getInstanceId();null==s.cellComps[v]?s.newCellComp(p):l[v]=null});var c=J(l).filter(function(p){return null!=p});this.destroyCells(c),this.ensureDomOrder(i)},o.prototype.ensureDomOrder=function(i){var s=this;if(this.domOrder){var l=[];i.forEach(function(c){var p=s.cellComps[c.getInstanceId()];p&&l.push(p.getGui())}),Ys(this.getGui(),l)}},o.prototype.newCellComp=function(i){var s=new Xg(this.beans,i,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[i.getInstanceId()]=s,this.getGui().appendChild(s.getGui())},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.destroyAllCells()},o.prototype.destroyAllCells=function(){var i=J(this.cellComps).filter(function(s){return null!=s});this.destroyCells(i)},o.prototype.setFullWidthRowComp=function(i){var s=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=i,this.addDestroyFunc(function(){s.fullWidthCellRenderer=s.beans.context.destroyBean(s.fullWidthCellRenderer)})},o.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},o.prototype.destroyCells=function(i){var s=this;i.forEach(function(l){if(l){var c=l.getCtrl().getInstanceId();s.cellComps[c]===l&&(l.detach(),l.destroy(),s.cellComps[c]=null)}})},o}(un),iC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),vd=function(){return vd=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},vd.apply(this,arguments)},Ia=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},FS=function(u){function o(){var i=u.call(this,function rC(){var u=un.elementGettingCreated.getAttribute("name"),o=md.getRowContainerCssClasses(u);return u===j.hA6.CENTER?'<div class="'+o.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+o.container+'" ref="eContainer"></div>\n                </div>\n            </div>':u===j.hA6.TOP_CENTER||u===j.hA6.BOTTOM_CENTER?'<div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+o.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+o.container+'" ref="eContainer"></div>'}())||this;return i.rowComps={},i.name=un.elementGettingCreated.getAttribute("name"),i.type=function Jy(u){switch(u){case j.hA6.CENTER:case j.hA6.TOP_CENTER:case j.hA6.BOTTOM_CENTER:return j.EDi.CENTER;case j.hA6.LEFT:case j.hA6.TOP_LEFT:case j.hA6.BOTTOM_LEFT:return j.EDi.LEFT;case j.hA6.RIGHT:case j.hA6.TOP_RIGHT:case j.hA6.BOTTOM_RIGHT:return j.EDi.RIGHT;case j.hA6.FULL_WIDTH:case j.hA6.TOP_FULL_WIDTH:case j.hA6.BOTTOM_FULL_WIDTH:return j.EDi.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(i.name),i}return iC(o,u),o.prototype.postConstruct=function(){var i=this,s={setViewportHeight:function(c){return i.eViewport.style.height=c},setRowCtrls:function(c){return i.setRowCtrls(c)},setDomOrder:function(c){i.domOrder=c},setContainerWidth:function(c){return i.eContainer.style.width=c}};this.createManagedBean(new md(this.name)).setComp(s,this.eContainer,this.eViewport,this.eWrapper)},o.prototype.preDestroy=function(){this.setRowCtrls([])},o.prototype.setRowCtrls=function(i){var s=this,l=vd({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,i.forEach(function(p){var v=p.getInstanceId(),M=l[v];if(M)s.rowComps[v]=M,delete l[v],s.ensureDomOrder(M.getGui());else{var L=s.newRowComp(p);s.rowComps[v]=L,s.appendRow(L.getGui())}}),J(l).forEach(function(p){s.eContainer.removeChild(p.getGui()),p.destroy()}),rr(this.eContainer,i.length?"rowgroup":"presentation")},o.prototype.appendRow=function(i){this.domOrder?br(this.eContainer,i,this.lastPlacedElement):this.eContainer.appendChild(i),this.lastPlacedElement=i},o.prototype.ensureDomOrder=function(i){this.domOrder&&(_c(this.eContainer,i,this.lastPlacedElement),this.lastPlacedElement=i)},o.prototype.newRowComp=function(i){return md.getPinned(this.name),new nC(i,this.beans,this.type)},Ia([le("beans")],o.prototype,"beans",void 0),Ia([st("eViewport")],o.prototype,"eViewport",void 0),Ia([st("eContainer")],o.prototype,"eContainer",void 0),Ia([st("eWrapper")],o.prototype,"eWrapper",void 0),Ia([Xe],o.prototype,"postConstruct",null),Ia([Yt],o.prototype,"preDestroy",null),o}(un),Al=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},wp=function(){function u(o){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=o}return u.prototype.onDragEnter=function(o){var i=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var s=o.dragItem.columns;!s||s.forEach(function(l){!l.isPrimary()||l.isAnyFunctionActive()||(l.isAllowValue()?i.columnsToAggregate.push(l):l.isAllowRowGroup()?i.columnsToGroup.push(l):l.isAllowPivot()&&i.columnsToPivot.push(l))})}},u.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ar.ICON_PINNED:ar.ICON_MOVE:null},u.prototype.onDragLeave=function(o){this.clearColumnsList()},u.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},u.prototype.onDragging=function(o){},u.prototype.onDragStop=function(o){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Al([le("columnModel")],u.prototype,"columnModel",void 0),Al([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),Vc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},oC=function(){function u(o,i){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=o,this.eContainer=i,this.centerContainer=!I(o)}return u.prototype.init=function(){var o=this;this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},u.prototype.getIconName=function(){return this.pinned?ar.ICON_PINNED:ar.ICON_MOVE},u.prototype.onDragEnter=function(o){var i=o.dragItem.columns;if(o.dragSource.type===j.rvo.ToolPanel)this.setColumnsVisible(i,!0,"uiColumnDragged");else{var l=o.dragItem.visibleState,c=(i||[]).filter(function(p){return l[p.getId()]});this.setColumnsVisible(c,!0,"uiColumnDragged")}this.setColumnsPinned(i,this.pinned,"uiColumnDragged"),this.onDragging(o,!0)},u.prototype.onDragLeave=function(o){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!o.fromNudge){var s=o.dragSource.getDragItem();this.setColumnsVisible(s.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},u.prototype.setColumnsVisible=function(o,i,s){if(void 0===s&&(s="api"),o){var l=o.filter(function(c){return!c.getColDef().lockVisible});this.columnModel.setColumnsVisible(l,i,s)}},u.prototype.setColumnsPinned=function(o,i,s){if(void 0===s&&(s="api"),o){var l=o.filter(function(c){return!c.getColDef().lockPinned});this.columnModel.setColumnsPinned(l,i,s)}},u.prototype.onDragStop=function(){this.ensureIntervalCleared()},u.prototype.normaliseX=function(o){return this.gridOptionsWrapper.isEnableRtl()&&(o=this.eContainer.clientWidth-o),this.centerContainer&&(o+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),o},u.prototype.checkCenterForScrolling=function(o){if(this.centerContainer){var i=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),s=i+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=o<i+50,this.needToMoveLeft=o>s-50):(this.needToMoveLeft=o<i+50,this.needToMoveRight=o>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},u.prototype.onDragging=function(o,i){var s=this;if(void 0===i&&(i=!1),this.lastDraggingEvent=o,!O(o.hDirection)){var l=this.normaliseX(o.x);i||this.checkCenterForScrolling(l);var c=this.normaliseDirection(o.hDirection),p=o.dragSource.type,v=o.dragSource.getDragItem().columns;v=v.filter(function(M){return!M.getColDef().lockPinned||M.getPinned()==s.pinned}),this.attemptMoveColumns(p,v,c,l,i)}},u.prototype.normaliseDirection=function(o){if(!this.gridOptionsWrapper.isEnableRtl())return o;switch(o){case j.poj.Left:return j.poj.Right;case j.poj.Right:return j.poj.Left;default:console.error("AG Grid: Unknown direction "+o)}},u.prototype.calculateOldIndex=function(o){var i=this.columnModel.getAllGridColumns(),s=ws(o.map(function(M){return i.indexOf(M)})),l=s[0];return xt(s)-l!=s.length-1?null:l},u.prototype.attemptMoveColumns=function(o,i,s,l,c){var p=s===j.poj.Left,v=s===j.poj.Right,M=i.slice();this.columnModel.sortColumnsLikeGridColumns(M);var L=this.calculateValidMoves(M,v,l),Y=this.calculateOldIndex(M);if(0!==L.length){var re=L[0],de=null!==Y&&!c;if(o==j.rvo.HeaderCell&&(de=null!==Y),!de||!(p&&re>=Y||v&&re<=Y))for(var be=0;be<L.length;be++){var Ce=L[be];if(this.columnModel.doesMovePassRules(M,Ce))return void this.columnModel.moveColumns(M,Ce,"uiColumnDragged")}}},u.prototype.calculateValidMoves=function(o,i,s){if(this.gridOptionsWrapper.isSuppressMovableColumns()||o.some(function(Tn){return Tn.getColDef().suppressMovable}))return[];var Re,c=this.columnModel.getDisplayedColumns(this.pinned),p=this.columnModel.getAllGridColumns(),v=c.filter(function(Tn){return vo(o,Tn)}),M=c.filter(function(Tn){return!vo(o,Tn)}),L=p.filter(function(Tn){return!vo(o,Tn)}),Y=0,re=s;if(i){var de=0;v.forEach(function(Tn){return de+=Tn.getActualWidth()}),re-=de}if(re>0){for(var be=0;be<M.length&&!((re-=M[be].getActualWidth())<0);be++)Y++;i&&Y++}Y>0?Re=L.indexOf(M[Y-1])+1:-1===(Re=L.indexOf(M[0]))&&(Re=0);var Ze=[Re],He=function(Tn,zt){return Tn-zt};if(i){for(var Ke=Re+1,pt=p.length-1;Ke<=pt;)Ze.push(Ke),Ke++;Ze.sort(He)}else{pt=p.length-1;for(var Bt=p[Ke=Re];Ke<=pt&&this.isColumnHidden(c,Bt);)Ke++,Ze.push(Ke),Bt=p[Ke];for(Ke=Re-1;Ke>=0;)Ze.push(Ke),Ke--;Ze.sort(He).reverse()}return Ze},u.prototype.isColumnHidden=function(o,i){return o.indexOf(i)<0},u.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?ar.ICON_LEFT:ar.ICON_RIGHT,!0))},u.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ar.ICON_MOVE))},u.prototype.moveInterval=function(){var o;this.intervalCount++,(o=10+5*this.intervalCount)>100&&(o=100);var i=null,s=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?i=s.scrollHorizontally(-o):this.needToMoveRight&&(i=s.scrollHorizontally(o)),0!==i)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var c=this.lastDraggingEvent.dragItem.columns.filter(function(v){return!v.getColDef().lockPinned});c.length>0&&(this.dragAndDropService.setGhostIcon(ar.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(c,this.needToMoveLeft?Ie.PINNED_LEFT:Ie.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},Vc([le("columnModel")],u.prototype,"columnModel",void 0),Vc([le("dragAndDropService")],u.prototype,"dragAndDropService",void 0),Vc([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Vc([le("ctrlsService")],u.prototype,"ctrlsService",void 0),Vc([Xe],u.prototype,"init",null),u}(),Qg=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),yd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},sC=function(u){function o(i,s){var l=u.call(this)||this;return l.pinned=i,l.eContainer=s,l}return Qg(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){switch(i.pinned){case Ie.PINNED_LEFT:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.leftRowContainerCtrl.getContainerElement()],[s.bottomLeftRowContainerCtrl.getContainerElement()],[s.topLeftRowContainerCtrl.getContainerElement()]];break;case Ie.PINNED_RIGHT:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.rightRowContainerCtrl.getContainerElement()],[s.bottomRightRowContainerCtrl.getContainerElement()],[s.topRightRowContainerCtrl.getContainerElement()]];break;default:i.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.centerRowContainerCtrl.getViewportElement()],[s.bottomCenterRowContainerCtrl.getViewportElement()],[s.topCenterRowContainerCtrl.getViewportElement()]]}})},o.prototype.isInterestedIn=function(i){return i===j.rvo.HeaderCell||i===j.rvo.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},o.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},o.prototype.getContainer=function(){return this.eContainer},o.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new oC(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new wp(this.pinned)),this.dragAndDropService.addDropTarget(this)},o.prototype.getIconName=function(){return this.currentDropListener.getIconName()},o.prototype.isDropColumnInPivotMode=function(i){return this.columnModel.isPivotMode()&&i.dragSource.type===j.rvo.ToolPanel},o.prototype.onDragEnter=function(i){this.currentDropListener=this.isDropColumnInPivotMode(i)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(i)},o.prototype.onDragLeave=function(i){this.currentDropListener.onDragLeave(i)},o.prototype.onDragging=function(i){this.currentDropListener.onDragging(i)},o.prototype.onDragStop=function(i){this.currentDropListener.onDragStop(i)},yd([le("dragAndDropService")],o.prototype,"dragAndDropService",void 0),yd([le("columnModel")],o.prototype,"columnModel",void 0),yd([le("ctrlsService")],o.prototype,"ctrlsService",void 0),yd([Xe],o.prototype,"postConstruct",null),yd([Xe],o.prototype,"init",null),o}(dt),LS=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},Zg=function(){function u(){}return u.getHeaderClassesFromColDef=function(o,i,s,l){return O(o)?[]:this.getColumnClassesFromCollDef(o.headerClass,o,i,s,l)},u.getToolPanelClassesFromColDef=function(o,i,s,l){return O(o)?[]:this.getColumnClassesFromCollDef(o.toolPanelClass,o,i,s,l)},u.getClassParams=function(o,i,s,l){return{colDef:o,column:s,columnGroup:l,api:i.getApi(),columnApi:i.getColumnApi(),context:i.getContext()}},u.getColumnClassesFromCollDef=function(o,i,s,l,c){return O(o)?[]:"string"==typeof(p="function"==typeof o?o(this.getClassParams(i,s,l,c)):o)?[p]:Array.isArray(p)?function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(LS(arguments[o]));return u}(p):[];var p},u}(),BS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Jg=function(u){function o(i){var s=u.call(this,o.TEMPLATE,i)||this;return s.headerCompVersion=0,s.column=i.getColumnGroupChild(),s.pinned=i.getPinned(),s}return BS(o,u),o.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=function(v,M,L){var Y=L||s;null!=M&&""!=M?Y.setAttribute(v,M):Y.removeAttribute(v)};this.ctrl.setComp({setWidth:function(v){return s.style.width=v},addOrRemoveCssClass:function(v,M){return i.addOrRemoveCssClass(v,M)},setColId:function(v){return l("col-id",v)},setTitle:function(v){return l("title",v)},setAriaDescription:function(v){return ux(s,v)},setAriaSort:function(v){return v?lg(s,v):Hh(s)},setUserCompDetails:function(v){return i.setUserCompDetails(v)},getUserCompInstance:function(){return i.headerComp}},this.getGui(),this.eResize);var p=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",p)},o.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},o.prototype.setUserCompDetails=function(i){var s=this;this.headerCompVersion++;var l=this.headerCompVersion;i.newAgStackInstance().then(function(c){return s.afterCompCreated(l,c)})},o.prototype.afterCompCreated=function(i,s){i==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=s,this.headerCompGui=s.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(s)},o.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',xp([st("eResize")],o.prototype,"eResize",void 0),xp([Xe],o.prototype,"postConstruct",null),xp([Yt],o.prototype,"destroyHeaderComp",null),o}(Ng),aC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Cd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},VS=function(u){function o(i){return u.call(this,o.TEMPLATE,i)||this}return aC(o,u),o.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=function(p,v){return null!=v?s.setAttribute(p,v):s.removeAttribute(p)};this.ctrl.setComp({addOrRemoveCssClass:function(p,v){return i.addOrRemoveCssClass(p,v)},addOrRemoveResizableCssClass:function(p,v){return i.eResize.classList.toggle(p,v)},setWidth:function(p){return s.style.width=p},setColId:function(p){return s.setAttribute("col-id",p)},setAriaExpanded:function(p){return l("aria-expanded",p)},setTitle:function(p){return l("title",p)},setUserCompDetails:function(p){return i.setUserCompDetails(p)}},s,this.eResize)},o.prototype.setUserCompDetails=function(i){var s=this;i.newAgStackInstance().then(function(l){return s.afterHeaderCompCreated(l)})},o.prototype.afterHeaderCompCreated=function(i){var s=this,l=function(){return s.destroyBean(i)};this.isAlive()?(this.getGui().appendChild(i.getGui()),this.addDestroyFunc(l),this.ctrl.setDragSource(i.getGui())):l()},o.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Cd([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Cd([st("eResize")],o.prototype,"eResize",void 0),Cd([Xe],o.prototype,"postConstruct",null),o}(Ng),HS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),em=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u.COLUMN_GROUP="group",u.COLUMN="column",u.FLOATING_FILTER="filter"}(j.A6C||(j.A6C={}));var tm=function(u){function o(i){var s=u.call(this)||this;s.headerComps={};var l=i.getType()==j.A6C.COLUMN_GROUP?"ag-header-row-column-group":i.getType()==j.A6C.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return s.setTemplate('<div class="ag-header-row '+l+'" role="row"></div>'),s.ctrl=i,s}return HS(o,u),o.prototype.init=function(){var i=this;this.ctrl.setComp({setTransform:function(l){return i.getGui().style.transform=l},setHeight:function(l){return i.getGui().style.height=l},setTop:function(l){return i.getGui().style.top=l},setHeaderCtrls:function(l){return i.setHeaderCtrls(l)},setWidth:function(l){return i.getGui().style.width=l},setAriaRowIndex:function(l){return Xv(i.getGui(),l)}})},o.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},o.prototype.setHeaderCtrls=function(i){var s=this;if(this.isAlive()){var l=this.headerComps;if(this.headerComps={},i.forEach(function(M){var L=M.getInstanceId(),Y=l[L];delete l[L],null==Y&&(Y=s.createHeaderComp(M),s.getGui().appendChild(Y.getGui())),s.headerComps[L]=Y}),E(l,function(M,L){s.getGui().removeChild(L.getGui()),s.destroyBean(L)}),this.gridOptionsWrapper.isEnsureDomOrder()){var p=J(this.headerComps);p.sort(function(M,L){return M.getCtrl().getColumnGroupChild().getLeft()-L.getCtrl().getColumnGroupChild().getLeft()});var v=p.map(function(M){return M.getGui()});Ys(this.getGui(),v)}}},o.prototype.createHeaderComp=function(i){var s;switch(this.ctrl.getType()){case j.A6C.COLUMN_GROUP:s=new VS(i);break;case j.A6C.FLOATING_FILTER:s=new ld(i);break;default:s=new Jg(i)}return this.createBean(s),s.setParentComponent(this),s},em([Xe],o.prototype,"init",null),em([Yt],o.prototype,"destroyHeaderCtrls",null),o}(un),Rl=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),cC=0,bd=function(u){function o(i,s){var l=u.call(this)||this;return l.lastFocusEvent=null,l.columnGroupChild=i,l.parentRowCtrl=s,l.instanceId=i.getUniqueId()+"-"+cC++,l}return Rl(o,u),o.prototype.shouldStopEventPropagation=function(i){var s=this.focusService.getFocusedHeader();return qu(this.gridOptionsWrapper,i,s.headerRowIndex,s.column)},o.prototype.setGui=function(i){this.eGui=i,this.addDomData()},o.prototype.addDomData=function(){var i=this,s=o.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,s,this),this.addDestroyFunc(function(){return i.gridOptionsWrapper.setDomData(i.eGui,s,null)})},o.prototype.getGui=function(){return this.eGui},o.prototype.focus=function(i){return!!this.eGui&&(this.lastFocusEvent=i||null,this.eGui.focus(),!0)},o.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},o.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},o.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.getColumnGroupChild=function(){return this.columnGroupChild},o.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([le("focusService")],o.prototype,"focusService",void 0),o}(dt);!function(u){u.EVERYTHING="group",u.FILTER="filter",u.SORT="sort",u.MAP="map",u.AGGREGATE="aggregate",u.FILTER_AGGREGATES="filter_aggregates",u.PIVOT="pivot",u.NOTHING="nothing"}(j.j_r||(j.j_r={}));var Nn=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};function Ol(u){return null!=u&&null!=u.getFrameworkComponentInstance?u.getFrameworkComponentInstance():u}var nm=function(){function u(){this.detailGridInfoMap={},this.destroyCalled=!1}return u.prototype.registerOverlayWrapperComp=function(o){this.overlayWrapperComp=o},u.prototype.registerSideBarComp=function(o){this.sideBarComp=o},u.prototype.init=function(){var o=this;switch(this.rowModel.getType()){case Ie.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case Ie.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case Ie.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){o.gridBodyCtrl=o.ctrlsService.getGridBodyCtrl()})},u.prototype.__getAlignedGridService=function(){return this.alignedGridsService},u.prototype.__getContext=function(){return this.context},u.prototype.addDetailGridInfo=function(o,i){this.detailGridInfoMap[o]=i},u.prototype.removeDetailGridInfo=function(o){this.detailGridInfoMap[o]=void 0},u.prototype.getDetailGridInfo=function(o){return this.detailGridInfoMap[o]},u.prototype.forEachDetailGridInfo=function(o){var i=0;E(this.detailGridInfoMap,function(s,l){I(l)&&(o(l,i),i++)})},u.prototype.getDataAsCsv=function(o){if(Le.assertRegistered(j.GXE.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(o)},u.prototype.exportDataAsCsv=function(o){Le.assertRegistered(j.GXE.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(o)},u.prototype.getExcelExportMode=function(o){var i=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},i,o).exportMode},u.prototype.getDataAsExcel=function(o){if(Le.assertRegistered(j.GXE.ExcelExportModule,"api.getDataAsExcel")){var i=this.getExcelExportMode(o);return this.excelCreator.getFactoryMode(i)===j.nPL.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(o)}},u.prototype.exportDataAsExcel=function(o){if(Le.assertRegistered(j.GXE.ExcelExportModule,"api.exportDataAsExcel")){var i=this.getExcelExportMode(o);if(this.excelCreator.getFactoryMode(i)===j.nPL.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(o)}},u.prototype.getSheetDataForExcel=function(o){if(Le.assertRegistered(j.GXE.ExcelExportModule,"api.getSheetDataForExcel")){var i=this.getExcelExportMode(o);return this.excelCreator.setFactoryMode(j.nPL.MULTI_SHEET,i),this.excelCreator.getSheetDataForExcel(o)}},u.prototype.getMultipleSheetsAsExcel=function(o){if(Le.assertRegistered(j.GXE.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(o)},u.prototype.exportMultipleSheetsAsExcel=function(o){if(Le.assertRegistered(j.GXE.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(o)},u.prototype.setEnterpriseDatasource=function(o){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(o)},u.prototype.setGridAriaProperty=function(o,i){if(o){var s=this.ctrlsService.getGridBodyCtrl().getGui(),l="aria-"+o;null===i?s.removeAttribute(l):s.setAttribute(l,i)}},u.prototype.setServerSideDatasource=function(o){this.serverSideRowModel?this.serverSideRowModel.setDatasource(o):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+Ie.ROW_MODEL_TYPE_SERVER_SIDE+"'")},u.prototype.setDatasource=function(o){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(o):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+Ie.ROW_MODEL_TYPE_INFINITE+"'")},u.prototype.setViewportDatasource=function(o){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(o):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+Ie.ROW_MODEL_TYPE_VIEWPORT+"'")},u.prototype.setRowData=function(o){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(o):(this.selectionService.reset(),this.clientSideRowModel.setRowData(o))},u.prototype.setFloatingTopRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(o)},u.prototype.setFloatingBottomRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(o)},u.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},u.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},u.prototype.getFloatingTopRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(o)},u.prototype.getFloatingBottomRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(o)},u.prototype.setPinnedTopRowData=function(o){this.pinnedRowModel.setPinnedTopRowData(o)},u.prototype.setPinnedBottomRowData=function(o){this.pinnedRowModel.setPinnedBottomRowData(o)},u.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},u.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},u.prototype.getPinnedTopRow=function(o){return this.pinnedRowModel.getPinnedTopRow(o)},u.prototype.getPinnedBottomRow=function(o){return this.pinnedRowModel.getPinnedBottomRow(o)},u.prototype.setColumnDefs=function(o,i){void 0===i&&(i="api"),this.columnModel.setColumnDefs(o,i)},u.prototype.setAutoGroupColumnDef=function(o,i){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",o,!0)},u.prototype.setDefaultColDef=function(o,i){this.gridOptionsWrapper.setProperty("defaultColDef",o,!0)},u.prototype.expireValueCache=function(){this.valueCache.expire()},u.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},u.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},u.prototype.setAlwaysShowHorizontalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",o)},u.prototype.setAlwaysShowVerticalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",o)},u.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},u.prototype.refreshCells=function(o){void 0===o&&(o={}),Array.isArray(o)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(o)},u.prototype.flashCells=function(o){void 0===o&&(o={}),this.rowRenderer.flashCells(o)},u.prototype.redrawRows=function(o){void 0===o&&(o={}),this.rowRenderer.redrawRows(o?o.rowNodes:void 0)},u.prototype.setFunctionsReadOnly=function(o){this.gridOptionsWrapper.setProperty("functionsReadOnly",o)},u.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(o){return o.refresh()})},u.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},u.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},u.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},u.prototype.getModel=function(){return this.rowModel},u.prototype.setRowNodeExpanded=function(o,i){o&&o.setExpanded(i)},u.prototype.onGroupExpandedOrCollapsed=function(o){O(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),I(o)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:j.j_r.MAP})},u.prototype.refreshInMemoryRowModel=function(o){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(o)},u.prototype.refreshClientSideRowModel=function(o){O(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var i=j.j_r.EVERYTHING,s={group:j.j_r.EVERYTHING,filter:j.j_r.FILTER,map:j.j_r.MAP,aggregate:j.j_r.AGGREGATE,sort:j.j_r.SORT,pivot:j.j_r.PIVOT};if(I(o)&&(i=s[o]),O(i))console.error("AG Grid: invalid step "+o+", available steps are "+Object.keys(s).join(", "));else{var l=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:i,keepRenderedRows:!0,keepEditingRows:!0,animate:l})}},u.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},u.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},u.prototype.getRowNode=function(o){return this.rowModel.getRowNode(o)},u.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},u.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.getToolPanelInstance=function(o){if(this.sideBarComp)return Ol(this.sideBarComp.getToolPanelInstance(o));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.addVirtualRowListener=function(o,i,s){"string"!=typeof o&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(o,i,s)},u.prototype.addRenderedRowListener=function(o,i,s){"virtualRowSelected"===o&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(o,i,s)},u.prototype.setQuickFilter=function(o){this.filterManager.setQuickFilter(o)},u.prototype.selectIndex=function(o,i,s){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(o,i)},u.prototype.deselectIndex=function(o,i){void 0===i&&(i=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(o)},u.prototype.selectNode=function(o,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!0,clearSelection:!i})},u.prototype.deselectNode=function(o,i){void 0===i&&(i=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!1})},u.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},u.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},u.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},u.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},u.prototype.recomputeAggregates=function(){O(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:j.j_r.AGGREGATE})},u.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},u.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},u.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},u.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},u.prototype.isNodeSelected=function(o){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),o.isSelected()},u.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},u.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},u.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},u.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},u.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},u.prototype.ensureColIndexVisible=function(o){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},u.prototype.ensureColumnVisible=function(o,i){void 0===i&&(i="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(o,i)},u.prototype.ensureIndexVisible=function(o,i){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(o,i)},u.prototype.ensureNodeVisible=function(o,i){void 0===i&&(i=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(o,i)},u.prototype.forEachLeafNode=function(o){O(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(o)},u.prototype.forEachNode=function(o){this.rowModel.forEachNode(o)},u.prototype.forEachNodeAfterFilter=function(o){O(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(o)},u.prototype.forEachNodeAfterFilterAndSort=function(o){O(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(o)},u.prototype.getFilterInstance=function(o,i){var s=this.getFilterInstanceImpl(o,function(c){if(i){var p=Ol(c);i(p)}});return Ol(s)},u.prototype.getFilterInstanceImpl=function(o,i){var s=this.columnModel.getPrimaryColumn(o);if(s){var l=this.filterManager.getFilterComponent(s,"NO_UI"),c=l&&l.resolveNow(null,function(p){return p});return c?setTimeout(i,0,c):l&&l.then(function(p){i(p)}),c}},u.prototype.destroyFilter=function(o){var i=this.columnModel.getPrimaryColumn(o);if(i)return this.filterManager.destroyFilter(i,"filterDestroyed")},u.prototype.getStatusPanel=function(o){if(this.statusBarService)return Ol(this.statusBarService.getStatusPanel(o))},u.prototype.getColumnDef=function(o){var i=this.columnModel.getPrimaryColumn(o);return i?i.getColDef():null},u.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},u.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},u.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},u.prototype.setFilterModel=function(o){this.filterManager.setFilterModel(o)},u.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},u.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},u.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},u.prototype.setFocusedCell=function(o,i,s){this.focusService.setFocusedCell(o,i,s,!0)},u.prototype.setSuppressRowDrag=function(o){this.gridOptionsWrapper.setProperty(At.PROP_SUPPRESS_ROW_DRAG,o)},u.prototype.setSuppressMoveWhenRowDragging=function(o){this.gridOptionsWrapper.setProperty(At.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,o)},u.prototype.setSuppressRowClickSelection=function(o){this.gridOptionsWrapper.setProperty(At.PROP_SUPPRESS_ROW_CLICK_SELECTION,o)},u.prototype.addRowDropZone=function(o){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(o)},u.prototype.removeRowDropZone=function(o){var i=this.dragAndDropService.findExternalZone(o);i&&this.dragAndDropService.removeDropTarget(i)},u.prototype.getRowDropZoneParams=function(o){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(o)},u.prototype.setHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(At.PROP_HEADER_HEIGHT,o)},u.prototype.setDomLayout=function(o){this.gridOptionsWrapper.setProperty(At.PROP_DOM_LAYOUT,o)},u.prototype.setEnableCellTextSelection=function(o){this.gridBodyCtrl.setCellTextSelection(o)},u.prototype.setFillHandleDirection=function(o){this.gridOptionsWrapper.setProperty(At.PROP_FILL_HANDLE_DIRECTION,o)},u.prototype.setGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GROUP_HEADER_HEIGHT,o)},u.prototype.setFloatingFiltersHeight=function(o){this.gridOptionsWrapper.setProperty(At.PROP_FLOATING_FILTERS_HEIGHT,o)},u.prototype.setPivotHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(At.PROP_PIVOT_HEADER_HEIGHT,o)},u.prototype.setPivotGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(At.PROP_PIVOT_GROUP_HEADER_HEIGHT,o)},u.prototype.setIsExternalFilterPresent=function(o){this.gridOptionsWrapper.setProperty(At.PROP_IS_EXTERNAL_FILTER_PRESENT,o)},u.prototype.setDoesExternalFilterPass=function(o){this.gridOptionsWrapper.setProperty(At.PROP_DOES_EXTERNAL_FILTER_PASS,o)},u.prototype.setNavigateToNextCell=function(o){this.gridOptionsWrapper.setProperty(At.PROP_NAVIGATE_TO_NEXT_CELL,o)},u.prototype.setTabToNextCell=function(o){this.gridOptionsWrapper.setProperty(At.PROP_TAB_TO_NEXT_CELL,o)},u.prototype.setTabToNextHeader=function(o){this.gridOptionsWrapper.setProperty(At.PROP_TAB_TO_NEXT_HEADER,o)},u.prototype.setNavigateToNextHeader=function(o){this.gridOptionsWrapper.setProperty(At.PROP_NAVIGATE_TO_NEXT_HEADER,o)},u.prototype.setGroupRowAggNodes=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GROUP_ROW_AGG_NODES,o)},u.prototype.setGetGroupRowAgg=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_GROUP_ROW_AGG,o)},u.prototype.setGetBusinessKeyForNode=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_BUSINESS_KEY_FOR_NODE,o)},u.prototype.setGetChildCount=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_CHILD_COUNT,o)},u.prototype.setProcessRowPostCreate=function(o){this.gridOptionsWrapper.setProperty(At.PROP_PROCESS_ROW_POST_CREATE,o)},u.prototype.setGetRowNodeId=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_ROW_NODE_ID,o)},u.prototype.setGetRowId=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_ROW_ID,o)},u.prototype.setGetRowClass=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_ROW_CLASS,o)},u.prototype.setIsFullWidthCell=function(o){this.gridOptionsWrapper.setProperty(At.PROP_IS_FULL_WIDTH_CELL,o)},u.prototype.setIsFullWidthRow=function(o){this.gridOptionsWrapper.setProperty(At.PROP_IS_FULL_WIDTH_ROW,o)},u.prototype.setIsRowSelectable=function(o){this.gridOptionsWrapper.setProperty(At.PROP_IS_ROW_SELECTABLE,o)},u.prototype.setIsRowMaster=function(o){this.gridOptionsWrapper.setProperty(At.PROP_IS_ROW_MASTER,o)},u.prototype.setPostSort=function(o){this.gridOptionsWrapper.setProperty(At.PROP_POST_SORT,o)},u.prototype.setPostSortRows=function(o){this.gridOptionsWrapper.setProperty(At.PROP_POST_SORT_ROWS,o)},u.prototype.setGetDocument=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_DOCUMENT,o)},u.prototype.setGetContextMenuItems=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_CONTEXT_MENU_ITEMS,o)},u.prototype.setGetMainMenuItems=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_MAIN_MENU_ITEMS,o)},u.prototype.setProcessCellForClipboard=function(o){this.gridOptionsWrapper.setProperty(At.PROP_PROCESS_CELL_FOR_CLIPBOARD,o)},u.prototype.setSendToClipboard=function(o){this.gridOptionsWrapper.setProperty(At.PROP_SEND_TO_CLIPBOARD,o)},u.prototype.setProcessCellFromClipboard=function(o){this.gridOptionsWrapper.setProperty(At.PROP_PROCESS_CELL_FROM_CLIPBOARD,o)},u.prototype.setProcessSecondaryColDef=function(o){this.gridOptionsWrapper.setProperty(At.PROP_PROCESS_TO_SECONDARY_COLDEF,o)},u.prototype.setProcessSecondaryColGroupDef=function(o){this.gridOptionsWrapper.setProperty(At.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,o)},u.prototype.setPostProcessPopup=function(o){this.gridOptionsWrapper.setProperty(At.PROP_POST_PROCESS_POPUP,o)},u.prototype.setDefaultGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(At.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,o)},u.prototype.setInitialGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(At.PROP_INITIAL_GROUP_ORDER_COMPARATOR,o)},u.prototype.setGetChartToolbarItems=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_CHART_TOOLBAR_ITEMS,o)},u.prototype.setPaginationNumberFormatter=function(o){this.gridOptionsWrapper.setProperty(At.PROP_PAGINATION_NUMBER_FORMATTER,o)},u.prototype.setGetServerSideStoreParams=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_SERVER_SIDE_STORE_PARAMS,o)},u.prototype.setIsServerSideGroupOpenByDefault=function(o){this.gridOptionsWrapper.setProperty(At.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,o)},u.prototype.setIsApplyServerSideTransaction=function(o){this.gridOptionsWrapper.setProperty(At.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,o)},u.prototype.setIsServerSideGroup=function(o){this.gridOptionsWrapper.setProperty(At.PROP_IS_SERVER_SIDE_GROUP,o)},u.prototype.setGetServerSideGroupKey=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_SERVER_SIDE_GROUP_KEY,o)},u.prototype.setGetRowStyle=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_ROW_STYLE,o)},u.prototype.setGetRowHeight=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GET_ROW_HEIGHT,o)},u.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},u.prototype.setSideBarVisible=function(o){this.sideBarComp?this.sideBarComp.setDisplayed(o):o&&console.warn("AG Grid: sideBar is not loaded")},u.prototype.setSideBarPosition=function(o){this.sideBarComp?this.sideBarComp.setSideBarPosition(o):console.warn("AG Grid: sideBar is not loaded")},u.prototype.openToolPanel=function(o){this.sideBarComp?this.sideBarComp.openToolPanel(o):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},u.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},u.prototype.setSideBar=function(o){this.gridOptionsWrapper.setProperty("sideBar",Fg.parse(o))},u.prototype.setSuppressClipboardPaste=function(o){this.gridOptionsWrapper.setProperty(At.PROP_SUPPRESS_CLIPBOARD_PASTE,o)},u.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},u.prototype.doLayout=function(){We(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},u.prototype.resetRowHeights=function(){if(I(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},u.prototype.setGroupRemoveSingleChildren=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o)},u.prototype.setGroupRemoveLowestSingleChildren=function(o){this.gridOptionsWrapper.setProperty(At.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o)},u.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},u.prototype.getValue=function(o,i){var s=this.columnModel.getPrimaryColumn(o);return O(s)&&(s=this.columnModel.getGridColumn(o)),O(s)?null:this.valueService.getValue(s,i)},u.prototype.addEventListener=function(o,i){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(o,i,s)},u.prototype.addGlobalListener=function(o){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(o,i)},u.prototype.removeEventListener=function(o,i){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(o,i,s)},u.prototype.removeGlobalListener=function(o){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(o,i)},u.prototype.dispatchEvent=function(o){this.eventService.dispatchEvent(o)},u.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var o=this.ctrlsService.getGridCtrl();o&&o.destroyGridUi(),this.context.destroy()}},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Pe.bind(window,this,"Grid API"),100)},u.prototype.warnIfDestroyed=function(o){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+o+" was called on a grid that was destroyed."),this.destroyCalled},u.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(o){return o.quickFilterAggregateText=null})},u.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},u.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},u.prototype.camelCaseToHumanReadable=function(o){return Rh(o)},u.prototype.addRangeSelection=function(o){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},u.prototype.addCellRange=function(o){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(o)},u.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},u.prototype.undoCellEditing=function(){this.undoRedoService.undo()},u.prototype.redoCellEditing=function(){this.undoRedoService.redo()},u.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},u.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},u.prototype.getChartModels=function(){if(Le.assertRegistered(j.GXE.RangeSelectionModule,"api.getChartModels")&&Le.assertRegistered(j.GXE.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},u.prototype.getChartRef=function(o){if(Le.assertRegistered(j.GXE.RangeSelectionModule,"api.getChartRef")&&Le.assertRegistered(j.GXE.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(o)},u.prototype.getChartImageDataURL=function(o){if(Le.assertRegistered(j.GXE.RangeSelectionModule,"api.getChartImageDataURL")&&Le.assertRegistered(j.GXE.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(o)},u.prototype.createRangeChart=function(o){if(Le.assertRegistered(j.GXE.RangeSelectionModule,"api.createRangeChart")&&Le.assertRegistered(j.GXE.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(o)},u.prototype.createCrossFilterChart=function(o){if(Le.assertRegistered(j.GXE.RangeSelectionModule,"api.createCrossFilterChart")&&Le.assertRegistered(j.GXE.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(o)},u.prototype.restoreChart=function(o,i){if(Le.assertRegistered(j.GXE.RangeSelectionModule,"api.restoreChart")&&Le.assertRegistered(j.GXE.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(o,i)},u.prototype.createPivotChart=function(o){if(Le.assertRegistered(j.GXE.RangeSelectionModule,"api.createPivotChart")&&Le.assertRegistered(j.GXE.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(o)},u.prototype.copySelectedRowsToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(o)},u.prototype.copySelectedRangeToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(o)},u.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},u.prototype.showColumnMenuAfterButtonClick=function(o,i){var s=this.columnModel.getGridColumn(o);this.menuFactory.showMenuAfterButtonClick(s,i,"columnMenu")},u.prototype.showColumnMenuAfterMouseClick=function(o,i){var s=this.columnModel.getGridColumn(o);s||(s=this.columnModel.getPrimaryColumn(o)),s?this.menuFactory.showMenuAfterMouseEvent(s,i):console.error("AG Grid: column '"+o+"' not found")},u.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},u.prototype.setPopupParent=function(o){this.gridOptionsWrapper.setProperty(At.PROP_POPUP_PARENT,o)},u.prototype.tabToNextCell=function(o){return this.navigationService.tabToNextCell(!1,o)},u.prototype.tabToPreviousCell=function(o){return this.navigationService.tabToNextCell(!0,o)},u.prototype.getCellRendererInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellRendererInstances(o).map(Ol)},u.prototype.getCellEditorInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellEditorInstances(o).map(Ol)},u.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},u.prototype.stopEditing=function(o){void 0===o&&(o=!1),this.rowRenderer.stopEditing(o)},u.prototype.startEditingCell=function(o){var i=this.columnModel.getGridColumn(o.colKey);if(i){var s={rowIndex:o.rowIndex,rowPinned:o.rowPinned||null,column:i};null==o.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(o.rowIndex);var c=this.navigationService.getCellByPosition(s);!c||c.startRowOrCellEdit(o.key,o.charPress)}else console.warn("AG Grid: no column found for "+o.colKey)},u.prototype.addAggFunc=function(o,i){this.aggFuncService&&this.aggFuncService.addAggFunc(o,i)},u.prototype.addAggFuncs=function(o){this.aggFuncService&&this.aggFuncService.addAggFuncs(o)},u.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},u.prototype.applyServerSideTransaction=function(o){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(o);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyServerSideTransactionAsync=function(o,i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(o,i);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},u.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyTransaction=function(o){if(this.clientSideRowModel){var i=this.clientSideRowModel.updateRowData(o);return this.rowRenderer.refreshFullWidthRows(i.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),i}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},u.prototype.setDeltaSort=function(o){this.gridOptionsWrapper.setProperty("deltaSort",o)},u.prototype.updateRowData=function(o){return We(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(o)},u.prototype.applyTransactionAsync=function(o,i){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(o,i):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.batchUpdateRowData=function(o,i){We(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(o,i)},u.prototype.insertItemsAtIndex=function(o,i,s){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:i,addIndex:o,update:null,remove:null})},u.prototype.removeItems=function(o,i){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var s=o.map(function(l){return l.data});this.updateRowData({add:null,addIndex:null,update:null,remove:s})},u.prototype.addItems=function(o,i){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:o,addIndex:null,update:null,remove:null})},u.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},u.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},u.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeEnterpriseCache=function(o){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(o)},u.prototype.purgeServerSideCache=function(o){void 0===o&&(o=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:o,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},u.prototype.refreshServerSideStore=function(o){this.serverSideRowModel?this.serverSideRowModel.refreshStore(o):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},u.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},u.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},u.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},u.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},u.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},u.prototype.setVirtualRowCount=function(o,i){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(o,i)},u.prototype.setInfiniteRowCount=function(o,i){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(o,i)},u.prototype.setRowCount=function(o,i){this.infiniteRowModel?this.infiniteRowModel.setRowCount(o,i):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},u.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},u.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},u.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},u.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},u.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},u.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},u.prototype.getDisplayedRowAtIndex=function(o){return this.rowModel.getRow(o)},u.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},u.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},u.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},u.prototype.paginationSetPageSize=function(o){this.gridOptionsWrapper.setProperty("paginationPageSize",o)},u.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},u.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},u.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},u.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},u.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},u.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},u.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},u.prototype.paginationGoToPage=function(o){this.paginationProxy.goToPage(o)},u.prototype.setRowClass=function(o){this.gridOptionsWrapper.setProperty(At.PROP_ROW_CLASS,o)},Nn([fn("immutableService")],u.prototype,"immutableService",void 0),Nn([fn("csvCreator")],u.prototype,"csvCreator",void 0),Nn([fn("excelCreator")],u.prototype,"excelCreator",void 0),Nn([le("rowRenderer")],u.prototype,"rowRenderer",void 0),Nn([le("navigationService")],u.prototype,"navigationService",void 0),Nn([le("filterManager")],u.prototype,"filterManager",void 0),Nn([le("columnModel")],u.prototype,"columnModel",void 0),Nn([le("selectionService")],u.prototype,"selectionService",void 0),Nn([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Nn([le("valueService")],u.prototype,"valueService",void 0),Nn([le("alignedGridsService")],u.prototype,"alignedGridsService",void 0),Nn([le("eventService")],u.prototype,"eventService",void 0),Nn([le("pinnedRowModel")],u.prototype,"pinnedRowModel",void 0),Nn([le("context")],u.prototype,"context",void 0),Nn([le("rowModel")],u.prototype,"rowModel",void 0),Nn([le("sortController")],u.prototype,"sortController",void 0),Nn([le("paginationProxy")],u.prototype,"paginationProxy",void 0),Nn([le("focusService")],u.prototype,"focusService",void 0),Nn([le("dragAndDropService")],u.prototype,"dragAndDropService",void 0),Nn([fn("rangeService")],u.prototype,"rangeService",void 0),Nn([fn("clipboardService")],u.prototype,"clipboardService",void 0),Nn([fn("aggFuncService")],u.prototype,"aggFuncService",void 0),Nn([le("menuFactory")],u.prototype,"menuFactory",void 0),Nn([fn("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),Nn([le("valueCache")],u.prototype,"valueCache",void 0),Nn([le("animationFrameService")],u.prototype,"animationFrameService",void 0),Nn([fn("statusBarService")],u.prototype,"statusBarService",void 0),Nn([fn("chartService")],u.prototype,"chartService",void 0),Nn([fn("undoRedoService")],u.prototype,"undoRedoService",void 0),Nn([fn("rowNodeBlockLoader")],u.prototype,"rowNodeBlockLoader",void 0),Nn([fn("ssrmTransactionManager")],u.prototype,"serverSideTransactionManager",void 0),Nn([le("ctrlsService")],u.prototype,"ctrlsService",void 0),Nn([fn("frameworkComponentWrapper")],u.prototype,"frameworkComponentWrapper",void 0),Nn([Xe],u.prototype,"init",null),Nn([Yt],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Nn([at("gridApi")],u)}(),uC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Hc=function(u){function o(i,s,l,c){var p=u.call(this)||this;return p.columnOrGroup=i,p.eCell=s,p.ariaEl=p.eCell.querySelector("[role=columnheader]")||p.eCell,p.colsSpanning=c,p.beans=l,p}return uC(o,u),o.prototype.setColsSpanning=function(i){this.colsSpanning=i,this.onLeftChanged()},o.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?xt(this.colsSpanning):this.columnOrGroup},o.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,ot.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,At.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},o.prototype.setLeftFirstTime=function(){var i=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),s=I(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&s&&!i?this.animateInLeft():this.onLeftChanged()},o.prototype.animateInLeft=function(){var i=this,s=this.getColumnOrGroup(),l=s.getLeft(),c=s.getOldLeft(),p=this.modifyLeftForPrintLayout(s,c),v=this.modifyLeftForPrintLayout(s,l);this.setLeft(p),this.actualLeft=v,this.beans.columnAnimationService.executeNextVMTurn(function(){i.actualLeft===v&&i.setLeft(v)})},o.prototype.onLeftChanged=function(){var i=this.getColumnOrGroup(),s=i.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(i,s),this.setLeft(this.actualLeft)},o.prototype.modifyLeftForPrintLayout=function(i,s){if(this.beans.gridOptionsWrapper.getDomLayout()!==Ie.DOM_LAYOUT_PRINT||i.getPinned()===Ie.PINNED_LEFT)return s;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();return i.getPinned()===Ie.PINNED_RIGHT?c+this.beans.columnModel.getBodyContainerWidth()+s:c+s},o.prototype.setLeft=function(i){var s;if(I(i)&&(this.eCell.style.left=i+"px"),this.columnOrGroup instanceof ot)s=this.columnOrGroup;else{var c=this.columnOrGroup.getLeafColumns();if(!c.length)return;c.length>1&&mx(this.ariaEl,c.length),s=c[0]}var p=this.beans.columnModel.getAriaColumnIndex(s);Qv(this.ariaEl,p)},function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Xe],o.prototype,"postConstruct",null),o}(dt),hC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},jc=function(u){function o(i,s){var l=u.call(this)||this;return l.columns=i,l.element=s,l}return hC(o,u),o.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},o.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},o.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},o.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},wd([le("columnHoverService")],o.prototype,"columnHoverService",void 0),wd([Xe],o.prototype,"postConstruct",null),o}(dt),pC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ma=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},im=function(u){function o(i,s){var l=u.call(this,i,s)||this;return l.column=i,l}return pC(o,u),o.prototype.setComp=function(i,s,l,c){u.prototype.setGui.call(this,s),this.comp=i,this.eButtonShowMainFilter=l,this.eFloatingFilterBody=c;var p=this.column.getColDef();this.active=!(!p.filter&&!p.filterFramework||!p.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},o.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var i=Rn("filter",this.gridOptionsWrapper,this.column);i&&this.eButtonShowMainFilter.appendChild(i)}},o.prototype.setupFocus=function(){this.createManagedBean(new ns(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.onTabKeyDown=function(i){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var p=this.focusService.findNextFocusableElement(this.eGui,null,i.shiftKey);if(p)return this.beans.headerNavigationService.scrollToColumn(this.column),i.preventDefault(),void p.focus();var v=this.findNextColumnWithFloatingFilter(i.shiftKey);!v||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:v},event:i})&&i.preventDefault()}},o.prototype.findNextColumnWithFloatingFilter=function(i){var s=this.beans.columnModel,l=this.column;do{if(!(l=i?s.getDisplayedColBefore(l):s.getDisplayedColAfter(l)))break}while(!l.getColDef().filter||!l.getColDef().floatingFilter);return l},o.prototype.handleKeyDown=function(i){var c=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(i.key){case lt.UP:case lt.DOWN:c||i.preventDefault();case lt.LEFT:case lt.RIGHT:if(c)return;i.stopPropagation();case lt.ENTER:c&&this.focusService.focusInto(this.eGui)&&i.preventDefault();break;case lt.ESCAPE:c||this.eGui.focus()}},o.prototype.onFocusIn=function(i){if(!this.eGui.contains(i.relatedTarget)){var l=!!i.relatedTarget&&!i.relatedTarget.classList.contains("ag-floating-filter"),c=!!i.relatedTarget&&Lh(i.relatedTarget,"ag-floating-filter");if(l&&c&&i.target===this.eGui){var p=this.lastFocusEvent;p&&p&&p.key===lt.TAB&&this.focusService.focusInto(this.eGui,p.shiftKey)}var L=this.getRowIndex();this.beans.focusService.setFocusedHeader(L,this.column)}},o.prototype.setupHover=function(){var i=this;this.createManagedBean(new jc([this.column],this.eGui));var s=function(){if(i.gridOptionsWrapper.isColumnHoverHighlight()){var l=i.columnHoverService.isHovered(i.column);i.comp.addOrRemoveCssClass("ag-column-hover",l)}};this.addManagedListener(this.eventService,xe.EVENT_COLUMN_HOVER_CHANGED,s),s()},o.prototype.setupLeft=function(){var i=new Hc(this.column,this.eGui,this.beans);this.createManagedBean(i)},o.prototype.setupUserComp=function(){var i=this;if(this.active){var s=this.column.getColDef(),l=this.filterManager.createFilterParams(this.column,s),c=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,Ig,l),p=this.userComponentFactory.getDefaultFloatingFilterType(s);null==p&&(p="agReadOnlyFloatingFilter");var v={column:this.column,filterParams:c,currentParentModel:function(){return i.currentParentModel()},parentFilterInstance:function(L){return i.parentFilterInstance(L)},showParentFilter:function(){return i.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!s.floatingFilterComponentParams&&!!s.floatingFilterComponentParams.suppressFilterButton;var M=this.userComponentFactory.getFloatingFilterCompDetails(s,v,p);M&&this.comp.setCompDetails(M)}},o.prototype.currentParentModel=function(){var i=this.getFilterComponent(!1);return i?i.resolveNow(null,function(s){return s&&s.getModel()}):null},o.prototype.getFilterComponent=function(i){return void 0===i&&(i=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",i)},o.prototype.parentFilterInstance=function(i){var s=this.getFilterComponent();null!=s&&s.then(function(l){i(Ol(l))})},o.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},o.prototype.setupSyncWithFilter=function(){var i=this;if(this.active){var s=function(l){var c=i.comp.getFloatingFilterComp();if(c){var p=i.currentParentModel();c.then(function(v){v&&v.onParentModelChanged(p,l)})}};this.addManagedListener(this.column,ot.EVENT_FILTER_CHANGED,s),this.filterManager.isFilterActive(this.column)&&s(null)}},o.prototype.setupWidth=function(){var i=this,s=function(){var l=i.column.getActualWidth()+"px";i.comp.setWidth(l)};this.addManagedListener(this.column,ot.EVENT_WIDTH_CHANGED,s),s()},Ma([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Ma([le("filterManager")],o.prototype,"filterManager",void 0),Ma([le("columnHoverService")],o.prototype,"columnHoverService",void 0),Ma([le("gridApi")],o.prototype,"gridApi",void 0),Ma([le("menuFactory")],o.prototype,"menuFactory",void 0),Ma([le("beans")],o.prototype,"beans",void 0),o}(bd),rm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),kl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},jS=function(u){function o(i,s,l,c,p){var v=u.call(this)||this;return v.pinned=i,v.column=s,v.eResize=l,v.comp=c,v.ctrl=p,v}return rm(o,u),o.prototype.postConstruct=function(){var c,p,i=this,s=this.column.getColDef(),l=[],M=function(){l.forEach(function(Y){return Y()}),l.length=0},L=function(){var Y=i.column.isResizable(),re=!i.gridOptionsWrapper.isSuppressAutoSize()&&!s.suppressAutoSize;(Y!==c||re!==p)&&(c=Y,p=re,M(),function(){if(ai(i.eResize,c),c){var Y=i.horizontalResizeService.addResizeBar({eResizeBar:i.eResize,onResizeStart:i.onResizeStart.bind(i),onResizing:i.onResizing.bind(i,!1),onResizeEnd:i.onResizing.bind(i,!0)});if(l.push(Y),p){var re=i.gridOptionsWrapper.isSkipHeaderOnAutoSize(),de=function(){i.columnModel.autoSizeColumn(i.column,re,"uiColumnResized")};i.eResize.addEventListener("dblclick",de);var be=new Ir(i.eResize);be.addEventListener(Ir.EVENT_DOUBLE_TAP,de),i.addDestroyFunc(function(){i.eResize.removeEventListener("dblclick",de),be.removeEventListener(Ir.EVENT_DOUBLE_TAP,de),be.destroy()})}}}())};L(),this.addDestroyFunc(M),this.ctrl.addRefreshFunction(L)},o.prototype.onResizing=function(i,s){var l=this.normaliseResizeAmount(s);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+l}],this.resizeWithShiftKey,i,"uiColumnDragged"),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.onResizeStart=function(i){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=i,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.normaliseResizeAmount=function(i){var s=i,l=this.pinned!==Ie.PINNED_LEFT,c=this.pinned===Ie.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?l&&(s*=-1):c&&(s*=-1),s},kl([le("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),kl([le("columnModel")],o.prototype,"columnModel",void 0),kl([Xe],o.prototype,"postConstruct",null),o}(dt),fC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$c=function(u){function o(i,s,l){void 0===s&&(s="ag-checkbox"),void 0===l&&(l="checkbox");var c=u.call(this,i,s,l)||this;return c.labelAlignment="right",c.selected=!1,c.readOnly=!1,c.passive=!1,c}return fC(o,u),o.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},o.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},o.prototype.setPassive=function(i){this.passive=i},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setReadOnly=function(i){this.eWrapper.classList.toggle("ag-disabled",i),this.eInput.disabled=i,this.readOnly=i},o.prototype.setDisabled=function(i){return this.eWrapper.classList.toggle("ag-disabled",i),u.prototype.setDisabled.call(this,i)},o.prototype.toggle=function(){if(!this.eInput.disabled){var i=this.isSelected(),s=this.getNextValue();this.passive?this.dispatchChange(s,i):this.setValue(s)}},o.prototype.getValue=function(){return this.isSelected()},o.prototype.setValue=function(i,s){return this.refreshSelectedClass(i),this.setSelected(i,s),this},o.prototype.setName=function(i){return this.getInputElement().name=i,this},o.prototype.isSelected=function(){return this.selected},o.prototype.setSelected=function(i,s){this.isSelected()!==i&&(this.previousValue=this.isSelected(),i=this.selected="boolean"==typeof i?i:void 0,this.eInput.checked=i,this.eInput.indeterminate=void 0===i,s||this.dispatchChange(this.selected,this.previousValue))},o.prototype.dispatchChange=function(i,s,l){this.dispatchEvent({type:o.EVENT_CHANGED,selected:i,previousValue:s,event:l});var c=this.getInputElement();this.eventService.dispatchEvent({type:xe.EVENT_CHECKBOX_CHANGED,id:c.id,name:c.name,selected:i,previousValue:s})},o.prototype.onCheckboxClick=function(i){if(!this.passive&&!this.eInput.disabled){var s=this.isSelected(),l=this.selected=i.target.checked;this.refreshSelectedClass(l),this.dispatchChange(l,s,i)}},o.prototype.refreshSelectedClass=function(i){this.eWrapper.classList.toggle("ag-checked",!0===i),this.eWrapper.classList.toggle("ag-indeterminate",null==i)},o}(Qs),$S=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),xd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},om=function(u){function o(i){var s=u.call(this)||this;s.cbSelectAllVisible=!1,s.processingEventFromCheckbox=!1,s.column=i;var l=i.getColDef();return s.filteredOnly=!!l&&!!l.headerCheckboxSelectionFilteredOnly,s}return $S(o,u),o.prototype.onSpaceKeyPressed=function(i){var s=this.cbSelectAll,l=this.gridOptionsWrapper.getDocument();s.isDisplayed()&&!s.getGui().contains(l.activeElement)&&(i.preventDefault(),s.setValue(!s.getValue()))},o.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},o.prototype.setComp=function(i){this.headerCellCtrl=i,this.cbSelectAll=this.createManagedBean(new $c),this.cbSelectAll.addCssClass("ag-header-select-all"),rr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,$c.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},o.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},o.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.getNextCheckboxState=function(i){return(0!==i.selected||0!==i.notSelected)&&(i.selected>0&&i.notSelected>0?null:i.selected>0)},o.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var i=this.getSelectionCount(),s=this.getNextCheckboxState(i);this.cbSelectAll.setValue(s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},o.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var i=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.cbSelectAll.getValue()?i("ariaChecked","checked"):i("ariaUnchecked","unchecked"),c=i("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",c+" ("+l+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);this.headerCellCtrl.refreshAriaDescription()},o.prototype.getSelectionCount=function(){var i=this,s=0,l=0,c=function(p){i.gridOptionsWrapper.isGroupSelectsChildren()&&p.group||(p.isSelected()?s++:p.selectable&&l++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(c):this.gridApi.forEachNode(c),{notSelected:l,selected:s}},o.prototype.checkRightRowModelType=function(){var i=this.rowModel.getType();i===Ie.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+i)},o.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},o.prototype.isCheckboxSelection=function(){var i=this.column.getColDef().headerCheckboxSelection;return"function"==typeof i&&(i=i({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!i||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},xd([le("gridApi")],o.prototype,"gridApi",void 0),xd([le("columnApi")],o.prototype,"columnApi",void 0),xd([le("rowModel")],o.prototype,"rowModel",void 0),xd([le("selectionService")],o.prototype,"selectionService",void 0),o}(dt),gC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),na=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},sm=function(u){function o(i,s){var l=u.call(this,i,s)||this;return l.refreshFunctions=[],l.userHeaderClasses=new Set,l.ariaDescriptionProperties=new Map,l.column=i,l}return gC(o,u),o.prototype.setComp=function(i,s,l){var c=this;u.prototype.setGui.call(this,s),this.comp=i,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new jS(this.getPinned(),this.column,l,i,this)),this.createManagedBean(new jc([this.column],s)),this.createManagedBean(new Hc(this.column,s,this.beans)),this.createManagedBean(new ns(s,{shouldStopEventPropagation:function(p){return c.shouldStopEventPropagation(p)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},o.prototype.setupUserComp=function(){var i=this.lookupUserCompDetails();this.setCompDetails(i)},o.prototype.setCompDetails=function(i){this.userCompDetails=i,this.comp.setUserCompDetails(i)},o.prototype.lookupUserCompDetails=function(){var i=this.createParams(),s=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(s,i)},o.prototype.createParams=function(){var i=this,s=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:s.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(c){i.gridApi.showColumnMenuAfterButtonClick(i.column,c)},progressSort:function(c){i.sortController.progressSort(i.column,!!c,"uiColumnSorted")},setSort:function(c,p){i.sortController.setSortForColumn(i.column,c,!!p,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},o.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new om(this.column)),this.selectAllFeature.setComp(this)},o.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},o.prototype.handleKeyDown=function(i){i.key===lt.SPACE&&this.selectAllFeature.onSpaceKeyPressed(i),i.key===lt.ENTER&&this.onEnterKeyPressed(i)},o.prototype.onEnterKeyPressed=function(i){var s=this.comp.getUserCompInstance();s&&(i.ctrlKey||i.metaKey?this.menuEnabled&&s.showMenu&&(i.preventDefault(),s.showMenu()):this.sortable&&this.sortController.progressSort(this.column,i.shiftKey,"uiColumnSorted"))},o.prototype.isMenuEnabled=function(){return this.menuEnabled},o.prototype.onFocusIn=function(i){if(!this.getGui().contains(i.relatedTarget)){var s=this.getRowIndex();this.focusService.setFocusedHeader(s,this.column)}this.setActiveHeader(!0)},o.prototype.onFocusOut=function(i){this.getGui().contains(i.relatedTarget)||this.setActiveHeader(!1)},o.prototype.setupTooltip=function(){var i=this,l=this.createManagedBean(new gp({getColumn:function(){return i.column},getColDef:function(){return i.column.getColDef()},getGui:function(){return i.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return i.column.getColDef().headerTooltip}},this.beans));l.setComp(this.comp),this.refreshFunctions.push(function(){return l.refreshToolTip()})},o.prototype.setupClassesFromColDef=function(){var i=this,s=function(){var l=i.column.getColDef(),p=Zg.getHeaderClassesFromColDef(l,i.gridOptionsWrapper,i.column,null),v=i.userHeaderClasses;i.userHeaderClasses=new Set(p),p.forEach(function(M){v.has(M)?v.delete(M):i.comp.addOrRemoveCssClass(M,!0)}),v.forEach(function(M){return i.comp.addOrRemoveCssClass(M,!1)})};this.refreshFunctions.push(s),s()},o.prototype.setDragSource=function(i){var s=this;this.dragSourceElement=i,this.removeDragSource(),i&&(!this.draggable||(this.moveDragSource={type:j.rvo.HeaderCell,eElement:i,defaultIconName:ar.ICON_HIDE,getDragItem:function(){return s.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return s.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return s.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},o.prototype.createDragItem=function(){var i={};return i[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:i}},o.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},o.prototype.onNewColumnsLoaded=function(){var i=this.columnModel.getColDefVersion();i!=this.colDefVersion&&(this.colDefVersion=i,this.refresh())},o.prototype.updateState=function(){var i=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!i.suppressMenu,this.sortable=i.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},o.prototype.addRefreshFunction=function(i){this.refreshFunctions.push(i)},o.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(i){return i()})},o.prototype.refreshHeaderComp=function(){var i=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==i.componentClass&&this.attemptHeaderCompRefresh(i.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(i)},o.prototype.attemptHeaderCompRefresh=function(i){var s=this.comp.getUserCompInstance();return!(!s||!s.refresh)&&s.refresh(i)},o.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},o.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},o.prototype.workOutDraggable=function(){var i=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||i.suppressMovable||i.lockPosition)||!!i.enableRowGroup||!!i.enablePivot},o.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},o.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},o.prototype.onColumnValueChanged=function(){this.checkDisplayName()},o.prototype.setupWidth=function(){var i=this,s=function(){i.comp.setWidth(i.column.getActualWidth()+"px")};this.addManagedListener(this.column,ot.EVENT_WIDTH_CHANGED,s),s()},o.prototype.setupMovingCss=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-moving",i.column.isMoving())};this.addManagedListener(this.column,ot.EVENT_MOVING_CHANGED,s),s()},o.prototype.setupMenuClass=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-column-menu-visible",i.column.isMenuVisible())};this.addManagedListener(this.column,ot.EVENT_MENU_VISIBLE_CHANGED,s),s()},o.prototype.setupSortableClass=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!i.sortable)};s(),this.addRefreshFunction(s),this.addManagedListener(this.column,ot.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},o.prototype.refreshAriaSort=function(){if(this.sortable){var i=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(zu(this.column)),this.setAriaDescriptionProperty("sort",i("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},o.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var i=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",i("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},o.prototype.setAriaDescriptionProperty=function(i,s){null!=s?this.ariaDescriptionProperties.set(i,s):this.ariaDescriptionProperties.delete(i)},o.prototype.refreshAriaDescription=function(){var i=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(i.length?i.join(" "):void 0)},o.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},o.prototype.addColumnHoverListener=function(){var i=this,s=function(){if(i.gridOptionsWrapper.isColumnHoverHighlight()){var l=i.columnHoverService.isHovered(i.column);i.comp.addOrRemoveCssClass("ag-column-hover",l)}};this.addManagedListener(this.eventService,xe.EVENT_COLUMN_HOVER_CHANGED,s),s()},o.prototype.setupFilterCss=function(){var i=this,s=function(){i.comp.addOrRemoveCssClass("ag-header-cell-filtered",i.column.isFilterActive())};this.addManagedListener(this.column,ot.EVENT_FILTER_ACTIVE_CHANGED,s),s()},o.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},o.prototype.addActiveHeaderMouseListeners=function(){var i=this,s=function(l){return i.setActiveHeader("mouseenter"===l.type)};this.addManagedListener(this.getGui(),"mouseenter",s),this.addManagedListener(this.getGui(),"mouseleave",s)},o.prototype.setActiveHeader=function(i){this.comp.addOrRemoveCssClass("ag-header-active",i)},na([le("columnModel")],o.prototype,"columnModel",void 0),na([le("columnHoverService")],o.prototype,"columnHoverService",void 0),na([le("beans")],o.prototype,"beans",void 0),na([le("sortController")],o.prototype,"sortController",void 0),na([le("menuFactory")],o.prototype,"menuFactory",void 0),na([le("dragAndDropService")],o.prototype,"dragAndDropService",void 0),na([le("gridApi")],o.prototype,"gridApi",void 0),na([le("columnApi")],o.prototype,"columnApi",void 0),na([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),na([Yt],o.prototype,"removeDragSource",null),o}(bd),WS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Sd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},US=function(u){function o(i,s,l,c){var p=u.call(this)||this;return p.eResize=s,p.comp=i,p.pinned=l,p.columnGroup=c,p}return WS(o,u),o.prototype.postConstruct=function(){var i=this;if(this.columnGroup.isResizable()){var s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(s),!this.gridOptionsWrapper.isSuppressAutoSize()){var l=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var c=[];i.columnGroup.getDisplayedLeafColumns().forEach(function(v){v.getColDef().suppressAutoSize||c.push(v.getColId())}),c.length>0&&i.columnModel.autoSizeColumns({columns:c,skipHeader:l,stopAtGroup:i.columnGroup,source:"uiColumnResized"}),i.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},o.prototype.onResizeStart=function(i){var s=this;this.calculateInitialValues();var l=null;if(i&&(l=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),l){var c=l.getDisplayedLeafColumns();this.resizeTakeFromCols=c.filter(function(p){return p.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(p){return s.resizeTakeFromStartWidth+=p.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(p){return s.resizeTakeFromRatios.push(p.getActualWidth()/s.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.onResizing=function(i,s){var l=this.normaliseDragChange(s);this.resizeColumns(this.resizeStartWidth+l,i)},o.prototype.resizeLeafColumnsToFit=function(){var i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),i>this.resizeStartWidth&&this.resizeColumns(i,!0)},o.prototype.resizeColumns=function(i,s){void 0===s&&(s=!0);var l=[];l.push({columns:this.resizeCols,ratios:this.resizeRatios,width:i}),this.resizeTakeFromCols&&l.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(i-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:l,finished:s,source:"uiColumnDragged"}),s&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.calculateInitialValues=function(){var i=this,s=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=s.filter(function(l){return l.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(l){return i.resizeStartWidth+=l.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(l){return i.resizeRatios.push(l.getActualWidth()/i.resizeStartWidth)})},o.prototype.normaliseDragChange=function(i){var s=i;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Ie.PINNED_LEFT&&(s*=-1):this.pinned===Ie.PINNED_RIGHT&&(s*=-1),s},Sd([le("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),Sd([le("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),Sd([le("columnModel")],o.prototype,"columnModel",void 0),Sd([Xe],o.prototype,"postConstruct",null),o}(dt),zS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),YS=function(u){function o(i,s){var l=u.call(this)||this;return l.removeChildListenersFuncs=[],l.columnGroup=s,l.comp=i,l}return zS(o,u),o.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Cr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},o.prototype.addListenersToChildrenColumns=function(){var i=this;this.removeListenersOnChildrenColumns();var s=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(l){l.addEventListener(ot.EVENT_WIDTH_CHANGED,s),l.addEventListener(ot.EVENT_VISIBLE_CHANGED,s),i.removeChildListenersFuncs.push(function(){l.removeEventListener(ot.EVENT_WIDTH_CHANGED,s),l.removeEventListener(ot.EVENT_VISIBLE_CHANGED,s)})})},o.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(i){return i()}),this.removeChildListenersFuncs=[]},o.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},o.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Xe],o.prototype,"postConstruct",null),o}(dt),mC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},_C=function(u){function o(i,s){var l=u.call(this,i,s)||this;return l.columnGroup=i,l}return mC(o,u),o.prototype.setComp=function(i,s,l){u.prototype.setGui.call(this,s),this.comp=i,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var c=this.getParentRowCtrl().getPinned(),p=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new jc(p,s)),this.createManagedBean(new Hc(this.columnGroup,s,this.beans)),this.createManagedBean(new YS(i,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new US(i,l,c,this.columnGroup)),this.createManagedBean(new ns(s,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},o.prototype.setupUserComp=function(){var i=this,s=this.displayName,l={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(L){i.columnModel.setColumnGroupOpened(i.columnGroup.getProvidedColumnGroup(),L,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!s){for(var c=this.columnGroup,p=c.getLeafColumns();c.getParent()&&c.getParent().getLeafColumns().length===p.length;)c=c.getParent();var v=c.getColGroupDef();v&&(s=v.headerName),s||(s=p?this.columnModel.getDisplayNameForColumn(p[0],"header",!0):"")}var M=this.userComponentFactory.getHeaderGroupCompDetails(l);this.comp.setUserCompDetails(M)},o.prototype.setupTooltip=function(){var i=this,s=this.columnGroup.getColGroupDef(),l={getColumn:function(){return i.columnGroup},getGui:function(){return i.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return s&&s.headerTooltip}};s&&(l.getColDef=function(){return s}),this.createManagedBean(new gp(l,this.beans)).setComp(this.comp)},o.prototype.setupExpandable=function(){var i=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(i,En.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(i,En.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},o.prototype.refreshExpanded=function(){var i=this.columnGroup;this.expandable=i.isExpandable();var s=i.isExpanded();this.comp.setAriaExpanded(this.expandable?s?"true":"false":void 0)},o.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},o.prototype.addClasses=function(){var i=this,s=this.columnGroup.getColGroupDef(),l=Zg.getHeaderClassesFromColDef(s,this.gridOptionsWrapper,null,this.columnGroup);l.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),l.forEach(function(c){return i.comp.addOrRemoveCssClass(c,!0)})},o.prototype.setupMovingCss=function(){var i=this,l=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c=function(){return i.comp.addOrRemoveCssClass("ag-header-cell-moving",i.columnGroup.isMoving())};l.forEach(function(p){i.addManagedListener(p,ot.EVENT_MOVING_CHANGED,c)}),c()},o.prototype.onFocusIn=function(i){if(!this.eGui.contains(i.relatedTarget)){var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.columnGroup)}},o.prototype.handleKeyDown=function(i){var s=this.gridOptionsWrapper.getDocument();if(this.expandable&&s.activeElement===this.eGui&&i.key===lt.ENTER){var p=this.columnGroup,v=!p.isExpanded();this.columnModel.setColumnGroupOpened(p.getProvidedColumnGroup(),v,"uiColumnExpanded")}},o.prototype.setDragSource=function(i){var s=this;if(!this.isSuppressMoving()){var l=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c={type:j.rvo.HeaderCell,eElement:i,defaultIconName:ar.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return l.forEach(function(p){return p.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return l.forEach(function(p){return p.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(c,!0),this.addDestroyFunc(function(){return s.dragAndDropService.removeDragSource(c)})}},o.prototype.getDragItemForGroup=function(){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),s={};i.forEach(function(c){return s[c.getId()]=c.isVisible()});var l=[];return this.columnModel.getAllDisplayedColumns().forEach(function(c){i.indexOf(c)>=0&&(l.push(c),si(i,c))}),i.forEach(function(c){return l.push(c)}),{columns:l,visibleState:s}},o.prototype.isSuppressMoving=function(){var i=!1;return this.columnGroup.getLeafColumns().forEach(function(l){(l.getColDef().suppressMovable||l.getColDef().lockPosition)&&(i=!0)}),i||this.gridOptionsWrapper.isSuppressMovableColumns()},Wc([le("beans")],o.prototype,"beans",void 0),Wc([le("columnModel")],o.prototype,"columnModel",void 0),Wc([le("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Wc([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Wc([le("gridApi")],o.prototype,"gridApi",void 0),Wc([le("columnApi")],o.prototype,"columnApi",void 0),o}(bd),KS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),am=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},vC=0,Sp=function(u){function o(i,s,l){var c=u.call(this)||this;return c.instanceId=vC++,c.headerCellCtrls={},c.rowIndex=i,c.pinned=s,c.type=l,c}return KS(o,u),o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(i){this.comp=i,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Wr()&&this.comp.setTransform("translateZ(0)"),i.setAriaRowIndex(this.rowIndex+1)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,xe.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,At.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,At.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,At.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,At.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,At.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,At.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},o.prototype.getHeaderCellCtrl=function(i){return b(this.headerCellCtrls).find(function(s){return s.getColumnGroupChild()===i})},o.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},o.prototype.getType=function(){return this.type},o.prototype.onColumnResized=function(){this.setWidth()},o.prototype.setWidth=function(){var i=this.getWidthForRow();this.comp.setWidth(i+"px")},o.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(Ie.PINNED_RIGHT)+this.columnModel.getContainerWidth(Ie.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},o.prototype.onRowHeightChanged=function(){var c,p,i=this.columnModel.getHeaderRowCount(),s=[],l=0;this.columnModel.hasFloatingFilters()&&(i++,l=1),this.columnModel.isPivotMode()?(c=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),p=this.gridOptionsWrapper.getPivotHeaderHeight()):(c=this.gridOptionsWrapper.getGroupHeaderHeight(),p=this.gridOptionsWrapper.getHeaderHeight());for(var M=i-(1+l),L=0;L<M;L++)s.push(c);for(s.push(p),L=0;L<l;L++)s.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var Y=0;for(L=0;L<this.rowIndex;L++)Y+=s[L];this.comp.setTop(Y+"px"),this.comp.setHeight(s[this.rowIndex]+"px")},o.prototype.getPinned=function(){return this.pinned},o.prototype.getRowIndex=function(){return this.rowIndex},o.prototype.onVirtualColumnsChanged=function(){var i=this,s=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(v){if(!v.isEmptyGroup()){var M=v.getUniqueId(),L=s[M];if(delete s[M],L&&L.getColumnGroupChild()!=v&&(i.destroyBean(L),L=void 0),null==L)switch(i.type){case j.A6C.FLOATING_FILTER:L=i.createBean(new im(v,i));break;case j.A6C.COLUMN_GROUP:L=i.createBean(new _C(v,i));break;default:L=i.createBean(new sm(v,i))}i.headerCellCtrls[M]=L}}),E(s,function(v,M){var L=function(v){return!!i.focusService.isHeaderWrapperFocused(v)&&i.columnModel.isDisplayed(v.getColumnGroupChild())}(M);L?i.headerCellCtrls[v]=M:i.destroyBean(M)});var p=J(this.headerCellCtrls);this.comp.setHeaderCtrls(p)},o.prototype.destroyCtrls=function(){var i=this;E(this.headerCellCtrls,function(s,l){i.destroyBean(l)}),this.headerCellCtrls={}},o.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},o.prototype.getColumnsInViewportPrintLayout=function(){var i=this;if(null!=this.pinned)return[];var s=[],l=this.getActualDepth();return[Ie.PINNED_LEFT,null,Ie.PINNED_RIGHT].forEach(function(c){var p=i.columnModel.getVirtualHeaderGroupRow(c,l);s=s.concat(p)}),s},o.prototype.getActualDepth=function(){return this.type==j.A6C.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},o.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},o.prototype.focusHeader=function(i,s){var c=J(this.headerCellCtrls).find(function(p){return p.getColumnGroupChild()==i});return!!c&&(c.focus(s),!0)},am([le("columnModel")],o.prototype,"columnModel",void 0),am([le("focusService")],o.prototype,"focusService",void 0),am([Yt],o.prototype,"destroyCtrls",null),o}(dt),qS=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Td=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},xn=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},lm=function(u){function o(i){var s=u.call(this)||this;return s.groupsRowCtrls=[],s.pinned=i,s}return qS(o,u),o.prototype.setComp=function(i,s){this.comp=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(s),this.addManagedListener(this.eventService,xe.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},o.prototype.setupDragAndDrop=function(i){var s=new sC(this.pinned,i);this.createManagedBean(s)},o.prototype.refresh=function(i){var s=this;void 0===i&&(i=!1);var Y,l=new wc,c=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var Y=s.columnModel.getHeaderRowCount()-1;s.groupsRowCtrls=s.destroyBeans(s.groupsRowCtrls);for(var re=0;re<Y;re++){var de=s.createBean(new Sp(l.next(),s.pinned,j.A6C.COLUMN_GROUP));s.groupsRowCtrls.push(de)}})(),Y=l.next(),(null==s.columnsRowCtrl||!i||s.columnsRowCtrl.getRowIndex()!==Y)&&(s.destroyBean(s.columnsRowCtrl),s.columnsRowCtrl=s.createBean(new Sp(Y,s.pinned,j.A6C.COLUMN))),function(){var re=function(){s.filtersRowCtrl=s.destroyBean(s.filtersRowCtrl)};if(s.columnModel.hasFloatingFilters()){var de=l.next();if(s.filtersRowCtrl){var be=s.filtersRowCtrl.getRowIndex()!==de;(!i||be)&&re()}s.filtersRowCtrl||(s.filtersRowCtrl=s.createBean(new Sp(de,s.pinned,j.A6C.FLOATING_FILTER)))}else re()}();var L=this.getAllCtrls();this.comp.setCtrls(L),this.restoreFocusOnHeader(c)},o.prototype.restoreFocusOnHeader=function(i){null==i||i.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:i})},o.prototype.getAllCtrls=function(){var i=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(xn(arguments[o]));return u}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&i.push(this.filtersRowCtrl),i},o.prototype.onGridColumnsChanged=function(){this.refresh(!0)},o.prototype.setupCenterWidth=function(){var i=this;null==this.pinned&&this.createManagedBean(new fd(function(s){return i.comp.setCenterWidth(s+"px")}))},o.prototype.setHorizontalScroll=function(i){this.comp.setContainerTransform("translateX("+i+"px)")},o.prototype.setupPinnedWidth=function(){var i=this;if(null!=this.pinned){var s=this.pinned===Ie.PINNED_LEFT,l=this.pinned===Ie.PINNED_RIGHT,c=function(){var p=s?i.pinnedWidthService.getPinnedLeftWidth():i.pinnedWidthService.getPinnedRightWidth();if(null!=p){var v=0==p,M=i.gridOptionsWrapper.isEnableRtl(),L=i.gridOptionsWrapper.getScrollbarWidth(),Y=i.scrollVisibleService.isVerticalScrollShowing()&&(M&&s||!M&&l);i.comp.setPinnedContainerWidth((Y?p+L:p)+"px"),i.comp.addOrRemoveCssClass("ag-hidden",v)}};this.addManagedListener(this.eventService,xe.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,xe.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,xe.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,xe.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}},o.prototype.getHeaderCtrlForColumn=function(i){if(i instanceof ot)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(i):void 0;if(0!==this.groupsRowCtrls.length)for(var s=0;s<this.groupsRowCtrls.length;s++){var l=this.groupsRowCtrls[s].getHeaderCellCtrl(i);if(l)return l}},o.prototype.getHtmlElementForColumnHeader=function(i){var s=this.getHeaderCtrlForColumn(i);return s?s.getGui():null},o.prototype.getRowType=function(i){var l=this.getAllCtrls()[i];return l?l.getType():void 0},o.prototype.focusHeader=function(i,s,l){var p=this.getAllCtrls()[i];return!!p&&p.focusHeader(s,l)},o.prototype.getRowCount=function(){return this.getAllCtrls().length},Td([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Td([le("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Td([le("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),Td([le("columnModel")],o.prototype,"columnModel",void 0),Td([le("focusService")],o.prototype,"focusService",void 0),o}(dt),yC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Uc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},so=function(u){function o(i){var s=u.call(this)||this;return s.headerRowComps={},s.rowCompsList=[],s.pinned=i,s}return yC(o,u),o.prototype.init=function(){var i=this;this.selectAndSetTemplate();var s={addOrRemoveCssClass:function(c,p){return i.addOrRemoveCssClass(c,p)},setCtrls:function(c){return i.setCtrls(c)},setCenterWidth:function(c){return i.eCenterContainer.style.width=c},setContainerTransform:function(c){return i.eCenterContainer.style.transform=c},setPinnedContainerWidth:function(c){var p=i.getGui();p.style.width=c,p.style.maxWidth=c,p.style.minWidth=c}};this.createManagedBean(new lm(this.pinned)).setComp(s,this.getGui())},o.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==Ie.PINNED_LEFT?o.PINNED_LEFT_TEMPLATE:this.pinned==Ie.PINNED_RIGHT?o.PINNED_RIGHT_TEMPLATE:o.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},o.prototype.destroyRowComps=function(){this.setCtrls([])},o.prototype.destroyRowComp=function(i){this.destroyBean(i),this.eRowContainer.removeChild(i.getGui())},o.prototype.setCtrls=function(i){var c,s=this,l=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],i.forEach(function(v){var M=v.getInstanceId(),L=l[M];delete l[M];var Y=L||s.createBean(new tm(v));s.headerRowComps[M]=Y,s.rowCompsList.push(Y),function(v){var M=v.getGui();M.parentElement!=s.eRowContainer&&s.eRowContainer.appendChild(M),c&&_c(s.eRowContainer,M,c),c=M}(Y)}),J(l).forEach(function(v){return s.destroyRowComp(v)})},o.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',o.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',o.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Uc([st("eCenterContainer")],o.prototype,"eCenterContainer",void 0),Uc([Xe],o.prototype,"init",null),Uc([Yt],o.prototype,"destroyRowComps",null),o}(un),CC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),zc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u[u.UP=0]="UP",u[u.DOWN=1]="DOWN",u[u.LEFT=2]="LEFT",u[u.RIGHT=3]="RIGHT"}(j.Y8R||(j.Y8R={}));var Tp=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return CC(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridBodyCon=s.gridBodyCtrl})},o.prototype.getHeaderRowCount=function(){var i=this.ctrlsService.getHeaderRowContainerCtrl();return i?i.getRowCount():0},o.prototype.getHeaderRowType=function(i){var s=this.ctrlsService.getHeaderRowContainerCtrl();if(s)return s.getRowType(i)},o.prototype.navigateVertically=function(i,s,l){if(s||(s=this.focusService.getFocusedHeader()),!s)return!1;var c=s.headerRowIndex,p=s.column,v=this.getHeaderRowCount(),M=i===j.Y8R.UP,L=M?c-1:c+1,Y=null,re=!1;L<0&&(L=0,Y=p,re=!0),L>=v&&(L=-1);var de=this.getHeaderRowType(c);if(!re){if(de===j.A6C.COLUMN_GROUP){var be=p;Y=M?p.getParent():be.getDisplayedChildren()[0]}else de===j.A6C.FLOATING_FILTER?Y=p:(be=p,Y=M?be.getParent():be);if(!Y)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:L,column:Y},allowUserOverride:!0,event:l})},o.prototype.navigateHorizontally=function(i,s,l){void 0===s&&(s=!1);var M,L,c=this.focusService.getFocusedHeader();return(M=i===j.Y8R.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(c,L="Before"):this.headerPositionUtils.findHeader(c,L="After"))?this.focusService.focusHeaderPosition({headerPosition:M,direction:L,fromTab:s,allowUserOverride:!0,event:l}):!s||this.focusNextHeaderRow(c,L,l)},o.prototype.focusNextHeaderRow=function(i,s,l){var c=i.headerRowIndex,p=null;return"Before"===s?c>0&&(p=this.headerPositionUtils.findColAtEdgeForHeaderRow(c-1,"end")):p=this.headerPositionUtils.findColAtEdgeForHeaderRow(c+1,"start"),this.focusService.focusHeaderPosition({headerPosition:p,direction:s,fromTab:!0,allowUserOverride:!0,event:l})},o.prototype.scrollToColumn=function(i,s){if(void 0===s&&(s="After"),!i.getPinned()){var l;if(i instanceof Cr){var c=i.getDisplayedLeafColumns();l="Before"===s?xt(c):c[0]}else l=i;this.gridBodyCon.getScrollFeature().ensureColumnVisible(l),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},zc([le("focusService")],o.prototype,"focusService",void 0),zc([le("headerPositionUtils")],o.prototype,"headerPositionUtils",void 0),zc([le("animationFrameService")],o.prototype,"animationFrameService",void 0),zc([le("ctrlsService")],o.prototype,"ctrlsService",void 0),zc([Xe],o.prototype,"postConstruct",null),zc([at("headerNavigationService")],o)}(dt),ia=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Yc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},cm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ia(o,u),o.prototype.setComp=function(i,s,l){this.comp=i,this.eGui=s,this.createManagedBean(new ns(l,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},o.prototype.setupHeaderHeight=function(){var i=this.setHeaderHeight.bind(this);i(),this.addManagedListener(this.gridOptionsWrapper,At.PROP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,At.PROP_PIVOT_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,At.PROP_GROUP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,At.PROP_PIVOT_GROUP_HEADER_HEIGHT,i),this.addManagedListener(this.gridOptionsWrapper,At.PROP_FLOATING_FILTERS_HEIGHT,i),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,i)},o.prototype.setHeaderHeight=function(){var v,M,L,s=this.columnModel,l=this.gridOptionsWrapper,c=0,p=s.getHeaderRowCount();s.hasFloatingFilters()&&(p++,c=1),s.isPivotMode()?(M=l.getPivotGroupHeaderHeight(),L=l.getPivotHeaderHeight()):(M=l.getGroupHeaderHeight(),L=l.getHeaderHeight());var de=p-(1+c);v=c*l.getFloatingFiltersHeight(),v+=de*M,this.comp.setHeightAndMinHeight((v+=L)+1+"px")},o.prototype.onPivotModeChanged=function(){var i=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",i),this.comp.addOrRemoveCssClass("ag-pivot-off",!i)},o.prototype.onTabKeyDown=function(i){var s=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(i.shiftKey!==s?j.Y8R.LEFT:j.Y8R.RIGHT,!0,i)||this.focusService.focusNextGridCoreContainer(i.shiftKey))&&i.preventDefault()},o.prototype.handleKeyDown=function(i){var s=null;switch(i.key){case lt.LEFT:s=j.Y8R.LEFT;case lt.RIGHT:I(s)||(s=j.Y8R.RIGHT),this.headerNavigationService.navigateHorizontally(s,!1,i);break;case lt.UP:s=j.Y8R.UP;case lt.DOWN:I(s)||(s=j.Y8R.DOWN),this.headerNavigationService.navigateVertically(s,null,i)&&i.preventDefault();break;default:return}},o.prototype.onFocusOut=function(i){var s=this.gridOptionsWrapper.getDocument(),l=i.relatedTarget;!l&&this.eGui.contains(s.activeElement)||this.eGui.contains(l)||this.focusService.clearFocusedHeader()},Yc([le("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Yc([le("focusService")],o.prototype,"focusService",void 0),Yc([le("columnModel")],o.prototype,"columnModel",void 0),Yc([le("ctrlsService")],o.prototype,"ctrlsService",void 0),o}(dt),um=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),dm=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return um(o,u),o.prototype.postConstruct=function(){var i=this,s={addOrRemoveCssClass:function(p,v){return i.addOrRemoveCssClass(p,v)},setHeightAndMinHeight:function(p){i.getGui().style.height=p,i.getGui().style.minHeight=p}};this.createManagedBean(new cm).setComp(s,this.getGui(),this.getFocusableElement());var c=function(p){i.createManagedBean(p),i.appendChild(p)};c(new so(Ie.PINNED_LEFT)),c(new so(null)),c(new so(Ie.PINNED_RIGHT))},o.TEMPLATE='<div class="ag-header" role="presentation"/>',function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Xe],o.prototype,"postConstruct",null),o}(un),rO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Kc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ed=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return rO(o,u),o.prototype.addResizeBar=function(i){var s=this,l={dragStartPixels:i.dragStartPixels||0,eElement:i.eResizeBar,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this,i),onDragging:this.onDragging.bind(this,i)};return this.dragService.addDragSource(l,!0),function(){return s.dragService.removeDragSource(l)}},o.prototype.onDragStart=function(i,s){this.dragStartX=s.clientX,this.setResizeIcons();var l=s instanceof MouseEvent&&!0===s.shiftKey;i.onResizeStart(l)},o.prototype.setResizeIcons=function(){var i=this.ctrlsService.getGridCtrl();i.setResizeCursor(!0),i.disableUserSelect(!0)},o.prototype.onDragStop=function(i,s){i.onResizeEnd(this.resizeAmount),this.resetIcons()},o.prototype.resetIcons=function(){var i=this.ctrlsService.getGridCtrl();i.setResizeCursor(!1),i.disableUserSelect(!1)},o.prototype.onDragging=function(i,s){this.resizeAmount=s.clientX-this.dragStartX,i.onResizing(this.resizeAmount)},Kc([le("dragService")],o.prototype,"dragService",void 0),Kc([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Kc([at("horizontalResizeService")],o)}(dt),hm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Pl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ep=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return hm(o,u),o.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},o.prototype.showMenuAfterMouseEvent=function(i,s){var l=this;this.showPopup(i,function(c){l.popupService.positionPopupUnderMouseEvent({column:i,type:"columnMenu",mouseEvent:s,ePopup:c})},s.target)},o.prototype.showMenuAfterButtonClick=function(i,s,l){var c=this;this.showPopup(i,function(p){c.popupService.positionPopupUnderComponent({type:l,eventSource:s,ePopup:p,keepWithinBounds:!0,column:i})},s)},o.prototype.showPopup=function(i,s,l){var c=this,p=this.filterManager.getOrCreateFilterWrapper(i,"COLUMN_MENU");if(!p)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var v=document.createElement("div");rr(v,"presentation"),v.classList.add("ag-menu"),this.tabListener=this.addManagedListener(v,"keydown",function(be){return c.trapFocusWithin(be,v)}),p.guiPromise.then(function(be){return v.appendChild(be)});var M,L=l||this.ctrlsService.getGridBodyCtrl().getGui(),re=this.gridOptionsWrapper.getLocaleTextFunc(),de=this.popupService.addPopup({modal:!0,eChild:v,closeOnEsc:!0,closedCallback:function(be){i.setMenuVisible(!1,"contextMenu");var Ce=be instanceof KeyboardEvent;if(c.tabListener&&(c.tabListener=c.tabListener()),Ce&&l&&bo(l)){var Re=c.focusService.findTabbableParent(l);Re&&Re.focus()}},positionCallback:function(){return s(v)},anchorToElement:L,ariaLabel:re("ariaLabelColumnMenu","Column Menu")});de&&(this.hidePopup=M=de.hideFunc),p.filterPromise.then(function(be){s(v),be.afterGuiAttached&&be.afterGuiAttached({container:"columnMenu",hidePopup:M})}),i.setMenuVisible(!0,"contextMenu")},o.prototype.trapFocusWithin=function(i,s){i.key!==lt.TAB||i.defaultPrevented||this.focusService.findNextFocusableElement(s,!1,i.shiftKey)||(i.preventDefault(),this.focusService.focusInto(s,i.shiftKey))},o.prototype.isMenuEnabled=function(i){return i.isFilterAllowed()},Pl([le("filterManager")],o.prototype,"filterManager",void 0),Pl([le("popupService")],o.prototype,"popupService",void 0),Pl([le("focusService")],o.prototype,"focusService",void 0),Pl([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Pl([at("menuFactory")],o)}(dt),oO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ZS=(function(u){function o(i){var s=u.call(this,o.getTemplate(i.cssClass))||this;return s.items=[],s.tabbedItemScrollMap=new Map,s.params=i,i.items&&i.items.forEach(function(l){return s.addItem(l)}),s}oO(o,u),o.prototype.postConstruct=function(){this.createManagedBean(new ns(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},o.getTemplate=function(i){return'<div class="ag-tabs '+i+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(i?i+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(i?i+"-body":"")+'"></div>\n        </div>'},o.prototype.handleKeyDown=function(i){var s=this.gridOptionsWrapper.getDocument();switch(i.key){case lt.RIGHT:case lt.LEFT:if(!this.eHeader.contains(s.activeElement))return;var l=this.items.indexOf(this.activeItem),c=i.key===lt.RIGHT?Math.min(l+1,this.items.length-1):Math.max(l-1,0);if(l===c)return;i.preventDefault();var p=this.items[c];this.showItemWrapper(p),p.eHeaderButton.focus();break;case lt.UP:case lt.DOWN:i.stopPropagation()}},o.prototype.onTabKeyDown=function(i){if(!i.defaultPrevented){var s=this,l=s.focusService,c=s.eHeader,p=s.eBody,v=s.activeItem,L=this.gridOptionsWrapper.getDocument().activeElement;if(i.preventDefault(),c.contains(L))l.focusInto(p,i.shiftKey);else if(l.isFocusUnderManagedComponent(p))v.eHeaderButton.focus();else{var Y=l.findNextFocusableElement(p,!1,i.shiftKey);Y?Y.focus():v.eHeaderButton.focus()}}},o.prototype.setAfterAttachedParams=function(i){this.afterAttachedParams=i},o.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},o.prototype.addItem=function(i){var s=document.createElement("span");rr(s,"tab"),s.setAttribute("tabIndex","-1"),s.appendChild(i.title),s.classList.add("ag-tab"),this.eHeader.appendChild(s),ul(s,i.titleLabel);var l={tabbedItem:i,eHeaderButton:s};this.items.push(l),s.addEventListener("click",this.showItemWrapper.bind(this,l))},o.prototype.showItem=function(i){var s=this.items.find(function(l){return l.tabbedItem===i});s&&this.showItemWrapper(s)},o.prototype.showItemWrapper=function(i){var s=this,l=i.tabbedItem,c=i.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:l}),this.activeItem!==i?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),gt(this.eBody),l.bodyPromise.then(function(p){s.eBody.appendChild(p);var v=!s.focusService.isKeyboardMode();if(s.focusService.focusInto(s.eBody,!1,v),l.afterAttachedCallback&&l.afterAttachedCallback(s.afterAttachedParams),s.params.keepScrollPosition){var M=l.getScrollableContainer&&l.getScrollableContainer()||p;s.lastScrollListener=s.addManagedListener(M,"scroll",function(){s.tabbedItemScrollMap.set(l.name,M.scrollTop)});var L=s.tabbedItemScrollMap.get(l.name);void 0!==L&&setTimeout(function(){M.scrollTop=L},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),c.classList.add("ag-tab-selected"),this.activeItem=i):Zt(this.params.onActiveItemClicked)},Dp([le("focusService")],o.prototype,"focusService",void 0),Dp([st("eHeader")],o.prototype,"eHeader",void 0),Dp([st("eBody")],o.prototype,"eBody",void 0),Dp([Xe],o.prototype,"postConstruct",null)}(un),function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}()),wC=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.polyfillFunctions=[],i}return ZS(o,u),o.prototype.observeResize=function(i,s){var de,l=this,p=this.gridOptionsWrapper.getDocument().defaultView||window,v=$e(s,50),Y=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return p.ResizeObserver&&!Y?((de=new p.ResizeObserver(v)).observe(i),function(){return de.disconnect()}):function(){var de=al(i),be=$u(i),Ce=!0,Re=function(){if(Ce){var Ge=al(i),Ze=$u(i);(Ge!==de||Ze!==be)&&(de=Ge,be=Ze,s()),l.doNextPolyfillTurn(Re)}};return Re(),function(){return Ce=!1}}()},o.prototype.doNextPolyfillTurn=function(i){this.polyfillFunctions.push(i),this.schedulePolyfill()},o.prototype.schedulePolyfill=function(){var i=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var l=i.polyfillFunctions;i.polyfillScheduled=!1,i.polyfillFunctions=[],l.forEach(function(c){return c()})},50))},o=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at("resizeObserverService")],o),o}(dt),sO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ap=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},pm=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.createTasksP1={list:[],sorted:!1},i.createTasksP2={list:[],sorted:!1},i.destroyTasks=[],i.ticking=!1,i.scrollGoingDown=!0,i.lastScrollTop=0,i.taskCount=0,i.cancelledTasks=new Set,i}return sO(o,u),o.prototype.setScrollTop=function(i){this.scrollGoingDown=i>this.lastScrollTop,this.lastScrollTop=i},o.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},o.prototype.isOn=function(){return this.useAnimationFrame},o.prototype.verifyAnimationFrameOn=function(i){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+i+" called but animation frames are off")},o.prototype.createTask=function(i,s,l){this.verifyAnimationFrameOn(l);var c={task:i,index:s,createOrder:++this.taskCount};this.addTaskToList(this[l],c),this.schedule()},o.prototype.cancelTask=function(i){this.cancelledTasks.add(i)},o.prototype.addTaskToList=function(i,s){i.list.push(s),i.sorted=!1},o.prototype.sortTaskList=function(i){if(!i.sorted){var s=this.scrollGoingDown?1:-1;i.list.sort(function(l,c){return l.index!==c.index?s*(c.index-l.index):c.createOrder-l.createOrder}),i.sorted=!0}},o.prototype.addDestroyTask=function(i){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(i),this.schedule()},o.prototype.executeFrame=function(i){this.verifyAnimationFrameOn("executeFrame");for(var s=this.createTasksP1,l=s.list,c=this.createTasksP2,p=c.list,v=this.destroyTasks,M=(new Date).getTime(),L=(new Date).getTime()-M,Y=i<=0,re=this.ctrlsService.getGridBodyCtrl();Y||L<i;){if(!re.getScrollFeature().executeAnimationFrameScroll()){var be=void 0;if(l.length)this.sortTaskList(s),be=l.pop().task;else if(p.length)this.sortTaskList(c),be=p.pop().task;else{if(!v.length){this.cancelledTasks.clear();break}be=v.pop()}this.cancelledTasks.has(be)||be()}L=(new Date).getTime()-M}l.length||p.length||v.length?this.requestFrame():this.stopTicking()},o.prototype.stopTicking=function(){this.ticking=!1},o.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},o.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},o.prototype.requestFrame=function(){var i=this.executeFrame.bind(this,60),l=this.gridOptionsWrapper.getDocument().defaultView||window;l.requestAnimationFrame?l.requestAnimationFrame(i):l.webkitRequestAnimationFrame?l.webkitRequestAnimationFrame(i):l.setTimeout(i,0)},o.prototype.isQueueEmpty=function(){return!this.ticking},o.prototype.debounce=function(i){var s=this,l=!1;return function(){s.isOn()?l||(l=!0,s.addDestroyTask(function(){l=!1,i()})):s.getFrameworkOverrides().setTimeout(i,0)}},Ap([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Ap([Xe],o.prototype,"init",null),Ap([at("animationFrameService")],o)}(dt),eT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Rp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},nT=function(u){function o(i,s){var l=u.call(this)||this;return l.element=i,l.dragStartPosition={x:0,y:0},l.position={x:0,y:0},l.lastSize={width:-1,height:-1},l.positioned=!1,l.resizersAdded=!1,l.resizeListeners=[],l.boundaryEl=null,l.isResizing=!1,l.isMoving=!1,l.resizable={},l.movable=!1,l.currentResizer=null,l.config=Object.assign({},{popup:!1},s),l}return eT(o,u),o.prototype.center=function(){var i=this.offsetParent,s=i.clientHeight,c=i.clientWidth/2-this.getWidth()/2,p=s/2-this.getHeight()/2;this.offsetElement(c,p)},o.prototype.initialisePosition=function(){var i=this.config,s=i.centered,l=i.forcePopupParentAsOffsetParent,c=i.minWidth,p=i.width,v=i.minHeight,M=i.height,L=i.x,Y=i.y;this.offsetParent||this.setOffsetParent();var re=0,de=0,be=!!this.element.offsetParent;if(be){var Ce=this.findBoundaryElement(),Re=window.getComputedStyle(Ce);if(null!=Re.minWidth){var Ge=Ce.offsetWidth-this.element.offsetWidth;de=parseInt(Re.minWidth,10)-Ge}if(null!=Re.minHeight){var Ze=Ce.offsetHeight-this.element.offsetHeight;re=parseInt(Re.minHeight,10)-Ze}}if(this.minHeight=v||re,this.minWidth=c||de,p&&this.setWidth(p),M&&this.setHeight(M),(!p||!M)&&this.refreshSize(),s)this.center();else if(L||Y)this.offsetElement(L,Y);else if(be&&l&&this.boundaryEl){var He=parseFloat(this.boundaryEl.style.top),Ke=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Ke)?0:Ke,isNaN(He)?0:He)}this.positioned=!!this.offsetParent},o.prototype.isPositioned=function(){return this.positioned},o.prototype.getPosition=function(){return this.position},o.prototype.setMovable=function(i,s){if(this.config.popup&&i!==this.movable){this.movable=i;var l=this.moveElementDragListener||{eElement:s,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};i?(this.dragService.addDragSource(l),this.moveElementDragListener=l):(this.dragService.removeDragSource(l),this.moveElementDragListener=void 0)}},o.prototype.setResizable=function(i){var s=this;if(this.clearResizeListeners(),i?this.addResizers():this.removeResizers(),"boolean"==typeof i){if(!1===i)return;i={topLeft:i,top:i,topRight:i,right:i,bottomRight:i,bottom:i,bottomLeft:i,left:i}}Object.keys(i).forEach(function(l){var p=!!i[l],v=s.getResizerElement(l),M={dragStartPixels:0,eElement:v,onDragStart:function(L){return s.onResizeStart(L,l)},onDragging:s.onResize.bind(s),onDragStop:function(L){return s.onResizeEnd(L,l)}};(!!s.resizable[l]!==p||!s.isAlive()&&!p)&&(p?(s.dragService.addDragSource(M),s.resizeListeners.push(M),v.style.pointerEvents="all"):v.style.pointerEvents="none")})},o.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},o.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var i=this.lastSize,s=i.height,l=i.width;-1!==l&&(this.element.style.width=l+"px"),-1!==s&&(this.element.style.height=s+"px")},o.prototype.getHeight=function(){return this.element.offsetHeight},o.prototype.setHeight=function(i){var s=this.config.popup,l=this.element,c=!1;if("string"==typeof i&&-1!==i.indexOf("%"))Ti(l,i),i=Gh(l),c=!0;else if(this.positioned){var p=this.element.getBoundingClientRect(),v=this.offsetParent.getBoundingClientRect();i=Math.max(this.minHeight,i);var M=this.offsetParent.clientHeight,L=s?this.position.y:p.top;M&&i+L>M+(s?0:v.top)&&(i=M-L)}this.getHeight()!==i&&(c?(l.style.maxHeight="unset",l.style.minHeight="unset"):s?Ti(l,i):(l.style.height=i+"px",l.style.flex="0 0 auto",this.lastSize.height="number"==typeof i?i:parseFloat(i)))},o.prototype.getWidth=function(){return this.element.offsetWidth},o.prototype.setWidth=function(i){var s=this.element,l=this.config.popup,c=!1;if("string"==typeof i&&-1!==i.indexOf("%"))Gi(s,i),i=Vu(s),c=!0;else if(this.positioned){i=Math.max(this.minWidth,i);var p=this.offsetParent.clientWidth,v=l?this.position.x:this.element.getBoundingClientRect().left;p&&i+v>p&&(i=p-v)}this.getWidth()!==i&&(c?(s.style.maxWidth="unset",s.style.minWidth="unset"):this.config.popup?Gi(s,i):(s.style.width=i+"px",s.style.flex=" unset",this.lastSize.width="number"==typeof i?i:parseFloat(i)))},o.prototype.offsetElement=function(i,s){void 0===i&&(i=0),void 0===s&&(s=0);var l=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:l,x:i,y:s,keepWithinBounds:!0}),this.setPosition(parseFloat(l.style.left),parseFloat(l.style.top))},o.prototype.setPosition=function(i,s){this.position.x=i,this.position.y=s},o.prototype.updateDragStartPosition=function(i,s){this.dragStartPosition={x:i,y:s}},o.prototype.calculateMouseMovement=function(i){var s=i.e,c=i.isTop,v=i.topBuffer,M=s.clientX-this.dragStartPosition.x,L=s.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(s,!!i.isLeft,!!i.anywhereWithin,M)?0:M,movementY:this.shouldSkipY(s,!!c,v,L)?0:L}},o.prototype.shouldSkipX=function(i,s,l,c){var p=this.element.getBoundingClientRect(),v=this.offsetParent.getBoundingClientRect(),M=this.boundaryEl.getBoundingClientRect(),L=this.config.popup?this.position.x:p.left,Y=L<=0&&v.left>=i.clientX||v.right<=i.clientX&&v.right<=M.right;return!!Y||(s?c<0&&i.clientX>L+v.left||c>0&&i.clientX<L+v.left:l?c<0&&i.clientX>M.right||c>0&&i.clientX<L+v.left:c<0&&i.clientX>M.right||c>0&&i.clientX<M.right)},o.prototype.shouldSkipY=function(i,s,l,c){void 0===l&&(l=0);var p=this.element.getBoundingClientRect(),v=this.offsetParent.getBoundingClientRect(),M=this.boundaryEl.getBoundingClientRect(),L=this.config.popup?this.position.y:p.top,Y=L<=0&&v.top>=i.clientY||v.bottom<=i.clientY&&v.bottom<=M.bottom;return!!Y||(s?c<0&&i.clientY>L+v.top+l||c>0&&i.clientY<L+v.top:c<0&&i.clientY>M.bottom||c>0&&i.clientY<M.bottom)},o.prototype.createResizeMap=function(){var i=this.element;this.resizerMap={topLeft:{element:i.querySelector("[ref=eTopLeftResizer]")},top:{element:i.querySelector("[ref=eTopResizer]")},topRight:{element:i.querySelector("[ref=eTopRightResizer]")},right:{element:i.querySelector("[ref=eRightResizer]")},bottomRight:{element:i.querySelector("[ref=eBottomRightResizer]")},bottom:{element:i.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:i.querySelector("[ref=eBottomLeftResizer]")},left:{element:i.querySelector("[ref=eLeftResizer]")}}},o.prototype.addResizers=function(){if(!this.resizersAdded){var i=this.element;if(i){var l=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;i.appendChild(l.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},o.prototype.removeResizers=function(){this.resizerMap=void 0;var i=this.element.querySelector(".ag-resizer-wrapper");i&&this.element.removeChild(i),this.resizersAdded=!1},o.prototype.getResizerElement=function(i){return this.resizerMap[i].element},o.prototype.onResizeStart=function(i,s){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!s.match(/top/i),isRight:!!s.match(/right/i),isBottom:!!s.match(/bottom/i),isLeft:!!s.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[s].element.classList.add("ag-active");var l=this.config;!l.popup&&!l.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(i.clientX,i.clientY)},o.prototype.getSiblings=function(){var s=this.element.parentElement;return s?Array.prototype.slice.call(s.children).filter(function(l){return!l.classList.contains("ag-hidden")}):null},o.prototype.getMinSizeOfSiblings=function(){for(var i=this.getSiblings()||[],s=0,l=0,c=0;c<i.length;c++){var p=i[c];if(p!==this.element){var M=this.minHeight||0,L=this.minWidth||0;if(p.style.flex&&"0 0 auto"!==p.style.flex){var Y=window.getComputedStyle(p);Y.minHeight&&(M=parseInt(Y.minHeight,10)),Y.minWidth&&(L=parseInt(Y.minWidth,10))}else M=p.offsetHeight,L=p.offsetWidth;s+=M,l+=L}}return{height:s,width:l}},o.prototype.applySizeToSiblings=function(i){var s=null,l=this.getSiblings();if(l){for(var c=0;c<l.length;c++){var p=l[c];p!==s&&(i?p.style.height=p.offsetHeight+"px":p.style.width=p.offsetWidth+"px",p.style.flex="0 0 auto",p===this.element&&(s=l[c+1]))}s&&(s.style.removeProperty("height"),s.style.removeProperty("min-height"),s.style.removeProperty("max-height"),s.style.flex="1 1 auto")}},o.prototype.onResize=function(i){if(this.isResizing&&this.currentResizer){var s=this.config,l=s.popup,c=s.forcePopupParentAsOffsetParent,p=this.currentResizer,v=p.isTop,Y=p.isLeft,re=p.isRight||Y,de=p.isBottom||v,be=this.calculateMouseMovement({e:i,isLeft:Y,isTop:v}),Ce=be.movementX,Re=be.movementY,Ge=this.position.x,Ze=this.position.y,He=0,Ke=0;if(re&&Ce){var pt=Y?-1:1,Bt=this.getWidth(),Sn=Bt+Ce*pt,Tn=!1;Y&&(Ge+(He=Bt-Sn)<=0||Sn<=this.minWidth)&&(Tn=!0,He=0),Tn||this.setWidth(Sn)}if(de&&Re){pt=v?-1:1;var zt=this.getHeight(),kn=zt+Re*pt,Pn=!1;v?(Ze+(Ke=zt-kn)<=0||kn<=this.minHeight)&&(Pn=!0,Ke=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&zt<kn&&this.getMinSizeOfSiblings().height+kn>this.element.parentElement.offsetHeight&&(Pn=!0),Pn||this.setHeight(kn)}this.updateDragStartPosition(i.clientX,i.clientY),((l||c)&&He||Ke)&&this.offsetElement(Ge+He,Ze+Ke)}},o.prototype.onResizeEnd=function(i,s){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var l={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[s].element.classList.remove("ag-active"),this.dispatchEvent(l)},o.prototype.refreshSize=function(){var i=this.element;this.config.popup&&(this.config.width||this.setWidth(i.offsetWidth),this.config.height||this.setHeight(i.offsetHeight))},o.prototype.onMoveStart=function(i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(i.clientX,i.clientY)},o.prototype.onMove=function(i){if(this.isMoving){var p,s=this.position,l=s.x,c=s.y;this.config.calculateTopBuffer&&(p=this.config.calculateTopBuffer());var v=this.calculateMouseMovement({e:i,isTop:!0,anywhereWithin:!0,topBuffer:p});this.offsetElement(l+v.movementX,c+v.movementY),this.updateDragStartPosition(i.clientX,i.clientY)}},o.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},o.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},o.prototype.findBoundaryElement=function(){for(var i=this.element;i;){if("static"!==window.getComputedStyle(i).position)return i;i=i.parentElement}return this.element},o.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var i=this.resizeListeners.pop();this.dragService.removeDragSource(i)}},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},Rp([le("popupService")],o.prototype,"popupService",void 0),Rp([le("dragService")],o.prototype,"dragService",void 0),o}(dt),lO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Op=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},iT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return lO(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.centerRowContainerCtrl=s.centerRowContainerCtrl})},o.prototype.getPreferredWidthForColumn=function(i,s){var l=this.getHeaderCellForColumn(i);if(!l)return-1;var c=this.rowRenderer.getAllCellsForColumn(i);return s||c.push(l),this.addElementsToContainerAndGetWidth(c)},o.prototype.getPreferredWidthForColumnGroup=function(i){var s=this.getHeaderCellForColumn(i);return s?this.addElementsToContainerAndGetWidth([s]):-1},o.prototype.addElementsToContainerAndGetWidth=function(i){var s=this,l=document.createElement("span");l.style.position="fixed";var c=this.centerRowContainerCtrl.getContainerElement();c.appendChild(l),i.forEach(function(M){return s.cloneItemIntoDummy(M,l)});var p=l.offsetWidth;return c.removeChild(l),p+this.gridOptionsWrapper.getAutoSizePadding()},o.prototype.getHeaderCellForColumn=function(i){var s=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(l){var c=l.getHtmlElementForColumnHeader(i);null!=c&&(s=c)}),s},o.prototype.cloneItemIntoDummy=function(i,s){var l=i.cloneNode(!0);l.style.width="",l.style.position="static",l.style.left="";var c=document.createElement("div"),p=c.classList;["ag-header-cell","ag-header-group-cell"].some(function(de){return l.classList.contains(de)})?(p.add("ag-header","ag-header-row"),c.style.position="static"):p.add("ag-row");for(var M=i.parentElement;M;){if(["ag-header-row","ag-row"].some(function(de){return M.classList.contains(de)})){for(var Y=0;Y<M.classList.length;Y++){var re=M.classList[Y];"ag-row-position-absolute"!=re&&p.add(re)}break}M=M.parentElement}c.appendChild(l),s.appendChild(c)},Op([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Op([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Op([le("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),Op([Xe],o.prototype,"postConstruct",null),Op([at("autoWidthCalculator")],o)}(dt),cO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),as=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},uO=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},rT=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(uO(arguments[o]));return u},ra=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.destroyFuncsForColumnListeners=[],i.rowCtrlsByRowIndex={},i.zombieRowCtrls={},i.allRowCtrls=[],i.topRowCtrls=[],i.bottomRowCtrls=[],i.refreshInProgress=!1,i}return cO(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl(),i.initialise()})},o.prototype.initialise=function(){this.addManagedListener(this.eventService,xe.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,At.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,At.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},o.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var i=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new fm(null!=i?i:3)}},o.prototype.getRowCtrls=function(){return this.allRowCtrls},o.prototype.updateAllRowCtrls=function(){var i=J(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&i.sort(function(c,p){return c.getRowNode().rowIndex-p.getRowNode.rowIndex});var s=J(this.zombieRowCtrls),l=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=rT(i,s,l)},o.prototype.registerCellEventListeners=function(){var i=this;this.addManagedListener(this.eventService,xe.EVENT_CELL_FOCUSED,function(l){i.getAllCellCtrls().forEach(function(c){return c.onCellFocused(l)}),i.getFullWidthRowCtrls().forEach(function(c){c.onFullWidthRowFocused(l)})}),this.addManagedListener(this.eventService,xe.EVENT_FLASH_CELLS,function(l){i.getAllCellCtrls().forEach(function(c){return c.onFlashCells(l)})}),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_HOVER_CHANGED,function(){i.getAllCellCtrls().forEach(function(l){return l.onColumnHover()})}),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){i.getAllCellCtrls().forEach(function(l){return l.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){i.printLayout&&i.getAllCellCtrls().forEach(function(l){return l.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,xe.EVENT_RANGE_SELECTION_CHANGED,function(){i.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_MOVED,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PINNED,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_VISIBLE,function(){i.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,xe.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},o.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(i){return i()}),this.destroyFuncsForColumnListeners.length=0},o.prototype.refreshListenersToColumnsForCellComps=function(){var i=this;this.removeGridColumnListeners();var s=this.columnModel.getAllGridColumns();!s||s.forEach(function(l){var c=function(Y){i.getAllCellCtrls().forEach(function(re){re.getColumn()===l&&Y(re)})},p=function(){c(function(Y){return Y.onLeftChanged()})},v=function(){c(function(Y){return Y.onWidthChanged()})},M=function(){c(function(Y){return Y.onFirstRightPinnedChanged()})},L=function(){c(function(Y){return Y.onLastLeftPinnedChanged()})};l.addEventListener(ot.EVENT_LEFT_CHANGED,p),l.addEventListener(ot.EVENT_WIDTH_CHANGED,v),l.addEventListener(ot.EVENT_FIRST_RIGHT_PINNED_CHANGED,M),l.addEventListener(ot.EVENT_LAST_LEFT_PINNED_CHANGED,L),i.destroyFuncsForColumnListeners.push(function(){l.removeEventListener(ot.EVENT_LEFT_CHANGED,p),l.removeEventListener(ot.EVENT_WIDTH_CHANGED,v),l.removeEventListener(ot.EVENT_FIRST_RIGHT_PINNED_CHANGED,M),l.removeEventListener(ot.EVENT_LAST_LEFT_PINNED_CHANGED,L)})})},o.prototype.onDomLayoutChanged=function(){var i=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,s=i||this.gridOptionsWrapper.isEmbedFullWidthRows(),l=s!==this.embedFullWidthRows||this.printLayout!==i;this.printLayout=i,this.embedFullWidthRows=s,l&&this.redrawAfterModelUpdate()},o.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var i=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(i)},o.prototype.onPageLoaded=function(i){this.redrawAfterModelUpdate({recycleRows:i.keepRenderedRows,animate:i.animate,newData:i.newData,newPage:i.newPage,onlyBody:!0})},o.prototype.getAllCellsForColumn=function(i){var s=[];return this.getAllRowCtrls().forEach(function(l){var c=l.getCellElement(i);c&&s.push(c)}),s},o.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},o.prototype.getTopRowCtrls=function(){return this.topRowCtrls},o.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},o.prototype.refreshFloatingRows=function(i,s){var l=this;i.forEach(function(c){c.destroyFirstPass(),c.destroySecondPass()}),i.length=0,s&&s.forEach(function(c){var p=new xl(c,l.beans,!1,!1,l.printLayout);i.push(p)})},o.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},o.prototype.getRenderedIndexesForRowNodes=function(i){var s=[];return O(i)||E(this.rowCtrlsByRowIndex,function(l,c){var p=c.getRowNode();i.indexOf(p)>=0&&s.push(l)}),s},o.prototype.redrawRows=function(i){var s=null!=i&&i.length>0;if(s){var l=this.getRenderedIndexesForRowNodes(i);this.removeRowCtrls(l)}this.redrawAfterModelUpdate({recycleRows:s})},o.prototype.getCellToRestoreFocusToAfterRefresh=function(i){var s=i.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==s)return null;var c=this.gridOptionsWrapper.getDocument().activeElement,p=this.gridOptionsWrapper.getDomData(c,ta.DOM_DATA_KEY_CELL_CTRL),v=this.gridOptionsWrapper.getDomData(c,xl.DOM_DATA_KEY_ROW_CTRL);return p||v?s:null},o.prototype.redrawAfterModelUpdate=function(i){void 0===i&&(i={}),this.getLockOnRefresh();var s=this.getCellToRestoreFocusToAfterRefresh(i);this.updateContainerHeights(),this.scrollToTopIfNewData(i);var l=!this.printLayout&&!!i.recycleRows,c=i.animate&&this.gridOptionsWrapper.isAnimateRows(),p=l?this.recycleRows():null;l||this.removeAllRowComps();var M=function(){if(null==s||null==p)return!1;var L=!1;return E(p,function(Y,re){var de=re.getRowNode();de.rowIndex==s.rowIndex&&de.rowPinned==s.rowPinned&&(L=!0)}),L}();this.redraw(p,c),i.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),M||this.restoreFocusedCell(s),this.releaseLockOnRefresh()},o.prototype.scrollToTopIfNewData=function(i){var s=i.newData||i.newPage,l=this.gridOptionsWrapper.isSuppressScrollOnNewData();s&&!l&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},o.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var i=this.paginationProxy.getCurrentPageHeight();0===i&&(i=1),this.rowContainerHeightService.setModelHeight(i)}},o.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},o.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},o.prototype.isRefreshInProgress=function(){return this.refreshInProgress},o.prototype.restoreFocusedCell=function(i){i&&this.focusService.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0)},o.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.getAllRowCtrls().forEach(function(s){s.stopEditing(i)})},o.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(i){return i.onNewColumnsLoaded()})},o.prototype.getAllCellCtrls=function(){var i=[];return this.getAllRowCtrls().forEach(function(s){return i=i.concat(s.getAllCellCtrls())}),i},o.prototype.getAllRowCtrls=function(){var i=this,s=rT(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(l){return s.push(i.rowCtrlsByRowIndex[l])}),s},o.prototype.addRenderedRowListener=function(i,s,l){var c=this.rowCtrlsByRowIndex[s];c&&c.addEventListener(i,l)},o.prototype.flashCells=function(i){void 0===i&&(i={});var s=i.flashDelay,l=i.fadeDelay;this.getCellCtrls(i.rowNodes,i.columns).forEach(function(c){return c.flashCell({flashDelay:s,fadeDelay:l})})},o.prototype.refreshCells=function(i){void 0===i&&(i={});var s={forceRefresh:i.force,newData:!1,suppressFlash:i.suppressFlash};this.getCellCtrls(i.rowNodes,i.columns).forEach(function(l){if(l.refreshShouldDestroy()){var c=l.getRowCtrl();c&&c.refreshCell(l)}else l.refreshCell(s)}),this.getFullWidthRowCtrls(i.rowNodes).forEach(function(l){l.refreshFullWidth()})},o.prototype.getCellRendererInstances=function(i){return this.getCellCtrls(i.rowNodes,i.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return null!=l})},o.prototype.getCellEditorInstances=function(i){var s=[];return this.getCellCtrls(i.rowNodes,i.columns).forEach(function(l){var c=l.getCellEditor();c&&s.push(c)}),s},o.prototype.getEditingCells=function(){var i=[];return this.getAllCellCtrls().forEach(function(s){if(s.isEditing()){var l=s.getCellPosition();i.push(l)}}),i},o.prototype.mapRowNodes=function(i){if(i){var s={top:{},bottom:{},normal:{}};return i.forEach(function(l){var c=l.id;l.rowPinned===Ie.PINNED_TOP?s.top[c]=l:l.rowPinned===Ie.PINNED_BOTTOM?s.bottom[c]=l:s.normal[c]=l}),s}},o.prototype.isRowInMap=function(i,s){var l=i.id,c=i.rowPinned;return c===Ie.PINNED_BOTTOM?null!=s.bottom[l]:c===Ie.PINNED_TOP?null!=s.top[l]:null!=s.normal[l]},o.prototype.getCellCtrls=function(i,s){var v,l=this,c=this.mapRowNodes(i),p=[];I(s)&&(v={},s.forEach(function(L){var Y=l.columnModel.getGridColumn(L);I(Y)&&(v[Y.getId()]=!0)}));var M=function(L){var Y=L.getRowNode();null!=c&&!l.isRowInMap(Y,c)||L.getAllCellCtrls().forEach(function(re){var de=re.getColumn().getId();v&&!v[de]||p.push(re)})};return E(this.rowCtrlsByRowIndex,function(L,Y){M(Y)}),this.topRowCtrls&&this.topRowCtrls.forEach(M),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(M),p},o.prototype.destroy=function(){this.removeAllRowComps(),u.prototype.destroy.call(this)},o.prototype.removeAllRowComps=function(){var i=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(i)},o.prototype.recycleRows=function(){var i=[];E(this.rowCtrlsByRowIndex,function(l,c){null==c.getRowNode().id&&i.push(l)}),this.removeRowCtrls(i);var s={};return E(this.rowCtrlsByRowIndex,function(l,c){var p=c.getRowNode();s[p.id]=c}),this.rowCtrlsByRowIndex={},s},o.prototype.removeRowCtrls=function(i){var s=this;i.forEach(function(l){var c=s.rowCtrlsByRowIndex[l];c&&(c.destroyFirstPass(),c.destroySecondPass()),delete s.rowCtrlsByRowIndex[l]})},o.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},o.prototype.removeRowCompsNotToDraw=function(i){var s={};i.forEach(function(p){return s[p]=!0});var c=Object.keys(this.rowCtrlsByRowIndex).filter(function(p){return!s[p]});this.removeRowCtrls(c)},o.prototype.calculateIndexesToDraw=function(i){var s=this,l=Zv(this.firstRenderedRow,this.lastRenderedRow),c=function(p,v){var M=v.getRowNode().rowIndex;null!=M&&(M<s.firstRenderedRow||M>s.lastRenderedRow)&&s.doNotUnVirtualiseRow(v)&&l.push(M)};return E(this.rowCtrlsByRowIndex,c),E(i,c),l.sort(function(p,v){return p-v}),l},o.prototype.redraw=function(i,s,l){var c=this;void 0===s&&(s=!1),void 0===l&&(l=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var p=this.calculateIndexesToDraw(i);this.removeRowCompsNotToDraw(p),this.printLayout&&(s=!1),p.forEach(function(M){I(c.createOrUpdateRowCtrl(M,i,s,l))}),i&&(!l||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(i,s):this.beans.animationFrameService.addDestroyTask(function(){c.destroyRowCtrls(i,s),c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.gridBodyCtrl.updateRowCount()},o.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:xe.EVENT_DISPLAYED_ROWS_CHANGED})},o.prototype.onDisplayedColumnsChanged=function(){var i=this.columnModel.isPinningLeft(),s=this.columnModel.isPinningRight();(this.pinningLeft!==i||s!==this.pinningRight)&&(this.pinningLeft=i,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},o.prototype.redrawFullWidthEmbeddedRows=function(){var i=[];this.getFullWidthRowCtrls().forEach(function(s){var l=s.getRowNode().rowIndex;i.push(l.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(i),this.redrawAfterScroll()},o.prototype.getFullWidthRowCtrls=function(i){var s=this,l=this.mapRowNodes(i);return J(this.rowCtrlsByRowIndex).filter(function(c){if(!c.isFullWidth())return!1;var p=c.getRowNode();return!(null!=l&&!s.isRowInMap(p,l))})},o.prototype.refreshFullWidthRows=function(i){var s=[],l=!!i,c=l?{}:void 0;l&&c&&i.forEach(function(p){return c[p.id]=!0}),this.getFullWidthRowCtrls().forEach(function(p){var v=p.getRowNode();if((!l||!c||c[v.id]||c[v.level>0&&v.parent?v.parent.id:void 0])&&!p.refreshFullWidth()){var re=p.getRowNode().rowIndex;s.push(re.toString())}}),this.removeRowCtrls(s),this.redrawAfterScroll()},o.prototype.createOrUpdateRowCtrl=function(i,s,l,c){var p,v=this.rowCtrlsByRowIndex[i];if(v||I(p=this.paginationProxy.getRow(i))&&I(s)&&s[p.id]&&p.alreadyRendered&&(v=s[p.id],s[p.id]=null),!v){if(p||(p=this.paginationProxy.getRow(i)),!I(p))return;v=this.createRowCon(p,l,c)}return p&&(p.alreadyRendered=!0),this.rowCtrlsByRowIndex[i]=v,v},o.prototype.destroyRowCtrls=function(i,s){var l=this,c=[];E(i,function(p,v){if(v){if(l.cachedRowCtrls&&v.isCacheable())return void l.cachedRowCtrls.addRow(v);v.destroyFirstPass(),s?(l.zombieRowCtrls[v.getInstanceId()]=v,c.push(function(){v.destroySecondPass(),delete l.zombieRowCtrls[v.getInstanceId()]})):v.destroySecondPass()}}),s&&(c.push(function(){l.updateAllRowCtrls(),l.dispatchDisplayedRowsChanged()}),ke(c))},o.prototype.workOutFirstAndLastRowsToRender=function(){var s,l,i=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)s=this.paginationProxy.getPageFirstRow(),l=this.paginationProxy.getPageLastRow();else{var c=this.gridOptionsWrapper.getRowBufferInPixels(),p=this.ctrlsService.getGridBodyCtrl(),v=this.gridOptionsWrapper.isSuppressRowVirtualisation(),M=!1,L=void 0,Y=void 0;do{var re=this.paginationProxy.getPixelOffset(),de=this.paginationProxy.getCurrentPagePixelRange(),be=de.pageFirstPixel,Ce=de.pageLastPixel,Re=this.rowContainerHeightService.getDivStretchOffset();if(v)L=be+Re,Y=Ce+Re;else{var Ge=p.getScrollFeature().getVScrollPosition(),He=Ge.bottom;L=Math.max(Ge.top+re-c,be)+Re,Y=Math.min(He+re+c,Ce)+Re}M=this.ensureAllRowsInRangeHaveHeightsCalculated(L,Y)}while(M);var Ke=this.paginationProxy.getRowIndexAtPixel(L),pt=this.paginationProxy.getRowIndexAtPixel(Y),Bt=this.paginationProxy.getPageFirstRow(),Sn=this.paginationProxy.getPageLastRow();Ke<Bt&&(Ke=Bt),pt>Sn&&(pt=Sn),s=Ke,l=pt}else s=0,l=-1;var Tn=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_NORMAL,zt=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),kn=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(Tn&&!zt&&l-s>kn&&(l=s+kn),(s!==this.firstRenderedRow||l!==this.lastRenderedRow)&&(this.firstRenderedRow=s,this.lastRenderedRow=l,this.eventService.dispatchEvent({type:xe.EVENT_VIEWPORT_CHANGED,firstRow:s,lastRow:l,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var qr={type:xe.EVENT_FIRST_DATA_RENDERED,firstRow:s,lastRow:l,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return i.eventService.dispatchEventOnce(qr)},50)}},o.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(i,s){var l=this.paginationProxy.ensureRowHeightsValid(i,s,-1,-1);return l&&this.updateContainerHeights(),l},o.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},o.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},o.prototype.doNotUnVirtualiseRow=function(i){var c=i.getRowNode(),p=this.focusService.isRowNodeFocused(c),v=i.isEditing();return!!(p||v||c.detail)&&!!this.paginationProxy.isRowPresent(c)},o.prototype.createRowCon=function(i,s,l){var c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(i):null;if(c)return c;var p=this.gridOptionsWrapper.isSuppressAnimationFrame();return new xl(i,this.beans,s,l&&!p&&!this.printLayout,this.printLayout)},o.prototype.getRenderedNodes=function(){var i=this.rowCtrlsByRowIndex;return Object.keys(i).map(function(s){return i[s].getRowNode()})},o.prototype.getRowByPosition=function(i){var s;switch(i.rowPinned){case Ie.PINNED_TOP:s=this.topRowCtrls[i.rowIndex];break;case Ie.PINNED_BOTTOM:s=this.bottomRowCtrls[i.rowIndex];break;default:s=this.rowCtrlsByRowIndex[i.rowIndex]}return s},o.prototype.getRowNode=function(i){switch(i.rowPinned){case Ie.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case Ie.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},o.prototype.isRangeInRenderedViewport=function(i,s){return!(null==i||null==s||s<this.firstRenderedRow||i>this.lastRenderedRow)},as([le("paginationProxy")],o.prototype,"paginationProxy",void 0),as([le("columnModel")],o.prototype,"columnModel",void 0),as([le("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),as([le("rowModel")],o.prototype,"rowModel",void 0),as([le("focusService")],o.prototype,"focusService",void 0),as([le("columnApi")],o.prototype,"columnApi",void 0),as([le("gridApi")],o.prototype,"gridApi",void 0),as([le("beans")],o.prototype,"beans",void 0),as([le("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),as([fn("ctrlsService")],o.prototype,"ctrlsService",void 0),as([Xe],o.prototype,"postConstruct",null),as([at("rowRenderer")],o)}(dt),fm=function(){function u(o){this.entriesMap={},this.entriesList=[],this.maxCount=o}return u.prototype.addRow=function(o){if(this.entriesMap[o.getRowNode().id]=o,this.entriesList.push(o),o.setCached(!0),this.entriesList.length>this.maxCount){var i=this.entriesList[0];i.destroyFirstPass(),i.destroySecondPass(),this.removeFromCache(i)}},u.prototype.getRow=function(o){if(null==o||null==o.id)return null;var i=this.entriesMap[o.id];return i?(this.removeFromCache(i),i.setCached(!1),i.getRowNode()!=o?null:i):null},u.prototype.removeFromCache=function(o){var i=o.getRowNode().id;delete this.entriesMap[i],si(this.entriesList,o)},u.prototype.getEntries=function(){return this.entriesList},u}(),oT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gm=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},kp=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return oT(o,u),o.prototype.formatValue=function(i,s,l,c,p){void 0===p&&(p=!0);var M,v=null,L=i.getColDef();if(c?M=c:p&&(M=s&&s.rowPinned&&L.pinnedRowValueFormatter?L.pinnedRowValueFormatter:L.valueFormatter),M){var Y={value:l,node:s,data:s?s.data:null,colDef:L,column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};v=this.expressionService.evaluate(M,Y)}else if(L.refData)return L.refData[l]||"";return null==v&&Array.isArray(l)&&(v=l.join(", ")),v},gm([le("expressionService")],o.prototype,"expressionService",void 0),gm([at("valueFormatterService")],o)}(dt),xC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Il=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},SC=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return xC(o,u),o.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},o.prototype.isEmpty=function(i){return x(i===Ie.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},o.prototype.isRowsToRender=function(i){return!this.isEmpty(i)},o.prototype.getRowAtPixel=function(i,s){var l=s===Ie.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(x(l))return 0;for(var c=0;c<l.length;c++){var p=l[c];if(p.rowTop+p.rowHeight-1>=i)return c}return l.length-1},o.prototype.setPinnedTopRowData=function(i){this.pinnedTopRows=this.createNodesFromData(i,!0),this.eventService.dispatchEvent({type:xe.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setPinnedBottomRowData=function(i){this.pinnedBottomRows=this.createNodesFromData(i,!1),this.eventService.dispatchEvent({type:xe.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.createNodesFromData=function(i,s){var l=this,c=[];if(i){var p=0;i.forEach(function(v,M){var L=new mn(l.beans);L.data=v,L.id=(s?mn.ID_PREFIX_TOP_PINNED:mn.ID_PREFIX_BOTTOM_PINNED)+M,L.rowPinned=s?Ie.PINNED_TOP:Ie.PINNED_BOTTOM,L.setRowTop(p),L.setRowHeight(l.gridOptionsWrapper.getRowHeightForNode(L).height),L.setRowIndex(M),p+=L.rowHeight,c.push(L)})}return c},o.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},o.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},o.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},o.prototype.getPinnedTopRow=function(i){return this.pinnedTopRows[i]},o.prototype.getPinnedBottomRow=function(i){return this.pinnedBottomRows[i]},o.prototype.forEachPinnedTopRow=function(i){x(this.pinnedTopRows)||this.pinnedTopRows.forEach(i)},o.prototype.forEachPinnedBottomRow=function(i){x(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(i)},o.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},o.prototype.getTotalHeight=function(i){if(!i||0===i.length)return 0;var s=xt(i);return s.rowTop+s.rowHeight},Il([le("columnApi")],o.prototype,"columnApi",void 0),Il([le("gridApi")],o.prototype,"gridApi",void 0),Il([le("beans")],o.prototype,"beans",void 0),Il([Xe],o.prototype,"init",null),Il([at("pinnedRowModel")],o)}(dt);!function(u){u.Applied="Applied",u.StoreNotFound="StoreNotFound",u.StoreLoading="StoreLoading",u.StoreWaitingToLoad="StoreWaitingToLoad",u.StoreLoadingFailed="StoreLoadingFailed",u.StoreWrongType="StoreWrongType",u.Cancelled="Cancelled"}(j.Qk6||(j.Qk6={}));var ls=function(){function u(o,i){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=o,this.pathRoot={rowNode:i,children:null},this.mapToItems[i.id]=this.pathRoot}return u.prototype.setInactive=function(){this.active=!1},u.prototype.isActive=function(){return this.active},u.prototype.depthFirstSearchChangedPath=function(o,i){if(o.children)for(var s=0;s<o.children.length;s++)this.depthFirstSearchChangedPath(o.children[s],i);i(o.rowNode)},u.prototype.depthFirstSearchEverything=function(o,i,s){if(o.childrenAfterGroup)for(var l=0;l<o.childrenAfterGroup.length;l++){var c=o.childrenAfterGroup[l];c.childrenAfterGroup?this.depthFirstSearchEverything(o.childrenAfterGroup[l],i,s):s&&i(c)}i(o)},u.prototype.forEachChangedNodeDepthFirst=function(o,i){void 0===i&&(i=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,o):this.depthFirstSearchEverything(this.pathRoot.rowNode,o,i)},u.prototype.executeFromRootNode=function(o){o(this.pathRoot.rowNode)},u.prototype.createPathItems=function(o){for(var i=o,s=0;!this.mapToItems[i.id];)this.mapToItems[i.id]={rowNode:i,children:null},s++,i=i.parent;return s},u.prototype.populateColumnsMap=function(o,i){var s=this;if(this.keepingColumns&&i)for(var l=o;l;)this.nodeIdsToColumns[l.id]||(this.nodeIdsToColumns[l.id]={}),i.forEach(function(c){return s.nodeIdsToColumns[l.id][c.getId()]=!0}),l=l.parent},u.prototype.linkPathItems=function(o,i){for(var s=o,l=0;l<i;l++){var c=this.mapToItems[s.id],p=this.mapToItems[s.parent.id];p.children||(p.children=[]),p.children.push(c),s=s.parent}},u.prototype.addParentNode=function(o,i){if(o&&!o.isRowPinned()){var s=this.createPathItems(o);this.linkPathItems(o,s),this.populateColumnsMap(o,i)}},u.prototype.canSkip=function(o){return this.active&&!this.mapToItems[o.id]},u.prototype.getValueColumnsForNode=function(o,i){if(!this.keepingColumns)return i;var s=this.nodeIdsToColumns[o.id];return i.filter(function(c){return s[c.getId()]})},u.prototype.getNotValueColumnsForNode=function(o,i){if(!this.keepingColumns)return null;var s=this.nodeIdsToColumns[o.id];return i.filter(function(c){return!s[c.getId()]})},u}(),TC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Pp=function(u){function o(i){var s=u.call(this)||this;return s.state=o.STATE_WAITING_TO_LOAD,s.version=0,s.id=i,s}return TC(o,u),o.prototype.getId=function(){return this.id},o.prototype.load=function(){this.state=o.STATE_LOADING,this.loadFromDatasource()},o.prototype.getVersion=function(){return this.version},o.prototype.setStateWaitingToLoad=function(){this.version++,this.state=o.STATE_WAITING_TO_LOAD},o.prototype.getState=function(){return this.state},o.prototype.pageLoadFailed=function(i){this.isRequestMostRecentAndLive(i)&&(this.state=o.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},o.prototype.success=function(i,s){this.successCommon(i,s)},o.prototype.pageLoaded=function(i,s,l){this.successCommon(i,{rowData:s,rowCount:l})},o.prototype.isRequestMostRecentAndLive=function(i){var s=i===this.version,l=this.isAlive();return s&&l},o.prototype.successCommon=function(i,s){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(i)&&(this.state=o.STATE_LOADED,this.processServerResult(s))},o.prototype.dispatchLoadCompleted=function(i){void 0===i&&(i=!0),this.dispatchEvent({type:o.EVENT_LOAD_COMPLETE,success:i,block:this})},o.EVENT_LOAD_COMPLETE="loadComplete",o.STATE_WAITING_TO_LOAD="needsLoading",o.STATE_LOADING="loading",o.STATE_LOADED="loaded",o.STATE_FAILED="failed",o}(dt),mm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),_m=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},EC=function(u,o){return function(i,s){o(i,s,u)}},DC=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.activeBlockLoadsCount=0,s.blocks=[],s.active=!0,s}var i;return mm(o,u),i=o,o.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var s=this.gridOptionsWrapper.getBlockLoadDebounceMillis();s&&s>0&&(this.checkBlockToLoadDebounce=ht.debounce(this.performCheckBlocksToLoad.bind(this),s))},o.prototype.setBeans=function(s){this.logger=s.create("RowNodeBlockLoader")},o.prototype.addBlock=function(s){this.blocks.push(s),s.addEventListener(Pp.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},o.prototype.removeBlock=function(s){ht.removeFromArray(this.blocks,s)},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.active=!1},o.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:i.BLOCK_LOADER_FINISHED_EVENT})},o.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},o.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var s=null;this.blocks.forEach(function(l){l.getState()===Pp.STATE_WAITING_TO_LOAD&&(s=l)}),s&&(s.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},o.prototype.getBlockState=function(){var s={};return this.blocks.forEach(function(l){var c=l.getBlockStateJson();s[c.id]=c.state}),s},o.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},o.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},o.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",_m([Xe],o.prototype,"postConstruct",null),_m([EC(0,Jn("loggerFactory"))],o.prototype,"setBeans",null),i=_m([at("rowNodeBlockLoader")],o)}(dt),sT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),oa=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ml=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.currentPage=0,i.topDisplayedRowIndex=0,i.bottomDisplayedRowIndex=0,i.pixelOffset=0,i.masterRowCount=0,i}return sT(o,u),o.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,xe.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},o.prototype.ensureRowHeightsValid=function(i,s,l,c){var p=this.rowModel.ensureRowHeightsValid(i,s,this.getPageFirstRow(),this.getPageLastRow());return p&&this.calculatePages(),p},o.prototype.onModelUpdated=function(i){this.calculatePages(),this.eventService.dispatchEvent({type:xe.EVENT_PAGINATION_CHANGED,animate:!!i&&i.animate,newData:!!i&&i.newData,newPage:!!i&&i.newPage,keepRenderedRows:!!i&&i.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},o.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:xe.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},o.prototype.goToPage=function(i){this.active&&this.currentPage!==i&&(this.currentPage=i,this.onModelUpdated({type:xe.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getPixelOffset=function(){return this.pixelOffset},o.prototype.getRow=function(i){return this.rowModel.getRow(i)},o.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},o.prototype.getRowIndexAtPixel=function(i){return this.rowModel.getRowIndexAtPixel(i)},o.prototype.getCurrentPageHeight=function(){return O(this.topRowBounds)||O(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},o.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},o.prototype.isRowPresent=function(i){return!!this.rowModel.isRowPresent(i)&&i.rowIndex>=this.topDisplayedRowIndex&&i.rowIndex<=this.bottomDisplayedRowIndex},o.prototype.isEmpty=function(){return this.rowModel.isEmpty()},o.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},o.prototype.getNodesInRangeForSelection=function(i,s){return this.rowModel.getNodesInRangeForSelection(i,s)},o.prototype.forEachNode=function(i){return this.rowModel.forEachNode(i)},o.prototype.getType=function(){return this.rowModel.getType()},o.prototype.getRowBounds=function(i){var s=this.rowModel.getRowBounds(i);return s.rowIndex=i,s},o.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},o.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},o.prototype.getRowCount=function(){return this.rowModel.getRowCount()},o.prototype.getPageForIndex=function(i){return Math.floor(i/this.pageSize)},o.prototype.goToPageWithIndex=function(i){if(this.active){var s=this.getPageForIndex(i);this.goToPage(s)}},o.prototype.isRowInPage=function(i){return!this.active||this.getPageForIndex(i.rowIndex)===this.currentPage},o.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},o.prototype.getCurrentPage=function(){return this.currentPage},o.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},o.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},o.prototype.goToFirstPage=function(){this.goToPage(0)},o.prototype.goToLastPage=function(){var i=this.rowModel.getRowCount(),s=Math.floor(i/this.pageSize);this.goToPage(s)},o.prototype.getPageSize=function(){return this.pageSize},o.prototype.getTotalPages=function(){return this.totalPages},o.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},o.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(I(this.topRowBounds)?this.topRowBounds.rowTop:0)},o.prototype.setPixelOffset=function(i){this.pixelOffset!==i&&(this.pixelOffset=i,this.eventService.dispatchEvent({type:xe.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},o.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},o.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var i=this.masterRowCount-1;this.totalPages=Math.floor(i/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Wn(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var l=this.pageSize*(this.currentPage+1)-1;if(l>i&&(l=i),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),l===i)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var c=this.rowModel.getTopLevelRowDisplayedIndex(l+1);this.bottomDisplayedRowIndex=c-1}}},o.prototype.getMasterRowCount=function(){return this.masterRowCount},o.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var i=this.masterRowCount-1;this.totalPages=Math.floor(i/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Wn(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}else this.setZeroRows()},o.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},oa([le("rowModel")],o.prototype,"rowModel",void 0),oa([le("columnApi")],o.prototype,"columnApi",void 0),oa([le("gridApi")],o.prototype,"gridApi",void 0),oa([Xe],o.prototype,"postConstruct",null),oa([at("paginationProxy")],o)}(dt),vm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Nl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},qc=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return vm(o,u),o.prototype.processAllCellClasses=function(i,s,l,c){this.processClassRules(i.cellClassRules,s,l,c),this.processStaticCellClasses(i,s,l)},o.prototype.processClassRules=function(i,s,l,c){if(null!=i){for(var p=Object.keys(i),v={},M={},L=function(de){var Re,be=p[de],Ce=i[be];"string"==typeof Ce?Re=Y.expressionService.evaluate(Ce,s):"function"==typeof Ce&&(Re=Ce(s)),be.split(" ").forEach(function(Ge){null==Ge||""==Ge.trim()||(Re?v[Ge]=!0:M[Ge]=!0)})},Y=this,re=0;re<p.length;re++)L(re);c&&Object.keys(M).forEach(c),Object.keys(v).forEach(l)}},o.prototype.getStaticCellClasses=function(i,s){var c,l=i.cellClass;return l?("string"==typeof(c="function"==typeof l?l(s):l)&&(c=[c]),c||[]):[]},o.prototype.processStaticCellClasses=function(i,s,l){this.getStaticCellClasses(i,s).forEach(function(p){l(p)})},Nl([le("expressionService")],o.prototype,"expressionService",void 0),Nl([at("stylingService")],o)}(dt),Xc=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),AC=function(u){function o(i){return u.call(this,i,"ag-radio-button","radio")||this}return Xc(o,u),o.prototype.isSelected=function(){return this.eInput.checked},o.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},o.prototype.addInputListeners=function(){u.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,xe.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},o.prototype.onChange=function(i){i.selected&&i.name&&this.eInput.name&&this.eInput.name===i.name&&i.id&&this.eInput.id!==i.id&&this.setValue(!1,!0)},o}($c),RC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ym=function(u){function o(i){return u.call(this,i,"ag-toggle-button")||this}return RC(o,u),o.prototype.setValue=function(i,s){return u.prototype.setValue.call(this,i,s),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},o}($c),Cm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dd=function(u){function o(i,s,l){return void 0===s&&(s="ag-text-field"),void 0===l&&(l="text"),u.call(this,i,s,l)||this}return Cm(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},o.prototype.setValue=function(i,s){var l=u.prototype.setValue.call(this,i,s);return this.eInput.value!==i&&(this.eInput.value=I(i)?i:""),l},o.prototype.preventDisallowedCharacters=function(){var i=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(l){l.key&&!i.test(l.key)&&l.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(l){var c,p=null===(c=l.clipboardData)||void 0===c?void 0:c.getData("text");p&&p.split("").some(function(v){return!i.test(v)})&&l.preventDefault()})},o}(Qs),OC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ad=function(u){function o(i){return u.call(this,i,"ag-text-area",null,"textarea")||this}return OC(o,u),o.prototype.setValue=function(i,s){var l=u.prototype.setValue.call(this,i,s);return this.eInput.value=i,l},o.prototype.setCols=function(i){return this.eInput.cols=i,this},o.prototype.setRows=function(i){return this.eInput.rows=i,this},o}(Qs),aT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),bm=function(u){function o(i){return u.call(this,i,"ag-number-field","number")||this}return aT(o,u),o.prototype.postConstruct=function(){var i=this;u.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var s=parseFloat(i.eInput.value),l=isNaN(s)?"":i.normalizeValue(s.toString());i.value!==l&&i.setValue(l)}),this.eInput.step="any"},o.prototype.normalizeValue=function(i){if(""===i)return"";this.precision&&(i=this.adjustPrecision(i));var s=parseFloat(i);return null!=this.min&&s<this.min?i=this.min.toString():null!=this.max&&s>this.max&&(i=this.max.toString()),i},o.prototype.adjustPrecision=function(i){if(this.precision){var s=parseFloat(i).toFixed(this.precision);i=parseFloat(s).toString()}return i},o.prototype.setMin=function(i){return this.min===i||(this.min=i,cl(this.eInput,"min",i)),this},o.prototype.setMax=function(i){return this.max===i||(this.max=i,cl(this.eInput,"max",i)),this},o.prototype.setPrecision=function(i){return this.precision=i,this},o.prototype.setStep=function(i){return this.step===i||(this.step=i,cl(this.eInput,"step",i)),this},o.prototype.setValue=function(i,s){return(i=this.adjustPrecision(i))!=this.normalizeValue(i)?this:u.prototype.setValue.call(this,i,s)},o}(Dd),dO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wm=function(u){function o(i){return u.call(this,i,"ag-range-field","range")||this}return dO(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this);var i=this.config,s=i.min,l=i.max,c=i.step;null!=s&&this.setMinValue(s),null!=l&&this.setMaxValue(l),this.setStep(c||1)},o.prototype.addInputListeners=function(){var i=this;this.addManagedListener(this.eInput,"input",function(s){i.setValue(s.target.value)})},o.prototype.setMinValue=function(i){return this.min=i,this.eInput.setAttribute("min",i.toString()),this},o.prototype.setMaxValue=function(i){return this.max=i,this.eInput.setAttribute("max",i.toString()),this},o.prototype.setStep=function(i){return this.eInput.setAttribute("step",i.toString()),this},o.prototype.setValue=function(i,s){null!=this.min&&(i=Math.max(parseFloat(i),this.min).toString()),null!=this.max&&(i=Math.min(parseFloat(i),this.max).toString());var l=u.prototype.setValue.call(this,i,s);return this.eInput.value=i,l},o}(Qs),kC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ip=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},xm=function(u){function o(i){var s=u.call(this,i,o.TEMPLATE)||this;return s.labelAlignment="top",s}return kC(o,u),o.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},o.prototype.onValueChange=function(i){var s=this,l=is.EVENT_CHANGED;return this.addManagedListener(this.eText,l,function(){var c=parseFloat(s.eText.getValue());s.eSlider.setValue(c.toString(),!0),i(c||0)}),this.addManagedListener(this.eSlider,l,function(){var c=s.eSlider.getValue();s.eText.setValue(c,!0),i(parseFloat(c))}),this},o.prototype.setSliderWidth=function(i){return this.eSlider.setWidth(i),this},o.prototype.setTextFieldWidth=function(i){return this.eText.setWidth(i),this},o.prototype.setMinValue=function(i){return this.eSlider.setMinValue(i),this.eText.setMin(i),this},o.prototype.setMaxValue=function(i){return this.eSlider.setMaxValue(i),this.eText.setMax(i),this},o.prototype.getValue=function(){return this.eText.getValue()},o.prototype.setValue=function(i){return this.getValue()===i||(this.eText.setValue(i,!0),this.eSlider.setValue(i,!0),this.dispatchEvent({type:is.EVENT_CHANGED})),this},o.prototype.setStep=function(i){return this.eSlider.setStep(i),this.eText.setStep(i),this},o.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Ip([st("eLabel")],o.prototype,"eLabel",void 0),Ip([st("eSlider")],o.prototype,"eSlider",void 0),Ip([st("eText")],o.prototype,"eText",void 0),Ip([Xe],o.prototype,"init",null),o}(xc),lT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Rd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ao=function(u){function o(i){var s=u.call(this,i,o.TEMPLATE)||this;return s.radius=0,s.offsetX=0,s.offsetY=0,s}return lT(o,u),o.prototype.postConstruct=function(){var i=this;u.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(s){i.parentCircleRect=i.eParentCircle.getBoundingClientRect()},onDragging:function(s){return i.calculateAngleDrag(s)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(s){(null==s||""===s)&&(s="0"),s=i.eAngleValue.normalizeValue(s);var l=parseFloat(s);l>180&&(l-=360),i.setValue(l)}),this.updateNumberInput(),I(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,is.EVENT_CHANGED,function(){var s=i.gridOptionsWrapper.getDocument();i.eAngleValue.getInputElement().contains(s.activeElement)||i.updateNumberInput()})},o.prototype.updateNumberInput=function(){var i=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(i.toString())},o.prototype.positionChildCircle=function(i){var s=this.parentCircleRect||{width:24,height:24},l=this.eChildCircle,p=s.height/2;l.style.left=s.width/2+8*Math.cos(i)+"px",l.style.top=p+8*Math.sin(i)+"px"},o.prototype.calculatePolar=function(){var i=this.offsetX,s=this.offsetY,l=Math.atan2(s,i);this.degrees=this.toDegrees(l),this.radius=Math.sqrt(i*i+s*s),this.positionChildCircle(l)},o.prototype.calculateCartesian=function(){var i=this.toRadians(this.getValue()),s=this.getRadius();this.setOffsetX(Math.cos(i)*s).setOffsetY(Math.sin(i)*s)},o.prototype.setOffsetX=function(i){return this.offsetX!==i&&(this.offsetX=i,this.calculatePolar()),this},o.prototype.setOffsetY=function(i){return this.offsetY!==i&&(this.offsetY=i,this.calculatePolar()),this},o.prototype.calculateAngleDrag=function(i){var s=this.parentCircleRect,Y=Math.atan2(i.clientY-s.top-s.height/2,i.clientX-s.left-s.width/2);this.setValue(Y,!0)},o.prototype.toDegrees=function(i){return i/Math.PI*180},o.prototype.toRadians=function(i){return i/180*Math.PI},o.prototype.normalizeNegativeValue=function(i){return i<0?360+i:i},o.prototype.normalizeAngle180=function(i){return(i%=2*Math.PI)<-Math.PI?i+=2*Math.PI:i>=Math.PI&&(i-=2*Math.PI),i},o.prototype.getRadius=function(){return this.radius},o.prototype.setRadius=function(i){return this.radius===i||(this.radius=i,this.calculateCartesian()),this},o.prototype.onValueChange=function(i){var s=this;return this.addManagedListener(this,is.EVENT_CHANGED,function(){i(s.degrees)}),this},o.prototype.getValue=function(i){return i?this.toRadians(this.degrees):this.degrees},o.prototype.setValue=function(i,s){var l;return l=s?i:this.normalizeAngle180(this.toRadians(i)),i=this.toDegrees(l),this.degrees!==i&&(this.degrees=Math.floor(i),this.calculateCartesian(),this.positionChildCircle(l),this.dispatchEvent({type:is.EVENT_CHANGED})),this},o.prototype.setWidth=function(i){return Gi(this.getGui(),i),this},o.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),u.prototype.destroy.call(this)},o.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',Rd([st("eLabel")],o.prototype,"eLabel",void 0),Rd([st("eParentCircle")],o.prototype,"eParentCircle",void 0),Rd([st("eChildCircle")],o.prototype,"eChildCircle",void 0),Rd([st("eAngleValue")],o.prototype,"eAngleValue",void 0),Rd([le("dragService")],o.prototype,"dragService",void 0),o}(xc),cT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),sa=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},pO=function(u){function o(i){var s=u.call(this,o.TEMPLATE)||this;return s.H=1,s.S=1,s.B=1,s.A=1,s.isSpectrumDragging=!1,s.isSpectrumHueDragging=!1,s.isSpectrumAlphaDragging=!1,s.colorChanged=!1,s.picker=i.picker,s}return cT(o,u),o.prototype.postConstruct=function(){var i=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(i,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},o.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},o.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},o.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},o.prototype.onSpectrumDraggerDown=function(i){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(i)},o.prototype.onSpectrumDraggerMove=function(i){this.isSpectrumDragging&&this.moveDragger(i)},o.prototype.onSpectrumHueDown=function(i){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(i)},o.prototype.onSpectrumHueMove=function(i){this.isSpectrumHueDragging&&this.moveHueSlider(i)},o.prototype.onSpectrumAlphaDown=function(i){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(i)},o.prototype.onSpectrumAlphaMove=function(i){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(i)},o.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},o.prototype.moveDragger=function(i){var s=this.spectrumValRect;if(s){var l=i.clientX-s.left,c=i.clientY-s.top;l=Math.max(l,0),l=Math.min(l,s.width),c=Math.max(c,0),c=Math.min(c,s.height),this.setSpectrumValue(l/s.width,1-c/s.height)}},o.prototype.moveHueSlider=function(i){var s=this.spectrumHueRect;if(s){var l=this.spectrumHueSlider,c=l.getBoundingClientRect(),p=i.clientX-s.left;p=Math.max(p,0),p=Math.min(p,s.width),this.H=1-p/s.width,l.style.left=p+c.width/2+"px",this.update()}},o.prototype.moveAlphaSlider=function(i){var s=this.spectrumAlphaRect;if(s){var l=this.spectrumAlphaSlider,c=l.getBoundingClientRect(),p=i.clientX-s.left;p=Math.max(p,0),p=Math.min(p,s.width),this.A=p/s.width,l.style.left=p+c.width/2+"px",this.update()}},o.prototype.update=function(){var i=mc.fromHSB(360*this.H,this.S,this.B,this.A),s=mc.fromHSB(360*this.H,1,1),l=i.toRgbaString(),c=this.picker;mc.fromString(c.getValue()).toRgbaString()!==l&&(this.colorChanged=!0),c.setValue(l),this.spectrumColor.style.backgroundColor=s.toRgbaString(),this.spectrumDragger.style.backgroundColor=l},o.prototype.setSpectrumValue=function(i,s){var l=this.spectrumValRect||this.refreshSpectrumRect();if(l){var c=this.spectrumDragger,p=c.getBoundingClientRect();i=Math.max(0,i),i=Math.min(1,i),s=Math.max(0,s),s=Math.min(1,s),this.S=i,this.B=s,c.style.left=i*l.width-p.width/2+"px",c.style.top=(1-s)*l.height-p.height/2+"px",this.update()}},o.prototype.initRecentColors=function(){var s=o.recentColors.map(function(l,c){return'<div class="ag-recent-color" id='+c+' style="background-color: '+l+'; width: 15px; height: 15px;" recent-color="'+l+'"></div>'});this.recentColors.innerHTML=s.join("")},o.prototype.setValue=function(i){var s=mc.fromString(i),l=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c}(s.toHSB(),3),c=l[0],p=l[1],v=l[2];this.H=(isNaN(c)?0:c)/360,this.A=s.a;var M=this.spectrumHueRect||this.refreshHueRect(),L=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-M.width+"px",this.spectrumAlphaSlider.style.left=this.A*L.width+"px",this.setSpectrumValue(p,v)},o.prototype.onRecentColorClick=function(i){var s=i.target;if(I(s.id)){var l=parseInt(s.id,10);this.setValue(o.recentColors[l]),this.destroy()}},o.prototype.addRecentColor=function(){var s=mc.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),l=o.recentColors;!this.colorChanged||l[0]===s||(l=l.filter(function(c){return c!=s}),(l=[s].concat(l)).length>o.maxRecentColors&&(l=l.slice(0,o.maxRecentColors)),o.recentColors=l)},o.prototype.destroy=function(){this.addRecentColor(),u.prototype.destroy.call(this)},o.maxRecentColors=8,o.recentColors=[],o.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',sa([st("spectrumColor")],o.prototype,"spectrumColor",void 0),sa([st("spectrumVal")],o.prototype,"spectrumVal",void 0),sa([st("spectrumDragger")],o.prototype,"spectrumDragger",void 0),sa([st("spectrumHue")],o.prototype,"spectrumHue",void 0),sa([st("spectrumHueSlider")],o.prototype,"spectrumHueSlider",void 0),sa([st("spectrumAlpha")],o.prototype,"spectrumAlpha",void 0),sa([st("spectrumAlphaSlider")],o.prototype,"spectrumAlphaSlider",void 0),sa([st("recentColors")],o.prototype,"recentColors",void 0),sa([Xe],o.prototype,"postConstruct",null),o}(un),PC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Mp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Sm=function(u){function o(i){var s=u.call(this,o.getTemplate(i))||this;return s.closable=!0,s.config=i,s}return PC(o,u),o.getTemplate=function(i){var s=i&&i.cssIdentifier||"default";return'<div class="ag-panel ag-'+s+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+s+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+s+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+s+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+s+'-panel-content-wrapper"></div>\n        </div>'},o.prototype.postConstruct=function(){var i=this,s=this.config,l=s.component,c=s.closable,p=s.hideTitleBar,v=s.title,M=s.minWidth,L=void 0===M?250:M,Y=s.width,re=s.minHeight,de=void 0===re?250:re,be=s.height,Ce=s.centered,Re=s.popup,Ge=s.x,Ze=s.y;this.positionableFeature=new nT(this.getGui(),{minWidth:L,width:Y,minHeight:de,height:be,centered:Ce,x:Ge,y:Ze,popup:Re,calculateTopBuffer:function(){return i.positionableFeature.getHeight()-i.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var He=this.getGui();l&&this.setBodyComponent(l),p?this.eTitleBar.classList.add("ag-hidden"):(v&&this.setTitle(v),this.setClosable(null!=c?c:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Ke){var pt=i.gridOptionsWrapper.getDocument();if(He.contains(Ke.relatedTarget)||He.contains(pt.activeElement)||i.eTitleBarButtons.contains(Ke.target))Ke.preventDefault();else{var Bt=i.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Bt&&Bt.focus()}}),(!Re||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},o.prototype.renderComponent=function(){var i=this,s=this.getGui();s.focus(),this.close=function(){s.parentElement.removeChild(s),i.destroy()}},o.prototype.getHeight=function(){return this.positionableFeature.getHeight()},o.prototype.setHeight=function(i){this.positionableFeature.setHeight(i)},o.prototype.getWidth=function(){return this.positionableFeature.getWidth()},o.prototype.setWidth=function(i){this.positionableFeature.setWidth(i)},o.prototype.setClosable=function(i){if(i!==this.closable&&(this.closable=i),i){var s=this.closeButtonComp=new un(o.CLOSE_BTN_TEMPLATE);this.getContext().createBean(s);var l=s.getGui(),c=Rn("close",this.gridOptionsWrapper);c.classList.add("ag-panel-title-bar-button-icon"),l.appendChild(c),this.addTitleBarButton(s),s.addManagedListener(l,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((l=this.closeButtonComp.getGui()).parentElement.removeChild(l),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},o.prototype.setBodyComponent=function(i){i.setParentComponent(this),this.eContentWrapper.appendChild(i.getGui())},o.prototype.addTitleBarButton=function(i,s){var l=this.eTitleBarButtons,c=l.children,p=c.length;null==s&&(s=p),s=Math.max(0,Math.min(s,p)),i.addCssClass("ag-panel-title-bar-button");var v=i.getGui();0===s?l.insertAdjacentElement("afterbegin",v):s===p?l.insertAdjacentElement("beforeend",v):c[s-1].insertAdjacentElement("afterend",v),i.setParentComponent(this)},o.prototype.getBodyHeight=function(){return Gu(this.eContentWrapper)},o.prototype.getBodyWidth=function(){return Bu(this.eContentWrapper)},o.prototype.setTitle=function(i){this.eTitle.innerText=i},o.prototype.onBtClose=function(){this.close()},o.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var i=this.getGui();i&&i.offsetParent&&this.close(),u.prototype.destroy.call(this)},o.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Mp([st("eContentWrapper")],o.prototype,"eContentWrapper",void 0),Mp([st("eTitleBar")],o.prototype,"eTitleBar",void 0),Mp([st("eTitleBarButtons")],o.prototype,"eTitleBarButtons",void 0),Mp([st("eTitle")],o.prototype,"eTitle",void 0),Mp([Xe],o.prototype,"postConstruct",null),o}(un),Tm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Od=function(){return Od=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Od.apply(this,arguments)},Em=function(u){function o(i){var s=u.call(this,Od(Od({},i),{popup:!0}))||this;return s.isMaximizable=!1,s.isMaximized=!1,s.maximizeListeners=[],s.resizeListenerDestroy=null,s.lastPosition={x:0,y:0,width:0,height:0},s}return Tm(o,u),o.prototype.postConstruct=function(){var i=this,s=this.getGui(),l=this.config,c=l.movable,p=l.resizable,v=l.maximizable;this.addCssClass("ag-dialog"),u.prototype.postConstruct.call(this),this.addManagedListener(s,"focusin",function(M){s.contains(M.relatedTarget)||i.popupService.bringPopupToFront(s)}),c&&this.setMovable(c),v&&this.setMaximizable(v),p&&this.setResizable(p)},o.prototype.renderComponent=function(){var i=this.getGui(),s=this.config,l=s.alwaysOnTop,c=s.modal,p=s.title,v=this.gridOptionsWrapper.getLocaleTextFunc(),M=this.popupService.addPopup({modal:c,eChild:i,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:l,ariaLabel:p||v("ariaLabelDialog","Dialog")});M&&(this.close=M.hideFunc)},o.prototype.toggleMaximize=function(){var i=this.positionableFeature.getPosition();if(this.isMaximized){var s=this.lastPosition,l=s.x,c=s.y,v=s.height;this.setWidth(s.width),this.setHeight(v),this.positionableFeature.offsetElement(l,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=i.x,this.lastPosition.y=i.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},o.prototype.refreshMaximizeIcon=function(){ai(this.maximizeIcon,!this.isMaximized),ai(this.minimizeIcon,this.isMaximized)},o.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(i){return i()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},o.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),u.prototype.destroy.call(this)},o.prototype.setResizable=function(i){this.positionableFeature.setResizable(i)},o.prototype.setMovable=function(i){this.positionableFeature.setMovable(i,this.eTitleBar)},o.prototype.setMaximizable=function(i){var s=this;if(!i)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var l=this.eTitleBar;if(l&&i!==this.isMaximizable){var c=this.maximizeButtonComp=this.createBean(new un('<div class="ag-dialog-button"></span>')),p=c.getGui();p.appendChild(this.maximizeIcon=Rn("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),p.appendChild(this.minimizeIcon=Rn("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),c.addManagedListener(p,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(l,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){s.isMaximized=!1,s.refreshMaximizeIcon()})}},function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([le("popupService")],o.prototype,"popupService",void 0),o}(Sm),dT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Dm=function(u){function o(i){var s=u.call(this,i,"ag-color-picker","colorPicker")||this;return i&&i.color&&(s.value=i.color),s}return dT(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},o.prototype.showPicker=function(){var i=this,s=this.getGui().getBoundingClientRect(),l=this.createBean(new Em({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:s.right-190,y:s.top-250}));this.isPickerDisplayed=!0,l.addCssClass("ag-color-dialog"),Go(this.eWrapper,!0);var c=this.createBean(new pO({picker:this}));return c.addDestroyFunc(function(){l.isAlive()&&i.destroyBean(l)}),l.setParentComponent(this),l.setBodyComponent(c),c.setValue(this.getValue()),l.addDestroyFunc(function(){i.isDestroyingPicker?i.isDestroyingPicker=!1:(i.isDestroyingPicker=!0,c.isAlive()&&i.destroyBean(c)),i.isAlive()&&(Go(i.eWrapper,!1),i.getFocusableElement().focus()),i.isPickerDisplayed=!1}),l},o.prototype.setValue=function(i){return this.value===i?this:(this.eDisplayField.style.backgroundColor=i,u.prototype.setValue.call(this,i))},o.prototype.getValue=function(){return this.value},o}(ed),hT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),aa=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},IC=function(u){function o(i){void 0===i&&(i={});var s=u.call(this,o.getTemplate(i))||this;s.suppressEnabledCheckbox=!0,s.suppressOpenCloseIcons=!1;var c=i.enabled,p=i.items,v=i.suppressEnabledCheckbox,M=i.suppressOpenCloseIcons;return s.title=i.title,s.cssIdentifier=i.cssIdentifier||"default",s.enabled=null==c||c,s.items=p||[],s.alignItems=i.alignItems||"center",null!=v&&(s.suppressEnabledCheckbox=v),null!=M&&(s.suppressOpenCloseIcons=M),s}return hT(o,u),o.getTemplate=function(i){var s=i.cssIdentifier||"default";return'<div class="ag-group ag-'+s+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+s+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+s+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+s+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(i.direction||"vertical")+" ag-"+s+'-group-container"></div>\n        </div>'},o.prototype.postConstruct=function(){if(this.items.length){var i=this.items;this.items=[],this.addItems(i)}var s=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(s("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},o.prototype.setupExpandContract=function(){var i=this;this.eGroupClosedIcon.appendChild(ts("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(ts("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return i.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(s){switch(s.key){case lt.ENTER:case lt.SPACE:s.preventDefault(),i.toggleGroupExpand();break;case lt.RIGHT:case lt.LEFT:s.preventDefault(),i.toggleGroupExpand(s.key===lt.RIGHT)}})},o.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Go(this.eTitleBar,this.expanded)},o.prototype.refreshChildDisplay=function(){var i=!this.suppressOpenCloseIcons;ai(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),ai(this.eGroupOpenedIcon,i&&this.expanded),ai(this.eGroupClosedIcon,i&&!this.expanded)},o.prototype.isExpanded=function(){return this.expanded},o.prototype.setAlignItems=function(i){return this.alignItems!==i&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=i,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},o.prototype.toggleGroupExpand=function(i){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),ai(this.eContainer,!0),this):(this.expanded===(i=null!=i?i:!this.expanded)||(this.expanded=i,this.refreshAriaStatus(),this.refreshChildDisplay(),ai(this.eContainer,i),this.dispatchEvent({type:this.expanded?o.EVENT_EXPANDED:o.EVENT_COLLAPSED})),this)},o.prototype.addItems=function(i){var s=this;i.forEach(function(l){return s.addItem(l)})},o.prototype.addItem=function(i){var s=this.eContainer,l=i instanceof un?i.getGui():i;l.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),s.appendChild(l),this.items.push(l)},o.prototype.hideItem=function(i,s){this.items[s].classList.toggle("ag-hidden",i)},o.prototype.setTitle=function(i){return this.eTitle.innerText=i,this},o.prototype.addCssClassToTitleBar=function(i){this.eTitleBar.classList.add(i)},o.prototype.setEnabled=function(i,s){return this.enabled=i,this.refreshDisabledStyles(),this.toggleGroupExpand(i),s||this.cbGroupEnabled.setValue(i),this},o.prototype.isEnabled=function(){return this.enabled},o.prototype.onEnableChange=function(i){var s=this;return this.cbGroupEnabled.onValueChange(function(l){s.setEnabled(l,!0),i(l)}),this},o.prototype.hideEnabledCheckbox=function(i){return this.suppressEnabledCheckbox=i,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},o.prototype.hideOpenCloseIcons=function(i){return this.suppressOpenCloseIcons=i,i&&this.toggleGroupExpand(!0),this},o.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},o.EVENT_EXPANDED="expanded",o.EVENT_COLLAPSED="collapsed",aa([st("eTitleBar")],o.prototype,"eTitleBar",void 0),aa([st("eGroupOpenedIcon")],o.prototype,"eGroupOpenedIcon",void 0),aa([st("eGroupClosedIcon")],o.prototype,"eGroupClosedIcon",void 0),aa([st("eToolbar")],o.prototype,"eToolbar",void 0),aa([st("cbGroupEnabled")],o.prototype,"cbGroupEnabled",void 0),aa([st("eTitle")],o.prototype,"eTitle",void 0),aa([st("eContainer")],o.prototype,"eContainer",void 0),aa([Xe],o.prototype,"postConstruct",null),o}(un),pT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Am=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Rm=function(u){function o(i){var s=u.call(this)||this;s.skipTabGuardFocus=!1;var c=i.eTopGuard,p=i.eBottomGuard,v=i.focusInnerElement,M=i.onFocusIn,L=i.onFocusOut,Y=i.shouldStopEventPropagation,re=i.onTabKeyDown,de=i.handleKeyDown,be=i.eFocusableElement;return s.comp=i.comp,s.eTopGuard=c,s.eBottomGuard=p,s.providedFocusInnerElement=v,s.eFocusableElement=be,s.providedFocusIn=M,s.providedFocusOut=L,s.providedShouldStopEventPropagation=Y,s.providedOnTabKeyDown=re,s.providedHandleKeyDown=de,s}return pT(o,u),o.prototype.postConstruct=function(){var i=this;this.createManagedBean(new ns(this.eFocusableElement,{shouldStopEventPropagation:function(){return i.shouldStopEventPropagation()},onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)},onFocusIn:function(s){return i.onFocusIn(s)},onFocusOut:function(s){return i.onFocusOut(s)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(s){return i.addManagedListener(s,"focus",i.onFocus.bind(i))})},o.prototype.handleKeyDown=function(i){this.providedHandleKeyDown&&this.providedHandleKeyDown(i)},o.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},o.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},o.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},o.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},o.prototype.onFocus=function(i){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var s=i.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(s):this.focusInnerElement(s)}},o.prototype.onFocusIn=function(i){this.providedFocusIn&&this.providedFocusIn(i)||this.deactivateTabGuards()},o.prototype.onFocusOut=function(i){this.providedFocusOut&&this.providedFocusOut(i)||this.eFocusableElement.contains(i.relatedTarget)||this.activateTabGuards()},o.prototype.onTabKeyDown=function(i){var s=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(i);else if(!i.defaultPrevented){var l=this.tabGuardsAreActive();l&&this.deactivateTabGuards();var c=this.getNextFocusableElement(i.shiftKey);l&&setTimeout(function(){return s.activateTabGuards()},0),c&&(c.focus(),i.preventDefault())}},o.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},o.prototype.focusInnerElement=function(i){void 0===i&&(i=!1);var s=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(s.splice(0,1),s.splice(s.length-1,1)),s.length&&s[i?s.length-1:0].focus()},o.prototype.getNextFocusableElement=function(i){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,i)},o.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1);var s=i?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,s.focus()},Am([le("focusService")],o.prototype,"focusService",void 0),Am([Xe],o.prototype,"postConstruct",null),o}(dt),fT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ks=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},kd=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return fT(o,u),o.prototype.initialiseTabGuard=function(i){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var s=[this.eTopGuard,this.eBottomGuard],l={setTabIndex:function(c){s.forEach(function(p){return null!=c?p.setAttribute("tabIndex",c):p.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Rm({comp:l,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:i.onFocusIn,onFocusOut:i.onFocusOut,focusInnerElement:i.focusInnerElement,handleKeyDown:i.handleKeyDown,onTabKeyDown:i.onTabKeyDown,shouldStopEventPropagation:i.shouldStopEventPropagation}))},o.prototype.createTabGuard=function(i){var s=document.createElement("div");return s.classList.add("ag-tab-guard","ag-tab-guard-"+i),rr(s,"presentation"),s},o.prototype.addTabGuards=function(i,s){this.eFocusableElement.insertAdjacentElement("afterbegin",i),this.eFocusableElement.insertAdjacentElement("beforeend",s)},o.prototype.removeAllChildrenExceptTabGuards=function(){var i=[this.eTopGuard,this.eBottomGuard];gt(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(ks(arguments[o]));return u}(i))},o.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1),this.tabGuardCtrl.forceFocusOutOfContainer(i)},o.prototype.appendChild=function(i,s){Ds(i)||(i=i.getGui());var l=this.eBottomGuard;l?l.insertAdjacentElement("beforebegin",i):u.prototype.appendChild.call(this,i,s)},o}(un),gT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),km=function(){return km=Object.assign||function(u){for(var o,i=1,s=arguments.length;i<s;i++)for(var l in o=arguments[i])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},km.apply(this,arguments)},Pm=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},MC=function(u){function o(i){void 0===i&&(i=1);var s=u.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return s.level=i,s.menuItems=[],s}return gT(o,u),o.prototype.postConstruct=function(){var i=this;this.initialiseTabGuard({onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)}})},o.prototype.onTabKeyDown=function(i){var s=this.getParentComponent(),l=s&&s.getGui();l&&l.classList.contains("ag-focus-managed")||i.preventDefault(),i.shiftKey&&this.closeIfIsChild(i)},o.prototype.handleKeyDown=function(i){switch(i.key){case lt.UP:case lt.RIGHT:case lt.DOWN:case lt.LEFT:i.preventDefault(),this.handleNavKey(i.key);break;case lt.ESCAPE:var s=this.findTopMenu();s&&this.focusService.focusInto(s.getGui())}},o.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},o.prototype.addMenuItems=function(i){var s=this;null!=i&&i.forEach(function(l){"separator"===l?s.addSeparator():"string"==typeof l?console.warn("AG Grid: unrecognised menu item "+l):s.addItem(l)})},o.prototype.addItem=function(i){var s=this,l=this.createManagedBean(new la(km(km({},i),{isAnotherSubMenuOpen:function(){return s.menuItems.some(function(c){return c.isSubMenuOpen()})}})));l.setParentComponent(this),dx(l.getGui(),this.level),this.menuItems.push(l),this.appendChild(l.getGui()),this.addManagedListener(l,la.EVENT_MENU_ITEM_SELECTED,function(c){s.dispatchEvent(c)}),this.addManagedListener(l,la.EVENT_MENU_ITEM_ACTIVATED,function(c){s.activeMenuItem&&s.activeMenuItem!==c.menuItem&&s.activeMenuItem.deactivate(),s.activeMenuItem=c.menuItem})},o.prototype.activateFirstItem=function(){var i=this.menuItems.filter(function(s){return!s.isDisabled()})[0];!i||i.activate()},o.prototype.addSeparator=function(){this.appendChild(Si('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},o.prototype.findTopMenu=function(){var i=this.getParentComponent();if(!i&&this instanceof o)return this;for(;;){var s=i&&i.getParentComponent&&i.getParentComponent();if(!s||!(s instanceof o||s instanceof la))break;i=s}return i instanceof o?i:void 0},o.prototype.handleNavKey=function(i){switch(i){case lt.UP:case lt.DOWN:var s=this.findNextItem(i===lt.UP);return void(s&&s!==this.activeMenuItem&&s.activate())}i===(this.gridOptionsWrapper.isEnableRtl()?lt.RIGHT:lt.LEFT)?this.closeIfIsChild():this.openChild()},o.prototype.closeIfIsChild=function(i){var s=this.getParentComponent();s&&s instanceof la&&(i&&i.preventDefault(),s.closeSubMenu(),s.getGui().focus())},o.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},o.prototype.findNextItem=function(i){var s=this.menuItems.filter(function(M){return!M.isDisabled()});if(s.length){if(!this.activeMenuItem)return i?xt(s):s[0];i&&s.reverse();for(var l,c=!1,p=0;p<s.length;p++){var v=s[p];if(c){l=v;break}v===this.activeMenuItem&&(c=!0)}return l||this.activeMenuItem}},o.prototype.destroy=function(){this.clearActiveItem(),u.prototype.destroy.call(this)},Pm([le("focusService")],o.prototype,"focusService",void 0),Pm([Xe],o.prototype,"postConstruct",null),o}(kd),mT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Np=function(u){function o(i){var s=u.call(this)||this;return s.wrappedComponent=i,s.setTemplateFromElement(i.getGui()),s}return mT(o,u),o.prototype.postConstruct=function(){var i=this;this.initialiseTabGuard({onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)}})},o.prototype.handleKeyDown=function(i){i.key===lt.ESCAPE&&this.closePanel()},o.prototype.onTabKeyDown=function(i){i.defaultPrevented||(this.closePanel(),i.preventDefault())},o.prototype.closePanel=function(){var i=this.parentComponent;i.closeSubMenu(),setTimeout(function(){return i.getGui().focus()},0)},function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);l>3&&c&&Object.defineProperty(o,i,c)}([Xe],o.prototype,"postConstruct",null),o}(kd),vT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),NC=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},la=function(u){function o(i){var s=u.call(this)||this;return s.params=i,s.isActive=!1,s.subMenuIsOpen=!1,s.setTemplate('<div class="'+s.getClassName()+'" tabindex="-1" role="treeitem"></div>'),s}return vT(o,u),o.prototype.init=function(){var i=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var s=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Yv(s,!0)):(this.addGuiEventListener("click",function(l){return i.onItemSelected(l)}),this.addGuiEventListener("keydown",function(l){(l.key===lt.ENTER||l.key===lt.SPACE)&&(l.preventDefault(),i.onItemSelected(l))}),this.addGuiEventListener("mousedown",function(l){l.stopPropagation(),l.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return i.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return i.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(l){return i.addCssClass(l)})},o.prototype.isDisabled=function(){return!!this.params.disabled},o.prototype.openSubMenu=function(i){var s=this;if(void 0===i&&(i=!1),this.closeSubMenu(),this.params.subMenu){var c,l=Si('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var p=Lo(this.getGui()),v=isNaN(p)?1:p+1,M=this.createBean(new MC(v));M.setParentComponent(this),M.addMenuItems(this.params.subMenu),l.appendChild(M.getGui()),this.addManagedListener(M,o.EVENT_MENU_ITEM_SELECTED,function(He){return s.dispatchEvent(He)}),M.addGuiEventListener("mouseenter",function(){return s.cancelDeactivate()}),c=function(){return s.destroyBean(M)},i&&setTimeout(function(){return M.activateFirstItem()},0)}else{var L=this.params.subMenu,Y=this.createBean(new Np(L));Y.setParentComponent(this);var re=Y.getGui(),de="mouseenter",be=function(){return s.cancelDeactivate()};re.addEventListener(de,be),c=function(){return re.removeEventListener(de,be)},l.appendChild(re),L.afterGuiAttached&&setTimeout(function(){return L.afterGuiAttached()},0)}var Ce=this.getGui(),Re=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:Ce,ePopup:l}),Ge=this.gridOptionsWrapper.getLocaleTextFunc(),Ze=this.popupService.addPopup({modal:!0,eChild:l,positionCallback:Re,anchorToElement:Ce,ariaLabel:Ge("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Go(Ce,!0),this.hideSubMenu=function(){Ze&&Ze.hideFunc(),s.subMenuIsOpen=!1,Go(Ce,!1),c()}}},o.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Go(this.getGui(),!1))},o.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},o.prototype.activate=function(i){var s=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),i&&this.params.subMenu&&window.setTimeout(function(){s.isAlive()&&s.isActive&&s.openSubMenu()},300),this.onItemActivated())},o.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},o.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var i=Si('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?i.appendChild(Rn("check",this.gridOptionsWrapper)):this.params.icon&&(Ds(this.params.icon)?i.appendChild(this.params.icon):"string"==typeof this.params.icon?i.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(i)}},o.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var i=Si('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(i)}},o.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new ut(this)))},o.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},o.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var i=Si('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(i)}},o.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var i=Si('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),s=this.getGui();if(this.params.subMenu){var l=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Go(s,!1),i.appendChild(Rn(l,this.gridOptionsWrapper))}s.appendChild(i)}},o.prototype.onItemSelected=function(i){this.params.action?this.params.action():this.openSubMenu(i&&"keydown"===i.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:o.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:i})},o.prototype.onItemActivated=function(){this.dispatchEvent({type:o.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},o.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},o.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},o.prototype.onMouseEnter=function(){var i=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return i.activate(!0)},o.ACTIVATION_DELAY):this.activate(!0)},o.prototype.onMouseLeave=function(){var i=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return i.deactivate()},o.ACTIVATION_DELAY):this.deactivate()},o.prototype.getClassName=function(i){var s=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return i?s+"-"+i:s},o.EVENT_MENU_ITEM_SELECTED="menuItemSelected",o.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",o.ACTIVATION_DELAY=80,NC([le("popupService")],o.prototype,"popupService",void 0),NC([Xe],o.prototype,"init",null),o}(un),Im=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Uo=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Mm=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},Fl=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var i;return Im(o,u),i=o,o.addKeyboardModeEvents=function(s,l){var c=i.instancesMonitored.get(s);c&&c.length>0?-1===c.indexOf(l)&&c.push(l):(i.instancesMonitored.set(s,[l]),s.addEventListener("keydown",i.toggleKeyboardMode),s.addEventListener("mousedown",i.toggleKeyboardMode))},o.removeKeyboardModeEvents=function(s,l){var c=i.instancesMonitored.get(s),p=[];c&&c.length&&(p=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(Mm(arguments[o]));return u}(c).filter(function(v){return v!==l}),i.instancesMonitored.set(s,p)),0===p.length&&(s.removeEventListener("keydown",i.toggleKeyboardMode),s.removeEventListener("mousedown",i.toggleKeyboardMode))},o.toggleKeyboardMode=function(s){var l=i.keyboardModeActive,c="keydown"===s.type;if(!(c&&(s.ctrlKey||s.metaKey||s.altKey)||l&&c||!l&&!c)){i.keyboardModeActive=c;var p=s.target.ownerDocument;if(p){var v=i.instancesMonitored.get(p);v&&v.forEach(function(M){M.dispatchEvent({type:c?xe.EVENT_KEYBOARD_FOCUS:xe.EVENT_MOUSE_FOCUS})})}}},o.prototype.init=function(){var s=this,l=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,l),this.addManagedListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_GROUP_OPENED,l),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,l),this.ctrlsService.whenReady(function(c){s.gridCtrl=c.gridCtrl;var p=s.gridOptionsWrapper.getDocument();i.addKeyboardModeEvents(p,s.gridCtrl),s.addDestroyFunc(function(){return s.unregisterGridCompController(s.gridCtrl)})})},o.prototype.unregisterGridCompController=function(s){var l=this.gridOptionsWrapper.getDocument();i.removeKeyboardModeEvents(l,s)},o.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var s=this.focusedCellPosition.column,l=this.columnModel.getGridColumn(s.getId());s!==l&&this.clearFocusedCell()}},o.prototype.isKeyboardMode=function(){return i.keyboardModeActive},o.prototype.getFocusCellToUseAfterRefresh=function(){var s=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(s.activeElement,xl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},o.prototype.getFocusHeaderToUseAfterRefresh=function(){var s=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(s.activeElement,bd.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},o.prototype.isDomDataMissingInHierarchy=function(s,l){for(var c=s;c;){if(this.gridOptionsWrapper.getDomData(c,l))return!1;c=c.parentNode}return!0},o.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},o.prototype.getFocusedCell=function(){return this.focusedCellPosition},o.prototype.setFocusedCell=function(s,l,c,p){void 0===p&&(p=!1);var v=this.columnModel.getGridColumn(l);v?(this.focusedCellPosition=v?{rowIndex:s,rowPinned:R(c),column:v}:null,this.onCellFocused(p)):this.focusedCellPosition=null},o.prototype.isCellFocused=function(s){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===s.column&&this.isRowFocused(s.rowIndex,s.rowPinned)},o.prototype.isRowNodeFocused=function(s){return this.isRowFocused(s.rowIndex,s.rowPinned)},o.prototype.isHeaderWrapperFocused=function(s){if(null==this.focusedHeaderPosition)return!1;var l=s.getColumnGroupChild(),c=s.getRowIndex(),p=s.getPinned(),v=this.focusedHeaderPosition,M=v.column;return l===M&&c===v.headerRowIndex&&p==M.getPinned()},o.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},o.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},o.prototype.setFocusedHeader=function(s,l){this.focusedHeaderPosition={headerRowIndex:s,column:l}},o.prototype.focusHeaderPosition=function(s){var l=s.direction,c=s.fromTab,v=s.event,M=s.headerPosition;if(s.allowUserOverride){var de,L=this.gridOptionsWrapper,Y=this.getFocusedHeader(),re=this.headerNavigationService.getHeaderRowCount();c?(de=L.getTabToNextHeaderFunc())&&(M=de({backwards:"Before"===l,previousHeaderPosition:Y,nextHeaderPosition:M,headerRowCount:re})):(de=L.getNavigateToNextHeaderFunc())&&v&&(M=de({key:v.key,previousHeaderPosition:Y,nextHeaderPosition:M,headerRowCount:re,event:v}))}return!!M&&(-1===M.headerRowIndex?this.focusGridView(M.column):(this.headerNavigationService.scrollToColumn(M.column,l),this.ctrlsService.getHeaderRowContainerCtrl(M.column.getPinned()).focusHeader(M.headerRowIndex,M.column,v)))},o.prototype.focusFirstHeader=function(){var s=this.columnModel.getAllDisplayedColumns()[0];return!!s&&(s.getParent()&&(s=this.columnModel.getColumnGroupAtLevel(s,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:s}}))},o.prototype.focusLastHeader=function(s){var l=this.headerNavigationService.getHeaderRowCount()-1,c=xt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:c},event:s})},o.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},o.prototype.isRowFocused=function(s,l){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===s&&this.focusedCellPosition.rowPinned===R(l)},o.prototype.findFocusableElements=function(s,l,c){void 0===c&&(c=!1);var v=Ie.FOCUSABLE_EXCLUDE;l&&(v+=", "+l),c&&(v+=', [tabindex="-1"]');var de,M=Array.prototype.slice.apply(s.querySelectorAll(Ie.FOCUSABLE_SELECTOR)),L=Array.prototype.slice.apply(s.querySelectorAll(v));return L.length?(de=L,M.filter(function(be){return-1===de.indexOf(be)})):M},o.prototype.focusInto=function(s,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1);var p=this.findFocusableElements(s,null,c),v=l?xt(p):p[0];return!!v&&(v.focus(),!0)},o.prototype.findNextFocusableElement=function(s,l,c){void 0===s&&(s=this.eGridDiv);var p=this.findFocusableElements(s,l?':not([tabindex="-1"])':null),M=this.gridOptionsWrapper.getDocument().activeElement,Y=(l?p.findIndex(function(re){return re.contains(M)}):p.indexOf(M))+(c?-1:1);return Y<0||Y>=p.length?null:p[Y]},o.prototype.isFocusUnderManagedComponent=function(s){var l=this.gridOptionsWrapper.getDocument(),c=s.querySelectorAll("."+ns.FOCUS_MANAGED_CLASS);if(!c.length)return!1;for(var p=0;p<c.length;p++)if(c[p].contains(l.activeElement))return!0;return!1},o.prototype.findTabbableParent=function(s,l){void 0===l&&(l=5);for(var c=0;s&&null===Nh(s)&&++c<=l;)s=s.parentElement;return null===Nh(s)?null:s},o.prototype.onCellFocused=function(s){var l={type:xe.EVENT_CELL_FOCUSED,forceBrowserFocus:s,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var c=l.rowIndex=this.focusedCellPosition.rowIndex,p=l.rowPinned=this.focusedCellPosition.rowPinned;l.column=this.focusedCellPosition.column;var v=this.rowRenderer.getRowByPosition({rowIndex:c,rowPinned:p});v&&(l.isFullWidthCell=v.isFullWidth())}this.eventService.dispatchEvent(l)},o.prototype.focusGridView=function(s,l){if(this.gridOptionsWrapper.isSuppressCellFocus())return l?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var c=l?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!c)return!1;var p=c.rowIndex,v=c.rowPinned,M=this.getFocusedHeader();return!s&&M&&(s=M.column),!(null==p||!s)&&(this.navigationService.ensureCellVisible({rowIndex:p,column:s,rowPinned:v}),this.setFocusedCell(p,s,R(v),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:p,rowPinned:v,column:s}),!0)},o.prototype.focusNextGridCoreContainer=function(s){return!!this.gridCtrl.focusNextInnerContainer(s)||(!s&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)},o.AG_KEYBOARD_FOCUS="ag-keyboard-focus",o.keyboardModeActive=!1,o.instancesMonitored=new Map,Uo([le("eGridDiv")],o.prototype,"eGridDiv",void 0),Uo([le("columnModel")],o.prototype,"columnModel",void 0),Uo([le("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Uo([le("columnApi")],o.prototype,"columnApi",void 0),Uo([le("gridApi")],o.prototype,"gridApi",void 0),Uo([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Uo([le("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),Uo([fn("rangeService")],o.prototype,"rangeService",void 0),Uo([le("navigationService")],o.prototype,"navigationService",void 0),Uo([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Uo([Xe],o.prototype,"init",null),i=Uo([at("focusService")],o)}(dt),yT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Pd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},cs=(()=>(function(u){u[u.vertical=0]="vertical",u[u.horizontal=1]="horizontal"}(cs||(cs={})),cs))(),fO=0,FC=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.popupList=[],i}return yT(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.gridCtrl=s.gridCtrl,i.addManagedListener(i.gridCtrl,xe.EVENT_KEYBOARD_FOCUS,function(){i.popupList.forEach(function(l){return l.element.classList.add(Fl.AG_KEYBOARD_FOCUS)})}),i.addManagedListener(i.gridCtrl,xe.EVENT_MOUSE_FOCUS,function(){i.popupList.forEach(function(l){return l.element.classList.remove(Fl.AG_KEYBOARD_FOCUS)})})})},o.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},o.prototype.positionPopupForMenu=function(i){var s=i.eventSource.getBoundingClientRect(),l=this.getParentRect(),c=this.keepXYWithinBounds(i.ePopup,s.top-l.top,cs.vertical),p=i.ePopup.clientWidth>0?i.ePopup.clientWidth:200;i.ePopup.style.minWidth=p+"px";var L,M=l.right-l.left-p;function Y(){return s.right-l.left-2}function re(){return s.left-l.left-p}this.gridOptionsWrapper.isEnableRtl()?((L=re())<0&&(L=Y()),L>M&&(L=0)):((L=Y())>M&&(L=re()),L<0&&(L=0)),i.ePopup.style.left=L+"px",i.ePopup.style.top=c+"px"},o.prototype.positionPopupUnderMouseEvent=function(i){var s=i.ePopup,l=i.nudgeX,c=i.nudgeY,p=this.calculatePointerAlign(i.mouseEvent);this.positionPopup({ePopup:s,x:p.x,y:p.y,nudgeX:l,nudgeY:c,keepWithinBounds:!0}),this.callPostProcessPopup(i.type,i.ePopup,null,i.mouseEvent,i.column,i.rowNode)},o.prototype.calculatePointerAlign=function(i){var s=this.getParentRect();return{x:i.clientX-s.left,y:i.clientY-s.top}},o.prototype.positionPopupUnderComponent=function(i){var s=i.eventSource.getBoundingClientRect(),l=i.alignSide||"left",c=this.getParentRect(),p=s.left-c.left;"right"===l&&(p-=i.ePopup.offsetWidth-s.width),this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,x:p,y:s.top-c.top+s.height,keepWithinBounds:i.keepWithinBounds}),this.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)},o.prototype.positionPopupOverComponent=function(i){var s=i.eventSource.getBoundingClientRect(),l=this.getParentRect();this.positionPopup({ePopup:i.ePopup,nudgeX:i.nudgeX,nudgeY:i.nudgeY,x:s.left-l.left,y:s.top-l.top,keepWithinBounds:i.keepWithinBounds}),this.callPostProcessPopup(i.type,i.ePopup,i.eventSource,null,i.column,i.rowNode)},o.prototype.callPostProcessPopup=function(i,s,l,c,p,v){var M=this.gridOptionsWrapper.getPostProcessPopupFunc();M&&M({column:p,rowNode:v,ePopup:s,type:i,eventSource:l,mouseEvent:c})},o.prototype.positionPopup=function(i){var s=i.ePopup,c=i.nudgeX,p=i.nudgeY,v=i.x,M=i.y;c&&(v+=c),p&&(M+=p),i.keepWithinBounds&&(v=this.keepXYWithinBounds(s,v,cs.horizontal),M=this.keepXYWithinBounds(s,M,cs.vertical)),s.style.left=v+"px",s.style.top=M+"px"},o.prototype.getActivePopups=function(){return this.popupList.map(function(i){return i.element})},o.prototype.getPopupList=function(){return this.popupList},o.prototype.getParentRect=function(){var i=this.gridOptionsWrapper.getDocument(),s=this.getPopupParent();s===i.body&&(s=i.documentElement);var l=getComputedStyle(s),c=s.getBoundingClientRect();return{top:c.top+parseFloat(l.borderTopWidth)||0,left:c.left+parseFloat(l.borderLeftWidth)||0,right:c.right+parseFloat(l.borderRightWidth)||0,bottom:c.bottom+parseFloat(l.borderBottomWidth)||0}},o.prototype.keepXYWithinBounds=function(i,s,l){var c=l===cs.vertical,p=c?"clientHeight":"clientWidth",v=c?"top":"left",M=c?"offsetHeight":"offsetWidth",L=c?"scrollTop":"scrollLeft",Y=this.gridOptionsWrapper.getDocument(),re=Y.documentElement,de=this.getPopupParent(),be=de.getBoundingClientRect(),Ce=Y.documentElement.getBoundingClientRect(),Re=de===Y.body,Ge=i[M],He=Re?(c?Gh:Vu)(re)+re[L]:de[p];Re&&(He-=Math.abs(Ce[v]-be[v]));var Ke=He-Ge;return Math.min(Math.max(s,0),Math.abs(Ke))},o.prototype.keepPopupPositionedRelativeTo=function(i){var s=this,l=this.getPopupParent(),c=l.getBoundingClientRect(),p=i.element.getBoundingClientRect(),v=c.top-p.top,M=c.left-p.left,L=v,Y=M,re=i.ePopup.style.top,de=parseInt(re.substring(0,re.length-1),10),be=i.ePopup.style.left,Ce=parseInt(be.substring(0,be.length-1),10);return new ro(function(Re){s.getFrameworkOverrides().setInterval(function(){var Ge=l.getBoundingClientRect(),Ze=i.element.getBoundingClientRect();if(0==Ze.top&&0==Ze.left&&0==Ze.height&&0==Ze.width)i.hidePopup();else{var Ke=Ge.top-Ze.top;if(Ke!=L){var pt=s.keepXYWithinBounds(i.ePopup,de+v-Ke,cs.vertical);i.ePopup.style.top=pt+"px"}L=Ke;var Bt=Ge.left-Ze.left;if(Bt!=Y){var Sn=s.keepXYWithinBounds(i.ePopup,Ce+M-Bt,cs.horizontal);i.ePopup.style.left=Sn+"px"}Y=Bt}},200).then(function(Ge){Re(function(){null!=Ge&&window.clearInterval(Ge)})})})},o.prototype.addPopup=function(i){var s=this,l=i.modal,c=i.eChild,p=i.closeOnEsc,v=i.closedCallback,M=i.click,L=i.alwaysOnTop,Y=i.afterGuiAttached,re=i.positionCallback,de=i.anchorToElement,be=i.ariaLabel,Ce=this.gridOptionsWrapper.getDocument(),Re=new ro(function(Pn){return Pn(function(){})});if(!Ce)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:Re};var Ge=this.popupList.findIndex(function(Pn){return Pn.element===c});if(-1!==Ge){var Ze=this.popupList[Ge];return{hideFunc:Ze.hideFunc,stopAnchoringPromise:Ze.stopAnchoringPromise}}var He=this.getPopupParent();null==c.style.top&&(c.style.top="0px"),null==c.style.left&&(c.style.left="0px");var Ke=document.createElement("div"),pt=this.environment.getTheme().theme;pt&&Ke.classList.add(pt),Ke.classList.add("ag-popup"),c.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),c.hasAttribute("role")||rr(c,"dialog"),ul(c,be),this.focusService.isKeyboardMode()&&c.classList.add(Fl.AG_KEYBOARD_FOCUS),Ke.appendChild(c),He.appendChild(Ke),L?this.setAlwaysOnTop(Ke,!0):this.bringPopupToFront(Ke);var Bt=!1,Sn=function(Pn){Ke.contains(Ce.activeElement)&&Pn.key===lt.ESCAPE&&kn({keyboardEvent:Pn})},Tn=function(Pn){return kn({mouseEvent:Pn})},zt=function(Pn){return kn({touchEvent:Pn})},kn=function(Pn){void 0===Pn&&(Pn={});var Vi=Pn.mouseEvent,Ai=Pn.touchEvent,qr=Pn.keyboardEvent;s.isEventFromCurrentPopup({mouseEvent:Vi,touchEvent:Ai},c)||s.isEventSameChainAsOriginalEvent({originalMouseEvent:M,mouseEvent:Vi,touchEvent:Ai})||Bt||(Bt=!0,He.removeChild(Ke),Ce.removeEventListener("keydown",Sn),Ce.removeEventListener("mousedown",Tn),Ce.removeEventListener("touchstart",zt),Ce.removeEventListener("contextmenu",Tn),s.eventService.removeEventListener(xe.EVENT_DRAG_STARTED,Tn),v&&v(Vi||Ai||qr),s.popupList=s.popupList.filter(function(ps){return ps.element!==c}),Re&&Re.then(function(ps){return ps&&ps()}))};return Y&&Y({hidePopup:kn}),window.setTimeout(function(){p&&Ce.addEventListener("keydown",Sn),l&&(Ce.addEventListener("mousedown",Tn),s.eventService.addEventListener(xe.EVENT_DRAG_STARTED,Tn),Ce.addEventListener("touchstart",zt),Ce.addEventListener("contextmenu",Tn))},0),re&&re(),de&&(Re=this.keepPopupPositionedRelativeTo({element:de,ePopup:c,hidePopup:kn})),this.popupList.push({element:c,wrapper:Ke,hideFunc:kn,stopAnchoringPromise:Re,instanceId:fO++,isAnchored:!!de}),{hideFunc:kn,stopAnchoringPromise:Re}},o.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(i){return i.isAnchored})},o.prototype.isEventFromCurrentPopup=function(i,s){var p=i.mouseEvent||i.touchEvent;if(!p)return!1;var v=this.popupList.findIndex(function(Y){return Y.element===s});if(-1===v)return!1;for(var M=v;M<this.popupList.length;M++)if(Pu(this.popupList[M].element,p))return!0;return this.isElementWithinCustomPopup(p.target)},o.prototype.isElementWithinCustomPopup=function(i){for(var s=this.gridOptionsWrapper.getDocument();i&&i!==s.body;){if(i.classList.contains("ag-custom-component-popup")||null===i.parentElement)return!0;i=i.parentElement}return!1},o.prototype.isEventSameChainAsOriginalEvent=function(i){var s=i.originalMouseEvent,l=i.mouseEvent,c=i.touchEvent,p=null;if(l?p=l:c&&(p=c.touches[0]),p&&s){var M=l?l.screenY:0,L=Math.abs(s.screenX-(l?l.screenX:0))<5,Y=Math.abs(s.screenY-M)<5;if(L&&Y)return!0}return!1},o.prototype.getWrapper=function(i){for(;!i.classList.contains("ag-popup")&&i.parentElement;)i=i.parentElement;return i.classList.contains("ag-popup")?i:null},o.prototype.setAlwaysOnTop=function(i,s){var l=this.getWrapper(i);!l||(l.classList.toggle("ag-always-on-top",!!s),s&&this.bringPopupToFront(l))},o.prototype.bringPopupToFront=function(i){var s=this.getPopupParent(),l=Array.prototype.slice.call(s.querySelectorAll(".ag-popup")),c=l.length,p=Array.prototype.slice.call(s.querySelectorAll(".ag-popup.ag-always-on-top")),v=p.length,M=this.getWrapper(i);if(M&&!(c<=1)&&s.contains(i)){var L=l.indexOf(M),Y=M.querySelectorAll("div"),re=[];for(Y.forEach(function(Re){0!==Re.scrollTop&&re.push([Re,Re.scrollTop])}),v?M.classList.contains("ag-always-on-top")?L!==c-1&&xt(p).insertAdjacentElement("afterend",M):L!==c-v-1&&p[0].insertAdjacentElement("beforebegin",M):L!==c-1&&xt(l).insertAdjacentElement("afterend",M);re.length;){var be=re.pop();be[0].scrollTop=be[1]}var Ce={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:M};this.eventService.dispatchEvent(Ce)}},Pd([le("environment")],o.prototype,"environment",void 0),Pd([le("focusService")],o.prototype,"focusService",void 0),Pd([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Pd([Xe],o.prototype,"postConstruct",null),Pd([at("popupService")],o)}(dt),LC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Id=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},BC=(function(u){function o(i,s,l){void 0===i&&(i="default"),void 0===s&&(s="listbox");var c=u.call(this,o.getTemplate(i))||this;return c.cssIdentifier=i,c.ariaRole=s,c.listName=l,c.renderedRows=new Map,c.rowHeight=20,c.isDestroyed=!1,c}LC(o,u),o.prototype.postConstruct=function(){var i=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(s){return i.onFocusIn(s)},onFocusOut:function(s){return i.onFocusOut(s)},focusInnerElement:function(s){return i.focusInnerElement(s)},onTabKeyDown:function(s){return i.onTabKeyDown(s)},handleKeyDown:function(s){return i.handleKeyDown(s)}}),this.setAriaProperties()},o.prototype.setAriaProperties=function(){var s=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),l=this.eContainer;rr(l,this.ariaRole),ul(l,s)},o.prototype.addResizeObserver=function(){var i=this.drawVirtualRows.bind(this),s=this.resizeObserverService.observeResize(this.getGui(),i);this.addDestroyFunc(s)},o.prototype.focusInnerElement=function(i){this.focusRow(i?this.model.getRowCount()-1:0)},o.prototype.onFocusIn=function(i){var s=i.target;return s.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Uv(s)-1),!1},o.prototype.onFocusOut=function(i){return this.getFocusableElement().contains(i.relatedTarget)||(this.lastFocusedRowIndex=null),!1},o.prototype.handleKeyDown=function(i){switch(i.key){case lt.UP:case lt.DOWN:this.navigate(i.key===lt.UP)&&i.preventDefault()}},o.prototype.onTabKeyDown=function(i){this.navigate(i.shiftKey)?i.preventDefault():this.focusService.focusInto(this.getGui(),!i.shiftKey)},o.prototype.navigate=function(i){if(null==this.lastFocusedRowIndex)return!1;var s=this.lastFocusedRowIndex+(i?-1:1);return!(s<0||s>=this.model.getRowCount()||(this.focusRow(s),0))},o.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},o.prototype.focusRow=function(i){var s=this;this.ensureIndexVisible(i),window.setTimeout(function(){var l=s.renderedRows.get(i);l&&l.eDiv.focus()},10)},o.prototype.getComponentAt=function(i){var s=this.renderedRows.get(i);return s&&s.rowComponent},o.getTemplate=function(i){return'\n            <div class="ag-virtual-list-viewport ag-'+i+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+i+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},o.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},o.prototype.ensureIndexVisible=function(i){var s=this.model.getRowCount();if("number"!=typeof i||i<0||i>=s)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+i);else{var l=i*this.rowHeight,c=l+this.rowHeight,p=this.getGui(),v=p.scrollTop,M=p.offsetHeight,re=v+M<c;v>l?p.scrollTop=l:re&&(p.scrollTop=c-M)}},o.prototype.setComponentCreator=function(i){this.componentCreator=i},o.prototype.getRowHeight=function(){return this.rowHeight},o.prototype.getScrollTop=function(){return this.getGui().scrollTop},o.prototype.setRowHeight=function(i){this.rowHeight=i,this.refresh()},o.prototype.refresh=function(){var i=this;if(null!=this.model&&!this.isDestroyed){var s=this.model.getRowCount();this.eContainer.style.height=s*this.rowHeight+"px",bt(function(){return i.eContainer.clientHeight>=s*i.rowHeight},function(){i.isDestroyed||(i.clearVirtualRows(),i.drawVirtualRows())})}},o.prototype.clearVirtualRows=function(){var i=this;this.renderedRows.forEach(function(s,l){return i.removeRow(l)})},o.prototype.drawVirtualRows=function(){var i=this.getGui(),s=i.scrollTop,l=s+i.offsetHeight,c=Math.floor(s/this.rowHeight),p=Math.floor(l/this.rowHeight);this.ensureRowsRendered(c,p)},o.prototype.ensureRowsRendered=function(i,s){var l=this;this.renderedRows.forEach(function(p,v){(v<i||v>s)&&v!==l.lastFocusedRowIndex&&l.removeRow(v)});for(var c=i;c<=s;c++)this.renderedRows.has(c)||c<this.model.getRowCount()&&this.insertRow(c)},o.prototype.insertRow=function(i){var s=this,l=this.model.getRow(i),c=document.createElement("div");if(c.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),rr(c,"tree"===this.ariaRole?"treeitem":"option"),Kv(c,this.model.getRowCount()),qv(c,i+1),c.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var p=this.model.isRowSelected(i);Yu(c,!!p),_x(c,p)}c.style.height=this.rowHeight+"px",c.style.top=this.rowHeight*i+"px";var v=this.componentCreator(l,c);v.addGuiEventListener("focusin",function(){return s.lastFocusedRowIndex=i}),c.appendChild(v.getGui()),this.renderedRows.has(i-1)?this.renderedRows.get(i-1).eDiv.insertAdjacentElement("afterend",c):this.renderedRows.has(i+1)?this.renderedRows.get(i+1).eDiv.insertAdjacentElement("beforebegin",c):this.eContainer.appendChild(c),this.renderedRows.set(i,{rowComponent:v,eDiv:c})},o.prototype.removeRow=function(i){var s=this.renderedRows.get(i);this.eContainer.removeChild(s.eDiv),this.destroyBean(s.rowComponent),this.renderedRows.delete(i)},o.prototype.addScrollListener=function(){var i=this;this.addGuiEventListener("scroll",function(){return i.drawVirtualRows()})},o.prototype.setModel=function(i){this.model=i},o.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,u.prototype.destroy.call(this))},Id([le("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Id([le("focusService")],o.prototype,"focusService",void 0),Id([st("eContainer")],o.prototype,"eContainer",void 0),Id([Xe],o.prototype,"postConstruct",null)}(kd),["mouseover","mouseout","mouseenter","mouseleave"]),VC=["touchstart","touchend","touchmove","touchcancel"],Ps=function(){function u(){this.isOutsideAngular=function(o){return vo(BC,o)}}return u.prototype.setTimeout=function(o,i){window.setTimeout(o,i)},u.prototype.setInterval=function(o,i){return new ro(function(s){s(window.setInterval(o,i))})},u.prototype.addEventListener=function(o,i,s,l){var c=vo(VC,i);o.addEventListener(i,s,{capture:!!l,passive:c})},u.prototype.dispatchEvent=function(o,i,s){i()},u.prototype.frameworkComponent=function(o){return null},u.prototype.isFrameworkComponent=function(o){return!1},u}(),Fp=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Md=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},HC=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Fp(o,u),o.prototype.getNextCellToFocus=function(i,s,l){return void 0===l&&(l=!1),l?this.getNextCellToFocusWithCtrlPressed(i,s):this.getNextCellToFocusWithoutCtrlPressed(i,s)},o.prototype.getNextCellToFocusWithCtrlPressed=function(i,s){var v,M,l=i===lt.UP,p=i===lt.LEFT;if(l||i===lt.DOWN)M=l?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),v=s.column;else{var L=this.columnModel.getAllDisplayedColumns(),Y=this.gridOptionsWrapper.isEnableRtl();M=s.rowIndex,v=p!==Y?L[0]:xt(L)}return{rowIndex:M,rowPinned:null,column:v}},o.prototype.getNextCellToFocusWithoutCtrlPressed=function(i,s){for(var l=s,c=!1;!c;){switch(i){case lt.UP:l=this.getCellAbove(l);break;case lt.DOWN:l=this.getCellBelow(l);break;case lt.RIGHT:l=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(l):this.getCellToRight(l);break;case lt.LEFT:l=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(l):this.getCellToLeft(l);break;default:l=null,console.warn("AG Grid: unknown key for navigation "+i)}c=!l||this.isCellGoodToFocusOn(l)}return l},o.prototype.isCellGoodToFocusOn=function(i){var l,s=i.column;switch(i.rowPinned){case Ie.PINNED_TOP:l=this.pinnedRowModel.getPinnedTopRow(i.rowIndex);break;case Ie.PINNED_BOTTOM:l=this.pinnedRowModel.getPinnedBottomRow(i.rowIndex);break;default:l=this.rowModel.getRow(i.rowIndex)}return!!l&&!s.isSuppressNavigable(l)},o.prototype.getCellToLeft=function(i){if(!i)return null;var s=this.columnModel.getDisplayedColBefore(i.column);return s?{rowIndex:i.rowIndex,column:s,rowPinned:i.rowPinned}:null},o.prototype.getCellToRight=function(i){if(!i)return null;var s=this.columnModel.getDisplayedColAfter(i.column);return s?{rowIndex:i.rowIndex,column:s,rowPinned:i.rowPinned}:null},o.prototype.getRowBelow=function(i){var s=i.rowIndex,l=i.rowPinned;if(this.isLastRowInContainer(i))switch(l){case Ie.PINNED_BOTTOM:return null;case Ie.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(Ie.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Ie.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(Ie.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Ie.PINNED_BOTTOM}:null}return{rowIndex:s+1,rowPinned:l}},o.prototype.getCellBelow=function(i){if(!i)return null;var s=this.getRowBelow(i);return s?{rowIndex:s.rowIndex,column:i.column,rowPinned:s.rowPinned}:null},o.prototype.isLastRowInContainer=function(i){var s=i.rowPinned,l=i.rowIndex;return s===Ie.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=l:s===Ie.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=l:this.paginationProxy.getPageLastRow()<=l},o.prototype.getRowAbove=function(i){var s=i.rowIndex,l=i.rowPinned;return(l?0===s:s===this.paginationProxy.getPageFirstRow())?l===Ie.PINNED_TOP?null:l&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(Ie.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:s-1,rowPinned:l}},o.prototype.getCellAbove=function(i){if(!i)return null;var s=this.getRowAbove({rowIndex:i.rowIndex,rowPinned:i.rowPinned});return s?{rowIndex:s.rowIndex,column:i.column,rowPinned:s.rowPinned}:null},o.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},o.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:Ie.PINNED_TOP}},o.prototype.getNextTabbedCell=function(i,s){return s?this.getNextTabbedCellBackwards(i):this.getNextTabbedCellForwards(i)},o.prototype.getNextTabbedCellForwards=function(i){var s=this.columnModel.getAllDisplayedColumns(),l=i.rowIndex,c=i.rowPinned,p=this.columnModel.getDisplayedColAfter(i.column);if(!p){p=s[0];var v=this.getRowBelow(i);if(O(v)||!v.rowPinned&&!this.paginationProxy.isRowInPage(v))return null;l=v?v.rowIndex:null,c=v?v.rowPinned:null}return{rowIndex:l,column:p,rowPinned:c}},o.prototype.getNextTabbedCellBackwards=function(i){var s=this.columnModel.getAllDisplayedColumns(),l=i.rowIndex,c=i.rowPinned,p=this.columnModel.getDisplayedColBefore(i.column);if(!p){p=xt(s);var v=this.getRowAbove({rowIndex:i.rowIndex,rowPinned:i.rowPinned});if(O(v)||!v.rowPinned&&!this.paginationProxy.isRowInPage(v))return null;l=v?v.rowIndex:null,c=v?v.rowPinned:null}return{rowIndex:l,column:p,rowPinned:c}},Md([le("columnModel")],o.prototype,"columnModel",void 0),Md([le("rowModel")],o.prototype,"rowModel",void 0),Md([le("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Md([le("paginationProxy")],o.prototype,"paginationProxy",void 0),Md([at("cellNavigationService")],o)}(dt),gO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ll=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},jC=function(u,o){return function(i,s){o(i,s,u)}},Lp=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.consuming=!1,i}return gO(o,u),o.prototype.setBeans=function(i){this.logger=i.create("AlignedGridsService")},o.prototype.init=function(){this.addManagedListener(this.eventService,xe.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},o.prototype.fireEvent=function(i){if(!this.consuming){var s=this.gridOptionsWrapper.getAlignedGrids();s&&s.forEach(function(l){if(l.api){var c=l.api.__getAlignedGridService();i(c)}})}},o.prototype.onEvent=function(i){this.consuming=!0,i(),this.consuming=!1},o.prototype.fireColumnEvent=function(i){this.fireEvent(function(s){s.onColumnEvent(i)})},o.prototype.fireScrollEvent=function(i){"horizontal"===i.direction&&this.fireEvent(function(s){s.onScrollEvent(i)})},o.prototype.onScrollEvent=function(i){var s=this;this.onEvent(function(){s.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(i.left)})},o.prototype.getMasterColumns=function(i){var s=[];return i.columns?i.columns.forEach(function(l){s.push(l)}):i.column&&s.push(i.column),s},o.prototype.getColumnIds=function(i){var s=[];return i.columns?i.columns.forEach(function(l){s.push(l.getColId())}):i.column&&s.push(i.column.getColId()),s},o.prototype.onColumnEvent=function(i){var s=this;this.onEvent(function(){switch(i.type){case xe.EVENT_COLUMN_MOVED:case xe.EVENT_COLUMN_VISIBLE:case xe.EVENT_COLUMN_PINNED:case xe.EVENT_COLUMN_RESIZED:s.processColumnEvent(i);break;case xe.EVENT_COLUMN_GROUP_OPENED:s.processGroupOpenedEvent(i);break;case xe.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},o.prototype.processGroupOpenedEvent=function(i){var s=i.columnGroup,l=null;if(s){var c=s.getGroupId();l=this.columnModel.getProvidedColumnGroup(c)}s&&!l||(this.logger.log("onColumnEvent-> processing "+i+" expanded = "+s.isExpanded()),this.columnModel.setColumnGroupOpened(l,s.isExpanded(),"alignedGridChanged"))},o.prototype.processColumnEvent=function(i){var s=this,l=i.column,c=null;if(l&&(c=this.columnModel.getPrimaryColumn(l.getColId())),!l||c){var p=this.getMasterColumns(i);switch(i.type){case xe.EVENT_COLUMN_MOVED:var v=i,L=i.columnApi.getColumnState().map(function(Ge){return{colId:Ge.colId}});this.columnModel.applyColumnState({state:L,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" toIndex = "+v.toIndex);break;case xe.EVENT_COLUMN_VISIBLE:var Y=i;L=i.columnApi.getColumnState().map(function(He){return{colId:He.colId,hide:He.hide}}),this.columnModel.applyColumnState({state:L},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" visible = "+Y.visible);break;case xe.EVENT_COLUMN_PINNED:var re=i;L=i.columnApi.getColumnState().map(function(He){return{colId:He.colId,pinned:He.pinned}}),this.columnModel.applyColumnState({state:L},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+i.type+" pinned = "+re.pinned);break;case xe.EVENT_COLUMN_RESIZED:var de=i;p.forEach(function(Ge){s.logger.log("onColumnEvent-> processing "+i.type+" actualWidth = "+Ge.getActualWidth());var Ze=[{key:Ge.getColId(),newWidth:Ge.getActualWidth()}];s.columnModel.setColumnWidths(Ze,!1,de.finished,"alignedGridChanged")})}var Ce=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),Re=this.gridOptionsWrapper.getAlignedGrids();Re&&Re.forEach(function(Ge){Ge.api&&Ge.api.setAlwaysShowVerticalScroll(Ce)})}},Ll([le("columnModel")],o.prototype,"columnModel",void 0),Ll([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Ll([jC(0,Jn("loggerFactory"))],o.prototype,"setBeans",null),Ll([Xe],o.prototype,"init",null),Ll([at("alignedGridsService")],o)}(dt),Nd=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Qc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Fm=function(u,o){return function(i,s){o(i,s,u)}},Lm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Nd(o,u),o.prototype.setBeans=function(i){this.logger=i.create("selectionService"),this.reset()},o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,xe.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},o.prototype.setLastSelectedNode=function(i){this.lastSelectedNode=i},o.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},o.prototype.getSelectedNodes=function(){var i=[];return E(this.selectedNodes,function(s,l){l&&i.push(l)}),i},o.prototype.getSelectedRows=function(){var i=[];return E(this.selectedNodes,function(s,l){l&&l.data&&i.push(l.data)}),i},o.prototype.removeGroupsFromSelection=function(){var i=this;E(this.selectedNodes,function(s,l){l&&l.group&&(i.selectedNodes[l.id]=void 0)})},o.prototype.updateGroupsFromChildrenSelections=function(i){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE){var l=this.rowModel.getRootNode();i||(i=new ls(!0,l)).setInactive(),i.forEachChangedNodeDepthFirst(function(c){c!==l&&c.calculateSelectedFromChildren()})}},o.prototype.getNodeForIdIfSelected=function(i){return this.selectedNodes[i]},o.prototype.clearOtherNodes=function(i){var s=this,l={},c=0;return E(this.selectedNodes,function(p,v){v&&v.id!==i.id&&(c+=s.selectedNodes[v.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),s.groupSelectsChildren&&v.parent&&(l[v.parent.id]=v.parent))}),E(l,function(p,v){v.calculateSelectedFromChildren()}),c},o.prototype.onRowSelected=function(i){var s=i.node;this.groupSelectsChildren&&s.group||(this.selectedNodes[s.id]=s.isSelected()?s:void 0)},o.prototype.syncInRowNode=function(i,s){this.syncInOldRowNode(i,s),this.syncInNewRowNode(i)},o.prototype.syncInOldRowNode=function(i,s){I(s)&&i.id!==s.id&&s&&this.selectedNodes[s.id]==i&&(this.selectedNodes[s.id]=s)},o.prototype.syncInNewRowNode=function(i){I(this.selectedNodes[i.id])?(i.setSelectedInitialValue(!0),this.selectedNodes[i.id]=i):i.setSelectedInitialValue(!1)},o.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},o.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE){var s=this.rowModel.getTopLevelNodes();if(null!==s){var l=[];return function c(p){for(var v=0,M=p.length;v<M;v++){var L=p[v];L.isSelected()?l.push(L):L.group&&L.children&&c(L.children)}}(s),l}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},o.prototype.setRowModel=function(i){this.rowModel=i},o.prototype.isEmpty=function(){var i=0;return E(this.selectedNodes,function(s,l){l&&i++}),0===i},o.prototype.deselectAllRowNodes=function(i){void 0===i&&(i=!1);var s=function(v){return v.selectThisNode(!1)},l=this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE;if(i){if(!l)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(s)}else E(this.selectedNodes,function(v,M){M&&s(M)}),this.reset();l&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectAllRowNodes=function(i){if(void 0===i&&(i=!1),this.rowModel.getType()!==Ie.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var s=this.rowModel,l=function(p){return p.selectThisNode(!0)};i?s.forEachNodeAfterFilter(l):s.forEachNode(l),this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectNode=function(i,s){i&&i.setSelectedParams({newValue:!0,clearSelection:!s})},o.prototype.deselectIndex=function(i){var s=this.rowModel.getRow(i);this.deselectNode(s)},o.prototype.deselectNode=function(i){i&&i.setSelectedParams({newValue:!1,clearSelection:!1})},o.prototype.selectIndex=function(i,s){var l=this.rowModel.getRow(i);this.selectNode(l,s)},Qc([le("rowModel")],o.prototype,"rowModel",void 0),Qc([le("columnApi")],o.prototype,"columnApi",void 0),Qc([le("gridApi")],o.prototype,"gridApi",void 0),Qc([Fm(0,Jn("loggerFactory"))],o.prototype,"setBeans",null),Qc([Xe],o.prototype,"init",null),Qc([at("selectionService")],o)}(dt),Gp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Gm=function(){function u(){}return u.prototype.sizeColumnsToFit=function(o){void 0===o&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(o,"api")},u.prototype.setColumnGroupOpened=function(o,i){this.columnModel.setColumnGroupOpened(o,i,"api")},u.prototype.getColumnGroup=function(o,i){return this.columnModel.getColumnGroup(o,i)},u.prototype.getProvidedColumnGroup=function(o){return this.columnModel.getProvidedColumnGroup(o)},u.prototype.getDisplayNameForColumn=function(o,i){return this.columnModel.getDisplayNameForColumn(o,i)||""},u.prototype.getDisplayNameForColumnGroup=function(o,i){return this.columnModel.getDisplayNameForColumnGroup(o,i)||""},u.prototype.getColumn=function(o){return this.columnModel.getPrimaryColumn(o)},u.prototype.applyColumnState=function(o){return this.columnModel.applyColumnState(o,"api")},u.prototype.getColumnState=function(){return this.columnModel.getColumnState()},u.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},u.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},u.prototype.setColumnGroupState=function(o){this.columnModel.setColumnGroupState(o,"api")},u.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},u.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},u.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},u.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},u.prototype.getDisplayedColAfter=function(o){return this.columnModel.getDisplayedColAfter(o)},u.prototype.getDisplayedColBefore=function(o){return this.columnModel.getDisplayedColBefore(o)},u.prototype.setColumnVisible=function(o,i){this.columnModel.setColumnVisible(o,i,"api")},u.prototype.setColumnsVisible=function(o,i){this.columnModel.setColumnsVisible(o,i,"api")},u.prototype.setColumnPinned=function(o,i){this.columnModel.setColumnPinned(o,i,"api")},u.prototype.setColumnsPinned=function(o,i){this.columnModel.setColumnsPinned(o,i,"api")},u.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},u.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},u.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},u.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},u.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},u.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},u.prototype.moveColumn=function(o,i){"number"==typeof o?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(o,i,"api")):this.columnModel.moveColumn(o,i,"api")},u.prototype.moveColumnByIndex=function(o,i){this.columnModel.moveColumnByIndex(o,i,"api")},u.prototype.moveColumns=function(o,i){this.columnModel.moveColumns(o,i,"api")},u.prototype.moveRowGroupColumn=function(o,i){this.columnModel.moveRowGroupColumn(o,i)},u.prototype.setColumnAggFunc=function(o,i){this.columnModel.setColumnAggFunc(o,i)},u.prototype.setColumnWidth=function(o,i,s,l){void 0===s&&(s=!0),this.columnModel.setColumnWidths([{key:o,newWidth:i}],!1,s,l)},u.prototype.setColumnWidths=function(o,i,s){void 0===i&&(i=!0),this.columnModel.setColumnWidths(o,!1,i,s)},u.prototype.setPivotMode=function(o){this.columnModel.setPivotMode(o)},u.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},u.prototype.getSecondaryPivotColumn=function(o,i){return this.columnModel.getSecondaryPivotColumn(o,i)},u.prototype.setValueColumns=function(o){this.columnModel.setValueColumns(o,"api")},u.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},u.prototype.removeValueColumn=function(o){this.columnModel.removeValueColumn(o,"api")},u.prototype.removeValueColumns=function(o){this.columnModel.removeValueColumns(o,"api")},u.prototype.addValueColumn=function(o){this.columnModel.addValueColumn(o,"api")},u.prototype.addValueColumns=function(o){this.columnModel.addValueColumns(o,"api")},u.prototype.setRowGroupColumns=function(o){this.columnModel.setRowGroupColumns(o,"api")},u.prototype.removeRowGroupColumn=function(o){this.columnModel.removeRowGroupColumn(o,"api")},u.prototype.removeRowGroupColumns=function(o){this.columnModel.removeRowGroupColumns(o,"api")},u.prototype.addRowGroupColumn=function(o){this.columnModel.addRowGroupColumn(o,"api")},u.prototype.addRowGroupColumns=function(o){this.columnModel.addRowGroupColumns(o,"api")},u.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},u.prototype.setPivotColumns=function(o){this.columnModel.setPivotColumns(o,"api")},u.prototype.removePivotColumn=function(o){this.columnModel.removePivotColumn(o,"api")},u.prototype.removePivotColumns=function(o){this.columnModel.removePivotColumns(o,"api")},u.prototype.addPivotColumn=function(o){this.columnModel.addPivotColumn(o,"api")},u.prototype.addPivotColumns=function(o){this.columnModel.addPivotColumns(o,"api")},u.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},u.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},u.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},u.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},u.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},u.prototype.autoSizeColumn=function(o,i){return this.columnModel.autoSizeColumn(o,i,"api")},u.prototype.autoSizeColumns=function(o,i){this.columnModel.autoSizeColumns({columns:o,skipHeader:i})},u.prototype.autoSizeAllColumns=function(o){this.columnModel.autoSizeAllColumns(o,"api")},u.prototype.setSecondaryColumns=function(o){this.columnModel.setSecondaryColumns(o,"api")},u.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},u.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ht.removeAllReferences.bind(window,this,"Column API"),100)},u.prototype.columnGroupOpened=function(o,i){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(o,i)},u.prototype.hideColumns=function(o,i){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(o,!i,"api")},u.prototype.hideColumn=function(o,i){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(o,!i,"api")},u.prototype.setState=function(o){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(o)},u.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},u.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},u.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},u.prototype.removeAggregationColumn=function(o){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(o,"api")},u.prototype.removeAggregationColumns=function(o){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(o,"api")},u.prototype.addAggregationColumn=function(o){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(o,"api")},u.prototype.addAggregationColumns=function(o){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(o,"api")},u.prototype.setColumnAggFunction=function(o,i){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(o,i,"api")},u.prototype.getDisplayNameForCol=function(o){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(o,null)},u.prototype.setColumnState=function(o){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:o,applyOrder:!0},"api")},u.prototype.getOriginalColumnGroup=function(o){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(o)},Gp([le("columnModel")],u.prototype,"columnModel",void 0),Gp([Yt],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Gp([at("columnApi")],u)}(),CT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},$C=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.initialised=!1,i}return CT(o,u),o.prototype.init=function(){var i=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(xe.EVENT_CELL_VALUE_CHANGED,function(s){return i.callColumnCellValueChangedHandler(s)},this.gridOptionsWrapper.useAsyncEvents())},o.prototype.getValue=function(i,s,l,c){if(void 0===l&&(l=!1),void 0===c&&(c=!1),this.initialised||this.init(),s){var Y,p=i.getColDef(),v=p.field,M=i.getId(),L=s.data,re=s.groupData&&void 0!==s.groupData[M],de=!c&&s.aggData&&void 0!==s.aggData[M];if(l&&p.filterValueGetter?Y=this.executeFilterValueGetter(p.filterValueGetter,L,i,s):this.gridOptionsWrapper.isTreeData()&&de?Y=s.aggData[M]:this.gridOptionsWrapper.isTreeData()&&p.valueGetter?Y=this.executeValueGetter(p.valueGetter,L,i,s):this.gridOptionsWrapper.isTreeData()&&v&&L?Y=we(L,v,i.isFieldContainsDots()):re?Y=s.groupData[M]:de?Y=s.aggData[M]:p.valueGetter?Y=this.executeValueGetter(p.valueGetter,L,i,s):v&&L&&(Y=we(L,v,i.isFieldContainsDots())),this.cellExpressions&&"string"==typeof Y&&0===Y.indexOf("=")){var be=Y.substring(1);Y=this.executeValueGetter(be,L,i,s)}if(null==Y){var Ce=this.getOpenedGroup(s,i);if(null!=Ce)return Ce}return Y}},o.prototype.getOpenedGroup=function(i,s){if(this.gridOptionsWrapper.isShowOpenedGroup()&&s.getColDef().showRowGroup)for(var c=s.getColDef().showRowGroup,p=i.parent;null!=p;){if(p.rowGroupColumn&&(!0===c||c===p.rowGroupColumn.getId()))return p.key;p=p.parent}},o.prototype.setValue=function(i,s,l,c){var p=this.columnModel.getPrimaryColumn(s);if(!i||!p)return!1;O(i.data)&&(i.data={});var v=p.getColDef(),M=v.field,L=v.newValueHandler,Y=v.valueSetter;if(O(M)&&O(L)&&O(Y))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var de,re={node:i,data:i.data,oldValue:this.getValue(p,i),newValue:l,colDef:p.getColDef(),column:p,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return re.newValue=l,void 0===(de=L&&I(L)?L(re):I(Y)?this.expressionService.evaluate(Y,re):this.setValueUsingField(i.data,M,l,p.isFieldContainsDots()))&&(de=!0),!!de&&(i.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),re.newValue=this.getValue(p,i),this.eventService.dispatchEvent({type:xe.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:re.column,api:re.api,columnApi:re.columnApi,colDef:re.colDef,context:re.context,data:i.data,node:i,oldValue:re.oldValue,newValue:re.newValue,value:re.newValue,source:c}),!0)},o.prototype.callColumnCellValueChangedHandler=function(i){var s=i.colDef.onCellValueChanged;"function"==typeof s&&s({node:i.node,data:i.data,oldValue:i.oldValue,newValue:i.newValue,colDef:i.colDef,column:i.column,api:i.api,columnApi:i.columnApi,context:i.context})},o.prototype.setValueUsingField=function(i,s,l,c){if(!s)return!1;if(c)for(var v=s.split("."),M=i;v.length>0&&M;){var L=v.shift();0===v.length?M[L]=l:M=M[L]}else i[s]=l;return!0},o.prototype.executeFilterValueGetter=function(i,s,l,c){var p={data:s,node:c,column:l,colDef:l.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)};return this.expressionService.evaluate(i,p)},o.prototype.executeValueGetter=function(i,s,l,c){var p=l.getId(),v=this.valueCache.getValue(c,p);if(void 0!==v)return v;var M={data:s,node:c,column:l,colDef:l.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)},L=this.expressionService.evaluate(i,M);return this.valueCache.setValue(c,p,L),L},o.prototype.getValueCallback=function(i,s){var l=this.columnModel.getPrimaryColumn(s);return l?this.getValue(l,i):null},o.prototype.getKeyForNode=function(i,s){var l=this.getValue(i,s),c=i.getColDef().keyCreator,p=l;return c&&(p=c({value:l,colDef:i.getColDef(),column:i,node:s,data:s.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof p||null==p||"[object Object]"===(p=String(p))&&We(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),p},Gl([le("expressionService")],o.prototype,"expressionService",void 0),Gl([le("columnModel")],o.prototype,"columnModel",void 0),Gl([le("valueCache")],o.prototype,"valueCache",void 0),Gl([Xe],o.prototype,"init",null),Gl([at("valueService")],o)}(dt),bT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Bm=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Zc=function(u,o){return function(i,s){o(i,s,u)}},Vm=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.expressionToFunctionCache={},i}return bT(o,u),o.prototype.setBeans=function(i){this.logger=i.create("ExpressionService")},o.prototype.evaluate=function(i,s){return"function"==typeof i?i(s):"string"==typeof i?this.evaluateExpression(i,s):void console.error("AG Grid: value should be either a string or a function",i)},o.prototype.evaluateExpression=function(i,s){try{return this.createExpressionFunction(i)(s.value,s.context,s.oldValue,s.newValue,s.value,s.node,s.data,s.colDef,s.rowIndex,s.api,s.columnApi,s.getValue,s.column,s.columnGroup)}catch(p){return console.log("Processing of the expression failed"),console.log("Expression = "+i),console.log("Params =",s),console.log("Exception = "+p),null}},o.prototype.createExpressionFunction=function(i){if(this.expressionToFunctionCache[i])return this.expressionToFunctionCache[i];var s=this.createFunctionBody(i),l=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",s);return this.expressionToFunctionCache[i]=l,l},o.prototype.createFunctionBody=function(i){return i.indexOf("return")>=0?i:"return "+i+";"},Bm([Zc(0,Jn("loggerFactory"))],o.prototype,"setBeans",null),Bm([at("expressionService")],o)}(dt),wT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Bl=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.templateCache={},i.waitingCallbacks={},i}return wT(o,u),o.prototype.getTemplate=function(i,s){var l=this.templateCache[i];if(l)return l;var c=this.waitingCallbacks[i],p=this;if(!c){this.waitingCallbacks[i]=c=[];var v=new XMLHttpRequest;v.onload=function(){p.handleHttpResult(this,i)},v.open("GET",i),v.send()}return s&&c.push(s),null},o.prototype.handleHttpResult=function(i,s){if(200===i.status&&null!==i.response){this.templateCache[s]=i.response||i.responseText;for(var l=this.waitingCallbacks[s],c=0;c<l.length;c++)(0,l[c])()}else console.warn("AG Grid: Unable to get template error "+i.status+" - "+s)},o=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at("templateService")],o),o}(dt),ST=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),WC=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},TT=function(u,o){return function(i,s){o(i,s,u)}},UC=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ST(o,u),o.prototype.setBeans=function(i){this.logging=i.isDebug()},o.prototype.create=function(i){return new gi(i,this.isLogging.bind(this))},o.prototype.isLogging=function(){return this.logging},WC([TT(0,Jn("gridOptionsWrapper"))],o.prototype,"setBeans",null),WC([at("loggerFactory")],o)}(dt),gi=function(){function u(o,i){this.name=o,this.isLoggingFunc=i}return u.prototype.isLogging=function(){return this.isLoggingFunc()},u.prototype.log=function(o){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+o)},u}(),Hm=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Na=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},jm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Hm(o,u),o.prototype.setComp=function(i,s,l){var c=this;this.view=i,this.eGridHostDiv=s,this.eGui=l,this.mouseEventService.stampTopLevelGridCompWithGridInstance(s),this.createManagedBean(new Fy(this.view)),this.addRtlSupport(),this.addManagedListener(this,xe.EVENT_KEYBOARD_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,xe.EVENT_MOUSE_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!1)});var p=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return p()}),this.ctrlsService.registerGridCtrl(this)},o.prototype.isDetailGrid=function(){var i,s;return(null===(s=null===(i=this.focusService.findTabbableParent(this.getGui()))||void 0===i?void 0:i.getAttribute("row-id"))||void 0===s?void 0:s.startsWith("detail"))||!1},o.prototype.showDropZones=function(){return Le.isRegistered(j.GXE.RowGroupingModule)},o.prototype.showSideBar=function(){return Le.isRegistered(j.GXE.SideBarModule)},o.prototype.showStatusBar=function(){return Le.isRegistered(j.GXE.StatusBarModule)},o.prototype.showWatermark=function(){return Le.isRegistered(j.GXE.EnterpriseCoreModule)},o.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:xe.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},o.prototype.addRtlSupport=function(){var i=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(i)},o.prototype.destroyGridUi=function(){this.view.destroyGridUi()},o.prototype.getGui=function(){return this.eGui},o.prototype.setResizeCursor=function(i){this.view.setCursor(i?"ew-resize":null)},o.prototype.disableUserSelect=function(i){this.view.setUserSelect(i?"none":null)},o.prototype.focusNextInnerContainer=function(i){var s=this.gridOptionsWrapper.getDocument(),l=this.view.getFocusableContainers(),p=l.findIndex(function(v){return v.contains(s.activeElement)})+(i?-1:1);return!(p<=0||p>=l.length)&&this.focusService.focusInto(l[p])},o.prototype.focusInnerElement=function(i){var s=this.view.getFocusableContainers();if(i){if(s.length>1)return this.focusService.focusInto(xt(s),!0);var l=xt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(l,!0))return!0}return this.focusService.focusFirstHeader()},o.prototype.forceFocusOutOfContainer=function(i){void 0===i&&(i=!1),this.view.forceFocusOutOfContainer(i)},Na([le("columnApi")],o.prototype,"columnApi",void 0),Na([le("gridApi")],o.prototype,"gridApi",void 0),Na([le("focusService")],o.prototype,"focusService",void 0),Na([le("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Na([le("columnModel")],o.prototype,"columnModel",void 0),Na([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Na([le("mouseEventService")],o.prototype,"mouseEventService",void 0),o}(dt),zC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Jc=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},YC=function(u){function o(i){var s=u.call(this,void 0)||this;return s.eGridDiv=i,s}return zC(o,u),o.prototype.postConstruct=function(){var i=this;this.logger=this.loggerFactory.create("GridComp");var s={destroyGridUi:function(){return i.destroyBean(i)},setRtlClass:function(c){return i.addCssClass(c)},addOrRemoveKeyboardFocusClass:function(c){return i.addOrRemoveCssClass(Fl.AG_KEYBOARD_FOCUS,c)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(c){i.getGui().style.userSelect=null!=c?c:"",i.getGui().style.webkitUserSelect=null!=c?c:""},setCursor:function(c){i.getGui().style.cursor=null!=c?c:""}};this.ctrl=this.createManagedBean(new jm);var l=this.createTemplate();this.setTemplate(l),this.ctrl.setComp(s,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(c){return i.ctrl.focusInnerElement(c)}})},o.prototype.insertGridIntoDom=function(){var i=this,s=this.getGui();this.eGridDiv.appendChild(s),this.addDestroyFunc(function(){i.eGridDiv.removeChild(s),i.logger.log("Grid removed from DOM")})},o.prototype.updateLayoutClasses=function(i,s){var l=this.eRootWrapperBody.classList;l.toggle(j.LBn.AUTO_HEIGHT,s.autoHeight),l.toggle(j.LBn.NORMAL,s.normal),l.toggle(j.LBn.PRINT,s.print),this.addOrRemoveCssClass(j.LBn.AUTO_HEIGHT,s.autoHeight),this.addOrRemoveCssClass(j.LBn.NORMAL,s.normal),this.addOrRemoveCssClass(j.LBn.PRINT,s.print)},o.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},o.prototype.getFocusableElement=function(){return this.eRootWrapperBody},o.prototype.getFocusableContainers=function(){var i=[this.gridBodyComp.getGui()];return this.sideBarComp&&i.push(this.sideBarComp.getGui()),i.filter(function(s){return bo(s)})},Jc([le("loggerFactory")],o.prototype,"loggerFactory",void 0),Jc([st("gridBody")],o.prototype,"gridBodyComp",void 0),Jc([st("sideBar")],o.prototype,"sideBarComp",void 0),Jc([st("rootWrapperBody")],o.prototype,"eRootWrapperBody",void 0),Jc([Xe],o.prototype,"postConstruct",null),o}(kd),ET=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Bp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},KC=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var i;return ET(o,u),i=o,o.prototype.progressSort=function(s,l,c){var p=this.getNextSortDirection(s);this.setSortForColumn(s,p,l,c)},o.prototype.setSortForColumn=function(s,l,c,p){l!==Ie.SORT_ASC&&l!==Ie.SORT_DESC&&(l=null),s.setSort(l,p),(c||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(s,p),this.updateSortIndex(s),this.dispatchSortChangedEvents(p)},o.prototype.updateSortIndex=function(s){var l=this.getColumnsWithSortingOrdered(),c=0;l.forEach(function(v){v!==s&&(v.setSortIndex(c),c++)}),s.getSort()&&s.setSortIndex(c),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(v){return null==v.getSort()}).forEach(function(v){return v.setSortIndex()})},o.prototype.onSortChanged=function(s){this.dispatchSortChangedEvents(s)},o.prototype.isSortActive=function(){var l=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});return l&&l.length>0},o.prototype.dispatchSortChangedEvents=function(s){this.eventService.dispatchEvent({type:xe.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:s})},o.prototype.clearSortBarThisColumn=function(s,l){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){c!==s&&c.setSort(void 0,l)})},o.prototype.getNextSortDirection=function(s){var l;if(l=s.getColDef().sortingOrder?s.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():i.DEFAULT_SORTING_ORDER,!Array.isArray(l)||l.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+l),null;var M,c=l.indexOf(s.getSort());return i.DEFAULT_SORTING_ORDER.indexOf(M=c<0||c==l.length-1?l[0]:l[c+1])<0?(console.warn("AG Grid: invalid sort type "+M),null):M},o.prototype.getColumnsWithSortingOrdered=function(){var s=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),l=s.filter(function(p){return!!p.getSort()}),c={};return s.forEach(function(p,v){return c[p.getId()]=v}),l.sort(function(p,v){var M=p.getSortIndex(),L=v.getSortIndex();return null!=M&&null!=L?M-L:null==M&&null==L?c[p.getId()]>c[v.getId()]?1:-1:null==L?-1:1}),l},o.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),colId:s.getId()}})},o.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),column:s}})},o.DEFAULT_SORTING_ORDER=[Ie.SORT_ASC,Ie.SORT_DESC,null],Bp([le("columnModel")],o.prototype,"columnModel",void 0),Bp([le("columnApi")],o.prototype,"columnApi",void 0),Bp([le("gridApi")],o.prototype,"gridApi",void 0),i=Bp([at("sortController")],o)}(dt),qC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),XC=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},QC=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return qC(o,u),o.prototype.setMouseOver=function(i){this.selectedColumns=i,this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:xe.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.isHovered=function(i){return!!this.selectedColumns&&this.selectedColumns.indexOf(i)>=0},XC([le("columnApi")],o.prototype,"columnApi",void 0),XC([le("gridApi")],o.prototype,"gridApi",void 0),XC([at("columnHoverService")],o)}(dt),DT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),$m=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},mO=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.executeNextFuncs=[],i.executeLaterFuncs=[],i.active=!1,i.animationThreadCount=0,i}return DT(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){return i.gridBodyCtrl=s.gridBodyCtrl})},o.prototype.isActive=function(){return this.active},o.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},o.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},o.prototype.executeNextVMTurn=function(i){this.active?this.executeNextFuncs.push(i):i()},o.prototype.executeLaterVMTurn=function(i){this.active?this.executeLaterFuncs.push(i):i()},o.prototype.ensureAnimationCssClassPresent=function(){var i=this;this.animationThreadCount++;var s=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){i.animationThreadCount===s&&i.gridBodyCtrl.setColumnMovingCss(!1)})},o.prototype.flush=function(){var i=this.executeNextFuncs;this.executeNextFuncs=[];var s=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==i.length||0!==s.length)&&(window.setTimeout(function(){return i.forEach(function(l){return l()})},0),window.setTimeout(function(){return s.forEach(function(l){return l()})},300))},$m([le("ctrlsService")],o.prototype,"ctrlsService",void 0),$m([Xe],o.prototype,"postConstruct",null),$m([at("columnAnimationService")],o)}(dt),_O=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Fd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},AT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var i;return _O(o,u),i=o,o.prototype.createAutoGroupColumns=function(s,l){var c=this,p=[],v=this.gridOptionsWrapper.isTreeData(),M=this.gridOptionsWrapper.isGroupMultiAutoColumn();return v&&M&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),M=!1),M?l.forEach(function(L,Y){p.push(c.createOneAutoGroupColumn(s,L,Y))}):p.push(this.createOneAutoGroupColumn(s)),p},o.prototype.createOneAutoGroupColumn=function(s,l,c){var v,p=this.generateDefaultColDef(l);v=l?Ie.GROUP_AUTO_COLUMN_ID+"-"+l.getId():i.GROUP_AUTO_COLUMN_BUNDLE_ID,Q(p,this.gridOptionsWrapper.getAutoGroupColumnDef()),(p=this.columnFactory.mergeColDefs(p)).colId=v,this.gridOptionsWrapper.isTreeData()||O(p.field)&&O(p.valueGetter)&&O(p.filterValueGetter)&&(p.filter=!1),c&&c>0&&(p.headerCheckboxSelection=!1);var Y=s.find(function(de){return de.getId()==v});if(Y)return Y.setColDef(p,null),this.columnFactory.applyColumnState(Y,p),Y;var re=new ot(p,null,v,!0);return this.context.createBean(re),re},o.prototype.generateDefaultColDef=function(s){var l=this.gridOptionsWrapper.getAutoGroupColumnDef(),p={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(l&&(l.cellRenderer||l.cellRendererFramework||l.cellRendererSelector)||(p.cellRenderer="agGroupCellRenderer"),s){var M=s.getColDef();Object.assign(p,{headerName:this.columnModel.getDisplayNameForColumn(s,"header"),headerValueGetter:M.headerValueGetter}),(M.cellRenderer||M.cellRendererFramework)&&Object.assign(p,{cellRendererParams:{innerRenderer:M.cellRenderer,innerRendererFramework:M.cellRendererFramework,innerRendererParams:M.cellRendererParams}}),p.showRowGroup=s.getColId()}else p.showRowGroup=!0;return p},o.GROUP_AUTO_COLUMN_BUNDLE_ID=Ie.GROUP_AUTO_COLUMN_ID,Fd([le("columnModel")],o.prototype,"columnModel",void 0),Fd([le("columnFactory")],o.prototype,"columnFactory",void 0),i=Fd([at("autoGroupColService")],o)}(dt),ZC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},vO=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ZC(o,u),o.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(s){i.centerRowContainerCon=s.centerRowContainerCtrl,i.addManagedListener(i.eventService,xe.EVENT_BODY_HEIGHT_CHANGED,i.onBodyHeightChanged.bind(i)),i.addManagedListener(i.eventService,xe.EVENT_SCROLL_VISIBILITY_CHANGED,i.onScrollVisibilityChanged.bind(i)),i.checkPageSize()})},o.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},o.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},o.prototype.onBodyHeightChanged=function(){this.checkPageSize()},o.prototype.checkPageSize=function(){if(!this.notActive()){var i=this.gridOptionsWrapper.getRowHeightAsNumber(),s=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(s>0){var l=Math.floor(s/i);this.gridOptionsWrapper.setProperty("paginationPageSize",l)}}},Vp([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Vp([Xe],o.prototype,"postConstruct",null),Vp([at("paginationAutoPageSizeService")],o)}(dt),us=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),RT=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},OT=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.cacheVersion=0,i}return us(o,u),o.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},o.prototype.onDataChanged=function(){this.neverExpires||this.expire()},o.prototype.expire=function(){this.cacheVersion++},o.prototype.setValue=function(i,s,l){this.active&&(i.__cacheVersion!==this.cacheVersion&&(i.__cacheVersion=this.cacheVersion,i.__cacheData={}),i.__cacheData[s]=l)},o.prototype.getValue=function(i,s){if(this.active&&i.__cacheVersion===this.cacheVersion)return i.__cacheData[s]},RT([Xe],o.prototype,"init",null),RT([at("valueCache")],o)}(dt),JC=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ld=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},e0=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return JC(o,u),o.prototype.init=function(){this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,xe.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},o.prototype.onCellValueChanged=function(i){i.source!==Ie.SOURCE_PASTE&&this.doChangeDetection(i.node,i.column)},o.prototype.doChangeDetection=function(i,s){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!i.isRowPinned()){var l=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),c=new ls(l,this.clientSideRowModel.getRootNode());c.addParentNode(i.parent,[s]),this.clientSideRowModel.doAggregate(c)}this.rowRenderer.refreshCells()}},Ld([le("rowModel")],o.prototype,"rowModel",void 0),Ld([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Ld([Xe],o.prototype,"init",null),Ld([at("changeDetectionService")],o)}(dt),kT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),PT=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},t0=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return kT(o,u),o.prototype.adaptFunction=function(i,s){var l=this.componentMetadataProvider.retrieve(i);return l&&l.functionAdapter?l.functionAdapter(s):null},o.prototype.adaptCellRendererFunction=function(i){return function(){function l(){}return l.prototype.refresh=function(c){return!1},l.prototype.getGui=function(){return this.eGui},l.prototype.init=function(c){var p=i(c),v=typeof p;this.eGui="string"!==v&&"number"!==v&&"boolean"!==v?null!=p?p:Si("<span></span>"):Si("<span>"+p+"</span>")},l}()},o.prototype.doesImplementIComponent=function(i){return!!i&&i.prototype&&"getGui"in i.prototype},PT([le("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),PT([at("agComponentUtils")],o)}(dt),Bn=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wm=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Um=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Bn(o,u),o.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},o.prototype.retrieve=function(i){return this.componentMetaData[i]},Wm([le("agComponentUtils")],o.prototype,"agComponentUtils",void 0),Wm([Xe],o.prototype,"postConstruct",null),Wm([at("componentMetadataProvider")],o)}(dt),IT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),n0=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Hp={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Vl={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Gd={},eu=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return IT(o,u),o.prototype.getSassVariable=function(i,s){var l="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),c=Hp[l][s],p=0;Gd[i]||(Gd[i]={});var v=Gd[i][s];if(null!=v)return v;if(Vl[s]){var M=Vl[s],L=document.createElement("div");L.classList.add(i),L.style.position="absolute";var Y=M.reduce(function(de,be){var Ce=document.createElement("div");return Ce.style.position="static",Ce.classList.add(be),de.appendChild(Ce),Ce},L);if(document.body){document.body.appendChild(L);var re=-1!==s.toLowerCase().indexOf("height")?"height":"width";p=parseInt(window.getComputedStyle(Y)[re],10),document.body.removeChild(L)}}return Gd[i][s]=p||c,Gd[i][s]},o.prototype.isThemeDark=function(){var i=this.getTheme().theme;return!!i&&i.indexOf("dark")>=0},o.prototype.chartMenuPanelWidth=function(){var i=this.getTheme().themeFamily;return this.getSassVariable(i,"chartMenuPanelWidth")},o.prototype.getTheme=function(){for(var i=/\bag-(material|(?:theme-([\w\-]*)))\b/,s=this.eGridDiv,l=null;s&&!(l=i.exec(s.className));)s=s.parentElement||void 0;if(!l)return{};var c=l[0];if(void 0===l[2]){var v=c.replace("ag-","ag-theme-");We(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+c+" with "+v+".")},"using-old-theme")}return{theme:c,el:s,themeFamily:c.replace(/-dark$/,"")}},n0([le("eGridDiv")],o.prototype,"eGridDiv",void 0),n0([at("environment")],o)}(dt),NT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},qm=function(u,o){return function(i,s){o(i,s,u)}},Is=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.scrollY=0,i.uiBodyHeight=0,i}return NT(o,u),o.prototype.agWire=function(i){this.logger=i.create("RowContainerHeightService")},o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,xe.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=$v(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},o.prototype.isStretching=function(){return this.stretching},o.prototype.getDivStretchOffset=function(){return this.divStretchOffset},o.prototype.updateOffset=function(){if(this.stretching){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,l=this.getUiBodyHeight();(s!==this.scrollY||l!==this.uiBodyHeight)&&(this.scrollY=s,this.uiBodyHeight=l,this.calculateOffset())}},o.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var i=this.scrollY/this.maxScrollY,s=i*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+s+" ("+this.pixelsToShave+" * "+i+")"),this.setDivStretchOffset(s)},o.prototype.setUiContainerHeight=function(i){i!==this.uiContainerHeight&&(this.uiContainerHeight=i,this.eventService.dispatchEvent({type:xe.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},o.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},o.prototype.setDivStretchOffset=function(i){var s="number"==typeof i?Math.floor(i):null;this.divStretchOffset!==s&&(this.divStretchOffset=s,this.eventService.dispatchEvent({type:xe.EVENT_HEIGHT_SCALE_CHANGED}))},o.prototype.setModelHeight=function(i){this.modelHeight=i,this.stretching=null!=i&&this.maxDivHeight>0&&i>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},o.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},o.prototype.getRealPixelPosition=function(i){return i-this.divStretchOffset},o.prototype.getUiBodyHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return s.bottom-s.top},o.prototype.getScrollPositionForPixel=function(i){if(this.pixelsToShave<=0)return i;var s=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(i/s)},jp([le("ctrlsService")],o.prototype,"ctrlsService",void 0),jp([qm(0,Jn("loggerFactory"))],o.prototype,"agWire",null),jp([Xe],o.prototype,"postConstruct",null),jp([at("rowContainerHeightService")],o)}(dt),Bd=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Er=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Fa=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Bd(o,u),o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},o.prototype.updateSelectableAfterGrouping=function(i){this.isRowSelectableFunc&&this.recurseDown(i.childrenAfterGroup,function(l){return l.childrenAfterGroup})},o.prototype.recurseDown=function(i,s){var l=this;!i||i.forEach(function(c){var p;c.group&&(c.hasChildren()&&l.recurseDown(s(c),s),p=l.groupSelectsChildren?I((s(c)||[]).find(function(M){return!0===M.selectable})):!!l.isRowSelectableFunc&&l.isRowSelectableFunc(c),c.setRowSelectable(p))})},Er([Xe],o.prototype,"init",null),Er([at("selectableService")],o)}(dt),$p=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ni=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Ut=function(u){function o(){var i=u.call(this)||this;return i.previousAndFirstButtonsDisabled=!1,i.nextButtonDisabled=!1,i.lastButtonDisabled=!1,i}return $p(o,u),o.prototype.postConstruct=function(){var i=this,s=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Rn(s?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Rn(s?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Rn(s?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Rn(s?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,xe.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(p){var v=p.el,M=p.fn;i.addManagedListener(v,"click",M),i.addManagedListener(v,"keydown",function(L){(L.key===lt.ENTER||L.key===lt.SPACE)&&(L.preventDefault(),M())})}),this.onPaginationChanged()):this.setDisplayed(!1)},o.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},o.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},o.prototype.setCurrentPageLabel=function(){var i=this.paginationProxy.getTotalPages()>0,s=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(i?s+1:0)},o.prototype.formatNumber=function(i){var s=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(s)return s({value:i});var c=this.gridOptionsWrapper.getLocaleTextFunc();return jh(i,c("thousandSeparator",","),c("decimalSeparator","."))},o.prototype.getTemplate=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc(),s=i("page","Page"),l=i("to","to"),c=i("of","of"),p=i("firstPage","First Page"),v=i("previousPage","Previous Page"),M=i("nextPage","Next Page"),L=i("lastPage","Last Page"),Y=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+Y+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+Y+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+Y+'-to">'+l+'</span>\n                    <span id="ag-'+Y+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+Y+'-of">'+c+'</span>\n                    <span id="ag-'+Y+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+p+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+v+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+Y+'-start-page">'+s+'</span>\n                        <span id="ag-'+Y+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+Y+'-of-page">'+c+'</span>\n                        <span id="ag-'+Y+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+M+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+L+'"></div>\n                </span>\n            </div>'},o.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},o.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},o.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},o.prototype.enableOrDisableButtons=function(){var i=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.isLastPageFound(),l=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===i,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var c=this.isZeroPagesToDisplay();this.nextButtonDisabled=s&&i===l-1||c,this.lastButtonDisabled=!s||c||i===l-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},o.prototype.toggleButtonDisabled=function(i,s){Yv(i,s),i.classList.toggle("ag-disabled",s),s?i.removeAttribute("tabindex"):i.setAttribute("tabindex","0")},o.prototype.updateRowLabels=function(){var p,v,i=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.getPageSize(),l=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?p=v=0:(v=(p=s*i+1)+s-1,l&&v>c&&(v=c)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(p),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(v)},o.prototype.isZeroPagesToDisplay=function(){var i=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages();return i&&0===s},o.prototype.setTotalLabels=function(){var i=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages(),l=i?this.paginationProxy.getMasterRowCount():null;if(1===l){var c=this.paginationProxy.getRow(0);if(c&&c.group&&!c.groupData&&!c.aggData)return void this.setTotalLabelsToZero()}if(i)this.lbTotal.innerHTML=this.formatNumber(s),this.lbRecordCount.innerHTML=this.formatNumber(l);else{var v=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=v,this.lbRecordCount.innerHTML=v}},o.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Ni([le("paginationProxy")],o.prototype,"paginationProxy",void 0),Ni([le("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),Ni([st("btFirst")],o.prototype,"btFirst",void 0),Ni([st("btPrevious")],o.prototype,"btPrevious",void 0),Ni([st("btNext")],o.prototype,"btNext",void 0),Ni([st("btLast")],o.prototype,"btLast",void 0),Ni([st("lbRecordCount")],o.prototype,"lbRecordCount",void 0),Ni([st("lbFirstRowOnPage")],o.prototype,"lbFirstRowOnPage",void 0),Ni([st("lbLastRowOnPage")],o.prototype,"lbLastRowOnPage",void 0),Ni([st("lbCurrent")],o.prototype,"lbCurrent",void 0),Ni([st("lbTotal")],o.prototype,"lbTotal",void 0),Ni([Xe],o.prototype,"postConstruct",null),o}(un),tu=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ds=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},zo=(()=>(function(u){u[u.Loading=0]="Loading",u[u.NoRows=1]="NoRows"}(zo||(zo={})),zo))(),nu=function(u){function o(){var i=u.call(this,o.TEMPLATE)||this;return i.inProgress=!1,i.destroyRequested=!1,i.manuallyDisplayed=!1,i}return tu(o,u),o.prototype.updateLayoutClasses=function(i,s){var l=this.eOverlayWrapper.classList;l.toggle(j.LBn.AUTO_HEIGHT,s.autoHeight),l.toggle(j.LBn.NORMAL,s.normal),l.toggle(j.LBn.PRINT,s.print)},o.prototype.postConstruct=function(){this.createManagedBean(new Fy(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,xe.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},o.prototype.setWrapperTypeClass=function(i){var s=this.eOverlayWrapper.classList;s.toggle("ag-overlay-loading-wrapper",i===zo.Loading),s.toggle("ag-overlay-no-rows-wrapper",i===zo.NoRows)},o.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var l=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(l,zo.Loading)}},o.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var l=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(l,zo.NoRows)}},o.prototype.showOverlay=function(i,s){var l=this;this.inProgress||(this.setWrapperTypeClass(s),this.destroyActiveOverlay(),this.inProgress=!0,i&&i.then(function(c){l.inProgress=!1,l.eOverlayWrapper.appendChild(c.getGui()),l.activeOverlay=c,l.destroyRequested&&(l.destroyRequested=!1,l.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},o.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),gt(this.eOverlayWrapper))},o.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},o.prototype.destroy=function(){this.destroyActiveOverlay(),u.prototype.destroy.call(this)},o.prototype.showOrHideOverlay=function(){var i=this.paginationProxy.isEmpty(),s=this.gridOptionsWrapper.isSuppressNoRowsOverlay();i&&!s?this.showNoRowsOverlay():this.hideOverlay()},o.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},o.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},o.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',ds([le("userComponentFactory")],o.prototype,"userComponentFactory",void 0),ds([le("paginationProxy")],o.prototype,"paginationProxy",void 0),ds([le("gridApi")],o.prototype,"gridApi",void 0),ds([le("columnModel")],o.prototype,"columnModel",void 0),ds([st("eOverlayWrapper")],o.prototype,"eOverlayWrapper",void 0),ds([Xe],o.prototype,"postConstruct",null),o}(un),iu=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ca=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Hl=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return iu(o,u),o.prototype.getFirstRow=function(){var s,i=0;return this.pinnedRowModel.getPinnedTopRowCount()?s=Ie.PINNED_TOP:this.rowModel.getRowCount()?(s=null,i=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(s=Ie.PINNED_BOTTOM),void 0===s?null:{rowIndex:i,rowPinned:s}},o.prototype.getLastRow=function(){var i,s=null,l=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return l?(s=Ie.PINNED_BOTTOM,i=l-1):this.rowModel.getRowCount()?(s=null,i=this.paginationProxy.getPageLastRow()):c&&(s=Ie.PINNED_TOP,i=c-1),void 0===i?null:{rowIndex:i,rowPinned:s}},o.prototype.getRowNode=function(i){switch(i.rowPinned){case Ie.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case Ie.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},o.prototype.sameRow=function(i,s){return!i&&!s||!(i&&!s||!i&&s)&&i.rowIndex===s.rowIndex&&i.rowPinned==s.rowPinned},o.prototype.before=function(i,s){switch(i.rowPinned){case Ie.PINNED_TOP:if(s.rowPinned!==Ie.PINNED_TOP)return!0;break;case Ie.PINNED_BOTTOM:if(s.rowPinned!==Ie.PINNED_BOTTOM)return!1;break;default:if(I(s.rowPinned))return s.rowPinned!==Ie.PINNED_TOP}return i.rowIndex<s.rowIndex},ca([le("rowModel")],o.prototype,"rowModel",void 0),ca([le("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ca([le("paginationProxy")],o.prototype,"paginationProxy",void 0),ca([at("rowPositionUtils")],o)}(dt),ru=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ru(o,u),o.prototype.createId=function(i){return this.createIdFromValues(i.rowIndex,i.column,i.rowPinned)},o.prototype.createIdFromValues=function(i,s,l){return i+"."+(null==l?"null":l)+"."+s.getId()},o.prototype.equals=function(i,s){return i.column===s.column&&i.rowPinned===s.rowPinned&&i.rowIndex===s.rowIndex},o=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at("cellPositionUtils")],o),o}(dt),r0=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vd=function u(o){this.cellValueChanges=o},Wp=function(u){function o(i,s,l){var c=u.call(this,i)||this;return c.initialRange=s,c.finalRange=l,c}return r0(o,u),o}(Vd),Qm=function(){function u(o){this.actionStack=[],this.maxStackSize=o||u.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return u.prototype.pop=function(){return this.actionStack.pop()},u.prototype.push=function(o){!(o.cellValueChanges&&o.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(o))},u.prototype.clear=function(){this.actionStack=[]},u.prototype.getCurrentStackSize=function(){return this.actionStack.length},u.DEFAULT_STACK_SIZE=10,u}(),o0=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ua=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},s0=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.cellValueChanges=[],i.activeCellEdit=null,i.activeRowEdit=null,i.isPasting=!1,i.isFilling=!1,i.onCellValueChanged=function(s){var l={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned},c=null!==i.activeCellEdit&&i.cellPositionUtils.equals(i.activeCellEdit,l),p=null!==i.activeRowEdit&&i.rowPositionUtils.sameRow(i.activeRowEdit,l);if(c||p||i.isPasting||i.isFilling){var re=s.oldValue,de=s.value,be={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:s.column.getColId(),newValue:de,oldValue:re};i.cellValueChanges.push(be)}},i.clearStacks=function(){i.undoStack.clear(),i.redoStack.clear()},i}return o0(o,u),o.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var i=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();i<=0||(this.undoStack=new Qm(i),this.redoStack=new Qm(i),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,xe.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,xe.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,xe.EVENT_ROW_DRAG_END,this.clearStacks))}},o.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},o.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},o.prototype.undo=function(){if(this.undoStack){var i=this.undoStack.pop();!i||!i.cellValueChanges||(this.processAction(i,function(s){return s.oldValue}),i instanceof Wp?this.processRangeAndCellFocus(i.cellValueChanges,i.initialRange):this.processRangeAndCellFocus(i.cellValueChanges),this.redoStack.push(i))}},o.prototype.redo=function(){if(this.redoStack){var i=this.redoStack.pop();!i||!i.cellValueChanges||(this.processAction(i,function(s){return s.newValue}),i instanceof Wp?this.processRangeAndCellFocus(i.cellValueChanges,i.finalRange):this.processRangeAndCellFocus(i.cellValueChanges),this.undoStack.push(i))}},o.prototype.processAction=function(i,s){var l=this;i.cellValueChanges.forEach(function(c){var M=c.columnId,Y=l.getRowNode({rowIndex:c.rowIndex,rowPinned:c.rowPinned});!Y.displayed||Y.setDataValue(M,s(c))})},o.prototype.processRangeAndCellFocus=function(i,s){var l;if(s){var c=s.startRow,p=s.endRow;return l={rowPinned:c.rowPinned,rowIndex:c.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(l),void this.gridApi.addCellRange({rowStartIndex:c.rowIndex,rowStartPinned:c.rowPinned,rowEndIndex:p.rowIndex,rowEndPinned:p.rowPinned,columnStart:s.startColumn,columns:s.columns})}var M=i[0],de=this.getRowNode({rowIndex:M.rowIndex,rowPinned:M.rowPinned});this.setLastFocusedCell(l={rowPinned:M.rowPinned,rowIndex:de.rowIndex,columnId:M.columnId})},o.prototype.setLastFocusedCell=function(i){var s=i.rowIndex,l=i.columnId,c=i.rowPinned;this.gridApi.ensureIndexVisible(s),this.gridApi.ensureColumnVisible(l),Le.isRegistered(j.GXE.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(s,l,c,!0)},o.prototype.addRowEditingListeners=function(){var i=this;this.addManagedListener(this.eventService,xe.EVENT_ROW_EDITING_STARTED,function(s){i.activeRowEdit={rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,xe.EVENT_ROW_EDITING_STOPPED,function(){var s=new Vd(i.cellValueChanges);i.pushActionsToUndoStack(s),i.activeRowEdit=null})},o.prototype.addCellEditingListeners=function(){var i=this;this.addManagedListener(this.eventService,xe.EVENT_CELL_EDITING_STARTED,function(s){i.activeCellEdit={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,xe.EVENT_CELL_EDITING_STOPPED,function(){if(i.activeCellEdit=null,!i.activeRowEdit&&!i.isPasting&&!i.isFilling){var l=new Vd(i.cellValueChanges);i.pushActionsToUndoStack(l)}})},o.prototype.addPasteListeners=function(){var i=this;this.addManagedListener(this.eventService,xe.EVENT_PASTE_START,function(){i.isPasting=!0}),this.addManagedListener(this.eventService,xe.EVENT_PASTE_END,function(){var s=new Vd(i.cellValueChanges);i.pushActionsToUndoStack(s),i.isPasting=!1})},o.prototype.addFillListeners=function(){var i=this;this.addManagedListener(this.eventService,xe.EVENT_FILL_START,function(){i.isFilling=!0}),this.addManagedListener(this.eventService,xe.EVENT_FILL_END,function(s){var l=new Wp(i.cellValueChanges,s.initialRange,s.finalRange);i.pushActionsToUndoStack(l),i.isFilling=!1})},o.prototype.pushActionsToUndoStack=function(i){this.undoStack.push(i),this.cellValueChanges=[],this.redoStack.clear()},o.prototype.getRowNode=function(i){switch(i.rowPinned){case Ie.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[i.rowIndex];case Ie.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[i.rowIndex];default:return this.rowModel.getRow(i.rowIndex)}},ua([le("focusService")],o.prototype,"focusService",void 0),ua([le("gridApi")],o.prototype,"gridApi",void 0),ua([le("rowModel")],o.prototype,"rowModel",void 0),ua([le("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ua([le("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),ua([le("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),ua([Xe],o.prototype,"init",null),ua([at("undoRedoService")],o)}(dt),a0=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zm=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},he=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return a0(o,u),o.prototype.findHeader=function(i,s){var l;if(l=i.column instanceof Cr?this.columnModel["getDisplayedGroup"+s](i.column):this.columnModel["getDisplayedCol"+s](i.column))return{column:l,headerRowIndex:i.headerRowIndex}},o.prototype.findColAtEdgeForHeaderRow=function(i,s){var l=this.columnModel.getAllDisplayedColumns(),c=l["start"===s?0:l.length-1];if(c){var v=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()).getRowType(i);return v==j.A6C.COLUMN_GROUP?{headerRowIndex:i,column:this.columnModel.getColumnGroupAtLevel(c,i)}:{headerRowIndex:null==v?-1:i,column:c}}},Zm([le("columnModel")],o.prototype,"columnModel",void 0),Zm([le("ctrlsService")],o.prototype,"ctrlsService",void 0),Zm([at("headerPositionUtils")],o)}(dt),wi=function(){function u(){}return u.prototype.buildColumnDefs=function(o,i,s){var l=this,c=[],p={};return o.forEach(function(v){for(var L=!0,Y=l.createDefFromColumn(v,i,s),re=v.getOriginalParent();re;){var de=null;if(re.isPadding())re=re.getOriginalParent();else{var be=p[re.getGroupId()];if(be){be.children.push(Y),L=!1;break}(de=l.createDefFromGroup(re))&&(de.children=[Y],p[de.groupId]=de,Y=de,re=re.getOriginalParent())}}L&&c.push(Y)}),c},u.prototype.createDefFromGroup=function(o){var i=V(o.getColGroupDef(),["children"]);return i&&(i.groupId=o.getGroupId()),i},u.prototype.createDefFromColumn=function(o,i,s){var l=V(o.getColDef());return l.colId=o.getColId(),l.width=o.getActualWidth(),l.rowGroup=o.isRowGroupActive(),l.rowGroupIndex=o.isRowGroupActive()?i.indexOf(o):null,l.pivot=o.isPivotActive(),l.pivotIndex=o.isPivotActive()?s.indexOf(o):null,l.aggFunc=o.isValueActive()?o.getAggFunc():null,l.hide=!o.isVisible()||void 0,l.pinned=o.isPinned()?o.getPinned():null,l.sort=o.getSort()?o.getSort():null,l.sortIndex=null!=o.getSortIndex()?o.getSortIndex():null,l},u=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at("columnDefFactory")],u),u}(),Up=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},LT=function(){function u(){}return u.prototype.getInitialRowClasses=function(o){var i=[];return I(o.extraCssClass)&&i.push(o.extraCssClass),i.push("ag-row"),i.push(o.rowFocused?"ag-row-focus":"ag-row-no-focus"),o.fadeRowIn&&i.push("ag-opacity-zero"),i.push(o.rowIsEven?"ag-row-even":"ag-row-odd"),o.rowNode.isRowPinned()&&i.push("ag-row-pinned"),o.rowNode.isSelected()&&i.push("ag-row-selected"),o.rowNode.footer&&i.push("ag-row-footer"),i.push("ag-row-level-"+o.rowLevel),o.rowNode.stub&&i.push("ag-row-loading"),o.fullWidthRow&&i.push("ag-full-width-row"),o.expandable&&(i.push("ag-row-group"),i.push(o.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),o.rowNode.dragging&&i.push("ag-row-dragging"),Qf(i,this.processClassesFromGridOptions(o.rowNode)),Qf(i,this.preProcessRowClassRules(o.rowNode)),i.push(o.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),o.firstRowOnPage&&i.push("ag-row-first"),o.lastRowOnPage&&i.push("ag-row-last"),o.fullWidthRow&&(o.pinned===Ie.PINNED_LEFT&&i.push("ag-cell-last-left-pinned"),o.pinned===Ie.PINNED_RIGHT&&i.push("ag-cell-first-right-pinned")),i},u.prototype.processClassesFromGridOptions=function(o){var i=[],s=function(M){"string"==typeof M?i.push(M):Array.isArray(M)&&M.forEach(function(L){return i.push(L)})},l=this.gridOptionsWrapper.getRowClass();if(l){if("function"==typeof l)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];s(l)}var c=this.gridOptionsWrapper.getRowClassFunc();return c&&s(c({data:o.data,node:o,rowIndex:o.rowIndex})),i},u.prototype.preProcessRowClassRules=function(o){var i=[];return this.processRowClassRules(o,function(s){i.push(s)},function(s){}),i},u.prototype.processRowClassRules=function(o,i,s){var l={data:o.data,node:o,rowIndex:o.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),l,i,s)},u.prototype.calculateRowLevel=function(o){return o.group?o.level:o.parent?o.parent.level+1:0},Up([le("stylingService")],u.prototype,"stylingService",void 0),Up([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Up([at("rowCssClassCalculator")],u)}(),zp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Jm=function(){function u(){}return u.prototype.doFullSort=function(o,i){var l=o.map(function(c,p){return{currentPos:p,rowNode:c}});return l.sort(this.compareRowNodes.bind(this,i)),l.map(function(c){return c.rowNode})},u.prototype.compareRowNodes=function(o,i,s){for(var l=i.rowNode,c=s.rowNode,p=0,v=o.length;p<v;p++){var de,M=o[p],L=M.sort===Ie.SORT_DESC,Y=this.getValue(l,M.column),re=this.getValue(c,M.column),be=this.getComparator(M,l);if(de=be?be(Y,re,l,c,L):ht.defaultComparator(Y,re,this.gridOptionsWrapper.isAccentedSort()),!isNaN(de)&&0!==de)return M.sort===Ie.SORT_ASC?de:-1*de}return i.currentPos-s.currentPos},u.prototype.getComparator=function(o,i){var s=o.column,l=s.getColDef().comparator;if(null!=l)return l;if(i.rowGroupColumn)return i.rowGroupColumn.getColDef().comparator;if(s.getColDef().showRowGroup){var c=!i.group&&s.getColDef().field;if(c){var p=this.columnModel.getPrimaryColumn(c);if(p)return p.getColDef().comparator}}},u.prototype.getValue=function(o,i){return this.valueService.getValue(i,o,!1,!1)},zp([le("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),zp([le("valueService")],u.prototype,"valueService",void 0),zp([le("columnModel")],u.prototype,"columnModel",void 0),zp([at("rowNodeSorter")],u)}(),GT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),c0=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.ready=!1,s.readyCallbacks=[],s}var i;return GT(o,u),i=o,o.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var s=this.createReadyParams();this.readyCallbacks.forEach(function(l){return l(s)}),this.readyCallbacks.length=0}},o.prototype.whenReady=function(s){this.ready?s(this.createReadyParams()):this.readyCallbacks.push(s)},o.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},o.prototype.registerFakeHScrollCtrl=function(s){this.fakeHScrollCtrl=s,this.checkReady()},o.prototype.registerGridHeaderCtrl=function(s){this.gridHeaderCtrl=s,this.checkReady()},o.prototype.registerCenterRowContainerCtrl=function(s){this.centerRowContainerCtrl=s,this.checkReady()},o.prototype.registerLeftRowContainerCtrl=function(s){this.leftRowContainerCtrl=s,this.checkReady()},o.prototype.registerRightRowContainerCtrl=function(s){this.rightRowContainerCtrl=s,this.checkReady()},o.prototype.registerTopCenterRowContainerCtrl=function(s){this.topCenterRowContainerCtrl=s,this.checkReady()},o.prototype.registerTopLeftRowContainerCon=function(s){this.topLeftRowContainerCtrl=s,this.checkReady()},o.prototype.registerTopRightRowContainerCtrl=function(s){this.topRightRowContainerCtrl=s,this.checkReady()},o.prototype.registerBottomCenterRowContainerCtrl=function(s){this.bottomCenterRowContainerCtrl=s,this.checkReady()},o.prototype.registerBottomLeftRowContainerCtrl=function(s){this.bottomLeftRowContainerCtrl=s,this.checkReady()},o.prototype.registerBottomRightRowContainerCtrl=function(s){this.bottomRightRowContainerCtrl=s,this.checkReady()},o.prototype.registerHeaderContainer=function(s,l){switch(l){case Ie.PINNED_LEFT:this.leftHeaderRowContainerCtrl=s;break;case Ie.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=s;break;default:this.centerHeaderRowContainerCtrl=s}this.checkReady()},o.prototype.registerGridBodyCtrl=function(s){this.gridBodyCtrl=s,this.checkReady()},o.prototype.registerGridCtrl=function(s){this.gridCtrl=s,this.checkReady()},o.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},o.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},o.prototype.getGridCtrl=function(){return this.gridCtrl},o.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},o.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},o.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},o.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},o.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},o.prototype.getHeaderRowContainerCtrl=function(s){switch(s){case Ie.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case Ie.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},o.NAME="ctrlsService",o=i=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at(i.NAME)],o),o}(dt),BT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),VT=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.registry={},i}return BT(o,u),o.prototype.register=function(i){this.registry[i.controllerName]=i.controllerClass},o.prototype.getInstance=function(i){var s=this.registry[i];if(null!=s)return new s},o=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c}([at("ctrlsFactory")],o),o}(dt),e_=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),su=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},HT=function(u){function o(){return u.call(this)||this}return e_(o,u),o.prototype.setComp=function(i,s,l,c){this.view=i,this.eViewport=l,this.eContainer=c,this.eGui=s,this.addManagedListener(this.eventService,xe.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var p=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,p),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,p),this.addManagedListener(this.gridOptionsWrapper,At.PROP_DOM_LAYOUT,p),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},o.prototype.addActiveListenerToggles=function(){var i=this;["mouseenter","mousedown","touchstart"].forEach(function(c){return i.addManagedListener(i.eGui,c,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(c){return i.addManagedListener(i.eGui,c,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},o.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=ii()},o.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},o.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var i=this;this.addManagedListener(this.eventService,xe.EVENT_BODY_SCROLL,function(s){"horizontal"===s.direction&&i.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,xe.EVENT_BODY_SCROLL_END,function(){return i.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},o.prototype.setFakeHScrollSpacerWidths=function(){var i=this.scrollVisibleService.isVerticalScrollShowing(),s=this.columnModel.getDisplayedColumnsRightWidth(),l=!this.enableRtl&&i,c=this.gridOptionsWrapper.getScrollbarWidth();l&&(s+=c),this.view.setRightSpacerFixedWidth(s),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",s<=c);var p=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&i&&(p+=c),this.view.setLeftSpacerFixedWidth(p),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",p<=c)},o.prototype.setScrollVisible=function(){var i=this.scrollVisibleService.isHorizontalScrollShowing(),s=this.invisibleScrollbar,l=this.gridOptionsWrapper.isSuppressHorizontalScroll(),c=i&&this.gridOptionsWrapper.getScrollbarWidth()||0,v=l?0:0===c&&s?15:c;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",s),this.view.setHeight(v),this.view.setViewportHeight(v),this.view.setContainerHeight(v)},o.prototype.getViewport=function(){return this.eViewport},o.prototype.getContainer=function(){return this.eContainer},su([le("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),su([le("columnModel")],o.prototype,"columnModel",void 0),su([le("ctrlsService")],o.prototype,"ctrlsService",void 0),su([Xe],o.prototype,"postConstruct",null),o}(dt),CO=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Yp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},bO=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return CO(o,u),o.prototype.postConstruct=function(){var i=this,s={addOrRemoveCssClass:function(c,p){return i.addOrRemoveCssClass(c,p)},setHeight:function(c){return Ti(i.getGui(),c)},setContainerHeight:function(c){return Ti(i.eContainer,c)},setViewportHeight:function(c){return Ti(i.eViewport,c)},setRightSpacerFixedWidth:function(c){return Gi(i.eRightSpacer,c)},setLeftSpacerFixedWidth:function(c){return Gi(i.eLeftSpacer,c)},includeLeftSpacerScrollerCss:function(c,p){return i.eLeftSpacer.classList.toggle(c,p)},includeRightSpacerScrollerCss:function(c,p){return i.eRightSpacer.classList.toggle(c,p)}};this.createManagedBean(new HT).setComp(s,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new fd(function(c){return i.eContainer.style.width=c+"px"}))},o.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Yp([st("eLeftSpacer")],o.prototype,"eLeftSpacer",void 0),Yp([st("eRightSpacer")],o.prototype,"eRightSpacer",void 0),Yp([st("eViewport")],o.prototype,"eViewport",void 0),Yp([st("eContainer")],o.prototype,"eContainer",void 0),Yp([Xe],o.prototype,"postConstruct",null),o}(un),jT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Kp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},wO=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return jT(o,u),o.prototype.postConstruct=function(){var i=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,xe.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.addManagedListener(this.gridOptionsWrapper,At.PROP_DOM_LAYOUT,i)},o.prototype.checkContainerWidths=function(){var i=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,s=i?0:this.columnModel.getDisplayedColumnsLeftWidth(),l=i?0:this.columnModel.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,this.eventService.dispatchEvent({type:xe.EVENT_LEFT_PINNED_WIDTH_CHANGED})),l!=this.rightWidth&&(this.rightWidth=l,this.eventService.dispatchEvent({type:xe.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},o.prototype.getPinnedRightWidth=function(){return this.rightWidth},o.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Kp([le("columnModel")],o.prototype,"columnModel",void 0),Kp([Xe],o.prototype,"postConstruct",null),Kp([at("pinnedWidthService")],o)}(dt),$T=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),da=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},WT=function(u){function o(){var i=null!==u&&u.apply(this,arguments)||this;return i.events=[],i}return $T(o,u),o.prototype.postConstruct=function(){this.rowModel.getType()==Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.dispatchExpanded=function(i){var s=this;null!=this.clientSideRowModel?(this.events.push(i),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){s.clientSideRowModel&&s.clientSideRowModel.onRowGroupOpened(),s.events.forEach(function(c){return s.eventService.dispatchEvent(c)}),s.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(i)},da([le("animationFrameService")],o.prototype,"animationFrameService",void 0),da([le("rowModel")],o.prototype,"rowModel",void 0),da([Xe],o.prototype,"postConstruct",null),da([at("rowNodeEventThrottle")],o)}(dt),u0=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},d0=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(u0(arguments[o]));return u},h0=function(){function u(o,i,s){i?(this.gridOptions=i,(new Hd).create(o,i,function(l){var c=new YC(o);l.createBean(c)},void 0,s)):console.error("AG Grid: no gridOptions provided to the grid")}return u.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},u}(),Hd=function(){function u(){}return u.prototype.create=function(o,i,s,l,c){var p=this,v=!!i.debug,M=this.getRegisteredModules(c),L=this.createBeansList(i.rowModelType,M),Y=this.createProvidedBeans(o,i,c);if(L){var re={providedBeanInstances:Y,beanClasses:L,debug:v},de=new gi("AG Grid",function(){return i.debug}),be=new gi("Context",function(){return re.debug}),Ce=new Ci(re,be),Re=Ce.getBean("beans");this.registerModuleUserComponents(Re,M),this.registerStackComponents(Re,M),this.registerControllers(Re,M),s(Ce),Re.ctrlsService.whenReady(function(){p.setColumnsAndData(Re),p.dispatchGridReadyEvent(Re,i);var Ge=Le.isRegistered(j.GXE.EnterpriseCoreModule);de.log("initialised successfully, enterprise = "+Ge)}),l&&l(Ce)}},u.prototype.registerControllers=function(o,i){i.forEach(function(s){s.controllers&&s.controllers.forEach(function(l){return o.ctrlsFactory.register(l)})})},u.prototype.registerStackComponents=function(o,i){var s=this.createAgStackComponentsList(i);o.agStackComponentsRegistry.setupComponents(s)},u.prototype.getRegisteredModules=function(o){var i=o?o.modules:null,s=Le.getRegisteredModules(),l=[],c={};function p(v,M){(function L(Y){c[Y.moduleName]||(c[Y.moduleName]=!0,l.push(Y),Le.register(Y,v))})(M),M.dependantModules&&M.dependantModules.forEach(p.bind(null,v))}return i&&i.forEach(p.bind(null,!0)),s&&s.forEach(p.bind(null,!Le.isPackageBased())),l},u.prototype.registerModuleUserComponents=function(o,i){this.extractModuleEntity(i,function(l){return l.userComponents?l.userComponents:[]}).forEach(function(l){o.userComponentRegistry.registerDefaultComponent(l.componentName,l.componentClass)})},u.prototype.createProvidedBeans=function(o,i,s){var l=s?s.frameworkOverrides:null;O(l)&&(l=new Ps);var c={gridOptions:i,eGridDiv:o,globalEventListener:s?s.globalEventListener:null,frameworkOverrides:l};return s&&s.providedBeanInstances&&Object.assign(c,s.providedBeanInstances),c},u.prototype.createAgStackComponentsList=function(o){var i=[{componentName:"AgCheckbox",componentClass:$c},{componentName:"AgRadioButton",componentClass:AC},{componentName:"AgToggleButton",componentClass:ym},{componentName:"AgInputTextField",componentClass:Dd},{componentName:"AgInputTextArea",componentClass:Ad},{componentName:"AgInputNumberField",componentClass:bm},{componentName:"AgInputRange",componentClass:wm},{componentName:"AgSelect",componentClass:pi},{componentName:"AgSlider",componentClass:xm},{componentName:"AgAngleSelect",componentClass:ao},{componentName:"AgColorPicker",componentClass:Dm},{componentName:"AgGridBody",componentClass:eC},{componentName:"AgHeaderRoot",componentClass:dm},{componentName:"AgPagination",componentClass:Ut},{componentName:"AgOverlayWrapper",componentClass:nu},{componentName:"AgGroupComponent",componentClass:IC},{componentName:"AgPanel",componentClass:Sm},{componentName:"AgDialog",componentClass:Em},{componentName:"AgRowContainer",componentClass:FS},{componentName:"AgFakeHorizontalScroll",componentClass:bO}],s=this.extractModuleEntity(o,function(l){return l.agStackComponents?l.agStackComponents:[]});return i.concat(s)},u.prototype.createBeansList=function(o,i){var s=this.getRowModelClass(o,i);if(s){var l=[s,Wy,Hl,Xm,he,vO,nm,Dy,t0,Um,wC,up,Is,Ed,SC,Py,ix,Zo,At,FC,Lm,Mg,Gv,Tp,Ml,ra,Vm,Ji,Bl,Lp,MS,OT,$C,UC,nx,iT,Ep,ar,Gm,Fl,os,eu,HC,kp,qc,tC,KC,QC,mO,Fa,AT,e0,pm,s0,St,wi,LT,DC,Jm,c0,wO,WT,VT],c=this.extractModuleEntity(i,function(v){return v.beans?v.beans:[]});l.push.apply(l,d0(c));var p=[];return l.forEach(function(v){p.indexOf(v)<0&&p.push(v)}),p}},u.prototype.extractModuleEntity=function(o,i){return[].concat.apply([],d0(o.map(i)))},u.prototype.setColumnsAndData=function(o){var i=o.gridOptionsWrapper.getColumnDefs();o.columnModel.setColumnDefs(i||[],"gridInitializing"),o.rowModel.start()},u.prototype.dispatchGridReadyEvent=function(o,i){o.eventService.dispatchEvent({type:xe.EVENT_GRID_READY,api:i.api,columnApi:i.columnApi})},u.prototype.getRowModelClass=function(o,i){o||(o=Ie.ROW_MODEL_TYPE_CLIENT_SIDE);var s={};i.forEach(function(c){E(c.rowModels,function(p,v){s[p]=v})});var l=s[o];if(I(l))return l;Le.isPackageBased()?[Ie.ROW_MODEL_TYPE_VIEWPORT,Ie.ROW_MODEL_TYPE_SERVER_SIDE].includes(o)?console.error('AG Grid: Row Model "'+o+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+o):o===Ie.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+j.GXE.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Ie.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+j.GXE.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Ie.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+j.GXE.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Ie.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+j.GXE.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+o)},u}(),p0=function(){function u(){}return u.prototype.wrap=function(o,i,s,l){var c=this;void 0===s&&(s=[]);var p=this.createWrapper(o,l);return i.forEach(function(v){c.createMethod(p,v,!0)}),s.forEach(function(v){c.createMethod(p,v,!1)}),p},u.prototype.unwrap=function(o){return o},u.prototype.createMethod=function(o,i,s){o.addMethod(i,this.createMethodProxy(o,i,s))},u.prototype.createMethodProxy=function(o,i,s){return function(){return o.hasMethod(i)?o.callMethod(i,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+i+"()"),null)}},u}();!function(u){u.InsideBase="insideBase",u.InsideEnd="insideEnd",u.Center="center",u.OutsideEnd="outsideEnd"}(j.nWP||(j.nWP={}));var au="undefined"==typeof global?{}:global;au.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,au.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,au.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,au.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,au.Node="undefined"==typeof Node?{}:Node,au.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var zT=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c},KT=function(){function u(o,i,s,l,c,p,v,M){this.nextId=0,this.allNodesMap={},this.rootNode=o,this.gridOptionsWrapper=i,this.eventService=s,this.columnModel=l,this.gridApi=c,this.columnApi=p,this.beans=M,this.selectionService=v,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=u.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return u.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},u.prototype.getCopyOfNodesMap=function(){return ht.cloneObject(this.allNodesMap)},u.prototype.getRowNode=function(o){return this.allNodesMap[o]},u.prototype.setRowData=function(o){var i=this;if("string"!=typeof o){var s=this.rootNode,l=this.rootNode.sibling;s.childrenAfterFilter=null,s.childrenAfterGroup=null,s.childrenAfterAggFilter=null,s.childrenAfterSort=null,s.childrenMapped=null,s.updateHasChildren(),this.nextId=0,this.allNodesMap={},o?s.allLeafChildren=o.map(function(c){return i.createNode(c,i.rootNode,u.TOP_LEVEL)}):(s.allLeafChildren=[],s.childrenAfterGroup=[]),l&&(l.childrenAfterFilter=s.childrenAfterFilter,l.childrenAfterGroup=s.childrenAfterGroup,l.childrenAfterAggFilter=s.childrenAfterAggFilter,l.childrenAfterSort=s.childrenAfterSort,l.childrenMapped=s.childrenMapped,l.allLeafChildren=s.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},u.prototype.updateRowData=function(o,i){var s={remove:[],update:[],add:[]},l=[];return this.executeRemove(o,s,l),this.executeUpdate(o,s,l),this.executeAdd(o,s),this.updateSelection(l),i&&ht.sortRowNodesByOrder(this.rootNode.allLeafChildren,i),s},u.prototype.updateSelection=function(o){var i=o.length>0;i&&o.forEach(function(l){l.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),i&&this.eventService.dispatchEvent({type:xe.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},u.prototype.executeAdd=function(o,i){var s=this,l=o.add,c=o.addIndex;if(!ht.missingOrEmpty(l)){var M,L,p=l.map(function(de){return s.createNode(de,s.rootNode,u.TOP_LEVEL)});if("number"==typeof c&&c>=0){var Y=this.rootNode.allLeafChildren,re=0===c?0:Y.reduce(function(de,be,Ce){var Re,Ge=be.rowIndex,Ze=null===(Re=Y[de])||void 0===Re?void 0:Re.rowIndex;return null!=Ge&&null!=Ze&&Ge<c&&Ge>Ze?Ce:de},0)+1;M=Y.slice(0,re),L=Y.slice(re,Y.length)}else M=this.rootNode.allLeafChildren,L=[];this.rootNode.allLeafChildren=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(zT(arguments[o]));return u}(M,p,L),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=p}},u.prototype.executeRemove=function(o,i,s){var l=this,c=o.remove;if(!ht.missingOrEmpty(c)){var p={};c.forEach(function(v){var M=l.lookupRowNode(v);!M||(M.isSelected()&&s.push(M),M.clearRowTopAndRowIndex(),p[M.id]=!0,delete l.allNodesMap[M.id],i.remove.push(M))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(v){return!p[v.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},u.prototype.executeUpdate=function(o,i,s){var l=this,c=o.update;ht.missingOrEmpty(c)||c.forEach(function(p){var v=l.lookupRowNode(p);!v||(v.updateData(p),!v.selectable&&v.isSelected()&&s.push(v),l.setMasterForRow(v,p,u.TOP_LEVEL,!1),i.update.push(v))})},u.prototype.lookupRowNode=function(o){var s,i=this.gridOptionsWrapper.getRowIdFunc();if(i){var l=i({data:o,level:0});if(!(s=this.allNodesMap[l]))return console.error("AG Grid: could not find row id="+l+", data item was not found for this id"),null}else if(!(s=this.rootNode.allLeafChildren.find(function(c){return c.data===o})))return console.error("AG Grid: could not find data item as object was not found",o),console.error("Consider using getRowId to help the Grid find matching row data"),null;return s||null},u.prototype.createNode=function(o,i,s){var l=new mn(this.beans);return l.group=!1,this.setMasterForRow(l,o,s,!0),i&&!this.suppressParentsInRowNodes&&(l.parent=i),l.level=s,l.setDataAndId(o,this.nextId.toString()),this.allNodesMap[l.id]&&console.warn("AG Grid: duplicate node id '"+l.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[l.id]=l,this.nextId++,l},u.prototype.setMasterForRow=function(o,i,s,l){if(this.doingTreeData)o.setMaster(!1),l&&(o.expanded=!1);else if(o.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(i))),l){var c=this.columnModel.getRowGroupColumns();o.expanded=!!o.master&&this.isExpanded(s+(c?c.length:0))}},u.prototype.isExpanded=function(o){var i=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===i||o<i},u.TOP_LEVEL=0,u.ROOT_NODE_ID="ROOT_NODE_ID",u}(),qT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gr=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},hs=(()=>(function(u){u[u.Normal=0]="Normal",u[u.AfterFilter=1]="AfterFilter",u[u.AfterFilterAndSort=2]="AfterFilterAndSort",u[u.PivotNodes=3]="PivotNodes"}(hs||(hs={})),hs))(),f0=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return qT(o,u),o.prototype.init=function(){var i=this.refreshModel.bind(this,{step:j.j_r.EVERYTHING}),s=!this.gridOptionsWrapper.isSuppressAnimationFrame(),l=this.refreshModel.bind(this,{step:j.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:s});this.addManagedListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,l),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:j.j_r.PIVOT})),this.addManagedListener(this.eventService,xe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_COLUMN_PIVOT_MODE_CHANGED,i);var c=this.refreshModel.bind(this,{step:j.j_r.MAP,keepRenderedRows:!0,animate:s});this.addManagedListener(this.gridOptionsWrapper,At.PROP_GROUP_REMOVE_SINGLE_CHILDREN,c),this.addManagedListener(this.gridOptionsWrapper,At.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,c),this.rootNode=new mn(this.beans),this.nodeManager=new KT(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},o.prototype.start=function(){var i=this.gridOptionsWrapper.getRowData();i&&this.setRowData(i)},o.prototype.ensureRowHeightsValid=function(i,s,l,c){var p,v=!1;do{p=!1;for(var M=this.getRowIndexAtPixel(i),L=this.getRowIndexAtPixel(s),Y=Math.max(M,l),re=Math.min(L,c),de=Y;de<=re;de++){var be=this.getRow(de);if(be.rowHeightEstimated){var Ce=this.gridOptionsWrapper.getRowHeightForNode(be);be.setRowHeight(Ce.height),p=!0,v=!0}}p&&this.setRowTopAndRowIndex()}while(p);return v},o.prototype.setRowTopAndRowIndex=function(){for(var i=this.gridOptionsWrapper.getDefaultRowHeight(),s=0,l=new Set,c=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_NORMAL,p=0;p<this.rowsToDisplay.length;p++){var v=this.rowsToDisplay[p];if(null!=v.id&&l.add(v.id),null==v.rowHeight){var M=this.gridOptionsWrapper.getRowHeightForNode(v,c,i);v.setRowHeight(M.height,M.estimated)}v.setRowTop(s),v.setRowIndex(p),s+=v.rowHeight}return l},o.prototype.clearRowTopAndRowIndex=function(i,s){var l=i.isActive(),c=function(v){v&&null!=v.id&&!s.has(v.id)&&v.clearRowTopAndRowIndex()},p=function(v){c(v),c(v.detailNode),c(v.sibling),v.hasChildren()&&v.childrenAfterGroup&&(l&&-1!=v.level&&!v.expanded||v.childrenAfterGroup.forEach(p))};p(this.rootNode)},o.prototype.ensureRowsAtPixel=function(i,s,l){var c=this;void 0===l&&(l=0);var p=this.getRowIndexAtPixel(s),v=this.getRow(p),M=!this.gridOptionsWrapper.isSuppressAnimationFrame();return v!==i[0]&&(i.forEach(function(L){ht.removeFromArray(c.rootNode.allLeafChildren,L)}),i.forEach(function(L,Y){ht.insertIntoArray(c.rootNode.allLeafChildren,L,Math.max(p+l,0)+Y)}),this.refreshModel({step:j.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:M}),!0)},o.prototype.highlightRowAtPixel=function(i,s){var l=null!=s?this.getRowIndexAtPixel(s):null,c=null!=l?this.getRow(l):null;if(c&&i&&c!==i&&null!=s){var p=this.getHighlightPosition(s,c);this.lastHighlightedRow&&this.lastHighlightedRow!==c&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),c.setHighlighted(p),this.lastHighlightedRow=c}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},o.prototype.getHighlightPosition=function(i,s){if(!s){var l=this.getRowIndexAtPixel(i);if(!(s=this.getRow(l||0)))return j.oh5.Below}return i-s.rowTop<s.rowHeight/2?j.oh5.Above:j.oh5.Below},o.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},o.prototype.isLastRowIndexKnown=function(){return!0},o.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},o.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var s=this.rootNode.childrenAfterAggFilter;return s?s.length:0},o.prototype.getTopLevelRowDisplayedIndex=function(i){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return i;var l=this.rootNode.childrenAfterSort[i];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},o.prototype.getRowBounds=function(i){if(ht.missing(this.rowsToDisplay))return null;var s=this.rowsToDisplay[i];return s?{rowTop:s.rowTop,rowHeight:s.rowHeight}:null},o.prototype.onRowGroupOpened=function(){var i=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:j.j_r.MAP,keepRenderedRows:!0,animate:i})},o.prototype.onFilterChanged=function(i){if(!i.afterDataChange){var s=this.gridOptionsWrapper.isAnimateRows(),l=0===i.columns.length||i.columns.some(function(p){return p.isPrimary()});this.refreshModel({step:l?j.j_r.FILTER:j.j_r.FILTER_AGGREGATES,keepRenderedRows:!0,animate:s})}},o.prototype.onSortChanged=function(){var i=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:j.j_r.SORT,keepRenderedRows:!0,animate:i,keepEditingRows:!0})},o.prototype.getType=function(){return Ie.ROW_MODEL_TYPE_CLIENT_SIDE},o.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:j.j_r.PIVOT}):this.refreshModel({step:j.j_r.AGGREGATE})},o.prototype.createChangePath=function(i){var s=ht.missingOrEmpty(i),l=new ls(!1,this.rootNode);return(s||this.gridOptionsWrapper.isTreeData())&&l.setInactive(),l},o.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(i){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==i.rowNodeTransactions)return!1;var s=i.rowNodeTransactions.filter(function(c){return null!=c.add&&c.add.length>0||null!=c.remove&&c.remove.length>0});return null==s||0==s.length},o.prototype.refreshModel=function(i){if(!this.isSuppressModelUpdateAfterUpdateTransaction(i)){var s=this.createChangePath(i.rowNodeTransactions);switch(i.step){case j.j_r.EVERYTHING:this.doRowGrouping(i.groupState,i.rowNodeTransactions,i.rowNodeOrder,s,!!i.afterColumnsChanged);case j.j_r.FILTER:this.doFilter(s);case j.j_r.PIVOT:this.doPivot(s);case j.j_r.AGGREGATE:this.doAggregate(s);case j.j_r.FILTER_AGGREGATES:this.doFilterAggregates(s);case j.j_r.SORT:this.doSort(i.rowNodeTransactions,s);case j.j_r.MAP:this.doRowsToDisplay()}var l=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(s,l),this.eventService.dispatchEvent({type:xe.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:i.animate,keepRenderedRows:i.keepRenderedRows,newData:i.newData,newPage:!1})}},o.prototype.isEmpty=function(){var i=ht.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return ht.missing(this.rootNode)||i||!this.columnModel.isReady()},o.prototype.isRowsToRender=function(){return ht.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},o.prototype.getNodesInRangeForSelection=function(i,s){var p,l=!s,c=!1,v=[],M=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(L){var Y=l&&!c;if(l||(L===s||L===i)&&(l=!0),!L.group||!M){var de=l&&!c,be=L.isParentOfNode(p);(de||be)&&v.push(L)}Y&&(L===s||L===i)&&(c=!0,p=L===s?s:i)}),v},o.prototype.setDatasource=function(i){console.error("AG Grid: should never call setDatasource on clientSideRowController")},o.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},o.prototype.getRootNode=function(){return this.rootNode},o.prototype.getRow=function(i){return this.rowsToDisplay[i]},o.prototype.isRowPresent=function(i){return this.rowsToDisplay.indexOf(i)>=0},o.prototype.getRowIndexAtPixel=function(i){if(this.isEmpty())return-1;var s=0,l=this.rowsToDisplay.length-1;if(i<=0)return 0;if(ht.last(this.rowsToDisplay).rowTop<=i)return this.rowsToDisplay.length-1;for(;;){var p=Math.floor((s+l)/2),v=this.rowsToDisplay[p];if(this.isRowInPixel(v,i))return p;v.rowTop<i?s=p+1:v.rowTop>i&&(l=p-1)}},o.prototype.isRowInPixel=function(i,s){return i.rowTop<=s&&i.rowTop+i.rowHeight>s},o.prototype.forEachLeafNode=function(i){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(s,l){return i(s,l)})},o.prototype.forEachNode=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,i,hs.Normal,0)},o.prototype.forEachNodeAfterFilter=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,i,hs.AfterFilter,0)},o.prototype.forEachNodeAfterFilterAndSort=function(i){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,i,hs.AfterFilterAndSort,0)},o.prototype.forEachPivotNode=function(i){this.recursivelyWalkNodesAndCallback([this.rootNode],i,hs.PivotNodes,0)},o.prototype.recursivelyWalkNodesAndCallback=function(i,s,l,c){if(!i)return c;for(var p=0;p<i.length;p++){var v=i[p];if(s(v,c++),v.hasChildren()){var M=null;switch(l){case hs.Normal:M=v.childrenAfterGroup;break;case hs.AfterFilter:M=v.childrenAfterAggFilter;break;case hs.AfterFilterAndSort:M=v.childrenAfterSort;break;case hs.PivotNodes:M=v.leafGroup?null:v.childrenAfterSort}M&&(c=this.recursivelyWalkNodesAndCallback(M,s,l,c))}}return c},o.prototype.doAggregate=function(i){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:i})},o.prototype.doFilterAggregates=function(i){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:i}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},o.prototype.expandOrCollapseAll=function(i){var s=this.gridOptionsWrapper.isTreeData(),l=this.columnModel.isPivotActive(),c=function(M){!M||M.forEach(function(L){var Y=function(){L.expanded=i,c(L.childrenAfterGroup)};s?ht.exists(L.childrenAfterGroup)&&Y():l?!L.leafGroup&&Y():L.group&&Y()})};this.rootNode&&c(this.rootNode.childrenAfterGroup),this.refreshModel({step:j.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:xe.EVENT_EXPAND_COLLAPSE_ALL,source:i?"expandAll":"collapseAll"})},o.prototype.doSort=function(i,s){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:i,changedPath:s})},o.prototype.doRowGrouping=function(i,s,l,c,p){this.groupStage?(s?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:s,rowNodeOrder:l,changedPath:c}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:c,afterColumnsChanged:p}),this.restoreGroupState(i)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(c)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},o.prototype.restoreGroupState=function(i){!i||ht.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,l){"boolean"==typeof i[l]&&(s.expanded=i[l])})},o.prototype.doFilter=function(i){this.filterStage.execute({rowNode:this.rootNode,changedPath:i})},o.prototype.doPivot=function(i){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:i})},o.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var i={};return ht.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,l){return i[l]=s.expanded}),i},o.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},o.prototype.getRowNode=function(i){if("string"==typeof i&&0==i.indexOf(mn.ID_PREFIX_ROW_GROUP)){var l=void 0;return this.forEachNode(function(c){c.id===i&&(l=c)}),l}return this.nodeManager.getRowNode(i)},o.prototype.setRowData=function(i){var s=this.getGroupState();this.nodeManager.setRowData(i),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:xe.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:j.j_r.EVERYTHING,groupState:s,newData:!0})},o.prototype.batchUpdateRowData=function(i,s){var l=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var c=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){l.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:i,callback:s})},o.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},o.prototype.executeBatchUpdateRowData=function(){var i=this;this.valueCache.onDataChanged();var s=[],l=[],c=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(v){var M=i.nodeManager.updateRowData(v.rowDataTransaction,void 0);l.push(M),v.callback&&s.push(v.callback.bind(null,M)),"number"==typeof v.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(l,void 0,c),s.length>0&&window.setTimeout(function(){s.forEach(function(v){return v()})},0),l.length>0){var p={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:xe.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:l};this.eventService.dispatchEvent(p)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},o.prototype.updateRowData=function(i,s){this.valueCache.onDataChanged();var l=this.nodeManager.updateRowData(i,s);return this.commonUpdateRowData([l],s,"number"==typeof i.addIndex),l},o.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var s={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var l=0;l<this.rootNode.allLeafChildren.length;l++)s[this.rootNode.allLeafChildren[l].id]=l;return s}},o.prototype.commonUpdateRowData=function(i,s,l){var c=!this.gridOptionsWrapper.isSuppressAnimationFrame();l&&(s=this.createRowNodeOrder()),this.refreshModel({step:j.j_r.EVERYTHING,rowNodeTransactions:i,rowNodeOrder:s,keepRenderedRows:!0,keepEditingRows:!0,animate:c}),this.eventService.dispatchEvent({type:xe.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},o.prototype.onRowHeightChanged=function(){this.refreshModel({step:j.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},o.prototype.resetRowHeights=function(){var i=!1;this.forEachNode(function(s){s.setRowHeight(s.rowHeight,!0);var l=s.detailNode;l&&l.setRowHeight(l.rowHeight,!0),i=!0}),i&&this.onRowHeightChanged()},gr([le("columnModel")],o.prototype,"columnModel",void 0),gr([le("selectionService")],o.prototype,"selectionService",void 0),gr([le("filterManager")],o.prototype,"filterManager",void 0),gr([le("valueCache")],o.prototype,"valueCache",void 0),gr([le("columnApi")],o.prototype,"columnApi",void 0),gr([le("gridApi")],o.prototype,"gridApi",void 0),gr([le("animationFrameService")],o.prototype,"animationFrameService",void 0),gr([le("beans")],o.prototype,"beans",void 0),gr([le("filterStage")],o.prototype,"filterStage",void 0),gr([le("sortStage")],o.prototype,"sortStage",void 0),gr([le("flattenStage")],o.prototype,"flattenStage",void 0),gr([fn("groupStage")],o.prototype,"groupStage",void 0),gr([fn("aggregationStage")],o.prototype,"aggregationStage",void 0),gr([fn("pivotStage")],o.prototype,"pivotStage",void 0),gr([fn("filterAggregatesStage")],o.prototype,"filterAggregatesStage",void 0),gr([Xe],o.prototype,"init",null),gr([at("rowModel")],o)}(dt),g0=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),qp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},xO=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return g0(o,u),o.prototype.execute=function(i){this.filterService.filter(i.changedPath)},qp([le("filterService")],o.prototype,"filterService",void 0),qp([at("filterStage")],o)}(dt),t_=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Xp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},SO=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return t_(o,u),o.prototype.execute=function(i){var s=this.sortController.getSortOptions(),l=ht.exists(s)&&s.length>0,c=l&&ht.exists(i.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),p=s.some(function(v){return!!v.column.getColDef().showRowGroup});this.sortService.sort(s,l,c,i.rowNodeTransactions,i.changedPath,p)},Xp([le("sortService")],o.prototype,"sortService",void 0),Xp([le("sortController")],o.prototype,"sortController",void 0),Xp([le("columnModel")],o.prototype,"columnModel",void 0),Xp([at("sortStage")],o)}(dt),Se=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},te=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Se(o,u),o.prototype.execute=function(i){var s=i.rowNode,l=[],c={value:0},p=this.columnModel.isPivotMode(),v=p&&s.leafGroup;return this.recursivelyAddToRowsToDisplay(v?[s]:s.childrenAfterSort,l,c,p,0),!v&&l.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(s),this.addRowNodeToRowsToDisplay(s.sibling,l,c,0)),l},o.prototype.recursivelyAddToRowsToDisplay=function(i,s,l,c,p){if(!ht.missingOrEmpty(i))for(var v=this.gridOptionsWrapper.isGroupHideOpenParents(),M=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),L=!M&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),Y=0;Y<i.length;Y++){var re=i[Y],de=re.hasChildren(),Ce=M&&de&&1===re.childrenAfterGroup.length,Re=L&&de&&re.leafGroup&&1===re.childrenAfterGroup.length;if(!(c&&!de||v&&re.expanded&&!re.master&&(!c||!re.leafGroup)||Ce||Re)&&this.addRowNodeToRowsToDisplay(re,s,l,p),!c||!re.leafGroup)if(de){var Ke=Ce||Re;(re.expanded||Ke)&&(this.recursivelyAddToRowsToDisplay(re.childrenAfterSort,s,l,c,Ke?p:p+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(re),this.addRowNodeToRowsToDisplay(re.sibling,s,l,p)))}else if(re.master&&re.expanded){var Bt=this.createDetailNode(re);this.addRowNodeToRowsToDisplay(Bt,s,l,p)}}},o.prototype.addRowNodeToRowsToDisplay=function(i,s,l,c){var p=this.gridOptionsWrapper.isGroupMultiAutoColumn();s.push(i),i.setUiLevel(p?0:c)},o.prototype.ensureFooterNodeExists=function(i){if(!ht.exists(i.sibling)){var s=new mn(this.beans);Object.keys(i).forEach(function(l){s[l]=i[l]}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,ht.exists(s.id)&&(s.id="rowGroupFooter_"+s.id),s.sibling=i,i.sibling=s}},o.prototype.createDetailNode=function(i){if(ht.exists(i.detailNode))return i.detailNode;var s=new mn(this.beans);return s.detail=!0,s.selectable=!1,s.parent=i,ht.exists(i.id)&&(s.id="detail_"+i.id),s.data=i.data,s.level=i.level+1,i.detailNode=s,s},jd([le("columnModel")],o.prototype,"columnModel",void 0),jd([le("beans")],o.prototype,"beans",void 0),jd([at("flattenStage")],o)}(dt),n_=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Qp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},$=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return n_(o,u),o.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},o.prototype.sort=function(i,s,l,c,p,v){var M=this,L=this.gridOptionsWrapper.isGroupMaintainOrder(),Y=this.columnModel.getAllGridColumns().some(function(Ce){return Ce.isRowGroupActive()}),re={};l&&c&&(re=this.calculateDirtyNodes(c));var de=this.columnModel.isPivotMode();p&&p.forEachChangedNodeDepthFirst(function(Ce){if(M.pullDownGroupDataForHideOpenParents(Ce.childrenAfterAggFilter,!0),!s||L&&Y&&!Ce.leafGroup&&!v||de&&Ce.leafGroup){var Ze=Ce.childrenAfterAggFilter.slice(0);if(L&&Ce.childrenAfterSort){var He=Ce.childrenAfterSort.reduce(function(pt,Bt,Sn){return pt[Bt.id]=Sn,pt},{});Ze.sort(function(pt,Bt){return(He[pt.id]||0)-(He[Bt.id]||0)})}Ce.childrenAfterSort=Ze}else Ce.childrenAfterSort=l?M.doDeltaSort(Ce,re,p,i):M.rowNodeSorter.doFullSort(Ce.childrenAfterAggFilter,i);Ce.sibling&&(Ce.sibling.childrenAfterSort=Ce.childrenAfterSort),M.updateChildIndexes(Ce),M.postSortFunc&&M.postSortFunc({nodes:Ce.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(p)},o.prototype.calculateDirtyNodes=function(i){var s={},l=function(c){c&&c.forEach(function(p){return s[p.id]=!0})};return i&&i.forEach(function(c){l(c.add),l(c.update),l(c.remove)}),s},o.prototype.doDeltaSort=function(i,s,l,c){var p=this,v=i.childrenAfterAggFilter,M=i.childrenAfterSort;if(!M)return this.rowNodeSorter.doFullSort(v,c);var L={},Y=[];v.forEach(function(Ce){s[Ce.id]||!l.canSkip(Ce)?Y.push(Ce):L[Ce.id]=!0});var re=M.filter(function(Ce){return L[Ce.id]}),de=function(Ce,Re){return{currentPos:Re,rowNode:Ce}},be=Y.map(de).sort(function(Ce,Re){return p.rowNodeSorter.compareRowNodes(c,Ce,Re)});return this.mergeSortedArrays(c,be,re.map(de)).map(function(Ce){return Ce.rowNode})},o.prototype.mergeSortedArrays=function(i,s,l){for(var c=[],p=0,v=0;p<s.length&&v<l.length;){var M=this.rowNodeSorter.compareRowNodes(i,s[p],l[v]);c.push(M<0?s[p++]:l[v++])}for(;p<s.length;)c.push(s[p++]);for(;v<l.length;)c.push(l[v++]);return c},o.prototype.updateChildIndexes=function(i){if(!ht.missing(i.childrenAfterSort))for(var s=i.childrenAfterSort,l=0;l<s.length;l++){var c=s[l],v=l===i.childrenAfterSort.length-1;c.setFirstChild(0===l),c.setLastChild(v),c.setChildIndex(l)}},o.prototype.updateGroupDataForHideOpenParents=function(i){var s=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return ht.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var c=function(p){s.pullDownGroupDataForHideOpenParents(p.childrenAfterSort,!1),p.childrenAfterSort.forEach(function(v){v.hasChildren()&&c(v)})};i&&i.executeFromRootNode(function(p){return c(p)})}},o.prototype.pullDownGroupDataForHideOpenParents=function(i,s){var l=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||ht.missing(i)||i.forEach(function(c){l.columnModel.getGroupDisplayColumns().forEach(function(v){var M=v.getColDef().showRowGroup;if("string"==typeof M){var Y=l.columnModel.getPrimaryColumn(M);if(Y!==c.rowGroupColumn)if(s)c.setGroupValue(v.getId(),void 0);else{var de=c.getFirstChildOfFirstChild(Y);de&&c.setGroupValue(v.getId(),de.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},Qp([le("columnModel")],o.prototype,"columnModel",void 0),Qp([le("rowNodeSorter")],o.prototype,"rowNodeSorter",void 0),Qp([Xe],o.prototype,"init",null),Qp([at("sortService")],o)}(dt),z=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ee=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},TO=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return z(o,u),o.prototype.filter=function(i){var s=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent();this.filterNodes(s,i)},o.prototype.filterNodes=function(i,s){var l=this,c=function(L,Y){L.childrenAfterFilter=L.hasChildren()&&i&&!Y?L.childrenAfterGroup.filter(function(re){var de=re.childrenAfterFilter&&re.childrenAfterFilter.length>0,be=re.data&&l.filterManager.doesRowPassFilter({rowNode:re});return de||be}):L.childrenAfterGroup,L.sibling&&(L.sibling.childrenAfterFilter=L.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var p=function(L,Y){if(L.childrenAfterGroup)for(var re=0;re<L.childrenAfterGroup.length;re++){var de=L.childrenAfterGroup[re],be=Y||l.filterManager.doesRowPassFilter({rowNode:de});de.childrenAfterGroup?p(L.childrenAfterGroup[re],be):c(de,be)}c(L,Y)};s.executeFromRootNode(function(L){return p(L,!1)})}else s.forEachChangedNodeDepthFirst(function(L){return c(L,!1)},!0)},o.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Ee([le("filterManager")],o.prototype,"filterManager",void 0),Ee([at("filterService")],o)}(dt),XT=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Di=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},m0=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return XT(o,u),o.prototype.postConstruct=function(){this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},o.prototype.setRowData=function(i){var s=this.createTransactionForRowData(i);if(s){var l=function(u,o){var i="function"==typeof Symbol&&u[Symbol.iterator];if(!i)return u;var l,p,s=i.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(p)throw p.error}}return c}(s,2),v=this.clientSideRowModel.updateRowData(l[0],l[1]);v&&this.rowRenderer.refreshFullWidthRows(v.update),this.eventService.dispatchEvent({type:xe.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},o.prototype.createTransactionForRowData=function(i){if(ht.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var s=this.gridOptionsWrapper.getRowIdFunc();if(null!=s){var l={remove:[],update:[],add:[]},c=this.clientSideRowModel.getCopyOfNodesMap(),v=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return ht.exists(i)&&i.forEach(function(M,L){var Y=s({data:M,level:0}),re=c[Y];v&&(v[Y]=L),re?(re.data!==M&&l.update.push(M),c[Y]=void 0):l.add.push(M)}),ht.iterateObject(c,function(M,L){L&&l.remove.push(L.data)}),[l,v]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Di([le("rowModel")],o.prototype,"rowModel",void 0),Di([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Di([le("columnApi")],o.prototype,"columnApi",void 0),Di([le("gridApi")],o.prototype,"gridApi",void 0),Di([Xe],o.prototype,"postConstruct",null),Di([at("immutableService")],o)}(dt),Wt={moduleName:j.GXE.ClientSideRowModelModule,beans:[xO,SO,te,$,TO,m0],rowModels:{clientSide:f0}},$d=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zp=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},Jp=function(u){function o(i,s,l){var c=u.call(this,i)||this;return c.parentCache=s,c.params=l,c.startRow=i*l.blockSize,c.endRow=c.startRow+l.blockSize,c}return $d(o,u),o.prototype.postConstruct=function(){this.createRowNodes()},o.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},o.prototype.setDataAndId=function(i,s,l){!i.id&&i.alreadyRendered&&(i.alreadyRendered=!1),ht.exists(s)?i.setDataAndId(s,l.toString()):i.setDataAndId(void 0,void 0)},o.prototype.loadFromDatasource=function(){var i=this,s=this.createLoadParams();ht.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){i.params.datasource.getRows(s)},0)},o.prototype.processServerFail=function(){},o.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},o.prototype.forEachNode=function(i,s,l){var c=this;this.rowNodes.forEach(function(p,v){c.startRow+v<l&&i(p,s.next())})},o.prototype.getLastAccessed=function(){return this.lastAccessed},o.prototype.getRow=function(i,s){return void 0===s&&(s=!1),s||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[i-this.startRow]},o.prototype.getStartRow=function(){return this.startRow},o.prototype.getEndRow=function(){return this.endRow},o.prototype.createRowNodes=function(){this.rowNodes=[];for(var i=0;i<this.params.blockSize;i++){var s=this.startRow+i,l=new mn(this.beans);l.setRowHeight(this.params.rowHeight),l.uiLevel=0,l.setRowIndex(s),l.setRowTop(this.params.rowHeight*s),this.rowNodes.push(l)}},o.prototype.processServerResult=function(i){var s=this;this.rowNodes.forEach(function(c,p){s.setDataAndId(c,i.rowData?i.rowData[p]:void 0,s.startRow+p)}),this.parentCache.pageLoaded(this,null!=i.rowCount&&i.rowCount>=0?i.rowCount:void 0)},o.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(i){i.clearRowTopAndRowIndex()})},Zp([le("beans")],o.prototype,"beans",void 0),Zp([Xe],o.prototype,"postConstruct",null),Zp([Yt],o.prototype,"destroyRowNodes",null),o}(Pp),tt=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Wd=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},QT=function(u,o){return function(i,s){o(i,s,u)}},_0=function(u){function o(i){var s=u.call(this)||this;return s.lastRowIndexKnown=!1,s.blocks={},s.blockCount=0,s.rowCount=i.initialRowCount,s.params=i,s}return tt(o,u),o.prototype.setBeans=function(i){this.logger=i.create("InfiniteCache")},o.prototype.getRow=function(i,s){void 0===s&&(s=!1);var l=Math.floor(i/this.params.blockSize),c=this.blocks[l];if(!c){if(s)return;c=this.createBlock(l)}return c.getRow(i)},o.prototype.createBlock=function(i){var s=this.createBean(new Jp(i,this,this.params));return this.blocks[s.getId()]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),this.params.rowNodeBlockLoader.addBlock(s),s},o.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(s){return s.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},o.prototype.destroyAllBlocks=function(){var i=this;this.getBlocksInOrder().forEach(function(s){return i.destroyBlock(s)})},o.prototype.getRowCount=function(){return this.rowCount},o.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},o.prototype.pageLoaded=function(i,s){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+i.getId()+", lastRow = "+s),this.checkRowCount(i,s),this.onCacheUpdated())},o.prototype.purgeBlocksIfNeeded=function(i){var s=this,l=this.getBlocksInOrder().filter(function(L){return L!=i});l.sort(function(L,Y){return Y.getLastAccessed()-L.getLastAccessed()});var p=this.params.maxBlocksInCache>0,v=p?this.params.maxBlocksInCache-1:null,M=o.MAX_EMPTY_BLOCKS_TO_KEEP-1;l.forEach(function(L,Y){if(L.getState()===Jp.STATE_WAITING_TO_LOAD&&Y>=M||p&&Y>=v){if(s.isBlockCurrentlyDisplayed(L)||s.isBlockFocused(L))return;s.removeBlockFromCache(L)}})},o.prototype.isBlockFocused=function(i){var s=this.focusService.getFocusCellToUseAfterRefresh();if(!s||null!=s.rowPinned)return!1;var l=i.getStartRow(),c=i.getEndRow();return s.rowIndex>=l&&s.rowIndex<c},o.prototype.isBlockCurrentlyDisplayed=function(i){var s=i.getStartRow(),l=i.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(s,l)},o.prototype.removeBlockFromCache=function(i){!i||this.destroyBlock(i)},o.prototype.checkRowCount=function(i,s){if("number"==typeof s&&s>=0)this.rowCount=s,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(i.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}},o.prototype.setRowCount=function(i,s){this.rowCount=i,ht.exists(s)&&(this.lastRowIndexKnown=s),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},o.prototype.forEachNodeDeep=function(i){var s=this,l=new wc;this.getBlocksInOrder().forEach(function(c){return c.forEachNode(i,l,s.rowCount)})},o.prototype.getBlocksInOrder=function(){return ht.getAllValuesInObject(this.blocks).sort(function(l,c){return l.getId()-c.getId()})},o.prototype.destroyBlock=function(i){delete this.blocks[i.getId()],this.destroyBean(i),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(i)},o.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:xe.EVENT_STORE_UPDATED}))},o.prototype.destroyAllBlocksPastVirtualRowCount=function(){var i=this,s=[];this.getBlocksInOrder().forEach(function(l){l.getId()*i.params.blockSize>=i.rowCount&&s.push(l)}),s.length>0&&s.forEach(function(l){return i.destroyBlock(l)})},o.prototype.purgeCache=function(){var i=this;this.getBlocksInOrder().forEach(function(s){return i.removeBlockFromCache(s)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},o.prototype.getRowNodesInRange=function(i,s){var l=this,c=[],p=-1,v=!1,M=new wc;ht.missing(i)&&(v=!0);var L=!1;return this.getBlocksInOrder().forEach(function(re){if(!L){if(v&&p+1!==re.getId())return void(L=!0);p=re.getId(),re.forEachNode(function(de){var be=de===i||de===s;(v||be)&&c.push(de),be&&(v=!v)},M,l.rowCount)}}),L||v?[]:c},o.MAX_EMPTY_BLOCKS_TO_KEEP=2,Wd([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Wd([le("focusService")],o.prototype,"focusService",void 0),Wd([QT(0,Jn("loggerFactory"))],o.prototype,"setBeans",null),Wd([Yt],o.prototype,"destroyAllBlocks",null),o}(dt),v0=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Yo=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},ve=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return v0(o,u),o.prototype.getRowBounds=function(i){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*i}},o.prototype.ensureRowHeightsValid=function(i,s,l,c){return!1},o.prototype.init=function(){var i=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return i.destroyCache()}),this.verifyProps())},o.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&ht.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},o.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},o.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,xe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,xe.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},o.prototype.onFilterChanged=function(){this.reset()},o.prototype.onSortChanged=function(){this.reset()},o.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},o.prototype.isSortModelDifferent=function(){return!ht.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},o.prototype.getType=function(){return Ie.ROW_MODEL_TYPE_INFINITE},o.prototype.setDatasource=function(i){this.destroyDatasource(),this.datasource=i,i&&this.reset()},o.prototype.isEmpty=function(){return!this.infiniteCache},o.prototype.isRowsToRender=function(){return!!this.infiniteCache},o.prototype.getNodesInRangeForSelection=function(i,s){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(i,s):[]},o.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var l=this.createModelUpdatedEvent();this.eventService.dispatchEvent(l)}},o.prototype.createModelUpdatedEvent=function(){return{type:xe.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},o.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new wc},this.infiniteCache=this.createBean(new _0(this.cacheParams))},o.prototype.defaultIfInvalid=function(i,s){return i>0?i:s},o.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},o.prototype.onCacheUpdated=function(){var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)},o.prototype.getRow=function(i){if(this.infiniteCache&&!(i>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(i)},o.prototype.getRowNode=function(i){var s;return this.forEachNode(function(l){l.id===i&&(s=l)}),s},o.prototype.forEachNode=function(i){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(i)},o.prototype.getTopLevelRowCount=function(){return this.getRowCount()},o.prototype.getTopLevelRowDisplayedIndex=function(i){return i},o.prototype.getRowIndexAtPixel=function(i){if(0!==this.rowHeight){var s=Math.floor(i/this.rowHeight),l=this.getRowCount()-1;return s>l?l:s}return 0},o.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},o.prototype.isRowPresent=function(i){return!!this.getRowNode(i.id)},o.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},o.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},o.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},o.prototype.setRowCount=function(i,s){this.infiniteCache&&this.infiniteCache.setRowCount(i,s)},Yo([le("filterManager")],o.prototype,"filterManager",void 0),Yo([le("sortController")],o.prototype,"sortController",void 0),Yo([le("selectionService")],o.prototype,"selectionService",void 0),Yo([le("gridApi")],o.prototype,"gridApi",void 0),Yo([le("columnApi")],o.prototype,"columnApi",void 0),Yo([le("rowRenderer")],o.prototype,"rowRenderer",void 0),Yo([le("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),Yo([Xe],o.prototype,"init",null),Yo([Yt],o.prototype,"destroyDatasource",null),Yo([at("rowModel")],o)}(dt),ZT={moduleName:j.GXE.InfiniteRowModelModule,rowModels:{infinite:ve}},lu=function(){function u(){}return u.prototype.setBeans=function(o){this.beans=o},u.prototype.getFileName=function(o){var i=this.getDefaultFileExtension();return(null==o||!o.length)&&(o=this.getDefaultFileName()),-1===o.indexOf(".")?o+"."+i:o},u.prototype.getData=function(o){var i=this.createSerializingSession(o);return this.beans.gridSerializer.serialize(i,o)},u}(),cu=function(){function u(o){this.groupColumns=[];var s=o.valueService,l=o.gridOptionsWrapper,c=o.processCellCallback,p=o.processHeaderCallback,v=o.processGroupHeaderCallback,M=o.processRowGroupCallback;this.columnModel=o.columnModel,this.valueService=s,this.gridOptionsWrapper=l,this.processCellCallback=c,this.processHeaderCallback=p,this.processGroupHeaderCallback=v,this.processRowGroupCallback=M}return u.prototype.prepare=function(o){this.groupColumns=o.filter(function(i){return!!i.getColDef().showRowGroup})},u.prototype.extractHeaderValue=function(o){var i=this.getHeaderName(this.processHeaderCallback,o);return null!=i?i:""},u.prototype.extractRowCellValue=function(o,i,s,l,c){var M,p=this.gridOptionsWrapper.isGroupMultiAutoColumn()?c.rowGroupIndex:0;M=c&&c.group&&(i===p&&-1!==this.groupColumns.indexOf(o)||0===i&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(c):this.valueService.getValue(o,c);var L=this.processCell(s,c,o,M,this.processCellCallback,l);return null!=L?L:""},u.prototype.getHeaderName=function(o,i){return o?o({column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(i,"csv",!0)},u.prototype.createValueForGroupNode=function(o){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var i=[o.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;o.parent;)i.push((o=o.parent).key);return i.reverse().join(" -> ")},u.prototype.processCell=function(o,i,s,l,c,p){return c?c({accumulatedRowIndex:o,column:s,node:i,value:l,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:p}):null!=l?l:""},u}(),Qn=function(){function u(){}return u.download=function(o,i){var s=document.defaultView||window;if(s){var l=document.createElement("a"),c=s.URL.createObjectURL(i);l.setAttribute("href",c),l.setAttribute("download",o),l.style.display="none",document.body.appendChild(l),l.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(l),s.setTimeout(function(){s.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},u}(),Kr=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),y0=function(u){function o(i){var s=u.call(this,i)||this;s.isFirstLine=!0,s.result="";var c=i.columnSeparator;return s.suppressQuotes=i.suppressQuotes,s.columnSeparator=c,s}return Kr(o,u),o.prototype.addCustomContent=function(i){var s=this;!i||("string"==typeof i?(/^\s*\n/.test(i)||this.beginNewLine(),i=i.replace(/\r?\n/g,"\r\n"),this.result+=i):i.forEach(function(l){s.beginNewLine(),l.forEach(function(c,p){0!==p&&(s.result+=s.columnSeparator),s.result+=s.putInQuotes(c.data.value||""),c.mergeAcross&&s.appendEmptyCells(c.mergeAcross)})}))},o.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},o.prototype.onNewHeaderGroupingRowColumn=function(i,s,l){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(l)},o.prototype.appendEmptyCells=function(i){for(var s=1;s<=i;s++)this.result+=this.columnSeparator+this.putInQuotes("")},o.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},o.prototype.onNewHeaderRowColumn=function(i,s){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(i))},o.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},o.prototype.onNewBodyRowColumn=function(i,s,l){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(i,s,s,Ie.EXPORT_TYPE_CSV,l))},o.prototype.putInQuotes=function(i){return this.suppressQuotes?i:null==i?'""':("string"==typeof i?s=i:"function"==typeof i.toString?s=i.toString():(console.warn("AG Grid: unknown value type during csv conversion"),s=""),'"'+s.replace(/"/g,'""')+'"');var s},o.prototype.parse=function(){return this.result},o.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},o}(cu),C0=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),jl=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c},r_=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return C0(o,u),o.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},o.prototype.getMergedParams=function(i){var s=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},s,i)},o.prototype.export=function(i){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var s=this.getMergedParams(i),l=this.getData(s),c=new Blob(["\ufeff",l],{type:"text/plain"});return Qn.download(this.getFileName(s.fileName),c),l},o.prototype.exportDataAsCsv=function(i){return this.export(i)},o.prototype.getDataAsCsv=function(i){var s=this.getMergedParams(i);return this.getData(s)},o.prototype.getDefaultFileName=function(){return"export.csv"},o.prototype.getDefaultFileExtension=function(){return"csv"},o.prototype.createSerializingSession=function(i){var s=this;return new y0({columnModel:s.columnModel,valueService:s.valueService,gridOptionsWrapper:s.gridOptionsWrapper,processCellCallback:i.processCellCallback||void 0,processHeaderCallback:i.processHeaderCallback||void 0,processGroupHeaderCallback:i.processGroupHeaderCallback||void 0,processRowGroupCallback:i.processRowGroupCallback||void 0,suppressQuotes:i.suppressQuotes||!1,columnSeparator:i.columnSeparator||","})},o.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},jl([le("columnModel")],o.prototype,"columnModel",void 0),jl([le("valueService")],o.prototype,"valueService",void 0),jl([le("gridSerializer")],o.prototype,"gridSerializer",void 0),jl([le("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),jl([Xe],o.prototype,"postConstruct",null),jl([at("csvCreator")],o)}(lu),b0=function(){var u=function(o,i){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,i)};return function(o,i){function s(){this.constructor=o}u(o,i),o.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),La=function(u,o,i,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,i,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,i,c):p(o,i))||c);return l>3&&c&&Object.defineProperty(o,i,c),c};!function(u){u[u.HEADER_GROUPING=0]="HEADER_GROUPING",u[u.HEADER=1]="HEADER",u[u.BODY=2]="BODY"}(j.aCu||(j.aCu={}));var o_=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return b0(o,u),o.prototype.serialize=function(i,s){void 0===s&&(s={});var l=this.getColumnsToExport(s.allColumns,s.columnKeys);return ht.compose(this.prepareSession(l),this.prependContent(s),this.exportColumnGroups(s,l),this.exportHeaders(s,l),this.processPinnedTopRows(s,l),this.processRows(s,l),this.processPinnedBottomRows(s,l),this.appendContent(s))(i).parse()},o.prototype.processRow=function(i,s,l,c){var p=this,v=s.shouldRowBeSkipped||function(){return!1},M=this.gridOptionsWrapper,L=M.getContext(),Y=M.getApi(),re=M.getColumnApi(),de=M.isGroupRemoveSingleChildren(),be=M.isGroupHideOpenParents(),Ce=M.isGroupRemoveLowestSingleChildren(),Re=this.columnModel.isPivotMode()?c.leafGroup:!c.group,He=1===c.allChildrenCount&&(de||Ce&&c.leafGroup);(s.skipGroups||s.skipRowGroups)&&s.skipGroups&&ht.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var Ke={rowIndex:c.rowIndex,rowPinned:c.rowPinned};if(!(!Re&&(s.skipRowGroups||He||be)||s.onlySelected&&!c.isSelected()||s.rowNodes&&!s.rowNodes.some(function(zt){return p.rowPositionUtils.sameRow(zt,Ke)})||s.skipPinnedTop&&"top"===c.rowPinned||s.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||c.leafGroup)&&!v({node:c,api:Y,columnApi:re,context:L})){var Sn=i.onNewBodyRow();if(l.forEach(function(zt,kn){Sn.onColumn(zt,kn,c)}),s.getCustomContentBelowRow){var Tn=s.getCustomContentBelowRow({node:c,api:Y,columnApi:re,context:L});Tn&&i.addCustomContent(Tn)}}},o.prototype.appendContent=function(i){return function(s){var l=i.customFooter||i.appendContent;return l&&(i.customFooter&&ht.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),s.addCustomContent(l)),s}},o.prototype.prependContent=function(i){return function(s){var l=i.customHeader||i.prependContent;return l&&(i.customHeader&&ht.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),s.addCustomContent(l)),s}},o.prototype.prepareSession=function(i){return function(s){return s.prepare(i),s}},o.prototype.exportColumnGroups=function(i,s){var l=this;return function(c){if(i.skipColumnGroupHeaders)i.columnGroups&&ht.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var p=new Iu,v=l.displayedGroupCreator.createDisplayedGroups(s,l.columnModel.getGridBalancedTree(),p,null);l.recursivelyAddHeaderGroups(v,c,i.processGroupHeaderCallback)}return c}},o.prototype.exportHeaders=function(i,s){return function(l){if(i.skipHeader||i.skipColumnHeaders)i.skipHeader&&ht.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=l.onNewHeaderRow();s.forEach(function(p,v){c.onColumn(p,v,void 0)})}return l}},o.prototype.processPinnedTopRows=function(i,s){var l=this;return function(c){var p=l.processRow.bind(l,c,i,s);return l.pinnedRowModel.forEachPinnedTopRow(p),c}},o.prototype.processRows=function(i,s){var l=this;return function(c){var p=l.rowModel,v=p.getType(),M=v===Ie.ROW_MODEL_TYPE_CLIENT_SIDE,L=v===Ie.ROW_MODEL_TYPE_SERVER_SIDE,Y=!M&&i.onlySelected,re=l.processRow.bind(l,c,i,s);return l.columnModel.isPivotMode()?M?p.forEachPivotNode(re):p.forEachNode(re):i.onlySelectedAllPages||Y?l.selectionService.getSelectedNodes().forEach(re):M||L?p.forEachNodeAfterFilterAndSort(re):p.forEachNode(re),c}},o.prototype.processPinnedBottomRows=function(i,s){var l=this;return function(c){var p=l.processRow.bind(l,c,i,s);return l.pinnedRowModel.forEachPinnedBottomRow(p),c}},o.prototype.getColumnsToExport=function(i,s){void 0===i&&(i=!1);var l=this.columnModel.isPivotMode();return s&&s.length?this.columnModel.getGridColumns(s):i&&!l?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([Ie.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},o.prototype.recursivelyAddHeaderGroups=function(i,s,l){var c=[];i.forEach(function(p){!p.getChildren||p.getChildren().forEach(function(M){return c.push(M)})}),i.length>0&&i[0]instanceof Cr&&this.doAddHeaderHeader(s,i,l),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,s,l)},o.prototype.doAddHeaderHeader=function(i,s,l){var c=this,p=i.onNewHeaderGroupingRow(),v=0;s.forEach(function(M){var Y,L=M;Y=l?l({columnGroup:L,api:c.gridOptionsWrapper.getApi(),columnApi:c.gridOptionsWrapper.getColumnApi(),context:c.gridOptionsWrapper.getContext()}):c.columnModel.getDisplayNameForColumnGroup(L,"header");var re=L.getLeafColumns().reduce(function(de,be,Ce,Re){var Ge=ht.last(de);return"open"===be.getColumnGroupShow()?(!Ge||null!=Ge[1])&&de.push(Ge=[Ce]):Ge&&null==Ge[1]&&(Ge[1]=Ce-1),Ce===Re.length-1&&Ge&&null==Ge[1]&&(Ge[1]=Ce),de},[]);p.onColumn(Y||"",v++,L.getLeafColumns().length-1,re)})},La([le("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),La([le("columnModel")],o.prototype,"columnModel",void 0),La([le("rowModel")],o.prototype,"rowModel",void 0),La([le("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),La([le("selectionService")],o.prototype,"selectionService",void 0),La([le("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),La([at("gridSerializer")],o)}(dt),JT={moduleName:j.GXE.CsvExportModule,beans:[r_,o_]},tE=(function(){function u(){}u.createHeader=function(o){void 0===o&&(o={});var l=["version"];return o.version||(o.version="1.0"),o.encoding&&l.push("encoding"),o.standalone&&l.push("standalone"),"<?xml "+l.map(function(p){return p+'="'+o[p]+'"'}).join(" ")+" ?>"},u.createXml=function(o,i){var s=this,l="";o.properties&&(o.properties.prefixedAttributes&&o.properties.prefixedAttributes.forEach(function(p){Object.keys(p.map).forEach(function(v){l+=s.returnAttributeIfPopulated(p.prefix+v,p.map[v],i)})}),o.properties.rawMap&&Object.keys(o.properties.rawMap).forEach(function(p){l+=s.returnAttributeIfPopulated(p,o.properties.rawMap[p],i)}));var c="<"+o.name+l;return o.children||null!=o.textNode?null!=o.textNode?c+">"+o.textNode+"</"+o.name+">\r\n":(c+=">\r\n",o.children&&o.children.forEach(function(p){c+=s.createXml(p,i)}),c+"</"+o.name+">\r\n"):c+"/>\r\n"},u.returnAttributeIfPopulated=function(o,i,s){if(!i&&""!==i&&0!==i)return"";var l=i;return"boolean"==typeof i&&s&&(l=s(i))," "+o+'="'+l+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function u(){}u.addFolders=function(o){o.forEach(this.addFolder.bind(this))},u.addFolder=function(o){this.folders.push({path:o,created:new Date,isBase64:!1})},u.addFile=function(o,i,s){void 0===s&&(s=!1),this.files.push({path:o,created:new Date,content:i,isBase64:s})},u.getContent=function(o){void 0===o&&(o="application/zip");var i=this.buildFileStream(),s=this.buildUint8Array(i);return this.clearStream(),new Blob([s],{type:o})},u.clearStream=function(){this.folders=[],this.files=[]},u.buildFileStream=function(o){var i,s;void 0===o&&(o="");var l=this.folders.concat(this.files),c=l.length,p="",v=0,M=0;try{for(var L=function(u){var o="function"==typeof Symbol&&Symbol.iterator,i=o&&u[o],s=0;if(i)return i.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),Y=L.next();!Y.done;Y=L.next()){var de=this.getHeader(Y.value,v),be=de.fileHeader,Ce=de.folderHeader,Re=de.content;v+=be.length+Re.length,M+=Ce.length,o+=be+Re,p+=Ce}}catch(Ze){i={error:Ze}}finally{try{Y&&!Y.done&&(s=L.return)&&s.call(L)}finally{if(i)throw i.error}}return o+p+this.buildFolderEnd(c,M,v)},u.getHeader=function(o,i){var s=o.content,l=o.path,c=o.created,p=o.isBase64,M=ht.decToHex,L=(0,ht.utf8_encode)(l),Y=L!==l,re=this.convertTime(c),de=this.convertDate(c),be="";if(Y){var Ce=M(1,1)+M(this.getFromCrc32Table(L),4)+L;be="up"+M(Ce.length,2)+Ce}var Re=s?this.getConvertedContent(s,p):{size:0,content:""},Ge=Re.size,Ze=Re.content,He="\n\0"+(Y?"\0\b":"\0\0")+"\0\0"+M(re,2)+M(de,2)+M(Ge?this.getFromCrc32Table(Ze):0,4)+M(Ge,4)+M(Ge,4)+M(L.length,2)+M(be.length,2);return{fileHeader:"PK\x03\x04"+He+L+be,folderHeader:"PK\x01\x02\x14\0"+He+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+M(i,4)+L+be,content:Ze||""}},u.getConvertedContent=function(o,i){return void 0===i&&(i=!1),i&&(o=o.split(";base64,")[1]),{size:(o=i?atob(o):o).length,content:o}},u.buildFolderEnd=function(o,i,s){var l=ht.decToHex;return"PK\x05\x06\0\0\0\0"+l(o,2)+l(o,2)+l(i,4)+l(s,4)+"\0\0"},u.buildUint8Array=function(o){for(var i=new Uint8Array(o.length),s=0;s<i.length;s++)i[s]=o.charCodeAt(s);return i},u.getFromCrc32Table=function(o){if(!o.length)return 0;for(var i=o.length,s=new Uint8Array(i),l=0;l<i;l++)s[l]=o.charCodeAt(l);var c=-1;for(l=0;l<i;l++)c=c>>>8^tE[255&(c^s[l])];return-1^c},u.convertTime=function(o){var i=o.getHours();return i<<=6,i|=o.getMinutes(),(i<<=5)|o.getSeconds()/2},u.convertDate=function(o){var i=o.getFullYear()-1980;return i<<=4,i|=o.getMonth()+1,(i<<=5)|o.getDate()},u.folders=[],u.files=[]}();Le.register(Wt,!1),Le.register(ZT,!1),Le.register(JT,!1),j.j_S=ro,j.Nk3=p0,j.plv=rl,j.rjZ=h0,j.vA3=Ps},123:function(Or){Or.exports=function(j){function X(I){if(R[I])return R[I].exports;var O=R[I]={exports:{},id:I,loaded:!1};return j[I].call(O.exports,O,O.exports,X),O.loaded=!0,O.exports}var R={};return X.m=j,X.c=R,X.p="dist/",X(0)}([function(j,X,R){"use strict";function I(ce){return ce&&ce.__esModule?ce:{default:ce}}var O=Object.assign||function(ce){for(var ge=1;ge<arguments.length;ge++){var _e=arguments[ge];for(var we in _e)Object.prototype.hasOwnProperty.call(_e,we)&&(ce[we]=_e[we])}return ce},D=(I(R(1)),R(6)),C=I(D),y=I(R(7)),g=I(R(8)),b=I(R(9)),P=I(R(10)),F=I(R(11)),V=I(R(14)),B=[],K=!1,U={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ee=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(K=!0),K)return B=(0,F.default)(B,U),(0,P.default)(B,U.once),B},ie=function(){B=(0,V.default)(),ee()};j.exports={init:function(ce){U=O(U,ce),B=(0,V.default)();var ge=document.all&&!window.atob;return function(ce){return!0===ce||"mobile"===ce&&b.default.mobile()||"phone"===ce&&b.default.phone()||"tablet"===ce&&b.default.tablet()||"function"==typeof ce&&!0===ce()}(U.disable)||ge?void B.forEach(function(ce,ge){ce.node.removeAttribute("data-aos"),ce.node.removeAttribute("data-aos-easing"),ce.node.removeAttribute("data-aos-duration"),ce.node.removeAttribute("data-aos-delay")}):(U.disableMutationObserver||g.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),U.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",U.easing),document.querySelector("body").setAttribute("data-aos-duration",U.duration),document.querySelector("body").setAttribute("data-aos-delay",U.delay),"DOMContentLoaded"===U.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?ee(!0):"load"===U.startEvent?window.addEventListener(U.startEvent,function(){ee(!0)}):document.addEventListener(U.startEvent,function(){ee(!0)}),window.addEventListener("resize",(0,y.default)(ee,U.debounceDelay,!0)),window.addEventListener("orientationchange",(0,y.default)(ee,U.debounceDelay,!0)),window.addEventListener("scroll",(0,C.default)(function(){(0,P.default)(B,U.once)},U.throttleDelay)),U.disableMutationObserver||g.default.ready("[data-aos]",ie),B)},refresh:ee,refreshHard:ie}},function(j,X){},,,,,function(j,X){(function(R){"use strict";function I(Q,oe,ce){function ge(et){var bt=We,jt=ze;return We=ze=void 0,jn=et,Ct=Q.apply(jt,bt)}function _e(et){return jn=et,ke=setTimeout(Me,oe),vt?ge(et):Ct}function Pe(et){var bt=et-It;return void 0===It||bt>=oe||bt<0||Ne&&et-jn>=ft}function Me(){var et=J();return Pe(et)?Oe(et):void(ke=setTimeout(Me,function we(et){var Zt=oe-(et-It);return Ne?ie(Zt,ft-(et-jn)):Zt}(et)))}function Oe(et){return ke=void 0,$e&&We?ge(et):(We=ze=void 0,Ct)}function nt(){var et=J(),bt=Pe(et);if(We=arguments,ze=this,It=et,bt){if(void 0===ke)return _e(It);if(Ne)return ke=setTimeout(Me,oe),ge(It)}return void 0===ke&&(ke=setTimeout(Me,oe)),Ct}var We,ze,ft,Ct,ke,It,jn=0,vt=!1,Ne=!1,$e=!0;if("function"!=typeof Q)throw new TypeError(f);return oe=_(oe)||0,x(ce)&&(vt=!!ce.leading,ft=(Ne="maxWait"in ce)?ee(_(ce.maxWait)||0,oe):ft,$e="trailing"in ce?!!ce.trailing:$e),nt.cancel=function Be(){void 0!==ke&&clearTimeout(ke),jn=0,We=It=ze=ke=void 0},nt.flush=function je(){return void 0===ke?Ct:Oe(J())},nt}function x(Q){var oe=void 0===Q?"undefined":y(Q);return!!Q&&("object"==oe||"function"==oe)}function C(Q){return"symbol"==(void 0===Q?"undefined":y(Q))||function D(Q){return!!Q&&"object"==(void 0===Q?"undefined":y(Q))}(Q)&&U.call(Q)==w}function _(Q){if("number"==typeof Q)return Q;if(C(Q))return g;if(x(Q)){var oe="function"==typeof Q.valueOf?Q.valueOf():Q;Q=x(oe)?oe+"":oe}if("string"!=typeof Q)return 0===Q?Q:+Q;Q=Q.replace(b,"");var ce=P.test(Q);return ce||E.test(Q)?F(Q.slice(2),ce?2:8):T.test(Q)?g:+Q}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},f="Expected a function",g=NaN,w="[object Symbol]",b=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,E=/^0o[0-7]+$/i,F=parseInt,G="object"==(void 0===R?"undefined":y(R))&&R&&R.Object===Object&&R,V="object"==("undefined"==typeof self?"undefined":y(self))&&self&&self.Object===Object&&self,B=G||V||Function("return this")(),U=Object.prototype.toString,ee=Math.max,ie=Math.min,J=function(){return B.Date.now()};j.exports=function O(Q,oe,ce){var ge=!0,_e=!0;if("function"!=typeof Q)throw new TypeError(f);return x(ce)&&(ge="leading"in ce?!!ce.leading:ge,_e="trailing"in ce?!!ce.trailing:_e),I(Q,oe,{leading:ge,maxWait:oe,trailing:_e})}}).call(X,function(){return this}())},function(j,X){(function(R){"use strict";function O(J){var Q=void 0===J?"undefined":_(J);return!!J&&("object"==Q||"function"==Q)}function D(J){return"symbol"==(void 0===J?"undefined":_(J))||function x(J){return!!J&&"object"==(void 0===J?"undefined":_(J))}(J)&&K.call(J)==g}function C(J){if("number"==typeof J)return J;if(D(J))return f;if(O(J)){var Q="function"==typeof J.valueOf?J.valueOf():J;J=O(Q)?Q+"":Q}if("string"!=typeof J)return 0===J?J:+J;J=J.replace(w,"");var oe=T.test(J);return oe||P.test(J)?E(J.slice(2),oe?2:8):b.test(J)?f:+J}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},y="Expected a function",f=NaN,g="[object Symbol]",w=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,P=/^0o[0-7]+$/i,E=parseInt,F="object"==(void 0===R?"undefined":_(R))&&R&&R.Object===Object&&R,G="object"==("undefined"==typeof self?"undefined":_(self))&&self&&self.Object===Object&&self,V=F||G||Function("return this")(),K=Object.prototype.toString,U=Math.max,ee=Math.min,ie=function(){return V.Date.now()};j.exports=function I(J,Q,oe){function ce($e){var et=nt,bt=We;return nt=We=void 0,It=$e,ft=J.apply(bt,et)}function ge($e){return It=$e,Ct=setTimeout(Pe,Q),jn?ce($e):ft}function we($e){var et=$e-ke;return void 0===ke||et>=Q||et<0||vt&&$e-It>=ze}function Pe(){var $e=ie();return we($e)?Me($e):void(Ct=setTimeout(Pe,function _e($e){var jt=Q-($e-ke);return vt?ee(jt,ze-($e-It)):jt}($e)))}function Me($e){return Ct=void 0,Ne&&nt?ce($e):(nt=We=void 0,ft)}function je(){var $e=ie(),et=we($e);if(nt=arguments,We=this,ke=$e,et){if(void 0===Ct)return ge(ke);if(vt)return Ct=setTimeout(Pe,Q),ce(ke)}return void 0===Ct&&(Ct=setTimeout(Pe,Q)),ft}var nt,We,ze,ft,Ct,ke,It=0,jn=!1,vt=!1,Ne=!0;if("function"!=typeof J)throw new TypeError(y);return Q=C(Q)||0,O(oe)&&(jn=!!oe.leading,ze=(vt="maxWait"in oe)?U(C(oe.maxWait)||0,Q):ze,Ne="trailing"in oe?!!oe.trailing:Ne),je.cancel=function Oe(){void 0!==Ct&&clearTimeout(Ct),It=0,nt=ke=We=Ct=void 0},je.flush=function Be(){return void 0===Ct?ft:Me(ie())},je}}).call(X,function(){return this}())},function(j,X){"use strict";function R(_){var y=void 0,f=void 0;for(y=0;y<_.length;y+=1)if((f=_[y]).dataset&&f.dataset.aos||f.children&&R(f.children))return!0;return!1}function I(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function D(_){_&&_.forEach(function(y){var f=Array.prototype.slice.call(y.addedNodes),g=Array.prototype.slice.call(y.removedNodes);if(R(f.concat(g)))return C()})}Object.defineProperty(X,"__esModule",{value:!0});var C=function(){};X.default={isSupported:function O(){return!!I()},ready:function x(_,y){var f=window.document,w=new(I())(D);C=y,w.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(j,X){"use strict";function I(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(X,"__esModule",{value:!0});var O=function(){function f(g,w){for(var b=0;b<w.length;b++){var T=w[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,w,b){return w&&f(g.prototype,w),b&&f(g,b),g}}(),x=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,D=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,C=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,_=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,y=function(){function f(){!function R(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return O(f,[{key:"phone",value:function(){var g=I();return!(!x.test(g)&&!D.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=I();return!(!C.test(g)&&!_.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();X.default=new y},function(j,X){"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.default=function(O,x){var D=window.pageYOffset,C=window.innerHeight;O.forEach(function(_,y){!function(O,x,D){var C=O.node.getAttribute("data-aos-once");x>O.position?O.node.classList.add("aos-animate"):void 0!==C&&("false"===C||!D&&"true"!==C)&&O.node.classList.remove("aos-animate")}(_,C+D,x)})}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var x=function I(C){return C&&C.__esModule?C:{default:C}}(R(12));X.default=function(C,_){return C.forEach(function(y,f){y.node.classList.add("aos-init"),y.position=(0,x.default)(y.node,_.offset)}),C}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var x=function I(C){return C&&C.__esModule?C:{default:C}}(R(13));X.default=function(C,_){var y=0,f=0,g=window.innerHeight,w={offset:C.getAttribute("data-aos-offset"),anchor:C.getAttribute("data-aos-anchor"),anchorPlacement:C.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(f=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(C=document.querySelectorAll(w.anchor)[0]),y=(0,x.default)(C).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":y+=C.offsetHeight/2;break;case"bottom-bottom":y+=C.offsetHeight;break;case"top-center":y+=g/2;break;case"bottom-center":y+=g/2+C.offsetHeight;break;case"center-center":y+=g/2+C.offsetHeight/2;break;case"top-top":y+=g;break;case"bottom-top":y+=C.offsetHeight+g;break;case"center-top":y+=C.offsetHeight/2+g}return w.anchorPlacement||w.offset||isNaN(_)||(f=_),y+f}},function(j,X){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(I){for(var O=0,x=0;I&&!isNaN(I.offsetLeft)&&!isNaN(I.offsetTop);)O+=I.offsetLeft-("BODY"!=I.tagName?I.scrollLeft:0),x+=I.offsetTop-("BODY"!=I.tagName?I.scrollTop:0),I=I.offsetParent;return{top:x,left:O}}},function(j,X){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(I){return I=I||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(I,function(O){return{node:O}})}}])},87:(Or,j,X)=>{"use strict";const R=X(315),I=X(872),O=X(717);Or.exports=function x(_,y){switch(I(_)){case"object":return function D(_,y){if("function"==typeof y)return y(_);if(y||O(_)){const f=new _.constructor;for(let g in _)f[g]=x(_[g],y);return f}return _}(_,y);case"array":return function C(_,y){const f=new _.constructor(_.length);for(let g=0;g<_.length;g++)f[g]=x(_[g],y);return f}(_,y);default:return R(_)}}},190:Or=>{window,Or.exports=function(j){var X={};function R(I){if(X[I])return X[I].exports;var O=X[I]={i:I,l:!1,exports:{}};return j[I].call(O.exports,O,O.exports,R),O.l=!0,O.exports}return R.m=j,R.c=X,R.d=function(I,O,x){R.o(I,O)||Object.defineProperty(I,O,{enumerable:!0,get:x})},R.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},R.t=function(I,O){if(1&O&&(I=R(I)),8&O||4&O&&"object"==typeof I&&I&&I.__esModule)return I;var x=Object.create(null);if(R.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:I}),2&O&&"string"!=typeof I)for(var D in I)R.d(x,D,function(C){return I[C]}.bind(null,D));return x},R.n=function(I){var O=I&&I.__esModule?function(){return I.default}:function(){return I};return R.d(O,"a",O),O},R.o=function(I,O){return Object.prototype.hasOwnProperty.call(I,O)},R.p="/codebase/",R(R.s=63)}([function(j,X,R){function I(C){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}var O,x=R(2),D={}.constructor.toString();j.exports={copy:function C(_){var y,f;if(_&&"object"==I(_))switch(!0){case x.isDate(_):f=new Date(_);break;case x.isArray(_):for(f=new Array(_.length),y=0;y<_.length;y++)f[y]=C(_[y]);break;default:for(y in f=_.constructor.toString()!==D?Object.create(_):{},_)Object.prototype.hasOwnProperty.apply(_,[y])&&(f[y]=C(_[y]))}return f||_},defined:function(C){return void 0!==C},mixin:function(C,_,y){for(var f in _)(void 0===C[f]||y)&&(C[f]=_[f]);return C},uid:function(){return O||(O=(new Date).valueOf()),++O},bind:function(C,_){return C.bind?C.bind(_):function(){return C.apply(_,arguments)}},event:function(C,_,y,f){C.addEventListener?C.addEventListener(_,y,void 0!==f&&f):C.attachEvent&&C.attachEvent("on"+_,y)},eventRemove:function(C,_,y,f){C.removeEventListener?C.removeEventListener(_,y,void 0!==f&&f):C.detachEvent&&C.detachEvent("on"+_,y)}}},function(j,X){function R(b){var T=0,P=0,E=0,F=0;if(b.getBoundingClientRect){var G=b.getBoundingClientRect(),V=document.body,B=document.documentElement||document.body.parentNode||document.body,K=window.pageYOffset||B.scrollTop||V.scrollTop,U=window.pageXOffset||B.scrollLeft||V.scrollLeft;T=G.top+K-(B.clientTop||V.clientTop||0),P=G.left+U-(B.clientLeft||V.clientLeft||0),E=document.body.offsetWidth-G.right,F=document.body.offsetHeight-G.bottom}else{for(;b;)T+=parseInt(b.offsetTop,10),P+=parseInt(b.offsetLeft,10),b=b.offsetParent;E=document.body.offsetWidth-b.offsetWidth-P,F=document.body.offsetHeight-b.offsetHeight-T}return{y:Math.round(T),x:Math.round(P),width:b.offsetWidth,height:b.offsetHeight,right:Math.round(E),bottom:Math.round(F)}}function I(b){var T=!1,P=!1;if(window.getComputedStyle){var E=window.getComputedStyle(b,null);T=E.display,P=E.visibility}else b.currentStyle&&(T=b.currentStyle.display,P=b.currentStyle.visibility);return"none"!=T&&"hidden"!=P}function O(b){return!isNaN(b.getAttribute("tabindex"))&&1*b.getAttribute("tabindex")>=0}function x(b){return!{a:!0,area:!0}[b.nodeName.loLowerCase()]||!!b.getAttribute("href")}function D(b){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[b.nodeName.toLowerCase()]||!b.hasAttribute("disabled")}function C(b){if(!b)return"";var T=b.className||"";return T.baseVal&&(T=T.baseVal),T.indexOf||(T=""),f(T)}var _;function y(b){var T;return b.tagName?T=b:(T=(b=b||window.event).target||b.srcElement).shadowRoot&&b.composedPath&&(T=b.composedPath()[0]),T}function f(b){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(b)}function g(){return document.head.createShadowRoot||document.head.attachShadow}function w(b){if(!b||!g())return document.body;for(;b.parentNode&&(b=b.parentNode);)if(b instanceof ShadowRoot)return b.host;return document.body}j.exports={getNodePosition:R,getFocusableNodes:function(b){for(var T=b.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),P=Array.prototype.slice.call(T,0),E=0;E<P.length;E++)P[E].$position=E;for(P.sort(function(G,V){return 0===G.tabIndex&&0!==V.tabIndex?1:0!==G.tabIndex&&0===V.tabIndex?-1:G.tabIndex===V.tabIndex?G.$position-V.$position:G.tabIndex<V.tabIndex?-1:1}),E=0;E<P.length;E++){var F=P[E];(O(F)||D(F)||x(F))&&I(F)||(P.splice(E,1),E--)}return P},getScrollSize:function(){var b=document.createElement("div");b.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(b);var T=b.offsetWidth-b.clientWidth;return document.body.removeChild(b),T},getClassName:C,addClassName:function(b,T){T&&-1===b.className.indexOf(T)&&(b.className+=" "+T)},removeClassName:function(b,T){T=T.split(" ");for(var P=0;P<T.length;P++){var E=new RegExp("\\s?\\b"+T[P]+"\\b(?![-_.])","");b.className=b.className.replace(E,"")}},insertNode:function(b,T){_||(_=document.createElement("div")),_.innerHTML=T;var P=_.firstChild;return b.appendChild(P),P},removeNode:function(b){b&&b.parentNode&&b.parentNode.removeChild(b)},getChildNodes:function(b,T){for(var P=b.childNodes,E=P.length,F=[],G=0;G<E;G++){var V=P[G];V.className&&-1!==V.className.indexOf(T)&&F.push(V)}return F},toNode:function(b){return"string"==typeof b?document.getElementById(b)||document.querySelector(b)||document.body:b||document.body},locateClassName:function(b,T,P){var E=y(b),F="";for(void 0===P&&(P=!0);E;){if(F=C(E)){var G=F.indexOf(T);if(G>=0){if(!P)return E;var V=0===G||!f(F.charAt(G-1)),B=G+T.length>=F.length||!f(F.charAt(G+T.length));if(V&&B)return E}}E=E.parentNode}return null},locateAttribute:function(b,T){if(T){for(var P=y(b);P;){if(P.getAttribute&&P.getAttribute(T))return P;P=P.parentNode}return null}},getTargetNode:y,getRelativeEventPosition:function(b,T){var P=document.documentElement,E=R(T);return{x:b.clientX+P.scrollLeft-P.clientLeft-E.x+T.scrollLeft,y:b.clientY+P.scrollTop-P.clientTop-E.y+T.scrollTop}},isChildOf:function(b,T){if(!b||!T)return!1;for(;b&&b!=T;)b=b.parentNode;return b===T},hasClass:function(b,T){return"classList"in b?b.classList.contains(T):new RegExp("\\b"+T+"\\b").test(b.className)},closest:function(b,T){if(b.closest)return b.closest(T);if(b.matches||b.msMatchesSelector||b.webkitMatchesSelector){var P=b;if(!document.documentElement.contains(P))return null;do{if((P.matches||P.msMatchesSelector||P.webkitMatchesSelector).call(P,T))return P;P=P.parentElement||P.parentNode}while(null!==P&&1===P.nodeType);return null}return console.error("Your browser is not supported"),null},getRootNode:w,hasShadowParent:function(b){return!!w(b)},isShadowDomSupported:g,getActiveElement:function(){var b=document.activeElement;return b.shadowRoot&&(b=b.shadowRoot.activeElement),b===document.body&&document.getSelection&&(b=document.getSelection().focusNode||document.body),b}}},function(j,X){function R(C){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}var I={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function O(C){return!(!C||"object"!==R(C)||!(C.getFullYear&&C.getMonth&&C.getDate))}function x(C,_){var y=[];if(C.filter)return C.filter(_);for(var f=0;f<C.length;f++)_(C[f],f)&&(y[y.length]=C[f]);return y}function D(C){return 0===C}j.exports={getSecondsInUnit:function(C){return I[C]||I.hour},forEach:function(C,_){if(C.forEach)C.forEach(_);else for(var y=C.slice(),f=0;f<y.length;f++)_(y[f],f)},arrayMap:function(C,_){if(C.map)return C.map(_);for(var y=C.slice(),f=[],g=0;g<y.length;g++)f.push(_(y[g],g));return f},arrayIncludes:function(C,_){if(C.includes)return C.includes(_);for(var y=0;y<C.length;y++)if(C[y]===_)return!0;return!1},arrayFind:function(C,_){if(C.find)return C.find(_);for(var y=0;y<C.length;y++)if(_(C[y],y))return C[y]},arrayFilter:x,arrayDifference:function(C,_){return x(C,function(y,f){return!_(y,f)})},arraySome:function(C,_){if(0===C.length)return!1;for(var y=0;y<C.length;y++)if(_(C[y],y,C))return!0;return!1},hashToArray:function(C){var _=[];for(var y in C)C.hasOwnProperty(y)&&_.push(C[y]);return _},sortArrayOfHash:function(C,_,y){var f=function(g,w){return g<w};C.sort(function(g,w){return g[_]===w[_]?0:y?f(g[_],w[_]):f(w[_],g[_])})},throttle:function(C,_){var y=!1;return function(){y||(C.apply(null,arguments),y=!0,setTimeout(function(){y=!1},_))}},isArray:function(C){return Array.isArray?Array.isArray(C):C&&void 0!==C.length&&C.pop&&C.push},isDate:O,isValidDate:function(C){return O(C)&&!isNaN(C.getTime())},isStringObject:function(C){return C&&"object"===R(C)&&"function String() { [native code] }"===Function.prototype.toString.call(C.constructor)},isNumberObject:function(C){return C&&"object"===R(C)&&"function Number() { [native code] }"===Function.prototype.toString.call(C.constructor)},isBooleanObject:function(C){return C&&"object"===R(C)&&"function Boolean() { [native code] }"===Function.prototype.toString.call(C.constructor)},delay:function(C,_){var y,f=function g(){g.$cancelTimeout(),g.$pending=!0;var w=Array.prototype.slice.call(arguments);y=setTimeout(function(){C.apply(this,w),g.$pending=!1},_)};return f.$pending=!1,f.$cancelTimeout=function(){clearTimeout(y),f.$pending=!1},f.$execute=function(){var g=Array.prototype.slice.call(arguments);C.apply(this,g),f.$cancelTimeout()},f},objectKeys:function(C){if(Object.keys)return Object.keys(C);var _,y=[];for(_ in C)Object.prototype.hasOwnProperty.call(C,_)&&y.push(_);return y},isEventable:function(C){return C.attachEvent&&C.detachEvent},replaceValidZeroId:function(C,_){return D(C)&&!D(_)&&(C="0"),C},checkZeroId:D,findBinary:function(C,_){for(var y,f,g,w=0,b=C.length-1;w<=b;)if(f=+C[y=Math.floor((w+b)/2)],g=+C[y-1],f<_)w=y+1;else{if(!(f>_)){for(;+C[y]==+C[y+1];)y++;return y}if(!isNaN(g)&&g<_)return y-1;b=y-1}return C.length-1}}},function(j,X){j.exports=function(R,I){for(var O in I)I.hasOwnProperty(O)&&(R[O]=I[O]);function x(){this.constructor=R}R.prototype=null===I?Object.create(I):(x.prototype=I.prototype,new x)}},function(j,X){var R=function(){this._silent_mode=!1,this.listeners={}};R.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};j.exports=function(O){var x=new R;O.attachEvent=function(D,C,_){D="ev_"+D.toLowerCase(),x.listeners[D]||(x.listeners[D]=function(O){var x={},D=0,C=function(){var _=!0;for(var y in x){var f=x[y].apply(O,arguments);_=_&&f}return _};return C.addEvent=function(_,y){if("function"==typeof _){var f;if(y&&y.id?f=y.id:(f=D,D++),y&&y.once){var g=_;_=function(){g(),C.removeEvent(f)}}return x[f]=_,f}return!1},C.removeEvent=function(_){delete x[_]},C.clear=function(){x={}},C}(this)),_&&_.thisObject&&(C=C.bind(_.thisObject));var y=D+":"+x.listeners[D].addEvent(C,_);return _&&_.id&&(y=_.id),y},O.attachAll=function(D){this.attachEvent("listen_all",D)},O.callEvent=function(D,C){if(x._silent_mode)return!0;var _="ev_"+D.toLowerCase(),y=x.listeners;return y.ev_listen_all&&y.ev_listen_all.apply(this,[D].concat(C)),!y[_]||y[_].apply(this,C)},O.checkEvent=function(D){return!!x.listeners["ev_"+D.toLowerCase()]},O.detachEvent=function(D){if(D){var C=x.listeners;for(var _ in C)C[_].removeEvent(D);var y=D.split(":");if(C=x.listeners,2===y.length){var f=y[0];C[f]&&C[f].removeEvent(y[1])}}},O.detachAllEvents=function(){for(var D in x.listeners)x.listeners[D].clear()}}},function(j,X){j.exports=function(R,I,O,x,D){var C=I.getItemIndexByTopPosition(D.y)||0,_=I.getItemIndexByTopPosition(D.y_end)||x.count();return{start:Math.max(0,C-1),end:Math.min(x.count(),_+1)}}},function(j,X){function R(){console.log("Method is not implemented.")}function I(){}I.prototype.render=R,I.prototype.set_value=R,I.prototype.get_value=R,I.prototype.focus=R,j.exports=function(O){return I}},function(j,X){var R="undefined"!=typeof window,I={isIE:R&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:R&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:R&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:R&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:R&&navigator.userAgent.indexOf("Opera")>=0,isChrome:R&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:R&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:R&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:R&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:R&&-1!=navigator.userAgent.indexOf("Edge"),isNode:!R||"undefined"==typeof navigator};j.exports=I},function(j,X){j.exports=function(R){var I=function(){};return I.prototype={show:function(O,x,D,C){},hide:function(){},set_value:function(O,x,D,C){this.get_input(C).value=O},get_value:function(O,x,D){return this.get_input(D).value||""},is_changed:function(O,x,D,C){var _=this.get_value(x,D,C);return _&&O&&_.valueOf&&O.valueOf?_.valueOf()!=O.valueOf():_!=O},is_valid:function(O,x,D,C){return!0},save:function(O,x,D){},get_input:function(O){return O.querySelector("input")},focus:function(O){var x=this.get_input(O);x&&(x.focus&&x.focus(),x.select&&x.select())}},I}},function(j,X){j.exports=function(R,I,O,x){return!!((x=I?I.config:x)&&x.placeholder_task&&O.exists(R))&&O.getItem(R).type===x.types.placeholder}},function(j,X,R){var I=R(7);j.exports=function(O){return I.isNode||!O.$root}},function(j,X,R){var I=R(0),O=R(4),x=R(1),D=function(){"use strict";function C(_,y,f,g){_&&(this.$container=x.toNode(_),this.$parent=_),this.$config=I.mixin(y,{headerHeight:33}),this.$gantt=g,this.$domEvents=g._createDomEventScope(),this.$id=y.id||"c"+I.uid(),this.$name="cell",this.$factory=f,O(this)}return C.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},C.prototype.cell=function(_){return null},C.prototype.scrollTo=function(_,y){var f=this.$view;this.$config.html&&(f=this.$view.firstChild),1*_==_&&(f.scrollLeft=_),1*y==y&&(f.scrollTop=y)},C.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},C.prototype.resize=function(_){if(this.$parent)return this.$parent.resize(_);!1===_&&(this.$preResize=!0);var y=this.$container,f=y.offsetWidth,g=y.offsetHeight,w=this.getSize();y===document.body&&(f=document.body.offsetWidth,g=document.body.offsetHeight),f<w.minWidth&&(f=w.minWidth),f>w.maxWidth&&(f=w.maxWidth),g<w.minHeight&&(g=w.minHeight),g>w.maxHeight&&(g=w.maxHeight),this.setSize(f,g),this.$preResize=!1},C.prototype.hide=function(){this._hide(!0),this.resize()},C.prototype.show=function(_){this._hide(!1),_&&this.$parent&&this.$parent.show(),this.resize()},C.prototype._hide=function(_){if(!0===_&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(!1===_&&!this.$view.parentNode){var y=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,y)}this.$config.hidden=_},C.prototype.$toHTML=function(_,y){void 0===_&&(_=""),y=[y||"",this.$config.css||""].join(" ");var f=this.$config,g="";return f.raw?_="string"==typeof f.raw?f.raw:"":(_||(_="<div class='gantt_layout_content' "+(y?" class='"+y+"' ":"")+" >"+(f.html||"")+"</div>"),f.header&&(g="<div class='gantt_layout_header'>"+(f.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+f.header+"</div></div>")),"<div class='gantt_layout_cell "+y+"' data-cell-id='"+this.$id+"'>"+g+_+"</div>"},C.prototype.$fill=function(_,y){this.$view=_,this.$parent=y,this.init()},C.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},C.prototype.init=function(){var _=this;this._headerClickHandler=function(y){x.locateAttribute(y,"data-cell-id")==_.$id&&_.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},C.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},C.prototype.getSize=function(){var _={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var y="x"===this.$config.mode;_[y?"width":"height"]=_[y?"maxWidth":"maxHeight"]=this.$config.headerHeight}return _},C.prototype.getContentSize=function(){var _=this.$lastSize.contentX;_!==1*_&&(_=this.$lastSize.width);var y=this.$lastSize.contentY;return y!==1*y&&(y=this.$lastSize.height),{width:_,height:y}},C.prototype._getBorderSizes=function(){var _={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(_.left=1,_.horizontal++),this._currentBorders[this._borders.right]&&(_.right=1,_.horizontal++),this._currentBorders[this._borders.top]&&(_.top=1,_.vertical++),this._currentBorders[this._borders.bottom]&&(_.bottom=1,_.vertical++)),_},C.prototype.setSize=function(_,y){this.$view.style.width=_+"px",this.$view.style.height=y+"px";var f=this._getBorderSizes();this.$lastSize={x:_,y,contentX:_-f.horizontal,contentY:y-f.vertical},this.$config.header?this._sizeHeader():this._sizeContent()},C.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},C.prototype._setBorders=function(_,y){y||(y=this);var f=y.$view;for(var g in this._borders)x.removeClassName(f,this._borders[g]);"string"==typeof _&&(_=[_]);var w={};for(g=0;g<_.length;g++)x.addClassName(f,_[g]),w[_[g]]=!0;y._currentBorders=w},C.prototype._sizeContent=function(){var _=this.$view.childNodes[0];_&&"gantt_layout_content"==_.className&&(_.style.height=this.$lastSize.contentY+"px")},C.prototype._sizeHeader=function(){var _=this.$lastSize;_.contentY-=this.$config.headerHeight;var y=this.$view.childNodes[0],f=this.$view.childNodes[1],g="x"===this.$config.mode;if(this.$config.collapsed)if(f.style.display="none",g){y.className="gantt_layout_header collapsed_x",y.style.width=_.y+"px";var w=Math.floor(_.y/2-_.x/2);y.style.transform="rotate(90deg) translate("+w+"px, "+w+"px)",f.style.display="none"}else y.className="gantt_layout_header collapsed_y";else y.className=g?"gantt_layout_header":"gantt_layout_header vertical",y.style.width="auto",y.style.transform="",f.style.display="",f.style.height=_.contentY+"px";y.style.height=this.$config.headerHeight+"px"},C}();j.exports=D},function(j,X,R){(function(I){var O;O="undefined"!=typeof window?window:I,j.exports=O}).call(this,R(13))},function(j,X){function R(O){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}var I;I=function(){return this}();try{I=I||new Function("return this")()}catch(O){"object"===("undefined"==typeof window?"undefined":R(window))&&(I=window)}j.exports=I},function(j,X){j.exports=function(R){return R.config.smart_rendering&&R._smart_render}},function(j,X,R){var I=R(3),O=R(43);j.exports=function(x){var D=R(6)(x);function C(){return D.apply(this,arguments)||this}return I(C,D),C.prototype.render=function(_){var y="<div class='gantt_cal_ltext' style='height:"+(_.height||"23")+"px;'>";return(y+=O.getHtmlSelect(_.options,[{key:"style",value:"width:100%;"}]))+"</div>"},C.prototype.set_value=function(_,y,f,g){var w=_.firstChild;!w._dhx_onchange&&g.onchange&&(w.onchange=g.onchange,w._dhx_onchange=!0),void 0===y&&(y=(w.options[0]||{}).value),w.value=y||""},C.prototype.get_value=function(_){return _.firstChild.value},C.prototype.focus=function(_){x._focus(_.firstChild,!0)},C}},function(j,X,R){},,function(j,X,R){var I=R(0);j.exports=function(O){var x=O.date,D=O.$services;return{getSum:function(C,_,y){void 0===y&&(y=C.length-1),void 0===_&&(_=0);for(var f=0,g=_;g<=y;g++)f+=C[g];return f},setSumWidth:function(C,_,y,f){var g=_.width;if(void 0===f&&(f=g.length-1),void 0===y&&(y=0),!(y>g.length-1||f-y+1<=0||f>g.length-1)){var b=C-this.getSum(g,y,f);this.adjustSize(b,g,y,f),this.adjustSize(-b,g,f+1),_.full_width=this.getSum(g)}},splitSize:function(C,_){for(var y=[],f=0;f<_;f++)y[f]=0;return this.adjustSize(C,y),y},adjustSize:function(C,_,y,f){y||(y=0),void 0===f&&(f=_.length-1);for(var g=f-y+1,w=this.getSum(_,y,f),b=y;b<=f;b++){var T=Math.floor(C*(w?_[b]/w:1/g));w-=_[b],C-=T,g--,_[b]+=T}_[_.length-1]+=C},sortScales:function(C){function _(f,g){var w=new Date(1970,0,1);return x.add(w,g,f)-w}C.sort(function(f,g){return _(f.unit,f.step)<_(g.unit,g.step)?1:_(f.unit,f.step)>_(g.unit,g.step)?-1:0});for(var y=0;y<C.length;y++)C[y].index=y},_isLegacyMode:function(C){var _=C||O.config;return _.scale_unit||_.date_scale||_.subscales},_prepareScaleObject:function(C){var _=C.format;return _||(_=C.template||C.date||"%d %M"),"string"==typeof _&&(_=O.date.date_to_str(_)),{unit:C.unit||"day",step:C.step||1,format:_,css:C.css}},primaryScale:function(C){var _,y=D.getService("templateLoader"),f=this._isLegacyMode(C),g=C||O.config;if(f)y.initTemplate("date_scale",void 0,void 0,g,O.config.templates),_={unit:O.config.scale_unit,step:O.config.step,template:O.templates.date_scale,date:O.config.date_scale,css:O.templates.scale_cell_class};else{var w=g.scales[0];_={unit:w.unit,step:w.step,template:w.template,format:w.format,date:w.date,css:w.css||O.templates.scale_cell_class}}return this._prepareScaleObject(_)},getSubScales:function(C){var _=this._isLegacyMode(C),y=C||O.config;return(_?y.subscales||[]:y.scales.slice(1)).map(function(f){return this._prepareScaleObject(f)}.bind(this))},prepareConfigs:function(C,_,y,f,g,w,b){for(var T=this.splitSize(f,C.length),P=y,E=[],F=C.length-1;F>=0;F--){var G=F==C.length-1,V=this.initScaleConfig(C[F],g,w);G&&this.processIgnores(V),this.initColSizes(V,_,P,T[F]),this.limitVisibleRange(V),G&&(P=V.full_width),E.unshift(V)}for(F=0;F<E.length-1;F++)this.alineScaleColumns(E[E.length-1],E[F]);for(F=0;F<E.length;F++)b&&this.reverseScale(E[F]),this.setPosSettings(E[F]);return E},reverseScale:function(C){C.width=C.width.reverse(),C.trace_x=C.trace_x.reverse();var _=C.trace_indexes;C.trace_indexes={},C.trace_index_transition={},C.rtl=!0;for(var y=0;y<C.trace_x.length;y++)C.trace_indexes[C.trace_x[y].valueOf()]=y,C.trace_index_transition[_[C.trace_x[y].valueOf()]]=y;return C},setPosSettings:function(C){for(var _=0,y=C.trace_x.length;_<y;_++)C.left.push((C.width[_-1]||0)+(C.left[_-1]||0))},_ignore_time_config:function(C,_){if(O.config.skip_off_time){for(var y=!0,f=C,g=0;g<_.step;g++)g&&(f=x.add(C,g,_.unit)),y=y&&!this.isWorkTime(f,_.unit);return y}return!1},processIgnores:function(C){C.ignore_x={},C.display_count=C.count},initColSizes:function(C,_,y,f){var g=y;C.height=f;var w=void 0===C.display_count?C.count:C.display_count;w||(w=1),C.col_width=Math.floor(g/w),_&&C.col_width<_&&(C.col_width=_,g=C.col_width*w),C.width=[];for(var b=C.ignore_x||{},T=0;T<C.trace_x.length;T++)if(b[C.trace_x[T].valueOf()]||C.display_count==C.count)C.width[T]=0;else{var P=1;"month"==C.unit&&(P=Math.round((x.add(C.trace_x[T],C.step,C.unit)-C.trace_x[T])/864e5)),C.width[T]=P}this.adjustSize(g-this.getSum(C.width),C.width),C.full_width=this.getSum(C.width)},initScaleConfig:function(C,_,y){var f=I.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(_),max_date:new Date(y)},C);return this.eachColumn(C.unit,C.step,_,y,function(g){f.count++,f.trace_x.push(new Date(g)),f.trace_indexes[g.valueOf()]=f.trace_x.length-1}),f.trace_x_ascending=f.trace_x.slice(),f},iterateScales:function(C,_,y,f,g){for(var w=_.trace_x,T=y||0,P=f||C.trace_x.length-1,E=0,F=1;F<w.length;F++){var G=C.trace_indexes[+w[F]];void 0!==G&&G<=P&&(g&&g.apply(this,[E,F,T,G]),T=G,E=F)}},alineScaleColumns:function(C,_,y,f){this.iterateScales(C,_,y,f,function(g,w,b,T){var P=this.getSum(C.width,b,T-1);this.getSum(_.width,g,w-1)!=P&&this.setSumWidth(P,_,g,w-1)})},eachColumn:function(C,_,y,f,g){var w=new Date(y),b=new Date(f);x[C+"_start"]&&(w=x[C+"_start"](w));var T=new Date(w);for(+T>=+b&&(b=x.add(T,_,C));+T<+b;){g.call(this,new Date(T));var P=T.getTimezoneOffset();T=x.add(T,_,C),T=O._correct_dst_change(T,P,_,C),x[C+"_start"]&&(T=x[C+"_start"](T))}},limitVisibleRange:function(C){var _=C.trace_x,f=0;if(+_[0]<+C.min_date&&0!=C.width.length-1){var g=Math.floor(C.width[0]*((_[1]-C.min_date)/(_[1]-_[0])));f+=C.width[0]-g,C.width[0]=g,_[0]=new Date(C.min_date)}var w=_.length-1,b=_[w],T=x.add(b,C.step,C.unit);if(+T>+C.max_date&&w>0&&(g=C.width[w]-Math.floor(C.width[w]*((T-C.max_date)/(T-b))),f+=C.width[w]-g,C.width[w]=g),f){for(var P=this.getSum(C.width),E=0,F=0;F<C.width.length;F++){var G=Math.floor(f*(C.width[F]/P));C.width[F]+=G,E+=G}this.adjustSize(f-E,C.width)}}}}},function(j,X,R){var I=R(1),O=R(0),x=R(4),D=R(132),C=R(38),_=R(134),y=R(135).default,f=function(g,w,b,T){this.$config=O.mixin({},w||{}),this.$gantt=T,this.$parent=g,x(this),this.$state={},O.mixin(this,C(this))};f.prototype={init:function(g){var w=this.$gantt,b=w._waiAria.gridAttrString(),T=w._waiAria.gridDataAttrString(),P=this.$getConfig(),E=P.reorder_grid_columns||!1;void 0!==this.$config.reorder_grid_columns&&(E=this.$config.reorder_grid_columns),g.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+b+"></div>",this.$grid=g.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+w._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+T+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var F=P[this.$config.bind+"_attribute"];if(!F&&this.$config.bind&&(F="data-"+this.$config.bind+"-id"),this.$config.item_attribute=F||null,!this.$config.layers){var G=this._createLayerConfig();this.$config.layers=G}var V=D(w,this);V.init(),this._renderHeaderResizers=V.doOnRender,this._mouseDelegates=R(20)(w),_(w,this).init(),this._addLayers(this.$gantt),this._initEvents(),E&&(this._columnDND=new y(w,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(g,w){var b=g[w];if(b&&"*"!=b){var T=this.$gantt,P=1*b;isNaN(P)?T.assert(!1,"Wrong "+w+" value of column "+g.name):g[w]=P}},setSize:function(g,w){this.$config.width=this.$state.width=g,this.$config.height=this.$state.height=w;for(var b,T=this.getGridColumns(),P=0,E=(K=this.$getConfig()).grid_elastic_columns,F=0,G=T.length;F<G;F++)this._validateColumnWidth(T[F],"min_width"),this._validateColumnWidth(T[F],"max_width"),this._validateColumnWidth(T[F],"width"),P+=1*T[F].width;if(!isNaN(P)&&this.$config.scrollable||(P=b=this._setColumnsWidth(g+1)),this.$config.scrollable&&E&&!isNaN(P)){var V=0;T.forEach(function(ee){V+=ee.min_width||K.min_grid_column_width});var B=Math.max(V,g);P=this._setColumnsWidth(B),b=g}this.$config.scrollable?(this.$grid_scale.style.width=P+"px",this.$grid_data.style.width=P+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var K=this.$getConfig();b!==g&&(void 0!==b?(K.grid_width=b,this.$config.width=b-1):isNaN(P)||(this._setColumnsWidth(P),K.grid_width=P,this.$config.width=P-1));var U=Math.max(this.$state.height-K.scale_height,0);this.$grid_data.style.height=U+"px",this.refresh()},getSize:function(){var g=this.$getConfig(),w=this.$config.rowStore?this.getTotalHeight():0,b=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?b:0,contentY:this.isVisible()?g.scale_height+w:0,scrollHeight:this.isVisible()?w:0,scrollWidth:this.isVisible()?b:0}},_bindStore:function(){if(this.$config.bind){var g=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=g,g&&!g._gridCacheAttached){var w=this;g._gridCacheAttached=g.attachEvent("onBeforeFilter",function(){w._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var g=this.$gantt.getDatastore(this.$config.bind);g&&g._gridCacheAttached&&(g.detachEvent(g._gridCacheAttached),g._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var g=this.$config.scrollLeft||0,w=this.$config.scrollTop||0,b=this.$config.height||0,T=this.$config.width||0;return{y:w,y_end:w+b,x:g,x_end:g+T,height:b,width:T}},scrollTo:function(g,w){if(this.isVisible()){var b=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*g==g&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=g,b=!0),1*w==w&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=w,b=!0),b&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(g,w){for(var b=this.$getConfig().columns,T=0,P=0;P<b.length;P++)if(w&&b[P].hide&&T++,b[P].name==g)return P-T;return null},getColumn:function(g){var w=this.getColumnIndex(g);return null===w?null:this.$getConfig().columns[w]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var g=this.$gantt,w=this;return[{renderer:g.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return w.isVisible()}]},{renderer:g.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return g.config.resize_rows}]}]},_addLayers:function(g){if(this.$config.bind){this._taskLayers=[];var w=this,b=this.$gantt.$services.getService("layers"),T=b.getDataRender(this.$config.bind);T||(T=b.createDataRender({name:this.$config.bind,defaultContainer:function(){return w.$grid_data}}));for(var P=this.$config.layers,E=0;P&&E<P.length;E++){var F=P[E];F.view=this;var G=T.addLayer(F);this._taskLayers.push(G)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(g){var w=this.$getConfig(),b=this.$config.rowStore;if(b&&null===g&&this.isVisible()&&w.smart_rendering){var T;if(this.$config.scrollY){var P=this.$gantt.$ui.getView(this.$config.scrollY);P&&(T=P.getScrollState().scrollSize)}if(T||(T=b?this.getTotalHeight():0),T){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var E=this.$rowsPlaceholder=document.createElement("div");E.style.visibility="hidden",E.style.height=T+"px",E.style.width="1px",this.$grid_data.appendChild(E)}}},_initSmartRenderingPlaceholder:function(){var g=this.$config.rowStore;g&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=g.attachEvent("onStoreUpdated",O.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var g=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",g.bind(function(w,b,T){var P=this.$config.rowStore;if(!P)return!0;var E=I.locateAttribute(w,this.$config.item_attribute);return E&&P.close(E.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",g.bind(function(w,b,T){var P=this.$config.rowStore;if(!P)return!0;var E=I.locateAttribute(w,this.$config.item_attribute);return E&&P.open(E.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(g){var w=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var b=0;b<this._taskLayers.length;b++)w.removeLayer(this._taskLayers[b]);this._taskLayers=[]},_getColumnWidth:function(g,w,b){var P=Math.max(b,g.min_width||w.min_grid_column_width||10);return g.max_width&&(P=Math.min(P,g.max_width)),P},_checkGridColumnMinWidthLimits:function(g,w){for(var b=0,T=g.length;b<T;b++){var P=1*g[b].width;!g[b].min_width&&P<w.min_grid_column_width&&(g[b].min_width=P)}},_getGridWidthLimits:function(){for(var g=this.$getConfig(),w=this.getGridColumns(),b=0,T=0,P=0;P<w.length;P++)b+=w[P].min_width?w[P].min_width:g.min_grid_column_width,void 0!==T&&(T=w[P].max_width?T+w[P].max_width:void 0);return this._checkGridColumnMinWidthLimits(w,g),[b,T]},_setColumnsWidth:function(g,w){var b=this.$getConfig(),T=this.getGridColumns(),P=0,E=g;w=window.isNaN(w)?-1:w;for(var F=0,G=T.length;F<G;F++)P+=1*T[F].width;if(window.isNaN(P))for(this._calculateGridWidth(),P=0,F=0,G=T.length;F<G;F++)P+=1*T[F].width;var V=E-P,B=0;for(F=0;F<w+1;F++)B+=T[F].width;for(P-=B,F=w+1;F<T.length;F++){var K=T[F],U=Math.round(V*(K.width/P));V<0?K.min_width&&K.width+U<K.min_width?U=K.min_width-K.width:!K.min_width&&b.min_grid_column_width&&K.width+U<b.min_grid_column_width&&(U=b.min_grid_column_width-K.width):K.max_width&&K.width+U>K.max_width&&(U=K.max_width-K.width),P-=K.width,K.width+=U,V-=U}for(var ee=V>0?1:-1;V>0&&1===ee||V<0&&-1===ee;){var ie=V;for(F=w+1;F<T.length;F++){var J;if((J=T[F].width+ee)==this._getColumnWidth(T[F],b,J)&&(V-=ee,T[F].width=J),!V)break}if(ie==V)break}return V&&w>-1&&(J=T[w].width+V)==this._getColumnWidth(T[w],b,J)&&(T[w].width=J),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var g=this.getGridColumns(),w=0,b=0;b<g.length;b++){var T=parseFloat(g[b].width);if(window.isNaN(T))return!1;w+=T}return w},_calculateGridWidth:function(){for(var g=this.$getConfig(),w=this.getGridColumns(),b=0,T=[],P=[],E=0;E<w.length;E++){var F=parseFloat(w[E].width);window.isNaN(F)&&(F=g.min_grid_column_width||10,T.push(E)),P[E]=F,b+=F}var G=this._getGridWidth()+1;if(g.autofit||T.length){var V=G-b;if(g.autofit&&!g.grid_elastic_columns)for(E=0;E<P.length;E++){var B=Math.round(V/(P.length-E));P[E]+=B,(K=this._getColumnWidth(w[E],g,P[E]))!=P[E]&&(B=K-P[E],P[E]=K),V-=B}else if(T.length)for(E=0;E<T.length;E++){B=Math.round(V/(T.length-E));var K,U=T[E];P[U]+=B,(K=this._getColumnWidth(w[U],g,P[U]))!=P[U]&&(B=K-P[U],P[U]=K),V-=B}for(E=0;E<P.length;E++)w[E].width=P[E]}else{var ee=G!=b;this.$config.width=b-1,g.grid_width=b,ee&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var g=this.$gantt,w=this.$getConfig(),b=this.$gantt.locale,T=this.$gantt.templates,P=this.getGridColumns();w.rtl&&(P=P.reverse());for(var E=[],F=0,G=b.labels,V=w.scale_height-1,B=0;B<P.length;B++){var K=B==P.length-1,U=P[B];U.name||(U.name=g.uid()+"");var ee=1*U.width,ie=this._getGridWidth();K&&ie>F+ee&&(U.width=ee=ie-F),F+=ee;var J=g._sort&&U.name==g._sort.name?"<div class='gantt_sort gantt_"+g._sort.direction+"'></div>":"",Q=["gantt_grid_head_cell","gantt_grid_head_"+U.name,K?"gantt_last_cell":"",T.grid_header_class(U.name,U)].join(" "),ce=U.label||G["column_"+U.name]||G[U.name],ge="<div class='"+Q+"' style='width:"+(ee-(K?1:0))+"px;' "+g._waiAria.gridScaleCellAttrString(U,ce=ce||"")+" data-column-id='"+U.name+"' column_id='"+U.name+"' data-column-name='"+U.name+"' data-column-index='"+B+"'>"+ce+J+"</div>";E.push(ge)}this.$grid_scale.style.height=w.scale_height+"px",this.$grid_scale.style.lineHeight=V+"px",this.$grid_scale.innerHTML=E.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},j.exports=f},function(j,X){j.exports=function(R){var I=[];return{delegate:function(O,x,D,C){I.push([O,x,D,C]),R.$services.getService("mouseEvents").delegate(O,x,D,C)},destructor:function(){for(var O=R.$services.getService("mouseEvents"),x=0;x<I.length;x++){var D=I[x];O.detach(D[0],D[1],D[2],D[3])}I=[]}}}},function(j,X){j.exports=function(R,I,O){return{top:I.getItemTop(R.id),height:I.getItemHeight(R.id),left:0,right:1/0}}},function(j,X,R){var I=R(18),O=R(4),x=R(0),D=R(2),C=R(38),_=R(211),y=function(f,g,w,b){this.$config=x.mixin({},g||{}),this.$scaleHelper=new I(b),this.$gantt=b,this._posFromDateCache={},this._timelineDragScroll=null,x.mixin(this,C(this)),O(this)};y.prototype={init:function(f){f.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=f.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var g=this.$getConfig(),w=g[this.$config.bind+"_attribute"],b=g[this.$config.bindLinks+"_attribute"];!w&&this.$config.bind&&(w="data-"+this.$config.bind+"-id"),!b&&this.$config.bindLinks&&(b="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=w||null,this.$config.link_attribute=b||null;var T=this._createLayerConfig();this.$config.layers||(this.$config.layers=T.tasks),this.$config.linkLayers||(this.$config.linkLayers=T.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(f,g){var w=this.$getConfig();if(1*f===f&&(this.$config.width=f),1*g===g){this.$config.height=g;var b=Math.max(this.$config.height-w.scale_height);this.$task_data.style.height=b+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",this.$task_bg.style.height=w.smart_rendering&&this.$config.rowStore?this.getTotalHeight()+"px":"";for(var T=this._tasks,P=this.$task_data.childNodes,E=0,F=P.length;E<F;E++){var G=P[E];G.hasAttribute("data-layer")&&G.style&&(G.style.width=T.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var f=this.$getConfig(),g=this.$config.rowStore?this.getTotalHeight():0,w=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?w:0,contentY:this.isVisible()?f.scale_height+g:0,scrollHeight:this.isVisible()?g:0,scrollWidth:this.isVisible()?w:0}},scrollTo:function(f,g){if(this.isVisible()){var w=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*g===g&&(this.$config.scrollTop=g,this.$task_data.scrollTop=this.$config.scrollTop,w=!0),1*f===f&&(this.$task.scrollLeft=f,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),w=!0),w&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var f=this.getViewPort();this.$task_scale.innerHTML=this._getScaleChunkHtml(this._scales,f.x,f.x_end)}},getViewPort:function(){var f=this.$config.scrollLeft||0,g=this.$config.scrollTop||0,w=this.$config.height||0,b=this.$config.width||0;return{y:g,y_end:g+w,x:f,x_end:f+b,height:w,width:b}},_createLayerConfig:function(){var f=this,g=function(){return f.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[g,function(w,b){return!b.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[g],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[g],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[g]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[g]}]}},_attachLayers:function(f){this._taskLayers=[],this._linkLayers=[];var g=this,w=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var b=w.getDataRender(this.$config.bind);b||(b=w.createDataRender({name:this.$config.bind,defaultContainer:function(){return g.$task_data}})),b.container=function(){return g.$task_data};for(var T=this.$config.layers,P=0;T&&P<T.length;P++){"string"==typeof(V=T[P])&&(V=this.$gantt.$ui.layers[V]()),("function"==typeof V||V&&V.render&&V.update)&&(V={renderer:V}),V.view=this;var E=b.addLayer(V);this._taskLayers.push(E),V.expose&&(this._taskRenderer=b.getLayer(E))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){g.$config.linkStore=g.$gantt.getDatastore(g.$config.bindLinks);var F=w.getDataRender(this.$config.bindLinks);F||(F=w.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return g.$task_data}}));var G=this.$config.linkLayers;for(P=0;G&&P<G.length;P++){var V;"string"==typeof V&&(V=this.$gantt.$ui.layers[V]()),(V=G[P]).view=this;var B=F.addLayer(V);this._taskLayers.push(B),G[P].expose&&(this._linkRenderer=F.getLayer(B))}}},_initStaticBackgroundRender:function(){var f=this,g=_.create(),w=f.$config.rowStore;w&&(this._staticBgHandler=w.attachEvent("onStoreUpdated",function(b,T,P){if(null===b&&f.isVisible()){var E=f.$getConfig();if(E.static_background){var F=f.$gantt.getDatastore(f.$config.bind),G=f.$task_bg_static;G||((G=document.createElement("div")).className="gantt_task_bg",f.$task_bg_static=G,f.$task_bg.nextSibling?f.$task_data.insertBefore(G,f.$task_bg.nextSibling):f.$task_data.appendChild(G)),F&&g.render(G,E,f.getScale(),f.getTotalHeight(),f.getItemHeight(T?T.id:null))}else E.static_background&&f.$task_bg_static&&f.$task_bg_static.parentNode&&f.$task_bg_static.parentNode.removeChild(f.$task_bg_static)}}),this.attachEvent("onDestroy",function(){g.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(f){var g=this.$gantt.$services.getService("layers"),w=g.getDataRender(this.$config.bind),b=g.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var T=0;T<this._taskLayers.length;T++)w.removeLayer(this._taskLayers[T]);if(this._linkLayers)for(T=0;T<this._linkLayers.length;T++)b.removeLayer(this._linkLayers[T]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var f=this.$getConfig(),g="",w=0,b=0,T=this.$gantt.getState();if(this.isVisible()){var P=this.$scaleHelper,E=this._getScales();b=f.scale_height;var F=this.$config.width;"x"!=f.autosize&&"xy"!=f.autosize||(F=Math.max(f.autosize_min_width,0));var G=P.prepareConfigs(E,f.min_column_width,F,b-1,T.min_date,T.max_date,f.rtl),V=this._tasks=G[G.length-1];this._scales=G,this._posFromDateCache={},g=this._getScaleChunkHtml(G,0,this.$config.width),w=V.full_width+"px",b+="px"}this.$task_scale.style.height=b,this.$task_data.style.width=this.$task_scale.style.width=w,this.$task_scale.innerHTML=g},_getScaleChunkHtml:function(f,g,w){for(var b=[],T=this.$gantt.templates.scale_row_class,P=0;P<f.length;P++){var E="gantt_scale_line",F=T(f[P]);F&&(E+=" "+F),b.push('<div class="'+E+'" style="height:'+f[P].height+"px;position:relative;line-height:"+f[P].height+'px">'+this._prepareScaleHtml(f[P],g,w)+"</div>")}return b.join("")},_prepareScaleHtml:function(f,g,w){var b=this.$getConfig(),T=this.$gantt.templates,P=[],E=null,F=null,G=f.format||f.template||f.date;"string"==typeof G&&(G=this.$gantt.date.date_to_str(G));var V=0,B=f.count;!b.smart_scales||isNaN(g)||isNaN(w)||(V=D.findBinary(f.left,g),B=D.findBinary(f.left,w)+1),F=f.css||function(){},!f.css&&b.inherit_scale_class&&(F=T.scale_cell_class);for(var K=V;K<B&&f.trace_x[K];K++){E=new Date(f.trace_x[K]);var U=G.call(this,E),ee=f.width[K],Q="",oe="",ce="";if(ee){Q="width:"+ee+"px;height:"+f.height+"px;"+(b.smart_scales?"position:absolute;left:"+f.left[K]+"px":""),ce="gantt_scale_cell"+(K==f.count-1?" gantt_last_cell":""),(oe=F.call(this,E))&&(ce+=" "+oe);var ge="<div class='"+ce+"'"+this.$gantt._waiAria.getTimelineCellAttr(U)+" style='"+Q+"'>"+U+"</div>";P.push(ge)}}return P.join("")},dateFromPos:function(f){var g=this._tasks;if(f<0||f>g.full_width||!g.full_width)return null;var w=D.findBinary(this._tasks.left,f),T=g.width[w]||g.col_width,P=0;T&&(P=(f-this._tasks.left[w])/T,g.rtl&&(P=1-P));var E=0;return P&&(E=this._getColumnDuration(g,g.trace_x[w])),new Date(g.trace_x[w].valueOf()+Math.round(P*E))},posFromDate:function(f){if(!this.isVisible()||!f)return 0;var g=String(f.valueOf());if(void 0!==this._posFromDateCache[g])return this._posFromDateCache[g];var w=this.columnIndexByDate(f);this.$gantt.assert(w>=0,"Invalid day index");var b=Math.floor(w),T=w%1,P=this._tasks.left[Math.min(b,this._tasks.width.length-1)];b==this._tasks.width.length&&(P+=this._tasks.width[this._tasks.width.length-1]),T&&(P+=b<this._tasks.width.length?this._tasks.width[b]*(T%1):1);var E=Math.round(P);return this._posFromDateCache[g]=E,Math.round(E)},_getNextVisibleColumn:function(f,g,w){for(var b=+g[f],T=f;w[b];)b=+g[++T];return T},_getPrevVisibleColumn:function(f,g,w){for(var b=+g[f],T=f;w[b];)b=+g[--T];return T},_getClosestVisibleColumn:function(f,g,w){var b=this._getNextVisibleColumn(f,g,w);return g[b]||(b=this._getPrevVisibleColumn(f,g,w)),b},columnIndexByDate:function(f){var g=new Date(f).valueOf(),w=this._tasks.trace_x_ascending,b=this._tasks.ignore_x,T=this.$gantt.getState();if(g<=T.min_date)return this._tasks.rtl?w.length:0;if(g>=T.max_date)return this._tasks.rtl?0:w.length;var P=D.findBinary(w,g),E=this._getClosestVisibleColumn(P,w,b),G=this._tasks.trace_index_transition;if(!w[E])return G?G[0]:0;var V=(f-w[E])/this._getColumnDuration(this._tasks,w[E]);return G?G[E]+(1-V):E+V},getItemPosition:function(f,g,w){var b,T,P;return this._tasks.rtl?(T=this.posFromDate(g||f.start_date),b=this.posFromDate(w||f.end_date)):(b=this.posFromDate(g||f.start_date),T=this.posFromDate(w||f.end_date)),P=Math.max(T-b,0),{left:b,top:this.getItemTop(f.id),height:this.getBarHeight(f.id),width:P,rowHeight:this.getItemHeight(f.id)}},getBarHeight:function(f,g){var w=this.$getConfig(),b=this.$config.rowStore.getItem(f),T=b.task_height||b.bar_height||w.bar_height||w.task_height,P=this.getItemHeight(f);return"full"==T&&(T=P-(w.task_height_offset||5)),T=Math.min(T,P),g&&(T=Math.round(T/Math.sqrt(2))),Math.max(T,0)},getScale:function(){return this._tasks},_getScales:function(){var f=this.$getConfig(),g=this.$scaleHelper,w=[g.primaryScale(f)].concat(g.getSubScales(f));return g.sortScales(w),w},_getColumnDuration:function(f,g){return this.$gantt.date.add(g,f.step,f.unit)-g},_bindStore:function(){if(this.$config.bind){var f=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=f,f&&!f._timelineCacheAttached){var g=this;f._timelineCacheAttached=f.attachEvent("onBeforeFilter",function(){g._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var f=this.$gantt.getDatastore(this.$config.bind);f&&f._timelineCacheAttached&&(f.detachEvent(f._timelineCacheAttached),f._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){this._clearLayers(this.$gantt),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},j.exports=y},function(j,X){j.exports=function(R,I,O,x,D){if(!R.start_date||!R.end_date)return null;var C=O.getItemTop(R.id),_=O.getItemHeight(R.id);if(C>I.y_end||C+_<I.y)return!1;var y=O.posFromDate(R.start_date),f=O.posFromDate(R.end_date),g=Math.min(y,f)-200,w=Math.max(y,f)+200;return!(g>I.x_end||w<I.x)}},function(j,X){j.exports=function(R){function I(C,_,y){if(!R._isAllowedUnscheduledTask(C)&&R._isTaskInTimelineLimits(C)){var f=_.getItemPosition(C),g=y,w=_.$getTemplates(),b=R.getTaskType(C.type),T=_.getBarHeight(C.id,b==g.types.milestone),P=0;b==g.types.milestone&&(P=(T-f.height)/2);var E=Math.floor((_.getItemHeight(C.id)-T)/2);b==g.types.milestone&&(f.left-=Math.round(T/2),f.width=T);var F=document.createElement("div"),G=Math.round(f.width);_.$config.item_attribute&&(F.setAttribute(_.$config.item_attribute,C.id),F.setAttribute(_.$config.bind+"_id",C.id)),g.show_progress&&b!=g.types.milestone&&function(ie,J,Q,oe,ce){var ge=1*ie.progress||0;Q=Math.max(Q-2,0);var _e=document.createElement("div"),we=Math.round(Q*ge);we=Math.min(Q,we),ie.progressColor&&(_e.style.backgroundColor=ie.progressColor,_e.style.opacity=1),_e.style.width=we+"px",_e.className="gantt_task_progress",_e.innerHTML=ce.progress_text(ie.start_date,ie.end_date,ie),oe.rtl&&(_e.style.position="absolute",_e.style.right="0px");var Pe=document.createElement("div");if(Pe.className="gantt_task_progress_wrapper",Pe.appendChild(_e),J.appendChild(Pe),R.config.drag_progress&&!R.isReadonly(ie)){var Me=document.createElement("div"),Oe=we;oe.rtl&&(Oe=Q-we),Me.style.left=Oe+"px",Me.className="gantt_task_progress_drag",_e.appendChild(Me),J.appendChild(Me)}}(C,F,G,g,w);var V=(ie=C,J=G,Q=w,oe=document.createElement("div"),R.getTaskType(ie.type)!=R.config.types.milestone?oe.innerHTML=Q.task_text(ie.start_date,ie.end_date,ie):R.getTaskType(ie.type)==R.config.types.milestone&&J&&(oe.style.height=oe.style.width=J+"px"),oe.className="gantt_task_content",oe);C.textColor&&(V.style.color=C.textColor),F.appendChild(V);var B=function(ie,J,Q,oe){var ce=oe.$getConfig(),ge=["gantt_task_line"];J&&ge.push(J);var _e=R.getState(),we=R.getTask(Q);if(R.getTaskType(we.type)==ce.types.milestone?ge.push("gantt_milestone"):R.getTaskType(we.type)==ce.types.project&&ge.push("gantt_project"),ge.push("gantt_bar_"+R.getTaskType(we.type)),R.isSummaryTask(we)&&ge.push("gantt_dependent_task"),R.isSplitTask(we)&&(ce.open_split_tasks&&!we.$open||!ce.open_split_tasks)&&ge.push("gantt_split_parent"),ce.select_task&&R.isSelectedTask(Q)&&ge.push("gantt_selected"),Q==_e.drag_id&&(ge.push("gantt_drag_"+_e.drag_mode),_e.touch_drag&&ge.push("gantt_touch_"+_e.drag_mode)),_e.link_source_id==Q&&ge.push("gantt_link_source"),_e.link_target_id==Q&&ge.push("gantt_link_target"),ce.highlight_critical_path&&R.isCriticalTask&&R.isCriticalTask(we)&&ge.push("gantt_critical_task"),_e.link_landing_area&&_e.link_target_id&&_e.link_source_id&&_e.link_target_id!=_e.link_source_id&&(_e.link_target_id==Q||_e.link_source_id==Q)){var Oe=_e.link_to_start,Be=R.isLinkAllowed(_e.link_source_id,Q,_e.link_from_start,Oe);ge.push(Be?Oe?"link_start_allow":"link_finish_allow":Oe?"link_start_deny":"link_finish_deny")}return ge.join(" ")}(0,w.task_class(C.start_date,C.end_date,C),C.id,_);(C.color||C.progressColor||C.textColor)&&(B+=" gantt_task_inline_color"),f.width<20&&(B+=" gantt_thin_task"),F.className=B;var K=["left:"+f.left+"px","top:"+(E+f.top)+"px","height:"+(b==g.types.milestone?f.height:T)+"px","line-height:"+Math.max(T<30?T-2:T,0)+"px","width:"+G+"px"];C.color&&K.push("background-color:"+C.color),C.textColor&&K.push("color:"+C.textColor),F.style.cssText=K.join(";");var U=function(ie,J,Q,oe){var ce="gantt_left "+x(!J.rtl,ie),ge=null;return oe&&(ge={type:"marginRight",value:oe}),O(ie,Q.leftside_text,ce,ge)}(C,g,w,P);U&&F.appendChild(U),(U=function(ie,J,Q,oe){var ce="gantt_right "+x(!!J.rtl,ie),ge=null;return oe&&(ge={type:"marginLeft",value:oe}),O(ie,Q.rightside_text,ce,ge)}(C,g,w,P))&&F.appendChild(U),R._waiAria.setTaskBarAttr(C,F);var ee=R.getState();return R.isReadonly(C)||(g.drag_resize&&!R.isSummaryTask(C)&&b!=g.types.milestone&&D(F,"gantt_task_drag",C,function(ie){var J=document.createElement("div");return J.className=ie,J},g),g.drag_links&&g.show_links&&D(F,"gantt_link_control",C,function(ie){var J=document.createElement("div");J.className=ie,J.style.cssText=["height:"+T+"px","line-height:"+T+"px"].join(";");var Q=document.createElement("div");Q.className="gantt_link_point";var oe=!1;return ee.link_source_id&&g.touch&&(oe=!0),Q.style.display=oe?"block":"",J.appendChild(Q),J},g,P)),F}var ie,J,Q,oe}function O(C,_,y,f){if(!_)return null;var g=_(C.start_date,C.end_date,C);if(!g)return null;var w=document.createElement("div");return w.className="gantt_side_content "+y,w.innerHTML=g,f&&(w.style[f.type]=Math.abs(f.value)+"px"),w}function x(C,_){var y=C?{$source:[R.config.links.start_to_start],$target:[R.config.links.start_to_start,R.config.links.finish_to_start]}:{$source:[R.config.links.finish_to_start,R.config.links.finish_to_finish],$target:[R.config.links.finish_to_finish]};for(var f in y)for(var g=_[f],w=0;w<g.length;w++)for(var b=R.getLink(g[w]),T=0;T<y[f].length;T++)if(b.type==y[f][T])return"gantt_link_crossing";return""}function D(C,_,y,f,g,w){var b,T=R.getState();+y.start_date>=+T.min_date&&((b=f([_,g.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),w&&(b.style.marginLeft=w+"px"),C.appendChild(b)),+y.end_date<=+T.max_date&&((b=f([_,g.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),w&&(b.style.marginRight=w+"px"),C.appendChild(b))}return function(C,_,y){var f=(y=_.$getConfig()).type_renderers[R.getTaskType(C.type)],g=I;return f?f.call(R,C,function(w){return g.call(R,w,_,y)},_):g.call(R,C,_,y)}}},function(j,X){j.exports=function(R,I,O){return{top:I.getItemTop(R.id),height:I.getItemHeight(R.id),left:0,right:1/0}}},function(j,X){j.exports=function(R,I){var O=0,x=R.left.length-1;if(I)for(var D=0;D<R.left.length;D++){var C=R.left[D];if(C<I.x&&(O=D),C>I.x_end){x=D;break}}return{start:O,end:x}}},function(j,X,R){var I=R(14);j.exports=function(O,x,D,C){var _=x.width[O];return!(_<=0||C.config.smart_rendering&&!I(C)&&!(x.left[O]-_<=D.x_end&&x.left[O]+_>=D.x))}},function(j,X,R){var I=R(0);j.exports={createDropTargetObject:function(O){var x={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return O&&I.mixin(x,O,!0),x},nextSiblingTarget:function(O,x,D){var C=this.createDropTargetObject();return C.targetId=x,C.nextSibling=!0,C.targetParent=D.getParent(C.targetId),C.targetIndex=D.getBranchIndex(C.targetId),(D.getParent(O)!=C.targetParent||C.targetIndex<D.getBranchIndex(O))&&(C.targetIndex+=1),C},prevSiblingTarget:function(O,x,D){var C=this.createDropTargetObject();return C.targetId=x,C.prevSibling=!0,C.targetParent=D.getParent(C.targetId),C.targetIndex=D.getBranchIndex(C.targetId),D.getParent(O)==C.targetParent&&C.targetIndex>D.getBranchIndex(O)&&(C.targetIndex-=1),C},firstChildTarget:function(O,x,D){var C=this.createDropTargetObject();return C.targetId=x,C.targetParent=C.targetId,C.targetIndex=0,C.child=!0,C},lastChildTarget:function(O,x,D){var C=D.getChildren(x),_=this.createDropTargetObject();return _.targetId=C[C.length-1],_.targetParent=x,_.targetIndex=C.length,_.nextSibling=!0,_}}},function(j,X,R){var I=R(0);j.exports=function O(x,D){x=x||I.event,D=D||I.eventRemove;var C=[],_={attach:function(y,f,g,w){C.push({element:y,event:f,callback:g,capture:w}),x(y,f,g,w)},detach:function(y,f,g,w){D(y,f,g,w);for(var b=0;b<C.length;b++){var T=C[b];T.element===y&&T.event===f&&T.callback===g&&T.capture===w&&(C.splice(b,1),b--)}},detachAll:function(){for(var y=C.slice(),f=0;f<y.length;f++){var g=y[f];_.detach(g.element,g.event,g.callback,g.capture),_.detach(g.element,g.event,g.callback,void 0),_.detach(g.element,g.event,g.callback,!1),_.detach(g.element,g.event,g.callback,!0)}C.splice(0,C.length)},extend:function(){return O(this.event,this.eventRemove)}};return _}},function(j,X){j.exports=function(R,I){if(!I)return!0;if(R._on_timeout)return!1;var O=Math.ceil(1e3/I);return O<2||(setTimeout(function(){delete R._on_timeout},O),R._on_timeout=!0,!0)}},function(j,X){var R,I,O=j.exports={};function x(){throw new Error("setTimeout has not been defined")}function D(){throw new Error("clearTimeout has not been defined")}function C(E){if(R===setTimeout)return setTimeout(E,0);if((R===x||!R)&&setTimeout)return R=setTimeout,setTimeout(E,0);try{return R(E,0)}catch(F){try{return R.call(null,E,0)}catch(G){return R.call(this,E,0)}}}!function(){try{R="function"==typeof setTimeout?setTimeout:x}catch(E){R=x}try{I="function"==typeof clearTimeout?clearTimeout:D}catch(E){I=D}}();var _,y=[],f=!1,g=-1;function w(){f&&_&&(f=!1,_.length?y=_.concat(y):g=-1,y.length&&b())}function b(){if(!f){var E=C(w);f=!0;for(var F=y.length;F;){for(_=y,y=[];++g<F;)_&&_[g].run();g=-1,F=y.length}_=null,f=!1,function(G){if(I===clearTimeout)return clearTimeout(G);if((I===D||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(G);try{I(G)}catch(V){try{return I.call(null,G)}catch(B){return I.call(this,G)}}}(E)}}function T(E,F){this.fun=E,this.array=F}function P(){}O.nextTick=function(E){var F=new Array(arguments.length-1);if(arguments.length>1)for(var G=1;G<arguments.length;G++)F[G-1]=arguments[G];y.push(new T(E,F)),1!==y.length||f||C(b)},T.prototype.run=function(){this.fun.apply(null,this.array)},O.title="browser",O.browser=!0,O.env={},O.argv=[],O.version="",O.versions={},O.on=P,O.addListener=P,O.once=P,O.off=P,O.removeListener=P,O.removeAllListeners=P,O.emit=P,O.prependListener=P,O.prependOnceListener=P,O.listeners=function(E){return[]},O.binding=function(E){throw new Error("process.binding is not supported")},O.cwd=function(){return"/"},O.chdir=function(E){throw new Error("process.chdir is not supported")},O.umask=function(){return 0}},function(j,X,R){var I=R(33),O=R(0),x=R(4),D=R(9),C=function(_){return this.pull={},this.$initItem=_.initItem,this.visibleOrder=I.$create(),this.fullOrder=I.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=_,x(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};C.prototype={_attachDataChange:function(_){this.attachEvent("onClearAll",_),this.attachEvent("onBeforeParse",_),this.attachEvent("onBeforeUpdate",_),this.attachEvent("onBeforeDelete",_),this.attachEvent("onBeforeAdd",_),this.attachEvent("onParse",_),this.attachEvent("onBeforeFilter",_)},_parseInner:function(_){for(var y=null,f=[],g=0,w=_.length;g<w;g++)y=_[g],this.$initItem&&(this.$config.copyOnParse()&&(y=O.copy(y)),y=this.$initItem(y)),this.callEvent("onItemLoading",[y])&&(this.pull.hasOwnProperty(y.id)||this.fullOrder.push(y.id),f.push(y),this.pull[y.id]=y);return f},parse:function(_){this.isSilent()||this.callEvent("onBeforeParse",[_]);var y=this._parseInner(_);this.isSilent()||(this.refresh(),this.callEvent("onParse",[y]))},getItem:function(_){return this.pull[_]},_updateOrder:function(_){_.call(this.visibleOrder),_.call(this.fullOrder)},updateItem:function(_,y){if(O.defined(y)||(y=this.getItem(_)),!this.isSilent()&&!1===this.callEvent("onBeforeUpdate",[y.id,y]))return!1;O.mixin(this.pull[_],y,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[y.id,y]),this.callEvent("onStoreUpdated",[y.id,y,"update"]))},_removeItemInner:function(_){this._updateOrder(function(){this.$remove(_)}),delete this.pull[_]},removeItem:function(_){var y=this.getItem(_);if(!this.isSilent()&&!1===this.callEvent("onBeforeDelete",[y.id,y]))return!1;this.callEvent("onAfterDeleteConfirmed",[y.id,y]),this._removeItemInner(_),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[y.id,y]),this.callEvent("onStoreUpdated",[y.id,y,"delete"]))},_addItemInner:function(_,y){if(this.exists(_.id))this.silent(function(){this.updateItem(_.id,_)});else{var f=this.visibleOrder,g=f.length;(!O.defined(y)||y<0)&&(y=g),y>g&&(y=Math.min(f.length,y))}this.pull[_.id]=_,this.isSilent()||this._updateOrder(function(){-1===this.$find(_.id)&&this.$insertAt(_.id,y)}),this.filter()},isVisible:function(_){return this.visibleOrder.$find(_)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(_,y){return O.defined(_.id)||(_.id=O.uid()),this.$initItem&&(_=this.$initItem(_)),!(!this.isSilent()&&!1===this.callEvent("onBeforeAdd",[_.id,_]))&&(this._addItemInner(_,y),this.isSilent()||(this.callEvent("onAfterAdd",[_.id,_]),this.callEvent("onStoreUpdated",[_.id,_,"add"])),_.id)},_changeIdInner:function(_,y){this.pull[_]&&(this.pull[y]=this.pull[_]);var f=this._searchVisibleOrder[_];this.pull[y].id=y,this._updateOrder(function(){this[this.$find(_)]=y}),this._searchVisibleOrder[y]=f,delete this._searchVisibleOrder[_],delete this.pull[_]},changeId:function(_,y){this._changeIdInner(_,y),this.callEvent("onIdChange",[_,y])},exists:function(_){return!!this.pull[_]},_moveInner:function(_,y){var f=this.getIdByIndex(_);this._updateOrder(function(){this.$removeAt(_),this.$insertAt(f,Math.min(this.length,y))})},move:function(_,y){var f=this.getIdByIndex(_),g=this.getItem(f);this._moveInner(_,y),this.isSilent()||this.callEvent("onStoreUpdated",[g.id,g,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=I.$create(),this.fullOrder=I.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(_,y){var f=!1;this.isSilent()&&(f=!0),this._skip_refresh=!0,_.call(y||this),f||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(_,y){if(_.length!==y.length)return!1;for(var f=0;f<_.length;f++)if(_[f]!==y[f])return!1;return!0},refresh:function(_,y){var f;if(!this.isSilent()&&(_&&(f=this.getItem(_)),!1!==this.callEvent("onBeforeStoreUpdate",_?[_,f,"paint"]:[null,null,null]))){var w=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,_){if(!y&&!w){var b=this.visibleOrder;this.filter(),this.arraysEqual(b,this.visibleOrder)||(_=void 0)}}else w||this.filter();this.callEvent("onStoreUpdated",_?[_,f,"paint"]:[null,null,null])}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(_){},serialize:function(){},eachItem:function(_){for(var y=0;y<this.fullOrder.length;y++){var f=this.getItem(this.fullOrder[y]);_.call(this,f)}},find:function(_){var y=[];return this.eachItem(function(f){_(f)&&y.push(f)}),y},filter:function(_){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var y=I.$create(),f=[];this.eachItem(function(w){this.callEvent("onFilterItem",[w.id,w])&&(D(w.id,null,this,this._ganttConfig)?f.push(w.id):y.push(w.id))});for(var g=0;g<f.length;g++)y.push(f[g]);for(this.visibleOrder=y,this._searchVisibleOrder={},g=0;g<this.visibleOrder.length;g++)this._searchVisibleOrder[this.visibleOrder[g]]=g;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(_,y){var f=Math.min(y||1/0,this.countVisible()-1),g=_||0,w=g+"-"+f;if(this._indexRangeCache[w])return this._indexRangeCache[w].slice();for(var b=[],T=g;T<=f;T++)b.push(this.getItem(this.visibleOrder[T]));return this._indexRangeCache[w]=b.slice(),b},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var _=[];for(var y in this.pull)_.push(this.pull[y]);return this._getItemsCache=_.slice(),_},getIdByIndex:function(_){return this.visibleOrder[_]},getIndexById:function(_){var y=this._searchVisibleOrder[_];return void 0===y&&(y=-1),y},_getNullIfUndefined:function(_){return void 0===_?null:_},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(_){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(_)+1])},getPrev:function(_){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(_)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},j.exports=C},function(j,X,R){var I=R(0);j.exports={$create:function(x){return I.mixin(x||[],this)},$removeAt:function(x,D){x>=0&&this.splice(x,D||1)},$remove:function(x){this.$removeAt(this.$find(x))},$insertAt:function(x,D){if(D||0===D){var C=this.splice(D,this.length-D);this[D]=x,this.push.apply(this,C)}else this.push(x)},$find:function(x){for(var D=0;D<this.length;D++)if(x==this[D])return D;return-1},$each:function(x,D){for(var C=0;C<this.length;C++)x.call(D||this,this[C])},$map:function(x,D){for(var C=0;C<this.length;C++)this[C]=x.call(D||this,this[C]);return this},$filter:function(x,D){for(var C=0;C<this.length;C++)x.call(D||this,this[C])||(this.splice(C,1),C--);return this}}},function(j,X,R){var I=R(33),O=R(0),x=R(2),D=R(32),C=R(9),_=R(2).replaceValidZeroId;D.default&&(D=D.default);var y=function(f){var E;D.apply(this,[f]),this._branches={},this.pull={},this.$initItem=function(E){var F=E;f.initItem&&(F=f.initItem(F));var G=this.getItem(E.id);return G&&G.parent!=F.parent&&this.move(F.id,F.$index||-1,F.parent||this._ganttConfig.root_id),F},this.$parentProperty=f.parentProperty||"parent",this.$getRootId="function"!=typeof f.rootId?(E=f.rootId||0,function(){return E}):f.rootId,this.$openInitially=f.openInitially,this.visibleOrder=I.$create(),this.fullOrder=I.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,f.getConfig&&(this._ganttConfig=f.getConfig());var g={},w={},b={},T={},P=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,g={},w={},b={},T={},P=!1,this.eachItem(function(E){var F=this.getParent(E.id);b[E.id]=!(!E.$open||!1===b[F]),this._isSplitItem(E)&&(P=!0,g[E.id]=!0,w[E.id]=!0),P&&w[F]&&(w[E.id]=!0),T[E.id]=!(!b[F]&&void 0!==b[F])})}),this.attachEvent("onFilterItem",function(E,F){var G=!1;this._ganttConfig&&(G=this._ganttConfig.open_split_tasks);var V=T[F.id];return P&&(V&&w[F.id]&&!g[F.id]&&(V=!!G),w[F.id]&&!g[F.id]&&(F.$split_subtask=!0)),F.$expanded_branch=!!T[F.id],!!V}),this.attachEvent("onFilter",function(){g={},w={},b={},T={}}),this};y.prototype=O.mixin({_buildTree:function(f){for(var g=null,w=this.$getRootId(),b=0,T=f.length;b<T;b++)this.setParent(g=f[b],_(this.getParent(g),w)||w);for(b=0,T=f.length;b<T;b++)this._add_branch(g=f[b]),g.$level=this.calculateItemLevel(g),g.$local_index=this.getBranchIndex(g.id),O.defined(g.$open)||(g.$open=O.defined(g.open)?g.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(f){return"split"==f.render&&this.hasChild(f.id)},parse:function(f){this._skip_refresh||this.callEvent("onBeforeParse",[f]);var g=this._parseInner(f);this._buildTree(g),this.filter(),this._skip_refresh||this.callEvent("onParse",[g])},_addItemInner:function(f,g){var w=this.getParent(f);O.defined(w)||(w=this.$getRootId(),this.setParent(f,w));var b=this.getIndexById(w)+Math.min(Math.max(g,0),this.visibleOrder.length);1*b!==b&&(b=void 0),D.prototype._addItemInner.call(this,f,b),this.setParent(f,w),f.hasOwnProperty("$rendered_parent")&&this._move_branch(f,f.$rendered_parent),this._add_branch(f,g)},_changeIdInner:function(f,g){var w=this.getChildren(f),b=this._searchVisibleOrder[f];D.prototype._changeIdInner.call(this,f,g);var T=this.getParent(g);this._replace_branch_child(T,f,g),this._branches[f]&&(this._branches[g]=this._branches[f]);for(var P=0;P<w.length;P++){var E=this.getItem(w[P]);E[this.$parentProperty]=g,E.$rendered_parent=g}this._searchVisibleOrder[g]=b,delete this._branches[f]},_traverseBranches:function(f,g){O.defined(g)||(g=this.$getRootId());var w=this._branches[g];if(w)for(var b=0;b<w.length;b++){var T=w[b];f.call(this,T),this._branches[T]&&this._traverseBranches(f,T)}},_updateOrder:function(f){this.fullOrder=I.$create(),this._traverseBranches(function(g){this.fullOrder.push(g)}),f&&D.prototype._updateOrder.call(this,f)},_removeItemInner:function(f){var g=[];this.eachItem(function(b){g.push(b)},f),g.push(this.getItem(f));for(var w=0;w<g.length;w++)this._move_branch(g[w],this.getParent(g[w]),null),D.prototype._removeItemInner.call(this,g[w].id),this._move_branch(g[w],this.getParent(g[w]),null)},move:function(f,g,w){var b=arguments[3],T=(this._ganttConfig||{}).root_id||0;if(b=_(b,T)){if(b===f)return;w=this.getParent(b),g=this.getBranchIndex(b)}if(f!=w){O.defined(w)||(w=this.$getRootId());var P=this.getItem(f),E=this.getParent(P.id),F=this.getChildren(w);if(-1==g&&(g=F.length+1),E==w&&this.getBranchIndex(f)==g)return;if(!1===this.callEvent("onBeforeItemMove",[f,w,g]))return!1;for(var G=[],V=0;V<F.length;V++)C(F[V],null,this,this._ganttConfig)&&(G.push(F[V]),F.splice(V,1),V--);this._replace_branch_child(E,f);var B=(F=this.getChildren(w))[g];(B=_(B,T))?F=F.slice(0,g).concat([f]).concat(F.slice(g)):F.push(f),G.length&&(F=F.concat(G)),this.setParent(P,w),this._branches[w]=F;var K=this.calculateItemLevel(P)-P.$level;P.$level+=K,this.eachItem(function(U){U.$level+=K},P.id,this),this._moveInner(this.getIndexById(f),this.getIndexById(w)+g),this.callEvent("onAfterItemMove",[f,w,g]),this.refresh()}},getBranchIndex:function(f){for(var g=this.getChildren(this.getParent(f)),w=0;w<g.length;w++)if(g[w]==f)return w;return-1},hasChild:function(f){var g=this._branches[f];return g&&g.length},getChildren:function(f){return this._branches[f]||I.$create()},isChildOf:function(f,g){if(!this.exists(f))return!1;if(g===this.$getRootId())return!0;if(!this.hasChild(g))return!1;var w=this.getItem(f),b=this.getParent(f);if(this.getItem(g).$level>=w.$level)return!1;for(;w&&this.exists(b);){if((w=this.getItem(b))&&w.id==g)return!0;b=this.getParent(w)}return!1},getSiblings:function(f){if(!this.exists(f))return I.$create();var g=this.getParent(f);return this.getChildren(g)},getNextSibling:function(f){for(var g=this.getSiblings(f),w=0,b=g.length;w<b;w++)if(g[w]==f){var T=g[w+1];return 0===T&&w>0&&(T="0"),T||null}return null},getPrevSibling:function(f){for(var g=this.getSiblings(f),w=0,b=g.length;w<b;w++)if(g[w]==f){var T=g[w-1];return 0===T&&w>0&&(T="0"),T||null}return null},getParent:function(f){var g;return(g=void 0!==f.id?f:this.getItem(f))?g[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},D.prototype.clearAll.call(this)},calculateItemLevel:function(f){var g=0;return this.eachParent(function(){g++},f),g},_setParentInner:function(f,g,w){w||(f.hasOwnProperty("$rendered_parent")?this._move_branch(f,f.$rendered_parent,g):this._move_branch(f,f[this.$parentProperty],g))},setParent:function(f,g,w){this._setParentInner(f,g,w),f[this.$parentProperty]=g},_eachItemCached:function(f,g){for(var w=0,b=g.length;w<b;w++)f.call(this,g[w])},_eachItemIterate:function(f,g,w){var b=this.getChildren(g);for(b.length&&(b=b.slice().reverse());b.length;){var T=b.pop(),P=this.getItem(T);if(f.call(this,P),w&&w.push(P),this.hasChild(P.id))for(var E=this.getChildren(P.id),F=E.length-1;F>=0;F--)b.push(E[F])}},eachItem:function(f,g){var w=this.$getRootId();O.defined(g)||(g=w);var b=_(g,w)||w,T=!1,P=!1,E=null;b===w&&(this._eachItemMainRangeCache?(T=!0,E=this._eachItemMainRangeCache):(P=!0,E=this._eachItemMainRangeCache=[])),T?this._eachItemCached(f,E):this._eachItemIterate(f,b,P?E:null)},eachParent:function(f,g){for(var w={},b=g,T=this.getParent(b);this.exists(T);){if(w[T])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+T);w[T]=!0,b=this.getItem(T),f.call(this,b),T=this.getParent(b)}},_add_branch:function(f,g,w){var b=void 0===w?this.getParent(f):w;this.hasChild(b)||(this._branches[b]=I.$create());for(var T=this.getChildren(b),P=!1,E=0,F=T.length;E<F;E++)if(T[E]==f.id){P=!0;break}P||(1*g==g?T.splice(g,0,f.id):T.push(f.id),f.$rendered_parent=b)},_move_branch:function(f,g,w){this._eachItemMainRangeCache=null,this._replace_branch_child(g,f.id),this.exists(w)||w==this.$getRootId()?this._add_branch(f,void 0,w):delete this._branches[f.id],f.$level=this.calculateItemLevel(f),this.eachItem(function(b){b.$level=this.calculateItemLevel(b)},f.id)},_replace_branch_child:function(f,g,w){var b=this.getChildren(f);if(b&&void 0!==f){for(var T=I.$create(),P=0;P<b.length;P++)b[P]!=g?T.push(b[P]):w&&T.push(w);this._branches[f]=T}},sort:function(f,g,w){this.exists(w)||(w=this.$getRootId()),f||(f="order");var b="string"==typeof f?function(G,V){return G[f]==V[f]||x.isDate(G[f])&&x.isDate(V[f])&&G[f].valueOf()==V[f].valueOf()?0:G[f]>V[f]?1:-1}:f;if(g){var T=b;b=function(G,V){return T(V,G)}}var P=this.getChildren(w);if(P){for(var E=[],F=P.length-1;F>=0;F--)E[F]=this.getItem(P[F]);for(E.sort(b),F=0;F<E.length;F++)P[F]=E[F].id,this.sort(f,g,P[F])}},filter:function(f){for(var g in this.pull)this.pull[g].$rendered_parent!==this.getParent(this.pull[g])&&this._move_branch(this.pull[g],this.pull[g].$rendered_parent,this.getParent(this.pull[g]));return D.prototype.filter.apply(this,arguments)},open:function(f){this.exists(f)&&(this.getItem(f).$open=!0,this.callEvent("onItemOpen",[f]))},close:function(f){this.exists(f)&&(this.getItem(f).$open=!1,this.callEvent("onItemClose",[f]))},destructor:function(){D.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},D.prototype),j.exports=y},function(j,X,R){var I=R(18),O=R(18);j.exports=function(D){var C;(function x(D){var C=function(E){var F=new O(E).primaryScale(),G=F.unit,V=F.step;if(E.config.scale_offset_minimal){var B=new I(E),K=[B.primaryScale()].concat(B.getSubScales());B.sortScales(K),G=K[K.length-1].unit,V=K[K.length-1].step||1}return{unit:G,step:V}}(D),_=C.unit,y=C.step,f=function(E,F){var G={start_date:null,end_date:null};if(F.config.start_date&&F.config.end_date){G.start_date=F.date[E+"_start"](new Date(F.config.start_date));var V=new Date(F.config.end_date),B=F.date[E+"_start"](new Date(V));V=+V!=+B?F.date.add(B,1,E):B,G.end_date=V}return G}(_,D);if(!f.start_date||!f.end_date){for(var g=!0,w=D.getTaskByTime(),b=0;b<w.length;b++)if(w[b].type!==D.config.types.project){g=!1;break}if(w.length&&g){var T=w[0].start_date,P=D.date.add(T,1,D.config.duration_unit);f={start_date:new Date(T),end_date:new Date(P)}}else f=D.getSubtaskDates();f.start_date&&f.end_date||(f={start_date:new Date,end_date:new Date}),f.start_date=D.date[_+"_start"](f.start_date),f.start_date=D.calculateEndDate({start_date:D.date[_+"_start"](f.start_date),duration:-1,unit:_,step:y}),f.end_date=D.date[_+"_start"](f.end_date),f.end_date=D.calculateEndDate({start_date:f.end_date,duration:2,unit:_,step:y})}D._min_date=f.start_date,D._max_date=f.end_date})(D),!(C=D).config.fit_tasks||+C._min_date==+C._min_date&&+C._max_date==+C._max_date||(C.render(),C.callEvent("onScaleAdjusted",[]))}},function(j,X){function R(O,x,D){for(var C=0;C<x.length;C++)O.isLinkExists(x[C])&&(D[x[C]]=O.getLink(x[C]))}function I(O,x,D){R(O,x.$source,D),R(O,x.$target,D)}j.exports={getSubtreeLinks:function(O,x){var D={};return O.isTaskExists(x)&&I(O,O.getTask(x),D),O.eachTask(function(C){I(O,C,D)},x),D},getSubtreeTasks:function(O,x){var D={};return O.eachTask(function(C){D[C.id]=C},x),D}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=function(){function O(){var x=this;this.canParse=function(D){return!isNaN(x.parse(D))},this.format=function(D){return String(D)},this.parse=function(D){return parseInt(D,10)}}return O.create=function(x){return void 0===x&&(x=null),new O},O}();X.default=I},function(j,X,R){var I=R(133);j.exports=function(O){var x={},D={},C=null,_=-1,y=null,f=I(O);return{_resetTopPositionHeight:function(){x={},D={},f.resetCache()},_resetHeight:function(){var w=this.getCacheStateTotalHeight(this.$config.rowStore);y?this.shouldClearHeightCache(y,w)&&(y=w,C=null):y=w,_=-1,f.resetCache()},getRowTop:function(g){if(f.canUseSimpleCalculation())return f.getRowTop(g);var w=this.$config.rowStore;if(!w)return 0;if(void 0!==D[g])return D[g];for(var b=w.getIndexRange(),T=0,P=0,E=0;E<b.length;E++)D[E]=T,T+=this.getItemHeight(b[E].id),E<g&&(P=T);return P},getItemTop:function(g){if(this.$config.rowStore){if(void 0!==x[g])return x[g];var w=this.$config.rowStore;if(!w)return 0;var b=w.getIndexById(g);if(-1===b&&w.getParent&&w.exists(g)){var T=w.getParent(g);if(w.exists(T)){var P=w.getItem(T);if(this.$gantt.isSplitTask(P))return this.getItemTop(T)}}return x[g]=this.getRowTop(b),x[g]}return 0},getItemHeight:function(g){if(f.canUseSimpleCalculation())return f.getItemHeight(g);if(!C&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),void 0!==C[g])return C[g];var w=this.$getConfig().row_height;if(this.$config.rowStore){var b=this.$config.rowStore;if(!b)return w;var T=b.getItem(g);return C[g]=T&&T.row_height||w}return w},_fillHeightCache:function(g){if(g){C={};var w=this.$getConfig().row_height;g.eachItem(function(b){return C[b.id]=b&&b.row_height||w})}},getCacheStateTotalHeight:function(g){var w=this.$getConfig().row_height,b={},T=[],P=0;return g&&g.eachItem(function(E){T.push(E),b[E.id]=E.row_height,P+=E.row_height||w}),{globalHeight:w,items:T,count:T.length,sumHeight:P}},shouldClearHeightCache:function(g,w){if(g.count!=w.count||g.globalHeight!=w.globalHeight||g.sumHeight!=w.sumHeight)return!0;for(var b in g.items){var T=w.items[b];if(void 0!==T&&T!=g.items[b])return!0}return!1},getTotalHeight:function(){if(f.canUseSimpleCalculation())return f.getTotalHeight();if(-1!=_)return _;if(this.$config.rowStore){var g=this.$config.rowStore;this._fillHeightCache(g);var w=this.getItemHeight.bind(this),b=0;return g.getVisibleItems().forEach(function(T){b+=w(T.id)}),_=b,b}return 0},getItemIndexByTopPosition:function(g){if(!this.$config.rowStore)return 0;if(f.canUseSimpleCalculation())return f.getItemIndexByTopPosition(g);for(var w=this.$config.rowStore,b=0;b<w.countVisible();b++){var T=this.getRowTop(b),P=this.getRowTop(b+1);if(!P){var E=w.getIdByIndex(b);P=T+this.getItemHeight(E)}if(g>=T&&g<P)return b}}}}},function(j,X,R){var I=R(0),O=R(2);function x(y,f,g,w,b){return this.date=y,this.unit=f,this.task=g,this.id=w,this.calendar=b,this}function D(y,f,g,w,b,T){return this.date=y,this.dir=f,this.unit=g,this.task=w,this.id=b,this.calendar=T,this}function C(y,f,g,w,b,T,P){return this.start_date=y,this.duration=f,this.unit=g,this.step=w,this.task=b,this.id=T,this.calendar=P,this}function _(y,f,g,w){return this.start_date=y,this.end_date=f,this.task=g,this.calendar=w,this.unit=null,this.step=null,this}j.exports=function(y){return{getWorkHoursArguments:function(){var f=arguments[0];if(f=O.isDate(f)?{date:f}:I.mixin({},f),!O.isValidDate(f.date))throw y.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return f},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var f,g=arguments[0];if(g instanceof x)return g;if((f=g.date?new x(g.date,g.unit,g.task,null,g.calendar):new x(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=f.unit||y.config.duration_unit,!O.isValidDate(f.date))throw y.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return f},getClosestWorkTimeArguments:function(f){var g,w=arguments[0];if(w instanceof D)return w;if(g=O.isDate(w)?new D(w):new D(w.date,w.dir,w.unit,w.task,null,w.calendar),w.id&&(g.task=w),g.dir=w.dir||"any",g.unit=w.unit||y.config.duration_unit,!O.isValidDate(g.date))throw y.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return g},_getStartEndConfig:function(f){var g,w=_;if(f instanceof w)return f;if(O.isDate(f)?g=new w(arguments[0],arguments[1],arguments[2],arguments[3]):(g=new w(f.start_date,f.end_date,f.task),null!=f.id&&(g.task=f)),g.unit=g.unit||y.config.duration_unit,g.step=g.step||y.config.duration_step,g.start_date=g.start_date||g.start||g.date,!O.isValidDate(g.start_date))throw y.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!O.isValidDate(g.end_date))throw y.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return g},getDurationArguments:function(f,g,w,b){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(f,g,w,b){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(f,g,w,b){var T,P=arguments[0];if(P instanceof C)return P;if(T=O.isDate(P)?new C(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new C(P.start_date,P.duration,P.unit,P.step,P.task,null,P.calendar),null!=P.id&&(T.task=P,T.unit=null,T.step=null),T.unit=T.unit||y.config.duration_unit,T.step=T.step||y.config.duration_step,!O.isValidDate(T.start_date))throw y.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return T}}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.createCacheObject=void 0;var I=R(145),O=R(146),x=R(147);Object.defineProperty(X,"LargerUnitsCache",{enumerable:!0,get:function(){return x.LargerUnitsCache}}),X.createCacheObject=function(){return"undefined"!=typeof Map?new I.WorkUnitsMapCache:new O.WorkUnitsObjectCache}},function(j,X,R){var I=R(3),O=R(1),x=function(D){"use strict";function C(_,y,f){var g=D.apply(this,arguments)||this;return _&&(g.$root=!0),g._parseConfig(y),g.$name="layout",g}return I(C,D),C.prototype.destructor=function(){this.$container&&this.$view&&O.removeNode(this.$view);for(var _=0;_<this.$cells.length;_++)this.$cells[_].destructor();this.$cells=[],D.prototype.destructor.call(this)},C.prototype._resizeScrollbars=function(_,y){var f,V,g=!1,w=[],b=[];function T(V){V.$parent.show(),g=!0,w.push(V)}for(var E=0;E<y.length;E++)_[(f=y[E]).$config.scroll]||f.shouldHide()?((V=f).$parent.hide(),g=!0,b.push(V)):f.shouldShow()?T(f):f.isVisible()?w.push(f):b.push(f);var F={};for(E=0;E<w.length;E++)w[E].$config.group&&(F[w[E].$config.group]=!0);for(E=0;E<b.length;E++)if((f=b[E]).$config.group&&F[f.$config.group]){T(f);for(var G=0;G<w.length;G++)if(w[G]==f){this.$gantt.$scrollbarRepaint=!0;break}}return g},C.prototype._syncCellSizes=function(_,y){if(_){var f={};return this._eachChild(function(g){g.$config.group&&"scrollbar"!=g.$name&&"resizer"!=g.$name&&(f[g.$config.group]||(f[g.$config.group]=[]),f[g.$config.group].push(g))}),f[_]&&this._syncGroupSize(f[_],y),f[_]}},C.prototype._syncGroupSize=function(_,y){if(_.length)for(var f=_[0].$parent._xLayout?"width":"height",g=_[0].$parent.getNextSibling(_[0].$id)?1:-1,w=y.value,b=y.isGravity,T=0;T<_.length;T++){var P=_[T].getSize(),E=g>0?_[T].$parent.getNextSibling(_[T].$id):_[T].$parent.getPrevSibling(_[T].$id);"resizer"==E.$name&&(E=g>0?E.$parent.getNextSibling(E.$id):E.$parent.getPrevSibling(E.$id));var F=E.getSize();if(b)_[T].$config.gravity=w;else if(E[f]){var G=P.gravity+F.gravity,V=P[f]+F[f],B=G/V;_[T].$config.gravity=B*w,E.$config[f]=V-w,E.$config.gravity=G-B*w}else _[T].$config[f]=w;var K=this.$gantt.$ui.getView("grid");!K||_[T].$content!==K||K.$config.scrollable||b||(this.$gantt.config.grid_width=w)}},C.prototype.resize=function(_){var y=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),y=!0,this._resizeInProgress=!0),D.prototype.resize.call(this,!0),D.prototype.resize.call(this,!1),y){var f=[];f=(f=(f=f.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var g=this.getCellsByType("scroller"),w=0;w<f.length;w++)f[w].$config.hidden||f[w].setContentSize();var b=this._getAutosizeMode(this.$config.autosize),T=this._resizeScrollbars(b,g);if(this.$config.autosize&&(this.autosize(this.$config.autosize),T=!0),T)for(this.resize(),w=0;w<f.length;w++)f[w].$config.hidden||f[w].setContentSize();this.callEvent("onResize",[])}y&&(this._resizeInProgress=!1)},C.prototype._eachChild=function(_,y){if(_(y=y||this),y.$cells)for(var f=0;f<y.$cells.length;f++)this._eachChild(_,y.$cells[f])},C.prototype.isChild=function(_){var y=!1;return this._eachChild(function(f){f!==_&&f.$content!==_||(y=!0)}),y},C.prototype.getCellsByType=function(_){var y=[];if(_===this.$name&&y.push(this),this.$content&&this.$content.$name==_&&y.push(this.$content),this.$cells)for(var f=0;f<this.$cells.length;f++){var g=C.prototype.getCellsByType.call(this.$cells[f],_);g.length&&y.push.apply(y,g)}return y},C.prototype.getNextSibling=function(_){var y=this.cellIndex(_);return y>=0&&this.$cells[y+1]?this.$cells[y+1]:null},C.prototype.getPrevSibling=function(_){var y=this.cellIndex(_);return y>=0&&this.$cells[y-1]?this.$cells[y-1]:null},C.prototype.cell=function(_){for(var y=0;y<this.$cells.length;y++){var f=this.$cells[y];if(f.$id===_)return f;var g=f.cell(_);if(g)return g}},C.prototype.cellIndex=function(_){for(var y=0;y<this.$cells.length;y++)if(this.$cells[y].$id===_)return y;return-1},C.prototype.moveView=function(_,y){if(this.$cells[y]!==_)return window.alert("Not implemented");var f=this.$view;(y+=this.$config.header?1:0)>=f.childNodes.length?f.appendChild(_.$view):f.insertBefore(_.$view,f.childNodes[y])},C.prototype._parseConfig=function(_){this.$cells=[],this._xLayout=!_.rows;for(var y=_.rows||_.cols||_.views,f=0;f<y.length;f++){var g=y[f];g.mode=this._xLayout?"x":"y";var w=this.$factory.initUI(g,this);w?(w.$parent=this,this.$cells.push(w)):(y.splice(f,1),f--)}},C.prototype.getCells=function(){return this.$cells},C.prototype.render=function(){var _=O.insertNode(this.$container,this.$toHTML());this.$fill(_,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},C.prototype.$fill=function(_,y){this.$view=_,this.$parent=y;for(var f=O.getChildNodes(_,"gantt_layout_cell"),g=f.length-1;g>=0;g--){var w=this.$cells[g];w.$fill(f[g],this),w.$config.hidden&&w.$view.parentNode.removeChild(w.$view)}},C.prototype.$toHTML=function(){for(var _=this._xLayout?"x":"y",y=[],f=0;f<this.$cells.length;f++)y.push(this.$cells[f].$toHTML());return D.prototype.$toHTML.call(this,y.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+_)},C.prototype.getContentSize=function(_){for(var y,f,g,w=0,b=0,T=0;T<this.$cells.length;T++)(f=this.$cells[T]).$config.hidden||(y=f.getContentSize(_),"scrollbar"===f.$config.view&&_[f.$config.scroll]&&(y.height=0,y.width=0),f.$config.resizer&&(this._xLayout?y.height=0:y.width=0),g=f._getBorderSizes(),this._xLayout?(w+=y.width+g.horizontal,b=Math.max(b,y.height+g.vertical)):(w=Math.max(w,y.width+g.horizontal),b+=y.height+g.vertical));return{width:w+=(g=this._getBorderSizes()).horizontal,height:b+=g.vertical}},C.prototype._cleanElSize=function(_){return 1*(_||"").toString().replace("px","")||0},C.prototype._getBoxStyles=function(_){var y,f=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],g={boxSizing:"border-box"==(y=window.getComputedStyle?window.getComputedStyle(_,null):{width:_.clientWidth,height:_.clientHeight}).boxSizing};y.MozBoxSizing&&(g.boxSizing="border-box"==y.MozBoxSizing);for(var w=0;w<f.length;w++)g[f[w]]=y[f[w]]?this._cleanElSize(y[f[w]]):0;var b={horPaddings:g.paddingLeft+g.paddingRight+g.borderLeftWidth+g.borderRightWidth,vertPaddings:g.paddingTop+g.paddingBottom+g.borderTopWidth+g.borderBottomWidth,borderBox:g.boxSizing,innerWidth:g.width,innerHeight:g.height,outerWidth:g.width,outerHeight:g.height};return b.borderBox?(b.innerWidth-=b.horPaddings,b.innerHeight-=b.vertPaddings):(b.outerWidth+=b.horPaddings,b.outerHeight+=b.vertPaddings),b},C.prototype._getAutosizeMode=function(_){var y={x:!1,y:!1};return"xy"===_?y.x=y.y=!0:"y"===_||!0===_?y.y=!0:"x"===_&&(y.x=!0),y},C.prototype.autosize=function(_){var y=this._getAutosizeMode(_),f=this._getBoxStyles(this.$container),g=this.getContentSize(_),w=this.$container;y.x&&(f.borderBox&&(g.width+=f.horPaddings),w.style.width=g.width+"px"),y.y&&(f.borderBox&&(g.height+=f.vertPaddings),w.style.height=g.height+"px")},C.prototype.getSize=function(){this._sizes=[];for(var _=0,y=0,f=1e11,g=0,w=1e11,b=0,T=0;T<this.$cells.length;T++){var P=this._sizes[T]=this.$cells[T].getSize();this.$cells[T].$config.hidden||(this._xLayout?(_+=!P.width&&P.minWidth?P.minWidth:P.width,f+=P.maxWidth,y+=P.minWidth,g=Math.max(g,P.height),w=Math.min(w,P.maxHeight),b=Math.max(b,P.minHeight)):(g+=!P.height&&P.minHeight?P.minHeight:P.height,w+=P.maxHeight,b+=P.minHeight,_=Math.max(_,P.width),f=Math.min(f,P.maxWidth),y=Math.max(y,P.minWidth)))}var E=D.prototype.getSize.call(this);return E.maxWidth>=1e5&&(E.maxWidth=f),E.maxHeight>=1e5&&(E.maxHeight=w),E.minWidth=E.minWidth!=E.minWidth?0:E.minWidth,E.minHeight=E.minHeight!=E.minHeight?0:E.minHeight,this._xLayout?(E.minWidth+=this.$config.margin*this.$cells.length||0,E.minWidth+=2*this.$config.padding||0,E.minHeight+=2*this.$config.padding||0):(E.minHeight+=this.$config.margin*this.$cells.length||0,E.minHeight+=2*this.$config.padding||0),E},C.prototype._calcFreeSpace=function(_,y,f){var g=f?y.minWidth:y.minHeight,w=y.maxWidth,b=_;return b?(b>w&&(b=w),b<g&&(b=g),this._free-=b):((b=Math.floor(this._free/this._gravity*y.gravity))>w&&(this._free-=b=w,this._gravity-=y.gravity),b<g&&(this._free-=b=g,this._gravity-=y.gravity)),b},C.prototype._calcSize=function(_,y,f){var g=_,w=f?y.minWidth:y.minHeight,b=f?y.maxWidth:y.maxHeight;return g||(g=Math.floor(this._free/this._gravity*y.gravity)),g>b&&(g=b),g<w&&(g=w),g},C.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var _=this._xLayout?this._borders.right:this._borders.bottom,y=this.$cells,f=y.length-1,g=f;g>=0;g--)if(!y[g].$config.hidden){f=g;break}for(g=0;g<y.length;g++)if(!y[g].$config.hidden){var w=g>=f,b="";!w&&y[g+1]&&"scrollbar"==y[g+1].$config.view&&(this._xLayout?w=!0:b="gantt_layout_cell_border_transparent"),this._setBorders(w?[]:[_,b],y[g])}},C.prototype._updateCellVisibility=function(){for(var _=this._visibleCells||{},y=!this._visibleCells,f={},g=null,w=[],b=0;b<this._sizes.length;b++)(g=this.$cells[b]).$config.hide_empty&&w.push(g),!y&&g.$config.hidden&&_[g.$id]?g._hide(!0):g.$config.hidden||_[g.$id]||g._hide(!1),g.$config.hidden||(f[g.$id]=!0);for(this._visibleCells=f,b=0;b<w.length;b++){var T=!0;(g=w[b]).$cells.forEach(function(P){P.$config.hidden||P.$config.resizer||(T=!1)}),g.$config.hidden=T}},C.prototype.setSize=function(_,y){this._configureBorders(),D.prototype.setSize.call(this,_,y),y=this.$lastSize.contentY,_=this.$lastSize.contentX;var f,g,w=this.$config.padding||0;this.$view.style.padding=w+"px",this._gravity=0,this._free=this._xLayout?_:y,this._free-=2*w,this._updateCellVisibility();for(var b=0;b<this._sizes.length;b++)if(!(f=this.$cells[b]).$config.hidden){var T=this.$config.margin||0;"resizer"!=f.$name||T||(T=-1),b!==this.$cells.length-1&&(f.$view.style[this._xLayout?"marginRight":"marginBottom"]=T+"px",this._free-=T),g=this._sizes[b],this._xLayout?g.width||(this._gravity+=g.gravity):g.height||(this._gravity+=g.gravity)}for(b=0;b<this._sizes.length;b++)if(!(f=this.$cells[b]).$config.hidden){var F=(g=this._sizes[b]).width,G=g.height;this._xLayout?this._calcFreeSpace(F,g,!0):this._calcFreeSpace(G,g,!1)}for(b=0;b<this.$cells.length;b++)if(!(f=this.$cells[b]).$config.hidden){g=this._sizes[b];var V=void 0,B=void 0;this._xLayout?(V=this._calcSize(g.width,g,!0),B=y-2*w):(V=_-2*w,B=this._calcSize(g.height,g,!1)),f.setSize(V,B)}},C}(R(11));j.exports=x},function(j,X,R){var I=R(2);j.exports=function(O){var x={};return O.$data.tasksStore.attachEvent("onStoreUpdated",function(){x={}}),function(D,C,_,y){var f=D.id+"_"+C+"_"+_.unit+"_"+_.step;return x[f]?x[f]:x[f]=function(g,w,b,T){var P,F,E=!1;O.config.process_resource_assignments&&w===O.config.resource_property?(P="task"==g.$role?O.getResourceAssignments(g.$resource_id,g.$task_id):O.getResourceAssignments(g.id),E=!0):P="task"==g.$role?[]:O.getTaskBy(w,g.id),F=function(ge,_e,we){for(var Pe=_e.unit,Me=_e.step,Oe={},Be={},je=0;je<ge.length;je++){var nt=ge[je],We=nt;we&&(We=O.getTask(nt.task_id));var ze=nt.start_date||We.start_date,ft=nt.end_date||We.end_date;we&&(nt.start_date&&(ze=new Date(Math.max(nt.start_date.valueOf(),We.start_date.valueOf()))),nt.end_date&&(ft=new Date(Math.min(nt.end_date.valueOf(),We.end_date.valueOf()))));var Ct=I.findBinary(_e.trace_x,ze.valueOf()),ke=new Date(_e.trace_x[Ct]||O.date[Pe+"_start"](new Date(ze))),It=O.config.work_time?O.getTaskCalendar(We):O;for(Be[It.id]={};ke<ft;){var jn=Be[It.id],vt=ke,Ne=vt.valueOf();ke=O.date.add(ke,Me,Pe),!1!==jn[Ne]&&(It.isWorkTime({date:vt,task:We,unit:Pe})?(Oe[Ne]||(Oe[Ne]={tasks:[],assignments:[]}),Oe[Ne].tasks.push(We),we&&Oe[Ne].assignments.push(nt)):jn[Ne]=!1)}}return Oe}(P,b,E);for(var G,V,B,U,ee=b.unit,ie=b.step,J=[],Q=T.$getConfig(),oe=0;oe<b.trace_x.length;oe++)G=new Date(b.trace_x[oe]),V=O.date.add(G,ie,ee),U=F[G.valueOf()]||{},J.push((B=U.tasks||[]).length||Q.resource_render_empty_cells?{start_date:G,end_date:V,tasks:B,assignments:U.assignments||[]}:null);return J}(D,C,_,y)}}},function(j,X,R){var I=R(2);function x(C,_,y){return _=_||[],"<"+C+D(y||[])+">"+(_.innerHTML||"")+"</"+C+">"}function D(C){var _="";return I.forEach(C,function(y){_+=" "+y.key+"='"+y.value+"'"}),_}j.exports={getHtmlSelect:function(C,_,y){var f="",g=this;return I.forEach(C=C||[],function(w){var b=[{key:"value",value:w.key}];y==w.key&&(b[b.length]={key:"selected",value:"selected"}),w.attributes&&(b=b.concat(w.attributes)),f+=g.getHtmlOption({innerHTML:w.label},b)}),x("select",{innerHTML:f},_)},getHtmlOption:function(C,_){return x("option",C,_)},getHtmlButton:function(C,_){return x("button",C,_)},getHtmlDiv:function(C,_){return x("div",C,_)},getHtmlLabel:function(C,_){return x("label",C,_)},getHtmlInput:function(C){return"<input"+D(C||[])+">"}}},,,,,,,,,,,,,,,,,,,,function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.gantt=void 0;var I=R(64),O=R(92),x=R(12).gantt=O(I.default);X.gantt=x,X.default=x},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(65),O=R(68),x=R(70),D=R(71),C=R(82),_=R(83),y=R(84),f=R(86),g=R(89);X.default={click_drag:I.default,drag_timeline:O.default,fullscreen:x.default,keyboard_navigation:D,quick_info:y.default,tooltip:f.default,undo:g.default,marker:C,multiselect:_}},function(j,X,R){"use strict";var I=this&&this.__assign||function(){return(I=Object.assign||function(D){for(var C,_=1,y=arguments.length;_<y;_++)for(var f in C=arguments[_])Object.prototype.hasOwnProperty.call(C,f)&&(D[f]=C[f]);return D}).apply(this,arguments)};Object.defineProperty(X,"__esModule",{value:!0});var O=R(66),x=R(67);X.default=function(D){D.ext||(D.ext={});var C={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},_=new O.EventsManager(D);D.ext.clickDrag=_,D.attachEvent("onGanttReady",function(){var y=I({viewPort:D.$task_data},C);if(D.config.click_drag){var f=D.config.click_drag;y.render=f.render||C.render,y.className=f.className||C.className,y.callback=f.callback||C.callback,y.viewPort=f.viewPort||D.$task_data,y.useRequestAnimationFrame=void 0===f.useRequestAnimationFrame?C.useRequestAnimationFrame:f.useRequestAnimationFrame,y.singleRow=void 0===f.singleRow?C.singleRow:f.singleRow;var g=D.$ui.getView("timeline"),w=new x.SelectedRegion(y,D,g);D.ext.clickDrag.attach(w,f.useKey,f.ignore)}}),D.attachEvent("onDestroy",function(){_.destructor()})}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.EventsManager=void 0;var I=R(1),O=function(){function x(D){this._mouseDown=!1,this._gantt=D,this._domEvents=D._createDomEventScope()}return x.prototype.attach=function(D,C,_){var y=this,f=this._gantt,g=D.getViewPort();this._originPosition=window.getComputedStyle(g).display,this._restoreOriginPosition=function(){g.style.position=y._originPosition},"static"===this._originPosition&&(g.style.position="relative");var w=f.$services.getService("state");w.registerProvider("clickDrag",function(){return{autoscroll:!1}});var b=null;this._domEvents.attach(g,"mousedown",function(P){b=null;var E=".gantt_task_line, .gantt_task_link";void 0!==_&&(E=_ instanceof Array?_.join(", "):_),E&&f.utils.dom.closest(P.target,E)||(w.registerProvider("clickDrag",function(){return{autoscroll:y._mouseDown}}),C&&!0!==P[C]||(b=y._getCoordinates(P,D)))});var T=I.getRootNode(f.$root)||document.body;this._domEvents.attach(T,"mouseup",function(P){if(b=null,(!C||!0===P[C])&&!0===y._mouseDown){y._mouseDown=!1;var E=y._getCoordinates(P,D);D.dragEnd(E)}}),this._domEvents.attach(g,"mousemove",function(P){if(!C||!0===P[C]){var F=(y._gantt.config.drag_timeline||{}).useKey;if(!y._gantt.ext.clickDrag||!F||C||!P[F]){var G=null;if(!y._mouseDown&&b)return G=y._getCoordinates(P,D),void(Math.abs(b.relative.left-G.relative.left)>5&&b&&(y._mouseDown=!0,D.setStart(f.copy(b)),D.setPosition(f.copy(b)),D.setEnd(f.copy(b)),b=null));!0===y._mouseDown&&(G=y._getCoordinates(P,D),D.setEnd(G),D.render())}}})},x.prototype.detach=function(){var D=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),D.$services.getService("state").unregisterProvider("clickDrag")},x.prototype.destructor=function(){this.detach()},x.prototype._getCoordinates=function(D,C){var _=C.getViewPort(),y=_.getBoundingClientRect(),f=D.clientX,g=D.clientY;return{absolute:{left:f,top:g},relative:{left:f-y.left+_.scrollLeft,top:g-y.top+_.scrollTop}}},x}();X.EventsManager=O},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.SelectedRegion=void 0;var I=R(4),O=R(2),x=function(){function D(C,_,y){var f=this;this._el=document.createElement("div"),this.defaultRender=function(g,w){f._el||(f._el=document.createElement("div"));var b=f._el,T=Math.min(g.relative.top,w.relative.top),P=Math.max(g.relative.top,w.relative.top),E=Math.min(g.relative.left,w.relative.left),F=Math.max(g.relative.left,w.relative.left);if(f._singleRow){var G=f._getTaskPositionByTop(f._startPoint.relative.top);b.style.height=G.height+"px",b.style.top=G.top+"px"}else b.style.height=Math.abs(P-T)+"px",b.style.top=T+"px";return b.style.width=Math.abs(F-E)+"px",b.style.left=E+"px",b},this._gantt=_,this._view=y,this._viewPort=C.viewPort,this._el.classList.add(C.className),"function"==typeof C.callback&&(this._callback=C.callback),this.render=function(){var g;(g=C.render?C.render(f._startPoint,f._endPoint):f.defaultRender(f._startPoint,f._endPoint))!==f._el&&(f._el&&f._el.parentNode&&f._el.parentNode.removeChild(f._el),f._el=g),""!==C.className&&f._el.classList.add(C.className),f.draw()},O.isEventable(this._viewPort)||I(this._viewPort),this._singleRow=C.singleRow,this._useRequestAnimationFrame=C.useRequestAnimationFrame}return D.prototype.draw=function(){var C=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){C._viewPort.appendChild(C.getElement())});this._viewPort.appendChild(this.getElement())},D.prototype.clear=function(){var C=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){C._el.parentNode&&C._viewPort.removeChild(C._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},D.prototype.getElement=function(){return this._el},D.prototype.getViewPort=function(){return this._viewPort},D.prototype.setStart=function(C){var _=this._gantt;this._startPoint=C,this._startDate=_.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},D.prototype.setEnd=function(C){var _=this._gantt;if(this._endPoint=C,this._singleRow){var y=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=y.top}this._endDate=_.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},D.prototype.setPosition=function(C){this._positionPoint=C},D.prototype.dragEnd=function(C){var _,y=this._gantt;C.relative.left<0&&(C.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,C]),this.setEnd(C),this._endDate=this._endDate||y.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(this._startDate=(_=[this._endDate,this._startDate])[0],this._endDate=_[1]),this.clear();var f=y.getTaskByTime(this._startDate,this._endDate),g=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,f,g)},D.prototype.getInBounds=function(){return this._singleRow},D.prototype._getTasksByTop=function(C,_){var y=this._gantt,f=C,g=_;C>_&&(f=_,g=C);for(var w=this._getTaskPositionByTop(f).index,b=this._getTaskPositionByTop(g).index,T=[],P=w;P<=b;P++)y.getTaskByIndex(P)&&T.push(y.getTaskByIndex(P));return T},D.prototype._getTaskPositionByTop=function(C){var _=this._gantt,y=this._view,f=y.getItemIndexByTopPosition(C),g=_.getTaskByIndex(f);if(g){var w=y.getItemHeight(g.id);return{top:y.getItemTop(g.id)||0,height:w||0,index:f}}var b=y.getTotalHeight();return{top:C>b?b:0,height:_.config.row_height,index:C>b?_.getTaskCount():0}},D}();X.SelectedRegion=x},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(69);X.default=function(O){O.ext||(O.ext={}),O.ext.dragTimeline={create:function(){return I.EventsManager.create(O)}},O.config.drag_timeline={enabled:!0}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.EventsManager=void 0;var I=function(){function O(x){var D=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(D._trace.length>=10){for(var C=D._trace.slice(D._trace.length-10),_=[],y=1;y<C.length;y++)_.push({x:C[y].x-C[y-1].x,y:C[y].y-C[y-1].y});var f={x:0,y:0};return _.forEach(function(g){f.x+=g.x,f.y+=g.y}),{magnitude:Math.sqrt(f.x*f.x+f.y*f.y),angleDegrees:180*Math.atan2(Math.abs(f.y),Math.abs(f.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){D._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){D._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(C){var _=D._gantt;return{x:_.$ui.getView(C.$config.scrollX).getScrollState().position,y:_.$ui.getView(C.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(C){var _=D._calculateDirectionVector(),y=D._startPoint.x-C.x,f=D._startPoint.y-C.y;return _&&(_.angleDegrees<15?f=0:_.angleDegrees>75&&(y=0)),{x:D._scrollState.x+y,y:D._scrollState.y+f}},this._setScrollPosition=function(C,_){var y=D._gantt;requestAnimationFrame(function(){y.$ui.getView(C.$config.scrollX).scroll(_.x),y.$ui.getView(C.$config.scrollY).scroll(_.y)})},this._stopDrag=function(C){var _=D._gantt;if(D._trace=[],_.$root.classList.remove("gantt_noselect"),void 0!==D._originalReadonly&&(_.config.readonly=D._originalReadonly),void 0!==D._originAutoscroll&&(_.config.autoscroll=D._originAutoscroll),_.config.drag_timeline){var y=_.config.drag_timeline.useKey;if(y&&!0!==C[y])return}D._mouseDown=!1},this._startDrag=function(C){var _=D._gantt;D._originAutoscroll=_.config.autoscroll,_.config.autoscroll=!1,_.$root.classList.add("gantt_noselect"),D._originalReadonly=_.config.readonly,_.config.readonly=!0,D._trace=[],D._mouseDown=!0;var y=D._getScrollPosition(D._timeline);D._scrollState={x:y.x,y:y.y},D._startPoint={x:C.clientX,y:C.clientY},D._trace.push(D._startPoint)},this._gantt=x,this._domEvents=x._createDomEventScope(),this._trace=[]}return O.create=function(x){return new O(x)},O.prototype.destructor=function(){this._domEvents.detachAll()},O.prototype.attach=function(x){var D=this;this._timeline=x;var C=this._gantt;this._domEvents.attach(x.$task,"mousedown",function(_){if(C.config.drag_timeline){var y=C.config.drag_timeline,f=y.useKey,g=y.ignore;if(!1!==y.enabled){var w=".gantt_task_line, .gantt_task_link";void 0!==g&&(w=g instanceof Array?g.join(", "):g),w&&C.utils.dom.closest(_.target,w)||f&&!0!==_[f]||D._startDrag(_)}}}),this._domEvents.attach(document,"keydown",function(_){if(C.config.drag_timeline){var y=C.config.drag_timeline.useKey;y&&!0===_[y]&&D._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(_){if(C.config.drag_timeline){var y=C.config.drag_timeline.useKey;y&&!1===_[y]&&(D._clearDndReadyStyles(),D._stopDrag(_))}}),this._domEvents.attach(document,"mouseup",function(_){D._stopDrag(_)}),this._domEvents.attach(C.$root,"mouseup",function(_){D._stopDrag(_)}),this._domEvents.attach(document,"mouseleave",function(_){D._stopDrag(_)}),this._domEvents.attach(C.$root,"mouseleave",function(_){D._stopDrag(_)}),this._domEvents.attach(C.$root,"mousemove",function(_){if(C.config.drag_timeline){var y=C.config.drag_timeline.useKey;if(!y||!0===_[y]){var g=(D._gantt.config.click_drag||{}).useKey;if((!D._gantt.ext.clickDrag||!g||y||!_[g])&&!0===D._mouseDown){D._trace.push({x:_.clientX,y:_.clientY});var w=D._countNewScrollPosition({x:_.clientX,y:_.clientY});D._setScrollPosition(x,w),D._scrollState=w,D._startPoint={x:_.clientX,y:_.clientY}}}}})},O}();X.EventsManager=I},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(I){function O(){var w=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!w||w!==document.body)}I.$services.getService("state").registerProvider("fullscreen",function(){return{fullscreen:O()}});var x={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},D={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},C=null;function _(w,b){b.width=w.width,b.height=w.height,b.top=w.top,b.left=w.left,b.position=w.position,b.zIndex=w.zIndex}var y=!1;function f(){var w,b,T;I.$container&&(O()?y&&(w="onExpand",b=I.ext.fullscreen.getFullscreenElement(),T=document.body,_(b.style,D),x={overflow:T.style.overflow,padding:T.style.padding?T.style.padding:null,paddingTop:T.style.paddingTop?T.style.paddingTop:null,paddingRight:T.style.paddingRight?T.style.paddingRight:null,paddingBottom:T.style.paddingBottom?T.style.paddingBottom:null,paddingLeft:T.style.paddingLeft?T.style.paddingLeft:null},T.style.padding&&(T.style.padding="0"),T.style.paddingTop&&(T.style.paddingTop="0"),T.style.paddingRight&&(T.style.paddingRight="0"),T.style.paddingBottom&&(T.style.paddingBottom="0"),T.style.paddingLeft&&(T.style.paddingLeft="0"),T.style.overflow="hidden",b.style.width="100vw",b.style.height="100vh",b.style.top="0px",b.style.left="0px",b.style.position="absolute",b.style.zIndex=1,D.modified=!0,C=function(P){for(var E=P.parentNode,F=[];E&&E.style;)F.push({element:E,originalPositioning:E.style.position}),E.style.position="static",E=E.parentNode;return F}(b)):y&&(y=!1,w="onCollapse",function(){var b=I.ext.fullscreen.getFullscreenElement(),T=document.body;D.modified&&(x.padding&&(T.style.padding=x.padding),x.paddingTop&&(T.style.paddingTop=x.paddingTop),x.paddingRight&&(T.style.paddingRight=x.paddingRight),x.paddingBottom&&(T.style.paddingBottom=x.paddingBottom),x.paddingLeft&&(T.style.paddingLeft=x.paddingLeft),T.style.overflow=x.overflow,x={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},_(D,b.style),D.modified=!1),C.forEach(function(E){E.element.style.position=E.originalPositioning}),C=null}()),setTimeout(function(){I.render()}),setTimeout(function(){I.callEvent(w,[I.ext.fullscreen.getFullscreenElement()])}))}function g(){return!(I.$container&&I.ext.fullscreen.getFullscreenElement()&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),0)))}I.ext.fullscreen={expand:function(){if(!g()&&!O()&&I.callEvent("onBeforeExpand",[this.getFullscreenElement()])){y=!0;var w=document.body,b=w.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],T=w.msRequestFullscreen||w.mozRequestFullScreen||w.webkitRequestFullscreen||w.requestFullscreen;T&&T.apply(w,b)}},collapse:function(){if(!g()&&O()&&I.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var w=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;w&&w.apply(document)}},toggle:function(){g()||(O()?this.collapse():this.expand())},getFullscreenElement:function(){return I.$root}},I.expand=function(){I.ext.fullscreen.expand()},I.collapse=function(){I.ext.fullscreen.collapse()},I.attachEvent("onGanttReady",function(){I.event(document,"webkitfullscreenchange",f),I.event(document,"mozfullscreenchange",f),I.event(document,"MSFullscreenChange",f),I.event(document,"fullscreenChange",f),I.event(document,"fullscreenchange",f)})}},function(j,X,R){j.exports=function(I){var O=R(4);!function(x){x.config.keyboard_navigation=!0,x.config.keyboard_navigation_cells=!1,x.$keyboardNavigation={},x._compose=function(){for(var C=Array.prototype.slice.call(arguments,0),_={},y=0;y<C.length;y++){var f=C[y];for(var g in"function"==typeof f&&(f=new f),f)_[g]=f[g]}return _},R(72)(x),R(73)(x),R(74)(x),R(75)(x),R(76)(x),R(77)(x),R(78)(x),R(79)(x),R(80)(x),R(81)(x);var D=R(1);!function(){var C=x.$keyboardNavigation.dispatcher;C.isTaskFocused=function(G){var V=C.activeNode;return(V instanceof x.$keyboardNavigation.TaskRow||V instanceof x.$keyboardNavigation.TaskCell)&&V.taskId==G};var _=function(G){if(x.config.keyboard_navigation&&(x.config.keyboard_navigation_cells||!g(G)))return C.keyDownHandler(G)},y=function(G){if(C.$preventDefault)return G.preventDefault(),x.$container.blur(),!1;C.awaitsFocus()||C.focusGlobalNode()},f=function(){if(C.isEnabled()){var G=C.getActiveNode();if(G){var V,B,K=G.getNode();K&&K.parentNode&&(V=K.parentNode.scrollTop,B=K.parentNode.scrollLeft),G.focus(!0),K&&K.parentNode&&(K.parentNode.scrollTop=V,K.parentNode.scrollLeft=B)}}};function g(G){return!!D.closest(G.target,".gantt_grid_editor_placeholder")}function w(G){if(!x.config.keyboard_navigation||!x.config.keyboard_navigation_cells&&g(G))return!0;var V,B=C.fromDomElement(G);B&&(C.activeNode instanceof x.$keyboardNavigation.TaskCell&&D.isChildOf(G.target,x.$task)&&(B=new x.$keyboardNavigation.TaskCell(B.taskId,C.activeNode.columnIndex)),V=B),V?C.isEnabled()?C.delay(function(){C.setActiveNode(V)}):C.activeNode=V:(C.$preventDefault=!0,setTimeout(function(){C.$preventDefault=!1},300))}x.attachEvent("onDataRender",function(){x.config.keyboard_navigation&&f()}),x.attachEvent("onGanttRender",function(){x.eventRemove(x.$root,"keydown",_),x.eventRemove(x.$container,"focus",y),x.eventRemove(x.$container,"mousedown",w),x.config.keyboard_navigation?(x.event(x.$root,"keydown",_),x.event(x.$container,"focus",y),x.event(x.$container,"mousedown",w),x.$container.setAttribute("tabindex","0")):x.$container.removeAttribute("tabindex")});var b=x.attachEvent("onGanttReady",function(){if(x.detachEvent(b),x.$data.tasksStore.attachEvent("onStoreUpdated",function(V){if(x.config.keyboard_navigation&&C.isEnabled()){var B=C.getActiveNode();B&&B.taskId==V&&f()}}),x._smart_render){var G=x._smart_render._redrawTasks;x._smart_render._redrawTasks=function(V,B){if(x.config.keyboard_navigation&&C.isEnabled()){var K=C.getActiveNode();if(K&&void 0!==K.taskId){for(var U=!1,ee=0;ee<B.length;ee++)if(B[ee].id==K.taskId&&B[ee].start_date){U=!0;break}U||B.push(x.getTask(K.taskId))}}return G.apply(this,arguments)}}});x.attachEvent("onAfterTaskAdd",function(G,V){if(!x.config.keyboard_navigation)return!0;if(C.isEnabled()){var B=0,K=C.activeNode;K instanceof x.$keyboardNavigation.TaskCell&&(B=K.columnIndex),C.setActiveNode(new(x.config.keyboard_navigation_cells?x.$keyboardNavigation.TaskCell:x.$keyboardNavigation.TaskRow)(G,B))}}),x.attachEvent("onTaskIdChange",function(G,V){if(!x.config.keyboard_navigation)return!0;var B=C.activeNode;return C.isTaskFocused(G)&&(B.taskId=V),!0});var T=setInterval(function(){x.config.keyboard_navigation&&(C.isEnabled()||C.enable())},500);function P(G){var V={gantt:x.$keyboardNavigation.GanttNode,headerCell:x.$keyboardNavigation.HeaderCell,taskRow:x.$keyboardNavigation.TaskRow,taskCell:x.$keyboardNavigation.TaskCell};return V[G]||V.gantt}function E(G){for(var V=x.getGridColumns(),B=0;B<V.length;B++)if(V[B].name==G)return B;return 0}x.attachEvent("onDestroy",function(){clearInterval(T)});var F={};O(F),x.mixin(F,{addShortcut:function(G,V,B){var K=P(B);K&&K.prototype.bind(G,V)},getShortcutHandler:function(G,V){var B=x.$keyboardNavigation.shortcuts.parse(G);if(B.length)return F.getCommandHandler(B[0],V)},getCommandHandler:function(G,V){var B=P(V);if(B&&G)return B.prototype.findHandler(G)},removeShortcut:function(G,V){var B=P(V);B&&B.prototype.unbind(G)},focus:function(G){var V,B=G?G.type:null,K=P(B);switch(B){case"taskCell":V=new K(G.id,E(G.column));break;case"taskRow":V=new K(G.id);break;case"headerCell":V=new K(E(G.column))}C.delay(function(){V?C.setActiveNode(V):(C.enable(),C.getActiveNode()?C.awaitsFocus()||C.enable():C.setDefaultNode())})},getActiveNode:function(){if(C.isEnabled()){var G=C.getActiveNode(),V=(K=G)instanceof x.$keyboardNavigation.GanttNode?"gantt":K instanceof x.$keyboardNavigation.HeaderCell?"headerCell":K instanceof x.$keyboardNavigation.TaskRow?"taskRow":K instanceof x.$keyboardNavigation.TaskCell?"taskCell":null,B=x.getGridColumns();switch(V){case"taskCell":return{type:"taskCell",id:G.taskId,column:B[G.columnIndex].name};case"taskRow":return{type:"taskRow",id:G.taskId};case"headerCell":return{type:"headerCell",column:B[G.index].name}}}var K;return null}}),x.$keyboardNavigation.facade=F,x.ext.keyboardNavigation=F,x.focus=function(){F.focus()},x.addShortcut=F.addShortcut,x.getShortcutHandler=F.getShortcutHandler,x.removeShortcut=F.removeShortcut}()}(I)}},function(j,X){j.exports=function(R){R.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(I){for(var O=[],x=this.getExpressions(this.trim(I)),D=0;D<x.length;D++){for(var C=this.getWords(x[D]),_=this.createCommand(),y=0;y<C.length;y++)this.commandKeys[C[y]]?_.modifiers[C[y]]=!0:_.keyCode=this.specialKeys[C[y]]?this.specialKeys[C[y]]:C[y].charCodeAt(0);O.push(_)}return O},getCommandFromEvent:function(I){var O=this.createCommand();O.modifiers.shift=!!I.shiftKey,O.modifiers.alt=!!I.altKey,O.modifiers.ctrl=!!I.ctrlKey,O.modifiers.meta=!!I.metaKey,O.keyCode=I.which||I.keyCode,O.keyCode>=96&&O.keyCode<=105&&(O.keyCode-=48);var x=String.fromCharCode(O.keyCode);return x&&(O.keyCode=x.toLowerCase().charCodeAt(0)),O},getHashFromEvent:function(I){return this.getHash(this.getCommandFromEvent(I))},getHash:function(I){var O=[];for(var x in I.modifiers)I.modifiers[x]&&O.push(x);return O.push(I.keyCode),O.join(this.junctionChar)},getExpressions:function(I){return I.split(this.junctionChar)},getWords:function(I){return I.split(this.combinationChar)},trim:function(I){return I.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(j,X){j.exports=function(R){R.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(I){this._handlers||(this._handlers={});var O=R.$keyboardNavigation.shortcuts.getHash(I);return this._handlers[O]},doAction:function(I,O){var x=this.findHandler(I);if(x){if(!1===R.$keyboardNavigation.facade.callEvent("onBeforeAction",[I,O]))return;x.call(this,O),O.preventDefault?O.preventDefault():O.returnValue=!1}},bind:function(I,O){this._handlers||(this._handlers={});for(var x=R.$keyboardNavigation.shortcuts,D=x.parse(I),C=0;C<D.length;C++)this._handlers[x.getHash(D[C])]=O},unbind:function(I){for(var O=R.$keyboardNavigation.shortcuts,x=O.parse(I),D=0;D<x.length;D++)this._handlers[O.getHash(x[D])]&&delete this._handlers[O.getHash(x[D])]},bindAll:function(I){for(var O in I)this.bind(O,I[O])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(j,X,R){j.exports=function(I){var O;O=R(1),I.$keyboardNavigation.getFocusableNodes=O.getFocusableNodes,I.$keyboardNavigation.trapFocus=function(x,D){if(9!=D.keyCode)return!1;for(var C=I.$keyboardNavigation.getFocusableNodes(x),_=O.getActiveElement(),y=-1,f=0;f<C.length;f++)if(C[f]==_){y=f;break}if(D.shiftKey){if(y<=0){var g=C[C.length-1];if(g)return g.focus(),D.preventDefault(),!0}}else if(y>=C.length-1){var w=C[0];if(w)return w.focus(),D.preventDefault(),!0}return!1}}},function(j,X){j.exports=function(R){R.$keyboardNavigation.GanttNode=function(){},R.$keyboardNavigation.GanttNode.prototype=R._compose(R.$keyboardNavigation.EventHandler,{focus:function(){R.focus()},blur:function(){},isEnabled:function(){return R.$container.hasAttribute("tabindex")},scrollHorizontal:function(I){var O=R.dateFromPos(R.getScrollState().x),x=R.getScale();O=R.date.add(O,I<0?-x.step:x.step,x.unit),R.scrollTo(R.posFromDate(O))},scrollVertical:function(I){var O=R.getScrollState().y;R.scrollTo(null,O+(I<0?-1:1)*R.config.row_height)},keys:{"alt+left":function(I){this.scrollHorizontal(-1)},"alt+right":function(I){this.scrollHorizontal(1)},"alt+up":function(I){this.scrollVertical(-1)},"alt+down":function(I){this.scrollVertical(1)},"ctrl+z":function(){R.undo&&R.undo()},"ctrl+r":function(){R.redo&&R.redo()}}}),R.$keyboardNavigation.GanttNode.prototype.bindAll(R.$keyboardNavigation.GanttNode.prototype.keys)}},function(j,X){j.exports=function(R){R.$keyboardNavigation.KeyNavNode=function(){},R.$keyboardNavigation.KeyNavNode.prototype=R._compose(R.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(I){R.$keyboardNavigation.dispatcher.setActiveNode(I)},compareTo:function(I){if(!I)return!1;for(var O in this){if(!!this[O]!=!!I[O])return!1;var x=!(!this[O]||!this[O].toString),D=!(!I[O]||!I[O].toString);if(D!=x)return!1;if(D&&x){if(I[O].toString()!=this[O].toString())return!1}else if(I[O]!=this[O])return!1}return!0},getNode:function(){},focus:function(){var I=this.getNode();if(I){var O=R.$keyboardNavigation.facade;!1!==O.callEvent("onBeforeFocus",[I])&&I&&(I.setAttribute("tabindex","-1"),I.$eventAttached||(I.$eventAttached=!0,R.event(I,"focus",function(x){return x.preventDefault(),!1},!1)),I.focus&&I.focus(),O.callEvent("onFocus",[this.getNode()]))}},blur:function(){var I=this.getNode();I&&(R.$keyboardNavigation.facade.callEvent("onBlur",[I]),I.setAttribute("tabindex","-1"))}})}},function(j,X,R){j.exports=function(I){var O=R(1);I.$keyboardNavigation.HeaderCell=function(x){this.index=x||0},I.$keyboardNavigation.HeaderCell.prototype=I._compose(I.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!I.config.show_grid&&I.getVisibleTaskCount()||!I.getGridColumns()[this.index]&&I.getVisibleTaskCount())},fallback:function(){if(!I.config.show_grid)return I.getVisibleTaskCount()?new I.$keyboardNavigation.TaskRow:null;for(var x=I.getGridColumns(),D=this.index;D>=0&&!x[D];)D--;return x[D]?new I.$keyboardNavigation.HeaderCell(D):null},fromDomElement:function(x){var D=O.locateClassName(x,"gantt_grid_head_cell");if(D){for(var C=0;D&&D.previousSibling;)D=D.previousSibling,C+=1;return new I.$keyboardNavigation.HeaderCell(C)}return null},getNode:function(){return I.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new I.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var x=I.getGridColumns();this.index<x.length-1&&this.moveTo(new I.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var x,D=I.getChildren(I.config.root_id);I.isTaskExists(D[0])&&(x=D[0]),x&&this.moveTo(I.config.keyboard_navigation_cells?new I.$keyboardNavigation.TaskCell(x,this.index):new I.$keyboardNavigation.TaskRow(x))},end:function(){var x=I.getGridColumns();this.moveTo(new I.$keyboardNavigation.HeaderCell(x.length-1))},home:function(){this.moveTo(new I.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){O.getActiveElement().click()},"ctrl+enter":function(){I.isReadonly(this)||I.createTask({},this.taskId)}}}),I.$keyboardNavigation.HeaderCell.prototype.bindAll(I.$keyboardNavigation.HeaderCell.prototype.keys)}},function(j,X){j.exports=function(R){R.$keyboardNavigation.TaskRow=function(I){if(!I){var O=R.getChildren(R.config.root_id);O[0]&&(I=O[0])}this.taskId=I,R.isTaskExists(this.taskId)&&(this.index=R.getTaskIndex(this.taskId))},R.$keyboardNavigation.TaskRow.prototype=R._compose(R.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return R.isTaskExists(this.taskId)&&R.getTaskIndex(this.taskId)>-1},fallback:function(){if(!R.getVisibleTaskCount()){var I=new R.$keyboardNavigation.HeaderCell;return I.isValid()?I:null}var O=-1;if(R.getTaskByIndex(this.index-1))O=this.index-1;else if(R.getTaskByIndex(this.index+1))O=this.index+1;else for(var x=this.index;x>=0;){if(R.getTaskByIndex(x)){O=x;break}x--}if(O>-1)return new R.$keyboardNavigation.TaskRow(R.getTaskByIndex(O).id)},fromDomElement:function(I){if(R.config.keyboard_navigation_cells)return null;var O=R.locate(I);return R.isTaskExists(O)?new R.$keyboardNavigation.TaskRow(O):null},getNode:function(){if(R.isTaskExists(this.taskId)&&R.isTaskVisible(this.taskId))return R.config.show_grid?R.$grid.querySelector(".gantt_row["+R.config.task_attribute+"='"+this.taskId+"']"):R.getTaskNode(this.taskId)},focus:function(I){if(!I){var O,D=R.getTaskPosition(R.getTask(this.taskId)),C=R.getTaskHeight(this.taskId),_=R.getScrollState();O=R.$task?R.$task.offsetWidth:_.inner_width,D.top<_.y||D.top+C>_.y+(R.$grid_data||R.$task_data?(R.$grid_data||R.$task_data).offsetHeight:_.inner_height)?R.scrollTo(null,D.top-5*C):R.config.scroll_on_click&&R.config.show_chart&&(D.left>_.x+O?R.scrollTo(D.left-R.config.task_scroll_offset):D.left+D.width<_.x&&R.scrollTo(D.left+D.width-R.config.task_scroll_offset))}R.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[I]),function(){var y=R.$ui.getView("grid"),f=parseInt(y.$grid.scrollLeft),g=parseInt(y.$grid_data.scrollTop),w=y.$config.scrollX;if(w&&y.$config.scrollable){var b=R.$ui.getView(w);b&&b.scrollTo(f,g)}var T=y.$config.scrollY;if(T){var P=R.$ui.getView(T);P&&P.scrollTo(f,g)}}()},keys:{pagedown:function(){R.getVisibleTaskCount()&&this.moveTo(new R.$keyboardNavigation.TaskRow(R.getTaskByIndex(R.getVisibleTaskCount()-1).id))},pageup:function(){R.getVisibleTaskCount()&&this.moveTo(new R.$keyboardNavigation.TaskRow(R.getTaskByIndex(0).id))},up:function(){var I,O=R.getPrev(this.taskId);I=R.isTaskExists(O)?new R.$keyboardNavigation.TaskRow(O):new R.$keyboardNavigation.HeaderCell,this.moveTo(I)},down:function(){var I=R.getNext(this.taskId);R.isTaskExists(I)&&this.moveTo(new R.$keyboardNavigation.TaskRow(I))},"shift+down":function(){R.hasChild(this.taskId)&&!R.getTask(this.taskId).$open&&R.open(this.taskId)},"shift+up":function(){R.hasChild(this.taskId)&&R.getTask(this.taskId).$open&&R.close(this.taskId)},"shift+right":function(){if(!R.isReadonly(this)){var I=R.getPrevSibling(this.taskId);R.isTaskExists(I)&&!R.isChildOf(this.taskId,I)&&(R.getTask(I).$open=!0,!1!==R.moveTask(this.taskId,-1,I)&&R.updateTask(this.taskId))}},"shift+left":function(){if(!R.isReadonly(this)){var I=R.getParent(this.taskId);R.isTaskExists(I)&&!1!==R.moveTask(this.taskId,R.getTaskIndex(I)+1,R.getParent(I))&&R.updateTask(this.taskId)}},space:function(I){R.isSelectedTask(this.taskId)?R.unselectTask(this.taskId):R.selectTask(this.taskId)},"ctrl+left":function(I){R.close(this.taskId)},"ctrl+right":function(I){R.open(this.taskId)},delete:function(I){R.isReadonly(this)||R.$click.buttons.delete(this.taskId)},enter:function(){R.isReadonly(this)||R.showLightbox(this.taskId)},"ctrl+enter":function(){R.isReadonly(this)||R.createTask({},this.taskId)}}}),R.$keyboardNavigation.TaskRow.prototype.bindAll(R.$keyboardNavigation.TaskRow.prototype.keys)}},function(j,X,R){j.exports=function(I){var O=R(1),x=R(2).replaceValidZeroId;I.$keyboardNavigation.TaskCell=function(D,C){if(!(D=x(D,I.config.root_id))){var _=I.getChildren(I.config.root_id);_[0]&&(D=_[0])}this.taskId=D,this.columnIndex=C||0,I.isTaskExists(this.taskId)&&(this.index=I.getTaskIndex(this.taskId))},I.$keyboardNavigation.TaskCell.prototype=I._compose(I.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return I.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!I.getGridColumns()[this.columnIndex]},fallback:function(){var D=I.$keyboardNavigation.TaskRow.prototype.fallback.call(this),C=D;if(D instanceof I.$keyboardNavigation.TaskRow){for(var _=I.getGridColumns(),y=this.columnIndex;y>=0&&!_[y];)y--;_[y]&&(C=new I.$keyboardNavigation.TaskCell(D.taskId,y))}return C},fromDomElement:function(D){if(!I.config.keyboard_navigation_cells)return null;var C=I.locate(D);if(I.isTaskExists(C)){var _=0,y=O.locateAttribute(D,"data-column-index");return y&&(_=1*y.getAttribute("data-column-index")),new I.$keyboardNavigation.TaskCell(C,_)}return null},getNode:function(){if(I.isTaskExists(this.taskId)&&I.isTaskVisible(this.taskId)){if(I.config.show_grid){var D=I.$grid.querySelector(".gantt_row["+I.config.task_attribute+"='"+this.taskId+"']");return D?D.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return I.getTaskNode(this.taskId)}},keys:{up:function(){var D,C=I.getPrev(this.taskId);D=I.isTaskExists(C)?new I.$keyboardNavigation.TaskCell(C,this.columnIndex):new I.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(D)},down:function(){var D=I.getNext(this.taskId);I.isTaskExists(D)&&this.moveTo(new I.$keyboardNavigation.TaskCell(D,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new I.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var D=I.getGridColumns();this.columnIndex<D.length-1&&this.moveTo(new I.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var D=I.getGridColumns();this.moveTo(new I.$keyboardNavigation.TaskCell(this.taskId,D.length-1))},home:function(){this.moveTo(new I.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){I.getVisibleTaskCount()&&this.moveTo(new I.$keyboardNavigation.TaskCell(I.getTaskByIndex(I.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){I.getVisibleTaskCount()&&this.moveTo(new I.$keyboardNavigation.TaskCell(I.getTaskByIndex(0).id,this.columnIndex))}}}),I.$keyboardNavigation.TaskCell.prototype.bindAll(I.$keyboardNavigation.TaskRow.prototype.keys),I.$keyboardNavigation.TaskCell.prototype.bindAll(I.$keyboardNavigation.TaskCell.prototype.keys)}},function(j,X){j.exports=function(R){!function(){var I=[];function O(){return!!I.length}function x(g){setTimeout(function(){O()||R.$destroyed||R.focus()},1)}function D(g){R.eventRemove(g,"keydown",_),R.event(g,"keydown",_),I.push(g)}function C(){var g=I.pop();g&&R.eventRemove(g,"keydown",_),x()}function _(g){var w=g.currentTarget;w==I[I.length-1]&&R.$keyboardNavigation.trapFocus(w,g)}function y(){D(R.getLightbox())}R.attachEvent("onLightbox",y),R.attachEvent("onAfterLightbox",C),R.attachEvent("onLightboxChange",function(){C(),y()}),R.attachEvent("onAfterQuickInfo",function(){x()}),R.attachEvent("onMessagePopup",function(g){f=R.utils.dom.getActiveElement(),D(g)}),R.attachEvent("onAfterMessagePopup",function(){C(),setTimeout(function(){f&&(f.focus(),f=null)},1)});var f=null;R.$keyboardNavigation.isModal=O}()}},function(j,X){j.exports=function(R){R.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new R.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var I;return(I=R.config.keyboard_navigation_cells?new R.$keyboardNavigation.TaskCell:new R.$keyboardNavigation.TaskRow).isValid()||(I=I.fallback()),I},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var I=this.activeNode;return I&&!I.isValid()&&(I=I.fallback()),I},fromDomElement:function(I){for(var O=[R.$keyboardNavigation.TaskRow,R.$keyboardNavigation.TaskCell,R.$keyboardNavigation.HeaderCell],x=0;x<O.length;x++)if(O[x].prototype.fromDomElement){var D=O[x].prototype.fromDomElement(I);if(D)return D}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(I){var O=!0;this.activeNode&&this.activeNode.compareTo(I)&&(O=!1),this.isEnabled()&&(O&&this.blurNode(this.activeNode),this.activeNode=I,this.focusNode(this.activeNode,!O))},focusNode:function(I,O){I&&I.focus&&I.focus(O)},blurNode:function(I){I&&I.blur&&I.blur()},keyDownHandler:function(I){if(!R.$keyboardNavigation.isModal()&&this.isEnabled()&&!I.defaultPrevented){var O=this.globalNode,x=R.$keyboardNavigation.shortcuts.getCommandFromEvent(I),D=this.getActiveNode();!1!==R.$keyboardNavigation.facade.callEvent("onKeyDown",[x,I])&&(D?D.findHandler(x)?D.doAction(x,I):O.findHandler(x)&&O.doAction(x,I):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return null!==this._timeout},delay:function(I,O){clearTimeout(this._timeout),this._timeout=setTimeout(R.bind(function(){this._timeout=null,I()},this),O||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(j,X){j.exports=function(R){function I(x){if(!R.config.show_markers||!x.start_date)return!1;var D=R.getState();if(!(+x.start_date>+D.max_date||(!x.end_date||+x.end_date<+D.min_date)&&+x.start_date<+D.min_date)){var C=document.createElement("div");C.setAttribute("data-marker-id",x.id);var _="gantt_marker";R.templates.marker_class&&(_+=" "+R.templates.marker_class(x)),x.css&&(_+=" "+x.css),x.title&&(C.title=x.title),C.className=_;var y=R.posFromDate(x.start_date);if(C.style.left=y+"px",C.style.height=Math.max(R.getRowTop(R.getVisibleTaskCount()),0)+"px",x.end_date){var f=R.posFromDate(x.end_date);C.style.width=Math.max(f-y,0)+"px"}return x.text&&(C.innerHTML="<div class='gantt_marker_content' >"+x.text+"</div>"),C}}function O(){if(R.$task_data){var x=document.createElement("div");x.className="gantt_marker_area",R.$task_data.appendChild(x),R.$marker_area=x}}R._markers||(R._markers=R.createDatastore({name:"marker",initItem:function(x){return x.id=x.id||R.uid(),x}})),R.config.show_markers=!0,R.attachEvent("onBeforeGanttRender",function(){R.$marker_area||O()}),R.attachEvent("onDataRender",function(){R.$marker_area||(O(),R.renderMarkers())}),R.attachEvent("onGanttLayoutReady",function(){R.attachEvent("onBeforeGanttRender",function(){O(),R.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return R.$marker_area}}).addLayer(I)},{once:!0})}),R.getMarker=function(x){return this._markers?this._markers.getItem(x):null},R.addMarker=function(x){return this._markers.addItem(x)},R.deleteMarker=function(x){return!!this._markers.exists(x)&&(this._markers.removeItem(x),!0)},R.updateMarker=function(x){this._markers.refresh(x)},R._getMarkers=function(){return this._markers.getItems()},R.renderMarkers=function(){this._markers.refresh()}}},function(j,X,R){var I=R(2).replaceValidZeroId;j.exports=function(O){O.config.multiselect=!0,O.config.multiselect_one_level=!1,O._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var x=this.getSelected();return x.length?x[x.length-1]:null},setFirstSelected:function(x){this._first_selected_when_shift=x},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=O.config.multiselect_one_level;var x=this._active;this._active=O.config.select_task,this._active!=x&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(x){O.$data.tasksStore.silent(function(){var D=O.$data.tasksStore;x?D.select(x+""):D.unselect(null)})},getLastSelected:function(){var x=O.$data.tasksStore.getSelectedId();return x&&O.isTaskExists(x)?x:null},select:function(x,D){return!!(x&&O.callEvent("onBeforeTaskMultiSelect",[x,!0,D])&&O.callEvent("onBeforeTaskSelected",[x]))&&(this._selected[x]=!0,this.setLastSelected(x),this.afterSelect(x),O.callEvent("onTaskMultiSelect",[x,!0,D]),O.callEvent("onTaskSelected",[x]),!0)},toggle:function(x,D){this._selected[x]?this.unselect(x,D):this.select(x,D)},unselect:function(x,D){x&&O.callEvent("onBeforeTaskMultiSelect",[x,!1,D])&&(this._selected[x]=!1,this.getLastSelected()==x&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(x),O.callEvent("onTaskMultiSelect",[x,!1,D]),O.callEvent("onTaskUnselected",[x]))},isSelected:function(x){return!(!O.isTaskExists(x)||!this._selected[x])},getSelected:function(){var x=[];for(var D in this._selected)this._selected[D]&&O.isTaskExists(D)?x.push(D):this._selected[D]=!1;return x.sort(function(C,_){return O.getGlobalTaskIndex(C)>O.getGlobalTaskIndex(_)?1:-1}),x},forSelected:function(x){for(var D=this.getSelected(),C=0;C<D.length;C++)x(D[C])},isSameLevel:function(x){if(!this._one_level)return!0;var D=this.getLastSelected();return!D||!O.isTaskExists(D)||!O.isTaskExists(x)||O.calculateTaskLevel(O.getTask(D))==O.calculateTaskLevel(O.getTask(x))},afterSelect:function(x){O.isTaskExists(x)&&O._quickRefresh(function(){O.refreshTask(x)})},doSelection:function(x){if(!this.isActive()||O._is_icon_open_click(x))return!1;var D=O.locate(x);if(!D||!O.callEvent("onBeforeMultiSelect",[x]))return!1;var C=this.getSelected(),_=this.getFirstSelected(),y=!1,f=this.getLastSelected(),g=O.config.multiselect,w=function(){this.setFirstSelected(D),this.isSelected(D)||this.select(D,x),C=this.getSelected();for(var T=0;T<C.length;T++)C[T]!==D&&this.unselect(C[T],x)}.bind(this),b=function(){if(f){if(D){for(var T=O.getGlobalTaskIndex(this.getFirstSelected()),P=O.getGlobalTaskIndex(D),E=O.getGlobalTaskIndex(f),F=f;O.getGlobalTaskIndex(F)!==T;)this.unselect(F,x),F=T>E?O.getNext(F):O.getPrev(F);for(F=D;O.getGlobalTaskIndex(F)!==T;)this.select(F,x)&&!y&&(y=!0,_=F),F=T>P?O.getNext(F):O.getPrev(F)}}else f=D}.bind(this);return g&&(x.ctrlKey||x.metaKey)?(this.isSelected(D)||this.setFirstSelected(D),D&&this.toggle(D,x)):g&&x.shiftKey?(O.isTaskExists(this.getFirstSelected())&&null!==this.getFirstSelected()||this.setFirstSelected(D),C.length?b():w()):w(),this.isSelected(D)?this.setLastSelected(D):_?D==f&&this.setLastSelected(x.shiftKey?_:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var x=O.selectTask;O.selectTask=function(C){if(!(C=I(C,this.config.root_id)))return!1;var _=O._multiselect,y=C;return _.isActive()?(_.select(C,null)&&_.setLastSelected(C),_.setFirstSelected(_.getLastSelected())):y=x.call(this,C),y};var D=O.unselectTask;O.unselectTask=function(C){var _=O._multiselect,y=_.isActive();(C=C||_.getLastSelected())&&y&&(_.unselect(C,null),C==_.getLastSelected()&&_.setLastSelected(null),O.refreshTask(C),_.setFirstSelected(_.getLastSelected()));var f=C;return y||(f=D.call(this,C)),f},O.toggleTaskSelection=function(C){var _=O._multiselect;C&&_.isActive()&&(_.toggle(C),_.setFirstSelected(_.getLastSelected()))},O.getSelectedTasks=function(){var C=O._multiselect;return C.isActive(),C.getSelected()},O.eachSelectedTask=function(C){return this._multiselect.forSelected(C)},O.isSelectedTask=function(C){return this._multiselect.isSelected(C)},O.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},O.attachEvent("onGanttReady",function(){var C=O.$data.tasksStore.isSelected;O.$data.tasksStore.isSelected=function(_){return O._multiselect.isActive()?O._multiselect.isSelected(_):C.call(this,_)}})}(),O.attachEvent("onTaskIdChange",function(x,D){var C=O._multiselect;if(!C.isActive())return!0;O.isSelectedTask(x)&&(C.unselect(x,null),C.select(D,null))}),O.attachEvent("onAfterTaskDelete",function(x,D){var C=O._multiselect;if(!C.isActive())return!0;C._selected[x]&&(C.unselect(x,null),C._selected[x]=!1,C.setLastSelected(C.getDefaultSelected())),C.forSelected(function(_){O.isTaskExists(_)||C.unselect(_,null)})}),O.attachEvent("onBeforeTaskMultiSelect",function(x,D,C){var _=O._multiselect;return!(D&&_.isActive()&&_._one_level)||_.isSameLevel(x)}),O.attachEvent("onTaskClick",function(x,D){return O._multiselect.doSelection(D)&&O.callEvent("onMultiSelect",[D]),!0})}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(85);X.default=function(O){O.ext||(O.ext={}),O.ext.quickInfo=new I.QuickInfo(O),O.config.quickinfo_buttons=["icon_delete","icon_edit"],O.config.quick_info_detached=!0,O.config.show_quick_info=!0,O.templates.quick_info_title=function(y,f,g){return g.text.substr(0,50)},O.templates.quick_info_content=function(y,f,g){return g.details||g.text},O.templates.quick_info_date=function(y,f,g){return O.templates.task_time(y,f,g)},O.templates.quick_info_class=function(y,f,g){return""},O.attachEvent("onTaskClick",function(y,f){return O.utils.dom.closest(f.target,".gantt_add")||setTimeout(function(){O.ext.quickInfo.show(y)},0),!0});for(var x=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],D=function(){return O.ext.quickInfo.hide(),!0},C=0;C<x.length;C++)O.attachEvent(x[C],D);function _(){return O.ext.quickInfo.hide(),O.ext.quickInfo._quickInfoBox=null,!0}O.attachEvent("onEmptyClick",function(y){var f=!0,g=document.querySelector(".gantt_cal_quick_info");g&&O.utils.dom.isChildOf(y.target,g)&&(f=!1),f&&D()}),O.attachEvent("onGanttReady",_),O.attachEvent("onDestroy",_),O.event(window,"keydown",function(y){27===y.keyCode&&O.ext.quickInfo.hide()})}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.QuickInfo=void 0;var I=function(){function O(x){var D=this;this.show=function(C,_){void 0===_?D._showForTask(C):D._showAtCoordinates(C,_)},this.hide=function(C){var _=D._gantt,y=D._quickInfoBox;D._quickInfoBoxId=0;var f=D._quickInfoTask;if(D._quickInfoTask=null,y&&y.parentNode){if(_.config.quick_info_detached)return _.callEvent("onAfterQuickInfo",[f]),y.parentNode.removeChild(y);y.className+=" gantt_qi_hidden","auto"===y.style.right?y.style.left="-350px":y.style.right="-350px",C&&(y.style.left=y.style.right="",y.parentNode.removeChild(y)),_.callEvent("onAfterQuickInfo",[f])}},this.getNode=function(){return D._quickInfoBox?D._quickInfoBox:null},this.setContainer=function(C){C&&(D._container="string"==typeof C?document.getElementById(C):C)},this.setContent=function(C){var _=D._gantt,y={taskId:null,header:{title:"",date:""},content:"",buttons:_.config.quickinfo_buttons};C||(C=y),C.taskId||(C.taskId=y.taskId),C.header||(C.header=y.header),C.header.title||(C.header.title=y.header.title),C.header.date||(C.header.date=y.header.date),C.content||(C.content=y.content),C.buttons||(C.buttons=y.buttons);var f=D.getNode();f||(f=D._createQuickInfoElement()),C.taskId&&(D._quickInfoBoxId=C.taskId);var g=f.querySelector(".gantt_cal_qi_title"),w=g.querySelector(".gantt_cal_qi_tcontent"),b=g.querySelector(".gantt_cal_qi_tdate"),T=f.querySelector(".gantt_cal_qi_content"),P=f.querySelector(".gantt_cal_qi_controls");_._waiAria.quickInfoHeader(f,[C.header.title,C.header.date].join(" ")),w.innerHTML=C.header.title,b.innerHTML=C.header.date,g.style.display=C.header.title||C.header.date?"":"none",T.innerHTML=C.content;var E=C.buttons;P.style.display=E.length?"":"none";for(var F="",G=0;G<E.length;G++){var V=_._waiAria.quickInfoButtonAttrString(_.locale.labels[E[G]]);F+='<div class="gantt_qi_big_icon '+E[G]+'" title="'+_.locale.labels[E[G]]+'" '+V+"><div class='gantt_menu_icon "+E[G]+"'></div><div>"+_.locale.labels[E[G]]+"</div></div>"}P.innerHTML=F,_.eventRemove(f,"click",D._qiButtonClickHandler),_.eventRemove(f,"keypress",D._qiKeyPressHandler),_.event(f,"click",D._qiButtonClickHandler),_.event(f,"keypress",D._qiKeyPressHandler)},this._qiButtonClickHandler=function(C){C=C||event,D._qi_button_click(C.target||C.srcElement)},this._qiKeyPressHandler=function(C){var _=(C=C||event).which||event.keyCode;13!==_&&32!==_||setTimeout(function(){D._qi_button_click(C.target||C.srcElement)},1)},this._gantt=x}return O.prototype._showAtCoordinates=function(x,D){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(x,D),this._gantt.callEvent("onQuickInfo",[null])},O.prototype._showForTask=function(x){var D=this._gantt;if((x!==this._quickInfoBoxId||!D.utils.dom.isChildOf(this._quickInfoBox,document.body))&&D.config.show_quick_info){this.hide(!0);var C=this._getContainer(),_=this._get_event_counter_part(x,6,C.xViewport,C.yViewport);_&&(this._quickInfoBox=this._init_quick_info(x),this._quickInfoTask=x,this._quickInfoBox.className=this._prepare_quick_info_classname(x),this._fill_quick_data(x),this._show_quick_info(_,6),D.callEvent("onQuickInfo",[x]))}},O.prototype._get_event_counter_part=function(x,D,C,_){var y=this._gantt,f=y.getTaskNode(x);if(!f&&!(f=y.getTaskRowNode(x)))return null;var g=0,w=D+f.offsetTop+f.offsetHeight,b=f;if(y.utils.dom.isChildOf(b,C))for(;b&&b!==C;)g+=b.offsetLeft,b=b.offsetParent;var T=y.getScrollState();return b?{left:g,top:w,dx:g+f.offsetWidth/2-T.x>C.offsetWidth/2?1:0,dy:w+f.offsetHeight/2-T.y>_.offsetHeight/2?1:0,width:f.offsetWidth,height:f.offsetHeight}:null},O.prototype._createQuickInfoElement=function(){var x=this,D=this._gantt,C=document.createElement("div");C.className+="gantt_cal_quick_info",D._waiAria.quickInfoAttr(C);var _='<div class="gantt_cal_qi_title" '+D._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(_+='<div class="gantt_cal_qi_controls">',C.innerHTML=_+="</div>",D.config.quick_info_detached){var y=this._getContainer();D.event(y.parent,"scroll",function(){x.hide()})}return this._quickInfoBox=C,C},O.prototype._init_quick_info=function(x){var D=this._gantt,C=D.getTask(x);return"boolean"==typeof this._quickInfoReadonly&&D.isReadonly(C)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=D.isReadonly(C),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},O.prototype._prepare_quick_info_classname=function(x){var D=this._gantt,C=D.getTask(x),_="gantt_cal_quick_info",y=D.templates.quick_info_class(C.start_date,C.end_date,C);return y&&(_+=" "+y),_},O.prototype._fill_quick_data=function(x){var D=this._gantt,C=D.getTask(x);this._quickInfoBoxId=x;var _=[];if(this._quickInfoReadonly)for(var y=D.config.quickinfo_buttons,f={icon_delete:!0,icon_edit:!0},g=0;g<y.length;g++)this._quickInfoReadonly&&f[y[g]]||_.push(y[g]);else _=D.config.quickinfo_buttons;this.setContent({header:{title:D.templates.quick_info_title(C.start_date,C.end_date,C),date:D.templates.quick_info_date(C.start_date,C.end_date,C)},content:D.templates.quick_info_content(C.start_date,C.end_date,C),buttons:_})},O.prototype._appendAtCoordinates=function(x,D){var C=this._quickInfoBox,_=this._getContainer();C.parentNode&&"#document-fragment"!==C.parentNode.nodeName.toLowerCase()||_.parent.appendChild(C),C.style.left=x+"px",C.style.top=D+"px"},O.prototype._show_quick_info=function(x,D){var C=this._gantt,_=this._quickInfoBox;if(C.config.quick_info_detached){var y=this._getContainer();_.parentNode&&"#document-fragment"!==_.parentNode.nodeName.toLowerCase()||y.parent.appendChild(_);var f=_.offsetWidth,g=_.offsetHeight,w=C.getScrollState(),T=y.yViewport,P=y.xViewport.offsetWidth+w.x-f,E=x.top-w.y+g,F=x.top;E>T.offsetHeight/2&&(F=x.top-(g+x.height+2*D))<w.y&&E<=T.offsetHeight&&(F=x.top),F<w.y&&(F=w.y);var G=Math.min(Math.max(w.x,x.left-x.dx*(f-x.width)),P);this._appendAtCoordinates(G,F)}else _.style.top="20px",1===x.dx?(_.style.right="auto",_.style.left="-300px",setTimeout(function(){_.style.left="10px"},1)):(_.style.left="auto",_.style.right="-300px",setTimeout(function(){_.style.right="10px"},1)),_.className+=" gantt_qi_"+(1===x.dx?"left":"right"),C.$root.appendChild(_)},O.prototype._qi_button_click=function(x){var D=this._gantt;if(x&&x!==this._quickInfoBox){var _=x.className;if(-1!==_.indexOf("_icon")){var y=this._quickInfoBoxId;D.$click.buttons[_.split(" ")[1].replace("icon_","")](y)}else this._qi_button_click(x.parentNode)}},O.prototype._getContainer=function(){var x=this._gantt,D=this._container?this._container:x.$task_data;return D&&D.offsetHeight&&D.offsetWidth?{parent:D,xViewport:x.$task,yViewport:x.$task_data}:(D=this._container?this._container:x.$grid_data)&&D.offsetHeight&&D.offsetWidth?{parent:D,xViewport:x.$grid,yViewport:x.$grid_data}:{parent:this._container?this._container:x.$layout,xViewport:x.$layout,yViewport:x.$layout}},O}();X.QuickInfo=I},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(87);X.default=function(O){O.config.tooltip_timeout=30,O.config.tooltip_offset_y=20,O.config.tooltip_offset_x=10,O.config.tooltip_hide_timeout=30;var x=new I.TooltipManager(O);O.ext.tooltips=x,O.attachEvent("onGanttReady",function(){x.tooltipFor({selector:"["+O.config.task_attribute+"]:not(.gantt_task_row)",html:function(D){if(!O.config.touch||O.config.touch_tooltip){var C=O.locate(D);if(O.isTaskExists(C)){var _=O.getTask(C);return O.templates.tooltip_text(_.start_date,_.end_date,_)}return null}},global:!1})}),O.attachEvent("onDestroy",function(){x.destructor()}),O.attachEvent("onLightbox",function(){x.hideTooltip()}),O.attachEvent("onBeforeTooltip",function(){if(O.getState().link_source_id)return!1}),O.attachEvent("onGanttScroll",function(){x.hideTooltip()})}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.TooltipManager=void 0;var I=R(29),O=R(1),x=R(2),D=R(88),C=function(){function _(y){this._listeners={},this.tooltip=new D.Tooltip(y),this._gantt=y,this._domEvents=I(),this._initDelayedFunctions()}return _.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},_.prototype.hideTooltip=function(){this.delayHide()},_.prototype.attach=function(y){var f=this,g=document.body;y.global||(g=this._gantt.$root);var b=null,T=function(P){var E=O.getTargetNode(P),F=O.closest(E,y.selector);if(!O.isChildOf(E,f.tooltip.getNode())){var G=function(){b=F,y.onmouseenter(P,F)};b?F&&F===b?y.onmousemove(P,F):(y.onmouseleave(P,b),b=null,F&&F!==b&&G()):F&&G()}};this.detach(y.selector),this._domEvents.attach(g,"mousemove",T),this._listeners[y.selector]={node:g,handler:T}},_.prototype.detach=function(y){var f=this._listeners[y];f&&this._domEvents.detach(f.node,"mousemove",f.handler)},_.prototype.tooltipFor=function(y){var f=this,g=function(w){var b=w;return document.createEventObject&&!document.createEvent&&(b=document.createEventObject(w)),b};this._initDelayedFunctions(),this.attach({selector:y.selector,global:y.global,onmouseenter:function(w,b){var T=y.html(w,b);T&&f.delayShow(g(w),T)},onmousemove:function(w,b){var T=y.html(w,b);T?f.delayShow(g(w),T):(f.delayShow.$cancelTimeout(),f.delayHide())},onmouseleave:function(){f.delayShow.$cancelTimeout(),f.delayHide()}})},_.prototype._initDelayedFunctions=function(){var y=this,f=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=x.delay(function(g,w){!1===f.callEvent("onBeforeTooltip",[g])?y.tooltip.hide():(y.tooltip.setContent(w),y.tooltip.show(g))},f.config.tooltip_timeout||1),this.delayHide=x.delay(function(){y.delayShow.$cancelTimeout(),y.tooltip.hide()},f.config.tooltip_hide_timeout||1)},_}();X.TooltipManager=C},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.Tooltip=void 0;var I=R(1),O=function(){function x(D){this._gantt=D}return x.prototype.getNode=function(){var D=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",D._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},x.prototype.setViewport=function(D){return this._root=D,this},x.prototype.show=function(D,C){var _=this._gantt,y=document.body,f=this.getNode();if(I.isChildOf(f,y)||(this.hide(),y.appendChild(f)),this._isLikeMouseEvent(D)){var g=this._calculateTooltipPosition(D);C=g.top,D=g.left}return f.style.top=C+"px",f.style.left=D+"px",_._waiAria.tooltipVisibleAttr(f),this},x.prototype.hide=function(){var D=this._gantt,C=this.getNode();return C&&C.parentNode&&C.parentNode.removeChild(C),D._waiAria.tooltipHiddenAttr(C),this},x.prototype.setContent=function(D){return this.getNode().innerHTML=D,this},x.prototype._isLikeMouseEvent=function(D){return!(!D||"object"!=typeof D)&&"clientX"in D&&"clientY"in D},x.prototype._getViewPort=function(){return this._root||document.body},x.prototype._calculateTooltipPosition=function(D){var C=this._gantt,_=this._getViewPortSize(),y=this.getNode(),f={top:0,left:0,width:y.offsetWidth,height:y.offsetHeight,bottom:0,right:0},g=C.config.tooltip_offset_x,w=C.config.tooltip_offset_y,b=document.body,T=I.getRelativeEventPosition(D,b),P=I.getNodePosition(b);T.y+=P.y,f.top=T.y,f.left=T.x,f.top+=w,f.left+=g,f.bottom=f.top+f.height,f.right=f.left+f.width;var E=window.scrollY+b.scrollTop;return f.top<_.top-E?(f.top=_.top,f.bottom=f.top+f.height):f.bottom>_.bottom&&(f.bottom=_.bottom,f.top=f.bottom-f.height),f.left<_.left?(f.left=_.left,f.right=_.left+f.width):f.right>_.right&&(f.right=_.right,f.left=f.right-f.width),T.x>=f.left&&T.x<=f.right&&(f.left=T.x-f.width-g,f.right=f.left+f.width),T.y>=f.top&&T.y<=f.bottom&&(f.top=T.y-f.height-w,f.bottom=f.top+f.height),f},x.prototype._getViewPortSize=function(){var D,C=this._gantt,_=this._getViewPort(),y=_,f=window.scrollY+document.body.scrollTop,g=window.scrollX+document.body.scrollLeft;return _===C.$task_data?(y=C.$task,f=0,g=0,D=I.getNodePosition(C.$task)):D=I.getNodePosition(y),{left:D.x+g,top:D.y+f,width:D.width,height:D.height,bottom:D.y+D.height+f,right:D.x+D.width+g}},x}();X.Tooltip=O},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(90),O=R(91);X.default=function(x){var D=new O.Undo(x),C=new I.Monitor(D,x);function _(T,P,E){T&&(T.id===P&&(T.id=E),T.parent===P&&(T.parent=E))}function y(T,P,E){_(T.value,P,E),_(T.oldValue,P,E)}function f(T,P,E){T&&(T.source===P&&(T.source=E),T.target===P&&(T.target=E))}function g(T,P,E){f(T.value,P,E),f(T.oldValue,P,E)}function w(T,P,E){for(var F=D,G=0;G<T.length;G++)for(var V=T[G],B=0;B<V.commands.length;B++)V.commands[B].entity===F.command.entity.task?y(V.commands[B],P,E):V.commands[B].entity===F.command.entity.link&&g(V.commands[B],P,E)}function b(T,P,E){for(var F=D,G=0;G<T.length;G++)for(var V=T[G],B=0;B<V.commands.length;B++){var K=V.commands[B];K.entity===F.command.entity.link&&(K.value&&K.value.id===P&&(K.value.id=E),K.oldValue&&K.oldValue.id===P&&(K.oldValue.id=E))}}x.config.undo=!0,x.config.redo=!0,x.config.undo_types={link:"link",task:"task"},x.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},x.ext||(x.ext={}),x.ext.undo={undo:function(){return D.undo()},redo:function(){return D.redo()},getUndoStack:function(){return D.getUndoStack()},getRedoStack:function(){return D.getRedoStack()},clearUndoStack:function(){return D.clearUndoStack()},clearRedoStack:function(){return D.clearRedoStack()},saveState:function(T,P){return C.store(T,P,!0)}},x.undo=x.ext.undo.undo,x.redo=x.ext.undo.redo,x.getUndoStack=x.ext.undo.getUndoStack,x.getRedoStack=x.ext.undo.getRedoStack,x.clearUndoStack=x.ext.undo.clearUndoStack,x.clearRedoStack=x.ext.undo.clearRedoStack,x.attachEvent("onTaskIdChange",function(T,P){var E=D;w(E.getUndoStack(),T,P),w(E.getRedoStack(),T,P)}),x.attachEvent("onLinkIdChange",function(T,P){var E=D;b(E.getUndoStack(),T,P),b(E.getRedoStack(),T,P)}),x.attachEvent("onGanttReady",function(){D.updateConfigs()})}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.Monitor=void 0;var I={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},O=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],x=function(){function D(C,_){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=C,this._gantt=_,this._attachEvents()}return D.prototype.store=function(C,_,y){return void 0===y&&(y=!1),_===this._gantt.config.undo_types.task?this._storeTask(C,y):_===this._gantt.config.undo_types.link&&this._storeLink(C,y)},D.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},D.prototype.toggleIgnoreMoveEvents=function(C){this._ignoreMoveEvents=C||!1},D.prototype.startIgnore=function(){this._ignore=!0},D.prototype.stopIgnore=function(){this._ignore=!1},D.prototype.startBatchAction=function(){var C=this;this._timeout||(this._timeout=setTimeout(function(){C.stopBatchAction(),C._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},D.prototype.stopBatchAction=function(){this._ignore||(this._batchAction&&this._undo.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null)},D.prototype.onTaskAdded=function(C){this._ignore||this._storeTaskCommand(C,this._undo.command.type.add)},D.prototype.onTaskUpdated=function(C){this._ignore||this._storeTaskCommand(C,this._undo.command.type.update)},D.prototype.onTaskMoved=function(C){if(!this._ignore){C.$local_index=this._gantt.getTaskIndex(C.id);var _=this.getInitialTask(C.id);if(C.$local_index===_.$local_index&&this._gantt.getParent(C)===this._gantt.getParent(_))return;this._storeEntityCommand(C,this.getInitialTask(C.id),this._undo.command.type.move,this._undo.command.entity.task)}},D.prototype.onTaskDeleted=function(C){if(!this._ignore){if(this._storeTaskCommand(C,this._undo.command.type.remove),this._nestedTasks[C.id])for(var _=this._nestedTasks[C.id],y=0;y<_.length;y++)this._storeTaskCommand(_[y],this._undo.command.type.remove);if(this._nestedLinks[C.id]){var f=this._nestedLinks[C.id];for(y=0;y<f.length;y++)this._storeLinkCommand(f[y],this._undo.command.type.remove)}}},D.prototype.onLinkAdded=function(C){this._ignore||this._storeLinkCommand(C,this._undo.command.type.add)},D.prototype.onLinkUpdated=function(C){this._ignore||this._storeLinkCommand(C,this._undo.command.type.update)},D.prototype.onLinkDeleted=function(C){this._ignore||this._storeLinkCommand(C,this._undo.command.type.remove)},D.prototype.setNestedTasks=function(C,_){for(var f=null,g=[],w=this._getLinks(this._gantt.getTask(C)),b=0;b<_.length;b++)f=this.setInitialTask(_[b]),w=w.concat(this._getLinks(f)),g.push(f);var T={};for(b=0;b<w.length;b++)T[w[b]]=!0;var P=[];for(var b in T)P.push(this.setInitialLink(b));this._nestedTasks[C]=g,this._nestedLinks[C]=P},D.prototype.setInitialTask=function(C,_){var y=this._gantt;if(_||!this._initialTasks[C]||!this._batchMode){var f=y.copy(y.getTask(C));f.$index=y.getGlobalTaskIndex(C),f.$local_index=y.getTaskIndex(C),this.setInitialTaskObject(C,f)}return this._initialTasks[C]},D.prototype.getInitialTask=function(C){return this._initialTasks[C]},D.prototype.clearInitialTasks=function(){this._initialTasks={}},D.prototype.setInitialTaskObject=function(C,_){this._initialTasks[C]=_},D.prototype.setInitialLink=function(C,_){return this._initialLinks[C]&&this._batchMode||(this._initialLinks[C]=this._gantt.copy(this._gantt.getLink(C))),this._initialLinks[C]},D.prototype.getInitialLink=function(C){return this._initialLinks[C]},D.prototype.clearInitialLinks=function(){this._initialLinks={}},D.prototype._attachEvents=function(){var C=this,_=null,y=this._gantt,f=function(){_||(_=setTimeout(function(){_=null}),C.clearInitialTasks(),y.eachTask(function(T){C.setInitialTask(T.id)}),C.clearInitialLinks(),y.getLinks().forEach(function(T){C.setInitialLink(T.id)}))},g=function(T){return y.copy(y.getTask(T))};for(var w in I)y.attachEvent(w,function(){return C.startIgnore(),!0}),y.attachEvent(I[w],function(){return C.stopIgnore(),!0});for(w=0;w<O.length;w++)y.attachEvent(O[w],function(){return C.startBatchAction(),!0});y.attachEvent("onParse",function(){C._undo.clearUndoStack(),C._undo.clearRedoStack(),f()}),y.attachEvent("onAfterTaskAdd",function(T,P){C.setInitialTask(T,!0),C.onTaskAdded(P)}),y.attachEvent("onAfterTaskUpdate",function(T,P){C.onTaskUpdated(P)}),y.attachEvent("onAfterTaskDelete",function(T,P){C.onTaskDeleted(P)}),y.attachEvent("onAfterLinkAdd",function(T,P){C.setInitialLink(T,!0),C.onLinkAdded(P)}),y.attachEvent("onAfterLinkUpdate",function(T,P){C.onLinkUpdated(P)}),y.attachEvent("onAfterLinkDelete",function(T,P){C.onLinkDeleted(P)}),y.attachEvent("onRowDragEnd",function(T,P){return C.onTaskMoved(g(T)),C.toggleIgnoreMoveEvents(),!0}),y.attachEvent("onBeforeTaskDelete",function(T){C.store(T,y.config.undo_types.task);var P=[];return f(),y.eachTask(function(E){P.push(E.id)},T),C.setNestedTasks(T,P),!0});var b=y.getDatastore("task");b.attachEvent("onBeforeItemMove",function(T,P,E){return C.isMoveEventsIgnored()||f(),!0}),b.attachEvent("onAfterItemMove",function(T,P,E){return C.isMoveEventsIgnored()||C.onTaskMoved(g(T)),!0}),y.attachEvent("onRowDragStart",function(T,P,E){return C.toggleIgnoreMoveEvents(!0),f(),!0}),y.attachEvent("onBeforeTaskDrag",function(T){return C.store(T,y.config.undo_types.task)}),y.attachEvent("onLightbox",function(T){return C.store(T,y.config.undo_types.task)}),y.attachEvent("onBeforeTaskAutoSchedule",function(T){return C.store(T.id,y.config.undo_types.task),!0}),y.ext.inlineEditors&&y.ext.inlineEditors.attachEvent("onEditStart",function(T){C.store(T.id,y.config.undo_types.task)})},D.prototype._storeCommand=function(C){var _=this._undo;if(_.updateConfigs(),_.undoEnabled)if(this._batchMode)this._batchAction.commands.push(C);else{var y=_.action.create([C]);_.logAction(y)}},D.prototype._storeEntityCommand=function(C,_,y,f){var g=this._undo.command.create(C,_,y,f);this._storeCommand(g)},D.prototype._storeTaskCommand=function(C,_){this._gantt.isTaskExists(C.id)&&(C.$local_index=this._gantt.getTaskIndex(C.id)),this._storeEntityCommand(C,this.getInitialTask(C.id),_,this._undo.command.entity.task)},D.prototype._storeLinkCommand=function(C,_){this._storeEntityCommand(C,this.getInitialLink(C.id),_,this._undo.command.entity.link)},D.prototype._getLinks=function(C){return C.$source.concat(C.$target)},D.prototype._storeTask=function(C,_){var y=this;void 0===_&&(_=!1);var f=this._gantt;return this.setInitialTask(C,_),f.eachTask(function(g){y.setInitialTask(g.id)},C),!0},D.prototype._storeLink=function(C,_){return void 0===_&&(_=!1),this.setInitialLink(C,_),!0},D}();X.Monitor=x},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.Undo=void 0;var O=function(){function x(D){var C=this;this.maxSteps=10,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(_){return{commands:_?_.slice():[]}},invert:function(_){for(var y,f=C._gantt.copy(_),g=C.command,w=0;w<_.commands.length;w++){var b=f.commands[w]=g.invert(f.commands[w]);b.type!==g.type.update&&b.type!==g.type.move||(b.value=(y=[b.oldValue,b.value])[0],b.oldValue=y[1])}return f}},this.command={entity:null,type:null,create:function(_,y,f,g){var w=C._gantt;return{entity:g,type:f,value:w.copy(_),oldValue:w.copy(y||_)}},invert:function(_){var y=C._gantt.copy(_);return y.type=C.command.inverseCommands(_.type),y},inverseCommands:function(_){var y=C._gantt,f=C.command.type;switch(_){case f.update:return f.update;case f.remove:return f.add;case f.add:return f.remove;case f.move:return f.move;default:return y.assert(!1,"Invalid command "+_),null}}},this._undoStack=[],this._redoStack=[],this._gantt=D}return x.prototype.getUndoStack=function(){return this._undoStack},x.prototype.getRedoStack=function(){return this._redoStack},x.prototype.clearUndoStack=function(){this._undoStack=[]},x.prototype.clearRedoStack=function(){this._redoStack=[]},x.prototype.updateConfigs=function(){var D=this._gantt;this.maxSteps=D.config.undo_steps||10,this.command.entity=D.config.undo_types,this.command.type=D.config.undo_actions,this.undoEnabled=!!D.config.undo,this.redoEnabled=!!D.config.redo},x.prototype.undo=function(){var D=this._gantt;if(this.updateConfigs(),this.undoEnabled){var C=this._pop(this._undoStack);if(C&&this._reorderCommands(C),!1!==D.callEvent("onBeforeUndo",[C])&&C)return this._applyAction(this.action.invert(C)),this._push(this._redoStack,D.copy(C)),void D.callEvent("onAfterUndo",[C]);D.callEvent("onAfterUndo",[null])}},x.prototype.redo=function(){var D=this._gantt;if(this.updateConfigs(),this.redoEnabled){var C=this._pop(this._redoStack);if(C&&this._reorderCommands(C),!1!==D.callEvent("onBeforeRedo",[C])&&C)return this._applyAction(C),this._push(this._undoStack,D.copy(C)),void D.callEvent("onAfterRedo",[C]);D.callEvent("onAfterRedo",[null])}},x.prototype.logAction=function(D){this._push(this._undoStack,D),this._redoStack=[]},x.prototype._push=function(D,C){if(C.commands.length&&!1!==this._gantt.callEvent(D===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack",[C])&&C.commands.length){for(D.push(C);D.length>this.maxSteps;)D.shift();return C}},x.prototype._pop=function(D){return D.pop()},x.prototype._reorderCommands=function(D){var C={any:0,link:1,task:2},_={move:1,any:0};D.commands.sort(function(y,f){return"task"===y.entity&&"task"===f.entity?y.type!==f.type?(_[f.type]||0)-(_[y.type]||0):"move"===y.type&&y.oldValue&&f.oldValue&&f.oldValue.parent===y.oldValue.parent?y.oldValue.$index-f.oldValue.$index:0:(C[f.entity]||C.any)-(C[y.entity]||C.any)})},x.prototype._applyAction=function(D){var C=null,_=this.command.entity,y=this.command.type,f=this._gantt,g={};g[_.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},g[_.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},f.batchUpdate(function(){for(var w=0;w<D.commands.length;w++){var b=g[(C=D.commands[w]).entity][C.type],T=g[C.entity].get,P=g[C.entity].isExists;if(C.type===y.add)f[b](C.oldValue,C.oldValue.parent,C.oldValue.$local_index);else if(C.type===y.remove)f[P](C.value.id)&&f[b](C.value.id);else if(C.type===y.update){var E=f[T](C.value.id);for(var F in C.value)F.startsWith("$")||F.startsWith("_")||(E[F]=C.value[F]);f[b](C.value.id)}else C.type===y.move&&(f[b](C.value.id,C.value.$local_index,C.value.parent),f.callEvent("onRowDragEnd",[C.value.id]))}})},x}();X.Undo=O},function(j,X,R){R(16);var I=R(93);j.exports=function(O){var x=I(O);return x.env.isNode||R(197)(x),x}},function(j,X,R){function I(O){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}j.exports=function(O){var x=new function(){this.constants=R(94),this.version="7.1.11",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},D=new(R(95).default)(O),C={};x.plugins=function(T){for(var P in T)if(T[P]&&!C[P]){var E=D.getExtension(P);E&&(E(x),C[P]=!0)}},x.$services=R(96)(),x.config=R(97)(),x.ajax=R(98)(x),x.date=R(100)(x);var _=R(103)(x);x.$services.setService("dnd",function(){return _});var y=R(104)(x);x.$services.setService("templateLoader",function(){return y}),R(4)(x);var f=new(R(105));f.registerProvider("global",function(){var T={min_date:x._min_date,max_date:x._max_date,selected_task:null};return x.$data&&x.$data.tasksStore&&(T.selected_task=x.$data.tasksStore.getSelectedId()),T}),x.getState=f.getState,x.$services.setService("state",function(){return f});var g=R(0);g.mixin(x,g),x.Promise=R(106),x.env=R(7),R(110)(x);var w=R(116);x.dataProcessor=w.DEPRECATED_api,x.createDataProcessor=w.createDataProcessor,R(121)(x),R(130)(x),R(131)(x),R(139)(x),R(140)(x),R(141)(x),R(154)(x),R(155).default(x),R(156)(x),R(157)(x),R(158)(x),R(161)(x),R(162).default(x);var b=R(163).default();return x.i18n={addLocale:b.addLocale,setLocale:function(T){if("string"==typeof T){var P=b.getLocale(T);P||(P=b.getLocale("en")),x.locale=P}else if(T)if(x.locale)for(var E in T)T[E]&&"object"===I(T[E])?(x.locale[E]||(x.locale[E]={}),x.mixin(x.locale[E],T[E],!0)):x.locale[E]=T[E];else x.locale=T},getLocale:b.getLocale},x.i18n.setLocale("en"),x}},function(j,X){j.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(O){var x=this;for(var D in this.addExtension=function(C,_){x._extensions[C]=_},this.getExtension=function(C){return x._extensions[C]},this._extensions={},O)this._extensions[D]=O[D]}},function(j,X){j.exports=function(){var R={};return{services:{},setService:function(I,O){R[I]=O},getService:function(I){return R[I]?R[I]():null},dropService:function(I){R[I]&&delete R[I]},destructor:function(){for(var I in R)if(R[I]){var O=R[I];O&&O.destructor&&O.destructor()}R=null}}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),j.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(j,X,R){function I(_){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(_)}var O=R(7),x=R(12),D=R(99).default;function C(_,y){var f={method:_};if(0===y.length)throw new Error("Arguments list of query is wrong.");if(1===y.length)return"string"==typeof y[0]?(f.url=y[0],f.async=!0):(f.url=y[0].url,f.async=y[0].async||!0,f.callback=y[0].callback,f.headers=y[0].headers),f.data=y[0].data?"string"!=typeof y[0].data?D(y[0].data):y[0].data:"",f;switch(f.url=y[0],_){case"GET":case"DELETE":f.callback=y[1],f.headers=y[2];break;case"POST":case"PUT":f.data=y[1]?"string"!=typeof y[1]?D(y[1]):y[1]:"",f.callback=y[2],f.headers=y[3]}return f}j.exports=function(_){return{cache:!0,method:"get",parse:function(y){return"string"!=typeof y?y:(y=y.replace(/^[\s]+/,""),"undefined"==typeof DOMParser||O.isIE?void 0!==x.ActiveXObject&&((f=new x.ActiveXObject("Microsoft.XMLDOM")).async="false",f.loadXML(y)):f=(new DOMParser).parseFromString(y,"text/xml"),f);var f},xmltop:function(y,f,g){if(void 0===f.status||f.status<400){var w=f.responseXML?f.responseXML||f:this.parse(f.responseText||f);if(w&&null!==w.documentElement&&!w.getElementsByTagName("parsererror").length)return w.getElementsByTagName(y)[0]}return-1!==g&&_.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],g]),document.createElement("DIV")},xpath:function(y,f){if(f.nodeName||(f=f.responseXML||f),O.isIE)return f.selectNodes(y)||[];for(var g,w=[],b=(f.ownerDocument||f).evaluate(y,f,null,XPathResult.ANY_TYPE,null);g=b.iterateNext();)w.push(g);return w},query:function(y){return this._call(y.method||"GET",y.url,y.data||"",y.async||!0,y.callback,y.headers)},get:function(y,f,g){var w=C("GET",arguments);return this.query(w)},getSync:function(y,f){var g=C("GET",arguments);return g.async=!1,this.query(g)},put:function(y,f,g,w){var b=C("PUT",arguments);return this.query(b)},del:function(y,f,g){var w=C("DELETE",arguments);return this.query(w)},post:function(y,f,g,w){(1==arguments.length||2==arguments.length&&"function"==typeof f)&&(f="");var b=C("POST",arguments);return this.query(b)},postSync:function(y,f,g){f=null===f?"":String(f);var w=C("POST",arguments);return w.async=!1,this.query(w)},_call:function(y,f,g,w,b,T){return new _.Promise(function(P,E){var F=void 0===("undefined"==typeof XMLHttpRequest?"undefined":I(XMLHttpRequest))||O.isIE?new x.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,G=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(w&&(F.onreadystatechange=function(){if(4==F.readyState||G&&3==F.readyState){if((200!=F.status||""===F.responseText)&&!_.callEvent("onAjaxError",[F]))return;setTimeout(function(){"function"==typeof b&&b.apply(x,[{xmlDoc:F,filePath:f}]),P(F),"function"==typeof b&&(b=null,F=null)},0)}}),"GET"!=y||this.cache||(f+=(f.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),F.open(y,f,w),T)for(var V in T)F.setRequestHeader(V,T[V]);else"POST"==y.toUpperCase()||"PUT"==y||"DELETE"==y?F.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==y&&(g=null);if(F.setRequestHeader("X-Requested-With","XMLHttpRequest"),F.send(g),!w)return{xmlDoc:F,filePath:f}})},urlSeparator:function(y){return-1!=y.indexOf("?")?"&":"?"}}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(I){if("string"==typeof I||"number"==typeof I)return I;var O="";for(var x in I){var D="";I.hasOwnProperty(x)&&(D=x+"="+(D="string"==typeof I[x]?encodeURIComponent(I[x]):"number"==typeof I[x]?I[x]:encodeURIComponent(JSON.stringify(I[x]))),O.length&&(D="&"+D),O+=D)}return O}},function(j,X,R){var I=R(101).default,O=R(102).default;j.exports=function(x){var D=null;function C(){var _=!1;return"auto"===x.config.csp?(null===D&&function(){try{new Function("canUseCsp = false;")}catch(y){D=!0}}(),_=D):_=x.config.csp,_}return{init:function(){for(var _=x.locale,y=_.date.month_short,f=_.date.month_short_hash={},g=0;g<y.length;g++)f[y[g]]=g;for(y=_.date.month_full,f=_.date.month_full_hash={},g=0;g<y.length;g++)f[y[g]]=g},date_part:function(_){var y=new Date(_);return _.setHours(0),this.hour_start(_),_.getHours()&&(_.getDate()<y.getDate()||_.getMonth()<y.getMonth()||_.getFullYear()<y.getFullYear())&&_.setTime(_.getTime()+36e5*(24-_.getHours())),_},time_part:function(_){return(_.valueOf()/1e3-60*_.getTimezoneOffset())%86400},week_start:function(_){var y=_.getDay();return x.config.start_on_monday&&(0===y?y=6:y--),this.date_part(this.add(_,-1*y,"day"))},month_start:function(_){return _.setDate(1),this.date_part(_)},quarter_start:function(_){this.month_start(_);var f=_.getMonth();return _.setMonth(f>=9?9:f>=6?6:f>=3?3:0),_},year_start:function(_){return _.setMonth(0),this.month_start(_)},day_start:function(_){return this.date_part(_)},hour_start:function(_){return _.getMinutes()&&_.setMinutes(0),this.minute_start(_),_},minute_start:function(_){return _.getSeconds()&&_.setSeconds(0),_.getMilliseconds()&&_.setMilliseconds(0),_},_add_days:function(_,y,f){_.setDate(_.getDate()+y);var g=y>=0,w=!f.getHours()&&_.getHours(),b=_.getDate()<=f.getDate()||_.getMonth()<f.getMonth()||_.getFullYear()<f.getFullYear();return g&&w&&b&&_.setTime(_.getTime()+36e5*(24-_.getHours())),_},add:function(_,y,f){var g=new Date(_.valueOf());switch(f){case"day":g=this._add_days(g,y,_);break;case"week":g=this._add_days(g,7*y,_);break;case"month":g.setMonth(g.getMonth()+y);break;case"year":g.setYear(g.getFullYear()+y);break;case"hour":g.setTime(g.getTime()+60*y*60*1e3);break;case"minute":g.setTime(g.getTime()+60*y*1e3);break;default:return this["add_"+f](_,y,f)}return g},add_quarter:function(_,y){return this.add(_,3*y,"month")},to_fixed:function(_){return _<10?"0"+_:_},copy:function(_){return new Date(_.valueOf())},date_to_str:function(_,y){var f=I;return C()&&(f=O),f.date_to_str(_,y,x)},str_to_date:function(_,y){var f=I;return C()&&(f=O),f.str_to_date(_,y,x)},getISOWeek:function(_){return x.date._getWeekNumber(_,!0)},_getWeekNumber:function(_,y){if(!_)return!1;var f=_.getDay();y&&0===f&&(f=7);var g=new Date(_.valueOf());g.setDate(_.getDate()+(4-f));var w=g.getFullYear(),b=Math.round((g.getTime()-new Date(w,0,1).getTime())/864e5);return 1+Math.floor(b/7)},getWeek:function(_){return x.date._getWeekNumber(_,x.config.start_on_monday)},getUTCISOWeek:function(_){return x.date.getISOWeek(_)},convert_to_utc:function(_){return new Date(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate(),_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds())},parseDate:function(_,y){return _&&!_.getFullYear&&("function"!=typeof y&&(y="string"==typeof y?"parse_date"===y||"xml_date"===y?x.defined(x.templates.xml_date)?x.templates.xml_date:x.templates.parse_date:x.defined(x.templates[y])?x.templates[y]:x.date.str_to_date(y):x.defined(x.templates.xml_date)?x.templates.xml_date:x.templates.parse_date),_=_?y(_):null),_}}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date_to_str:function(O,x,D){O=O.replace(/%[a-zA-Z]/g,function(_){switch(_){case"%d":return'"+to_fixed(date.get'+(x?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(x?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(x?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(x?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(x?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(x?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(x?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(x?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(x?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(x?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(x?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(x?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(x?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(x?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(x?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(x?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(x?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(x?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return _}});var C=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+O+'";');return function(_){return C(_,D.date.to_fixed,D.locale,D.date.getISOWeek,D.date.getWeek)}},str_to_date:function(O,x,D){for(var C="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",_=O.match(/%[a-zA-Z]/g),y=0;y<_.length;y++)switch(_[y]){case"%j":case"%d":C+="set[2]=temp["+y+"]||1;";break;case"%n":case"%m":C+="set[1]=(temp["+y+"]||1)-1;";break;case"%y":C+="set[0]=temp["+y+"]*1+(temp["+y+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":C+="set[3]=temp["+y+"]||0;";break;case"%i":C+="set[4]=temp["+y+"]||0;";break;case"%Y":C+="set[0]=temp["+y+"]||0;";break;case"%a":case"%A":C+="set[3]=set[3]%12+((temp["+y+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":C+="set[5]=temp["+y+"]||0;";break;case"%M":C+="set[1]=locale.date.month_short_hash[temp["+y+"]]||0;";break;case"%F":C+="set[1]=locale.date.month_full_hash[temp["+y+"]]||0;"}var f="set[0],set[1],set[2],set[3],set[4],set[5]";x&&(f=" Date.UTC("+f+")");var g=new Function("date","locale","var set=[0,0,1,0,0,0]; "+C+" return new Date("+f+");");return function(w){return g(w,D.locale)}}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date_to_str:function(O,x,D){return function(C){return O.replace(/%[a-zA-Z]/g,function(_){switch(_){case"%d":return D.date.to_fixed(x?C.getUTCDate():C.getDate());case"%m":return D.date.to_fixed(x?C.getUTCMonth()+1:C.getMonth()+1);case"%j":return x?C.getUTCDate():C.getDate();case"%n":return x?C.getUTCMonth()+1:C.getMonth()+1;case"%y":return D.date.to_fixed(x?C.getUTCFullYear()%100:C.getFullYear()%100);case"%Y":return x?C.getUTCFullYear():C.getFullYear();case"%D":return x?D.locale.date.day_short[C.getUTCDay()]:D.locale.date.day_short[C.getDay()];case"%l":return x?D.locale.date.day_full[C.getUTCDay()]:D.locale.date.day_full[C.getDay()];case"%M":return x?D.locale.date.month_short[C.getUTCMonth()]:D.locale.date.month_short[C.getMonth()];case"%F":return x?D.locale.date.month_full[C.getUTCMonth()]:D.locale.date.month_full[C.getMonth()];case"%h":return D.date.to_fixed(x?(C.getUTCHours()+11)%12+1:(C.getHours()+11)%12+1);case"%g":return x?(C.getUTCHours()+11)%12+1:(C.getHours()+11)%12+1;case"%G":return x?C.getUTCHours():C.getHours();case"%H":return D.date.to_fixed(x?C.getUTCHours():C.getHours());case"%i":return D.date.to_fixed(x?C.getUTCMinutes():C.getMinutes());case"%a":return x?C.getUTCHours()>11?"pm":"am":C.getHours()>11?"pm":"am";case"%A":return x?C.getUTCHours()>11?"PM":"AM":C.getHours()>11?"PM":"AM";case"%s":return D.date.to_fixed(x?C.getUTCSeconds():C.getSeconds());case"%W":return D.date.to_fixed(x?D.date.getUTCISOWeek(C):D.date.getISOWeek(C));default:return _}})}},str_to_date:function(O,x,D){return function(C){for(var _=[0,0,1,0,0,0],y=C.match(/[a-zA-Z]+|[0-9]+/g),f=O.match(/%[a-zA-Z]/g),g=0;g<f.length;g++)switch(f[g]){case"%j":case"%d":_[2]=y[g]||1;break;case"%n":case"%m":_[1]=(y[g]||1)-1;break;case"%y":_[0]=1*y[g]+(y[g]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":_[3]=y[g]||0;break;case"%i":_[4]=y[g]||0;break;case"%Y":_[0]=y[g]||0;break;case"%a":case"%A":_[3]=_[3]%12+("am"===(y[g]||"").toLowerCase()?0:12);break;case"%s":_[5]=y[g]||0;break;case"%M":_[1]=D.locale.date.month_short_hash[y[g]]||0;break;case"%F":_[1]=D.locale.date.month_full_hash[y[g]]||0}return x?new Date(Date.UTC(_[0],_[1],_[2],_[3],_[4],_[5])):new Date(_[0],_[1],_[2],_[3],_[4],_[5])}}}},function(j,X,R){var I=R(4),O=R(0),x=R(30),D=R(12),C=R(1);j.exports=function(_){function y(g){return{target:g.target||g.srcElement,pageX:g.pageX,pageY:g.pageY,clientX:g.clientX,clientY:g.clientY,metaKey:g.metaKey,shiftKey:g.shiftKey,ctrlKey:g.ctrlKey,altKey:g.altKey}}function f(g,w){this._obj=g,this._settings=w||{},I(this);var b=this.getInputMethods();this._drag_start_timer=null,_.attachEvent("onGanttScroll",O.bind(function(E,F){this.clearDragTimer()},this));for(var T={passive:!1},P=0;P<b.length;P++)O.bind(function(E){_.event(g,E.down,O.bind(function(G){E.accessor(G)&&(w.preventDefault&&w.selector&&C.closest(G.target,w.selector)&&G.preventDefault(),_.config.touch&&G.timeStamp&&G.timeStamp-0<300||(this._settings.original_target=y(G),_.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(O.bind(function(){_.getState().lightbox||this.dragStart(g,G,E)},this),_.config.touch_drag)):this.dragStart(g,G,E)))},this),T);var F=document.body;_.event(F,E.up,O.bind(function(G){E.accessor(G)&&this.clearDragTimer()},this),T)},this)(b[P])}return f.prototype={traceDragEvents:function(g,w){var b=O.bind(function(V){return this.dragMove(g,V,w.accessor)},this);O.bind(function(V){return this.dragScroll(g,V)},this);var T=O.bind(function(V){if(!this.config.started||!O.defined(this.config.updates_per_second)||x(this,this.config.updates_per_second)){var B=b(V);if(B)try{V&&V.preventDefault&&V.cancelable&&V.preventDefault()}catch(K){}return B}},this),P=C.getRootNode(_.$root),E=this.config.mousemoveContainer||C.getRootNode(_.$root),F={passive:!1},G=O.bind(function(V){return _.eventRemove(E,w.move,T),_.eventRemove(P,w.up,G,F),this.dragEnd(g)},this);_.event(E,w.move,T,F),_.event(P,w.up,G,F)},checkPositionChange:function(g){var b=g.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(g.x-this.config.pos.x),2)+Math.pow(Math.abs(b),2))>this.config.sensitivity},initDnDMarker:function(){var g=this.config.marker=document.createElement("div");g.className="gantt_drag_marker",g.innerHTML="",document.body.appendChild(g)},backupEventTarget:function(g,w){if(_.config.touch){var b=w(g),T=b.target||b.srcElement,P=T.cloneNode(!0);this.config.original_target=y(b),this.config.original_target.target=P,this.config.backup_element=T,T.parentNode.appendChild(P),T.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(T)}},getInputMethods:function(){var g=[];if(g.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(b){return b}}),_.config.touch){var w=!0;try{document.createEvent("TouchEvent")}catch(b){w=!1}w?g.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(b){return b.touches&&b.touches.length>1?null:b.touches[0]?{target:document.elementFromPoint(b.touches[0].clientX,b.touches[0].clientY),pageX:b.touches[0].pageX,pageY:b.touches[0].pageY,clientX:b.touches[0].clientX,clientY:b.touches[0].clientY}:b}}):D.navigator.pointerEnabled?g.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(b){return"mouse"==b.pointerType?null:b}}):D.navigator.msPointerEnabled&&g.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(b){return b.pointerType==b.MSPOINTER_TYPE_MOUSE?null:b}})}return g},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(g,w,b){this.config&&this.config.started||(this.config={obj:g,marker:null,started:!1,pos:this.getPosition(w),sensitivity:4},this._settings&&O.mixin(this.config,this._settings,!0),this.traceDragEvents(g,b),_._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",_.config.touch&&this.dragMove(g,w,b.accessor))},dragMove:function(g,w,b){var T=b(w);if(!T)return!1;if(!this.config.marker&&!this.config.started){var P=this.getPosition(T);if(_.config.touch||this.checkPositionChange(P)){if(this.config.started=!0,this.config.ignore=!1,!1===this.callEvent("onBeforeDragStart",[g,this.config.original_target]))return this.config.ignore=!0,!1;this.backupEventTarget(w,b),this.initDnDMarker(),_._touch_feedback(),this.callEvent("onAfterDragStart",[g,this.config.original_target])}else this.config.ignore=!0}return!this.config.ignore&&(w.targetTouches&&!T.target?void 0:(T.pos=this.getPosition(T),this.config.marker.style.left=T.pos.x+"px",this.config.marker.style.top=T.pos.y+"px",this.callEvent("onDragMove",[g,T]),!0))},dragEnd:function(g){var w=this.config.backup_element;w&&w.parentNode&&w.parentNode.removeChild(w),_._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(g){var w=0,b=0;return g.pageX||g.pageY?(w=g.pageX,b=g.pageY):(g.clientX||g.clientY)&&(w=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=g.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:w,y:b}}},f}},function(j,X){j.exports=function(R){var I={};function O(x,D,C){C=C||x;var _=R.config,y=R.templates;R.config[x]&&I[C]!=_[x]&&(D&&y[C]||(y[C]=R.date.date_to_str(_[x]),I[C]=_[x]))}return{initTemplates:function(){var x=R.locale.labels;x.gantt_save_btn=x.icon_save,x.gantt_cancel_btn=x.icon_cancel,x.gantt_delete_btn=x.icon_delete;var D=R.date,C=D.date_to_str,_=R.config,y=C(_.xml_date||_.date_format,_.server_utc),f=D.str_to_date(_.xml_date||_.date_format,_.server_utc);O("date_scale",!0,void 0),O("date_grid",!0,"grid_date_format"),O("task_date",!0,void 0),R.mixin(R.templates,{xml_format:void 0,format_date:y,xml_date:void 0,parse_date:f,progress_text:function(g,w,b){return""},grid_header_class:function(g,w){return""},task_text:function(g,w,b){return b.text},task_class:function(g,w,b){return""},task_end_date:function(g){return R.templates.task_date(g)},grid_row_class:function(g,w,b){return""},task_row_class:function(g,w,b){return""},timeline_cell_class:function(g,w){return""},scale_cell_class:function(g){return""},scale_row_class:function(g){return""},grid_indent:function(g){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(g){return"<div class='gantt_tree_icon gantt_folder_"+(g.$open?"open":"closed")+"'></div>"},grid_file:function(g){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(g){return"<div class='gantt_tree_icon gantt_"+(g.$open?"close":"open")+"'></div>"},grid_blank:function(g){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(g,w,b){return w&&R.isUnscheduledTask(w)&&R.config.show_unscheduled?R.templates.task_unscheduled_time(w):R.templates.grid_date_format(g,b)},task_time:function(g,w,b){return R.isUnscheduledTask(b)&&R.config.show_unscheduled?R.templates.task_unscheduled_time(b):R.templates.task_date(g)+" - "+R.templates.task_end_date(w)},task_unscheduled_time:function(g){return""},time_picker:C(_.time_picker),link_class:function(g){return""},link_description:function(g){var w=R.getTask(g.source),b=R.getTask(g.target);return"<b>"+w.text+"</b> &ndash;  <b>"+b.text+"</b>"},drag_link:function(g,w,b,T){g=R.getTask(g);var P=R.locale.labels,E="<b>"+g.text+"</b> "+(w?P.link_start:P.link_end)+"<br/>";return b&&(E+="<b> "+(b=R.getTask(b)).text+"</b> "+(T?P.link_start:P.link_end)+"<br/>"),E},drag_link_class:function(g,w,b,T){var P="";return g&&b&&(P=" "+(R.isLinkAllowed(g,b,w,T)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+P},tooltip_date_format:D.date_to_str("%Y-%m-%d"),tooltip_text:function(g,w,b){return"<b>Task:</b> "+b.text+"<br/><b>Start date:</b> "+R.templates.tooltip_date_format(g)+"<br/><b>End date:</b> "+R.templates.tooltip_date_format(w)}})},initTemplate:O}}},function(j,X,R){var I=R(0);j.exports=function(){var O={};return{getState:function(x){if(O[x])return O[x].method();var D={};for(var C in O)O[C].internal||I.mixin(D,O[C].method(),!0);return D},registerProvider:function(x,D,C){O[x]={method:D,internal:C}},unregisterProvider:function(x){delete O[x]}}}},function(j,X,R){j.exports=R(107)},function(j,X,R){(function(I,O,x){var D,_,f;function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}f=function(){return function b(T,P,E){function F(B,K){if(!P[B]){if(!T[B]){var U="function"==typeof _dereq_&&_dereq_;if(!K&&U)return U(B,!0);if(G)return G(B,!0);var ee=new Error("Cannot find module '"+B+"'");throw ee.code="MODULE_NOT_FOUND",ee}var ie=P[B]={exports:{}};T[B][0].call(ie.exports,function(J){return F(T[B][1][J]||J)},ie,ie.exports,b,T,P,E)}return P[B].exports}for(var G="function"==typeof _dereq_&&_dereq_,V=0;V<E.length;V++)F(E[V]);return F}({1:[function(b,T,P){"use strict";T.exports=function(E){var F=E._SomePromiseArray;function G(V){var B=new F(V),K=B.promise();return B.setHowMany(1),B.setUnwrap(),B.init(),K}E.any=function(V){return G(V)},E.prototype.any=function(){return G(this)}}},{}],2:[function(b,T,P){"use strict";var E;try{throw new Error}catch(Q){E=Q}var F=b("./schedule"),G=b("./queue"),V=b("./util");function B(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new G(16),this._normalQueue=new G(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var Q=this;this.drainQueues=function(){Q._drainQueues()},this._schedule=F}function K(Q,oe,ce){this._lateQueue.push(Q,oe,ce),this._queueTick()}function U(Q,oe,ce){this._normalQueue.push(Q,oe,ce),this._queueTick()}function ee(Q){this._normalQueue._pushOne(Q),this._queueTick()}function ie(Q){for(;Q.length()>0;)J(Q)}function J(Q){var oe=Q.shift();if("function"!=typeof oe)oe._settlePromises();else{var ce=Q.shift(),ge=Q.shift();oe.call(ce,ge)}}B.prototype.setScheduler=function(Q){var oe=this._schedule;return this._schedule=Q,this._customScheduler=!0,oe},B.prototype.hasCustomScheduler=function(){return this._customScheduler},B.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},B.prototype.disableTrampolineIfNecessary=function(){V.hasDevTools&&(this._trampolineEnabled=!1)},B.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},B.prototype.fatalError=function(Q,oe){oe?(I.stderr.write("Fatal "+(Q instanceof Error?Q.stack:Q)+"\n"),I.exit(2)):this.throwLater(Q)},B.prototype.throwLater=function(Q,oe){if(1===arguments.length&&(oe=Q,Q=function(){throw oe}),"undefined"!=typeof setTimeout)setTimeout(function(){Q(oe)},0);else try{this._schedule(function(){Q(oe)})}catch(ce){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},V.hasDevTools?(B.prototype.invokeLater=function(Q,oe,ce){this._trampolineEnabled?K.call(this,Q,oe,ce):this._schedule(function(){setTimeout(function(){Q.call(oe,ce)},100)})},B.prototype.invoke=function(Q,oe,ce){this._trampolineEnabled?U.call(this,Q,oe,ce):this._schedule(function(){Q.call(oe,ce)})},B.prototype.settlePromises=function(Q){this._trampolineEnabled?ee.call(this,Q):this._schedule(function(){Q._settlePromises()})}):(B.prototype.invokeLater=K,B.prototype.invoke=U,B.prototype.settlePromises=ee),B.prototype._drainQueues=function(){ie(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,ie(this._lateQueue)},B.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},B.prototype._reset=function(){this._isTickUsed=!1},T.exports=B,T.exports.firstLineError=E},{"./queue":26,"./schedule":29,"./util":36}],3:[function(b,T,P){"use strict";T.exports=function(E,F,G,V){var B=!1,K=function(J,Q){this._reject(Q)},U=function(J,Q){Q.promiseRejectionQueued=!0,Q.bindingPromise._then(K,K,null,this,J)},ee=function(J,Q){0==(50397184&this._bitField)&&this._resolveCallback(Q.target)},ie=function(J,Q){Q.promiseRejectionQueued||this._reject(J)};E.prototype.bind=function(J){B||(B=!0,E.prototype._propagateFrom=V.propagateFromFunction(),E.prototype._boundValue=V.boundValueFunction());var Q=G(J),oe=new E(F);oe._propagateFrom(this,1);var ce=this._target();if(oe._setBoundTo(Q),Q instanceof E){var ge={promiseRejectionQueued:!1,promise:oe,target:ce,bindingPromise:Q};ce._then(F,U,void 0,oe,ge),Q._then(ee,ie,void 0,oe,ge),oe._setOnCancel(Q)}else oe._resolveCallback(ce);return oe},E.prototype._setBoundTo=function(J){void 0!==J?(this._bitField=2097152|this._bitField,this._boundTo=J):this._bitField=-2097153&this._bitField},E.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},E.bind=function(J,Q){return E.resolve(Q).bind(J)}}},{}],4:[function(b,T,P){"use strict";var E;"undefined"!=typeof Promise&&(E=Promise);var F=b("./promise")();F.noConflict=function(){try{Promise===F&&(Promise=E)}catch(G){}return F},T.exports=F},{"./promise":22}],5:[function(b,T,P){"use strict";var E=Object.create;if(E){var F=E(null),G=E(null);F[" size"]=G[" size"]=0}T.exports=function(V){var B=b("./util"),K=B.canEvaluate;function U(J){return function(Q,oe){var ce;if(null!=Q&&(ce=Q[oe]),"function"!=typeof ce){var ge="Object "+B.classString(Q)+" has no method '"+B.toString(oe)+"'";throw new V.TypeError(ge)}return ce}(J,this.pop()).apply(J,this)}function ee(J){return J[this]}function ie(J){var Q=+this;return Q<0&&(Q=Math.max(0,Q+J.length)),J[Q]}V.prototype.call=function(J){var Q=[].slice.call(arguments,1);return Q.push(J),this._then(U,void 0,void 0,Q,void 0)},V.prototype.get=function(J){var Q;if("number"==typeof J)Q=ie;else if(K){var oe=(void 0)(J);Q=null!==oe?oe:ee}else Q=ee;return this._then(Q,void 0,void 0,J,void 0)}}},{"./util":36}],6:[function(b,T,P){"use strict";T.exports=function(E,F,G,V){var B=b("./util"),K=B.tryCatch,U=B.errorObj,ee=E._async;E.prototype.break=E.prototype.cancel=function(){if(!V.cancellation())return this._warn("cancellation is disabled");for(var ie=this,J=ie;ie._isCancellable();){if(!ie._cancelBy(J)){J._isFollowing()?J._followee().cancel():J._cancelBranched();break}var Q=ie._cancellationParent;if(null==Q||!Q._isCancellable()){ie._isFollowing()?ie._followee().cancel():ie._cancelBranched();break}ie._isFollowing()&&ie._followee().cancel(),ie._setWillBeCancelled(),J=ie,ie=Q}},E.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},E.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},E.prototype._cancelBy=function(ie){return ie===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},E.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},E.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),ee.invoke(this._cancelPromises,this,void 0))},E.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},E.prototype._unsetOnCancel=function(){this._onCancelField=void 0},E.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},E.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},E.prototype._doInvokeOnCancel=function(ie,J){if(B.isArray(ie))for(var Q=0;Q<ie.length;++Q)this._doInvokeOnCancel(ie[Q],J);else if(void 0!==ie)if("function"==typeof ie){if(!J){var oe=K(ie).call(this._boundValue());oe===U&&(this._attachExtraTrace(oe.e),ee.throwLater(oe.e))}}else ie._resultCancelled(this)},E.prototype._invokeOnCancel=function(){var ie=this._onCancel();this._unsetOnCancel(),ee.invoke(this._doInvokeOnCancel,this,ie)},E.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},E.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(b,T,P){"use strict";T.exports=function(E){var F=b("./util"),G=b("./es5").keys,V=F.tryCatch,B=F.errorObj;return function(K,U,ee){return function(ie){var J=ee._boundValue();e:for(var Q=0;Q<K.length;++Q){var oe=K[Q];if(oe===Error||null!=oe&&oe.prototype instanceof Error){if(ie instanceof oe)return V(U).call(J,ie)}else if("function"==typeof oe){var ce=V(oe).call(J,ie);if(ce===B)return ce;if(ce)return V(U).call(J,ie)}else if(F.isObject(ie)){for(var ge=G(oe),_e=0;_e<ge.length;++_e){var we=ge[_e];if(oe[we]!=ie[we])continue e}return V(U).call(J,ie)}}return E}}}},{"./es5":13,"./util":36}],8:[function(b,T,P){"use strict";T.exports=function(E){var F=!1,G=[];function V(){this._trace=new V.CapturedTrace(B())}function B(){var K=G.length-1;if(K>=0)return G[K]}return E.prototype._promiseCreated=function(){},E.prototype._pushContext=function(){},E.prototype._popContext=function(){return null},E._peekContext=E.prototype._peekContext=function(){},V.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,G.push(this._trace))},V.prototype._popContext=function(){if(void 0!==this._trace){var K=G.pop(),U=K._promiseCreated;return K._promiseCreated=null,U}return null},V.CapturedTrace=null,V.create=function(){if(F)return new V},V.deactivateLongStackTraces=function(){},V.activateLongStackTraces=function(){var K=E.prototype._pushContext,U=E.prototype._popContext,ee=E._peekContext,ie=E.prototype._peekContext,J=E.prototype._promiseCreated;V.deactivateLongStackTraces=function(){E.prototype._pushContext=K,E.prototype._popContext=U,E._peekContext=ee,E.prototype._peekContext=ie,E.prototype._promiseCreated=J,F=!1},F=!0,E.prototype._pushContext=V.prototype._pushContext,E.prototype._popContext=V.prototype._popContext,E._peekContext=E.prototype._peekContext=B,E.prototype._promiseCreated=function(){var Q=this._peekContext();Q&&null==Q._promiseCreated&&(Q._promiseCreated=this)}},V}},{}],9:[function(b,T,P){"use strict";T.exports=function(E,F){var G,V,B,K=E._getDomain,U=E._async,ee=b("./errors").Warning,ie=b("./util"),J=b("./es5"),Q=ie.canAttachTrace,oe=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,ce=/\((?:timers\.js):\d+:\d+\)/,ge=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,_e=null,we=null,Pe=!1,Me=0!=ie.env("BLUEBIRD_DEBUG"),Oe=!(0==ie.env("BLUEBIRD_WARNINGS")||!Me&&!ie.env("BLUEBIRD_WARNINGS")),Be=!(0==ie.env("BLUEBIRD_LONG_STACK_TRACES")||!Me&&!ie.env("BLUEBIRD_LONG_STACK_TRACES")),je=0!=ie.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Oe||!!ie.env("BLUEBIRD_W_FORGOTTEN_RETURN"));E.prototype.suppressUnhandledRejections=function(){var Le=this._target();Le._bitField=-1048577&Le._bitField|524288},E.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var Le=this;setTimeout(function(){Le._notifyUnhandledRejection()},1)}},E.prototype._notifyUnhandledRejectionIsHandled=function(){le("rejectionHandled",G,void 0,this)},E.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},E.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},E.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Le=this._settledValue();this._setUnhandledRejectionIsNotified(),le("unhandledRejection",V,Le,this)}},E.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},E.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},E.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},E.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},E.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},E.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},E.prototype._warn=function(Le,it,Ot){return Jt(Le,it,Ot||this)},E.onPossiblyUnhandledRejection=function(Le){var it=K();V="function"==typeof Le?null===it?Le:ie.domainBind(it,Le):void 0},E.onUnhandledRejectionHandled=function(Le){var it=K();G="function"==typeof Le?null===it?Le:ie.domainBind(it,Le):void 0};var nt=function(){};E.longStackTraces=function(){if(U.haveItemsQueued()&&!Ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Ie.longStackTraces&&mo()){var Le=E.prototype._captureStackTrace,it=E.prototype._attachExtraTrace,Ot=E.prototype._dereferenceTrace;Ie.longStackTraces=!0,nt=function(){if(U.haveItemsQueued()&&!Ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");E.prototype._captureStackTrace=Le,E.prototype._attachExtraTrace=it,E.prototype._dereferenceTrace=Ot,F.deactivateLongStackTraces(),U.enableTrampoline(),Ie.longStackTraces=!1},E.prototype._captureStackTrace=yi,E.prototype._attachExtraTrace=Ci,E.prototype._dereferenceTrace=rt,F.activateLongStackTraces(),U.disableTrampolineIfNecessary()}},E.hasLongStackTraces=function(){return Ie.longStackTraces&&mo()};var We=function(){try{if("function"==typeof CustomEvent){var Le=new CustomEvent("CustomEvent");return ie.global.dispatchEvent(Le),function(it,Ot){var ot={detail:Ot,cancelable:!0};J.defineProperty(ot,"promise",{value:Ot.promise}),J.defineProperty(ot,"reason",{value:Ot.reason});var on=new CustomEvent(it.toLowerCase(),ot);return!ie.global.dispatchEvent(on)}}return"function"==typeof Event?(Le=new Event("CustomEvent"),ie.global.dispatchEvent(Le),function(it,Ot){var ot=new Event(it.toLowerCase(),{cancelable:!0});return ot.detail=Ot,J.defineProperty(ot,"promise",{value:Ot.promise}),J.defineProperty(ot,"reason",{value:Ot.reason}),!ie.global.dispatchEvent(ot)}):((Le=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),ie.global.dispatchEvent(Le),function(it,Ot){var ot=document.createEvent("CustomEvent");return ot.initCustomEvent(it.toLowerCase(),!1,!0,Ot),!ie.global.dispatchEvent(ot)})}catch(it){}return function(){return!1}}(),ze=ie.isNode?function(){return I.emit.apply(I,arguments)}:ie.global?function(Le){var it="on"+Le.toLowerCase(),Ot=ie.global[it];return!!Ot&&(Ot.apply(ie.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function ft(Le,it){return{promise:it}}var Ct={promiseCreated:ft,promiseFulfilled:ft,promiseRejected:ft,promiseResolved:ft,promiseCancelled:ft,promiseChained:function(Le,it,Ot){return{promise:it,child:Ot}},warning:function(Le,it){return{warning:it}},unhandledRejection:function(Le,it,Ot){return{reason:it,promise:Ot}},rejectionHandled:ft},ke=function(Le){var it=!1;try{it=ze.apply(null,arguments)}catch(ot){U.throwLater(ot),it=!0}var Ot=!1;try{Ot=We(Le,Ct[Le].apply(null,arguments))}catch(ot){U.throwLater(ot),Ot=!0}return Ot||it};function It(){return!1}function jn(Le,it,Ot){var ot=this;try{Le(it,Ot,function(on){if("function"!=typeof on)throw new TypeError("onCancel must be a function, got: "+ie.toString(on));ot._attachCancellationCallback(on)})}catch(on){return on}}function vt(Le){if(!this._isCancellable())return this;var it=this._onCancel();void 0!==it?ie.isArray(it)?it.push(Le):this._setOnCancel([it,Le]):this._setOnCancel(Le)}function Ne(){return this._onCancelField}function $e(Le){this._onCancelField=Le}function et(){this._cancellationParent=void 0,this._onCancelField=void 0}function bt(Le,it){if(0!=(1&it)){this._cancellationParent=Le;var Ot=Le._branchesRemainingToCancel;void 0===Ot&&(Ot=0),Le._branchesRemainingToCancel=Ot+1}0!=(2&it)&&Le._isBound()&&this._setBoundTo(Le._boundTo)}E.config=function(Le){if("longStackTraces"in(Le=Object(Le))&&(Le.longStackTraces?E.longStackTraces():!Le.longStackTraces&&E.hasLongStackTraces()&&nt()),"warnings"in Le){var it=Le.warnings;Ie.warnings=!!it,je=Ie.warnings,ie.isObject(it)&&"wForgottenReturn"in it&&(je=!!it.wForgottenReturn)}if("cancellation"in Le&&Le.cancellation&&!Ie.cancellation){if(U.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");E.prototype._clearCancellationData=et,E.prototype._propagateFrom=bt,E.prototype._onCancel=Ne,E.prototype._setOnCancel=$e,E.prototype._attachCancellationCallback=vt,E.prototype._execute=jn,jt=bt,Ie.cancellation=!0}return"monitoring"in Le&&(Le.monitoring&&!Ie.monitoring?(Ie.monitoring=!0,E.prototype._fireEvent=ke):!Le.monitoring&&Ie.monitoring&&(Ie.monitoring=!1,E.prototype._fireEvent=It)),E},E.prototype._fireEvent=It,E.prototype._execute=function(Le,it,Ot){try{Le(it,Ot)}catch(ot){return ot}},E.prototype._onCancel=function(){},E.prototype._setOnCancel=function(Le){},E.prototype._attachCancellationCallback=function(Le){},E.prototype._captureStackTrace=function(){},E.prototype._attachExtraTrace=function(){},E.prototype._dereferenceTrace=function(){},E.prototype._clearCancellationData=function(){},E.prototype._propagateFrom=function(Le,it){};var jt=function(Le,it){0!=(2&it)&&Le._isBound()&&this._setBoundTo(Le._boundTo)};function Zt(){var Le=this._boundTo;return void 0!==Le&&Le instanceof E?Le.isFulfilled()?Le.value():void 0:Le}function yi(){this._trace=new _o(this._peekContext())}function Ci(Le,it){if(Q(Le)){var Ot=this._trace;if(void 0!==Ot&&it&&(Ot=Ot._parent),void 0!==Ot)Ot.attachExtraTrace(Le);else if(!Le.__stackCleaned__){var ot=Yt(Le);ie.notEnumerableProp(Le,"stack",ot.message+"\n"+ot.stack.join("\n")),ie.notEnumerableProp(Le,"__stackCleaned__",!0)}}}function rt(){this._trace=void 0}function Jt(Le,it,Ot){if(Ie.warnings){var ot,on=new ee(Le);if(it)Ot._attachExtraTrace(on);else if(Ie.longStackTraces&&(ot=E._peekContext()))ot.attachExtraTrace(on);else{var Qt=Yt(on);on.stack=Qt.message+"\n"+Qt.stack.join("\n")}ke("warning",on)||at(on,"",!0)}}function Xe(Le){for(var it=[],Ot=0;Ot<Le.length;++Ot){var ot=Le[Ot],on="    (No stack trace)"===ot||_e.test(ot),Qt=on&&Jn(ot);on&&!Qt&&(Pe&&" "!==ot.charAt(0)&&(ot="    "+ot),it.push(ot))}return it}function Yt(Le){var it=Le.stack,Ot=Le.toString();return it="string"==typeof it&&it.length>0?function(ot){for(var on=ot.stack.replace(/\s+$/g,"").split("\n"),Qt=0;Qt<on.length;++Qt){var xt=on[Qt];if("    (No stack trace)"===xt||_e.test(xt))break}return Qt>0&&"SyntaxError"!=ot.name&&(on=on.slice(Qt)),on}(Le):["    (No stack trace)"],{message:Ot,stack:"SyntaxError"==Le.name?it:Xe(it)}}function at(Le,it,Ot){var ot;"undefined"!=typeof console&&(ot=ie.isObject(Le)?it+we(Le.stack,Le):it+String(Le),"function"==typeof B?B(ot,Ot):"function"!=typeof console.log&&"object"!==y(console.log)||console.log(ot))}function le(Le,it,Ot,ot){var on=!1;try{"function"==typeof it&&(on=!0,"rejectionHandled"===Le?it(ot):it(Ot,ot))}catch(Qt){U.throwLater(Qt)}"unhandledRejection"===Le?ke(Le,Ot,ot)||on||at(Ot,"Unhandled rejection "):ke(Le,ot)}function fn(Le){var it,Ot;if("function"==typeof Le)it="[function "+(Le.name||"anonymous")+"]";else{if(it=Le&&"function"==typeof Le.toString?Le.toString():ie.toString(Le),/\[object [a-zA-Z0-9$_]+\]/.test(it))try{it=JSON.stringify(Le)}catch(Ot){}0===it.length&&(it="(empty array)")}return"(<"+((Ot=it).length<41?Ot:Ot.substr(0,38)+"...")+">, no stack trace)"}function mo(){return"function"==typeof Zo}var Jn=function(){return!1},eo=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Ws(Le){var it=Le.match(eo);if(it)return{fileName:it[1],line:parseInt(it[2],10)}}function _o(Le){this._parent=Le,this._promisesCreated=0;var it=this._length=1+(void 0===Le?0:Le._length);Zo(this,_o),it>32&&this.uncycle()}ie.inherits(_o,Error),F.CapturedTrace=_o,_o.prototype.uncycle=function(){var Le=this._length;if(!(Le<2)){for(var it=[],Ot={},ot=0,on=this;void 0!==on;++ot)it.push(on),on=on._parent;for(ot=(Le=this._length=ot)-1;ot>=0;--ot){var Qt=it[ot].stack;void 0===Ot[Qt]&&(Ot[Qt]=ot)}for(ot=0;ot<Le;++ot){var xt=Ot[it[ot].stack];if(void 0!==xt&&xt!==ot){xt>0&&(it[xt-1]._parent=void 0,it[xt-1]._length=1),it[ot]._parent=void 0,it[ot]._length=1;var In=ot>0?it[ot-1]:this;xt<Le-1?(In._parent=it[xt+1],In._parent.uncycle(),In._length=In._parent._length+1):(In._parent=void 0,In._length=1);for(var ki=In._length+1,ci=ot-2;ci>=0;--ci)it[ci]._length=ki,ki++;return}}}},_o.prototype.attachExtraTrace=function(Le){if(!Le.__stackCleaned__){this.uncycle();for(var it=Yt(Le),Ot=it.message,ot=[it.stack],on=this;void 0!==on;)ot.push(Xe(on.stack.split("\n"))),on=on._parent;(function(Qt){for(var xt=Qt[0],In=1;In<Qt.length;++In){for(var ki=Qt[In],ci=xt.length-1,ws=xt[ci],jr=-1,si=ki.length-1;si>=0;--si)if(ki[si]===ws){jr=si;break}for(si=jr;si>=0&&xt[ci]===ki[si];--si)xt.pop(),ci--;xt=ki}})(ot),function(Qt){for(var xt=0;xt<Qt.length;++xt)(0===Qt[xt].length||xt+1<Qt.length&&Qt[xt][0]===Qt[xt+1][0])&&(Qt.splice(xt,1),xt--)}(ot),ie.notEnumerableProp(Le,"stack",function(Qt,xt){for(var In=0;In<xt.length-1;++In)xt[In].push("From previous event:"),xt[In]=xt[In].join("\n");return In<xt.length&&(xt[In]=xt[In].join("\n")),Qt+"\n"+xt.join("\n")}(Ot,ot)),ie.notEnumerableProp(Le,"__stackCleaned__",!0)}};var Zo=function(){var Le=/^\s*at\s*/,it=function(Qt,xt){return"string"==typeof Qt?Qt:void 0!==xt.name&&void 0!==xt.message?xt.toString():fn(xt)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,_e=Le,we=it;var Ot=Error.captureStackTrace;return Jn=function(Qt){return oe.test(Qt)},function(Qt,xt){Error.stackTraceLimit+=6,Ot(Qt,xt),Error.stackTraceLimit-=6}}var ot,on=new Error;if("string"==typeof on.stack&&on.stack.split("\n")[0].indexOf("stackDetection@")>=0)return _e=/@/,we=it,Pe=!0,function(Qt){Qt.stack=(new Error).stack};try{throw new Error}catch(Qt){ot="stack"in Qt}return"stack"in on||!ot||"number"!=typeof Error.stackTraceLimit?(we=function(Qt,xt){return"string"==typeof Qt?Qt:"object"!==y(xt)&&"function"!=typeof xt||void 0===xt.name||void 0===xt.message?fn(xt):xt.toString()},null):(_e=Le,we=it,function(Qt){Error.stackTraceLimit+=6;try{throw new Error}catch(xt){Qt.stack=xt.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(B=function(Le){console.warn(Le)},ie.isNode&&I.stderr.isTTY?B=function(Le,it){console.warn((it?"\x1b[33m":"\x1b[31m")+Le+"\x1b[0m\n")}:ie.isNode||"string"!=typeof(new Error).stack||(B=function(Le,it){console.warn("%c"+Le,it?"color: darkorange":"color: red")}));var Ie={warnings:Oe,longStackTraces:!1,cancellation:!1,monitoring:!1};return Be&&E.longStackTraces(),{longStackTraces:function(){return Ie.longStackTraces},warnings:function(){return Ie.warnings},cancellation:function(){return Ie.cancellation},monitoring:function(){return Ie.monitoring},propagateFromFunction:function(){return jt},boundValueFunction:function(){return Zt},checkForgottenReturns:function(Le,it,Ot,ot,on){if(void 0===Le&&null!==it&&je){if(void 0!==on&&on._returnedNonUndefined()||0==(65535&ot._bitField))return;Ot&&(Ot+=" ");var Qt="",xt="";if(it._trace){for(var In=it._trace.stack.split("\n"),ki=Xe(In),ci=ki.length-1;ci>=0;--ci){var ws=ki[ci];if(!ce.test(ws)){var jr=ws.match(ge);jr&&(Qt="at "+jr[1]+":"+jr[2]+":"+jr[3]+" ");break}}if(ki.length>0){var si=ki[0];for(ci=0;ci<In.length;++ci)if(In[ci]===si){ci>0&&(xt="\n"+In[ci-1]);break}}}ot._warn("a promise was created in a "+Ot+"handler "+Qt+"but was not returned from it, see http://goo.gl/rRqMUw"+xt,!0,it)}},setBounds:function(Le,it){if(mo()){for(var Ot,ot,on=Le.stack.split("\n"),Qt=it.stack.split("\n"),xt=-1,In=-1,ki=0;ki<on.length;++ki)if(ci=Ws(on[ki])){Ot=ci.fileName,xt=ci.line;break}for(ki=0;ki<Qt.length;++ki){var ci;if(ci=Ws(Qt[ki])){ot=ci.fileName,In=ci.line;break}}xt<0||In<0||!Ot||!ot||Ot!==ot||xt>=In||(Jn=function(ws){if(oe.test(ws))return!0;var jr=Ws(ws);return!!(jr&&jr.fileName===Ot&&xt<=jr.line&&jr.line<=In)})}},warn:Jt,deprecated:function(Le,it){var Ot=Le+" is deprecated and will be removed in a future version.";return it&&(Ot+=" Use "+it+" instead."),Jt(Ot)},CapturedTrace:_o,fireDomEvent:We,fireGlobalEvent:ze}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(b,T,P){"use strict";T.exports=function(E){function F(){return this.value}function G(){throw this.reason}E.prototype.return=E.prototype.thenReturn=function(V){return V instanceof E&&V.suppressUnhandledRejections(),this._then(F,void 0,void 0,{value:V},void 0)},E.prototype.throw=E.prototype.thenThrow=function(V){return this._then(G,void 0,void 0,{reason:V},void 0)},E.prototype.catchThrow=function(V){if(arguments.length<=1)return this._then(void 0,G,void 0,{reason:V},void 0);var B=arguments[1];return this.caught(V,function(){throw B})},E.prototype.catchReturn=function(V){if(arguments.length<=1)return V instanceof E&&V.suppressUnhandledRejections(),this._then(void 0,F,void 0,{value:V},void 0);var B=arguments[1];return B instanceof E&&B.suppressUnhandledRejections(),this.caught(V,function(){return B})}}},{}],11:[function(b,T,P){"use strict";T.exports=function(E,F){var G=E.reduce,V=E.all;function B(){return V(this)}E.prototype.each=function(K){return G(this,K,F,0)._then(B,void 0,void 0,this,void 0)},E.prototype.mapSeries=function(K){return G(this,K,F,F)},E.each=function(K,U){return G(K,U,F,0)._then(B,void 0,void 0,K,void 0)},E.mapSeries=function(K,U){return G(K,U,F,F)}}},{}],12:[function(b,T,P){"use strict";var E,F,G=b("./es5"),V=G.freeze,B=b("./util"),K=B.inherits,U=B.notEnumerableProp;function ee(Me,Oe){function Be(je){if(!(this instanceof Be))return new Be(je);U(this,"message","string"==typeof je?je:Oe),U(this,"name",Me),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return K(Be,Error),Be}var ie=ee("Warning","warning"),J=ee("CancellationError","cancellation error"),Q=ee("TimeoutError","timeout error"),oe=ee("AggregateError","aggregate error");try{E=TypeError,F=RangeError}catch(Me){E=ee("TypeError","type error"),F=ee("RangeError","range error")}for(var ce="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),ge=0;ge<ce.length;++ge)"function"==typeof Array.prototype[ce[ge]]&&(oe.prototype[ce[ge]]=Array.prototype[ce[ge]]);G.defineProperty(oe.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),oe.prototype.isOperational=!0;var _e=0;function we(Me){if(!(this instanceof we))return new we(Me);U(this,"name","OperationalError"),U(this,"message",Me),this.cause=Me,this.isOperational=!0,Me instanceof Error?(U(this,"message",Me.message),U(this,"stack",Me.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}oe.prototype.toString=function(){var Me=Array(4*_e+1).join(" "),Oe="\n"+Me+"AggregateError of:\n";_e++,Me=Array(4*_e+1).join(" ");for(var Be=0;Be<this.length;++Be){for(var je=this[Be]===this?"[Circular AggregateError]":this[Be]+"",nt=je.split("\n"),We=0;We<nt.length;++We)nt[We]=Me+nt[We];Oe+=(je=nt.join("\n"))+"\n"}return _e--,Oe},K(we,Error);var Pe=Error.__BluebirdErrorTypes__;Pe||(Pe=V({CancellationError:J,TimeoutError:Q,OperationalError:we,RejectionError:we,AggregateError:oe}),G.defineProperty(Error,"__BluebirdErrorTypes__",{value:Pe,writable:!1,enumerable:!1,configurable:!1})),T.exports={Error,TypeError:E,RangeError:F,CancellationError:Pe.CancellationError,OperationalError:Pe.OperationalError,TimeoutError:Pe.TimeoutError,AggregateError:Pe.AggregateError,Warning:ie}},{"./es5":13,"./util":36}],13:[function(b,T,P){var E=function(){"use strict";return void 0===this}();if(E)T.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:E,propertyIsWritable:function(K,U){var ee=Object.getOwnPropertyDescriptor(K,U);return!(ee&&!ee.writable&&!ee.set)}};else{var F={}.hasOwnProperty,G={}.toString,V={}.constructor.prototype,B=function(K){var U=[];for(var ee in K)F.call(K,ee)&&U.push(ee);return U};T.exports={isArray:function(K){try{return"[object Array]"===G.call(K)}catch(U){return!1}},keys:B,names:B,defineProperty:function(K,U,ee){return K[U]=ee.value,K},getDescriptor:function(K,U){return{value:K[U]}},freeze:function(K){return K},getPrototypeOf:function(K){try{return Object(K).constructor.prototype}catch(U){return V}},isES5:E,propertyIsWritable:function(){return!0}}}},{}],14:[function(b,T,P){"use strict";T.exports=function(E,F){var G=E.map;E.prototype.filter=function(V,B){return G(this,V,B,F)},E.filter=function(V,B,K){return G(V,B,K,F)}}},{}],15:[function(b,T,P){"use strict";T.exports=function(E,F,G){var V=b("./util"),B=E.CancellationError,K=V.errorObj,U=b("./catch_filter")(G);function ee(ge,_e,we){this.promise=ge,this.type=_e,this.handler=we,this.called=!1,this.cancelPromise=null}function ie(ge){this.finallyHandler=ge}function J(ge,_e){return null!=ge.cancelPromise&&(arguments.length>1?ge.cancelPromise._reject(_e):ge.cancelPromise._cancel(),ge.cancelPromise=null,!0)}function Q(){return ce.call(this,this.promise._target()._settledValue())}function oe(ge){if(!J(this,ge))return K.e=ge,K}function ce(ge){var _e=this.promise,we=this.handler;if(!this.called){this.called=!0;var Pe=this.isFinallyHandler()?we.call(_e._boundValue()):we.call(_e._boundValue(),ge);if(Pe===G)return Pe;if(void 0!==Pe){_e._setReturnedNonUndefined();var Me=F(Pe,_e);if(Me instanceof E){if(null!=this.cancelPromise){if(Me._isCancelled()){var Oe=new B("late cancellation observer");return _e._attachExtraTrace(Oe),K.e=Oe,K}Me.isPending()&&Me._attachCancellationCallback(new ie(this))}return Me._then(Q,oe,void 0,this,void 0)}}}return _e.isRejected()?(J(this),K.e=ge,K):(J(this),ge)}return ee.prototype.isFinallyHandler=function(){return 0===this.type},ie.prototype._resultCancelled=function(){J(this.finallyHandler)},E.prototype._passThrough=function(ge,_e,we,Pe){return"function"!=typeof ge?this.then():this._then(we,Pe,void 0,new ee(this,_e,ge),void 0)},E.prototype.lastly=E.prototype.finally=function(ge){return this._passThrough(ge,0,ce,ce)},E.prototype.tap=function(ge){return this._passThrough(ge,1,ce)},E.prototype.tapCatch=function(ge){var _e=arguments.length;if(1===_e)return this._passThrough(ge,1,void 0,ce);var we,Pe=new Array(_e-1),Me=0;for(we=0;we<_e-1;++we){var Oe=arguments[we];if(!V.isObject(Oe))return E.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+V.classString(Oe)));Pe[Me++]=Oe}return Pe.length=Me,this._passThrough(U(Pe,arguments[we],this),1,void 0,ce)},ee}},{"./catch_filter":7,"./util":36}],16:[function(b,T,P){"use strict";T.exports=function(E,F,G,V,B,K){var U=b("./errors").TypeError,ee=b("./util"),ie=ee.errorObj,J=ee.tryCatch,Q=[];function oe(ce,ge,_e,we){if(K.cancellation()){var Pe=new E(G),Me=this._finallyPromise=new E(G);this._promise=Pe.lastly(function(){return Me}),Pe._captureStackTrace(),Pe._setOnCancel(this)}else(this._promise=new E(G))._captureStackTrace();this._stack=we,this._generatorFunction=ce,this._receiver=ge,this._generator=void 0,this._yieldHandlers="function"==typeof _e?[_e].concat(Q):Q,this._yieldedPromise=null,this._cancellationPhase=!1}ee.inherits(oe,B),oe.prototype._isResolved=function(){return null===this._promise},oe.prototype._cleanup=function(){this._promise=this._generator=null,K.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},oe.prototype._promiseCancelled=function(){if(!this._isResolved()){var ce;if(void 0!==this._generator.return)this._promise._pushContext(),ce=J(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var ge=new E.CancellationError("generator .return() sentinel");E.coroutine.returnSentinel=ge,this._promise._attachExtraTrace(ge),this._promise._pushContext(),ce=J(this._generator.throw).call(this._generator,ge),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(ce)}},oe.prototype._promiseFulfilled=function(ce){this._yieldedPromise=null,this._promise._pushContext();var ge=J(this._generator.next).call(this._generator,ce);this._promise._popContext(),this._continue(ge)},oe.prototype._promiseRejected=function(ce){this._yieldedPromise=null,this._promise._attachExtraTrace(ce),this._promise._pushContext();var ge=J(this._generator.throw).call(this._generator,ce);this._promise._popContext(),this._continue(ge)},oe.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof E){var ce=this._yieldedPromise;this._yieldedPromise=null,ce.cancel()}},oe.prototype.promise=function(){return this._promise},oe.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},oe.prototype._continue=function(ce){var ge=this._promise;if(ce===ie)return this._cleanup(),this._cancellationPhase?ge.cancel():ge._rejectCallback(ce.e,!1);var _e=ce.value;if(!0===ce.done)return this._cleanup(),this._cancellationPhase?ge.cancel():ge._resolveCallback(_e);var we=V(_e,this._promise);if(we instanceof E||null!==(we=function(Me,Oe,Be){for(var je=0;je<Oe.length;++je){Be._pushContext();var nt=J(Oe[je])(Me);if(Be._popContext(),nt===ie){Be._pushContext();var We=E.reject(ie.e);return Be._popContext(),We}var ze=V(nt,Be);if(ze instanceof E)return ze}return null}(we,this._yieldHandlers,this._promise))){var Pe=(we=we._target())._bitField;0==(50397184&Pe)?(this._yieldedPromise=we,we._proxy(this,null)):0!=(33554432&Pe)?E._async.invoke(this._promiseFulfilled,this,we._value()):0!=(16777216&Pe)?E._async.invoke(this._promiseRejected,this,we._reason()):this._promiseCancelled()}else this._promiseRejected(new U("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(_e))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},E.coroutine=function(ce,ge){if("function"!=typeof ce)throw new U("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var _e=Object(ge).yieldHandler,we=oe,Pe=(new Error).stack;return function(){var Me=ce.apply(this,arguments),Oe=new we(void 0,void 0,_e,Pe),Be=Oe.promise();return Oe._generator=Me,Oe._promiseFulfilled(void 0),Be}},E.coroutine.addYieldHandler=function(ce){if("function"!=typeof ce)throw new U("expecting a function but got "+ee.classString(ce));Q.push(ce)},E.spawn=function(ce){if(K.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof ce)return F("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var ge=new oe(ce,this),_e=ge.promise();return ge._run(E.spawn),_e}}},{"./errors":12,"./util":36}],17:[function(b,T,P){"use strict";T.exports=function(E,F,G,V,B,K){b("./util"),E.join=function(){var ee,ie=arguments.length-1;ie>0&&"function"==typeof arguments[ie]&&(ee=arguments[ie]);var J=[].slice.call(arguments);ee&&J.pop();var Q=new F(J).promise();return void 0!==ee?Q.spread(ee):Q}}},{"./util":36}],18:[function(b,T,P){"use strict";T.exports=function(E,F,G,V,B,K){var U=E._getDomain,ee=b("./util"),ie=ee.tryCatch,J=ee.errorObj,Q=E._async;function oe(ge,_e,we,Pe){this.constructor$(ge),this._promise._captureStackTrace();var Me=U();this._callback=null===Me?_e:ee.domainBind(Me,_e),this._preservedValues=Pe===B?new Array(this.length()):null,this._limit=we,this._inFlight=0,this._queue=[],Q.invoke(this._asyncInit,this,void 0)}function ce(ge,_e,we,Pe){if("function"!=typeof _e)return G("expecting a function but got "+ee.classString(_e));var Me=0;if(void 0!==we){if("object"!==y(we)||null===we)return E.reject(new TypeError("options argument must be an object but it is "+ee.classString(we)));if("number"!=typeof we.concurrency)return E.reject(new TypeError("'concurrency' must be a number but it is "+ee.classString(we.concurrency)));Me=we.concurrency}return new oe(ge,_e,Me="number"==typeof Me&&isFinite(Me)&&Me>=1?Me:0,Pe).promise()}ee.inherits(oe,F),oe.prototype._asyncInit=function(){this._init$(void 0,-2)},oe.prototype._init=function(){},oe.prototype._promiseFulfilled=function(ge,_e){var we=this._values,Pe=this.length(),Me=this._preservedValues,Oe=this._limit;if(_e<0){if(we[_e=-1*_e-1]=ge,Oe>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(Oe>=1&&this._inFlight>=Oe)return we[_e]=ge,this._queue.push(_e),!1;null!==Me&&(Me[_e]=ge);var Be=this._promise,je=this._callback,nt=Be._boundValue();Be._pushContext();var We=ie(je).call(nt,ge,_e,Pe),ze=Be._popContext();if(K.checkForgottenReturns(We,ze,null!==Me?"Promise.filter":"Promise.map",Be),We===J)return this._reject(We.e),!0;var ft=V(We,this._promise);if(ft instanceof E){var Ct=(ft=ft._target())._bitField;if(0==(50397184&Ct))return Oe>=1&&this._inFlight++,we[_e]=ft,ft._proxy(this,-1*(_e+1)),!1;if(0==(33554432&Ct))return 0!=(16777216&Ct)?(this._reject(ft._reason()),!0):(this._cancel(),!0);We=ft._value()}we[_e]=We}return++this._totalResolved>=Pe&&(null!==Me?this._filter(we,Me):this._resolve(we),!0)},oe.prototype._drainQueue=function(){for(var ge=this._queue,_e=this._limit,we=this._values;ge.length>0&&this._inFlight<_e;){if(this._isResolved())return;var Pe=ge.pop();this._promiseFulfilled(we[Pe],Pe)}},oe.prototype._filter=function(ge,_e){for(var we=_e.length,Pe=new Array(we),Me=0,Oe=0;Oe<we;++Oe)ge[Oe]&&(Pe[Me++]=_e[Oe]);Pe.length=Me,this._resolve(Pe)},oe.prototype.preservedValues=function(){return this._preservedValues},E.prototype.map=function(ge,_e){return ce(this,ge,_e,null)},E.map=function(ge,_e,we,Pe){return ce(ge,_e,we,Pe)}}},{"./util":36}],19:[function(b,T,P){"use strict";T.exports=function(E,F,G,V,B){var K=b("./util"),U=K.tryCatch;E.method=function(ee){if("function"!=typeof ee)throw new E.TypeError("expecting a function but got "+K.classString(ee));return function(){var ie=new E(F);ie._captureStackTrace(),ie._pushContext();var J=U(ee).apply(this,arguments),Q=ie._popContext();return B.checkForgottenReturns(J,Q,"Promise.method",ie),ie._resolveFromSyncValue(J),ie}},E.attempt=E.try=function(ee){if("function"!=typeof ee)return V("expecting a function but got "+K.classString(ee));var ie,J=new E(F);if(J._captureStackTrace(),J._pushContext(),arguments.length>1){B.deprecated("calling Promise.try with more than 1 argument");var Q=arguments[1],oe=arguments[2];ie=K.isArray(Q)?U(ee).apply(oe,Q):U(ee).call(oe,Q)}else ie=U(ee)();var ce=J._popContext();return B.checkForgottenReturns(ie,ce,"Promise.try",J),J._resolveFromSyncValue(ie),J},E.prototype._resolveFromSyncValue=function(ee){ee===K.errorObj?this._rejectCallback(ee.e,!1):this._resolveCallback(ee,!0)}}},{"./util":36}],20:[function(b,T,P){"use strict";var E=b("./util"),F=E.maybeWrapAsError,G=b("./errors").OperationalError,V=b("./es5"),B=/^(?:name|message|stack|cause)$/;function K(U){var ee,oe;if((oe=U)instanceof Error&&V.getPrototypeOf(oe)===Error.prototype){(ee=new G(U)).name=U.name,ee.message=U.message,ee.stack=U.stack;for(var ie=V.keys(U),J=0;J<ie.length;++J){var Q=ie[J];B.test(Q)||(ee[Q]=U[Q])}return ee}return E.markAsOriginatingFromRejection(U),U}T.exports=function(U,ee){return function(ie,J){if(null!==U){if(ie){var Q=K(F(ie));U._attachExtraTrace(Q),U._reject(Q)}else if(ee){var oe=[].slice.call(arguments,1);U._fulfill(oe)}else U._fulfill(J);U=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(b,T,P){"use strict";T.exports=function(E){var F=b("./util"),G=E._async,V=F.tryCatch,B=F.errorObj;function K(ie,J){if(!F.isArray(ie))return U.call(this,ie,J);var Q=V(J).apply(this._boundValue(),[null].concat(ie));Q===B&&G.throwLater(Q.e)}function U(ie,J){var Q=this._boundValue(),oe=void 0===ie?V(J).call(Q,null):V(J).call(Q,null,ie);oe===B&&G.throwLater(oe.e)}function ee(ie,J){if(!ie){var Q=new Error(ie+"");Q.cause=ie,ie=Q}var oe=V(J).call(this._boundValue(),ie);oe===B&&G.throwLater(oe.e)}E.prototype.asCallback=E.prototype.nodeify=function(ie,J){if("function"==typeof ie){var Q=U;void 0!==J&&Object(J).spread&&(Q=K),this._then(Q,ee,void 0,this,ie)}return this}}},{"./util":36}],22:[function(b,T,P){"use strict";T.exports=function(){var E=function(){return new oe("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},F=function(){return new ke.PromiseInspection(this._target())},G=function(Ne){return ke.reject(new oe(Ne))};function V(){}var B,K={},U=b("./util");U.notEnumerableProp(ke,"_getDomain",B=U.isNode?function(){var Ne=I.domain;return void 0===Ne&&(Ne=null),Ne}:function(){return null});var ee=b("./es5"),ie=b("./async"),J=new ie;ee.defineProperty(ke,"_async",{value:J});var Q=b("./errors"),oe=ke.TypeError=Q.TypeError;ke.RangeError=Q.RangeError;var ce=ke.CancellationError=Q.CancellationError;ke.TimeoutError=Q.TimeoutError,ke.OperationalError=Q.OperationalError,ke.RejectionError=Q.OperationalError,ke.AggregateError=Q.AggregateError;var ge=function(){},_e={},we={},Pe=b("./thenables")(ke,ge),Me=b("./promise_array")(ke,ge,Pe,G,V),Oe=b("./context")(ke),Be=Oe.create,je=b("./debuggability")(ke,Oe),nt=b("./finally")(ke,Pe,we),We=b("./catch_filter")(we),ze=b("./nodeback"),ft=U.errorObj,Ct=U.tryCatch;function ke(Ne){Ne!==ge&&function($e,et){if(null==$e||$e.constructor!==ke)throw new oe("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof et)throw new oe("expecting a function but got "+U.classString(et))}(this,Ne),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(Ne),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function It(Ne){this.promise._resolveCallback(Ne)}function jn(Ne){this.promise._rejectCallback(Ne,!1)}function vt(Ne){var $e=new ke(ge);$e._fulfillmentHandler0=Ne,$e._rejectionHandler0=Ne,$e._promise0=Ne,$e._receiver0=Ne}return ke.prototype.toString=function(){return"[object Promise]"},ke.prototype.caught=ke.prototype.catch=function(Ne){var $e=arguments.length;if($e>1){var et,bt=new Array($e-1),jt=0;for(et=0;et<$e-1;++et){var Zt=arguments[et];if(!U.isObject(Zt))return G("Catch statement predicate: expecting an object but got "+U.classString(Zt));bt[jt++]=Zt}return bt.length=jt,this.then(void 0,We(bt,Ne=arguments[et],this))}return this.then(void 0,Ne)},ke.prototype.reflect=function(){return this._then(F,F,void 0,this,void 0)},ke.prototype.then=function(Ne,$e){if(je.warnings()&&arguments.length>0&&"function"!=typeof Ne&&"function"!=typeof $e){var et=".then() only accepts functions but was passed: "+U.classString(Ne);arguments.length>1&&(et+=", "+U.classString($e)),this._warn(et)}return this._then(Ne,$e,void 0,void 0,void 0)},ke.prototype.done=function(Ne,$e){this._then(Ne,$e,void 0,void 0,void 0)._setIsFinal()},ke.prototype.spread=function(Ne){return"function"!=typeof Ne?G("expecting a function but got "+U.classString(Ne)):this.all()._then(Ne,void 0,void 0,_e,void 0)},ke.prototype.toJSON=function(){var Ne={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(Ne.fulfillmentValue=this.value(),Ne.isFulfilled=!0):this.isRejected()&&(Ne.rejectionReason=this.reason(),Ne.isRejected=!0),Ne},ke.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new Me(this).promise()},ke.prototype.error=function(Ne){return this.caught(U.originatesFromRejection,Ne)},ke.getNewLibraryCopy=T.exports,ke.is=function(Ne){return Ne instanceof ke},ke.fromNode=ke.fromCallback=function(Ne){var $e=new ke(ge);$e._captureStackTrace();var et=arguments.length>1&&!!Object(arguments[1]).multiArgs,bt=Ct(Ne)(ze($e,et));return bt===ft&&$e._rejectCallback(bt.e,!0),$e._isFateSealed()||$e._setAsyncGuaranteed(),$e},ke.all=function(Ne){return new Me(Ne).promise()},ke.cast=function(Ne){var $e=Pe(Ne);return $e instanceof ke||(($e=new ke(ge))._captureStackTrace(),$e._setFulfilled(),$e._rejectionHandler0=Ne),$e},ke.resolve=ke.fulfilled=ke.cast,ke.reject=ke.rejected=function(Ne){var $e=new ke(ge);return $e._captureStackTrace(),$e._rejectCallback(Ne,!0),$e},ke.setScheduler=function(Ne){if("function"!=typeof Ne)throw new oe("expecting a function but got "+U.classString(Ne));return J.setScheduler(Ne)},ke.prototype._then=function(Ne,$e,et,bt,jt){var Zt=void 0!==jt,yi=Zt?jt:new ke(ge),Ci=this._target(),rt=Ci._bitField;Zt||(yi._propagateFrom(this,3),yi._captureStackTrace(),void 0===bt&&0!=(2097152&this._bitField)&&(bt=0!=(50397184&rt)?this._boundValue():Ci===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,yi));var Jt=B();if(0!=(50397184&rt)){var Xe,Yt,at=Ci._settlePromiseCtx;0!=(33554432&rt)?(Yt=Ci._rejectionHandler0,Xe=Ne):0!=(16777216&rt)?(Yt=Ci._fulfillmentHandler0,Xe=$e,Ci._unsetRejectionIsUnhandled()):(at=Ci._settlePromiseLateCancellationObserver,Yt=new ce("late cancellation observer"),Ci._attachExtraTrace(Yt),Xe=$e),J.invoke(at,Ci,{handler:null===Jt?Xe:"function"==typeof Xe&&U.domainBind(Jt,Xe),promise:yi,receiver:bt,value:Yt})}else Ci._addCallbacks(Ne,$e,yi,bt,Jt);return yi},ke.prototype._length=function(){return 65535&this._bitField},ke.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},ke.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},ke.prototype._setLength=function(Ne){this._bitField=-65536&this._bitField|65535&Ne},ke.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},ke.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},ke.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},ke.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},ke.prototype._isFinal=function(){return(4194304&this._bitField)>0},ke.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},ke.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},ke.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},ke.prototype._setAsyncGuaranteed=function(){J.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},ke.prototype._receiverAt=function(Ne){var $e=0===Ne?this._receiver0:this[4*Ne-4+3];if($e!==K)return void 0===$e&&this._isBound()?this._boundValue():$e},ke.prototype._promiseAt=function(Ne){return this[4*Ne-4+2]},ke.prototype._fulfillmentHandlerAt=function(Ne){return this[4*Ne-4+0]},ke.prototype._rejectionHandlerAt=function(Ne){return this[4*Ne-4+1]},ke.prototype._boundValue=function(){},ke.prototype._migrateCallback0=function(Ne){var $e=Ne._fulfillmentHandler0,et=Ne._rejectionHandler0,bt=Ne._promise0,jt=Ne._receiverAt(0);void 0===jt&&(jt=K),this._addCallbacks($e,et,bt,jt,null)},ke.prototype._migrateCallbackAt=function(Ne,$e){var et=Ne._fulfillmentHandlerAt($e),bt=Ne._rejectionHandlerAt($e),jt=Ne._promiseAt($e),Zt=Ne._receiverAt($e);void 0===Zt&&(Zt=K),this._addCallbacks(et,bt,jt,Zt,null)},ke.prototype._addCallbacks=function(Ne,$e,et,bt,jt){var Zt=this._length();if(Zt>=65531&&(Zt=0,this._setLength(0)),0===Zt)this._promise0=et,this._receiver0=bt,"function"==typeof Ne&&(this._fulfillmentHandler0=null===jt?Ne:U.domainBind(jt,Ne)),"function"==typeof $e&&(this._rejectionHandler0=null===jt?$e:U.domainBind(jt,$e));else{var yi=4*Zt-4;this[yi+2]=et,this[yi+3]=bt,"function"==typeof Ne&&(this[yi+0]=null===jt?Ne:U.domainBind(jt,Ne)),"function"==typeof $e&&(this[yi+1]=null===jt?$e:U.domainBind(jt,$e))}return this._setLength(Zt+1),Zt},ke.prototype._proxy=function(Ne,$e){this._addCallbacks(void 0,void 0,$e,Ne,null)},ke.prototype._resolveCallback=function(Ne,$e){if(0==(117506048&this._bitField)){if(Ne===this)return this._rejectCallback(E(),!1);var et=Pe(Ne,this);if(!(et instanceof ke))return this._fulfill(Ne);$e&&this._propagateFrom(et,2);var bt=et._target();if(bt!==this){var jt=bt._bitField;if(0==(50397184&jt)){var Zt=this._length();Zt>0&&bt._migrateCallback0(this);for(var yi=1;yi<Zt;++yi)bt._migrateCallbackAt(this,yi);this._setFollowing(),this._setLength(0),this._setFollowee(bt)}else if(0!=(33554432&jt))this._fulfill(bt._value());else if(0!=(16777216&jt))this._reject(bt._reason());else{var Ci=new ce("late cancellation observer");bt._attachExtraTrace(Ci),this._reject(Ci)}}else this._reject(E())}},ke.prototype._rejectCallback=function(Ne,$e,et){var bt=U.ensureErrorObject(Ne),jt=bt===Ne;if(!jt&&!et&&je.warnings()){var Zt="a promise was rejected with a non-error: "+U.classString(Ne);this._warn(Zt,!0)}this._attachExtraTrace(bt,!!$e&&jt),this._reject(Ne)},ke.prototype._resolveFromExecutor=function(Ne){if(Ne!==ge){var $e=this;this._captureStackTrace(),this._pushContext();var et=!0,bt=this._execute(Ne,function(jt){$e._resolveCallback(jt)},function(jt){$e._rejectCallback(jt,et)});et=!1,this._popContext(),void 0!==bt&&$e._rejectCallback(bt,!0)}},ke.prototype._settlePromiseFromHandler=function(Ne,$e,et,bt){var jt=bt._bitField;if(0==(65536&jt)){var Zt;bt._pushContext(),$e===_e?et&&"number"==typeof et.length?Zt=Ct(Ne).apply(this._boundValue(),et):(Zt=ft).e=new oe("cannot .spread() a non-array: "+U.classString(et)):Zt=Ct(Ne).call($e,et);var yi=bt._popContext();0==(65536&(jt=bt._bitField))&&(Zt===we?bt._reject(et):Zt===ft?bt._rejectCallback(Zt.e,!1):(je.checkForgottenReturns(Zt,yi,"",bt,this),bt._resolveCallback(Zt)))}},ke.prototype._target=function(){for(var Ne=this;Ne._isFollowing();)Ne=Ne._followee();return Ne},ke.prototype._followee=function(){return this._rejectionHandler0},ke.prototype._setFollowee=function(Ne){this._rejectionHandler0=Ne},ke.prototype._settlePromise=function(Ne,$e,et,bt){var jt=Ne instanceof ke,Zt=this._bitField,yi=0!=(134217728&Zt);0!=(65536&Zt)?(jt&&Ne._invokeInternalOnCancel(),et instanceof nt&&et.isFinallyHandler()?(et.cancelPromise=Ne,Ct($e).call(et,bt)===ft&&Ne._reject(ft.e)):$e===F?Ne._fulfill(F.call(et)):et instanceof V?et._promiseCancelled(Ne):jt||Ne instanceof Me?Ne._cancel():et.cancel()):"function"==typeof $e?jt?(yi&&Ne._setAsyncGuaranteed(),this._settlePromiseFromHandler($e,et,bt,Ne)):$e.call(et,bt,Ne):et instanceof V?et._isResolved()||(0!=(33554432&Zt)?et._promiseFulfilled(bt,Ne):et._promiseRejected(bt,Ne)):jt&&(yi&&Ne._setAsyncGuaranteed(),0!=(33554432&Zt)?Ne._fulfill(bt):Ne._reject(bt))},ke.prototype._settlePromiseLateCancellationObserver=function(Ne){var $e=Ne.handler,et=Ne.promise,bt=Ne.receiver,jt=Ne.value;"function"==typeof $e?et instanceof ke?this._settlePromiseFromHandler($e,bt,jt,et):$e.call(bt,jt,et):et instanceof ke&&et._reject(jt)},ke.prototype._settlePromiseCtx=function(Ne){this._settlePromise(Ne.promise,Ne.handler,Ne.receiver,Ne.value)},ke.prototype._settlePromise0=function(Ne,$e,et){var bt=this._promise0,jt=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(bt,Ne,jt,$e)},ke.prototype._clearCallbackDataAtIndex=function(Ne){var $e=4*Ne-4;this[$e+2]=this[$e+3]=this[$e+0]=this[$e+1]=void 0},ke.prototype._fulfill=function(Ne){var $e=this._bitField;if(!((117506048&$e)>>>16)){if(Ne===this){var et=E();return this._attachExtraTrace(et),this._reject(et)}this._setFulfilled(),this._rejectionHandler0=Ne,(65535&$e)>0&&(0!=(134217728&$e)?this._settlePromises():J.settlePromises(this),this._dereferenceTrace())}},ke.prototype._reject=function(Ne){var $e=this._bitField;if(!((117506048&$e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=Ne,this._isFinal())return J.fatalError(Ne,U.isNode);(65535&$e)>0?J.settlePromises(this):this._ensurePossibleRejectionHandled()}},ke.prototype._fulfillPromises=function(Ne,$e){for(var et=1;et<Ne;et++){var bt=this._fulfillmentHandlerAt(et),jt=this._promiseAt(et),Zt=this._receiverAt(et);this._clearCallbackDataAtIndex(et),this._settlePromise(jt,bt,Zt,$e)}},ke.prototype._rejectPromises=function(Ne,$e){for(var et=1;et<Ne;et++){var bt=this._rejectionHandlerAt(et),jt=this._promiseAt(et),Zt=this._receiverAt(et);this._clearCallbackDataAtIndex(et),this._settlePromise(jt,bt,Zt,$e)}},ke.prototype._settlePromises=function(){var Ne=this._bitField,$e=65535&Ne;if($e>0){if(0!=(16842752&Ne)){var et=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,et,Ne),this._rejectPromises($e,et)}else{var bt=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,bt,Ne),this._fulfillPromises($e,bt)}this._setLength(0)}this._clearCancellationData()},ke.prototype._settledValue=function(){var Ne=this._bitField;return 0!=(33554432&Ne)?this._rejectionHandler0:0!=(16777216&Ne)?this._fulfillmentHandler0:void 0},ke.defer=ke.pending=function(){return je.deprecated("Promise.defer","new Promise"),{promise:new ke(ge),resolve:It,reject:jn}},U.notEnumerableProp(ke,"_makeSelfResolutionError",E),b("./method")(ke,ge,Pe,G,je),b("./bind")(ke,ge,Pe,je),b("./cancel")(ke,Me,G,je),b("./direct_resolve")(ke),b("./synchronous_inspection")(ke),b("./join")(ke,Me,Pe,ge,J,B),ke.Promise=ke,ke.version="3.5.4",b("./map.js")(ke,Me,G,Pe,ge,je),b("./call_get.js")(ke),b("./using.js")(ke,G,Pe,Be,ge,je),b("./timers.js")(ke,ge,je),b("./generators.js")(ke,G,ge,Pe,V,je),b("./nodeify.js")(ke),b("./promisify.js")(ke,ge),b("./props.js")(ke,Me,Pe,G),b("./race.js")(ke,ge,Pe,G),b("./reduce.js")(ke,Me,G,Pe,ge,je),b("./settle.js")(ke,Me,je),b("./some.js")(ke,Me,G),b("./filter.js")(ke,ge),b("./each.js")(ke,ge),b("./any.js")(ke),U.toFastProperties(ke),U.toFastProperties(ke.prototype),vt({a:1}),vt({b:2}),vt({c:3}),vt(1),vt(function(){}),vt(void 0),vt(!1),vt(new ke(ge)),je.setBounds(ie.firstLineError,U.lastLineError),ke}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(b,T,P){"use strict";T.exports=function(E,F,G,V,B){var K=b("./util");function U(ee){var ie=this._promise=new E(F);ee instanceof E&&ie._propagateFrom(ee,3),ie._setOnCancel(this),this._values=ee,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return K.inherits(U,B),U.prototype.length=function(){return this._length},U.prototype.promise=function(){return this._promise},U.prototype._init=function ee(ie,J){var Q=G(this._values,this._promise);if(Q instanceof E){var oe=(Q=Q._target())._bitField;if(this._values=Q,0==(50397184&oe))return this._promise._setAsyncGuaranteed(),Q._then(ee,this._reject,void 0,this,J);if(0==(33554432&oe))return 0!=(16777216&oe)?this._reject(Q._reason()):this._cancel();Q=Q._value()}if(null!==(Q=K.asArray(Q)))0!==Q.length?this._iterate(Q):-5===J?this._resolveEmptyArray():this._resolve(function(ge){switch(ge){case-2:return[];case-3:return{};case-6:return new Map}}(J));else{var ce=V("expecting an array or an iterable object but got "+K.classString(Q)).reason();this._promise._rejectCallback(ce,!1)}},U.prototype._iterate=function(ee){var ie=this.getActualLength(ee.length);this._length=ie,this._values=this.shouldCopyValues()?new Array(ie):this._values;for(var J=this._promise,Q=!1,oe=null,ce=0;ce<ie;++ce){var ge=G(ee[ce],J);oe=ge instanceof E?(ge=ge._target())._bitField:null,Q?null!==oe&&ge.suppressUnhandledRejections():null!==oe?0==(50397184&oe)?(ge._proxy(this,ce),this._values[ce]=ge):Q=0!=(33554432&oe)?this._promiseFulfilled(ge._value(),ce):0!=(16777216&oe)?this._promiseRejected(ge._reason(),ce):this._promiseCancelled(ce):Q=this._promiseFulfilled(ge,ce)}Q||J._setAsyncGuaranteed()},U.prototype._isResolved=function(){return null===this._values},U.prototype._resolve=function(ee){this._values=null,this._promise._fulfill(ee)},U.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},U.prototype._reject=function(ee){this._values=null,this._promise._rejectCallback(ee,!1)},U.prototype._promiseFulfilled=function(ee,ie){return this._values[ie]=ee,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},U.prototype._promiseCancelled=function(){return this._cancel(),!0},U.prototype._promiseRejected=function(ee){return this._totalResolved++,this._reject(ee),!0},U.prototype._resultCancelled=function(){if(!this._isResolved()){var ee=this._values;if(this._cancel(),ee instanceof E)ee.cancel();else for(var ie=0;ie<ee.length;++ie)ee[ie]instanceof E&&ee[ie].cancel()}},U.prototype.shouldCopyValues=function(){return!0},U.prototype.getActualLength=function(ee){return ee},U}},{"./util":36}],24:[function(b,T,P){"use strict";T.exports=function(E,F){var G={},V=b("./util"),B=b("./nodeback"),K=V.withAppended,U=V.maybeWrapAsError,ee=V.canEvaluate,ie=b("./errors").TypeError,J={__isPromisified__:!0},Q=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),oe=function(Be){return V.isIdentifier(Be)&&"_"!==Be.charAt(0)&&"constructor"!==Be};function ce(Be){return!Q.test(Be)}function ge(Be){try{return!0===Be.__isPromisified__}catch(je){return!1}}function _e(Be,je,nt){var We=V.getDataPropertyOrDefault(Be,je+nt,J);return!!We&&ge(We)}var Me=ee?void 0:function(Be,je,nt,We,ze,ft){var Ct=function(){return this}(),ke=Be;function It(){var jn=je;je===G&&(jn=this);var vt=new E(F);vt._captureStackTrace();var Ne="string"==typeof ke&&this!==Ct?this[ke]:Be,$e=B(vt,ft);try{Ne.apply(jn,K(arguments,$e))}catch(et){vt._rejectCallback(U(et),!0,!0)}return vt._isFateSealed()||vt._setAsyncGuaranteed(),vt}return"string"==typeof ke&&(Be=We),V.notEnumerableProp(It,"__isPromisified__",!0),It};function Oe(Be,je,nt,We,ze){for(var ft=new RegExp(function(Be){return Be.replace(/([$])/,"\\$")}(je)+"$"),Ct=function we(Be,je,nt,We){for(var ze=V.inheritedDataKeys(Be),ft=[],Ct=0;Ct<ze.length;++Ct){var ke=ze[Ct],It=Be[ke],jn=We===oe||oe(ke);"function"!=typeof It||ge(It)||_e(Be,ke,je)||!We(ke,It,Be,jn)||ft.push(ke,It)}return function(vt,Ne,$e){for(var et=0;et<vt.length;et+=2){var bt=vt[et];if($e.test(bt))for(var jt=bt.replace($e,""),Zt=0;Zt<vt.length;Zt+=2)if(vt[Zt]===jt)throw new ie("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",Ne))}}(ft,je,nt),ft}(Be,je,ft,nt),ke=0,It=Ct.length;ke<It;ke+=2){var jn=Ct[ke],vt=Ct[ke+1],Ne=jn+je;if(We===Me)Be[Ne]=Me(jn,G,jn,vt,je,ze);else{var $e=We(vt,function(){return Me(jn,G,jn,vt,je,ze)});V.notEnumerableProp($e,"__isPromisified__",!0),Be[Ne]=$e}}return V.toFastProperties(Be),Be}E.promisify=function(Be,je){if("function"!=typeof Be)throw new ie("expecting a function but got "+V.classString(Be));if(ge(Be))return Be;var We,ze,nt=(We=Be,ze=void 0===(je=Object(je)).context?G:je.context,Me(We,ze,void 0,We,null,!!je.multiArgs));return V.copyDescriptors(Be,nt,ce),nt},E.promisifyAll=function(Be,je){if("function"!=typeof Be&&"object"!==y(Be))throw new ie("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var nt=!!(je=Object(je)).multiArgs,We=je.suffix;"string"!=typeof We&&(We="Async");var ze=je.filter;"function"!=typeof ze&&(ze=oe);var ft=je.promisifier;if("function"!=typeof ft&&(ft=Me),!V.isIdentifier(We))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var Ct=V.inheritedDataKeys(Be),ke=0;ke<Ct.length;++ke){var It=Be[Ct[ke]];"constructor"!==Ct[ke]&&V.isClass(It)&&(Oe(It.prototype,We,ze,ft,nt),Oe(It,We,ze,ft,nt))}return Oe(Be,We,ze,ft,nt)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(b,T,P){"use strict";T.exports=function(E,F,G,V){var B,K=b("./util"),U=K.isObject,ee=b("./es5");"function"==typeof Map&&(B=Map);var ie=function(){var oe=0,ce=0;function ge(_e,we){this[oe]=_e,this[oe+ce]=we,oe++}return function(_e){ce=_e.size,oe=0;var we=new Array(2*_e.size);return _e.forEach(ge,we),we}}();function J(oe){var ce,ge=!1;if(void 0!==B&&oe instanceof B)ce=ie(oe),ge=!0;else{var _e=ee.keys(oe),we=_e.length;ce=new Array(2*we);for(var Pe=0;Pe<we;++Pe){var Me=_e[Pe];ce[Pe]=oe[Me],ce[Pe+we]=Me}}this.constructor$(ce),this._isMap=ge,this._init$(void 0,ge?-6:-3)}function Q(oe){var ce,ge=G(oe);return U(ge)?(ce=ge instanceof E?ge._then(E.props,void 0,void 0,void 0,void 0):new J(ge).promise(),ge instanceof E&&ce._propagateFrom(ge,2),ce):V("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}K.inherits(J,F),J.prototype._init=function(){},J.prototype._promiseFulfilled=function(oe,ce){if(this._values[ce]=oe,++this._totalResolved>=this._length){var ge;if(this._isMap)ge=function(Me){for(var Oe=new B,Be=Me.length/2|0,je=0;je<Be;++je)Oe.set(Me[Be+je],Me[je]);return Oe}(this._values);else{ge={};for(var _e=this.length(),we=0,Pe=this.length();we<Pe;++we)ge[this._values[we+_e]]=this._values[we]}return this._resolve(ge),!0}return!1},J.prototype.shouldCopyValues=function(){return!1},J.prototype.getActualLength=function(oe){return oe>>1},E.prototype.props=function(){return Q(this)},E.props=function(oe){return Q(oe)}}},{"./es5":13,"./util":36}],26:[function(b,T,P){"use strict";function E(F){this._capacity=F,this._length=0,this._front=0}E.prototype._willBeOverCapacity=function(F){return this._capacity<F},E.prototype._pushOne=function(F){var G=this.length();this._checkCapacity(G+1),this[this._front+G&this._capacity-1]=F,this._length=G+1},E.prototype.push=function(F,G,V){var B=this.length()+3;if(this._willBeOverCapacity(B))return this._pushOne(F),this._pushOne(G),void this._pushOne(V);var K=this._front+B-3;this._checkCapacity(B);var U=this._capacity-1;this[K+0&U]=F,this[K+1&U]=G,this[K+2&U]=V,this._length=B},E.prototype.shift=function(){var F=this._front,G=this[F];return this[F]=void 0,this._front=F+1&this._capacity-1,this._length--,G},E.prototype.length=function(){return this._length},E.prototype._checkCapacity=function(F){this._capacity<F&&this._resizeTo(this._capacity<<1)},E.prototype._resizeTo=function(F){var G=this._capacity;this._capacity=F,function(V,B,K,U,ee){for(var ie=0;ie<ee;++ie)K[ie+U]=V[ie+0],V[ie+0]=void 0}(this,0,this,G,this._front+this._length&G-1)},T.exports=E},{}],27:[function(b,T,P){"use strict";T.exports=function(E,F,G,V){var B=b("./util");function U(ee,ie){var J=G(ee);if(J instanceof E)return function(ee){return ee.then(function(ie){return U(ie,ee)})}(J);if(null===(ee=B.asArray(ee)))return V("expecting an array or an iterable object but got "+B.classString(ee));var Q=new E(F);void 0!==ie&&Q._propagateFrom(ie,3);for(var oe=Q._fulfill,ce=Q._reject,ge=0,_e=ee.length;ge<_e;++ge){var we=ee[ge];(void 0!==we||ge in ee)&&E.cast(we)._then(oe,ce,void 0,Q,null)}return Q}E.race=function(ee){return U(ee,void 0)},E.prototype.race=function(){return U(this,void 0)}}},{"./util":36}],28:[function(b,T,P){"use strict";T.exports=function(E,F,G,V,B,K){var U=E._getDomain,ee=b("./util"),ie=ee.tryCatch;function J(_e,we,Pe,Me){this.constructor$(_e);var Oe=U();this._fn=null===Oe?we:ee.domainBind(Oe,we),void 0!==Pe&&(Pe=E.resolve(Pe))._attachCancellationCallback(this),this._initialValue=Pe,this._currentCancellable=null,this._eachValues=Me===B?Array(this._length):0===Me?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function Q(_e,we){this.isFulfilled()?we._resolve(_e):we._reject(_e)}function oe(_e,we,Pe,Me){return"function"!=typeof we?G("expecting a function but got "+ee.classString(we)):new J(_e,we,Pe,Me).promise()}function ce(_e){this.accum=_e,this.array._gotAccum(_e);var we=V(this.value,this.array._promise);return we instanceof E?(this.array._currentCancellable=we,we._then(ge,void 0,void 0,this,void 0)):ge.call(this,we)}function ge(_e){var we,Pe=this.array,Me=Pe._promise,Oe=ie(Pe._fn);Me._pushContext(),(we=void 0!==Pe._eachValues?Oe.call(Me._boundValue(),_e,this.index,this.length):Oe.call(Me._boundValue(),this.accum,_e,this.index,this.length))instanceof E&&(Pe._currentCancellable=we);var Be=Me._popContext();return K.checkForgottenReturns(we,Be,void 0!==Pe._eachValues?"Promise.each":"Promise.reduce",Me),we}ee.inherits(J,F),J.prototype._gotAccum=function(_e){null!=this._eachValues&&_e!==B&&this._eachValues.push(_e)},J.prototype._eachComplete=function(_e){return null!==this._eachValues&&this._eachValues.push(_e),this._eachValues},J.prototype._init=function(){},J.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},J.prototype.shouldCopyValues=function(){return!1},J.prototype._resolve=function(_e){this._promise._resolveCallback(_e),this._values=null},J.prototype._resultCancelled=function(_e){if(_e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof E&&this._currentCancellable.cancel(),this._initialValue instanceof E&&this._initialValue.cancel())},J.prototype._iterate=function(_e){var we,Pe;this._values=_e;var Me=_e.length;if(void 0!==this._initialValue?(we=this._initialValue,Pe=0):(we=E.resolve(_e[0]),Pe=1),this._currentCancellable=we,!we.isRejected())for(;Pe<Me;++Pe)we=we._then(ce,void 0,void 0,{accum:null,value:_e[Pe],index:Pe,length:Me,array:this},void 0);void 0!==this._eachValues&&(we=we._then(this._eachComplete,void 0,void 0,this,void 0)),we._then(Q,Q,void 0,we,this)},E.prototype.reduce=function(_e,we){return oe(this,_e,we,null)},E.reduce=function(_e,we,Pe,Me){return oe(_e,we,Pe,Me)}}},{"./util":36}],29:[function(b,T,P){"use strict";var E,U,ee,ie,J,F=b("./util"),G=F.getNativePromise();if(F.isNode&&"undefined"==typeof MutationObserver){var V=O.setImmediate,B=I.nextTick;E=F.isRecentNode?function(U){V.call(O,U)}:function(U){B.call(I,U)}}else if("function"==typeof G&&"function"==typeof G.resolve){var K=G.resolve();E=function(U){K.then(U)}}else E="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==x?function(U){x(U)}:"undefined"!=typeof setTimeout?function(U){setTimeout(U,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(U=document.createElement("div"),ee={attributes:!0},ie=!1,J=document.createElement("div"),new MutationObserver(function(){U.classList.toggle("foo"),ie=!1}).observe(J,ee),function(Q){var oe=new MutationObserver(function(){oe.disconnect(),Q()});oe.observe(U,ee),ie||(ie=!0,J.classList.toggle("foo"))});T.exports=E},{"./util":36}],30:[function(b,T,P){"use strict";T.exports=function(E,F,G){var V=E.PromiseInspection;function B(K){this.constructor$(K)}b("./util").inherits(B,F),B.prototype._promiseResolved=function(K,U){return this._values[K]=U,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},B.prototype._promiseFulfilled=function(K,U){var ee=new V;return ee._bitField=33554432,ee._settledValueField=K,this._promiseResolved(U,ee)},B.prototype._promiseRejected=function(K,U){var ee=new V;return ee._bitField=16777216,ee._settledValueField=K,this._promiseResolved(U,ee)},E.settle=function(K){return G.deprecated(".settle()",".reflect()"),new B(K).promise()},E.prototype.settle=function(){return E.settle(this)}}},{"./util":36}],31:[function(b,T,P){"use strict";T.exports=function(E,F,G){var V=b("./util"),B=b("./errors").RangeError,K=b("./errors").AggregateError,U=V.isArray,ee={};function ie(Q){this.constructor$(Q),this._howMany=0,this._unwrap=!1,this._initialized=!1}function J(Q,oe){if((0|oe)!==oe||oe<0)return G("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var ce=new ie(Q),ge=ce.promise();return ce.setHowMany(oe),ce.init(),ge}V.inherits(ie,F),ie.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var Q=U(this._values);!this._isResolved()&&Q&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},ie.prototype.init=function(){this._initialized=!0,this._init()},ie.prototype.setUnwrap=function(){this._unwrap=!0},ie.prototype.howMany=function(){return this._howMany},ie.prototype.setHowMany=function(Q){this._howMany=Q},ie.prototype._promiseFulfilled=function(Q){return this._addFulfilled(Q),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},ie.prototype._promiseRejected=function(Q){return this._addRejected(Q),this._checkOutcome()},ie.prototype._promiseCancelled=function(){return this._values instanceof E||null==this._values?this._cancel():(this._addRejected(ee),this._checkOutcome())},ie.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var Q=new K,oe=this.length();oe<this._values.length;++oe)this._values[oe]!==ee&&Q.push(this._values[oe]);return Q.length>0?this._reject(Q):this._cancel(),!0}return!1},ie.prototype._fulfilled=function(){return this._totalResolved},ie.prototype._rejected=function(){return this._values.length-this.length()},ie.prototype._addRejected=function(Q){this._values.push(Q)},ie.prototype._addFulfilled=function(Q){this._values[this._totalResolved++]=Q},ie.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},ie.prototype._getRangeError=function(Q){return new B("Input array must contain at least "+this._howMany+" items but contains only "+Q+" items")},ie.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},E.some=function(Q,oe){return J(Q,oe)},E.prototype.some=function(Q){return J(this,Q)},E._SomePromiseArray=ie}},{"./errors":12,"./util":36}],32:[function(b,T,P){"use strict";T.exports=function(E){function F(ie){void 0!==ie?(ie=ie._target(),this._bitField=ie._bitField,this._settledValueField=ie._isFateSealed()?ie._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}F.prototype._settledValue=function(){return this._settledValueField};var G=F.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},V=F.prototype.error=F.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},B=F.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},K=F.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},U=F.prototype.isPending=function(){return 0==(50397184&this._bitField)},ee=F.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};F.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},E.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},E.prototype._isCancelled=function(){return this._target().__isCancelled()},E.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},E.prototype.isPending=function(){return U.call(this._target())},E.prototype.isRejected=function(){return K.call(this._target())},E.prototype.isFulfilled=function(){return B.call(this._target())},E.prototype.isResolved=function(){return ee.call(this._target())},E.prototype.value=function(){return G.call(this._target())},E.prototype.reason=function(){var ie=this._target();return ie._unsetRejectionIsUnhandled(),V.call(ie)},E.prototype._value=function(){return this._settledValue()},E.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},E.PromiseInspection=F}},{}],33:[function(b,T,P){"use strict";T.exports=function(E,F){var G=b("./util"),V=G.errorObj,B=G.isObject,K={}.hasOwnProperty;return function(U,ee){if(B(U)){if(U instanceof E)return U;var ie=function(Q){try{return(oe=Q).then}catch(oe){return V.e=oe,V}var oe}(U);if(ie===V){ee&&ee._pushContext();var J=E.reject(ie.e);return ee&&ee._popContext(),J}if("function"==typeof ie)return function(Q){try{return K.call(Q,"_promise0")}catch(oe){return!1}}(U)?(J=new E(F),U._then(J._fulfill,J._reject,void 0,J,null),J):function(Q,oe,ce){var ge=new E(F),_e=ge;ce&&ce._pushContext(),ge._captureStackTrace(),ce&&ce._popContext();var we=!0,Pe=G.tryCatch(oe).call(Q,function(Me){ge&&(ge._resolveCallback(Me),ge=null)},function(Me){ge&&(ge._rejectCallback(Me,we,!0),ge=null)});return we=!1,ge&&Pe===V&&(ge._rejectCallback(Pe.e,!0,!0),ge=null),_e}(U,ie,ee)}return U}}},{"./util":36}],34:[function(b,T,P){"use strict";T.exports=function(E,F,G){var V=b("./util"),B=E.TimeoutError;function K(Q){this.handle=Q}K.prototype._resultCancelled=function(){clearTimeout(this.handle)};var U=function(Q){return ee(+this).thenReturn(Q)},ee=E.delay=function(Q,oe){var ce,ge;return void 0!==oe?(ce=E.resolve(oe)._then(U,null,null,Q,void 0),G.cancellation()&&oe instanceof E&&ce._setOnCancel(oe)):(ce=new E(F),ge=setTimeout(function(){ce._fulfill()},+Q),G.cancellation()&&ce._setOnCancel(new K(ge)),ce._captureStackTrace()),ce._setAsyncGuaranteed(),ce};function ie(Q){return clearTimeout(this.handle),Q}function J(Q){throw clearTimeout(this.handle),Q}E.prototype.delay=function(Q){return ee(Q,this)},E.prototype.timeout=function(Q,oe){var ce,ge;Q=+Q;var _e=new K(setTimeout(function(){var we,Pe,Me,Oe;ce.isPending()&&(we=ce,Me=ge,Oe="string"!=typeof(Pe=oe)?Pe instanceof Error?Pe:new B("operation timed out"):new B(Pe),V.markAsOriginatingFromRejection(Oe),we._attachExtraTrace(Oe),we._reject(Oe),null!=Me&&Me.cancel())},Q));return G.cancellation()?(ge=this.then(),(ce=ge._then(ie,J,void 0,_e,void 0))._setOnCancel(_e)):ce=this._then(ie,J,void 0,_e,void 0),ce}}},{"./util":36}],35:[function(b,T,P){"use strict";T.exports=function(E,F,G,V,B,K){var U=b("./util"),ee=b("./errors").TypeError,ie=b("./util").inherits,J=U.errorObj,Q=U.tryCatch,oe={};function ce(Oe){setTimeout(function(){throw Oe},0)}function ge(Oe,Be){var je=0,nt=Oe.length,We=new E(B);return function ze(){if(je>=nt)return We._fulfill();var Ct,ke,ft=(Ct=Oe[je++],(ke=G(Ct))!==Ct&&"function"==typeof Ct._isDisposable&&"function"==typeof Ct._getDisposer&&Ct._isDisposable()&&ke._setDisposable(Ct._getDisposer()),ke);if(ft instanceof E&&ft._isDisposable()){try{ft=G(ft._getDisposer().tryDispose(Be),Oe.promise)}catch(Ct){return ce(Ct)}if(ft instanceof E)return ft._then(ze,ce,null,null,null)}ze()}(),We}function _e(Oe,Be,je){this._data=Oe,this._promise=Be,this._context=je}function we(Oe,Be,je){this.constructor$(Oe,Be,je)}function Pe(Oe){return _e.isDisposer(Oe)?(this.resources[this.index]._setDisposable(Oe),Oe.promise()):Oe}function Me(Oe){this.length=Oe,this.promise=null,this[Oe-1]=null}_e.prototype.data=function(){return this._data},_e.prototype.promise=function(){return this._promise},_e.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():oe},_e.prototype.tryDispose=function(Oe){var Be=this.resource(),je=this._context;void 0!==je&&je._pushContext();var nt=Be!==oe?this.doDispose(Be,Oe):null;return void 0!==je&&je._popContext(),this._promise._unsetDisposable(),this._data=null,nt},_e.isDisposer=function(Oe){return null!=Oe&&"function"==typeof Oe.resource&&"function"==typeof Oe.tryDispose},ie(we,_e),we.prototype.doDispose=function(Oe,Be){return this.data().call(Oe,Oe,Be)},Me.prototype._resultCancelled=function(){for(var Oe=this.length,Be=0;Be<Oe;++Be){var je=this[Be];je instanceof E&&je.cancel()}},E.using=function(){var Oe=arguments.length;if(Oe<2)return F("you must pass at least 2 arguments to Promise.using");var Be,je=arguments[Oe-1];if("function"!=typeof je)return F("expecting a function but got "+U.classString(je));var nt=!0;2===Oe&&Array.isArray(arguments[0])?(Oe=(Be=arguments[0]).length,nt=!1):(Be=arguments,Oe--);for(var We=new Me(Oe),ze=0;ze<Oe;++ze){var ft=Be[ze];if(_e.isDisposer(ft)){var Ct=ft;(ft=ft.promise())._setDisposable(Ct)}else{var ke=G(ft);ke instanceof E&&(ft=ke._then(Pe,null,null,{resources:We,index:ze},void 0))}We[ze]=ft}var It=new Array(We.length);for(ze=0;ze<It.length;++ze)It[ze]=E.resolve(We[ze]).reflect();var jn=E.all(It).then(function(Ne){for(var $e=0;$e<Ne.length;++$e){var et=Ne[$e];if(et.isRejected())return J.e=et.error(),J;if(!et.isFulfilled())return void jn.cancel();Ne[$e]=et.value()}vt._pushContext(),je=Q(je);var bt=nt?je.apply(void 0,Ne):je(Ne),jt=vt._popContext();return K.checkForgottenReturns(bt,jt,"Promise.using",vt),bt}),vt=jn.lastly(function(){var Ne=new E.PromiseInspection(jn);return ge(We,Ne)});return We.promise=vt,vt._setOnCancel(We),vt},E.prototype._setDisposable=function(Oe){this._bitField=131072|this._bitField,this._disposer=Oe},E.prototype._isDisposable=function(){return(131072&this._bitField)>0},E.prototype._getDisposer=function(){return this._disposer},E.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},E.prototype.disposer=function(Oe){if("function"==typeof Oe)return new we(Oe,this,V());throw new ee}}},{"./errors":12,"./util":36}],36:[function(b,T,P){"use strict";var V,E=b("./es5"),F="undefined"==typeof navigator,G={e:{}},B="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==O?O:void 0!==this?this:null;function K(){try{var rt=V;return V=null,rt.apply(this,arguments)}catch(Jt){return G.e=Jt,G}}function ie(rt){return null==rt||!0===rt||!1===rt||"string"==typeof rt||"number"==typeof rt}function ge(rt,Jt,Xe){return ie(rt)||E.defineProperty(rt,Jt,{value:Xe,configurable:!0,enumerable:!1,writable:!0}),rt}var we=function(){var rt=[Array.prototype,Object.prototype,Function.prototype],Jt=function(at){for(var le=0;le<rt.length;++le)if(rt[le]===at)return!0;return!1};if(E.isES5){var Xe=Object.getOwnPropertyNames;return function(at){for(var le=[],fn=Object.create(null);null!=at&&!Jt(at);){var mo;try{mo=Xe(at)}catch(_o){return le}for(var Jn=0;Jn<mo.length;++Jn){var eo=mo[Jn];if(!fn[eo]){fn[eo]=!0;var Ws=Object.getOwnPropertyDescriptor(at,eo);null!=Ws&&null==Ws.get&&null==Ws.set&&le.push(eo)}}at=E.getPrototypeOf(at)}return le}}var Yt={}.hasOwnProperty;return function(at){if(Jt(at))return[];var le=[];e:for(var fn in at)if(Yt.call(at,fn))le.push(fn);else{for(var mo=0;mo<rt.length;++mo)if(Yt.call(rt[mo],fn))continue e;le.push(fn)}return le}}(),Pe=/this\s*\.\s*\S+\s*=/;var Be=/^[a-z$_][a-z$_0-9]*$/i;function We(rt){try{return rt+""}catch(Jt){return"[no string representation]"}}function ze(rt){return rt instanceof Error||null!==rt&&"object"===y(rt)&&"string"==typeof rt.message&&"string"==typeof rt.name}function ke(rt){return ze(rt)&&E.propertyIsWritable(rt,"stack")}var It="stack"in new Error?function(rt){return ke(rt)?rt:new Error(We(rt))}:function(rt){if(ke(rt))return rt;try{throw new Error(We(rt))}catch(Jt){return Jt}};function jn(rt){return{}.toString.call(rt)}var Ne=function(rt){return E.isArray(rt)?rt:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var $e="function"==typeof Array.from?function(rt){return Array.from(rt)}:function(rt){for(var Jt,Xe=[],Yt=rt[Symbol.iterator]();!(Jt=Yt.next()).done;)Xe.push(Jt.value);return Xe};Ne=function(rt){return E.isArray(rt)?rt:null!=rt&&"function"==typeof rt[Symbol.iterator]?$e(rt):null}}var et=void 0!==I&&"[object process]"===jn(I).toLowerCase(),bt=void 0!==I&&void 0!==I.env;var rt,Ci={isClass:function Me(rt){try{if("function"==typeof rt){var Jt=E.names(rt.prototype),Xe=E.isES5&&Jt.length>1,Yt=Jt.length>0&&!(1===Jt.length&&"constructor"===Jt[0]),at=Pe.test(rt+"")&&E.names(rt).length>0;if(Xe||Yt||at)return!0}return!1}catch(le){return!1}},isIdentifier:function je(rt){return Be.test(rt)},inheritedDataKeys:we,getDataPropertyOrDefault:function ce(rt,Jt,Xe){if(!E.isES5)return{}.hasOwnProperty.call(rt,Jt)?rt[Jt]:void 0;var Yt=Object.getOwnPropertyDescriptor(rt,Jt);return null!=Yt?null==Yt.get&&null==Yt.set?Yt.value:Xe:void 0},thrower:function _e(rt){throw rt},isArray:E.isArray,asArray:Ne,notEnumerableProp:ge,isPrimitive:ie,isObject:function J(rt){return"function"==typeof rt||"object"===y(rt)&&null!==rt},isError:ze,canEvaluate:F,errorObj:G,tryCatch:function U(rt){return V=rt,K},inherits:function(rt,Jt){var Xe={}.hasOwnProperty;function Yt(){for(var at in this.constructor=rt,this.constructor$=Jt,Jt.prototype)Xe.call(Jt.prototype,at)&&"$"!==at.charAt(at.length-1)&&(this[at+"$"]=Jt.prototype[at])}return Yt.prototype=Jt.prototype,rt.prototype=new Yt,rt.prototype},withAppended:function oe(rt,Jt){var Xe,Yt=rt.length,at=new Array(Yt+1);for(Xe=0;Xe<Yt;++Xe)at[Xe]=rt[Xe];return at[Xe]=Jt,at},maybeWrapAsError:function Q(rt){return ie(rt)?new Error(We(rt)):rt},toFastProperties:function Oe(rt){function Jt(){}Jt.prototype=rt;var Xe=new Jt;function Yt(){return y(Xe.foo)}return Yt(),Yt(),rt},filledRange:function nt(rt,Jt,Xe){for(var Yt=new Array(rt),at=0;at<rt;++at)Yt[at]=Jt+at+Xe;return Yt},toString:We,canAttachTrace:ke,ensureErrorObject:It,originatesFromRejection:function Ct(rt){return null!=rt&&(rt instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===rt.isOperational)},markAsOriginatingFromRejection:function ft(rt){try{ge(rt,"isOperational",!0)}catch(Jt){}},classString:jn,copyDescriptors:function vt(rt,Jt,Xe){for(var Yt=E.names(rt),at=0;at<Yt.length;++at){var le=Yt[at];if(Xe(le))try{E.defineProperty(Jt,le,E.getDescriptor(rt,le))}catch(fn){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:et,hasEnvVariables:bt,env:function jt(rt){return bt?I.env[rt]:void 0},global:B,getNativePromise:function Zt(){if("function"==typeof Promise)try{var rt=new Promise(function(){});if("[object Promise]"==={}.toString.call(rt))return Promise}catch(Jt){}},domainBind:function yi(rt,Jt){return rt.bind(Jt)}};Ci.isRecentNode=Ci.isNode&&(I.versions&&I.versions.node?rt=I.versions.node.split(".").map(Number):I.version&&(rt=I.version.split(".").map(Number)),0===rt[0]&&rt[1]>10||rt[0]>0),Ci.isNode&&Ci.toFastProperties(I);try{throw new Error}catch(rt){Ci.lastLineError=rt}T.exports=Ci},{"./es5":13}]},{},[4])(4)},"object"==y(X)&&void 0!==j?j.exports=f():void 0===(_="function"==typeof(D=f)?D.apply(X,[]):D)||(j.exports=_),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,R(31),R(13),R(108).setImmediate)},function(j,X,R){(function(I){var O=void 0!==I&&I||"undefined"!=typeof self&&self||window,x=Function.prototype.apply;function D(C,_){this._id=C,this._clearFn=_}X.setTimeout=function(){return new D(x.call(setTimeout,O,arguments),clearTimeout)},X.setInterval=function(){return new D(x.call(setInterval,O,arguments),clearInterval)},X.clearTimeout=X.clearInterval=function(C){C&&C.close()},D.prototype.unref=D.prototype.ref=function(){},D.prototype.close=function(){this._clearFn.call(O,this._id)},X.enroll=function(C,_){clearTimeout(C._idleTimeoutId),C._idleTimeout=_},X.unenroll=function(C){clearTimeout(C._idleTimeoutId),C._idleTimeout=-1},X._unrefActive=X.active=function(C){clearTimeout(C._idleTimeoutId);var _=C._idleTimeout;_>=0&&(C._idleTimeoutId=setTimeout(function(){C._onTimeout&&C._onTimeout()},_))},R(109),X.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==I&&I.setImmediate||this&&this.setImmediate,X.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==I&&I.clearImmediate||this&&this.clearImmediate}).call(this,R(13))},function(j,X,R){(function(I,O){!function(x,D){"use strict";if(!x.setImmediate){var C,_=1,y={},f=!1,g=x.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(x);w=w&&w.setTimeout?w:x,"[object process]"==={}.toString.call(x.process)?C=function(P){O.nextTick(function(){T(P)})}:function(){if(x.postMessage&&!x.importScripts){var P=!0,E=x.onmessage;return x.onmessage=function(){P=!1},x.postMessage("","*"),x.onmessage=E,P}}()?(P="setImmediate$"+Math.random()+"$",E=function(F){F.source===x&&"string"==typeof F.data&&0===F.data.indexOf(P)&&T(+F.data.slice(P.length))},x.addEventListener?x.addEventListener("message",E,!1):x.attachEvent("onmessage",E),C=function(F){x.postMessage(P+F,"*")}):x.MessageChannel?function(){var P=new MessageChannel;P.port1.onmessage=function(E){T(E.data)},C=function(E){P.port2.postMessage(E)}}():g&&"onreadystatechange"in g.createElement("script")?function(){var P=g.documentElement;C=function(E){var F=g.createElement("script");F.onreadystatechange=function(){T(E),F.onreadystatechange=null,P.removeChild(F),F=null},P.appendChild(F)}}():C=function(P){setTimeout(T,0,P)},w.setImmediate=function(P){"function"!=typeof P&&(P=new Function(""+P));for(var E=new Array(arguments.length-1),F=0;F<E.length;F++)E[F]=arguments[F+1];return y[_]={callback:P,args:E},C(_),_++},w.clearImmediate=b}var P,E;function b(P){delete y[P]}function T(P){if(f)setTimeout(T,0,P);else{var E=y[P];if(E){f=!0;try{!function(F){var G=F.callback,V=F.args;switch(V.length){case 0:G();break;case 1:G(V[0]);break;case 2:G(V[0],V[1]);break;case 3:G(V[0],V[1],V[2]);break;default:G.apply(undefined,V)}}(E)}finally{b(P),f=!1}}}}}("undefined"==typeof self?void 0===I?this:I:self)}).call(this,R(13),R(31))},function(j,X,R){var I=R(0),O=R(111),x=R(35),D=R(9);j.exports=function(C){var _=O.create();I.mixin(C,_);var E,F,y=C.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return C.config.root_id},initItem:I.bind(function(E){this.defined(E.id)||(E.id=this.uid()),E.start_date&&(E.start_date=C.date.parseDate(E.start_date,"parse_date")),E.end_date&&(E.end_date=C.date.parseDate(E.end_date,"parse_date"));var F=null;(E.duration||0===E.duration)&&(E.duration=F=1*E.duration),F&&(E.start_date&&!E.end_date?E.end_date=this.calculateEndDate(E):!E.start_date&&E.end_date&&(E.start_date=this.calculateEndDate({start_date:E.end_date,duration:-E.duration,task:E}))),E.progress=Number(E.progress)||0,this._isAllowedUnscheduledTask(E)&&this._set_default_task_timing(E),this._init_task_timing(E),E.start_date&&E.end_date&&this.correctTaskWorkTime(E),E.$source=[],E.$target=[];var G=this.$data.tasksStore.getItem(E.id);return G&&!I.defined(E.open)&&(E.$open=G.$open),void 0===E.parent&&(E.parent=this.config.root_id),E},C),getConfig:function(){return C.config}}),f=C.createDatastore({name:"link",initItem:I.bind(function(E){return this.defined(E.id)||(E.id=this.uid()),E},C)});function g(E){var F=C.isTaskVisible(E);if(!F&&C.isTaskExists(E)){var G=C.getParent(E);C.isTaskExists(G)&&C.isTaskVisible(G)&&(G=C.getTask(G),C.isSplitTask(G)&&(F=!0))}return F}function w(E){if(C.isTaskExists(E.source)){var F=C.getTask(E.source);F.$source=F.$source||[],F.$source.push(E.id)}if(C.isTaskExists(E.target)){var G=C.getTask(E.target);G.$target=G.$target||[],G.$target.push(E.id)}}function b(E){if(C.isTaskExists(E.source))for(var F=C.getTask(E.source),G=0;G<F.$source.length;G++)if(F.$source[G]==E.id){F.$source.splice(G,1);break}if(C.isTaskExists(E.target)){var V=C.getTask(E.target);for(G=0;G<V.$target.length;G++)if(V.$target[G]==E.id){V.$target.splice(G,1);break}}}function T(){for(var E=null,F=C.$data.tasksStore.getItems(),G=0,V=F.length;G<V;G++)(E=F[G]).$source=[],E.$target=[];var B=C.$data.linksStore.getItems();for(G=0,V=B.length;G<V;G++)w(B[G])}function P(E){var F=E.source,G=E.target;for(var V in E.events)!function(B,K){F.attachEvent(B,function(){return G.callEvent(K,Array.prototype.slice.call(arguments))},K)}(V,E.events[V])}C.attachEvent("onDestroy",function(){y.destructor(),f.destructor()}),C.attachEvent("onLinkValidation",function(E){if(C.isLinkExists(E.id)||"predecessor_generated"===E.id)return!0;for(var F=C.getTask(E.source).$source,G=0;G<F.length;G++){var V=C.getLink(F[G]);if(E.source==V.source&&E.target==V.target&&E.type==V.type)return!1}return!0}),y.attachEvent("onBeforeRefreshAll",function(){for(var E=y.getVisibleItems(),F=0;F<E.length;F++){var G=E[F];G.$index=F,G.$local_index=C.getTaskIndex(G.id),C.resetProjectDates(G)}}),y.attachEvent("onFilterItem",function(E,F){if(C.config.show_tasks_outside_timescale)return!0;var G=null,V=null;if(C.config.start_date&&C.config.end_date){if(C._isAllowedUnscheduledTask(F))return!0;if(G=C.config.start_date.valueOf(),V=C.config.end_date.valueOf(),+F.start_date>V||+F.end_date<+G)return!1}return!0}),y.attachEvent("onIdChange",function(E,F){C._update_flags(E,F);var G=C.getTask(F);y.isSilent()||(G.$split_subtask||G.rollup)&&C.eachParent(function(V){C.refreshTask(V.id)},F)}),y.attachEvent("onAfterUpdate",function(E){if(C._update_parents(E),C.getState("batchUpdate").batch_update)return!0;var F=y.getItem(E);F.$source||(F.$source=[]);for(var G=0;G<F.$source.length;G++)f.refresh(F.$source[G]);for(F.$target||(F.$target=[]),G=0;G<F.$target.length;G++)f.refresh(F.$target[G])}),y.attachEvent("onBeforeItemMove",function(E,F,G){return!D(E,C,y)||(console.log("The placeholder task cannot be moved to another position."),!1)}),y.attachEvent("onAfterItemMove",function(E,F,G){C.getTask(E).$drop_target=null!==this.getNextSibling(E)?this.getNextSibling(E):null!==this.getPrevSibling(E)?"next:"+this.getPrevSibling(E):"next:null"}),y.attachEvent("onStoreUpdated",function(E,F,G){if("delete"==G&&C._update_flags(E,null),!C.$services.getService("state").getState("batchUpdate").batch_update){if(C.config.fit_tasks&&"paint"!==G){var V=C.getState();x(C);var B=C.getState();if(+V.min_date!=+B.min_date||+V.max_date!=+B.max_date)return C.render(),C.callEvent("onScaleAdjusted",[]),!0}"add"==G||"move"==G||"delete"==G?C.$layout&&C.$layout.resize():E||f.refresh()}}),f.attachEvent("onAfterAdd",function(E,F){w(F)}),f.attachEvent("onAfterUpdate",function(E,F){T()}),f.attachEvent("onAfterDelete",function(E,F){b(F)}),f.attachEvent("onBeforeIdChange",function(E,F){b(C.mixin({id:E},C.$data.linksStore.getItem(F))),w(C.$data.linksStore.getItem(F))}),f.attachEvent("onFilterItem",function(E,F){if(!C.config.show_links)return!1;var G=g(F.source),V=g(F.target);return!(!G||!V||C._isAllowedUnscheduledTask(C.getTask(F.source))||C._isAllowedUnscheduledTask(C.getTask(F.target)))&&C.callEvent("onBeforeLinkDisplay",[E,F])}),E=R(36),F={},C.attachEvent("onBeforeTaskDelete",function(G,V){return F[G]=E.getSubtreeLinks(C,G),!0}),C.attachEvent("onAfterTaskDelete",function(G,V){F[G]&&C.$data.linksStore.silent(function(){for(var B in F[G])C.$data.linksStore.removeItem(B),b(F[G][B]);F[G]=null})}),C.attachEvent("onAfterLinkDelete",function(E,F){C.refreshTask(F.source),C.refreshTask(F.target)}),C.attachEvent("onParse",T),P({source:f,target:C,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),P({source:y,target:C,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),C.$data={tasksStore:y,linksStore:f}}},function(j,X,R){var I=R(0),O=R(112),x=R(113),D=R(32),C=R(34),_=R(114),y=R(115),f=R(10),g=R(2).replaceValidZeroId;function w(){for(var T=this.$services.getService("datastores"),P=[],E=0;E<T.length;E++){var F=this.getDatastore(T[E]);F.$destroyed||P.push(F)}return P}D.default&&(D=D.default);j.exports={create:function(){var T=I.mixin({},{createDatastore:function(T){var P="treedatastore"==(T.type||"").toLowerCase()?C:D;if(T){var E=this;T.openInitially=function(){return E.config.open_tree_initially},T.copyOnParse=function(){return E.config.deepcopy_on_parse}}var F=new P(T);if(this.mixin(F,_(F)),T.name){var G="datastore:"+T.name;F.attachEvent("onDestroy",function(){this.$services.dropService(G);for(var B=this.$services.getService("datastores"),K=0;K<B.length;K++)if(B[K]===T.name){B.splice(K,1);break}}.bind(this)),this.$services.dropService(G),this.$services.setService(G,function(){return F});var V=this.$services.getService("datastores");V?V.indexOf(T.name)<0&&V.push(T.name):(V=[],this.$services.setService("datastores",function(){return V}),V.push(T.name)),y.bindDataStore(T.name,this)}return F},getDatastore:function(T){return this.$services.getService("datastore:"+T)},_getDatastores:w,refreshData:function(){var T;f(this)||(T=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var P=w.call(this),E=0;E<P.length;E++)P[E].refresh();this.config.preserve_scroll&&!f(this)&&(T.x||T.y)&&this.scrollTo(T.x,T.y),this.callEvent("onDataRender",[])},isChildOf:function(T,P){return this.$data.tasksStore.isChildOf(T,P)},refreshTask:function(T,P){var E=this.getTask(T),F=this;function G(){if(void 0===P||P){for(var B=0;B<E.$source.length;B++)F.refreshLink(E.$source[B]);for(B=0;B<E.$target.length;B++)F.refreshLink(E.$target[B])}}if(E&&this.isTaskVisible(T))this.$data.tasksStore.refresh(T,!!this.getState("tasksDnd").drag_id||!1===P),G();else if(this.isTaskExists(T)&&this.isTaskExists(this.getParent(T))&&!this._bulk_dnd){this.refreshTask(this.getParent(T));var V=!1;this.eachParent(function(B){(V||this.isSplitTask(B))&&(V=!0)},T),V&&G()}},refreshLink:function(T){this.$data.linksStore.refresh(T,!!this.getState("tasksDnd").drag_id)},silent:function(T){var P=this;P.$data.tasksStore.silent(function(){P.$data.linksStore.silent(function(){T()})})},clearAll:function(){for(var T=w.call(this),P=0;P<T.length;P++)T[P].silent(function(){T[P].clearAll()});for(P=0;P<T.length;P++)T[P].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(T){var P=this.$data.tasksStore;if(!this.config.select_task)return!1;if(T=g(T,this.config.root_id)){var E=this.getSelectedId();P.select(T),E&&P.pull[E].$split_subtask&&this.refreshTask(E),P.pull[T].$split_subtask&&this.refreshTask(T)}return P.getSelectedId()},unselectTask:function(T){var P=this.$data.tasksStore;P.unselect(T),T&&P.pull[T].$split_subtask&&this.refreshTask(T)},isSelectedTask:function(T){return this.$data.tasksStore.isSelected(T)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}});return I.mixin(T,O()),I.mixin(T,x()),T}}},function(j,X,R){var I=R(0),O=R(2).replaceValidZeroId;j.exports=function(){return{getTask:function(x){x=O(x,this.config.root_id),this.assert(x,"Invalid argument for gantt.getTask");var D=this.$data.tasksStore.getItem(x);return this.assert(D,"Task not found id="+x),D},getTaskByTime:function(x,D){var C=this.$data.tasksStore.getItems(),_=[];if(x||D){x=+x||-1/0,D=+D||1/0;for(var y=0;y<C.length;y++){var f=C[y];+f.start_date<D&&+f.end_date>x&&_.push(f)}}else _=C;return _},isTaskExists:function(x){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(x)},updateTask:function(x,D){I.defined(D)||(D=this.getTask(x)),this.$data.tasksStore.updateItem(x,D),this.isTaskExists(x)&&this.refreshTask(x)},addTask:function(x,D,C){return I.defined(x.id)||(x.id=I.uid()),this.isTaskExists(x.id)&&this.getTask(x.id).$index!=x.$index?(x.start_date&&"string"==typeof x.start_date&&(x.start_date=this.date.parseDate(x.start_date,"parse_date")),x.end_date&&"string"==typeof x.end_date&&(x.end_date=this.date.parseDate(x.end_date,"parse_date")),this.$data.tasksStore.updateItem(x.id,x)):(I.defined(D)||(D=this.getParent(x)||0),this.isTaskExists(D)||(D=this.config.root_id),this.setParent(x,D),this.$data.tasksStore.addItem(x,C,D))},deleteTask:function(x){return x=O(x,this.config.root_id),this.$data.tasksStore.removeItem(x)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(x){return this.$data.tasksStore.getBranchIndex(x)},getGlobalTaskIndex:function(x){return x=O(x,this.config.root_id),this.assert(x,"Invalid argument"),this.$data.tasksStore.getIndexById(x)},eachTask:function(x,D,C){return this.$data.tasksStore.eachItem(I.bind(x,C||this),D)},eachParent:function(x,D,C){return this.$data.tasksStore.eachParent(I.bind(x,C||this),D)},changeTaskId:function(x,D){this.$data.tasksStore.changeId(x,D);var C=this.$data.tasksStore.getItem(D),_=[];C.$source&&(_=_.concat(C.$source)),C.$target&&(_=_.concat(C.$target));for(var y=0;y<_.length;y++){var f=this.getLink(_[y]);f.source==x&&(f.source=D),f.target==x&&(f.target=D)}},calculateTaskLevel:function(x){return this.$data.tasksStore.calculateItemLevel(x)},getNext:function(x){return this.$data.tasksStore.getNext(x)},getPrev:function(x){return this.$data.tasksStore.getPrev(x)},getParent:function(x){return this.$data.tasksStore.getParent(x)},setParent:function(x,D,C){return this.$data.tasksStore.setParent(x,D,C)},getSiblings:function(x){return this.$data.tasksStore.getSiblings(x).slice()},getNextSibling:function(x){return this.$data.tasksStore.getNextSibling(x)},getPrevSibling:function(x){return this.$data.tasksStore.getPrevSibling(x)},getTaskByIndex:function(x){var D=this.$data.tasksStore.getIdByIndex(x);return this.isTaskExists(D)?this.getTask(D):null},getChildren:function(x){return this.hasChild(x)?this.$data.tasksStore.getChildren(x).slice():[]},hasChild:function(x){return this.$data.tasksStore.hasChild(x)},open:function(x){this.$data.tasksStore.open(x)},close:function(x){this.$data.tasksStore.close(x)},moveTask:function(x,D,C){return C=O(C,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(x,D,C,_){var y=!_;this.$data.tasksStore.sort(x,D,C),this.callEvent("onAfterSort",[x,D,C]),y&&this.render()}}}},function(j,X,R){var I=R(0);j.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(O){return this.$data.linksStore.getItem(O)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(O){return this.$data.linksStore.exists(O)},addLink:function(O){return this.$data.linksStore.addItem(O)},updateLink:function(O,x){I.defined(x)||(x=this.getLink(O)),this.$data.linksStore.updateItem(O,x)},deleteLink:function(O){return this.$data.linksStore.removeItem(O)},changeLinkId:function(O,x){return this.$data.linksStore.changeId(O,x)}}}},function(j,X){j.exports=function(R){var I=null,O=R._removeItemInner;function x(D){I=null,this.callEvent("onAfterUnselect",[D])}return R._removeItemInner=function(D){return I==D&&x.call(this,D),I&&this.eachItem&&this.eachItem(function(C){C.id==I&&x.call(this,C.id)},D),O.apply(this,arguments)},R.attachEvent("onIdChange",function(D,C){R.getSelectedId()==D&&R.silent(function(){R.unselect(D),R.select(C)})}),{select:function(D){if(D){if(I==D)return I;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[D]))return!1;this.unselect(),I=D,this._skip_refresh||(this.refresh(D),this.callEvent("onAfterSelect",[D]))}return I},getSelectedId:function(){return I},isSelected:function(D){return D==I},unselect:function(D){(D=D||I)&&(I=null,this._skip_refresh||(this.refresh(D),x.call(this,D)))}}}},function(j,X,R){var I=R(10);j.exports={bindDataStore:function(O,x){var D=x.getDatastore(O),C=function(g,w){var b=w.getLayers(),T=D.getItem(g);if(T&&D.isVisible(g))for(var P=0;P<b.length;P++)b[P].render_item(T)};function f(g){return!!g.$services.getService("state").getState("batchUpdate").batch_update}D.attachEvent("onStoreUpdated",function(g,w,b){if(I(x))return!0;var T=x.$services.getService("layers").getDataRender(O);T&&(T.onUpdateRequest=function(P){!function(g){if(g.update_items){var w;if(g.get_visible_range){var b=g.get_visible_range(D);w=D.getIndexRange(b.start,b.end)}else w=D.getVisibleItems();g.update_items(w)}}(P)})}),D.attachEvent("onStoreUpdated",function(g,w,b){f(x)||(g&&"move"!=b&&"delete"!=b?(D.callEvent("onBeforeRefreshItem",[w.id]),D.callEvent("onAfterRefreshItem",[w.id])):(D.callEvent("onBeforeRefreshAll",[]),D.callEvent("onAfterRefreshAll",[])))}),D.attachEvent("onAfterRefreshAll",function(){if(I(x))return!0;var g=x.$services.getService("layers").getDataRender(O);g&&!f(x)&&function(g){for(var w=g.getLayers(),b=0;b<w.length;b++)w[b].clear();for(var T=null,P={},E=0;E<w.length;E++){var F=w[E],G=void 0;if(F.get_visible_range){var V=F.get_visible_range(D),B=V.start+" - "+V.end;P[B]?G=P[B]:(G=D.getIndexRange(V.start,V.end),P[B]=G)}else T||(T=D.getVisibleItems()),G=T;w[E].render_items(G)}}(g)}),D.attachEvent("onAfterRefreshItem",function(g){if(I(x))return!0;var w=x.$services.getService("layers").getDataRender(O);w&&C(g,w)}),D.attachEvent("onItemOpen",function(){if(I(x))return!0;x.render()}),D.attachEvent("onItemClose",function(){if(I(x))return!0;x.render()}),D.attachEvent("onIdChange",function(g,w){if(I(x))return!0;if(D.callEvent("onBeforeIdChange",[g,w]),!f(x)&&!D.isSilent()){var b=x.$services.getService("layers").getDataRender(O);b?(function(T,P,E,F){for(var G=0;G<T.length;G++)T[G].change_id(P,E)}(b.getLayers(),g,w,D.getItem(w)),C(w,b)):x.render()}})}}},function(j,X,R){var I=R(117);j.exports={DEPRECATED_api:function(O){return new I.DataProcessor(O)},createDataProcessor:I.createDataProcessor,getDataProcessorModes:I.getAvailableModes}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.DataProcessor=X.createDataProcessor=void 0;var I=R(4),O=R(2),x=R(0),D=R(118),C=R(119),_=R(120);X.createDataProcessor=function(f){var g,w;f instanceof Function?g=f:f.hasOwnProperty("router")?g=f.router:f.hasOwnProperty("link")&&f.hasOwnProperty("task")&&(g=f),w=g?"CUSTOM":f.mode||"REST-JSON";var b=new y(f.url);return b.init(this),b.setTransactionMode({mode:w,router:g},f.batchUpdate),b};var y=function(){function f(g){this.serverProcessor=g,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=_.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),I(this)}return f.prototype.setTransactionMode=function(g,w){"object"==typeof g?(this._tMode=g.mode||this._tMode,x.defined(g.headers)&&(this._headers=g.headers),x.defined(g.payload)&&(this._payload=g.payload),this._tSend=!!w):(this._tMode=g,this._tSend=w),"REST"===this._tMode&&(this._tSend=!1),"JSON"===this._tMode||"REST-JSON"===this._tMode?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),"CUSTOM"===this._tMode&&(this._tSend=!1,this._router=g.router)},f.prototype.escape=function(g){return this._utf?encodeURIComponent(g):escape(g)},f.prototype.enableUTFencoding=function(g){this._utf=!!g},f.prototype.getSyncState=function(){return!this.updatedRows.length},f.prototype.setUpdateMode=function(g,w){this.autoUpdate="cell"===g,this.updateMode=g,this.dnd=w},f.prototype.ignore=function(g,w){this._silent_mode=!0,g.call(w||window),this._silent_mode=!1},f.prototype.setUpdated=function(g,w,b){if(!this._silent_mode){var T=this.findRow(g);b=b||"updated";var P=this.$gantt.getUserData(g,this.action_param);P&&"updated"===b&&(b=P),w?(this.set_invalid(g,!1),this.updatedRows[T]=g,this.$gantt.setUserData(g,this.action_param,b),this._in_progress[g]&&(this._in_progress[g]="wait")):this.is_invalid(g)||(this.updatedRows.splice(T,1),this.$gantt.setUserData(g,this.action_param,"")),this.markRow(g,w,b),w&&this.autoUpdate&&this.sendData(g)}},f.prototype.markRow=function(g,w,b){var T="",P=this.is_invalid(g);if(P&&(T=this.styles[P],w=!0),this.callEvent("onRowMark",[g,w,b,P])&&(this.$gantt[this._methods[0]](g,T=this.styles[w?b:"clear"]+" "+T),P&&P.details)){T+=this.styles[P+"_cell"];for(var E=0;E<P.details.length;E++)P.details[E]&&this.$gantt[this._methods[1]](g,E,T)}},f.prototype.getActionByState=function(g){return"inserted"===g?"create":"updated"===g?"update":"deleted"===g?"delete":"update"},f.prototype.getState=function(g){return this.$gantt.getUserData(g,this.action_param)},f.prototype.is_invalid=function(g){return this._invalid[g]},f.prototype.set_invalid=function(g,w,b){b&&(w={value:w,details:b,toString:function(){return this.value.toString()}}),this._invalid[g]=w},f.prototype.checkBeforeUpdate=function(g){return!0},f.prototype.sendData=function(g){return this.$gantt.editStop&&this.$gantt.editStop(),void 0===g||this._tSend?this.modes&&this.modes.task&&this.modes.link&&this.modes.task.updatedRows.length&&this.modes.link.updatedRows.length?(this.setGanttMode("task"),this.sendAllData(),this.setGanttMode("link"),void this.sendAllData()):this.sendAllData():!this._in_progress[g]&&(this.messages=[],!(!this.checkBeforeUpdate(g)&&this.callEvent("onValidationError",[g,this.messages]))&&void this._beforeSendData(this._getRowData(g),g))},f.prototype.serialize=function(g,w){if(this._serializeAsJson)return this._serializeAsJSON(g);if("string"==typeof g)return g;if(void 0!==w)return this.serialize_one(g,"");var b=[],T=[];for(var P in g)g.hasOwnProperty(P)&&(b.push(this.serialize_one(g[P],P+this._postDelim)),T.push(P));return b.push("ids="+this.escape(T.join(","))),this.$gantt.security_key&&b.push("dhx_security="+this.$gantt.security_key),b.join("&")},f.prototype.serialize_one=function(g,w){if("string"==typeof g)return g;var b=[],T="";for(var P in g)if(g.hasOwnProperty(P)){if(("id"===P||P==this.action_param)&&"REST"===this._tMode)continue;T="string"==typeof g[P]||"number"==typeof g[P]?g[P]:JSON.stringify(g[P]),b.push(this.escape((w||"")+P)+"="+this.escape(T))}return b.join("&")},f.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var g=!0;if(this._forEachUpdatedRow(function(w){g=g&&this.checkBeforeUpdate(w)}),!g&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(w){if(!this._in_progress[w]){if(this.is_invalid(w))return;this._beforeSendData(this._getRowData(w),w)}})}},f.prototype.findRow=function(g){var w=0;for(w=0;w<this.updatedRows.length&&g!=this.updatedRows[w];w++);return w},f.prototype.defineAction=function(g,w){this._uActions||(this._uActions={}),this._uActions[g]=w},f.prototype.afterUpdateCallback=function(g,w,b,T,P){if(this.$gantt){this.setGanttMode(P);var E=g,F="error"!==b&&"invalid"!==b;if(F||this.set_invalid(g,b),this._uActions&&this._uActions[b]&&!this._uActions[b](T))return delete this._in_progress[E];"wait"!==this._in_progress[E]&&this.setUpdated(g,!1);var G=g;switch(b){case"inserted":case"insert":w!=g&&(this.setUpdated(g,!1),this.$gantt[this._methods[2]](g,w),g=w);break;case"delete":case"deleted":return this.$gantt.setUserData(g,this.action_param,"true_deleted"),this.$gantt[this._methods[3]](g),delete this._in_progress[E],this.callEvent("onAfterUpdate",[g,b,w,T])}"wait"!==this._in_progress[E]?(F&&this.$gantt.setUserData(g,this.action_param,""),delete this._in_progress[E]):(delete this._in_progress[E],this.setUpdated(w,!0,this.$gantt.getUserData(g,this.action_param))),this.callEvent("onAfterUpdate",[G,b,w,T])}},f.prototype.afterUpdate=function(g,w,b){var T;T=3===arguments.length?arguments[1]:arguments[4];var P=this.getGanttMode(),E=T.filePath||T.url;P="REST"!==this._tMode&&"REST-JSON"!==this._tMode?-1!==E.indexOf("gantt_mode=links")?"link":"task":E.indexOf("/link")>E.indexOf("/task")?"link":"task",this.setGanttMode(P);var F,G=this.$gantt.ajax;try{F=JSON.parse(w.xmlDoc.responseText)}catch(Q){w.xmlDoc.responseText.length||(F={})}if(F){var V=F.action||this.getState(b)||"updated",B=F.sid||b[0],K=F.tid||b[0];return g.afterUpdateCallback(B,K,V,F,P),g.finalizeUpdate(),void this.setGanttMode(P)}var U=G.xmltop("data",w.xmlDoc);if(!U)return this.cleanUpdate(b);var ee=G.xpath("//data/action",U);if(!ee.length)return this.cleanUpdate(b);for(var ie=0;ie<ee.length;ie++){var J=ee[ie];V=J.getAttribute("type"),B=J.getAttribute("sid"),K=J.getAttribute("tid"),g.afterUpdateCallback(B,K,V,J,P)}g.finalizeUpdate()},f.prototype.cleanUpdate=function(g){if(g)for(var w=0;w<g.length;w++)delete this._in_progress[g[w]]},f.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},f.prototype.init=function(g){if(!this._initialized){this.$gantt=g,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],C.default(this.$gantt,this);var w=new D.default(this.$gantt,this);w.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,w.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},f.prototype.setOnAfterUpdate=function(g){this.attachEvent("onAfterUpdate",g)},f.prototype.setOnBeforeUpdateHandler=function(g){this.attachEvent("onBeforeDataSending",g)},f.prototype.setAutoUpdate=function(g,w){var b=this;g=g||2e3,this._user=w||(new Date).valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){b.loadUpdate()},g)},f.prototype.afterAutoUpdate=function(g,w,b,T){return"collision"!==w||(this._needUpdate=!0,!1)},f.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},f.prototype.getUpdates=function(g,w){var b=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,b.get(g,w)},f.prototype.loadUpdate=function(){var g=this,w=this.$gantt.ajax,b=this.$gantt.getUserData(0,"version"),T=this.serverProcessor+w.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+b].join("&");T=T.replace("editing=true&",""),this.getUpdates(T,function(P){var E=w.xpath("//userdata",P);g.$gantt.setUserData(0,"version",g._getXmlNodeValue(E[0]));var F=w.xpath("//update",P);if(F.length){g._silent_mode=!0;for(var G=0;G<F.length;G++){var V=F[G].getAttribute("status"),B=F[G].getAttribute("id"),K=F[G].getAttribute("parent");switch(V){case"inserted":g.callEvent("insertCallback",[F[G],B,K]);break;case"updated":g.callEvent("updateCallback",[F[G],B,K]);break;case"deleted":g.callEvent("deleteCallback",[F[G],B,K])}}g._silent_mode=!1}g._updateBusy=!1})},f.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},f.prototype.setGanttMode=function(g){"tasks"===g?g="task":"links"===g&&(g="link");var w=this.modes||{},b=this.getGanttMode();b&&(w[b]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var T=w[g];T||(T=w[g]={_in_progress:{},_invalid:{},_storage:_.default.create(),updatedRows:[]}),this._in_progress=T._in_progress,this._invalid=T._invalid,this._storage=T._storage,this.updatedRows=T.updatedRows,this.modes=w,this._ganttMode=g},f.prototype.getGanttMode=function(){return this._ganttMode},f.prototype.storeItem=function(g){this._storage.storeItem(g)},f.prototype.url=function(g){this.serverProcessor=this._serverProcessor=g},f.prototype._beforeSendData=function(g,w){if(!this.callEvent("onBeforeUpdate",[w,this.getState(w),g]))return!1;this._sendData(g,w)},f.prototype._serializeAsJSON=function(g){if("string"==typeof g)return g;var w=x.copy(g);return"REST-JSON"===this._tMode&&(delete w.id,delete w[this.action_param]),JSON.stringify(w)},f.prototype._applyPayload=function(g){var w=this.$gantt.ajax;if(this._payload)for(var b in this._payload)g=g+w.urlSeparator(g)+this.escape(b)+"="+this.escape(this._payload[b]);return g},f.prototype._cleanupArgumentsBeforeSend=function(g){var w;if(void 0===g[this.action_param])for(var b in w={},g)w[b]=this._cleanupArgumentsBeforeSend(g[b]);else w=this._cleanupItemBeforeSend(g);return w},f.prototype._cleanupItemBeforeSend=function(g){var w=null;return g&&("deleted"===g[this.action_param]?((w={}).id=g.id,w[this.action_param]=g[this.action_param]):w=g),w},f.prototype._sendData=function(g,w){var b=this;if(g){if(!this.callEvent("onBeforeDataSending",w?[w,this.getState(w),g]:[null,null,g]))return!1;w&&(this._in_progress[w]=(new Date).valueOf());var T=this.$gantt.ajax;if("CUSTOM"!==this._tMode){var P;P={callback:function(oe){var ce=[];if(w)ce.push(w);else if(g)for(var ge in g)ce.push(ge);return b.afterUpdate(b,oe,ce)},headers:this._headers};var E,F=this.serverProcessor+(this._user?T.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$gantt.getUserData(0,"version")].join("&"):""),G=this._applyPayload(F);switch(this._tMode){case"GET":E=this._cleanupArgumentsBeforeSend(g),P.url=G+T.urlSeparator(G)+this.serialize(E,w),P.method="GET";break;case"POST":E=this._cleanupArgumentsBeforeSend(g),P.url=G,P.method="POST",P.data=this.serialize(E,w);break;case"JSON":E={};var V=this._cleanupItemBeforeSend(g);for(var B in V)B!==this.action_param&&"id"!==B&&"gr_id"!==B&&(E[B]=V[B]);P.url=G,P.method="POST",P.data=JSON.stringify({id:w,action:g[this.action_param],data:E});break;case"REST":case"REST-JSON":switch(G=F.replace(/(&|\?)editing=true/,""),E="",this.getState(w)){case"inserted":P.method="POST",P.data=this.serialize(g,w);break;case"deleted":P.method="DELETE",G=G+("/"===G.slice(-1)?"":"/")+w;break;default:P.method="PUT",P.data=this.serialize(g,w),G=G+("/"===G.slice(-1)?"":"/")+w}P.url=this._applyPayload(G)}return this._waitMode++,T.query(P)}var K=this.getState(w),U=this.getActionByState(K),ee=this.getGanttMode(),ie=function(oe){var ce=K||"updated",ge=w,_e=w;oe&&(ce=oe.action||K,ge=oe.sid||ge,_e=oe.id||oe.tid||_e),b.afterUpdateCallback(ge,_e,ce,oe,ee)},J=void 0;if(this._router instanceof Function)J="object"===this._routerParametersFormat?this._router({entity:ee,action:U,data:g,id:w}):this._router(ee,U,g,w);else if(this._router[ee]instanceof Function)J=this._router[ee](U,g,w);else switch(K){case"inserted":J=this._router[ee].create(g);break;case"deleted":J=this._router[ee].delete(w);break;default:J=this._router[ee].update(g,w)}if(J){if(!J.then&&void 0===J.id&&void 0===J.tid&&void 0===J.action)throw new Error("Incorrect router return value. A Promise or a response object is expected");J.then?J.then(ie).catch(function(oe){ie(oe&&oe.action?oe:{action:"error",value:oe})}):ie(J)}else ie(null)}},f.prototype._forEachUpdatedRow=function(g){for(var w=this.updatedRows.slice(),b=0;b<w.length;b++){var T=w[b];this.$gantt.getUserData(T,this.action_param)&&g.call(this,T)}},f.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!==this.serverProcessor.indexOf("?")?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},f.prototype._getXmlNodeValue=function(g){return g.firstChild?g.firstChild.nodeValue:""},f.prototype._getAllData=function(){var g={},w=!1;return this._forEachUpdatedRow(function(b){if(!this._in_progress[b]&&!this.is_invalid(b)){var T=this._getRowData(b);this.callEvent("onBeforeUpdate",[b,this.getState(b),T])&&(g[b]=T,w=!0,this._in_progress[b]=(new Date).valueOf())}}),w?g:null},f.prototype._prepareDate=function(g){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(g):this.$gantt.templates.format_date(g)},f.prototype._prepareArray=function(g,w){var b=this;return w.push(g),g.map(function(T){return O.isDate(T)?b._prepareDate(T):Array.isArray(T)&&!O.arrayIncludes(w,T)?b._prepareArray(T,w):T&&"object"==typeof T&&!O.arrayIncludes(w,T)?b._prepareObject(T,w):T})},f.prototype._prepareObject=function(g,w){var b={};for(var T in w.push(g),g)if("$"!==T.substr(0,1)){var P=g[T];b[T]=O.isDate(P)?this._prepareDate(P):null===P?"":Array.isArray(P)&&!O.arrayIncludes(w,P)?this._prepareArray(P,w):P&&"object"==typeof P&&!O.arrayIncludes(w,P)?this._prepareObject(P,w):P}return b},f.prototype._prepareDataItem=function(g){var w=this._prepareObject(g,[]);return w[this.action_param]=this.$gantt.getUserData(g.id,this.action_param),w},f.prototype.getStoredItem=function(g){return this._storage.getStoredItem(g)},f.prototype._getRowData=function(g){var w,b=this.$gantt;return"task"===this.getGanttMode()?b.isTaskExists(g)&&(w=this.$gantt.getTask(g)):b.isLinkExists(g)&&(w=this.$gantt.getLink(g)),w||(w=this.getStoredItem(g)),w||(w={id:g}),this._prepareDataItem(w)},f}();X.DataProcessor=y},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(2),O=function(){function x(D,C){this.$gantt=D,this.$dp=C,this._dataProcessorHandlers=[]}return x.prototype.attach=function(){var D=this.$dp,C=this.$gantt,_=R(36),y={};function f(b){for(var T=D.updatedRows.slice(),P=!1,E=0;E<T.length&&!D._in_progress[b];E++)T[E]===b&&("inserted"===C.getUserData(b,"!nativeeditor_status")&&(P=!0),D.setUpdated(b,!1));return P}this._dataProcessorHandlers.push(C.attachEvent("onAfterTaskAdd",function(b,T){C.isTaskExists(b)&&(D.setGanttMode("tasks"),D.setUpdated(b,!0,"inserted"))})),this._dataProcessorHandlers.push(C.attachEvent("onAfterTaskUpdate",function(b,T){C.isTaskExists(b)&&(D.setGanttMode("tasks"),D.setUpdated(b,!0),C._sendTaskOrder&&C._sendTaskOrder(b,T))})),this._dataProcessorHandlers.push(C.attachEvent("onBeforeTaskDelete",function(b,T){return!C.config.cascade_delete||(y[b]={tasks:_.getSubtreeTasks(C,b),links:_.getSubtreeLinks(C,b)},!0)})),this._dataProcessorHandlers.push(C.attachEvent("onAfterTaskDelete",function(b,T){if(D.setGanttMode("tasks"),!f(b)){if(C.config.cascade_delete&&y[b]){var P=D.updateMode;D.setUpdateMode("off");var E=y[b];for(var F in E.tasks)f(F)||(D.storeItem(E.tasks[F]),D.setUpdated(F,!0,"deleted"));for(var F in D.setGanttMode("links"),E.links)f(F)||(D.storeItem(E.links[F]),D.setUpdated(F,!0,"deleted"));y[b]=null,"off"!==P&&D.sendAllData(),D.setGanttMode("tasks"),D.setUpdateMode(P)}D.storeItem(T),D.setUpdated(b,!0,"deleted"),"off"===D.updateMode||D._tSend||D.sendAllData()}})),this._dataProcessorHandlers.push(C.attachEvent("onAfterLinkUpdate",function(b,T){C.isLinkExists(b)&&(D.setGanttMode("links"),D.setUpdated(b,!0))})),this._dataProcessorHandlers.push(C.attachEvent("onAfterLinkAdd",function(b,T){C.isLinkExists(b)&&(D.setGanttMode("links"),D.setUpdated(b,!0,"inserted"))})),this._dataProcessorHandlers.push(C.attachEvent("onAfterLinkDelete",function(b,T){D.setGanttMode("links"),!f(b)&&(D.storeItem(T),D.setUpdated(b,!0,"deleted"))})),this._dataProcessorHandlers.push(C.attachEvent("onRowDragEnd",function(b,T){C._sendTaskOrder(b,C.getTask(b))}));var g=null,w=null;this._dataProcessorHandlers.push(C.attachEvent("onTaskIdChange",function(b,T){if(D._waitMode){var P=C.getChildren(T);if(P.length){g=g||{};for(var E=0;E<P.length;E++){var F=this.getTask(P[E]);g[F.id]=F}}var G=(K=[],(B=this.getTask(T)).$source&&(K=K.concat(B.$source)),B.$target&&(K=K.concat(B.$target)),K);if(G.length)for(w=w||{},E=0;E<G.length;E++){var V=this.getLink(G[E]);w[V.id]=V}}var B,K})),D.attachEvent("onAfterUpdateFinish",function(){(g||w)&&(C.batchUpdate(function(){for(var b in g)C.updateTask(g[b].id);for(var b in w)C.updateLink(w[b].id);g=null,w=null}),C._dp.setGanttMode(g?"tasks":"links"))}),D.attachEvent("onBeforeDataSending",function(){if("CUSTOM"===this._tMode)return!0;var b=this._serverProcessor;if("REST-JSON"===this._tMode||"REST"===this._tMode){var T=this._ganttMode;b=b.substring(0,b.indexOf("?")>-1?b.indexOf("?"):b.length),this.serverProcessor=b+("/"===b.slice(-1)?"":"/")+T}else{var P=this._ganttMode+"s";this.serverProcessor=b+C.ajax.urlSeparator(b)+"gantt_mode="+P}return!0}),D.attachEvent("insertCallback",function(b,T,P,E){var F=b.data||C.xml._xmlNodeToJSON(b.firstChild),G={add:C.addTask,isExist:C.isTaskExists};"links"===E&&(G.add=C.addLink,G.isExist=C.isLinkExists),G.isExist.call(C,T)||(F.id=T,G.add.call(C,F))}),D.attachEvent("updateCallback",function(b,T){var P=b.data||C.xml._xmlNodeToJSON(b.firstChild);if(C.isTaskExists(T)){var E=C.getTask(T);for(var F in P){var G=P[F];switch(F){case"id":continue;case"start_date":case"end_date":G=C.defined(C.templates.xml_date)?C.templates.xml_date(G):C.templates.parse_date(G);break;case"duration":E.end_date=C.calculateEndDate({start_date:E.start_date,duration:G,task:E})}E[F]=G}C.updateTask(T),C.refreshData()}}),D.attachEvent("deleteCallback",function(b,T,P,E){var F={delete:C.deleteTask,isExist:C.isTaskExists};"links"===E&&(F.delete=C.deleteLink,F.isExist=C.isLinkExists),F.isExist.call(C,T)&&F.delete.call(C,T)})},x.prototype.detach=function(){var D=this;I.forEach(this._dataProcessorHandlers,function(C){D.$gantt.detachEvent(C)}),this._dataProcessorHandlers=[]},x}();X.default=O},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(I,O){I.getUserData=function(x,D){return this.userdata||(this.userdata={}),this.userdata[x]&&this.userdata[x][D]?this.userdata[x][D]:""},I.setUserData=function(x,D,C){this.userdata||(this.userdata={}),this.userdata[x]||(this.userdata[x]={}),this.userdata[x][D]=C},I._change_id=function(x,D){"task"!==this._dp._ganttMode?this.changeLinkId(x,D):this.changeTaskId(x,D)},I._row_style=function(x,D){"task"===this._dp._ganttMode&&I.isTaskExists(x)&&(I.getTask(x).$dataprocessor_class=D,I.refreshTask(x))},I._delete_task=function(x,D){},I._sendTaskOrder=function(x,D){D.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(x).target=D.$drop_target,this._dp.setUpdated(x,!0,"order"),delete this.getTask(x).$drop_target)},I.setDp=function(){this._dp=O},I.setDp()}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(0),O=function(){function x(){var D=this;this.clear=function(){D._storage={}},this.storeItem=function(C){D._storage[C.id]=I.copy(C)},this.getStoredItem=function(C){return D._storage[C]||null},this._storage={}}return x.create=function(){return new x},x}();X.default=O},function(j,X,R){j.exports=function(I){I.ext||(I.ext={});for(var O=[R(122),R(123),R(124),R(125),R(126),R(127),R(128)],x=0;x<O.length;x++)O[x]&&O[x](I)}},function(j,X,R){var I=R(12);function O(x){var D={},C=!1;function _(w,b){b="function"==typeof b?b:function(){},D[w]||(D[w]=this[w],this[w]=b)}function y(w){D[w]&&(this[w]=D[w],D[w]=null)}function f(){for(var w in D)y.call(this,w)}function g(w){try{w()}catch(b){I.console.error(b)}}return x.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:C}},!1),function(w,b){if(C)g(w);else{var T,P=this._dp&&"off"!=this._dp.updateMode;P&&(T=this._dp.updateMode,this._dp.setUpdateMode("off"));var E={},F={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(V){E[V.id]=V}};for(var G in function(V){for(var B in V)_.call(this,B,V[B])}.call(this,F),C=!0,this.callEvent("onBeforeBatchUpdate",[]),g(w),this.callEvent("onAfterBatchUpdate",[]),f.call(this),E)this.resetProjectDates(E[G]);C=!1,b||this.render(),P&&(this._dp.setUpdateMode(T),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}j.exports=function(x){x.batchUpdate=O(x)}},function(j,X){j.exports=function(R){var x,I=(x=R,{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!x.getState().group_mode},_getWBSCode:function(D){return D?(this._isRecalcNeeded()&&this._calcWBS(),D.$virtual?"":this._isGroupSort()?D.$wbs||"":(D.$wbs||(this.reset(),this._calcWBS()),D.$wbs)):""},_setWBSCode:function(D,C){D.$wbs=C},getWBSCode:function(D){return this._getWBSCode(D)},getByWBSCode:function(D){for(var C=D.split("."),_=x.config.root_id,y=0;y<C.length;y++){var f=x.getChildren(_),g=1*C[y]-1;if(!x.isTaskExists(f[g]))return null;_=f[g]}return x.isTaskExists(_)?x.getTask(_):null},_calcWBS:function(){if(this._isRecalcNeeded()){var D=!0;x.eachTask(function(C){if(D)return D=!1,void this._setWBSCode(C,"1");var _=x.getPrevSibling(C.id);if(null!==_){var y=x.getTask(_).$wbs;y&&((y=y.split("."))[y.length-1]++,this._setWBSCode(C,y.join(".")))}else{var f=x.getParent(C.id);this._setWBSCode(C,x.getTask(f).$wbs+".1")}},x.config.root_id,this),this._needRecalc=!1}}});function O(){return I.reset(),!0}R.getWBSCode=function(x){return I.getWBSCode(x)},R.getTaskByWBSCode=function(x){return I.getByWBSCode(x)},R.attachEvent("onAfterTaskMove",O),R.attachEvent("onBeforeParse",O),R.attachEvent("onAfterTaskDelete",O),R.attachEvent("onAfterTaskAdd",O),R.attachEvent("onAfterSort",O)}},function(j,X,R){var I=R(2);j.exports=function(x){var D=function O(x){var D={},C=!1;x.$data.tasksStore.attachEvent("onStoreUpdated",function(){D={},C=!1}),x.attachEvent("onBeforeGanttRender",function(){D={}});var _=String(Math.random());function y(b){return null===b?_+String(b):String(b)}function f(b,T){return Array.isArray(b)?b.map(function(P){return y(P)}).join("_")+"_"+T:y(b)+"_"+T}function g(b,T){var P,E=f(T,b),F={};return I.forEach(T,function(G){F[y(G)]=!0}),D[E]?P=D[E]:(P=D[E]=[],x.eachTask(function(G){var V;G.type!=x.config.types.project&&b in G&&(V=I.isArray(G[b])?G[b]:[G[b]],I.forEach(V,function(B){if(F[y(B&&B.resource_id?B.resource_id:B)])P.push(G);else if(!C){var U=f(B,b);D[U]||(D[U]=[]),D[U].push(G)}}))}),C=!0),P}function w(b,T,P){var E=x.config.resource_property,F=[];if(x.getDatastore("task").exists(T)){var G=x.getTask(T);F=G[E]||[]}Array.isArray(F)||(F=[F]);for(var V=0;V<F.length;V++)F[V].resource_id==b&&P.push({task_id:G.id,resource_id:F[V].resource_id,value:F[V].value})}return{getTaskBy:function(b,T){return"function"==typeof b?(P=b,E=[],x.eachTask(function(F){P(F)&&E.push(F)}),E):I.isArray(T)?g(b,T):g(b,[T]);var P,E},getResourceAssignments:function(b,T){var P=[],E=x.config.resource_property;return void 0!==T?w(b,T,P):x.getTaskBy(E,b).forEach(function(F){w(b,F.id,P)}),P}}}(x);x.getTaskBy=D.getTaskBy,x.getResourceAssignments=D.getResourceAssignments,x.config.resource_property="owner_id",x.config.resource_store="resource",x.config.resource_render_empty_cells=!1,x.templates.histogram_cell_class=function(C,_,y,f,g){},x.templates.histogram_cell_label=function(C,_,y,f,g){return f.length+"/3"},x.templates.histogram_cell_allocated=function(C,_,y,f,g){return f.length/3},x.templates.histogram_cell_capacity=function(C,_,y,f,g){return 0},x.templates.resource_cell_class=function(C,_,y,f,g){return f.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},x.templates.resource_cell_value=function(C,_,y,f,g){return 8*f.length}}},function(j,X){j.exports=function(R){var I="$resourceAssignments";R.config.resource_assignment_store="resourceAssignments",R.config.process_resource_assignments=!0;var O_auto="auto",O_singleValue="singleValue",O_valueArray="valueArray",O_resourceValueArray="resourceValueArray",O_assignmentsArray="assignmentsArray",x=O_auto,D_fixedDates="fixedDates",D_fixedDuration="fixedDuration",D_default="default";function C(E,F){E.start_date=E.start_date?R.date.parseDate(E.start_date,"parse_date"):null,E.end_date=E.end_date?R.date.parseDate(E.end_date,"parse_date"):null;var G=Number(E.delay),V=!1;if(isNaN(G)?(E.delay=0,V=!0):E.delay=G,R.defined(E.value)||(E.value=null),!E.task_id||!E.resource_id)return!1;if(E.mode=E.mode||D_default,E.mode===D_fixedDuration&&(isNaN(Number(E.duration))&&(F=F||R.getTask(E.task_id),E.duration=R.calculateDuration({start_date:E.start_date,end_date:E.end_date,id:F})),V&&(F=F||R.getTask(E.task_id),E.delay=R.calculateDuration({start_date:F.start_date,end_date:E.start_date,id:F}))),E.mode!==D_fixedDates&&(F||R.isTaskExists(E.task_id))){var B=y(E,F=F||R.getTask(E.task_id));E.start_date=B.start_date,E.end_date=B.end_date,E.duration=B.duration}}var _=R.createDatastore({name:R.config.resource_assignment_store,initItem:function(E){return E.id||(E.id=R.uid()),C(E),E}});function y(E,F){if(E.mode===D_fixedDates)return{start_date:E.start_date,end_date:E.end_date,duration:E.duration};var G,V,B=E.delay?R.calculateEndDate({start_date:F.start_date,duration:E.delay,task:F}):new Date(F.start_date);return E.mode===D_fixedDuration?(G=R.calculateEndDate({start_date:B,duration:E.duration,task:F}),V=E.duration):(G=new Date(F.end_date),V=F.duration-E.delay),{start_date:B,end_date:G,duration:V}}function f(E){var G=E[R.config.resource_property],V=[],B=x===O_auto;if(R.defined(G)&&G){Array.isArray(G)||(G=[G],B&&(x=O_singleValue,B=!1));var K={};G.forEach(function(U){U.resource_id||(U={resource_id:U},B&&(x=O_valueArray,B=!1)),B&&(U.id&&U.resource_id?(x=O_assignmentsArray,B=!1):(x=O_resourceValueArray,B=!1));var ee,ie=D_default;U.mode||(U.start_date&&U.end_date||U.start_date&&U.duration)&&(ie=D_fixedDuration),ee=U.id||!U.$id||K[U.$id]?U.id&&!K[U.id]?U.id:R.uid():U.$id,K[ee]=!0;var J={id:ee,start_date:U.start_date,duration:U.duration,end_date:U.end_date,delay:U.delay,task_id:E.id,resource_id:U.resource_id,value:U.value,mode:U.mode||ie};J.start_date&&J.start_date.getMonth&&J.end_date&&J.end_date.getMonth&&"number"==typeof J.duration||C(J,E),V.push(J)})}return V}function g(E){if(R.isTaskExists(E)){var F=R.getTask(E);w(F,R.getTaskAssignments(F.id))}}function w(E,F){F.sort(function(G,V){return G.start_date&&V.start_date&&G.start_date.valueOf()!=V.start_date.valueOf()?G.start_date-V.start_date:0}),x==O_assignmentsArray?E[R.config.resource_property]=F:x==O_resourceValueArray&&(E[R.config.resource_property]=F.map(function(G){return{$id:G.id,start_date:G.start_date,duration:G.duration,end_date:G.end_date,delay:G.delay,resource_id:G.resource_id,value:G.value,mode:G.mode}})),E[I]=F}function b(E){var F=f(E),G=[];return F.forEach(function(V){V.id=V.id||R.uid(),G.push(V)}),F}function T(E,F){var G=function(V,B){var K={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(x==O_singleValue){var U=V[0],ee=U?U.resource_id:null,ie=!1;B.forEach(function(ce){ce.resource_id!=ee?K.inStoreNotInTask.push(ce):ce.resource_id==ee&&(K.inBoth.push({store:ce,task:U}),ie=!0)}),!ie&&U&&K.inTaskNotInStore.push(U)}else if(x==O_valueArray){var J={},Q={},oe={};V.forEach(function(ce){J[ce.resource_id]=ce}),B.forEach(function(ce){Q[ce.resource_id]=ce}),V.concat(B).forEach(function(ce){if(!oe[ce.resource_id]){oe[ce.resource_id]=!0;var ge=J[ce.resource_id],_e=Q[ce.resource_id];ge&&_e?K.inBoth.push({store:_e,task:ge}):ge&&!_e?K.inTaskNotInStore.push(ge):!ge&&_e&&K.inStoreNotInTask.push(_e)}})}else x!=O_assignmentsArray&&x!=O_resourceValueArray||(J={},Q={},oe={},V.forEach(function(ce){J[ce.id||ce.$id]=ce}),B.forEach(function(ce){Q[ce.id]=ce}),V.concat(B).forEach(function(ce){var ge=ce.id||ce.$id;if(!oe[ge]){oe[ge]=!0;var _e=J[ge],we=Q[ge];_e&&we?K.inBoth.push({store:we,task:_e}):_e&&!we?K.inTaskNotInStore.push(_e):!_e&&we&&K.inStoreNotInTask.push(we)}}));return K}(f(E),F);G.inStoreNotInTask.forEach(function(V){_.removeItem(V.id)}),G.inTaskNotInStore.forEach(function(V){_.addItem(V)}),G.inBoth.forEach(function(V){if(function(K,U){var ee={id:!0};for(var ie in K)if(!ee[ie]&&String(K[ie])!==String(U[ie]))return!0;return!1}(V.task,V.store))(function(K,U){var ee={id:!0};for(var ie in K)ee[ie]||(U[ie]=K[ie])})(V.task,V.store),_.updateItem(V.store.id);else if(V.task.start_date&&V.task.end_date&&V.task.mode!==D_fixedDates){var B=y(V.store,E);V.store.start_date.valueOf()==B.start_date.valueOf()&&V.store.end_date.valueOf()==B.end_date.valueOf()||(V.store.start_date=B.start_date,V.store.end_date=B.end_date,V.store.duration=B.duration,_.updateItem(V.store.id))}}),g(E.id)}function P(E){var F=E[I]||_.find(function(G){return G.task_id==E.id});T(E,F)}R.attachEvent("onGanttReady",function(){if(R.config.process_resource_assignments){R.attachEvent("onParse",function(){R.silent(function(){_.clearAll();var U=[];R.eachTask(function(ee){if(ee.type!==R.config.types.project){var ie=b(ee);w(ee,ie),ie.forEach(function(J){U.push(J)})}}),_.parse(U)})});var E=!1,F=!1,G={};R.attachEvent("onBeforeBatchUpdate",function(){E=!0}),R.attachEvent("onAfterBatchUpdate",function(){if(F){var U={};for(var ee in G)U[ee]=R.getTaskAssignments(G[ee].id);for(var ee in G)T(G[ee],U[ee])}F=!1,E=!1,G={}}),R.attachEvent("onTaskCreated",function(U){var ee=b(U);return _.parse(ee),w(U,ee),!0}),R.attachEvent("onAfterTaskUpdate",function(U,ee){E?(F=!0,G[U]=ee):P(ee)}),R.attachEvent("onAfterTaskAdd",function(U,ee){E?(F=!0,G[U]=ee):P(ee)}),R.attachEvent("onRowDragEnd",function(U){P(R.getTask(U))}),R.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(U,ee){var Q,ie=[U];R.eachTask(function(J){ie.push(J.id)},U),Q={},ie.forEach(function(oe){Q[oe]=!0}),_.find(function(oe){return Q[oe.task_id]}).forEach(function(oe){_.removeItem(oe.id)})}),R.$data.tasksStore.attachEvent("onClearAll",function(){return V=null,B=null,K=null,_.clearAll(),!0}),R.attachEvent("onTaskIdChange",function(U,ee){_.find(function(ie){return ie.task_id==U}).forEach(function(ie){ie.task_id=ee,_.updateItem(ie.id)}),g(ee)});var V=null,B=null,K=null;_.attachEvent("onStoreUpdated",function(){return!!E||(V=null,B=null,K=null,!0)}),R.getResourceAssignments=function(U,ee){var ie=R.defined(ee)&&null!==ee;return null===V&&(V={},B={},_.eachItem(function(J){V[J.resource_id]||(V[J.resource_id]=[]),V[J.resource_id].push(J);var Q=J.resource_id+"-"+J.task_id;B[Q]||(B[Q]=[]),B[Q].push(J)})),ie?(B[U+"-"+ee]||[]).slice():(V[U]||[]).slice()},R.getTaskAssignments=function(U){if(null===K){var ee=[];K={},_.eachItem(function(ie){K[ie.task_id]||(K[ie.task_id]=[]),K[ie.task_id].push(ie),ie.task_id==U&&ee.push(ie)})}return(K[U]||[]).slice()},R.updateTaskAssignments=g}},{once:!0})}},function(j,X){j.exports=function(R){function I(y){return function(){return!R.config.placeholder_task||y.apply(this,arguments)}}function O(){var y=R.getTaskBy("type",R.config.types.placeholder);if(!y.length||!R.isTaskExists(y[0].id)){var f={unscheduled:!0,type:R.config.types.placeholder,duration:0,text:R.locale.labels.new_task};if(!1===R.callEvent("onTaskCreated",[f]))return;R.addTask(f)}}function x(y){var f=R.getTask(y);f.type==R.config.types.placeholder&&(f.start_date&&f.end_date&&f.unscheduled&&(f.unscheduled=!1),R.batchUpdate(function(){var g=R.copy(f);R.silent(function(){R.deleteTask(f.id)}),delete g["!nativeeditor_status"],g.type=R.config.types.task,g.id=R.uid(),R.addTask(g)}))}R.config.types.placeholder="placeholder",R.attachEvent("onDataProcessorReady",I(function(y){y&&!y._silencedPlaceholder&&(y._silencedPlaceholder=!0,y.attachEvent("onBeforeUpdate",I(function(f,g,w){return w.type!=R.config.types.placeholder||(y.setUpdated(f,!1),!1)})))}));var D=!1;function C(y){return!(!R.config.types.placeholder||!R.isTaskExists(y)||R.getTask(y).type!=R.config.types.placeholder)}function _(y){return!(!C(y.source)&&!C(y.target))}R.attachEvent("onGanttReady",function(){D||(D=!0,R.attachEvent("onAfterTaskUpdate",I(x)),R.attachEvent("onAfterTaskAdd",I(function(y,f){f.type!=R.config.types.placeholder&&(R.getTaskBy("type",R.config.types.placeholder).forEach(function(g){R.silent(function(){R.isTaskExists(g.id)&&R.deleteTask(g.id)})}),O())})),R.attachEvent("onParse",I(O)))}),R.attachEvent("onLinkValidation",function(y){return!_(y)}),R.attachEvent("onBeforeLinkAdd",function(y,f){return!_(f)}),R.attachEvent("onBeforeUndoStack",function(y){for(var f=0;f<y.commands.length;f++){var g=y.commands[f];"task"===g.entity&&g.value.type===R.config.types.placeholder&&(y.commands.splice(f,1),f--)}return!0})}},function(j,X){j.exports=function(R){function I(w){return function(){return!R.config.auto_types||R.getTaskType(R.config.types.project)!=R.config.types.project||w.apply(this,arguments)}}function O(w,b){var T=R.getTask(w),P=C(T);!1!==P&&R.getTaskType(T)!==P&&(b.$needsUpdate=!0,b[T.id]={task:T,type:P})}function x(w){if(!R.getState().group_mode){var b=(O(T=w,P=P||{}),R.eachParent(function(E){O(E.id,P)},T),P);b.$needsUpdate&&R.batchUpdate(function(){!function(T){for(var P in T)if(T[P]&&T[P].task){var E=T[P].task;E.type=T[P].type,R.updateTask(E.id)}}(b)})}var T,P}var D;function C(w){var b=R.config.types,T=R.hasChild(w.id),P=R.getTaskType(w.type);return T&&P===b.task?b.project:!T&&P===b.project&&b.task}var _,y,f=!0;function g(w){w!=R.config.root_id&&R.isTaskExists(w)&&x(w)}R.attachEvent("onParse",I(function(){f=!1,R.getState().group_mode||(R.batchUpdate(function(){R.eachTask(function(w){var T,P,b=C(w);!1!==b&&(T=w,P=b,R.getState().group_mode||(T.type=P,R.updateTask(T.id)))})}),f=!0)})),R.attachEvent("onAfterTaskAdd",I(function(w){f&&x(w)})),R.attachEvent("onAfterTaskUpdate",I(function(w){f&&x(w)})),R.attachEvent("onBeforeTaskDelete",I(function(w,b){return D=R.getParent(w),!0})),R.attachEvent("onAfterTaskDelete",I(function(w,b){g(D)})),R.attachEvent("onRowDragStart",I(function(w,b,T){return _=R.getParent(w),!0})),R.attachEvent("onRowDragEnd",I(function(w,b){g(_),x(w)})),R.attachEvent("onBeforeTaskMove",I(function(w,b,T){return y=R.getParent(w),!0})),R.attachEvent("onAfterTaskMove",I(function(w,b,T){document.querySelector(".gantt_drag_marker")||(g(y),x(w))}))}},function(j,X,R){var I=R(37).default,O=R(129).default;j.exports=function(x){x.ext.formatters={durationFormatter:function(D){return D||(D={}),D.store||(D.store=x.config.duration_unit),D.enter||(D.enter=x.config.duration_unit),I.create(D,x)},linkFormatter:function(D){return O.create(D,x)}}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=function(){function O(x){var D=this;this.format=function(C){return D._getWBSCode(C.source)},this.canParse=function(C){return D._linkReg.test(C)},this.parse=function(C){if(!D.canParse(C))return null;var _=D._linkReg.exec(C)[0].trim();return{id:void 0,source:D._findSource(_)||null,target:null,type:D._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(C){var _=D._gantt.getTask(C);return D._gantt.getWBSCode(_)},this._findSource=function(C){var _=new RegExp("^[0-9.]+","i");if(_.exec(C)){var y=_.exec(C)[0],f=D._gantt.getTaskByWBSCode(y);if(f)return f.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=x}return O.create=function(x,D){return void 0===x&&(x=null),new O(D)},O}();X.default=I},function(j,X,R){j.exports=function(I){var O=R(34),x={};I.attachEvent("onClearAll",function(){x={}});var D=O.prototype.hasChild;I.$data.tasksStore.hasChild=function(C){return I.config.branch_loading?!!D.call(this,C)||!!this.exists(C)&&this.getItem(C)[I.config.branch_loading_property]:D.call(this,C)},I.attachEvent("onTaskOpened",function(C){if(I.config.branch_loading&&I._load_url&&(w=C,I.config.branch_loading&&I._load_url&&!x[w]&&!I.getChildren(w).length&&I.hasChild(w))){var _=I._load_url,y=(_=_.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",f=I.getScrollState().y||0,g={taskId:C,url:_+y+"parent_id="+encodeURIComponent(C)};if(!1===I.callEvent("onBeforeBranchLoading",[g]))return;I.load(g.url,this._load_type,function(){f&&I.scrollTo(null,f),I.callEvent("onAfterBranchLoading",[g])}),x[C]=!0}var w})}},function(j,X,R){var I=R(19);j.exports=function(O){R(138)(O),I.prototype.getGridColumns=function(){for(var x=this.$getConfig().columns,D=[],C=0;C<x.length;C++)x[C].hide||D.push(x[C]);return D}}},function(j,X){j.exports=function(R,I){return{init:function(){},doOnRender:function(){}}}},function(j,X){j.exports=function(R){var I=-1,O=-1;return{resetCache:function(){I=-1,O=-1},_getRowHeight:function(){return-1===I&&(I=R.$getConfig().row_height),I},_refreshState:function(){this.resetCache(),O=!0;var x=R.$config.rowStore;if(x)for(var D=this._getRowHeight(),C=0;C<x.fullOrder.length;C++){var _=x.getItem(x.fullOrder[C]);if(_&&_.row_height&&_.row_height!==D){O=!1;break}}},canUseSimpleCalculation:function(){return-1===O&&this._refreshState(),O},getRowTop:function(x){return R.$config.rowStore?x*this._getRowHeight():0},getItemHeight:function(x){return this._getRowHeight()},getTotalHeight:function(){return R.$config.rowStore?R.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(x){return R.$config.rowStore?Math.floor(x/this._getRowHeight()):0}}}},function(j,X,R){var I=R(1);j.exports=function(O,x){var D={row_before_start:O.bind(function(C,_,y){var f=x.$getConfig(),g=x.$config.rowStore;if(!I.locateAttribute(y,f.task_grid_row_resizer_attribute))return!1;var w=this.locate(y,f.task_grid_row_resizer_attribute),b=g.getItem(w);return!1!==x.callEvent("onBeforeRowResize",[b])&&void 0},O),row_after_start:O.bind(function(C,_,y){var f=x.$getConfig(),g=this.locate(y,f.task_grid_row_resizer_attribute);C.config.marker.innerHTML="",C.config.marker.className+=" gantt_row_grid_resize_area",C.config.marker.style.width=x.$grid.offsetWidth+"px",C.config.drag_id=g},O),row_drag_move:O.bind(function(C,_,y){var f=x.$config.rowStore,g=x.$getConfig(),w=C.config,b=w.drag_id,T=x.getItemHeight(b),P=x.getItemTop(b),E=I.getNodePosition(x.$grid_data),F=parseInt(w.marker.style.top,10),G=P+E.y,V=0,B=g.min_task_grid_row_height;return(V=F-G)<B&&(V=B),w.marker.style.left=E.x+"px",w.marker.style.top=G-1+"px",w.marker.style.height=Math.abs(V)+1+"px",w.marker_height=V,x.callEvent("onRowResize",[b,f.getItem(b),V+T]),!0},O),row_drag_end:O.bind(function(C,_,y){var g=C.config,w=g.drag_id,b=x.$config.rowStore.getItem(w),T=x.getItemHeight(w),P=g.marker_height;!1!==x.callEvent("onBeforeRowResizeEnd",[w,b,P])&&b.row_height!=P&&(b.row_height=P,O.updateTask(w),x.callEvent("onAfterRowResize",[w,b,T,P]),this.render())},O)};return{init:function(){var C=O.$services.getService("dnd"),_=x.$getConfig(),y=new C(x.$grid_data,{updates_per_second:60});O.defined(_.dnd_sensitivity)&&(y.config.sensitivity=_.dnd_sensitivity),y.attachEvent("onBeforeDragStart",function(f,g){return D.row_before_start(y,f,g)}),y.attachEvent("onAfterDragStart",function(f,g){return D.row_after_start(y,f,g)}),y.attachEvent("onDragMove",function(f,g){return D.row_drag_move(y,f,g)}),y.attachEvent("onDragEnd",function(f,g){return D.row_drag_end(y,f,g)})}}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(136);X.default=I.ColumnsGridDnd},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.ColumnsGridDnd=void 0;var I=R(1),O=R(137),x=function(){function D(C,_){var y=this;this._targetMarker=null,this.calculateCurrentPosition=function(f){var g=y.$grid.$grid.getBoundingClientRect(),w=g.right,b=g.left,T=f;return T>w&&(T=w),T<b&&(T=b),T},this.$gantt=C,this.$grid=_}return D.prototype.init=function(){var C=this.$gantt.$services.getService("dnd");this._dnd=new C(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new O.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},D.prototype.attachEvents=function(){var C=this;this._dnd.attachEvent("onBeforeDragStart",function(_,y){if(C._draggedCell=C.$gantt.utils.dom.closest(y.target,".gantt_grid_head_cell"),C._draggedCell){var f,g,w=C.$grid.$getConfig().columns,b=C._draggedCell.getAttribute("data-column-id");return w.map(function(T,P){T.name===b&&(f=T,g=P)}),!1!==C.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:f,draggedIndex:g}])&&!(!C._draggedCell||!f||(C._gridConfig=C.$grid.$getConfig(),C._originAutoscroll=C.$gantt.config.autoscroll,C.$gantt.config.autoscroll=!1,0))}}),this._dnd.attachEvent("onAfterDragStart",function(_,y){C._draggedCell&&(C._dnd.config.column=C._draggedCell.getAttribute("data-column-id"),C._dnd.config.marker.innerHTML=C._draggedCell.outerHTML,C._dnd.config.marker.classList.add("gantt_column_drag_marker"),C._dnd.config.marker.style.height=C._gridConfig.scale_height+"px",C._dnd.config.marker.style.lineHeight=C._gridConfig.scale_height+"px",C._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(_,y){if(C._draggedCell){C._dragX=y.clientX;var f=C.calculateCurrentPosition(y.clientX),g=C.findColumnsIndexes(),w=g.targetIndex,b=g.draggedIndex,T=C.$grid.$getConfig().columns;return!1===C.$grid.callEvent("onColumnDragMove",[{draggedColumn:T[b],targetColumn:T[w],draggedIndex:b,targetIndex:w}])?(C.cleanTargetMarker(),!1):(C.setMarkerPosition(f),C.drawTargetMarker(g),!0)}}),this._dnd.attachEvent("onDragEnd",function(){C._draggedCell&&(C.$gantt.config.autoscroll=C._originAutoscroll,C._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),C.cleanTargetMarker(),C.reorderColumns())})},D.prototype.reorderColumns=function(){var C=this.findColumnsIndexes(),_=C.targetIndex,y=C.draggedIndex,f=this.$grid.$getConfig().columns,g=f[y],w=f[_];!1!==this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:g,targetColumn:w,draggedIndex:y,targetIndex:_}])&&_!==y&&(f.splice(y,1),f.splice(_,0,g),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:g,targetColumn:w,draggedIndex:y,targetIndex:_}]))},D.prototype.findColumnsIndexes=function(){var C,_,y,f,g,w=this._dnd.config.column,b=this.$grid.$getConfig().columns,T={startX:0,endX:0},P=0,E=b.length-1,F=function(K,U){return K<=U},G=function(K){return++K};this.$gantt.config.rtl&&(P=b.length-1,E=0,F=function(K,U){return K>=U},G=function(K){return--K});for(var V=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),B=P;F(B,E)&&(void 0===C||void 0===_);B=G(B))b[B].hide||(T.startX=T.endX,T.endX+=b[B].width,V>=T.startX&&(V<=T.endX||!F(G(B),E))&&(C=B,y=T.startX,f=T.endX,g=(V-T.startX)/(T.endX-T.startX)),w===b[B].name&&(_=B));return{targetIndex:C,draggedIndex:_,xBefore:y,xAfter:f,columnRelativePos:g}},D.prototype.setMarkerPosition=function(C,_){void 0===_&&(_=10);var y=this._dnd.config.marker,f=this._dnd._obj.getBoundingClientRect();y.style.top=f.y+_+"px",y.style.left=C+"px"},D.prototype.drawTargetMarker=function(C){var y=C.targetIndex,f=C.draggedIndex,g=C.xBefore,w=C.xAfter,b=C.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),I.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),this._targetMarker.style.left=(y>f?w:y<f?g:b>.5?w:g)+"px",this._targetMarker.style.display="block"},D.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},D}();X.ColumnsGridDnd=x},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=function(){function O(x){this._scrollOrder=0;var C=x.grid,_=x.dnd,y=x.getCurrentX;this.$gantt=x.gantt,this.$grid=C,this._dnd=_,this.getCurrentX=y,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return O.prototype.attachEvents=function(){var x=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(D,C){var _=x.$grid.$grid.getBoundingClientRect(),y=_.right,f=_.left,g=x.getCurrentX(C.clientX);return g>=y-20&&(x.autoscrollRight(),x.autoscrollStart()),g<=f+20&&(x.autoscrollLeft(),x.autoscrollStart()),g<y-20&&g>f+20&&x.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){x.autoscrollStop()}))},O.prototype.autoscrollStart=function(){var x=this;if(0!==this._scrollOrder){var D=10*this._scrollOrder,C=this._scrollView.getScrollState();this._scrollView.scrollTo(C.position+D),setTimeout(function(){x.autoscrollStart()},50)}},O.prototype.autoscrollRight=function(){this._scrollOrder=1},O.prototype.autoscrollLeft=function(){this._scrollOrder=-1},O.prototype.autoscrollStop=function(){this._scrollOrder=0},O.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},O.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},O}();X.default=I},function(j,X){j.exports=function(R){R.getGridColumn=function(I){for(var O=R.config.columns,x=0;x<O.length;x++)if(O[x].name==I)return O[x];return null},R.getGridColumns=function(){return R.config.columns.slice()}}},function(j,X){j.exports=function(R){R.isReadonly=function(I){return"number"!=typeof I&&"string"!=typeof I||!R.isTaskExists(I)||(I=R.getTask(I)),(!I||!I[this.config.editable_property])&&(I&&I[this.config.readonly_property]||this.config.readonly)}}},function(j,X,R){function I(x){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(x)}var O=R(2);j.exports=function(x){function D(C){throw x.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(C)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(C))}x.load=function(C,_,y){this._load_url=C,this.assert(arguments.length,"Invalid load arguments");var f="json",g=null;return arguments.length>=3?(f=_,g=y):"string"==typeof arguments[1]?f=arguments[1]:"function"==typeof arguments[1]&&(g=arguments[1]),this._load_type=f,this.callEvent("onLoadStart",[C,f]),this.ajax.get(C,x.bind(function(w){this.on_load(w,f),this.callEvent("onLoadEnd",[C,f]),"function"==typeof g&&g.call(this)},this))},x.parse=function(C,_){this.on_load({xmlDoc:{responseText:C}},_)},x.serialize=function(C){return this[C=C||"json"].serialize()},x.on_load=function(C,_){if(C.xmlDoc&&404===C.xmlDoc.status)this.assert(!1,"Failed to load the data from <a href='"+C.xmlDoc.responseURL+"' target='_blank'>"+C.xmlDoc.responseURL+"</a>, server returns 404");else if(!x.$destroyed){this.callEvent("onBeforeParse",[]),_||(_="json"),this.assert(this[_],"Invalid data type:'"+_+"'");var f=this[_].parse(C.xmlDoc.responseText,C);this._process_loading(f)}},x._process_loading=function(C){C.collections&&this._load_collections(C.collections),this.$data.tasksStore.parse(C.data||C.tasks),this.$data.linksStore.parse(C.links||(C.collections?C.collections.links:[])),this.callEvent("onParse",[]),this.render()},x._load_collections=function(C){var _=!1;for(var y in C)if(C.hasOwnProperty(y)){_=!0;var f=C[y],g=this.serverList[y];if(!g)continue;g.splice(0,g.length);for(var w=0;w<f.length;w++){var b=f[w],T=this.copy(b);for(var P in T.key=T.value,b)if(b.hasOwnProperty(P)){if("value"==P||"label"==P)continue;T[P]=b[P]}g.push(T)}}_&&this.callEvent("onOptionsLoad",[])},x.attachEvent("onBeforeTaskDisplay",function(C,_){return!_.$ignore}),x.json={parse:function(C){if(C||D(C),"string"==typeof C)if(null!=("undefined"==typeof JSON?"undefined":I(JSON)))try{C=JSON.parse(C)}catch(_){D(C)}else x.assert(!1,"JSON is not supported");return C.data||C.tasks||D(C),C.dhx_security&&(x.security_key=C.dhx_security),C},serializeTask:function(C){return this._copyObject(C)},serializeLink:function(C){return this._copyLink(C)},_copyLink:function(C){var _={};for(var y in C)_[y]=C[y];return _},_copyObject:function(C){var _={};for(var y in C)"$"!=y.charAt(0)&&(_[y]=C[y],O.isDate(_[y])&&(_[y]=x.defined(x.templates.xml_format)?x.templates.xml_format(_[y]):x.templates.format_date(_[y])));return _},serialize:function(){var C=[],_=[];x.eachTask(function(g){x.resetProjectDates(g),C.push(this.serializeTask(g))},x.config.root_id,this);for(var y=x.getLinks(),f=0;f<y.length;f++)_.push(this.serializeLink(y[f]));return{data:C,links:_}}},x.xml={_xmlNodeToJSON:function(C,_){for(var y={},f=0;f<C.attributes.length;f++)y[C.attributes[f].name]=C.attributes[f].value;if(!_){for(f=0;f<C.childNodes.length;f++){var g=C.childNodes[f];1==g.nodeType&&(y[g.tagName]=g.firstChild?g.firstChild.nodeValue:"")}y.text||(y.text=C.firstChild?C.firstChild.nodeValue:"")}return y},_getCollections:function(C){for(var _={},y=x.ajax.xpath("//coll_options",C),f=0;f<y.length;f++)for(var g=_[y[f].getAttribute("for")]=[],w=x.ajax.xpath(".//item",y[f]),b=0;b<w.length;b++){for(var T=w[b].attributes,P={key:w[b].getAttribute("value"),label:w[b].getAttribute("label")},E=0;E<T.length;E++){var F=T[E];"value"!=F.nodeName&&"label"!=F.nodeName&&(P[F.nodeName]=F.nodeValue)}g.push(P)}return _},_getXML:function(C,_,y){y=y||"data",_.getXMLTopNode||(_=x.ajax.parse(_));var f=x.ajax.xmltop(y,_.xmlDoc);f&&f.tagName==y||function(w){throw x.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(w)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(w))}(C);var g=f.getAttribute("dhx_security");return g&&(x.security_key=g),f},parse:function(C,_){_=this._getXML(C,_);for(var y={},f=y.data=[],g=x.ajax.xpath("//task",_),w=0;w<g.length;w++)f[w]=this._xmlNodeToJSON(g[w]);return y.collections=this._getCollections(_),y},_copyLink:function(C){return"<item id='"+C.id+"' source='"+C.source+"' target='"+C.target+"' type='"+C.type+"' />"},_copyObject:function(C){return"<task id='"+C.id+"' parent='"+(C.parent||"")+"' start_date='"+C.start_date+"' duration='"+C.duration+"' open='"+!!C.open+"' progress='"+C.progress+"' end_date='"+C.end_date+"'><![CDATA["+C.text+"]]></task>"},serialize:function(){for(var C=[],_=[],y=x.json.serialize(),f=0,g=y.data.length;f<g;f++)C.push(this._copyObject(y.data[f]));for(f=0,g=y.links.length;f<g;f++)_.push(this._copyLink(y.links[f]));return"<data>"+C.join("")+"<coll_options for='links'>"+_.join("")+"</coll_options></data>"}},x.oldxml={parse:function(C,_){_=x.xml._getXML(C,_,"projects");for(var y={collections:{links:[]}},f=y.data=[],g=x.ajax.xpath("//task",_),w=0;w<g.length;w++){f[w]=x.xml._xmlNodeToJSON(g[w]);var b=g[w].parentNode;f[w].parent="project"==b.tagName?"project-"+b.getAttribute("id"):b.parentNode.getAttribute("id")}for(g=x.ajax.xpath("//project",_),w=0;w<g.length;w++)(T=x.xml._xmlNodeToJSON(g[w],!0)).id="project-"+T.id,f.push(T);for(w=0;w<f.length;w++){var T;(T=f[w]).start_date=T.startdate||T.est,T.end_date=T.enddate,T.text=T.name,T.duration=T.duration/8,T.open=1,T.duration||T.end_date||(T.duration=1),T.predecessortasks&&y.collections.links.push({target:T.id,source:T.predecessortasks,type:x.config.links.finish_to_start})}return y},serialize:function(){x.message("Serialization to 'old XML' is not implemented")}},x.serverList=function(C,_){return _?this.serverList[C]=_.slice(0):this.serverList[C]||(this.serverList[C]=[]),this.serverList[C]}}},function(j,X,R){var I=R(142),O=R(151),x=R(153),D=R(0);j.exports=function(C){var _=new I(C),y=new O(_),f=x.create(_,y);D.mixin(C,f)}},function(j,X,R){var I=R(0),O=R(39),x=R(143),D=R(144),C=R(149),_=R(150)();function y(f){this.$gantt=f,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=C.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}y.prototype={_calendars:{},_convertWorkTimeSettings:function(f){var g=f.days;if(g&&!f.dates){f.dates=f.dates||{};for(var w=0;w<g.length;w++)f.dates[w]=g[w],g[w]instanceof Array||(f.dates[w]=!!g[w])}return delete f.days,f},mergeCalendars:function(){var f=[],g=arguments;if(Array.isArray(g[0]))f=g[0].slice();else for(var w=0;w<arguments.length;w++)f.push(arguments[w]);var b,T=new x;return f.forEach(function(P){b=b?this._createCalendarFromConfig(T.merge(b,P)):P}.bind(this)),this.createCalendar(b)},_createCalendarFromConfig:function(f){var g=new D(this.$gantt,O(this.$gantt));g.id=String(I.uid());var w=this._convertWorkTimeSettings(f);if(w.customWeeks)for(var b in w.customWeeks)w.customWeeks[b]=this._convertWorkTimeSettings(w.customWeeks[b]);return g._setConfig(w),g},createCalendar:function(f){var g;f||(f={}),g=I.copy(f.getConfig?f.getConfig():f.worktime?f.worktime:f);var w=I.copy(this.defaults.fulltime.worktime);return I.mixin(g,w),this._createCalendarFromConfig(g)},getCalendar:function(f){var g=this._calendars[f=f||"global"];return g||(this.createDefaultCalendars(),g=this._calendars[f]),g},getCalendars:function(){var f=[];for(var g in this._calendars)f.push(this.getCalendar(g));return f},_getOwnCalendar:function(f){var g=this.$gantt.config;if(f[g.calendar_property])return this.getCalendar(f[g.calendar_property]);if(g.resource_calendars){var w;if(w=!1===this._legacyConfig?g.resource_property:C.getResourceProperty(g),Array.isArray(f[w]))g.dynamic_resource_calendars&&(b=_.getCalendarIdFromMultipleResources(f[w],this));else if(void 0===this._legacyConfig&&(this._legacyConfig=C.isLegacyResourceCalendarFormat(g.resource_calendars)),this._legacyConfig)var b=C.getCalendarIdFromLegacyConfig(f,g.resource_calendars);else if(w&&f[w]&&g.resource_calendars[f[w]])var T=this.getResourceCalendar(f[w]);if(b&&(T=this.getCalendar(b)),T)return T}return null},getResourceCalendar:function(f){if(null==f)return this.getCalendar();var g;g="number"==typeof f||"string"==typeof f?f:f.id||f.key;var w=this.$gantt.config,b=w.resource_calendars,T=null;if(b){if(void 0===this._legacyConfig&&(this._legacyConfig=C.isLegacyResourceCalendarFormat(w.resource_calendars)),this._legacyConfig){for(var P in b)if(b[P][g]){T=b[P][g];break}}else T=b[g];if(T)return this.getCalendar(T)}return this.getCalendar()},getTaskCalendar:function(f){var g,w=this.$gantt;if(null==f)return this.getCalendar();if(!(g="number"!=typeof f&&"string"!=typeof f||!w.isTaskExists(f)?f:w.getTask(f)))return this.getCalendar();var b=this._getOwnCalendar(g),T=!!w.getState().group_mode;if(!b&&w.config.inherit_calendar&&w.isTaskExists(g.parent)){for(var P=g;w.isTaskExists(P.parent)&&(P=w.getTask(P.parent),!w.isSummaryTask(P)||!(b=this._getOwnCalendar(P))););T&&!b&&f.$effective_calendar&&(b=this.getCalendar(f.$effective_calendar))}return b||this.getCalendar()},addCalendar:function(f){if(!this.isCalendar(f)){var g=f.id;(f=this.createCalendar(f)).id=g}if(f._tryChangeCalendarSettings(function(){})){var w=this.$gantt.config;return f.id=f.id||I.uid(),this._calendars[f.id]=f,w.worktimes||(w.worktimes={}),w.worktimes[f.id]=f.getConfig(),f.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},f]),null},deleteCalendar:function(f){var g=this.$gantt.config;return!!f&&!!this._calendars[f]&&(delete this._calendars[f],g.worktimes&&g.worktimes[f]&&delete g.worktimes[f],!0)},restoreConfigCalendars:function(f){for(var g in f)if(!this._calendars[g]){var b=this.createCalendar(f[g]);b.id=g,this.addCalendar(b)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var f=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(f.worktimes)},isCalendar:function(f){return[f.isWorkTime,f.setWorkTime,f.getWorkHours,f.unsetWorkTime,f.getClosestWorkTime,f.calculateDuration,f.hasDuration,f.calculateEndDate].every(function(g){return g instanceof Function})}},j.exports=y},function(j,X,R){var I=R(0);function O(){}O.prototype={_getIntervals:function(x){for(var D=[],C=0;C<x.length;C+=2)D.push({start:x[C],end:x[C+1]});return D},_toHoursArray:function(x){var D=[];function C(y){var w,b,f=Math.floor(y/3600);return f+":"+(w=Math.floor((y-60*f*60)/60),(b=String(w)).length<2&&(b="0"+b),b)}for(var _=0;_<x.length;_++)D.push(C(x[_].start)+"-"+C(x[_].end));return D},_intersectHourRanges:function(x,D){var C=[],_=x.length>D.length?x:D,y=x===_?D:x;_=_.slice(),y=y.slice(),C=[];for(var f=0;f<_.length;f++)for(var g=_[f],w=0;w<y.length;w++){var b=y[w];b.start<g.end&&b.end>g.start&&(C.push({start:Math.max(g.start,b.start),end:Math.min(g.end,b.end)}),g.end>b.end&&(y.splice(w,1),w--,f--))}return C},_mergeAdjacentIntervals:function(x){var D=x.slice();D.sort(function(f,g){return f.start-g.start});for(var C=D[0],_=1;_<D.length;_++){var y=D[_];y.start<=C.end?(y.end>C.end&&(C.end=y.end),D.splice(_,1),_--):C=y}return D},_mergeHoursConfig:function(x,D){return this._mergeAdjacentIntervals(this._intersectHourRanges(x,D))},merge:function(x,D){var C=I.copy(x.getConfig().parsed),_=I.copy(D.getConfig().parsed),y={hours:this._toHoursArray(this._mergeHoursConfig(C.hours,_.hours)),dates:{},customWeeks:{}};for(var f in C.dates){var g=C.dates[f],w=_.dates[f];if(g&&w)if(Array.isArray(g)||Array.isArray(w)){var b=Array.isArray(g)?g:C.hours,T=Array.isArray(w)?w:_.hours;y.dates[f]=this._toHoursArray(this._mergeHoursConfig(b,T))}else y.dates[f]=!0;else y.dates[f]=!1}if(C.customWeeks)for(var f in C.customWeeks)y.customWeeks[f]=C.customWeeks[f];if(_.customWeeks)for(var f in _.customWeeks)y.customWeeks[f]=_.customWeeks[f];return y}},j.exports=O},function(j,X,R){var I=R(40).createCacheObject,O=R(40).LargerUnitsCache,x=R(0),D=R(148).DateDurationCache;function C(_,y){this.argumentsHelper=y,this.$gantt=_,this._workingUnitsCache=I(),this._largeUnitsCache=new O(this),this._dateDurationCache=new D,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}C.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(_){for(var y=0,f=this.units.length;y<f;y++)if(this.units[y]==_)return y},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(_){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var y=null;if(_.day||0===_.day)y=_.day;else if(_.date){var f=String(_.date.valueOf());this._cached_timestamps[f]?y=this._cached_timestamps[f]:(y=Date.UTC(_.date.getFullYear(),_.date.getMonth(),_.date.getDate()),this._cached_timestamps[f]=y,this._cached_timestamps_count++)}return y},_checkIfWorkingUnit:function(_,y){return!this["_is_work_"+y]||this["_is_work_"+y](_)},_is_work_day:function(_){var y=this._getWorkHours(_);return!!Array.isArray(y)&&y.length>0},_is_work_hour:function(_){for(var y=this._getWorkHours(_),f=_.getHours(),g=0;g<y.length;g++)if(f>=y[g].startHour&&f<y[g].endHour)return!0;return!1},_getTimeOfDayStamp:function(_,y){var f=_.getHours();return _.getHours()||_.getMinutes()||!y||(f=24),60*f*60+60*_.getMinutes()},_is_work_minute:function(_){for(var y=this._getWorkHours(_),f=this._getTimeOfDayStamp(_),g=0;g<y.length;g++)if(f>=y[g].start&&f<y[g].end)return!0;return!1},_nextDate:function(_,y,f){return this.$gantt.date.add(_,f,y)},_getWorkUnitsBetweenGeneric:function(_,y,f,g){var w=this.$gantt.date,b=new Date(_),T=new Date(y);g=g||1;var P,E,F=0,G=null,V=!1;(P=w[f+"_start"](new Date(b))).valueOf()!=b.valueOf()&&(V=!0);var B=!1;(E=w[f+"_start"](new Date(y))).valueOf()!=y.valueOf()&&(B=!0);for(var K=!1;b.valueOf()<T.valueOf();){if(K=(G=this._nextDate(b,f,g)).valueOf()>T.valueOf(),this._isWorkTime(b,f))(V||B&&K)&&(P=w[f+"_start"](new Date(b)),E=w.add(P,g,f)),V?(V=!1,G=this._nextDate(P,f,g),F+=(E.valueOf()-b.valueOf())/(E.valueOf()-P.valueOf())):B&&K?(B=!1,F+=(T.valueOf()-b.valueOf())/(E.valueOf()-P.valueOf())):F++;else{var U=this._getUnitOrder(f),ee=this.units[U-1];ee&&!this._isWorkTime(b,ee)&&(G=this._getClosestWorkTimeFuture(b,ee))}b=G}return F},_getMinutesPerHour:function(_){var y=this._getTimeOfDayStamp(_),f=this._getTimeOfDayStamp(this._nextDate(_,"hour",1));0===f&&(f=86400);for(var g=this._getWorkHours(_),w=0;w<g.length;w++){var b=g[w];if(y>=b.start&&f<=b.end)return 60;if(y<b.end&&f>b.start)return(Math.min(f,b.end)-Math.max(y,b.start))/60}return 0},_getMinutesPerDay:function(_){var y=0;return this._getWorkHours(_).forEach(function(f){y+=f.durationMinutes}),y},getHoursPerDay:function(_){var y=0;return this._getWorkHours(_).forEach(function(f){y+=f.durationHours}),y},_getWorkUnitsForRange:function(_,y,f,g){var w,b=0,T=new Date(_),P=new Date(y);for(w=x.bind("minute"==f?this._getMinutesPerDay:this.getHoursPerDay,this);T.valueOf()<P.valueOf();)if(P-T>27648e5&&0===T.getDate()){var E=this._largeUnitsCache.getMinutesPerMonth(T);"hour"==f&&(E/=60),b+=E,T=this.$gantt.date.add(T,1,"month")}else{if(P-T>13824e5){var F=this.$gantt.date.week_start(new Date(T));if(T.valueOf()===F.valueOf()){E=this._largeUnitsCache.getMinutesPerWeek(T),"hour"==f&&(E/=60),b+=E,T=this.$gantt.date.add(T,7,"day");continue}}b+=w(T),T=this._nextDate(T,"day",1)}return b/g},_getMinutesBetweenSingleDay:function(_,y){for(var f=this._getIntervalTimestamp(_,y),g=this._getWorkHours(_),w=0,b=0;b<g.length;b++){var T=g[b];if(f.end>=T.start&&f.start<=T.end){var P=Math.max(T.start,f.start),E=Math.min(T.end,f.end);w+=(E-P)/60,f.start=E}}return Math.floor(w)},_getMinutesBetween:function(_,y,f,g){var w=new Date(_),b=new Date(y);g=g||1;var T=new Date(w),P=this.$gantt.date.add(this.$gantt.date.day_start(new Date(w)),1,"day");if(b.valueOf()<=P.valueOf())return this._getMinutesBetweenSingleDay(_,y);var E=this.$gantt.date.day_start(new Date(b)),F=b,G=this._getMinutesBetweenSingleDay(T,P),V=this._getMinutesBetweenSingleDay(E,F);return G+this._getWorkUnitsForRange(P,E,f,g)+V},_getHoursBetween:function(_,y,f,g){var w=new Date(_),b=new Date(y);g=g||1;var T=new Date(w),P=this.$gantt.date.add(this.$gantt.date.day_start(new Date(w)),1,"day");if(b.valueOf()<=P.valueOf())return Math.round(this._getMinutesBetweenSingleDay(_,y)/60);var E=this.$gantt.date.day_start(new Date(b)),F=b,G=this._getMinutesBetweenSingleDay(T,P,f,g)/60,V=this._getMinutesBetweenSingleDay(E,F,f,g)/60,B=G+this._getWorkUnitsForRange(P,E,f,g)+V;return Math.round(B)},getConfig:function(){return this._worktime},_setConfig:function(_){this._worktime=_,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var _=this.getConfig();for(var y in _.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},_.parsed.hours=this._parseHours(_.hours),_.dates)_.parsed.dates[y]=this._parseHours(_.dates[y]);if(_.customWeeks){var f=null,g=null;for(var y in _.customWeeks){var w=_.customWeeks[y];if(w.from&&w.to){var b=w.from,T=w.to;(!f||f>b.valueOf())&&(f=b.valueOf()),(!g||g<T.valueOf())&&(g=T.valueOf()),_.parsed.customWeeksBoundaries.push({from:b.valueOf(),fromReadable:new Date(b),to:T.valueOf(),toReadable:new Date(T),name:y}),_.parsed.haveCustomWeeks=!0;var P=_.parsed.customWeeks[y]={from:w.from,to:w.to,hours:this._parseHours(w.hours),dates:{}};for(var E in w.dates)P.dates[E]=this._parseHours(w.dates[E])}}_.parsed.customWeeksRangeStart=f,_.parsed.customWeeksRangeEnd=g}},_tryChangeCalendarSettings:function(_){var y=JSON.stringify(this.getConfig());return _(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(y)),this._clearCaches(),!1)},_arraysEqual:function(_,y){if(_===y)return!0;if(!_||!y||_.length!=y.length)return!1;for(var f=0;f<_.length;++f)if(_[f]!==y[f])return!1;return!0},_compareSettings:function(_,y){if(!this._arraysEqual(_.hours,y.hours))return!1;var f=Object.keys(_.dates),g=Object.keys(y.dates);if(f.sort(),g.sort(),!this._arraysEqual(f,g))return!1;for(var w=0;w<f.length;w++){var b=f[w],T=_.dates[b],P=_.dates[b];if(T!==P&&!(Array.isArray(T)&&Array.isArray(P)&&this._arraysEqual(T,P)))return!1}return!0},equals:function(_){if(!(_ instanceof C))return!1;var y=this.getConfig(),f=_.getConfig();if(!this._compareSettings(y,f))return!1;if(y.parsed.haveCustomWeeks&&f.parsed.haveCustomWeeks){if(y.parsed.customWeeksBoundaries.length!=f.parsed.customWeeksBoundaries.length)return!1;for(var g in y.parsed.customWeeks){var b=f.parsed.customWeeks[g];if(!b||!this._compareSettings(y.parsed.customWeeks[g],b))return!1}}else if(y.parse.haveCustomWeeks!==f.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var _=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(_.date,!1)},_getWorkHours:function(_,y){var f=this.getConfig();if(!1!==y&&(f=f.parsed),!_)return f.hours;var g=this._timestamp({date:_});if(f.haveCustomWeeks&&f.customWeeksRangeStart<=g&&f.customWeeksRangeEnd>g)for(var w=0;w<f.customWeeksBoundaries.length;w++)if(f.customWeeksBoundaries[w].from<=g&&f.customWeeksBoundaries[w].to>g){f=f.customWeeks[f.customWeeksBoundaries[w].name];break}var b=!0;return void 0!==f.dates[g]?b=f.dates[g]:void 0!==f.dates[_.getDay()]&&(b=f.dates[_.getDay()]),!0===b?f.hours:b||[]},_getIntervalTimestamp:function(_,y){var f={start:0,end:0};f.start=60*_.getHours()*60+60*_.getMinutes()+_.getSeconds();var g=y.getHours();return!g&&!y.getMinutes()&&!y.getSeconds()&&_.valueOf()<y.valueOf()&&(g=24),f.end=60*g*60+60*y.getMinutes()+y.getSeconds(),f},_parseHours:function(_){if(Array.isArray(_)){var y=[];_.forEach(function(P){"number"==typeof P?y.push(60*P*60):"string"==typeof P&&P.split("-").map(function(E){return E.trim()}).forEach(function(E){var F=E.split(":").map(function(V){return V.trim()}),G=parseInt(60*F[0]*60);F[1]&&(G+=parseInt(60*F[1])),F[2]&&(G+=parseInt(F[2])),y.push(G)})});for(var f=[],g=0;g<y.length;g+=2){var w=y[g],b=y[g+1],T=b-w;f.push({start:w,end:b,startHour:Math.floor(w/3600),startMinute:Math.floor(w/60),endHour:Math.ceil(b/3600),endMinute:Math.ceil(b/60),durationSeconds:T,durationMinutes:T/60,durationHours:T/3600})}return f}return _},setWorkTime:function(_){return this._tryChangeCalendarSettings(x.bind(function(){var y=void 0===_.hours||_.hours,f=this._timestamp(_),g=this.getConfig();if(null!==f?g.dates[f]=y:_.customWeeks||(g.hours=y),_.customWeeks)for(var w in g.customWeeks||(g.customWeeks={}),_.customWeeks)g.customWeeks[w]=_.customWeeks[w];this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(_){return this._tryChangeCalendarSettings(x.bind(function(){if(_){var y=this._timestamp(_);null!==y&&delete this.getConfig().dates[y]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(_,y){var g,f=-1;return g=String(_.valueOf()),-1==(f=this._workingUnitsCache.getItem(y,g,_))&&(f=this._checkIfWorkingUnit(_,y),this._workingUnitsCache.setItem(y,g,f,_)),f},isWorkTime:function(){var _=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(_.date,_.unit)},calculateDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!_.unit)return!1;var y=this;return this._dateDurationCache.getDuration(_.start_date,_.end_date,_.unit,_.step,function(){return y._calculateDuration(_.start_date,_.end_date,_.unit,_.step)})},_calculateDuration:function(_,y,f,g){var w,b=1;if(_.valueOf()>y.valueOf()){var T=y;y=_,_=T,b=-1}return w="hour"==f&&1==g?this._getHoursBetween(_,y,f,g):"minute"==f&&1==g?this._getMinutesBetween(_,y,f,g):this._getWorkUnitsBetweenGeneric(_,y,f,g),b*Math.round(w)},hasDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),f=_.end_date,g=_.unit,w=_.step;if(!g)return!1;var b=new Date(_.start_date),T=new Date(f);for(w=w||1;b.valueOf()<T.valueOf();){if(this._isWorkTime(b,g))return!0;b=this._nextDate(b,g,w)}return!1},calculateEndDate:function(){var _=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),y=_.start_date,f=_.duration,g=_.unit,w=_.step;if(!g)return!1;var b=_.duration>=0?1:-1;f=Math.abs(1*f);var T=this;return this._dateDurationCache.getEndDate(y,f,g,w*b,function(){return T._calculateEndDate(y,f,g,w*b)})},_calculateEndDate:function(_,y,f,g){return!!f&&(1==g&&"minute"==f?this._calculateMinuteEndDate(_,y,g):-1==g&&"minute"==f?this._subtractMinuteDate(_,y,g):1==g&&"hour"==f?this._calculateHourEndDate(_,y,g):this._addInterval(_,y,f,g,null).end)},_addInterval:function(_,y,f,g,w){for(var b=0,T=_,P=new Date(T.valueOf()-1),E=T.getTimezoneOffset()-P.getTimezoneOffset();b<y&&(!w||!w(T));){var F=this._nextDate(T,f,g);E<0&&g>0&&(F.setTime(F.getTime()+6e4*E),E=!1);var G=F.getTimezoneOffset()-T.getTimezoneOffset();G<0&&g>0&&"day"!=f&&F.setTime(F.getTime()+6e4*G);var V=new Date(F.valueOf()+1);g>0&&(V=new Date(F.valueOf()-1)),this._isWorkTime(V,f)&&b++,T=F}return{end:T,start:_,added:b}},_addHoursUntilDayEnd:function(_,y){for(var f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(_)),1,"day"),g=0,w=y,b=this._getIntervalTimestamp(_,f),T=this._getWorkHours(_),P=0;P<T.length&&g<y;P++){var E=T[P];if(b.end>=E.start&&b.start<=E.end){var F=Math.max(E.start,b.start),G=Math.min(E.end,b.end),V=(G-F)/3600;V>w&&(V=w,G=F+60*w*60);var B=Math.round((G-F)/3600);g+=B,w-=B,b.start=G}}var K=f;return g===y&&(K=new Date(_.getFullYear(),_.getMonth(),_.getDate(),0,0,b.start)),{added:g,end:K}},_calculateHourEndDate:function(_,y,f){var g=new Date(_),w=0;f=f||1,y=Math.abs(1*y);var b=this._addHoursUntilDayEnd(g,y);if(g=b.end,F=y-(w=b.added)){for(var T=g;w<y;){var P=this._nextDate(T,"day",f);P.setHours(0),P.setMinutes(0),P.setSeconds(0);var E;if(w+(E=this.getHoursPerDay(f>0?new Date(P.valueOf()-1):new Date(P.valueOf()+1)))>=y)break;w+=E,T=P}g=T}if(w<y){var F=y-w;g=(b=this._addHoursUntilDayEnd(g,F)).end}return g},_addMinutesUntilHourEnd:function(_,y){if(0===_.getMinutes())return{added:0,end:new Date(_)};for(var f=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(_)),1,"hour"),g=0,w=y,b=this._getIntervalTimestamp(_,f),T=this._getWorkHours(_),P=0;P<T.length&&g<y;P++){var E=T[P];if(b.end>=E.start&&b.start<=E.end){var F=Math.max(E.start,b.start),G=Math.min(E.end,b.end),V=(G-F)/60;V>w&&(V=w,G=F+60*w);var B=Math.round((G-F)/60);w-=B,g+=B,b.start=G}}var K=f;return g===y&&(K=new Date(_.getFullYear(),_.getMonth(),_.getDate(),0,0,b.start)),{added:g,end:K}},_subtractMinutesUntilHourStart:function(_,y){for(var f=this.$gantt.date.hour_start(new Date(_)),g=0,w=y,b=60*f.getHours()*60+60*f.getMinutes()+f.getSeconds(),T=60*_.getHours()*60+60*_.getMinutes()+_.getSeconds(),P=this._getWorkHours(_),E=P.length-1;E>=0&&g<y;E--){var F=P[E];if(T>F.start&&b<=F.end){var G=Math.min(T,F.end),V=Math.max(b,F.start),B=(G-V)/60;B>w&&(B=w,V=G-60*w);var K=Math.abs(Math.round((G-V)/60));w-=K,g+=K,T=V}}var U=f;return g===y&&(U=new Date(_.getFullYear(),_.getMonth(),_.getDate(),0,0,T)),{added:g,end:U}},_subtractMinuteDate:function(_,y,f){var g=new Date(_),w=0;f=f||-1,y=Math.abs(1*y),y=Math.round(y);var b=this._subtractMinutesUntilHourStart(g,y);w+=b.added,g=b.end;for(var T=0,P=[],E=0;w<y;){var F=this.$gantt.date.day_start(new Date(g)),G=!1;g.valueOf()===F.valueOf()&&(F=this.$gantt.date.add(F,-1,"day"),G=!0);var V=new Date(F.getFullYear(),F.getMonth(),F.getDate(),23,59,59,999).valueOf();V!==T&&(P=this._getWorkHours(F),E=this._getMinutesPerDay(F),T=V);var B=y-w,K=this._getTimeOfDayStamp(g,G);if(P.length&&E)if(P[P.length-1].end<=K&&B>E)w+=E,g=this.$gantt.date.add(g,-1,"day");else{for(var U=!1,ee=null,ie=P.length-1;ie>=0;ie--)if(P[ie].start<K-1&&P[ie].end>=K-1){U=!0,ee=P[ie];break}if(U)if(K===ee.end&&B>=ee.durationMinutes)w+=ee.durationMinutes,g=this.$gantt.date.add(g,-ee.durationMinutes,"minute");else if(B<=K/60-ee.startMinute)w+=B,g=this.$gantt.date.add(g,-B,"minute");else{var J=this._getMinutesPerHour(g);J<=B?(w+=J,g=this._nextDate(g,"hour",f)):(w+=(b=this._subtractMinutesUntilHourStart(g,B)).added,g=b.end)}else if(0===g.getHours()&&0===g.getMinutes()&&0===g.getSeconds()){if((Q=this._getClosestWorkTimePast(g,"hour")).valueOf()===g.valueOf()){var Q=this.$gantt.date.add(g,-1,"day"),oe=this._getWorkHours(Q);oe.length&&Q.setSeconds(oe[oe.length-1].durationSeconds)}g=Q}else g=this._getClosestWorkTimePast(new Date(g-1),"hour")}else g=this.$gantt.date.add(g,-1,"day")}return w<y&&(w+=(b=this._subtractMinutesUntilHourStart(g,y-w)).added,g=b.end),g},_calculateMinuteEndDate:function(_,y,f){var g=new Date(_),w=0;f=f||1,y=Math.abs(1*y),y=Math.round(y);var b=this._addMinutesUntilHourEnd(g,y);w+=b.added,g=b.end;for(var T=0,P=[],E=0;w<y;){var F=this.$gantt.date.day_start(new Date(g)).valueOf();F!==T&&(P=this._getWorkHours(g),E=this._getMinutesPerDay(g),T=F);var G=y-w,V=this._getTimeOfDayStamp(g);if(P.length&&E)if(P[0].start>=V&&G>=E){if(w+=E,G==E){g=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,P[P.length-1].end);break}g=this.$gantt.date.add(g,1,"day"),g=this.$gantt.date.day_start(g)}else{for(var B=!1,K=null,U=0;U<P.length;U++)if(P[U].start<=V&&P[U].end>V){B=!0,K=P[U];break}if(B)if(V===K.start&&G>=K.durationMinutes)w+=K.durationMinutes,g=this.$gantt.date.add(g,K.durationMinutes,"minute");else if(G<=K.endMinute-V/60)w+=G,g=this.$gantt.date.add(g,G,"minute");else{var ee=this._getMinutesPerHour(g);ee<=G?(w+=ee,g=this._nextDate(g,"hour",f)):(w+=(b=this._addMinutesUntilHourEnd(g,G)).added,g=b.end)}else g=this._getClosestWorkTimeFuture(g,"hour")}else g=this.$gantt.date.add(this.$gantt.date.day_start(g),1,"day")}return w<y&&(w+=(b=this._addMinutesUntilHourEnd(g,y-w)).added,g=b.end),g},getClosestWorkTime:function(){var _=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(_.date,_.unit,_.dir)},_getClosestWorkTime:function(_,y,f){var g=new Date(_);if(this._isWorkTime(g,y))return g;if(g=this.$gantt.date[y+"_start"](g),"any"!=f&&f)g="past"==f?this._getClosestWorkTimePast(g,y):this._getClosestWorkTimeFuture(g,y);else{var w=this._getClosestWorkTimeFuture(g,y),b=this._getClosestWorkTimePast(g,y);g=Math.abs(w-_)<=Math.abs(_-b)?w:b}return g},_getClosestWorkTimeFuture:function(_,y){return this._getClosestWorkTimeGeneric(_,y,1)},_getClosestWorkTimePast:function(_,y){var f=this._getClosestWorkTimeGeneric(_,y,-1);return this.$gantt.date.add(f,1,y)},_findClosestTimeInDay:function(_,y,f){var g=new Date(_),w=null,b=!1;this._getWorkHours(g).length||(g=this._getClosestWorkTime(g,"day",y<0?"past":"future"),y<0&&(g=new Date(g.valueOf()-1),b=!0),f=this._getWorkHours(g));var T=this._getTimeOfDayStamp(g);if(b&&(T=this._getTimeOfDayStamp(new Date(g.valueOf()+1),b)),y>0){for(var P=0;P<f.length;P++)if(f[P].start>=T){w=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,f[P].start);break}}else for(P=f.length-1;P>=0;P--){if(f[P].end<=T){w=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,f[P].end);break}if(f[P].end>T&&f[P].start<=T){w=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,T);break}}return w},_getClosestWorkMinute:function(_,y,f){var g=new Date(_),w=this._getWorkHours(g),b=this._findClosestTimeInDay(g,f,w);return b||(g=this.calculateEndDate(g,f,"day"),f>0?g=this.$gantt.date.day_start(g):(g=this.$gantt.date.day_start(g),g=this.$gantt.date.add(g,1,"day"),g=new Date(g.valueOf()-1)),w=this._getWorkHours(g),b=this._findClosestTimeInDay(g,f,w)),f<0&&(b=this.$gantt.date.add(b,-1,y)),b},_getClosestWorkTimeGeneric:function(_,y,f){if("hour"===y||"minute"===y)return this._getClosestWorkMinute(_,y,f);for(var g=this._getUnitOrder(y),w=this.units[g-1],b=_,T=0;!this._isWorkTime(b,y)&&(!w||this._isWorkTime(b,w)||(b=f>0?this._getClosestWorkTimeFuture(b,w):this._getClosestWorkTimePast(b,w),!this._isWorkTime(b,y)));){if(++T>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var P=b.getTimezoneOffset();b=this.$gantt.date.add(b,f,y),b=this.$gantt._correct_dst_change(b,P,f,y),this.$gantt.date[y+"_start"]&&(b=this.$gantt.date[y+"_start"](b))}return b},hasWorkTime:function(){var _=this.getConfig(),y=_.dates,f=[];for(var g in _.dates)Number(g)>6&&f.push(Number(g));var w=this._checkWorkHours(_.hours),b=!1;return[0,1,2,3,4,5,6].forEach(function(T){if(!b){var P=y[T];!0===P?b=w:Array.isArray(P)&&(b=this._checkWorkHours(P))}}.bind(this)),b},_checkWorkHours:function(_){if(0===_.length)return!1;for(var y=!1,f=0;f<_.length;f+=2)_[f]!==_[f+1]&&(y=!0);return y}},j.exports=C},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.WorkUnitsMapCache=void 0;var I=function(){function O(){this.clear()}return O.prototype.getItem=function(x,D,C){if(this._cache.has(x)){var _=this._cache.get(x)[C.getFullYear()];if(_&&_.has(D))return _.get(D)}return-1},O.prototype.setItem=function(x,D,C,_){if(x&&D){var y,f=this._cache,g=_.getFullYear();f.has(x)?y=f.get(x):f.set(x,y=[]);var w=y[g];w||(w=y[g]=new Map),w.set(D,C)}},O.prototype.clear=function(){this._cache=new Map},O}();X.WorkUnitsMapCache=I},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.WorkUnitsObjectCache=void 0;var I=function(){function O(){this.clear()}return O.prototype.getItem=function(x,D,C){var _=this._cache;if(_&&_[x]){var y=_[x];if(void 0===y)return-1;var f=y[C.getFullYear()];if(f&&void 0!==f[D])return f[D]}return-1},O.prototype.setItem=function(x,D,C,_){if(x&&D){var y=this._cache;if(y){y[x]||(y[x]=[]);var f=y[x],g=_.getFullYear(),w=f[g];w||(w=f[g]={}),w[D]=C}}},O.prototype.clear=function(){this._cache={}},O}();X.WorkUnitsObjectCache=I},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.LargerUnitsCache=void 0,X.LargerUnitsCache=function(O){var x=this;this.getMinutesPerWeek=function(D){var C=D.valueOf();if(x._weekCache.has(C))return x._weekCache.get(C);for(var _=x._calendar,y=x._calendar.$gantt,f=0,g=y.date.week_start(new Date(D)),w=0;w<7;w++)f+=60*_.getHoursPerDay(g),g=y.date.add(g,1,"day");return x._weekCache.set(C,f),f},this.getMinutesPerMonth=function(D){var C=D.valueOf();if(x._monthCache.has(C))return x._monthCache.get(C);for(var _=x._calendar,y=x._calendar.$gantt,f=0,g=y.date.week_start(new Date(D)),w=y.date.add(g,1,"month").valueOf();g.valueOf()<w;)f+=60*_.getHoursPerDay(g),g=y.date.add(g,1,"day");return x._monthCache.set(C,f),f},this.clear=function(){x._weekCache=new Map,x._monthCache=new Map},this.clear(),this._calendar=O}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.DateDurationCache=void 0;var I=function(){function O(){this.clear()}return O.prototype._getCacheObject=function(x,D,C){var _=this._cache;_[D]||(_[D]=[]);var y=_[D];y||(y=_[D]={});var f=y[C];f||(f=y[C]={});var g=x.getFullYear(),w=f[g];return w||(w=f[g]={durations:{},endDates:{}}),w},O.prototype._endDateCacheKey=function(x,D){return String(x)+"-"+String(D)},O.prototype._durationCacheKey=function(x,D){return String(x)+"-"+String(D)},O.prototype.getEndDate=function(x,D,C,_,y){var f,g=this._getCacheObject(x,C,_),w=x.valueOf(),b=this._endDateCacheKey(w,D);if(void 0===g.endDates[b]){var T=y(),P=T.valueOf();g.endDates[b]=P,g.durations[this._durationCacheKey(w,P)]=D,f=T}else f=new Date(g.endDates[b]);return f},O.prototype.getDuration=function(x,D,C,_,y){var f,g=this._getCacheObject(x,C,_),w=x.valueOf(),b=D.valueOf(),T=this._durationCacheKey(w,b);if(void 0===g.durations[T]){var P=y();g.durations[T]=P.valueOf(),f=P}else f=g.durations[T];return f},O.prototype.clear=function(){this._cache={}},O}();X.DateDurationCache=I},function(j,X){function R(I){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}j.exports={isLegacyResourceCalendarFormat:function(I){if(!I)return!1;for(var O in I)if(I[O]&&"object"===R(I[O]))return!0;return!1},getResourceProperty:function(I){var x=I.resource_property;if(this.isLegacyResourceCalendarFormat(I.resource_calendars))for(var D in I){x=D;break}return x},getCalendarIdFromLegacyConfig:function(I,O){if(O)for(var x in O)if(I[x]){var C=O[x][I[x]];if(C)return C}return null}}},function(j,X){j.exports=function(){var R={};return{getCalendarIdFromMultipleResources:function(I,O){var _,x=I.map(function(_){return _&&_.resource_id?_.resource_id:_}).sort().join("-");if(I.length){if(1===I.length)return O.getResourceCalendar(x).id;if(R[x])return R[x].id;var D=(_=O).mergeCalendars(I.map(function(y){return _.getResourceCalendar(y&&y.resource_id?y.resource_id:y)}));return R[x]=D,O.addCalendar(D)}return null}}}},function(j,X,R){var I=R(39),O=R(152);function x(D){this.$gantt=D.$gantt,this.argumentsHelper=I(this.$gantt),this.calendarManager=D,this.$disabledCalendar=new O(this.$gantt,this.argumentsHelper)}x.prototype={_getCalendar:function(D){var C;if(this.$gantt.config.work_time){var _=this.calendarManager;D.task?C=_.getTaskCalendar(D.task):D.id?C=_.getTaskCalendar(D):D.calendar&&(C=D.calendar),C||(C=_.getTaskCalendar())}else C=this.$disabledCalendar;return C},getWorkHours:function(D){return D=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(D).getWorkHours(D.date)},setWorkTime:function(D,C){return D=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),C||(C=this.calendarManager.getCalendar()),C.setWorkTime(D)},unsetWorkTime:function(D,C){return D=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),C||(C=this.calendarManager.getCalendar()),C.unsetWorkTime(D)},isWorkTime:function(D,C,_,y){var f=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(f).isWorkTime(f)},getClosestWorkTime:function(D){return D=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(D).getClosestWorkTime(D)},calculateDuration:function(){var D=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(D).calculateDuration(D)},hasDuration:function(){var D=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(D).hasDuration(D)},calculateEndDate:function(D){return D=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(D).calculateEndDate(D)}},j.exports=x},function(j,X){function R(I,O){this.argumentsHelper=O,this.$gantt=I}R.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(I){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var I=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._calculateDuration(I.start_date,I.end_date,I.unit,I.step)},_calculateDuration:function(I,O,x,D){var C=this.$gantt.date,_={week:6048e5,day:864e5,hour:36e5,minute:6e4},y=0;if(_[x])y=Math.round((O-I)/(D*_[x]));else{for(var f=new Date(I),g=new Date(O);f.valueOf()<g.valueOf();)y+=1,f=C.add(f,D,x);f.valueOf()!=O.valueOf()&&(y+=(g-f)/(C.add(f,D,x)-f))}return Math.round(y)},hasDuration:function(){var I=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),O=I.start_date,x=I.end_date;return!!I.unit&&(O=new Date(O),x=new Date(x),O.valueOf()<x.valueOf())},hasWorkTime:function(){return!0},equals:function(I){return I instanceof R},calculateEndDate:function(){var I=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments);return this.$gantt.date.add(I.start_date,I.step*I.duration,I.unit)}},j.exports=R},function(j,X,R){var I=R(0);j.exports={create:function(O,x){return{getWorkHours:function(D){return x.getWorkHours(D)},setWorkTime:function(D){return x.setWorkTime(D)},unsetWorkTime:function(D){x.unsetWorkTime(D)},isWorkTime:function(D,C,_){return x.isWorkTime(D,C,_)},getClosestWorkTime:function(D){return x.getClosestWorkTime(D)},calculateDuration:function(D,C,_){return x.calculateDuration(D,C,_)},_hasDuration:function(D,C,_){return x.hasDuration(D,C,_)},calculateEndDate:function(D,C,_,y){return x.calculateEndDate(D,C,_,y)},mergeCalendars:I.bind(O.mergeCalendars,O),createCalendar:I.bind(O.createCalendar,O),addCalendar:I.bind(O.addCalendar,O),getCalendar:I.bind(O.getCalendar,O),getCalendars:I.bind(O.getCalendars,O),getResourceCalendar:I.bind(O.getResourceCalendar,O),getTaskCalendar:I.bind(O.getTaskCalendar,O),deleteCalendar:I.bind(O.deleteCalendar,O)}}}},function(j,X,R){var I=R(2);j.exports=function(O){O.isUnscheduledTask=function(y){return O.assert(y&&y instanceof Object,"Invalid argument <b>task</b>="+y+" of gantt.isUnscheduledTask. Task object was expected"),!!y.unscheduled||!y.start_date},O._isAllowedUnscheduledTask=function(y){return!(!y.unscheduled||!O.config.show_unscheduled)},O._isTaskInTimelineLimits=function(y){var f=y.start_date?y.start_date.valueOf():null,g=y.end_date?y.end_date.valueOf():null;return!!(f&&g&&f<=this._max_date.valueOf()&&g>=this._min_date.valueOf())},O.isTaskVisible=function(y){if(!this.isTaskExists(y))return!1;var f=this.getTask(y);return!(!this._isAllowedUnscheduledTask(f)&&!this._isTaskInTimelineLimits(f))&&this.getGlobalTaskIndex(y)>=0},O._getProjectEnd=function(){if(O.config.project_end)return O.config.project_end;var y=O.getTaskByTime();return(y=y.sort(function(f,g){return+f.end_date>+g.end_date?1:-1})).length?y[y.length-1].end_date:null},O._getProjectStart=function(){if(O.config.project_start)return O.config.project_start;if(O.config.start_date)return O.config.start_date;if(O.getState().min_date)return O.getState().min_date;var y=O.getTaskByTime();return(y=y.sort(function(f,g){return+f.start_date>+g.start_date?1:-1})).length?y[0].start_date:null};var x=function(y,f){var g=!(!f||f==O.config.root_id)&&O.getTask(f),w=null;if(g)w=O.config.schedule_from_end?O.calculateEndDate({start_date:g.end_date,duration:-O.config.duration_step,task:y}):g.start_date;else if(O.config.schedule_from_end)w=O.calculateEndDate({start_date:O._getProjectEnd(),duration:-O.config.duration_step,task:y});else{var b=O.getTaskByIndex(0);w=b?b.start_date?b.start_date:b.end_date?O.calculateEndDate({start_date:b.end_date,duration:-O.config.duration_step,task:y}):null:O.config.start_date||O.getState().min_date}return O.assert(w,"Invalid dates"),new Date(w)};O._set_default_task_timing=function(y){y.start_date=y.start_date||x(y,O.getParent(y)),y.duration=y.duration||O.config.duration_step,y.end_date=y.end_date||O.calculateEndDate(y)},O.createTask=function(y,f,g){return O.defined((y=y||{}).id)||(y.id=O.uid()),y.start_date||(y.start_date=x(y,f)),void 0===y.text&&(y.text=O.locale.labels.new_task),void 0===y.duration&&(y.duration=1),this.isTaskExists(f)&&(this.setParent(y,f,!0),this.getTask(f).$open=!0),this.callEvent("onTaskCreated",[y])?(this.config.details_on_create?(O.isTaskExists(y.id)?O.getTask(y.id).$index!=y.$index&&(y.start_date&&"string"==typeof y.start_date&&(y.start_date=this.date.parseDate(y.start_date,"parse_date")),y.end_date&&"string"==typeof y.end_date&&(y.end_date=this.date.parseDate(y.end_date,"parse_date")),this.$data.tasksStore.updateItem(y.id,y)):(y.$new=!0,this.silent(function(){O.$data.tasksStore.addItem(y,g)})),this.selectTask(y.id),this.refreshData(),this.showLightbox(y.id)):this.addTask(y,f,g)&&(this.showTask(y.id),this.selectTask(y.id)),y.id):null},O._update_flags=function(y,f){var g=O.$data.tasksStore;void 0===y?(this._lightbox_id=null,g.silent(function(){g.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==y&&(this._lightbox_id=f),g.getSelectedId()==y&&g.silent(function(){g.unselect(y),g.select(f)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==y&&(this._tasks_dnd.drag.id=f))};var D=function(y,f){var g=O.getTaskType(y.type),w={type:g,$no_start:!1,$no_end:!1};return f||g!=y.$rendered_type?(g==O.config.types.project?w.$no_end=w.$no_start=!0:g!=O.config.types.milestone&&(w.$no_end=!(y.end_date||y.duration),w.$no_start=!y.start_date,O._isAllowedUnscheduledTask(y)&&(w.$no_end=w.$no_start=!1)),w):(w.$no_start=y.$no_start,w.$no_end=y.$no_end,w)};function C(y){y.$effective_calendar=O.getTaskCalendar(y).id,y.start_date=O.getClosestWorkTime({dir:"future",date:y.start_date,unit:O.config.duration_unit,task:y}),y.end_date=O.calculateEndDate(y)}function _(y){var f=null,g=null,b=[];return O.eachTask(function(T){O.getTaskType(T.type)==O.config.types.project||O.isUnscheduledTask(T)||(T.rollup&&b.push(T.id),T.start_date&&!T.$no_start&&(!f||f>T.start_date.valueOf())&&(f=T.start_date.valueOf()),T.end_date&&!T.$no_end&&(!g||g<T.end_date.valueOf())&&(g=T.end_date.valueOf()))},void 0!==y?y:O.config.root_id),{start_date:f?new Date(f):null,end_date:g?new Date(g):null,rollup:b}}O._init_task_timing=function(y){var f=D(y,!0),g=y.$rendered_type!=f.type,w=f.type;g&&(y.$no_start=f.$no_start,y.$no_end=f.$no_end,y.$rendered_type=f.type),g&&w!=this.config.types.milestone&&w==this.config.types.project&&(this._set_default_task_timing(y),y.$calculate_duration=!1),w==this.config.types.milestone&&(y.end_date=y.start_date),y.start_date&&y.end_date&&!1!==y.$calculate_duration&&(y.duration=this.calculateDuration(y)),y.$calculate_duration||(y.$calculate_duration=!0),y.end_date||(y.end_date=y.start_date),y.duration=y.duration||0,0===this.config.min_duration&&0===y.duration&&(y.$no_end=!1);var b=this.getTaskCalendar(y);y.$effective_calendar&&y.$effective_calendar!==b.id&&(C(y),this.config.inherit_calendar&&this.isSummaryTask(y)&&this.eachTask(function(T){C(T)},y.id)),y.$effective_calendar=b.id},O.isSummaryTask=function(y){O.assert(y&&y instanceof Object,"Invalid argument <b>task</b>="+y+" of gantt.isSummaryTask. Task object was expected");var f=D(y);return!(!f.$no_end&&!f.$no_start)},O.resetProjectDates=function(y){var f=D(y);if(f.$no_end||f.$no_start){var g=_(y.id);(function(w,b,T,P){b.$no_start&&(w.start_date=T?new Date(T):x(w,this.getParent(w))),b.$no_end&&(w.end_date=P?new Date(P):this.calculateEndDate({start_date:w.start_date,duration:this.config.duration_step,task:w})),(b.$no_start||b.$no_end)&&this._init_task_timing(w)}).call(this,y,f,g.start_date,g.end_date),y.$rollup=g.rollup}},O.getSubtaskDuration=function(y){var f=0;return this.eachTask(function(w){this.getTaskType(w.type)==O.config.types.project||this.isUnscheduledTask(w)||(f+=w.duration)},void 0!==y?y:O.config.root_id),f},O.getSubtaskDates=function(y){var f=_(y);return{start_date:f.start_date,end_date:f.end_date}},O._update_parents=function(y,f,g){if(y){var w=this.getTask(y);w.rollup&&(g=!0);var b=this.getParent(w),T=D(w),P=!0;if(g||w.start_date&&w.end_date&&(T.$no_start||T.$no_end)){var E=w.start_date.valueOf(),F=w.end_date.valueOf();O.resetProjectDates(w),g||E!=w.start_date.valueOf()||F!=w.end_date.valueOf()||(P=!1),P&&!f&&this.refreshTask(w.id,!0)}P&&b&&this.isTaskExists(b)&&this._update_parents(b,f,g)}},O.roundDate=function(y){var f=O.getScale();I.isDate(y)&&(y={date:y,unit:f?f.unit:O.config.duration_unit,step:f?f.step:O.config.duration_step});var g,w,b,T=y.date,P=y.step,E=y.unit;if(!f)return T;if(E==f.unit&&P==f.step&&+T>=+f.min_date&&+T<=+f.max_date)b=Math.floor(O.columnIndexByDate(T)),f.trace_x[b]||(b-=1,f.rtl&&(b=0)),w=new Date(f.trace_x[b]),g=O.date.add(w,P,E);else{for(b=Math.floor(O.columnIndexByDate(T)),g=O.date[E+"_start"](new Date(f.min_date)),f.trace_x[b]&&(g=O.date[E+"_start"](f.trace_x[b]));+g<+T;){var F=(g=O.date[E+"_start"](O.date.add(g,P,E))).getTimezoneOffset();g=O._correct_dst_change(g,F,g,E),O.date[E+"_start"]&&(g=O.date[E+"_start"](g))}w=O.date.add(g,-1*P,E)}return y.dir&&"future"==y.dir?g:y.dir&&"past"==y.dir||Math.abs(T-w)<Math.abs(g-T)?w:g},O.correctTaskWorkTime=function(y){O.config.work_time&&O.config.correct_work_time&&(this.isWorkTime(y.start_date,void 0,y)?this.isWorkTime(new Date(+y.end_date-1),void 0,y)||(y.end_date=this.calculateEndDate(y)):(y.start_date=this.getClosestWorkTime({date:y.start_date,dir:"future",task:y}),y.end_date=this.calculateEndDate(y)))},O.attachEvent("onBeforeTaskUpdate",function(y,f){return O._init_task_timing(f),!0}),O.attachEvent("onBeforeTaskAdd",function(y,f){return O._init_task_timing(f),!0}),O.attachEvent("onAfterTaskMove",function(y,f,g){return O._init_task_timing(O.getTask(y)),!0})}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(){}},function(j,X){function R(I){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}j.exports=function(I){I.getTaskType=function(O){var x=O;for(var D in O&&"object"==R(O)&&(x=O.type),this.config.types)if(this.config.types[D]==x)return x;return I.config.types.task}}},function(j,X){j.exports=function(R){function I(){return R._cached_functions.update_if_changed(R),R._cached_functions.active||R._cached_functions.activate(),!0}R._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(x,D){if(D._prefetch_originals)for(var C in D._prefetch_originals)D[C]=D._prefetch_originals[C];for(D._prefetch_originals={},C=0;C<x.length;C++)this.prefetch(x[C],D)},prefetch:function(x,D){var C=D[x];if(C){var _=this;D._prefetch_originals[x]=C,D[x]=function(){for(var y=new Array(arguments.length),f=0,g=arguments.length;f<g;f++)y[f]=arguments[f];if(_.active){var w=_.get_arguments_hash(Array.prototype.slice.call(y));_.cache[x]||(_.cache[x]={});var b=_.cache[x];if(_.has_cached_value(b,w))return _.get_cached_value(b,w);var T=C.apply(this,y);return _.cache_value(b,w,T),T}return C.apply(this,y)}}return C},cache_value:function(x,D,C){this.is_date(C)&&(C=new Date(C)),x[D]=C},has_cached_value:function(x,D){return x.hasOwnProperty(D)},get_cached_value:function(x,D){var C=x[D];return this.is_date(C)&&(C=new Date(C)),C},is_date:function(x){return x&&x.getUTCDate},get_arguments_hash:function(x){for(var D=[],C=0;C<x.length;C++)D.push(this.stringify_argument(x[C]));return"("+D.join(";")+")"},stringify_argument:function(x){return(x.id?x.id:this.is_date(x)?x.valueOf():x)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(x){var D=[],C=["_isProjectEnd","_getProjectEnd","_getSlack"];"auto"==this.mode?x.config.highlight_critical_path&&(D=C):!0===this.mode&&(D=C),this.wrap_methods(D,x)},update_if_changed:function(x){(this.critical_path_mode!=x.config.highlight_critical_path||this.mode!==x.config.optimize_render)&&(this.critical_path_mode=x.config.highlight_critical_path,this.mode=x.config.optimize_render,this.setup(x))}},R.attachEvent("onBeforeGanttRender",I),R.attachEvent("onBeforeDataRender",I),R.attachEvent("onBeforeSmartRender",function(){I()}),R.attachEvent("onBeforeParse",I),R.attachEvent("onDataRender",function(){R._cached_functions.deactivate()});var O=null;R.attachEvent("onSmartRender",function(){O&&clearTimeout(O),O=setTimeout(function(){R._cached_functions.deactivate()},1e3)}),R.attachEvent("onBeforeGanttReady",function(){return R._cached_functions.update_if_changed(R),!0})}},function(j,X,R){function I(_){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(_)}var O=R(1),x=R(2),D=R(10),C=R(159);j.exports=function(_){var y=R(35);_.assert=R(160)(_);var f="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function g(T){if(!T||"string"==typeof T&&document.getElementById(T)||function(P){try{P.cloneNode(!1)}catch(E){return!1}return!0}(T))return!0;throw _.assert(!1,f),new Error(f)}_.init=function(T,P,E){_.env.isNode?T=null:g(T),P&&E&&(this.config.start_date=this._min_date=new Date(P),this.config.end_date=this._max_date=new Date(E)),this.date.init(),this.init=function(F){_.env.isNode?F=null:g(F),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(F)},this._reinit(T)},_._quickRefresh=function(T){for(var P=this._getDatastores.call(this),E=0;E<P.length;E++)P[E]._quick_refresh=!0;for(T(),E=0;E<P.length;E++)P[E]._quick_refresh=!1};var w=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(_),b=function(){D(_)||(this.$root.innerHTML="",this.$root.gantt=this,y(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var T=_.$services.getService("datastores"),P=0;P<T.length;P++)_.getDatastore(T[P]).filter(),_.getDatastore(T[P]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){_._quickRefresh(function(){_.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,C(this))}.bind(_);_.resetLayout=function(){w(),b(),this.render()},_._reinit=function(T){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),w(),this.$root=null,T&&(this.$root=O.toNode(T),b(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},_.$click={buttons:{edit:function(T){_.isReadonly(_.getTask(T))||_.showLightbox(T)},delete:function(T){var P=_.getTask(T);_.isReadonly(P)||_._dhtmlx_confirm(_.locale.labels.confirm_deleting,_.locale.labels.confirm_deleting_title,function(){_.isTaskExists(T)&&(P.$new?(_.silent(function(){_.deleteTask(T,!0)}),_.refreshData()):_.deleteTask(T)),_.hideLightbox()})}}},_.render=function(){var T;if(this.callEvent("onBeforeGanttRender",[]),!D(_)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var P=this.getScrollState(),E=P?P.x:0;this._getHorizontalScrollbar()&&(E=this._getHorizontalScrollbar().$config.codeScrollLeft||E||0),T=null,E&&(T=_.dateFromPos(E+this.config.task_scroll_offset))}if(y(this),D(_))_.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var F=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=F,this.config.preserve_scroll&&P){if(E||P.y){var G=_.getScrollState();if(+T!=+_.dateFromPos(G.x)||G.y!=P.y){E=null;var V=null;T&&(E=Math.max(_.posFromDate(T)-_.config.task_scroll_offset,0)),P.y&&(V=P.y),_.scrollTo(E,V)}}var B=_.$ui.getView("grid");if(B){var U=_.$ui.getView(B.$config.scrollY);U&&(_.utils.dom.isChildOf(U.$view,_.$container)||B.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},_.setSizes=_.render,_.getTaskRowNode=function(T){for(var P=this.$grid_data.childNodes,E=this.config.task_attribute,F=0;F<P.length;F++)if(P[F].getAttribute&&P[F].getAttribute(E)==T)return P[F];return null},_.changeLightboxType=function(T){if(this.getLightboxType()==T)return!0;_._silent_redraw_lightbox(T)},_._get_link_type=function(T,P){var E=null;return T&&P?E=_.config.links.start_to_start:!T&&P?E=_.config.links.finish_to_start:T||P?T&&!P&&(E=_.config.links.start_to_finish):E=_.config.links.finish_to_finish,E},_.isLinkAllowed=function(T,P,E,F){var G;if(!(G="object"==I(T)?T:{source:T,target:P,type:this._get_link_type(E,F)})||!(G.source&&G.target&&G.type)||G.source==G.target)return!1;var V=!0;return this.checkEvent("onLinkValidation")&&(V=this.callEvent("onLinkValidation",[G])),V},_._correct_dst_change=function(T,P,E,F){var G=x.getSecondsInUnit(F)*E;if(G>3600&&G<86400){var V=T.getTimezoneOffset()-P;V&&(T=_.date.add(T,V,"minute"))}return T},_.isSplitTask=function(T){return _.assert(T&&T instanceof Object,"Invalid argument <b>task</b>="+T+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(T)},_._is_icon_open_click=function(T){if(!T)return!1;var P=T.target||T.srcElement;if(!P||!P.className)return!1;var E=O.getClassName(P);return-1!==E.indexOf("gantt_tree_icon")&&(-1!==E.indexOf("gantt_close")||-1!==E.indexOf("gantt_open"))}}},function(j,X){function R(I,O){var x,D=I.config.container_resize_timeout||20;if("timeout"==I.config.container_resize_method)f();else try{I.event(O,"resize",function(){I.$scrollbarRepaint?I.$scrollbarRepaint=null:C()})}catch(g){f()}function C(){clearTimeout(x),x=setTimeout(function(){I.$destroyed||I.render()},D)}var _=I.$root.offsetHeight,y=I.$root.offsetWidth;function f(){I.$root.offsetHeight==_&&I.$root.offsetWidth==y||C(),_=I.$root.offsetHeight,y=I.$root.offsetWidth,setTimeout(f,D)}}j.exports=function(I){"static"==window.getComputedStyle(I.$root).getPropertyValue("position")&&(I.$root.style.position="relative");var O=document.createElement("iframe");O.className="gantt_container_resize_watcher",O.tabIndex=-1,I.config.wai_aria_attributes&&(O.setAttribute("role","none"),O.setAttribute("aria-hidden",!0)),(!!window.Sfdc||!!window.$A||window.Aura)&&(I.config.container_resize_method="timeout"),I.$root.appendChild(O),O.contentWindow?R(I,O.contentWindow):(I.$root.removeChild(O),R(I,window))}},function(j,X){j.exports=function(R){return function(I,O){I||R.config.show_errors&&!1!==R.callEvent("onError",[O])&&(R.message?R.message({type:"error",text:O,expire:-1}):console.log(O))}}},function(j,X){j.exports=function(R){R.destructor=function(){for(var I in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)0===I.indexOf("$")&&delete this[I];this.$destroyed=!0}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(){}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(164),O=R(165),x=R(166),D=R(167),C=R(168),_=R(169),y=R(170),f=R(171),g=R(172),w=R(173),b=R(174),T=R(175),P=R(176),E=R(177),F=R(178),G=R(179),V=R(180),B=R(181),K=R(182),U=R(183),ee=R(184),ie=R(185),J=R(186),Q=R(187),oe=R(188),ce=R(189),ge=R(190),_e=R(191),we=R(192),Pe=R(193),Me=R(194),Oe=R(195),Be=R(196);X.default=function(){return new ee.default({en:g.default,ar:I.default,be:O.default,ca:x.default,cn:D.default,cs:C.default,da:_.default,de:y.default,el:f.default,es:w.default,fa:b.default,fi:T.default,fr:P.default,he:E.default,hr:F.default,hu:G.default,id:V.default,it:B.default,jp:K.default,kr:U.default,nb:ie.default,nl:J.default,no:Q.default,pl:oe.default,pt:ce.default,ro:ge.default,ru:_e.default,si:we.default,sk:Pe.default,sv:Me.default,tr:Oe.default,ua:Be.default})}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0623\u064a\u0627\u0631","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0623\u062b\u0646\u064a\u0646","\u0623\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062d\u0645\u064a\u0633","\u0623\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],day_short:["\u0627\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]},labels:{new_task:"\u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f",icon_save:"\u0627\u062e\u0632\u0646",icon_cancel:"\u0627\u0644\u063a\u0627\u0621",icon_details:"\u062a\u0641\u0627\u0635\u064a\u0644",icon_edit:"\u062a\u062d\u0631\u064a\u0631",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0633\u0648\u0641 \u062a\u0636\u064a\u0639, \u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",confirm_deleting:"\u0627\u0644\u062d\u062f\u062b \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627 \u060c \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0627\u0644\u063a\u0627\u0621",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u041b\u044e\u0442\u044b","\u0421\u0430\u043a\u0430\u0432\u0456\u043a","\u041a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","Ma\u0439","\u0427\u044d\u0440\u0432\u0435\u043d\u044c","\u041b\u0456\u043f\u0435\u043d\u044c","\u0416\u043d\u0456\u0432\u0435\u043d\u044c","\u0412\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u041a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u041b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0421\u043d\u0435\u0436\u0430\u043d\u044c"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041b\u044e\u0442","\u0421\u0430\u043a","\u041a\u0440\u0430\u0441","Ma\u0439","\u0427\u044d\u0440","\u041b\u0456\u043f","\u0416\u043d\u0456\u0432","\u0412\u0435\u0440","\u041a\u0430\u0441\u0442","\u041b\u0456\u0441\u0442","\u0421\u043d\u0435\u0436"],day_full:["\u041d\u044f\u0434\u0437\u0435\u043b\u044f","\u041f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0410\u045e\u0442\u043e\u0440\u0430\u043a","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041f\u044f\u0442\u043d\u0456\u0446\u0430","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0434","\u041f\u043d","\u0410\u045e\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0430\u0435 \u0437\u0430\u0434\u0430\u043d\u043d\u0435",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044c",icon_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",icon_details:"\u0414\u044d\u0442\u0430\u043b\u0456",icon_edit:"\u0417\u043c\u044f\u043d\u0456\u0446\u044c",icon_delete:"\u0412\u044b\u0434\u0430\u043b\u0456\u0446\u044c",confirm_closing:"",confirm_deleting:"\u041f\u0430\u0434\u0437\u0435\u044f \u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0435\u0437\u0432\u0430\u0440\u043e\u0442\u043d\u0430, \u043f\u0440\u0430\u0446\u044f\u0433\u043d\u0443\u0446\u044c?",section_description:"\u0410\u043f\u0456\u0441\u0430\u043d\u043d\u0435",section_time:"\u041f\u0435\u0440\u044b\u044f\u0434 \u0447\u0430\u0441\u0443",section_type:"\u0422\u044b\u043f",column_wbs:"\u0406\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041f\u0430\u0447\u0430\u0442\u0430\u043a",column_duration:"\u041f\u0440\u0430\u0446\u044f\u0433",column_add:"",link:"\u0421\u0443\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430",link_start:"(\u043f\u0430\u0447\u0430\u0442\u0430\u043a)",link_end:"(\u043a\u0430\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u0425\u0432i\u043bi\u043d\u0430",hours:"\u0413\u0430\u0434\u0437i\u043d\u0430",days:"\u0414\u0437\u0435\u043d\u044c",weeks:"\u0422\u044b\u0434\u0437\u0435\u043d\u044c",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel\xb7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xe0 definitivament, continuar ?",section_description:"Descripci\xf3",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel\xb7lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],day_short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},labels:{new_task:"\u65b0\u4efb\u52d9",icon_save:"\u4fdd\u5b58",icon_cancel:"\u5173\u95ed",icon_details:"\u8be6\u7ec6",icon_edit:"\u7f16\u8f91",icon_delete:"\u5220\u9664",confirm_closing:"\u8bf7\u786e\u8ba4\u662f\u5426\u64a4\u9500\u4fee\u6539!",confirm_deleting:"\u662f\u5426\u5220\u9664\u65e5\u7a0b?",section_description:"\u63cf\u8ff0",section_time:"\u65f6\u95f4\u8303\u56f4",section_type:"\u7c7b\u578b",column_wbs:"\u5de5\u4f5c\u5206\u89e3\u7ed3\u6784",column_text:"\u4efb\u52a1\u540d",column_start_date:"\u5f00\u59cb\u65f6\u95f4",column_duration:"\u6301\u7eed\u65f6\u95f4",column_add:"",link:"\u5173\u8054",confirm_link_deleting:"\u5c06\u88ab\u5220\u9664",link_start:" (\u5f00\u59cb)",link_end:" (\u7ed3\u675f)",type_task:"\u4efb\u52a1",type_project:"\u9879\u76ee",type_milestone:"\u91cc\u7a0b\u7891",minutes:"\u5206\u949f",hours:"\u5c0f\u65f6",days:"\u5929",weeks:"\u5468",months:"\u6708",years:"\u5e74",message_ok:"OK",message_cancel:"\u5173\u95ed",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],month_short:["Led","\xdan","B\u0159e","Dub","Kv\u011b","\u010cer","\u010cec","Srp","Z\xe1\u0159\xed","\u0158\xedj","List","Pro"],day_full:["Ned\u011ble","Pond\u011bl\xed","\xdater\xfd","St\u0159eda","\u010ctvrtek","P\xe1tek","Sobota"],day_short:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},labels:{new_task:"Nov\xe1 pr\xe1ce",icon_save:"Ulo\u017eit",icon_cancel:"Zp\u011bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xe1lost bude trvale smaz\xe1na, opravdu?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zp\u011bt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xe5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:[" Januar"," Februar"," M\xe4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xc4ndern",icon_delete:"L\xf6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xf6scht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gel\xf6scht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03ca\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],month_short:["\u0399\u0391\u039d","\u03a6\u0395\u0392","\u039c\u0391\u03a1","\u0391\u03a0\u03a1","\u039c\u0391\u0399","\u0399\u039f\u03a5\u039d","\u0399\u039f\u03a5\u039b","\u0391\u03a5\u0393","\u03a3\u0395\u03a0","\u039f\u039a\u03a4","\u039d\u039f\u0395","\u0394\u0395\u039a"],day_full:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae"],day_short:["\u039a\u03a5","\u0394\u0395","\u03a4\u03a1","\u03a4\u0395","\u03a0\u0395","\u03a0\u0391","\u03a3\u0391"]},labels:{new_task:"\u039d\u03ad\u03b1 \u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_save:"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7",icon_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",icon_details:"\u039b\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2",icon_edit:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_delete:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",confirm_closing:"",confirm_deleting:"\u03a4\u03bf \u03ad\u03c1\u03b3\u03bf \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b5\u03af \u03bf\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03ac. \u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5;",section_description:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",section_time:"\u03a7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],day_short:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xe1 definitivamente, \xbfcontinuar?",section_description:"Descripci\xf3n",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duraci\xf3n",column_add:"",link:"Enlace",confirm_link_deleting:"ser\xe1 borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"D\xedas",weeks:"Semanas",months:"Meses",years:"A\xf1os",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["\u064a\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],day_short:["\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c","\u0634"]},labels:{new_task:"\u0648\u0638\u06cc\u0641\u0647 \u062c\u062f\u06cc\u062f",icon_save:"\u0630\u062e\u06cc\u0631\u0647",icon_cancel:"\u0644\u063a\u0648",icon_details:"\u062c\u0632\u06cc\u06cc\u0627\u062a",icon_edit:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0634\u0645\u0627 \u0627\u0632\u062f\u0633\u062a \u062e\u0648\u0627\u0647\u062f \u0631\u0641\u062a\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",confirm_deleting:"\u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u0628\u0631\u0627\u06cc \u0647\u0645\u06cc\u0634\u0647 \u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",section_description:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",section_time:"\u0645\u062f\u062a \u0632\u0645\u0627\u0646",section_type:"\u0646\u0648\u0639",column_wbs:"WBS",column_text:"\u0639\u0646\u0648\u0627\u0646",column_start_date:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",column_duration:"\u0645\u062f\u062a",column_add:"",link:"\u0627\u0631\u062a\u0628\u0627\u0637",confirm_link_deleting:"\u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f",link_start:" (\u0622\u063a\u0627\u0632)",link_end:" (\u067e\u0627\u06cc\u0627\u0646)",type_task:"\u0648\u0638\u06cc\u0641\u0647",type_project:"\u067e\u0631\u0648\u0698\u0647",type_milestone:"\u0646\u06af\u0627\u0631\u0634",minutes:"\u062f\u0642\u0627\u06cc\u0642",hours:"\u0633\u0627\u0639\u0627\u062a",days:"\u0631\u0648\u0632\u0647\u0627",weeks:"\u0647\u0641\u062a\u0647",months:"\u0645\u0627\u0647\u200c\u0647\u0627",years:"\u0633\u0627\u0644\u200c\u0647\u0627",message_ok:"\u062a\u0627\u06cc\u06cc\u062f",message_cancel:"\u0644\u063a\u0648",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi teht\xe4v\xe4",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],month_short:["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfb","Sep","Oct","Nov","D\xe9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle t\xe2che",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xe9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xe9v\xe9nement sera effac\xe9 sans appel, \xeates-vous s\xfbr ?",section_description:"Description",section_time:"P\xe9riode",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la t\xe2che",column_start_date:"Date initiale",column_duration:"Dur\xe9e",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim\xe9",link_start:"(d\xe9but)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xe9es",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],month_short:["\u05d9\u05e0\u05d5","\u05e4\u05d1\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0","\u05d9\u05d5\u05dc","\u05d0\u05d5\u05d2","\u05e1\u05e4\u05d8","\u05d0\u05d5\u05e7","\u05e0\u05d5\u05d1","\u05d3\u05e6\u05de"],day_full:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],day_short:["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9"]},labels:{new_task:"\u05de\u05e9\u05d9\u05de\u05d4 \u05d7\u05d3\u05e9",icon_save:"\u05e9\u05de\u05d5\u05e8",icon_cancel:"\u05d1\u05d8\u05dc",icon_details:"\u05e4\u05e8\u05d8\u05d9\u05dd",icon_edit:"\u05e2\u05e8\u05d5\u05da",icon_delete:"\u05de\u05d7\u05e7",confirm_closing:"",confirm_deleting:"\u05d0\u05e8\u05d5\u05e2 \u05d9\u05de\u05d7\u05e7 \u05e1\u05d5\u05e4\u05d9\u05ea.\u05dc\u05d4\u05de\u05e9\u05d9\u05da?",section_description:"\u05d4\u05e1\u05d1\u05e8",section_time:"\u05ea\u05e7\u05d5\u05e4\u05d4",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u05d1\u05d8\u05dc",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","O\u017eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obri\u0161i",confirm_closing:"",confirm_deleting:"Zadatak \u0107e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Po\u010detno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"\u0107e biti izbrisan",link_start:" (po\u010detak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],month_short:["Jan","Feb","M\xe1r","\xc1pr","M\xe1j","J\xfan","J\xfal","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xe1rnap","H\xe9tf\xf5","Kedd","Szerda","Cs\xfct\xf6rt\xf6k","P\xe9ntek","szombat"],day_short:["Va","H\xe9","Ke","Sze","Cs\xfc","P\xe9","Szo"]},labels:{new_task:"\xdaj feladat",icon_save:"Ment\xe9s",icon_cancel:"M\xe9gse",icon_details:"R\xe9szletek",icon_edit:"Szerkeszt\xe9s",icon_delete:"T\xf6rl\xe9s",confirm_closing:"",confirm_deleting:"Az esem\xe9ny t\xf6r\xf6lve lesz, biztosan folytatja?",section_description:"Le\xedr\xe1s",section_time:"Id\xf5szak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"M\xe9gse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attivit\xe0",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar\xe0 eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],day_short:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},labels:{new_task:"\u65b0\u3057\u3044\u4ed5\u4e8b",icon_save:"\u4fdd\u5b58",icon_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",icon_details:"\u8a73\u7d30",icon_edit:"\u7de8\u96c6",icon_delete:"\u524a\u9664",confirm_closing:"",confirm_deleting:"\u30a4\u30d9\u30f3\u30c8\u5b8c\u5168\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3001\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f",section_description:"\u30c7\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3",section_time:"\u671f\u9593",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],month_short:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],day_full:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],day_short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},labels:{new_task:"\uc774\ub984\uc5c6\ub294 \uc791\uc5c5",icon_save:"\uc800\uc7a5",icon_cancel:"\ucde8\uc18c",icon_details:"\uc138\ubd80 \uc0ac\ud56d",icon_edit:"\uc218\uc815",icon_delete:"\uc0ad\uc81c",confirm_closing:"",confirm_deleting:"\uc791\uc5c5\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",section_description:"\uc124\uba85",section_time:"\uae30\uac04",section_type:"Type",column_wbs:"WBS",column_text:"\uc791\uc5c5\uba85",column_start_date:"\uc2dc\uc791\uc77c",column_duration:"\uae30\uac04",column_add:"",link:"\uc804\uc81c",confirm_link_deleting:"\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",link_start:" (start)",link_end:" (end)",type_task:"\uc791\uc5c5",type_project:"\ud504\ub85c\uc81d\ud2b8",type_milestone:"\ub9c8\uc77c\uc2a4\ud1a4",minutes:"\ubd84",hours:"\uc2dc\uac04",days:"\uc77c",weeks:"\uc8fc",months:"\ub2ec",years:"\ub144",message_ok:"OK",message_cancel:"\ucde8\uc18c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(O){var x=this;for(var D in this.addLocale=function(C,_){x._locales[C]=_},this.getLocale=function(C){return x._locales[C]},this._locales={},O)this._locales[D]=O[D]}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Mon","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xf8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015aro","Czw","Pi\u0105","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xf3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocz\u0105tek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usuni\u0119ty",link_start:" (pocz\u0105tek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie\u0144",months:"Miesi\u0105ce",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas ser\xe3o excluidas permanentemente, confirme?",section_description:"Descri\xe7\xe3o",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data in\xedcio",column_duration:"Dura\xe7\xe3o",column_add:"",link:"Link",confirm_link_deleting:"Ser\xe1 exclu\xeddo!",link_start:" (in\xedcio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restri\xe7\xe3o",constraint_type:"Tipo Restri\xe7\xe3o",constraint_date:"Data restri\xe7\xe3o",asap:"Mais breve poss\xedvel",alap:"Mais tarde poss\xedvel",snet:"N\xe3o come\xe7ar antes de",snlt:"N\xe3o come\xe7ar depois de",fnet:"N\xe3o terminar antes de",fnlt:"N\xe3o terminar depois de",mso:"Precisa come\xe7ar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","Ma\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","O\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],month_short:["\u042f\u043d\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043f\u0440","Ma\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","A\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],day_full:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],day_short:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",icon_save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0438",icon_edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon_delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirm_closing:"",confirm_deleting:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",section_description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",section_time:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",section_type:"\u0422\u0438\u043f",column_wbs:"\u0418\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041d\u0430\u0447\u0430\u043b\u043e",column_duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",column_add:"",link:"\u0421\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",link_start:" (\u043d\u0430\u0447\u0430\u043b\u043e)",link_end:" (\u043a\u043e\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u041c\u0438\u043d\u0443\u0442\u0430",hours:"\u0427\u0430\u0441",days:"\u0414\u0435\u043d\u044c",weeks:"\u041d\u0435\u0434\u0435\u043b\u044f",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438",resources_filter_label:"\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekli\u010di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017delite nadaljevati?",section_description:"Opis",section_time:"\u010casovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekli\u010di",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xe1j","J\xfan","J\xfal","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{new_task:"Nov\xe1 \xfaloha",icon_save:"Ulo\u017ei\u0165",icon_cancel:"Sp\xe4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xfa ulo\u017een\xe9. Skuto\u010dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xe1. Skuto\u010dne?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp\xe4\u0165",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"],day_short:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"\xc4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xc4r du s\xe4ker p\xe5 att du vill ta bort h\xe4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"L\xe4nk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"M\xe5nader",years:"\xc5r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],month_short:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni g\xf6rev",icon_save:"Kaydet",icon_cancel:"\u0130ptal",icon_details:"Detaylar",icon_edit:"D\xfczenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"G\xf6rev silinecek, emin misiniz?",section_description:"A\xe7\u0131klama",section_time:"Zaman Aral\u0131\u011f\u0131",section_type:"Tip",column_wbs:"WBS",column_text:"G\xf6rev Ad\u0131",column_start_date:"Ba\u015flang\u0131\xe7",column_duration:"S\xfcre",column_add:"",link:"Ba\u011flant\u0131",confirm_link_deleting:"silinecek",link_start:" (ba\u015flang\u0131\xe7)",link_end:" (biti\u015f)",type_task:"G\xf6rev",type_project:"Proje",type_milestone:"Kilometreta\u015f\u0131",minutes:"Dakika",hours:"Saat",days:"G\xfcn",weeks:"Hafta",months:"Ay",years:"Y\u0131l",message_ok:"OK",message_cancel:"\xddptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.default={date:{month_full:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],month_short:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0435\u0434","\u041f\u043e\u043d","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041f\u0442\u043d","\u0421\u0443\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043b\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041f\u043e\u0434\u0456\u044f \u0432\u0438\u043b\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456?",section_description:"\u041e\u043f\u0438\u0441",section_time:"\u0427\u0430\u0441\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a",section_type:"\u0422\u0438\u043f",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(j,X,R){j.exports=function(I){var O=R(0),x=R(7),D=R(10);if(!x.isNode){var C=R(1),_=R(2);I.utils={arrayFind:_.arrayFind,dom:C};var y=R(29)();I.event=y.attach,I.eventRemove=y.detach,I._eventRemoveAll=y.detachAll,I._createDomEventScope=y.extend,O.mixin(I,R(198)(I));var f=R(199).init(I);I.$ui=f.factory,I.$ui.layers=f.render,I.$mouseEvents=f.mouseEvents,I.$services.setService("mouseEvents",function(){return I.$mouseEvents}),I.mixin(I,f.layersApi),R(244)(I),I.$services.setService("layers",function(){return f.layersService});var g=R(245);I.mixin(I,g()),R(246)(I),R(247)(I),R(248)(I),R(249)(I),R(250)(I),R(251)(I),R(252)(I),R(253)(I),R(254)(I),R(259)(I),R(260)(I),R(270)(I),R(271)(I),I.locate=function(w){var b=C.getTargetNode(w);if(C.closest(b,".gantt_task_row"))return null;var T=arguments[1]||this.config.task_attribute,P=C.locateAttribute(b,T);return P?P.getAttribute(T):null},I._locate_css=function(w,b,T){return C.locateClassName(w,b,T)},I._locateHTML=function(w,b){return C.locateAttribute(w,b||this.config.task_attribute)}}I.attachEvent("onParse",function(){D(I)||I.attachEvent("onGanttRender",function(){if(I.config.initial_scroll){var w=I.getTaskByIndex(0),b=w?w.id:I.config.root_id;I.isTaskExists(b)&&I.$task&&I.utils.dom.isChildOf(I.$task,I.$container)&&I.showTask(b)}},{once:!0})}),I.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=C.getScrollSize()||1),D(I)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),I.attachEvent("onGanttReady",function(){!D(I)&&I.config.rtl&&I.$layout.getCellsByType("viewCell").forEach(function(w){var b=w.$config.scrollX;if(b){var T=I.$ui.getView(b);T&&T.scrollTo(T.$config.scrollSize,0)}})})}},function(j,X,R){function I(D){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(D)}var O=R(0),x=R(1);j.exports=function(D){var C="data-dhxbox",_=null;function y(J,Q){var oe=J.callback;U.hide(J.box),_=J.box=null,oe&&oe(Q)}function f(J){if(_){var Q=J.which||J.keyCode,oe=!1;if(ee.keyboard){if(13==Q||32==Q){var ce=J.target||J.srcElement;x.getClassName(ce).indexOf("gantt_popup_button")>-1&&ce.click?ce.click():(y(_,!0),oe=!0)}27==Q&&(y(_,!1),oe=!0)}return oe?(J.preventDefault&&J.preventDefault(),!(J.cancelBubble=!0)):void 0}}var g=x.getRootNode(D.$root)||document;function w(J){w.cover||((w.cover=document.createElement("div")).onkeydown=f,w.cover.className="dhx_modal_cover",document.body.appendChild(w.cover)),w.cover.style.display=J?"inline-block":"none"}function b(J,Q,oe){var ce=D._waiAria.messageButtonAttrString(J),ge=Q.toLowerCase().replace(/ /g,"_");return"<div "+ce+" class='gantt_popup_button dhtmlx_popup_button gantt_"+ge+"_button dhtmlx_"+ge+"_button' data-result='"+oe+"' result='"+oe+"' ><div>"+J+"</div></div>"}function T(J){ee.area||(ee.area=document.createElement("div"),ee.area.className="gantt_message_area dhtmlx_message_area",ee.area.style[ee.position]="5px",document.body.appendChild(ee.area)),ee.hide(J.id);var Q=document.createElement("div");return Q.innerHTML="<div>"+J.text+"</div>",Q.className="gantt-info dhtmlx-info gantt-"+J.type+" dhtmlx-"+J.type,Q.onclick=function(){ee.hide(J.id),J=null},D._waiAria.messageInfoAttr(Q),"bottom"==ee.position&&ee.area.firstChild?ee.area.insertBefore(Q,ee.area.firstChild):ee.area.appendChild(Q),J.expire>0&&(ee.timers[J.id]=window.setTimeout(function(){ee&&ee.hide(J.id)},J.expire)),ee.pull[J.id]=Q,Q=null,J.id}function P(){for(var J=[].slice.apply(arguments,[0]),Q=0;Q<J.length;Q++)if(J[Q])return J[Q]}function E(J,Q,oe){var ce=J.tagName?J:function(we,Pe,Me){var Oe=document.createElement("div"),Be=O.uid();D._waiAria.messageModalAttr(Oe,Be),Oe.className=" gantt_modal_box dhtmlx_modal_box gantt-"+we.type+" dhtmlx-"+we.type,Oe.setAttribute(C,1);var je="";if(we.width&&(Oe.style.width=we.width),we.height&&(Oe.style.height=we.height),we.title&&(je+='<div class="gantt_popup_title dhtmlx_popup_title">'+we.title+"</div>"),je+='<div class="gantt_popup_text dhtmlx_popup_text" id="'+Be+'"><span>'+(we.content?"":we.text)+'</span></div><div  class="gantt_popup_controls dhtmlx_popup_controls">',Pe&&(je+=b(P(we.ok,D.locale.labels.message_ok,"OK"),"ok",!0)),Me&&(je+=b(P(we.cancel,D.locale.labels.message_cancel,"Cancel"),"cancel",!1)),we.buttons)for(var nt=0;nt<we.buttons.length;nt++){var We=we.buttons[nt];"object"==I(We)?je+=b(We.label,We.css||"gantt_"+We.label.toLowerCase()+"_button dhtmlx_"+We.label.toLowerCase()+"_button",We.value||nt):je+=b(We,We,nt)}if(Oe.innerHTML=je+="</div>",we.content){var ze=we.content;"string"==typeof ze&&(ze=document.getElementById(ze)),"none"==ze.style.display&&(ze.style.display=""),Oe.childNodes[we.title?1:0].appendChild(ze)}return Oe.onclick=function(ft){var Ct=ft.target||ft.srcElement;if(Ct.className||(Ct=Ct.parentNode),x.closest(Ct,".gantt_popup_button")){var ke=Ct.getAttribute("data-result");y(we,ke="true"==ke||"false"!=ke&&ke)}},we.box=Oe,(Pe||Me)&&(_=we),Oe}(J,Q,oe);J.hidden||w(!0),document.body.appendChild(ce);var ge=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-ce.offsetWidth)/2)),_e=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-ce.offsetHeight)/2));return ce.style.top="top"==J.position?"-3px":_e+"px",ce.style.left=ge+"px",ce.onkeydown=f,U.focus(ce),J.hidden&&U.hide(ce),D.callEvent("onMessagePopup",[ce]),ce}function F(J){return E(J,!0,!1)}function G(J){return E(J,!0,!0)}function V(J){return E(J)}function B(J,Q,oe){return"object"!=I(J)&&("function"==typeof Q&&(oe=Q,Q=""),J={text:J,type:Q,callback:oe}),J}function K(J,Q,oe,ce){return"object"!=I(J)&&(J={text:J,type:Q,expire:oe,id:ce}),J.id=J.id||O.uid(),J.expire=J.expire||ee.expire,J}D.event(g,"keydown",f,!0);var U=function(){var J=B.apply(this,arguments);return J.type=J.type||"alert",V(J)};U.hide=function(J){for(;J&&J.getAttribute&&!J.getAttribute(C);)J=J.parentNode;J&&(J.parentNode.removeChild(J),w(!1),D.callEvent("onAfterMessagePopup",[J]))},U.focus=function(J){setTimeout(function(){var Q=x.getFocusableNodes(J);Q.length&&Q[0].focus&&Q[0].focus()},1)};var ee=function(J,Q,oe,ce){switch((J=K.apply(this,arguments)).type=J.type||"info",J.type.split("-")[0]){case"alert":return F(J);case"confirm":return G(J);case"modalbox":return V(J);default:return T(J)}};ee.seed=(new Date).valueOf(),ee.uid=O.uid,ee.expire=4e3,ee.keyboard=!0,ee.position="top",ee.pull={},ee.timers={},ee.hideAll=function(){for(var J in ee.pull)ee.hide(J)},ee.hide=function(J){var Q=ee.pull[J];Q&&Q.parentNode&&(window.setTimeout(function(){Q.parentNode.removeChild(Q),Q=null},2e3),Q.className+=" hidden",ee.timers[J]&&window.clearTimeout(ee.timers[J]),delete ee.pull[J])};var ie=[];return D.attachEvent("onMessagePopup",function(J){ie.push(J)}),D.attachEvent("onAfterMessagePopup",function(J){for(var Q=0;Q<ie.length;Q++)ie[Q]===J&&(ie.splice(Q,1),Q--)}),D.attachEvent("onDestroy",function(){w.cover&&w.cover.parentNode&&w.cover.parentNode.removeChild(w.cover);for(var J=0;J<ie.length;J++)ie[J].parentNode&&ie[J].parentNode.removeChild(ie[J]);ie=null,ee.area&&ee.area.parentNode&&ee.area.parentNode.removeChild(ee.area),ee=null}),{alert:function(){var J=B.apply(this,arguments);return J.type=J.type||"confirm",F(J)},confirm:function(){var J=B.apply(this,arguments);return J.type=J.type||"alert",G(J)},message:ee,modalbox:U}}},function(j,X,R){var I=R(200),O=R(202),x=R(203),D=R(11),C=R(41),_=R(207),y=R(208),f=R(209),g=R(210),w=R(22),b=R(19),T=R(19),P=R(22),E=R(22),F=R(212),G=R(223),V=R(224),B=R(226),K=R(227),U=R(228),ee=R(230),ie=R(231),J=R(232),Q=R(233),oe=R(234),ce=R(240),ge=R(243);j.exports={init:function(_e){function we(Be,je){var nt=je(_e);nt.onCreated&&nt.onCreated(Be),Be.attachEvent("onReady",function(){nt.onInitialized&&nt.onInitialized(Be)}),Be.attachEvent("onDestroy",function(){nt.onDestroyed&&nt.onDestroyed(Be)})}var Pe=I.createFactory(_e);Pe.registerView("cell",D),Pe.registerView("resizer",f),Pe.registerView("scrollbar",g),Pe.registerView("layout",C,function(Be){"main"===(Be.$config?Be.$config.id:null)&&we(Be,ge)}),Pe.registerView("viewcell",y),Pe.registerView("multiview",_),Pe.registerView("timeline",w,function(Be){"timeline"!==(Be.$config?Be.$config.id:null)&&"task"!=Be.$config.bind||we(Be,ce)}),Pe.registerView("grid",b,function(Be){"grid"!==(Be.$config?Be.$config.id:null)&&"task"!=Be.$config.bind||we(Be,oe)}),Pe.registerView("resourceGrid",T),Pe.registerView("resourceTimeline",P),Pe.registerView("resourceHistogram",E);var Me=x(_e),Oe=F(_e);return _e.ext.inlineEditors=Oe,_e.ext._inlineEditors=Oe,Oe.init(_e),{factory:Pe,mouseEvents:O.init(_e),layersApi:Me.init(),render:{gridLine:function(){return ee(_e)},taskBg:function(){return K(_e)},taskBar:function(){return G(_e)},taskRollupBar:function(){return B(_e)},taskSplitBar:function(){return V(_e)},link:function(){return U(_e)},resourceRow:function(){return ie(_e)},resourceHistogram:function(){return J(_e)},gridTaskRowResizer:function(){return Q(_e)}},layersService:{getDataRender:function(Be){return Me.getDataRender(Be,_e)},createDataRender:function(Be){return Me.createDataRender(Be,_e)}}}}}},function(j,X,R){function I(D){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(D)}var O=R(0),x=R(201);j.exports={createFactory:function(D){var C={},_={};function y(f,g,w,b){var T=C[f];if(!T||!T.create)return!1;"resizer"!=f||w.mode||(w.mode=b.$config.cols?"x":"y"),"viewcell"!=f||"scrollbar"!=w.view||w.scroll||(w.scroll=b.$config.cols?"y":"x"),(w=O.copy(w)).id||_[w.view]||(w.id=w.view),w.id&&!w.css&&(w.css=w.id+"_cell");var P=new T.create(g,w,this,D);return T.configure&&T.configure(P),x(P,b),P.$id||(P.$id=w.id||D.uid()),P.$parent||"object"!=I(g)||(P.$parent=g),P.$config||(P.$config=w),_[P.$id]&&(P.$id=D.uid()),_[P.$id]=P,P}return{initUI:function(f,g){var w="cell";return f.view?w="viewcell":f.resizer?w="resizer":f.rows||f.cols?w="layout":f.views&&(w="multiview"),y.call(this,w,null,f,g)},reset:function(){_={}},registerView:function(f,g,w){C[f]={create:g,configure:w}},createView:y,getView:function(f){return _[f]}}}}},function(j,X,R){var I=R(0);function O(x,D){var C=this.$config[x];return C?(C.$extendedConfig||(C.$extendedConfig=!0,Object.setPrototypeOf(C,D)),C):D}j.exports=function(x,D){var C,_,y;I.mixin(x,(C=D,{$getConfig:function(){return _||(_=C?C.$getConfig():this.$gantt.config),this.$config.config?O.call(this,"config",_):_},$getTemplates:function(){return y||(y=C?C.$getTemplates():this.$gantt.templates),this.$config.templates?O.call(this,"templates",y):y}}))}},function(j,X,R){var O,I=(O=R(1),function(x){var D={click:{},doubleclick:{},contextMenu:{}};function C(E,F,G,V){D[E][F]||(D[E][F]=[]),D[E][F].push({handler:G,root:V})}function _(E){E=E||window.event;var F=x.locate(E),G=f(E,D.click),V=!0;if(null!==F?V=!x.checkEvent("onTaskClick")||x.callEvent("onTaskClick",[F,E]):x.callEvent("onEmptyClick",[E]),V){if(!g(G,E,F))return;switch(E.target.nodeName){case"SELECT":case"INPUT":return}F&&x.getTask(F)&&!x._multiselect&&x.config.select_task&&x.selectTask(F)}}function y(E){var F=(E=E||window.event).target||E.srcElement,G=x.locate(F),V=x.locate(F,x.config.link_attribute),B=!x.checkEvent("onContextMenu")||x.callEvent("onContextMenu",[G,V,E]);return B||(E.preventDefault?E.preventDefault():E.returnValue=!1),B}function f(E,F){for(var G=E.target||E.srcElement,V=[];G;){var B=O.getClassName(G);if(B){B=B.split(" ");for(var K=0;K<B.length;K++)if(B[K]&&F[B[K]])for(var U=F[B[K]],ee=0;ee<U.length;ee++)U[ee].root&&!O.isChildOf(G,U[ee].root)||V.push(U[ee].handler)}G=G.parentNode}return V}function g(E,F,G){for(var V=!0,B=0;B<E.length;B++){var K=E[B].call(x,F,G,F.target||F.srcElement);V=V&&!(void 0!==K&&!0!==K)}return V}function w(E){E=E||window.event;var F=x.locate(E),G=f(E,D.doubleclick),V=!x.checkEvent("onTaskDblClick")||null===F||x.callEvent("onTaskDblClick",[F,E]);if(V){if(!g(G,E,F))return;null!==F&&x.getTask(F)&&V&&x.config.details_on_dblclick&&!x.isReadonly(F)&&x.showLightbox(F)}}function b(E){if(x.checkEvent("onMouseMove")){var F=x.locate(E);x._last_move_event=E,x.callEvent("onMouseMove",[F,E])}}var T=x._createDomEventScope();function P(E){T.detachAll(),E&&(T.attach(E,"click",_),T.attach(E,"dblclick",w),T.attach(E,"mousemove",b),T.attach(E,"contextmenu",y))}return{reset:P,global:function(E,F,G){C(E,F,G,null)},delegate:C,detach:function(E,F,G,V){if(D[E]&&D[E][F]){for(var B=D[E],K=B[F],U=0;U<K.length;U++)K[U].root==V&&(K.splice(U,1),U--);K.length||delete B[F]}},callHandler:function(E,F,G,V){var B=D[E][F];if(B)for(var K=0;K<B.length;K++)(G||B[K].root)&&B[K].root!==G||B[K].handler.apply(this,V)},onDoubleClick:w,onMouseMove:b,onContextMenu:y,onClick:_,destructor:function(){P(),D=null,T=null}}});j.exports={init:I}},function(j,X,R){var I=R(204);function O(x,D){if(x.view){var C=x.view;"string"==typeof C&&(C=D.$ui.getView(C)),C&&C.attachEvent&&C.attachEvent("onScroll",function(){D.$services.getService("state").getState("batchUpdate").batch_update||C.$config.$skipSmartRenderOnScroll||x.requestUpdate&&x.requestUpdate()})}}j.exports=function(x){var D=I(x);return{getDataRender:function(C){return x.$services.getService("layer:"+C)||null},createDataRender:function(C){var _=C.name,g=D.createGroup(C.defaultContainer,C.defaultContainerSibling,function(w,b){if(!g.filters)return!0;for(var T=0;T<g.filters.length;T++)if(!1===g.filters[T](w,b))return!1},O);return x.$services.setService("layer:"+_,function(){return g}),x.attachEvent("onGanttReady",function(){g.addLayer()}),g},init:function(){var C=this.createDataRender({name:"task",defaultContainer:function(){return x.$task_data?x.$task_data:x.$ui.getView("timeline")?x.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return x.$task_links?x.$task_links:x.$ui.getView("timeline")?x.$ui.getView("timeline").$task_links:void 0},filter:function(y){}},x),_=this.createDataRender({name:"link",defaultContainer:function(){return x.$task_data?x.$task_data:x.$ui.getView("timeline")?x.$ui.getView("timeline").$task_data:void 0}},x);return{addTaskLayer:function(y){return"function"==typeof y&&(y={renderer:y}),y.view="timeline",C.addLayer(y)},_getTaskLayers:function(){return C.getLayers()},removeTaskLayer:function(y){C.removeLayer(y)},_clearTaskLayers:function(){C.clear()},addLinkLayer:function(y){return"function"==typeof y&&(y={renderer:{render:y}}),y.view="timeline",_.addLayer(y)},_getLinkLayers:function(){return _.getLayers()},removeLinkLayer:function(y){_.removeLayer(y)},_clearLinkLayers:function(){_.clear()}}}}}},function(j,X,R){var I=R(205),O=R(0),x=R(1),D=R(14);function C(_){return _ instanceof Array||(_=Array.prototype.slice.call(arguments,0)),function(y){for(var f=!0,g=0,w=_.length;g<w;g++){var b=_[g];b&&(f=f&&!1!==b(y.id,y))}return f}}j.exports=function(_){var y=I(_);return{createGroup:function(f,g,w,b){var T={tempCollection:[],renderers:{},container:f,filters:[],getLayers:function(){this._add();var P=[];for(var E in this.renderers)P.push(this.renderers[E]);return P},getLayer:function(P){return this.renderers[P]},_add:function(P){P&&(P.id=P.id||O.uid(),this.tempCollection.push(P));for(var E=this.container(),F=this.tempCollection,G=0;G<F.length;G++)if(P=F[G],this.container()||P&&P.container&&x.isChildOf(P.container,document.body)){var V=P.container,B=P.id;if(!V.parentNode)if(P.topmost)E.appendChild(V);else{var U=g?g():E.firstChild;U&&U.parentNode==E?E.insertBefore(V,U):E.appendChild(V)}this.renderers[B]=y.getRenderer(B,P,V),b&&b(P,_),this.tempCollection.splice(G,1),G--}},addLayer:function(P){if(P){"function"==typeof P&&(P={renderer:P}),void 0===P.filter?P.filter=C(w||[]):P.filter instanceof Array&&(P.filter.push(w),P.filter=C(P.filter)),P.container||(P.container=document.createElement("div"));var E=this;P.requestUpdate=function(){_.config.smart_rendering&&!D(_)&&E.renderers[P.id]&&E.onUpdateRequest(E.renderers[P.id])}}return this._add(P),P?P.id:void 0},onUpdateRequest:function(P){},eachLayer:function(P){for(var E in this.renderers)P(this.renderers[E])},removeLayer:function(P){this.renderers[P]&&(this.renderers[P].destructor(),delete this.renderers[P])},clear:function(){for(var P in this.renderers)this.renderers[P].destructor();this.renderers={}}};return _.attachEvent("onDestroy",function(){T.clear(),T=null}),T}}}},function(j,X,R){var I=R(206),O=R(14),x=R(21),D=R(5);j.exports=function(C){var _={},y={};function f(w){var b=null;return"string"==typeof w.view?b=C.$ui.getView(w.view):w.view&&(b=w.view),b}function g(w,b,T){if(y[w])return y[w];b.renderer||C.assert(!1,"Invalid renderer call");var P=null,E=null,F=null,G=null,V=null;"function"==typeof b.renderer?(P=b.renderer,F=x):(P=b.renderer.render,E=b.renderer.update,G=b.renderer.onrender,b.renderer.isInViewPort?V=b.renderer.isInViewPort:F=b.renderer.getRectangle,F||null===F||(F=x));var B=b.filter;return T&&T.setAttribute(C.config.layer_attribute,!0),y[w]={render_item:function(K,U,ee,ie,J){if(U=U||T,!B||B(K)){var Q=ie||f(b),oe=J||(Q?Q.$getConfig():null),ce=ee;!ce&&oe&&oe.smart_rendering&&(ce=Q.getViewPort());var ge=null;!O(C)&&(F||V)&&ce?(V?V(K,ce,Q,oe,C):I(ce,F(K,Q,oe,C)))&&(ge=P.call(C,K,Q,oe,ce)):ge=P.call(C,K,Q,oe,ce),this.append(K,ge,U),G&&11!=U.nodeType&&ge&&G.call(C,K,ge,Q)}else this.remove_item(K.id)},clear:function(K){this.rendered=_[w]={},b.append||this.clear_container(K)},clear_container:function(K){(K=K||T)&&(K.innerHTML="")},get_visible_range:function(K){var U,ee,ie=f(b),J=ie?ie.$getConfig():null;return J&&J.smart_rendering&&(U=ie.getViewPort()),ie&&U&&("function"==typeof b.renderer?ee=D(C,ie,J,K,U):b.renderer&&b.renderer.getVisibleRange&&(ee=b.renderer.getVisibleRange(C,ie,J,K,U))),ee||(ee={start:0,end:K.count()}),ee},render_items:function(K,U){U=U||T;var ee=document.createDocumentFragment();this.clear(U);var ie=null,J=f(b),Q=J?J.$getConfig():null;Q&&Q.smart_rendering&&(ie=J.getViewPort());for(var oe=0,ce=K.length;oe<ce;oe++)this.render_item(K[oe],ee,ie,J,Q);U.appendChild(ee,U);var ge={};K.forEach(function(Pe){ge[Pe.id]=Pe});var _e={};if(G){var we={};for(var oe in this.rendered)_e[oe]||(we[oe]=this.rendered[oe],G.call(C,ge[oe],this.rendered[oe],J))}},update_items:function(K,U){var ee=f(b),ie=ee?ee.$getConfig():null;if(ee&&ee.$getConfig().smart_rendering&&!O(C)&&this.rendered&&(F||V)){U=U||T;var J=document.createDocumentFragment(),Q=null;ee&&(Q=ee.getViewPort());var oe={};K.forEach(function(je){oe[je.id]=je});var ce={},ge={};for(var _e in this.rendered)ge[_e]=!0,ce[_e]=!0;for(var we={},Pe=(_e=0,K.length);_e<Pe;_e++){var Me=K[_e],Oe=this.rendered[Me.id];ge[Me.id]=!1,Oe&&Oe.parentNode?(V?V(Me,Q,ee,ie,C):I(Q,F(Me,ee,ie,C)))?(E&&E.call(C,Me,Oe,ee,ie,Q),this.restore(Me,J)):ge[Me.id]=!0:(we[K[_e].id]=!0,this.render_item(K[_e],J,Q,ee,ie))}for(var _e in ge)ge[_e]&&this.hide(_e);if(J.childNodes.length&&U.appendChild(J,U),G){var Be={};for(var _e in this.rendered)ce[_e]&&!we[_e]||(Be[_e]=this.rendered[_e],G.call(C,oe[_e],this.rendered[_e],ee))}}},append:function(K,U,ee){this.rendered&&(U?(this.rendered[K.id]&&this.rendered[K.id].parentNode?this.replace_item(K.id,U):ee.appendChild(U),this.rendered[K.id]=U):this.rendered[K.id]&&this.remove_item(K.id))},replace_item:function(K,U){var ee=this.rendered[K];ee&&ee.parentNode&&ee.parentNode.replaceChild(U,ee),this.rendered[K]=U},remove_item:function(K){this.hide(K),delete this.rendered[K]},hide:function(K){var U=this.rendered[K];U&&U.parentNode&&U.parentNode.removeChild(U)},restore:function(K,U){var ee=this.rendered[K.id];ee?ee.parentNode||this.append(K,ee,U||T):this.render_item(K,U||T)},change_id:function(K,U){this.rendered[U]=this.rendered[K],delete this.rendered[K]},rendered:_[w],node:T,destructor:function(){this.clear(),delete y[w],delete _[w]}},y[w]}return{getRenderer:g,clearRenderers:function(){for(var w in y)g(w).destructor()}}}},function(j,X){j.exports=function(R,I){return!!I&&!(I.left>R.x_end||I.left+I.width<R.x)&&!(I.top>R.y_end||I.top+I.height<R.y)}},function(j,X,R){var I=R(3),O=R(41),x=R(11),D=function(C){"use strict";function _(y,f,g){for(var w=C.apply(this,arguments)||this,b=0;b<w.$cells.length;b++)w.$cells[b].$config.hidden=0!==b;return w.$cell=w.$cells[0],w.$name="viewLayout",w}return I(_,C),_.prototype.cell=function(y){var f=C.prototype.cell.call(this,y);return f.$view||this.$fill(null,this),f},_.prototype.moveView=function(y){var f=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,f.removeChild(this.$cell.$view)),this.$cell=y,f.appendChild(y.$view)},_.prototype.setSize=function(y,f){x.prototype.setSize.call(this,y,f)},_.prototype.setContentSize=function(){var y=this.$lastSize;this.$cell.setSize(y.contentX,y.contentY)},_.prototype.getSize=function(){var y=C.prototype.getSize.call(this);if(this.$cell){var f=this.$cell.getSize();if(this.$config.byMaxSize)for(var g=0;g<this.$cells.length;g++){var w=this.$cells[g].getSize();for(var b in f)f[b]=Math.max(f[b],w[b])}for(var T in y)y[T]=y[T]||f[T];y.gravity=Math.max(y.gravity,f.gravity)}return y},_}(O);j.exports=D},function(j,X,R){var I=R(3),O=R(0),x=function(D){"use strict";function C(_,y,f){var g=D.apply(this,arguments)||this;if(y.view){y.id&&(this.$id=O.uid());var w=O.copy(y);if(delete w.config,delete w.templates,this.$content=this.$factory.createView(y.view,this,w,this),!this.$content)return!1}return g.$name="viewCell",g}return I(C,D),C.prototype.destructor=function(){this.clear(),D.prototype.destructor.call(this)},C.prototype.clear=function(){if(this.$initialized=!1,this.$content){var _=this.$content.unload||this.$content.destructor;_&&_.call(this.$content)}D.prototype.clear.call(this)},C.prototype.scrollTo=function(_,y){this.$content&&this.$content.scrollTo?this.$content.scrollTo(_,y):D.prototype.scrollTo.call(this,_,y)},C.prototype._setContentSize=function(_,y){var f=this._getBorderSizes();"number"==typeof _&&(this.$config.width=_+f.horizontal),"number"==typeof y&&(this.$config.height=y+f.vertical)},C.prototype.setSize=function(_,y){if(D.prototype.setSize.call(this,_,y),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var g=this.$view.childNodes[1];g||(g=this.$view.childNodes[0]),this.$content.init(g)}},C.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},C.prototype.getContentSize=function(){var _=D.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var y=this.$content.getSize();_.width=void 0===y.contentX?y.width:y.contentX,_.height=void 0===y.contentY?y.height:y.contentY}var f=this._getBorderSizes();return _.width+=f.horizontal,_.height+=f.vertical,_},C}(R(11));j.exports=x},function(j,X){j.exports=null},function(j,X,R){var I=R(3),O=R(1),x=R(0),D=R(7),C=function(_){"use strict";var y=["altKey","shiftKey","metaKey"];function f(g,w,b,T){var P=_.apply(this,arguments)||this;this.$config=x.mixin(w,{scroll:"x"}),P._scrollHorizontalHandler=x.bind(P._scrollHorizontalHandler,P),P._scrollVerticalHandler=x.bind(P._scrollVerticalHandler,P),P._outerScrollVerticalHandler=x.bind(P._outerScrollVerticalHandler,P),P._outerScrollHorizontalHandler=x.bind(P._outerScrollHorizontalHandler,P),P._mouseWheelHandler=x.bind(P._mouseWheelHandler,P),this.$config.hidden=!0;var E=T.config.scroll_size;return T.env.isIE&&(E+=1),this._isHorizontal()?(P.$config.height=E,P.$parent.$config.height=E):(P.$config.width=E,P.$parent.$config.width=E),this.$config.scrollPosition=0,P.$name="scroller",P}return I(f,_),f.prototype.init=function(g){g.innerHTML=this.$toHTML(),this.$view=g.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},f.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},f.prototype._getRootParent=function(){for(var g=this.$parent;g&&g.$parent;)g=g.$parent;if(g)return g},f.prototype._eachView=function(){var g=[];return function w(b,T){if(T.push(b),b.$cells)for(var P=0;P<b.$cells.length;P++)w(b.$cells[P],T)}(this._getRootParent(),g),g},f.prototype._getLinkedViews=function(){for(var g=this._eachView(),w=[],b=0;b<g.length;b++)g[b].$config&&(this._isVertical()&&g[b].$config.scrollY==this.$id||this._isHorizontal()&&g[b].$config.scrollX==this.$id)&&w.push(g[b]);return w},f.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},f.prototype._initLinkedViews=function(){for(var g=this._getLinkedViews(),w=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",b=0;b<g.length;b++)O.addClassName(g[b].$view||g[b].getNode(),w)},f.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},f.prototype._updateLinkedViews=function(){},f.prototype._initMouseWheel=function(){this.$domEvents.attach(this._getRootParent().$view,D.isFF?"wheel":"mousewheel",this._mouseWheelHandler,{passive:!1})},f.prototype.scrollHorizontally=function(g){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=g,this.$config.codeScrollLeft=g,g=this.$scroll_hor.scrollLeft;for(var w=this._getLinkedViews(),b=0;b<w.length;b++)w[b].scrollTo&&w[b].scrollTo(g,void 0);var T=this.$config.scrollPosition;this.$config.scrollPosition=g,this.callEvent("onScroll",[T,g,this.$config.scroll]),this._scrolling=!1}},f.prototype.scrollVertically=function(g){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=g,g=this.$scroll_ver.scrollTop;for(var w=this._getLinkedViews(),b=0;b<w.length;b++)w[b].scrollTo&&w[b].scrollTo(void 0,g);var T=this.$config.scrollPosition;this.$config.scrollPosition=g,this.callEvent("onScroll",[T,g,this.$config.scroll]),this._scrolling=!1}},f.prototype._isVertical=function(){return"y"==this.$config.scroll},f.prototype._isHorizontal=function(){return"x"==this.$config.scroll},f.prototype._scrollHorizontalHandler=function(g){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;this.scrollHorizontally(this.$scroll_hor.scrollLeft),this._oldLeft=this.$scroll_hor.scrollLeft}},f.prototype._outerScrollHorizontalHandler=function(g){this._isVertical()},f.prototype.show=function(){this.$parent.show()},f.prototype.hide=function(){this.$parent.hide()},f.prototype._getScrollSize=function(){for(var g,w=0,b=0,T=this._isHorizontal(),P=this._getLinkedViews(),E=T?"scrollWidth":"scrollHeight",F=T?"contentX":"contentY",G=T?"x":"y",V=this._getScrollOffset(),B=0;B<P.length;B++)if((g=P[B])&&g.$content&&g.$content.getSize&&!g.$config.hidden){var K,U=g.$content.getSize();if(K=U.hasOwnProperty(E)?U[E]:U[F],V)U[F]>U[G]&&U[F]>w&&K>U[G]-V+2&&(w=K+(T?0:2),b=U[G]);else{var ee=Math.max(U[F]-K,0);(K+=ee)>Math.max(U[G]-ee,0)&&K>w&&(w=K,b=U[G])}}return{outerScroll:b,innerScroll:w}},f.prototype.scroll=function(g){this._isHorizontal()?this.scrollHorizontally(g):this.scrollVertically(g)},f.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},f.prototype.setSize=function(g,w){_.prototype.setSize.apply(this,arguments);var b=this._getScrollSize(),T=(this._isVertical()?w:g)-this._getScrollOffset()+(this._isHorizontal()?1:0);b.innerScroll&&T>b.outerScroll&&(b.innerScroll+=T-b.outerScroll),this.$config.scrollSize=b.innerScroll,this.$config.width=g,this.$config.height=w,this._setScrollSize(b.innerScroll)},f.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},f.prototype.shouldShow=function(){var g=this._getScrollSize();return!(!g.innerScroll&&this.$parent&&this.$parent.$view.parentNode||!g.innerScroll||this.$parent&&this.$parent.$view.parentNode)},f.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},f.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},f.prototype._getScaleOffset=function(g){var w=0;return!g||"timeline"!=g.$config.view&&"grid"!=g.$config.view||(w=g.$content.$getConfig().scale_height),w},f.prototype._getScrollOffset=function(){var g=0;if(this._isVertical()){var w=this.$parent.$parent;g=Math.max(this._getScaleOffset(w.getPrevSibling(this.$parent.$id)),this._getScaleOffset(w.getNextSibling(this.$parent.$id)))}else for(var b=this._getLinkedViews(),T=0;T<b.length;T++){var P=b[T].$parent.$cells,E=P[P.length-1];if(E&&"scrollbar"==E.$config.view&&!1===E.$config.hidden){g=E.$config.width;break}}return g||0},f.prototype._setScrollSize=function(g){var w=this._isHorizontal()?"width":"height",b=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,T=this._getScrollOffset(),P=b.firstChild;T?this._isVertical()?(this.$config.outerSize=this.$config.height-T+3,b.style.height=this.$config.outerSize+"px",b.style.top=T-1+"px",O.addClassName(b,this.$parent._borders.top),O.addClassName(b.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-T+1,b.style.width=this.$config.outerSize+"px"):(b.style.top="auto",O.removeClassName(b,this.$parent._borders.top),O.removeClassName(b.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),P.style[w]=g+"px"},f.prototype._scrollVerticalHandler=function(g){if(!this._scrollHorizontalHandler()&&!this._scrolling){var w=this.$scroll_ver.scrollTop;w!=this._oldTop&&(this.scrollVertically(w),this._oldTop=this.$scroll_ver.scrollTop)}},f.prototype._outerScrollVerticalHandler=function(g){this._scrollHorizontalHandler()},f.prototype._checkWheelTarget=function(g){for(var w=this._getLinkedViews().concat(this),b=0;b<w.length;b++)if(O.isChildOf(g,w[b].$view))return!0;return!1},f.prototype._mouseWheelHandler=function(g){if(this._checkWheelTarget(g.target||g.srcElement)){this._wheel_time=new Date;var b={},T={x:1,y:1},P=this.$gantt.config.wheel_scroll_sensitivity;"number"==typeof P&&P?T={x:P,y:P}:"[object Object]"=={}.toString.apply(P)&&(T={x:P.x,y:P.y});var E=D.isFF,F=E?g.deltaX:g.wheelDeltaX,G=E?g.deltaY:g.wheelDelta,V=-20;E&&(V=0!==g.deltaMode?-40:-10);var B=E?F*V*T.x:2*F*T.x,K=E?G*V*T.y:G*T.y,U=this.$gantt.config.horizontal_scroll_key;if(!1!==U&&y.indexOf(U)>=0&&(!g[U]||g.deltaX||g.wheelDeltaX||(B=2*K,K=0)),B&&Math.abs(B)>Math.abs(K)){if(this._isVertical())return;if(b.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var ee=B/-40,ie=this._oldLeft,J=ie+30*ee;if(this.scrollHorizontally(J),this.$scroll_hor.scrollLeft=J,ie==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(b.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;ee=K/-40,void 0===K&&(ee=g.detail);var Q=this._oldTop,oe=this.$scroll_ver.scrollTop+30*ee;if(this.scrollVertically(oe),this.$scroll_ver.scrollTop=oe,Q==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return g.preventDefault&&g.preventDefault(),g.cancelBubble=!0,!1}},f}(R(11));j.exports=C},function(j,X){j.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(j,X,R){var I=R(213),O=R(216),x=R(217),D=R(218),C=R(219),_=R(220),y=R(221),f=R(0),g=R(1),w=R(4),b=R(222);function T(P){P.config.editor_types={text:new(O(P)),number:new(x(P)),select:new(D(P)),date:new(C(P)),predecessor:new(_(P)),duration:new(y(P))}}j.exports=function(P){var E=I(P),F={};w(F);var G={init:T,createEditors:function(V){var K=b(P),U=[],ee=[],ie=null,J={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(Q){if(!g.isChildOf(Q,V.$grid))return null;var oe=g.locateAttribute(Q,V.$config.item_attribute),ce=g.locateAttribute(Q,"data-column-name");if(oe&&ce){var ge=ce.getAttribute("data-column-name");return{id:oe.getAttribute(V.$config.item_attribute),columnName:ge}}return null},getEditorConfig:function(Q){return V.getColumn(Q).editor},init:function(){var Q=E.getMapping();Q.init&&Q.init(this,V),ie=V.$gantt.getDatastore(V.$config.bind);var oe=this;U.push(ie.attachEvent("onIdChange",function(ce,ge){oe._itemId==ce&&(oe._itemId=ge)})),U.push(ie.attachEvent("onStoreUpdated",function(){V.$gantt.getState("batchUpdate").batch_update||oe.isVisible()&&!ie.isVisible(oe._itemId)&&oe.hide()})),ee.push(P.attachEvent("onDataRender",function(){oe._editor&&oe._placeholder&&!g.isChildOf(oe._placeholder,P.$root)&&V.$grid_data.appendChild(oe._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(Q,oe){if(this.isVisible()&&this.save(),ie.exists(Q)){var ce={id:Q,columnName:oe};P.isReadonly(ie.getItem(Q))?this.callEvent("onEditPrevent",[ce]):!1!==this.callEvent("onBeforeEditStart",[ce])?(this.show(ce.id,ce.columnName),this.setValue(),this.callEvent("onEditStart",[ce])):this.callEvent("onEditPrevent",[ce])}},isVisible:function(){return!(!this._editor||!g.isChildOf(this._placeholder,P.$root))},show:function(Q,oe){this.isVisible()&&this.save();var ce={id:Q,columnName:oe},ge=V.getColumn(ce.columnName),_e=this.getEditorConfig(ge.name);if(_e){var we=V.$getConfig().editor_types[_e.type],Pe=function B(Q,oe){var ce=V.$getConfig(),ge=function(Pe,Me){for(var Oe=V.$getConfig(),Be=V.getItemTop(Pe),je=V.getItemHeight(Pe),nt=V.getGridColumns(),We=0,ze=0,ft=0,Ct=0;Ct<nt.length;Ct++){if(nt[Ct].name==Me){ft=nt[Ct].width;break}Oe.rtl?ze+=nt[Ct].width:We+=nt[Ct].width}return Oe.rtl?{top:Be,right:ze,height:je,width:ft}:{top:Be,left:We,height:je,width:ft}}(Q,oe),_e=document.createElement("div");_e.className="gantt_grid_editor_placeholder",_e.setAttribute(V.$config.item_attribute,Q),_e.setAttribute(V.$config.bind+"_id",Q),_e.setAttribute("data-column-name",oe);var we=function(Pe,Me){for(var Oe=Pe.getGridColumns(),Be=0;Be<Oe.length;Be++)if(Oe[Be].name==Me)return Be;return 0}(V,oe);return _e.setAttribute("data-column-index",we),_e.style.cssText=ce.rtl?["top:"+ge.top+"px","right:"+ge.right+"px","width:"+ge.width+"px","height:"+ge.height+"px"].join(";"):["top:"+ge.top+"px","left:"+ge.left+"px","width:"+ge.width+"px","height:"+ge.height+"px"].join(";"),_e}(ce.id,ce.columnName);V.$grid_data.appendChild(Pe),we.show(ce.id,ge,_e,Pe),this._editor=we,this._placeholder=Pe,this._itemId=ce.id,this._columnName=ce.columnName,this._editorType=_e.type;var Me=E.getMapping();Me.onShow&&Me.onShow(this,Pe,V)}},setValue:function(){var Q=this.getState(),oe=Q.id,ce=Q.columnName,ge=V.getColumn(ce),_e=ie.getItem(oe),we=this.getEditorConfig(ce);if(we){var Pe=_e[we.map_to];"auto"==we.map_to&&(Pe=ie.getItem(oe)),this._editor.set_value(Pe,oe,ge,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var Q=V.getColumn(this._columnName);return this._editor.get_value(this._itemId,Q,this._placeholder)},_getItemValue:function(){var Q=this.getEditorConfig(this._columnName);if(Q){var oe=P.getTask(this._itemId)[Q.map_to];return"auto"==Q.map_to&&(oe=ie.getItem(this._itemId)),oe}},isChanged:function(){var Q=V.getColumn(this._columnName),oe=this._getItemValue();return this._editor.is_changed(oe,this._itemId,Q,this._placeholder)},hide:function(){if(this._itemId){var Q=this._itemId,oe=this._columnName,ce=E.getMapping();ce.onHide&&ce.onHide(this,this._placeholder,V),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:Q,columnName:oe}]))}},save:function(){if(this.isVisible()&&ie.exists(this._itemId)&&this.isChanged()){var Q=this._itemId,oe=this._columnName;if(ie.exists(Q)){var ce=ie.getItem(Q),ge=this.getEditorConfig(oe),_e={id:Q,columnName:oe,newValue:this.getValue(),oldValue:this._getItemValue()};if(!1!==this.callEvent("onBeforeSave",[_e])&&(!this._editor.is_valid||this._editor.is_valid(_e.newValue,_e.id,_e.columnName,this._placeholder))){var we=ge.map_to;"auto"!=we?(ce[we]=_e.newValue,K(ce,we,P.config.inline_editors_date_processing),ie.updateItem(Q)):this._editor.save(Q,V.getColumn(oe),this._placeholder),this.callEvent("onSave",[_e])}this.hide()}}else this.hide()},_findEditableCell:function(Q,oe){var ce=Q,ge=V.getGridColumns()[ce],_e=ge?ge.name:null;if(_e){for(;_e&&!this.getEditorConfig(_e);)_e=this._findEditableCell(Q+oe,oe);return _e}return null},getNextCell:function(Q){return this._findEditableCell(V.getColumnIndex(this._columnName,!0)+Q,Q)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(V.getGridColumns().length-1,-1)},editNextCell:function(Q){var oe=this.getNextCell(1);if(oe){var ce=this.getNextCell(1);ce&&this.getEditorConfig(ce)&&this.startEdit(this._itemId,ce)}else if(Q&&this.moveRow(1)){var ge=this.moveRow(1);(oe=this.getFirstCell())&&this.getEditorConfig(oe)&&this.startEdit(ge,oe)}},editPrevCell:function(Q){var oe=this.getNextCell(-1);if(oe){var ce=this.getNextCell(-1);ce&&this.getEditorConfig(ce)&&this.startEdit(this._itemId,ce)}else if(Q&&this.moveRow(-1)){var ge=this.moveRow(-1);(oe=this.getLastCell())&&this.getEditorConfig(oe)&&this.startEdit(ge,oe)}},moveRow:function(Q){for(var oe=Q>0?P.getNext:P.getPrev,ce=(oe=P.bind(oe,P))(this._itemId);P.isTaskExists(ce)&&P.isReadonly(P.getTask(ce));)ce=oe(ce);return ce},editNextRow:function(Q){var oe=this.getState().id;if(P.isTaskExists(oe)){var ce;ce=Q?this.moveRow(1):P.getNext(oe),P.isTaskExists(ce)&&this.startEdit(ce,this._columnName)}},editPrevRow:function(Q){var oe=this.getState().id;if(P.isTaskExists(oe)){var ce;ce=Q?this.moveRow(-1):P.getPrev(oe),P.isTaskExists(ce)&&this.startEdit(ce,this._columnName)}},destructor:function(){U.forEach(function(Q){ie.detachEvent(Q)}),ee.forEach(function(Q){P.detachEvent(Q)}),U=[],ee=[],ie=null,this.hide(),this.detachAllEvents()}};return f.mixin(J,E),f.mixin(J,F),J}};return f.mixin(G,E),f.mixin(G,F),G}},function(j,X,R){var I=R(214),O=R(215);j.exports=function(x){var D=null;return{setMapping:function(C){D=C},getMapping:function(){return D||(x.config.keyboard_navigation_cells&&x.ext.keyboardNavigation?O:I)}}}},function(j,X){j.exports={init:function(R,I){var O=I.$gantt;O.attachEvent("onTaskClick",function(x,D){if(O._is_icon_open_click(D))return!0;var C=R.getState(),_=R.locateCell(D.target);return!_||!R.getEditorConfig(_.columnName)||(R.isVisible()&&C.id==_.id&&C.columnName==_.columnName||R.startEdit(_.id,_.columnName),!1)}),O.attachEvent("onEmptyClick",function(){return R.isVisible()&&R.isChanged()?R.save():R.hide(),!0}),O.attachEvent("onTaskDblClick",function(x,D){var C=R.getState(),_=R.locateCell(D.target);return!_||!R.isVisible()||_.columnName!=C.columnName})},onShow:function(R,I,O){var x=O.$gantt;x.ext&&x.ext.keyboardNavigation&&x.ext.keyboardNavigation.attachEvent("onKeyDown",function(D,C){var y=!1;return C.keyCode===x.constants.KEY_CODES.SPACE&&R.isVisible()&&(y=!0),!y}),I.onkeydown=function(D){D=D||window.event;var C=x.constants.KEY_CODES;if(!(D.defaultPrevented||D.shiftKey&&D.keyCode!=C.TAB)){var _=!0;switch(D.keyCode){case x.keys.edit_save:R.save();break;case x.keys.edit_cancel:R.hide();break;case C.UP:case C.DOWN:R.isVisible()&&(R.hide(),_=!1);break;case C.TAB:D.shiftKey?R.editPrevCell(!0):R.editNextCell(!0);break;default:_=!1}_&&D.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(j,X){j.exports={init:function(R,I){var O=R,x=I.$gantt,D=null,C=x.ext.keyboardNavigation;C.attachEvent("onBeforeFocus",function(_){var y=R.locateCell(_);if(clearTimeout(D),y){var f=y.columnName,g=y.id,w=O.getState();if(O.isVisible()&&w.id==g&&w.columnName===f)return!1}return!0}),C.attachEvent("onFocus",function(_){var y=R.locateCell(_),f=R.getState();return clearTimeout(D),!y||y.id==f.id&&y.columnName==f.columnName||O.isVisible()&&O.save(),!0}),R.attachEvent("onHide",function(){clearTimeout(D)}),C.attachEvent("onBlur",function(){return D=setTimeout(function(){O.save()}),!0}),x.attachEvent("onTaskDblClick",function(_,y){var f=R.getState(),g=R.locateCell(y.target);return!g||!R.isVisible()||g.columnName!=f.columnName}),x.attachEvent("onTaskClick",function(_,y){if(x._is_icon_open_click(y))return!0;var f=R.getState(),g=R.locateCell(y.target);return!g||!R.getEditorConfig(g.columnName)||(R.isVisible()&&f.id==g.id&&f.columnName==g.columnName||R.startEdit(g.id,g.columnName),!1)}),x.attachEvent("onEmptyClick",function(){return O.save(),!0}),C.attachEvent("onKeyDown",function(_,y){var f=R.locateCell(y.target),g=!!f&&R.getEditorConfig(f.columnName),w=R.getState(),b=x.constants.KEY_CODES,T=y.keyCode,P=!1;switch(T){case b.ENTER:R.isVisible()?(R.save(),y.preventDefault(),P=!0):g&&!(y.ctrlKey||y.metaKey||y.shiftKey)&&(O.startEdit(f.id,f.columnName),y.preventDefault(),P=!0);break;case b.ESC:R.isVisible()&&(R.hide(),y.preventDefault(),P=!0);break;case b.UP:case b.DOWN:break;case b.LEFT:case b.RIGHT:(g&&R.isVisible()||"date"===w.editorType)&&(P=!0);break;case b.SPACE:R.isVisible()&&(P=!0),g&&!R.isVisible()&&(O.startEdit(f.id,f.columnName),y.preventDefault(),P=!0);break;case b.DELETE:g&&!R.isVisible()?(O.startEdit(f.id,f.columnName),P=!0):g&&R.isVisible()&&(P=!0);break;case b.TAB:if(R.isVisible()){y.shiftKey?R.editPrevCell(!0):R.editNextCell(!0);var E=R.getState();E.id&&C.focus({type:"taskCell",id:E.id,column:E.columnName}),y.preventDefault(),P=!0}break;default:if(R.isVisible())P=!0;else if(T>=48&&T<=57||T>95&&T<112||T>=64&&T<=91||T>185&&T<193||T>218&&T<223){var F=_.modifiers;F.alt||(F.alt||F.ctrl||F.meta||F.shift)&&C.getCommandHandler(_,"taskCell")||g&&!R.isVisible()&&(O.startEdit(f.id,f.columnName),P=!0)}}return!P})},onShow:function(R,I,O){},onHide:function(R,I,O){O.$gantt.focus()},destroy:function(){}}},function(j,X,R){j.exports=function(I){var O=R(8)(I),x=R(0);function D(){return O.apply(this,arguments)||this}return R(3)(D,O),x.mixin(D.prototype,{show:function(C,_,y,f){f.innerHTML="<div><input type='text' name='"+_.name+"'></div>"}},!0),D}},function(j,X,R){j.exports=function(I){var O=R(8)(I),x=R(0);function D(){return O.apply(this,arguments)||this}return R(3)(D,O),x.mixin(D.prototype,{show:function(C,_,y,f){f.innerHTML="<div><input type='number' min='"+(y.min||0)+"' max='"+(y.max||100)+"' name='"+_.name+"'></div>"},get_value:function(C,_,y){return this.get_input(y).value||""},is_valid:function(C,_,y,f){return!isNaN(parseInt(C,10))}},!0),D}},function(j,X,R){j.exports=function(I){var O=R(8)(I),x=R(0);function D(){return O.apply(this,arguments)||this}return R(3)(D,O),x.mixin(D.prototype,{show:function(C,_,y,f){for(var g="<div><select name='"+_.name+"'>",w=[],b=y.options||[],T=0;T<b.length;T++)w.push("<option value='"+y.options[T].key+"'>"+b[T].label+"</option>");g+=w.join("")+"</select></div>",f.innerHTML=g},get_input:function(C){return C.querySelector("select")}},!0),D}},function(j,X,R){j.exports=function(I){var O=R(8)(I),x=R(0),D="%Y-%m-%d",C=null,_=null;function y(){return O.apply(this,arguments)||this}return R(3)(y,O),x.mixin(y.prototype,{show:function(f,g,w,b){C||(C=I.date.date_to_str(D)),_||(_=I.date.str_to_date(D));var T,P;T="function"==typeof w.min?w.min(f,g):w.min,P="function"==typeof w.max?w.max(f,g):w.max;var E="<div style='width:140px'><input type='date' "+(T?" min='"+C(T)+"' ":"")+(P?" max='"+C(P)+"' ":"")+" name='"+g.name+"'></div>";b.innerHTML=E},set_value:function(f,g,w,b){this.get_input(b).value=f&&f.getFullYear?C(f):f},is_valid:function(f,g,w,b){return!(!f||isNaN(f.getTime()))},get_value:function(f,g,w){var b;try{b=_(this.get_input(w).value||"")}catch(T){b=null}return b}},!0),y}},function(j,X,R){j.exports=function(I){var O=R(8)(I),x=R(0);function D(){return O.apply(this,arguments)||this}function C(w){return w.formatter||I.ext.formatters.linkFormatter()}function _(w,b){for(var T=(w||"").split(b.delimiter||","),P=0;P<T.length;P++){var E=T[P].trim();E?T[P]=E:(T.splice(P,1),P--)}return T.sort(),T}function y(w,b,T){for(var P=w.$target,E=[],F=0;F<P.length;F++){var G=T.getLink(P[F]);E.push(C(b).format(G))}return E.join((b.delimiter||",")+" ")}function f(w){return w.source+"_"+w.target+"_"+w.type+"_"+(w.lag||0)}return R(3)(D,O),x.mixin(D.prototype,{show:function(w,b,T,P){P.innerHTML="<div><input type='text' name='"+b.name+"'></div>"},hide:function(){},set_value:function(w,b,T,P){this.get_input(P).value=y(w,T.editor,I)},get_value:function(w,b,T){return _(this.get_input(T).value||"",b.editor)},save:function(w,b,T){var P=function g(w,b,T){var B,U,ee,P=(B=w.id,U=T,ee=[],b.forEach(function(ie){var J=C(U).parse(ie);J&&(J.target=B,J.id="predecessor_generated",I.isLinkAllowed(J)&&(J.id=void 0,ee.push(J)))}),ee),E={};w.$target.forEach(function(B){var K=I.getLink(B);E[f(K)]=K.id});var F=[];P.forEach(function(B){var K=f(B);E[K]?delete E[K]:F.push(B)});var G=[];for(var V in E)G.push(E[V]);return{add:F,remove:G}}(I.getTask(w),this.get_value(w,b,T),b.editor);(P.add.length||P.remove.length)&&I.batchUpdate(function(){P.add.forEach(function(E){I.addLink(E)}),P.remove.forEach(function(E){I.deleteLink(E)}),I.autoSchedule&&I.autoSchedule()})},is_changed:function(w,b,T,P){var E=this.get_value(b,T,P),F=_(y(w,T.editor,I),T.editor);return E.join()!==F.join()}},!0),D}},function(j,X,R){j.exports=function(I){var O=R(8)(I),x=R(0);function D(){return O.apply(this,arguments)||this}function C(_){return _.formatter||I.ext.formatters.durationFormatter()}return R(3)(D,O),x.mixin(D.prototype,{show:function(_,y,f,g){g.innerHTML="<div><input type='text' name='"+y.name+"'></div>"},set_value:function(_,y,f,g){this.get_input(g).value=C(f.editor).format(_)},get_value:function(_,y,f){return C(y.editor).parse(this.get_input(f).value||"")}},!0),D}},function(j,X){j.exports=function(R){return function(O,x,D){var C,_;"keepDates"==D?(C=O,"duration"==(_=x)?C.end_date=R.calculateEndDate(C):"end_date"!=_&&"start_date"!=_||(C.duration=R.calculateDuration(C))):"keepDuration"==D?function(C,_){"end_date"==_?C.start_date=I(C):"start_date"!=_&&"duration"!=_||(C.end_date=R.calculateEndDate(C))}(O,x):function(C,_){R.config.schedule_from_end?"end_date"==_||"duration"==_?C.start_date=I(C):"start_date"==_&&(C.duration=R.calculateDuration(C)):"start_date"==_||"duration"==_?C.end_date=R.calculateEndDate(C):"end_date"==_&&(C.duration=R.calculateDuration(C))}(O,x)};function I(O){return R.calculateEndDate({start_date:O.end_date,duration:-O.duration,task:O})}}},function(j,X,R){var I=R(23),O=R(5),x=R(24);j.exports=function(D){return{render:x(D),update:null,isInViewPort:I,getVisibleRange:O}}},function(j,X,R){var I=R(24),O=R(225),x=R(5);j.exports=function(D){var C=I(D);return{render:function(_,y){if(D.isSplitTask(_)&&(D.config.open_split_tasks&&!_.$open||!D.config.open_split_tasks)){var f=document.createElement("div"),g=D.getTaskPosition(_);return D.hasChild(_.id)&&D.eachTask(function(w){var b=D.isSummaryTask(w);if(b&&D.resetProjectDates(w),!w.hide_bar){var T=C(w,y);if(T){var P=y.getBarHeight(_.id,w.type==D.config.types.milestone),E=Math.floor((y.getItemHeight(_.id)-P)/2);T.style.top=g.top+E+"px",T.classList.add("gantt_split_child"),b&&T.classList.add("gantt_split_subproject"),f.appendChild(T)}}},_.id),f}return!1},update:null,isInViewPort:O,getVisibleRange:x}}},function(j,X,R){var I=R(23);j.exports=function(O,x,D,C,_){if(!_.isSplitTask(O))return!1;var y=_.getSubtaskDates(O.id);return I({id:O.id,start_date:y.start_date,end_date:y.end_date,parent:O.parent},x,D,_)}},function(j,X,R){var I=R(24),O=R(23),x=R(5);j.exports=function(D){var C=I(D);return{render:function(_,y){if(_.$rollup&&_.$rollup.length){var f=document.createElement("div"),g=D.getTaskPosition(_);return _.$rollup.forEach(function(w){var b=D.getTask(w),T=C(b,y);if(T){var P=y.getBarHeight(_.id,b.type==D.config.types.milestone),E=Math.floor((y.getItemHeight(_.id)-P)/2);T.style.top=g.top+E+"px",T.classList.add("gantt_rollup_child"),f.appendChild(T)}}),f}return!1},update:null,isInViewPort:O,getVisibleRange:x}}},function(j,X,R){var I=R(25),O=R(14),x=R(5),D=R(26),C=R(27);j.exports=function(_){var y={},f={};function g(P,E){return!(!y[P.id][E]||!y[P.id][E].parentNode)}function w(P,E){y[P]&&y[P][E]&&y[P][E].parentNode&&y[P][E].parentNode.removeChild(y[P][E])}function b(P){var E,F=P.$getTemplates();return void 0!==F.task_cell_class?(E=F.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):E=F.timeline_cell_class,E}function T(P,E,F,G,V,B,K){var U=P.width[E],ee="";if(C(E,P,G,_)){var ie=B(F,P.trace_x[E]);if(K.static_background&&(!K.static_background_cells||!ie))return null;if(y[F.id][E])return f[F.id][E]=E,y[F.id][E];var J=document.createElement("div");return J.style.width=U+"px",ee="gantt_task_cell"+(E==V-1?" gantt_last_cell":""),ie&&(ee+=" "+ie),J.className=ee,J.style.position="absolute",J.style.left=P.left[E]+"px",y[F.id][E]=J,f[F.id][E]=E,J}return null}return{render:function(P,E,F,G){var V=E.$getTemplates(),B=E.getScale(),K=B.count;if(F.static_background&&!F.static_background_cells)return null;var U,ee=document.createElement("div"),ie=b(E);if(U=G&&F.smart_rendering&&!O(_)?D(B,G.x):{start:0,end:K-1},F.show_task_cells){y[P.id]={},f[P.id]={};for(var J=U.start;J<=U.end;J++){var Q=T(B,J,P,G,K,ie,F);Q&&ee.appendChild(Q)}}var oe=_.getGlobalTaskIndex(P.id)%2!=0,ce=V.task_row_class(P.start_date,P.end_date,P),ge="gantt_task_row"+(oe?" odd":"")+(ce?" "+ce:"");return E.$config.rowStore.isSelected(P.id)&&(ge+=" gantt_selected"),ee.className=ge,F.smart_rendering?(ee.style.position="absolute",ee.style.top=E.getItemTop(P.id)+"px",ee.style.width="100%"):ee.style.position="relative",ee.style.height=E.getItemHeight(P.id)+"px",E.$config.item_attribute&&(ee.setAttribute(E.$config.item_attribute,P.id),ee.setAttribute(E.$config.bind+"_id",P.id)),ee},update:function(P,E,F,G,V){var B=F.getScale(),K=B.count,U=b(F);if(G.show_task_cells){y[P.id]||(y[P.id]={}),f[P.id]||(f[P.id]={});var ee=D(B,V);for(var ie in f[P.id]){var J=f[P.id][ie];(Number(J)<ee.start||Number(J)>ee.end)&&w(P.id,J)}f[P.id]={};for(var Q=ee.start;Q<=ee.end;Q++){var oe=T(B,Q,P,V,K,U,G);!oe&&g(P,Q)?w(P.id,Q):oe&&!oe.parentNode&&E.appendChild(oe)}}},getRectangle:I,getVisibleRange:x}}},function(j,X,R){var I=R(229);j.exports=function(O){var x={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(_){this.current_pos=O.copy(_)},get_lines:function(_){this.clear(),this.point(_[0]);for(var y=1;y<_.length;y++)this.line_to(_[y]);return this.get_path()},line_to:function(_){var y=O.copy(_),g=this._get_line(this.current_pos,y);this.path.push(g),this.current_pos=y},get_path:function(){return this.path},get_wrapper_sizes:function(_,y,f){var g,w=y.$getConfig().link_wrapper_width,b=_.y-w/2;switch(_.direction){case this.dirs.left:g={top:b,height:w,lineHeight:w,left:_.x-_.size-w/2,width:_.size+w};break;case this.dirs.right:g={top:b,lineHeight:w,height:w,left:_.x-w/2,width:_.size+w};break;case this.dirs.up:g={top:b-_.size,lineHeight:_.size+w,height:_.size+w,left:_.x-w/2,width:w};break;case this.dirs.down:g={top:b,lineHeight:_.size+w,height:_.size+w,left:_.x-w/2,width:w}}return g},get_line_sizes:function(_,y){var f,g=y.$getConfig(),w=g.link_line_width,b=g.link_wrapper_width,T=_.size+w;switch(_.direction){case this.dirs.left:case this.dirs.right:f={height:w,width:T,marginTop:(b-w)/2,marginLeft:(b-w)/2};break;case this.dirs.up:case this.dirs.down:f={height:T,width:w,marginTop:(b-w)/2,marginLeft:(b-w)/2}}return f},render_line:function(_,y,f,g){var w=this.get_wrapper_sizes(_,f,g),b=document.createElement("div");b.style.cssText=["top:"+w.top+"px","left:"+w.left+"px","height:"+w.height+"px","width:"+w.width+"px"].join(";"),b.className="gantt_line_wrapper";var T=this.get_line_sizes(_,f),P=document.createElement("div");return P.style.cssText=["height:"+T.height+"px","width:"+T.width+"px","margin-top:"+T.marginTop+"px","margin-left:"+T.marginLeft+"px"].join(";"),P.className="gantt_link_line_"+_.direction,b.appendChild(P),b},_get_line:function(_,y){var f=this.get_direction(_,y),g={x:_.x,y:_.y,direction:this.get_direction(_,y)};return g.size=f==this.dirs.left||f==this.dirs.right?Math.abs(_.x-y.x):Math.abs(_.y-y.y),g},get_direction:function(_,y){return y.x<_.x?this.dirs.left:y.x>_.x?this.dirs.right:y.y>_.y?this.dirs.down:this.dirs.up}},D={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(_){return _?(this.path.push(O.copy(_)),_):this.current()},point_to:function(_,y,f){f=f?{x:f.x,y:f.y}:O.copy(this.point());var g=x.dirs;switch(_){case g.left:f.x-=y;break;case g.right:f.x+=y;break;case g.up:f.y-=y;break;case g.down:f.y+=y}return this.point(f)},get_points:function(_,y,f,g){var w=this.get_endpoint(_,y,f,g),b=O.config,T=w.e_y-w.y,P=w.e_x-w.x,E=x.dirs,F=y.getItemHeight(_.source);this.clear(),this.point({x:w.x,y:w.y});var G=2*b.link_arrow_size,V=this.get_line_type(_,y.$getConfig()),B=w.e_x>w.x;if(V.from_start&&V.to_start)this.point_to(E.left,G),B?(this.point_to(E.down,T),this.point_to(E.right,P)):(this.point_to(E.right,P),this.point_to(E.down,T)),this.point_to(E.right,G);else if(!V.from_start&&V.to_start)if(B=w.e_x>w.x+2*G,this.point_to(E.right,G),B)P-=G,this.point_to(E.down,T),this.point_to(E.right,P);else{P-=2*G;var K=T>0?1:-1;this.point_to(E.down,K*(F/2)),this.point_to(E.right,P),this.point_to(E.down,K*(Math.abs(T)-F/2)),this.point_to(E.right,G)}else V.from_start||V.to_start?V.from_start&&!V.to_start&&(B=w.e_x>w.x-2*G,this.point_to(E.left,G),B?(P+=2*G,this.point_to(E.down,(K=T>0?1:-1)*(F/2)),this.point_to(E.right,P),this.point_to(E.down,K*(Math.abs(T)-F/2)),this.point_to(E.left,G)):(P+=G,this.point_to(E.down,T),this.point_to(E.right,P))):(this.point_to(E.right,G),B?(this.point_to(E.right,P),this.point_to(E.down,T)):(this.point_to(E.down,T),this.point_to(E.right,P)),this.point_to(E.left,G));return this.path},get_line_type:function(_,y){var f=y.links,g=!1,w=!1;return _.type==f.start_to_start?g=w=!0:_.type==f.finish_to_finish?g=w=!1:_.type==f.finish_to_start?(g=!1,w=!0):_.type==f.start_to_finish?(g=!0,w=!1):O.assert(!1,"Invalid link type"),y.rtl&&(g=!g,w=!w),{from_start:g,to_start:w}},get_endpoint:function(_,y,f,g){var w=y.$getConfig(),b=this.get_line_type(_,w),T=b.from_start,P=b.to_start,E=C(f,y,w),F=C(g,y,w);return{x:T?E.left:E.left+E.width,e_x:P?F.left:F.left+F.width,y:E.top+E.rowHeight/2-1,e_y:F.top+F.rowHeight/2-1}}};function C(_,y,f){var g=y.getItemPosition(_);if(O.getTaskType(_.type)==f.types.milestone){var w=y.getBarHeight(_.id,!0),b=Math.sqrt(2*w*w);g.left-=b/2,g.width=b}return g}return{render:function(_,y,f){var g=O.getTask(_.source);if(!g.hide_bar){var w=O.getTask(_.target);if(!w.hide_bar){var b=D.get_endpoint(_,y,g,w);if(!(b.e_x-b.x||b.e_y-b.y))return null;var P=D.get_points(_,y,g,w),E=x.get_lines(P,y),F=document.createElement("div"),G="gantt_task_link";_.color&&(G+=" gantt_link_inline_color");var V=O.templates.link_class?O.templates.link_class(_):"";V&&(G+=" "+V),f.highlight_critical_path&&O.isCriticalLink&&O.isCriticalLink(_)&&(G+=" gantt_critical_link"),F.className=G,y.$config.link_attribute&&(F.setAttribute(y.$config.link_attribute,_.id),F.setAttribute("link_id",_.id));for(var B=0;B<E.length;B++){B==E.length-1&&(E[B].size-=f.link_arrow_size);var K=x.render_line(E[B],E[B+1],y,_.source);_.color&&(K.firstChild.style.backgroundColor=_.color),F.appendChild(K)}var ee=function(ie,J,Q,oe){var ce=Q.$getConfig(),ge=document.createElement("div"),_e=ie.y,we=ie.x,Pe=ce.link_arrow_size,Me="gantt_link_arrow gantt_link_arrow_"+J;switch(J){case x.dirs.right:_e-=Pe/2,we-=Pe;break;case x.dirs.left:_e-=Pe/2;break;case x.dirs.up:we-=Pe;break;case x.dirs.down:_e+=2*Pe,we-=Pe}return ge.style.cssText=["top:"+_e+"px","left:"+we+"px"].join(";"),ge.className=Me,ge}(P[P.length-1],E[E.length-1].direction,y);return _.color&&(ee.style.borderColor=_.color),F.appendChild(ee),O._waiAria.linkAttr(_,F),F}}},update:null,isInViewPort:I}}},function(j,X){j.exports=function(R,I,O,x,D){var C=O.$gantt.getTask(R.source),_=O.$gantt.getTask(R.target),y=O.getItemTop(C.id),f=O.getItemHeight(C.id),g=O.getItemTop(_.id),w=O.getItemHeight(_.id);if(I.y>y+f&&I.y>g+w||I.y_end<g&&I.y_end<y)return!1;var b=O.posFromDate(C.start_date),T=O.posFromDate(C.end_date),P=O.posFromDate(_.start_date),E=O.posFromDate(_.end_date);if(b>T){var F=T;T=b,b=F}return P>E&&(F=E,E=P,P=F),b+=-100,P+=-100,E+=100,!(I.x>(T+=100)&&I.x>E||I.x_end<b&&I.x_end<P)}},function(j,X,R){function I(C){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}var O=R(2),x=R(21),D=R(5);j.exports=function(C){return{render:function(_,y,f,g){for(var w=y.getGridColumns(),b=y.$getTemplates(),T=y.$config.rowStore,P=[],E=0;E<w.length;E++){var F,G,V,B=E==w.length-1,K=w[E];"add"==K.name?(G="<div "+(oe=C._waiAria.gridAddButtonAttrString(K))+" class='gantt_add'></div>",V=""):(G=K.template?K.template(_):_[K.name],O.isDate(G)&&(G=b.date_grid(G,_,K.name)),null!=G||(G=""),V=G,G="<div class='gantt_tree_content'>"+G+"</div>");var U="gantt_cell"+(B?" gantt_last_cell":""),ee=[];if(K.tree){U+=" gantt_cell_tree";for(var ie=0;ie<_.$level;ie++)ee.push(b.grid_indent(_));!T.hasChild(_.id)||C.isSplitTask(_)&&!C.config.open_split_tasks?(ee.push(b.grid_blank(_)),ee.push(b.grid_file(_))):(ee.push(b.grid_open(_)),ee.push(b.grid_folder(_)))}var J="width:"+(K.width-(B?1:0))+"px;";this.defined(K.align)&&(J+="text-align:"+K.align+";justify-content:"+{right:"flex-end",left:"flex-start",center:"center"}[K.align]+";");var oe=C._waiAria.gridCellAttrString(K,V,_);ee.push(G),F="<div class='"+U+"' data-column-index='"+E+"' data-column-name='"+K.name+"' style='"+J+"' "+oe+">"+ee.join("")+"</div>",P.push(F)}if(U=C.getGlobalTaskIndex(_.id)%2==0?"":" odd",U+=_.$transparent?" gantt_transparent":"",U+=_.$dataprocessor_class?" "+_.$dataprocessor_class:"",b.grid_row_class){var ce=b.grid_row_class.call(C,_.start_date,_.end_date,_);ce&&(U+=" "+ce)}T.isSelected(_.id)&&(U+=" gantt_selected");var ge=document.createElement("div");ge.className="gantt_row"+U+" gantt_row_"+C.getTaskType(_.type);var _e=y.getItemHeight(_.id);return ge.style.height=_e+"px",ge.style.lineHeight=_e+"px",f.smart_rendering&&(ge.style.position="absolute",ge.style.left="0px",ge.style.top=y.getItemTop(_.id)+"px"),y.$config.item_attribute&&(ge.setAttribute(y.$config.item_attribute,_.id),ge.setAttribute(y.$config.bind+"_id",_.id)),C._waiAria.taskRowAttr(_,ge),ge.innerHTML=P.join(""),ge},update:null,getRectangle:x,getVisibleRange:D,onrender:function(_,y,f){for(var g=f.getGridColumns(),w=0;w<g.length;w++){var b=g[w];if(b.onrender){var T=y.querySelector("[data-column-name="+b.name+"]");if(T){var P=b.onrender(_,T);if(P&&"string"==typeof P)T.innerHTML=P;else if(P&&"object"===I(P)&&C.config.external_render){var E=C.config.external_render;E.isElement(P)&&E.renderElement(P,T)}}}}}}}},function(j,X,R){var I=R(25),O=R(5),x=R(26),D=R(27),C=R(42);j.exports=function(_){var y=C(_),f={};function g(b,T,P,E,F){var G=P.resource_cell_class(T.start_date,T.end_date,b,T.tasks,T.assignments),V=P.resource_cell_value(T.start_date,T.end_date,b,T.tasks,T.assignments),B=F.getItemHeight(b.id)-1;if(G||V){var K=F.getItemPosition(b,T.start_date,T.end_date),U=document.createElement("div");return U.setAttribute(F.$config.item_attribute,b.id),U.className=["gantt_resource_marker",G].join(" "),U.style.cssText=["left:"+K.left+"px","width:"+K.width+"px","height:"+B+"px","line-height:"+B+"px","top:"+K.top+"px"].join(";"),V&&(U.innerHTML=V),U}return null}function w(b,T){f[b]&&f[b][T]&&f[b][T].parentNode&&f[b][T].parentNode.removeChild(f[b][T])}return{render:function(b,T,P,E){var F=T.$getTemplates(),G=T.getScale(),V=y(b,P.resource_property,T.getScale(),T),B=!!E,K=[];f[b.id]={};for(var U=x(G,E),ee=U.start;ee<=U.end;ee++){var ie=V[ee];if(ie&&(!B||D(ee,G,E,_))){var J=g(b,ie,F,0,T);J&&(K.push(J),f[b.id][ee]=J)}}var Q=null;if(K.length){Q=document.createElement("div");for(var oe=0;oe<K.length;oe++)Q.appendChild(K[oe])}return Q},update:function(b,T,P,E,F){var G=P.$getTemplates(),V=P.getScale(),B=y(b,E.resource_property,P.getScale(),P),K=x(V,F),U={};if(f&&f[b.id])for(var ee in f[b.id])U[ee]=ee;for(var ie=K.start;ie<=K.end;ie++){var J=B[ie];if(U[ie]=!1,J)if(D(ie,V,F,_))if(f[b.id]&&f[b.id][ie])f[b.id]&&f[b.id][ie]&&!f[b.id][ie].parentNode&&T.appendChild(f[b.id][ie]);else{var Q=g(b,J,G,0,P);Q&&(T.appendChild(Q),f[b.id][ie]=Q)}else w(b.id,ie)}for(var ee in U)!1!==U[ee]&&w(b.id,ee)},getRectangle:I,getVisibleRange:O}}},function(j,X,R){var I=R(25),O=R(5),x=R(26),D=R(27),C=R(42);function _(f,g,w,b){var T=100*(1-(1*f||0)),P=b.posFromDate(g),E=b.posFromDate(w),F=document.createElement("div");return F.className="gantt_histogram_hor_bar",F.style.top=T+"%",F.style.left=P+"px",F.style.width=E-P+1+"px",F}function y(f,g,w){if(f===g)return null;var b=1-Math.max(f,g),T=Math.abs(f-g),P=document.createElement("div");return P.className="gantt_histogram_vert_bar",P.style.top=100*b+"%",P.style.height=100*T+"%",P.style.left=w+"px",P}j.exports=function(f){var g=C(f),w={},b={},T={};function P(G,V){var B=w[G];B&&B[V]&&B[V].parentNode&&B[V].parentNode.removeChild(B[V])}function E(G,V,B,K,U,ee,ie){var J=T[G.id];J&&J.parentNode&&J.parentNode.removeChild(J);var Q=function(oe,ce,ge,_e){for(var we=ce.getScale(),Pe=document.createElement("div"),Me=x(we,_e),Oe=Me.start;Oe<=Me.end;Oe++){var Be=we.trace_x[Oe],je=we.trace_x[Oe+1]||f.date.add(Be,we.step,we.unit),nt=we.trace_x[Oe].valueOf(),We=Math.min(oe[nt]/ge,1)||0;if(We<0)return null;var ze=Math.min(oe[je.valueOf()]/ge,1)||0,ft=_(We,Be,je,ce);ft&&Pe.appendChild(ft);var Ct=y(We,ze,ce.posFromDate(je));Ct&&Pe.appendChild(Ct)}return Pe}(B,U,ee,ie);return Q&&V&&(Q.setAttribute("data-resource-id",G.id),Q.setAttribute(U.$config.item_attribute,G.id),Q.style.position="absolute",Q.style.top=V.top+1+"px",Q.style.height=U.getItemHeight(G.id)-1+"px",Q.style.left=0),Q}function F(G,V,B,K,U,ee,ie){var J=U.histogram_cell_class(ee.start_date,ee.end_date,G,ee.tasks,ee.assignments),Q=U.histogram_cell_label(ee.start_date,ee.end_date,G,ee.tasks,ee.assignments),oe=U.histogram_cell_allocated(ee.start_date,ee.end_date,G,ee.tasks,ee.assignments),ce=ie.getItemHeight(G.id)-1;if(J||Q){var ge=document.createElement("div");return ge.className=["gantt_histogram_cell",J].join(" "),ge.setAttribute(ie.$config.item_attribute,G.id),ge.style.cssText=["left:"+V.left+"px","width:"+V.width+"px","height:"+ce+"px","line-height:"+ce+"px","top:"+(V.top+1)+"px"].join(";"),Q&&(Q="<div class='gantt_histogram_label'>"+Q+"</div>"),oe&&(Q="<div class='gantt_histogram_fill' style='height:"+100*Math.min(oe/B||0,1)+"%;'></div>"+Q),Q&&(ge.innerHTML=Q),ge}return null}return{render:function(G,V,B,K){var U=V.$getTemplates(),ee=V.getScale(),ie=g(G,B.resource_property,ee,V),J=[],Q={},oe=G.capacity||V.$config.capacity||24;w[G.id]={},b[G.id]=null,T[G.id]=null;for(var ce=!!K,ge=x(ee,K),_e=ge.start;_e<=ge.end;_e++){var we=ie[_e];if(we&&(!ce||D(_e,ee,K,f))){var Pe=U.histogram_cell_capacity(we.start_date,we.end_date,G,we.tasks,we.assignments);Q[we.start_date.valueOf()]=Pe||0;var Me=V.getItemPosition(G,we.start_date,we.end_date),Oe=F(G,Me,oe,0,U,we,V);Oe&&(J.push(Oe),w[G.id][_e]=Oe)}}var Be=null;if(J.length){Be=document.createElement("div");for(var je=0;je<J.length;je++)Be.appendChild(J[je]);var nt=E(G,Me,Q,0,V,oe,K);nt&&(Be.appendChild(nt),T[G.id]=nt),b[G.id]=Be}return Be},update:function(G,V,B,K,U){var ee=B.$getTemplates(),ie=B.getScale(),J=g(G,K.resource_property,ie,B),Q=G.capacity||B.$config.capacity||24,oe={},ce=!!U,ge=x(ie,U),_e={};if(w&&w[G.id])for(var we in w[G.id])_e[we]=we;for(var Pe=ge.start;Pe<=ge.end;Pe++){var Me=J[Pe];if(_e[Pe]=!1,Me){var Oe=ee.histogram_cell_capacity(Me.start_date,Me.end_date,G,Me.tasks,Me.assignments);oe[Me.start_date.valueOf()]=Oe||0;var Be=B.getItemPosition(G,Me.start_date,Me.end_date);if(!ce||D(Pe,ie,U,f)){var je=w[G.id];if(je&&je[Pe])je&&je[Pe]&&!je[Pe].parentNode&&V.appendChild(je[Pe]);else{var nt=F(G,Be,Q,0,ee,Me,B);nt&&(V.appendChild(nt),w[G.id][Pe]=nt)}}else P(G.id,Pe)}}for(var we in _e)!1!==_e[we]&&P(G.id,we);var We=E(G,Be,oe,0,B,Q,U);We&&(V.appendChild(We),T[G.id]=We)},getRectangle:I,getVisibleRange:O}}},function(j,X,R){var I=R(21),O=R(5);j.exports=function(x){return{render:function(D,C,_){var y=C.$getConfig(),f=document.createElement("div");return f.className="gantt_task_grid_row_resize_wrap",f.style.top=C.getItemTop(D.id)+C.getItemHeight(D.id)+"px",f.innerHTML="<div class='gantt_task_grid_row_resize'></div>",f.setAttribute(y.task_grid_row_resizer_attribute,D.id),x._waiAria.gridSeparatorAttr(f),f},update:null,getRectangle:I,getVisibleRange:O}}},function(j,X,R){var I=R(0),O=R(235),x=R(236);j.exports=function(C){return{onCreated:function(_){_.$config=I.mixin(_.$config,{bind:"task"}),"grid"==_.$config.id&&(this.extendGantt(_),C.ext.inlineEditors=C.ext._inlineEditors.createEditors(_),C.ext.inlineEditors.init()),this._mouseDelegates=R(20)(C)},onInitialized:function(_){var y=_.$getConfig();y.order_branch&&("marker"==y.order_branch?x.init(_.$gantt,_):O.init(_.$gantt,_)),this.initEvents(_,C),"grid"==_.$config.id&&this.extendDom(_)},onDestroyed:function(_){"grid"==_.$config.id&&C.ext.inlineEditors.destructor(),this.clearEvents(_,C)},initEvents:function(_,y){this._mouseDelegates.delegate("click","gantt_row",y.bind(function(f,g,w){var b=_.$getConfig();if(null!==g){var T=this.getTask(g);b.scroll_on_click&&!y._is_icon_open_click(f)&&this.showDate(T.start_date),y.callEvent("onTaskRowClick",[g,w])}},y),_.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",y.bind(function(f,g,w){var b=w.getAttribute("data-column-id");if(y.callEvent("onGridHeaderClick",[b,f])){var T=_.$getConfig();if("add"!=b){if(T.sort&&b){for(var P,E=b,F=0;F<T.columns.length;F++)if(T.columns[F].name==b){P=T.columns[F];break}if(P&&void 0!==P.sort&&!0!==P.sort&&!(E=P.sort))return;var G=this._sort&&this._sort.direction&&this._sort.name==b?this._sort.direction:"desc";this._sort={name:b,direction:G="desc"==G?"asc":"desc"},this.sort(E,"desc"==G)}}else y.$services.getService("mouseEvents").callHandler("click","gantt_add",_.$grid,[f,T.root_id])}},y),_.$grid),this._mouseDelegates.delegate("click","gantt_add",y.bind(function(f,g,w){if(!_.$getConfig().readonly)return this.createTask({},g||y.config.root_id),!1},y),_.$grid)},clearEvents:function(_,y){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(_){C.$grid=_.$grid,C.$grid_scale=_.$grid_scale,C.$grid_data=_.$grid_data},extendGantt:function(_){C.getGridColumns=C.bind(_.getGridColumns,_),_.attachEvent("onColumnResizeStart",function(){return C.callEvent("onColumnResizeStart",arguments)}),_.attachEvent("onColumnResize",function(){return C.callEvent("onColumnResize",arguments)}),_.attachEvent("onColumnResizeEnd",function(){return C.callEvent("onColumnResizeEnd",arguments)}),_.attachEvent("onColumnResizeComplete",function(y,f){C.config.grid_width=f}),_.attachEvent("onBeforeRowResize",function(){return C.callEvent("onBeforeRowResize",arguments)}),_.attachEvent("onRowResize",function(){return C.callEvent("onRowResize",arguments)}),_.attachEvent("onBeforeRowResizeEnd",function(){return C.callEvent("onBeforeRowResizeEnd",arguments)}),_.attachEvent("onAfterRowResize",function(){return C.callEvent("onAfterRowResize",arguments)})}}}},function(j,X,R){var I=R(1),O=R(9);j.exports={init:function(x,D){var C=x.$services.getService("dnd");if(D.$config.bind&&x.getDatastore(D.$config.bind)){var _=new C(D.$grid_data,{updates_per_second:60});x.defined(D.$getConfig().dnd_sensitivity)&&(_.config.sensitivity=D.$getConfig().dnd_sensitivity),_.attachEvent("onBeforeDragStart",x.bind(function(w,b){var T=y(b);if(!T||(x.hideQuickInfo&&x._hideQuickInfo(),I.closest(b.target,".gantt_grid_editor_placeholder")))return!1;var P=T.getAttribute(D.$config.item_attribute);if(g(P))return!1;var E=f().getItem(P);return!x.isReadonly(E)&&(_.config.initial_open_state=E.$open,!!x.callEvent("onRowDragStart",[P,b.target||b.srcElement,b])&&void 0)},x)),_.attachEvent("onAfterDragStart",x.bind(function(w,b){var T=y(b);_.config.marker.innerHTML=T.outerHTML;var P=_.config.marker.firstChild;P&&(P.style.position="static"),_.config.id=T.getAttribute(D.$config.item_attribute);var E=f(),F=E.getItem(_.config.id);_.config.index=E.getBranchIndex(_.config.id),_.config.parent=F.parent,F.$open=!1,F.$transparent=!0,this.refreshData()},x)),_.lastTaskOfLevel=function(w){for(var b=null,T=f().getItems(),P=0,E=T.length;P<E;P++)T[P].$level==w&&(b=T[P]);return b?b.id:null},_._getGridPos=x.bind(function(w){var b=I.getNodePosition(D.$grid_data),T=b.x,P=w.pos.y-10,E=D.getItemHeight(_.config.id);P<b.y&&(P=b.y);var F=D.getTotalHeight();return P>b.y+F-E&&(P=b.y+F-E),b.x=T,b.y=P,b},x),_._getTargetY=x.bind(function(w){var b=I.getNodePosition(D.$grid_data),T=D.$state.scrollTop||0,P=x.$grid_data.getBoundingClientRect().height+T,E=w.pageY-b.y+T;return E>P?E=P:E<T&&(E=T),E},x),_._getTaskByY=x.bind(function(w,b){var T=f(),P=D.getItemIndexByTopPosition(w=w||0);return(P=b<P?P-1:P)>T.countVisible()-1?null:T.getIdByIndex(P)},x),_.attachEvent("onDragMove",x.bind(function(w,b){var T=x.$grid_data.getBoundingClientRect(),P=T.height+T.y+(D.$state.scrollTop||0)+window.scrollY,E=_.config,F=_._getGridPos(b),G=D.$getConfig(),V=f();E.marker.style.top=F.y<P?F.y+"px":P+"px",E.marker.style.left=F.x+10+"px";var B=V.getItem(_.config.id),K=_._getTargetY(b),U=_._getTaskByY(K,V.getIndexById(B.id));function ee(Me,Oe){return!V.isChildOf(ie.id,Oe.id)&&(Me.$level==Oe.$level||G.order_branch_free)}if(V.exists(U)||(U=_.lastTaskOfLevel(G.order_branch_free?B.$level:0))==_.config.id&&(U=null),V.exists(U)){var ie=V.getItem(U),J=D.getItemTop(ie.id),Q=D.getItemHeight(ie.id);if(J+Q/2<K){var oe=V.getIndexById(ie.id),ce=V.getNext(ie.id),ge=V.getItem(ce);if(g(ce)){var _e=V.getPrev(ge.id);ge=V.getItem(_e)}if(ge){if(ge.id==B.id)return G.order_branch_free&&V.isChildOf(B.id,ie.id)&&1==V.getChildren(ie.id).length?void V.move(B.id,V.getBranchIndex(ie.id)+1,V.getParent(ie.id)):void 0;ie=ge}else if(ce=V.getIdByIndex(oe),ge=V.getItem(ce),g(ce)&&(_e=V.getPrev(ge.id),ge=V.getItem(_e)),ee(ge,B)&&ge.id!=B.id)return void V.move(B.id,-1,V.getParent(ge.id))}else if(G.order_branch_free&&ie.id!=B.id&&ee(ie,B)&&!g(ie.id)){if(!V.hasChild(ie.id))return ie.$open=!0,void V.move(B.id,-1,ie.id);if(V.getIndexById(ie.id)||Q/3<K)return}oe=V.getIndexById(ie.id),_e=V.getIdByIndex(oe-1);for(var we=V.getItem(_e),Pe=1;(!we||we.id==ie.id)&&oe-Pe>=0;)_e=V.getIdByIndex(oe-Pe),we=V.getItem(_e),Pe++;if(B.id==ie.id||g(ie.id))return;ee(ie,B)&&B.id!=ie.id?V.move(B.id,0,0,ie.id):ie.$level!=B.$level-1||V.getChildren(ie.id).length?we&&ee(we,B)&&B.id!=we.id&&V.move(B.id,-1,V.getParent(we.id)):V.move(B.id,0,ie.id)}return!0},x)),_.attachEvent("onDragEnd",x.bind(function(){var w=f(),b=w.getItem(_.config.id);b.$transparent=!1,b.$open=_.config.initial_open_state,!1===this.callEvent("onBeforeRowDragEnd",[_.config.id,_.config.parent,_.config.index])?(w.move(_.config.id,_.config.index,_.config.parent),b.$drop_target=null):this.callEvent("onRowDragEnd",[_.config.id,b.$drop_target]),x.render(),this.refreshData()},x))}function y(w){return I.locateAttribute(w,D.$config.item_attribute)}function f(){return x.getDatastore(D.$config.bind)}function g(w){return O(w,x,f())}}}},function(j,X,R){var I=R(1),O=R(28),x=R(237),D=R(238),C=R(239),_=R(9);j.exports={init:function(y,f){var g=y.$services.getService("dnd");if(f.$config.bind&&y.getDatastore(f.$config.bind)){var w=new g(f.$grid_data,{updates_per_second:60});y.defined(f.$getConfig().dnd_sensitivity)&&(w.config.sensitivity=f.$getConfig().dnd_sensitivity),w.attachEvent("onBeforeDragStart",y.bind(function(E,F){var G=b(F);if(!G||(y.hideQuickInfo&&y._hideQuickInfo(),I.closest(F.target,".gantt_grid_editor_placeholder")))return!1;var V=G.getAttribute(f.$config.item_attribute),B=f.$config.rowStore.getItem(V);return!y.isReadonly(B)&&!T(V)&&(w.config.initial_open_state=B.$open,!!y.callEvent("onRowDragStart",[V,F.target||F.srcElement,F])&&void 0)},y)),w.attachEvent("onAfterDragStart",y.bind(function(E,F){var G=b(F);w.config.marker.innerHTML=G.outerHTML;var V=w.config.marker.firstChild;V&&(w.config.marker.style.opacity=.4,V.style.position="static",V.style.pointerEvents="none"),w.config.id=G.getAttribute(f.$config.item_attribute);var B=f.$config.rowStore,K=B.getItem(w.config.id);w.config.level=B.calculateItemLevel(K),w.config.drop_target=O.createDropTargetObject({targetParent:B.getParent(K.id),targetIndex:B.getBranchIndex(K.id),targetId:K.id,nextSibling:!0}),K.$open=!1,K.$transparent=!0,this.refreshData()},y)),w.attachEvent("onDragMove",y.bind(function(E,F){var G=function P(E){var F,G=function(ee){var ie=I.getRelativeEventPosition(ee,f.$grid_data).y,J=f.$config.rowStore;document.doctype||(ie+=window.scrollY),ie=ie||0;var Q=f.$state.scrollTop||0,oe=y.$grid_data.getBoundingClientRect().height+Q+window.scrollY,ce=Q,ge=f.getItemIndexByTopPosition(f.$state.scrollTop);if(J.exists(ge)||(ge=J.countVisible()-1),ge<0)return J.$getRootId();var _e=J.getIdByIndex(ge),we=f.$state.scrollTop/f.getItemHeight(_e),Pe=we-Math.floor(we);Pe>.1&&Pe<.9&&(oe-=f.getItemHeight(_e)*Pe,ce+=f.getItemHeight(_e)*(1-Pe)),ie>=oe?ie=oe:ie<=ce&&(ie=ce);var Me=f.getItemIndexByTopPosition(ie);if(Me>J.countVisible()-1||Me<0)return J.$getRootId();var Oe=J.getIdByIndex(Me);return T(Oe)?J.getPrevSibling(Oe):J.getIdByIndex(Me)}(E),V=null,B=f.$config.rowStore,K=!f.$getConfig().order_branch_free,U=I.getRelativeEventPosition(E,f.$grid_data).y;return document.doctype||(U+=window.scrollY),G!==B.$getRootId()&&(V=(U-f.getItemTop(G))/f.getItemHeight(G)),K?(F=x(w.config.id,G,V,U,B,w.config.level))&&F.targetParent&&T(F.targetParent)&&(G=B.getPrevSibling(F.targetParent),F=x(w.config.id,G,V,U,B,w.config.level)):F=D(w.config.id,G,V,U,B),F}(F);return G&&!1!==y.callEvent("onBeforeRowDragMove",[w.config.id,G.targetParent,G.targetIndex])||(G=O.createDropTargetObject(w.config.drop_target)),C.highlightPosition(G,w.config,f),w.config.drop_target=G,this.callEvent("onRowDragMove",[w.config.id,G.targetParent,G.targetIndex]),!0},y)),w.attachEvent("onDragEnd",y.bind(function(){var E=f.$config.rowStore,F=E.getItem(w.config.id);C.removeLineHighlight(w.config),F.$transparent=!1,F.$open=w.config.initial_open_state;var G=w.config.drop_target;!1===this.callEvent("onBeforeRowDragEnd",[w.config.id,G.targetParent,G.targetIndex])?F.$drop_target=null:(E.move(w.config.id,G.targetIndex,G.targetParent),y.render(),this.callEvent("onRowDragEnd",[w.config.id,G.targetParent,G.targetIndex])),E.refresh(F.id)},y))}function b(E){return I.locateAttribute(E,f.$config.item_attribute)}function T(E){return _(E,y,y.getDatastore(f.$config.bind))}}}},function(j,X,R){var I=R(28);function O(C,_,y,f,g){for(var w=_;f.exists(w);){var b=f.calculateItemLevel(f.getItem(w));if((b===y||b===y-1)&&f.getBranchIndex(w)>-1)break;w=g?f.getPrev(w):f.getNext(w)}return f.exists(w)?f.calculateItemLevel(f.getItem(w))===y?g?I.nextSiblingTarget(C,w,f):I.prevSiblingTarget(C,w,f):I.firstChildTarget(C,w,f):null}function x(C,_,y,f){return O(C,_,y,f,!0)}function D(C,_,y,f){return O(C,_,y,f,!1)}j.exports=function(C,_,y,f,g,w){var b;if(_!==g.$getRootId()){var T=g.getItem(_),P=g.calculateItemLevel(T);if(P===w){var E=g.getPrevSibling(_);y<.5&&!E?b=I.prevSiblingTarget(C,_,g):(y<.5&&(_=E),b=I.nextSiblingTarget(C,_,g))}else if(P>w)g.eachParent(function(K){g.calculateItemLevel(K)===w&&(_=K.id)},T),b=x(C,_,w,g);else{var F=x(C,_,w,g),G=D(C,_,w,g);b=y<.5?F:G}}else{var V=g.$getRootId(),B=g.getChildren(V);b=I.createDropTargetObject(),b=B.length&&f>=0?x(C,function(K){for(var U=K.getNext();K.exists(U);){var ee=K.getNext(U);if(!K.exists(ee))return U;U=ee}return null}(g),w,g):D(C,V,w,g)}return b}},function(j,X,R){var I=R(28);j.exports=function(O,x,D,C,_){var y;if(x!==_.$getRootId())y=D<.25?I.prevSiblingTarget(O,x,_):!(D>.6)||_.hasChild(x)&&_.getItem(x).$open?I.firstChildTarget(O,x,_):I.nextSiblingTarget(O,x,_);else{var f=_.$getRootId();y=_.hasChild(f)&&C>=0?I.lastChildTarget(O,f,_):I.firstChildTarget(O,f,_)}return y}},function(j,X,R){var I=R(1);function O(x,D){var C=I.getNodePosition(D.$grid_data);return x.x+=C.x-D.$grid.scrollLeft,x.y+=C.y-D.$grid_data.scrollTop,x}j.exports={removeLineHighlight:function(x){x.markerLine&&x.markerLine.parentNode&&x.markerLine.parentNode.removeChild(x.markerLine),x.markerLine=null},highlightPosition:function(x,D,C){var _=function(f,g){var w=I.getNodePosition(g.$grid_data),b=I.getRelativeEventPosition(f,g.$grid_data),T=w.x,P=b.y-10,E=g.getItemHeight(f.targetId);P<w.y&&(P=w.y);var F=g.getTotalHeight();return P>w.y+F-E&&(P=w.y+F-E),w.x=T,w.y=P,w}(x,C);D.marker.style.left=_.x+9+"px";var g,w,b,T,P,y=D.markerLine;y||((y=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",y.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",y.style.pointerEvents="none"),x.child?(g=y,T=O({x:0,y:(w=C).getItemTop(b=x.targetParent)},w),P=w.$grid_data.getBoundingClientRect().bottom+window.scrollY,g.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",g.style.width=w.$grid_data.offsetWidth+"px",g.style.top=T.y+"px",g.style.left=T.x+"px",g.style.height=w.getItemHeight(b)+"px",T.y>P&&(g.style.top=P+"px")):function(f,g,w){var b=function(E,F){var G=F.$config.rowStore,V={x:0,y:0},B=F.$grid_data.querySelector(".gantt_tree_indent"),K=15,U=0;if(B&&(K=B.offsetWidth),E.targetId!==G.$getRootId()){var ee=F.getItemTop(E.targetId),ie=F.getItemHeight(E.targetId);if(U=G.exists(E.targetId)?G.calculateItemLevel(G.getItem(E.targetId)):0,E.prevSibling)V.y=ee;else if(E.nextSibling){var J=0;G.eachItem(function(Q){-1!==G.getIndexById(Q.id)&&J++},E.targetId),V.y=ee+ie+J*ie}else V.y=ee+ie,U+=1}return V.x=40+U*K,V.width=Math.max(F.$grid_data.offsetWidth-V.x,0),O(V,F)}(f,w),T=w.$grid_data.getBoundingClientRect().bottom+window.scrollY;g.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",g.style.left=b.x+"px",g.style.height="4px";var P=b.y-2;g.style.top=P+"px",g.style.width=b.width+"px",P>T&&(g.style.top=T+"px")}(x,y,C),D.markerLine||(document.body.appendChild(y),D.markerLine=y)}}},function(j,X,R){var I=R(0),O=R(241),x=R(242),D=R(1);j.exports=function(_){var y=_.$services;return{onCreated:function(f){var g=f.$config;g.bind=I.defined(g.bind)?g.bind:"task",g.bindLinks=I.defined(g.bindLinks)?g.bindLinks:"link",f._linksDnD=x.createLinkDND(),f._tasksDnD=O.createTaskDND(),f._tasksDnD.extend(f),this._mouseDelegates=R(20)(_)},onInitialized:function(f){this._attachDomEvents(_),this._attachStateProvider(_,f),f._tasksDnD.init(f,_),f._linksDnD.init(f,_),"timeline"==f.$config.id&&this.extendDom(f)},onDestroyed:function(f){this._clearDomEvents(_),this._clearStateProvider(_),f._tasksDnD&&f._tasksDnD.destructor()},extendDom:function(f){_.$task=f.$task,_.$task_scale=f.$task_scale,_.$task_data=f.$task_data,_.$task_bg=f.$task_bg,_.$task_links=f.$task_links,_.$task_bars=f.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(f){function g(w,b){if(w&&this.callEvent("onLinkDblClick",[w,b])){var T=this.getLink(w);if(this.isReadonly(T))return;var P=this.locale.labels.link+" "+this.templates.link_description(this.getLink(w))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){f._dhtmlx_confirm(P,"",function(){f.deleteLink(w)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",f.bind(function(w,b){var T=this.locate(w,this.config.link_attribute);T&&this.callEvent("onLinkClick",[T,w])},f),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",f.bind(function(w,b){var T=D.getRelativeEventPosition(w,f.$task_data),P=f.dateFromPos(T.x),E=Math.floor(f.columnIndexByDate(P)),F=f.getScale().trace_x[E];f.callEvent("onScaleClick",[w,F])},f),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",f.bind(function(w,b,T){b=this.locate(w,f.config.link_attribute),g.call(this,b,w)},f),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",f.bind(function(w,b,T){b=this.locate(w);var P=this.getTask(b),E=null;return T.parentNode&&D.getClassName(T.parentNode)&&(E=D.getClassName(T.parentNode).indexOf("_left")>-1?P.$target[0]:P.$source[0]),E&&g.call(this,E,w),!1},f),this.$task)},_attachStateProvider:function(f,g){var w=g;y.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:w._tasks?w._tasks.unit:void 0,scale_step:w._tasks?w._tasks.step:void 0}})},_clearStateProvider:function(){y.getService("state").unregisterProvider("tasksTimeline")}}}},function(j,X,R){var I=R(1),O=R(0),x=R(30),D=R(2);j.exports={createTaskDND:function(){var C;return{extend:function(_){_.roundTaskDates=function(y){C.round_task_dates(y)}},init:function(_,y){return f=_,w=(g=y).$services,_._tasks_dnd=C={drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=g._createDomEventScope(),this.clear_drag_state();var b=g.config.drag_mode;this.set_actions(),w.getService("state").registerProvider("tasksDnd",O.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var T={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var P in this._events)for(var E in b)this._events[P][E]=T[P];this._handlers[b.move]=this._move,this._handlers[b.resize]=this._resize,this._handlers[b.progress]=this._resize_progress},set_actions:function(){var b=f.$task_data;this._domEvents.attach(b,"mousemove",g.bind(function(T){this.on_mouse_move(T)},this)),this._domEvents.attach(b,"mousedown",g.bind(function(T){this.on_mouse_down(T)},this)),this._domEvents.attach(document.body,"mouseup",g.bind(function(T){this.on_mouse_up(T)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(b,T,P){var E=f.$getConfig(),F=this._drag_task_coords(b,P);P.left?(b.start_date=g.dateFromPos(F.start+T),b.start_date||(b.start_date=new Date(g.getState().min_date))):(b.end_date=g.dateFromPos(F.end+T),b.end_date||(b.end_date=new Date(g.getState().max_date)));var G=this._calculateMinDuration(E.min_duration,E.duration_unit);b.end_date-b.start_date<E.min_duration&&(P.left?b.start_date=g.calculateEndDate(b.end_date,-G,E.duration_unit,b):b.end_date=g.calculateEndDate(b.start_date,G,E.duration_unit,b)),g._init_task_timing(b)},_calculateMinDuration:function(b,T){return Math.ceil(b/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[T])},_resize_progress:function(b,T,P){var E=this._drag_task_coords(b,P),F=f.$getConfig().rtl?E.start-P.pos.x:P.pos.x-E.start,G=Math.max(0,F);b.progress=Math.min(1,G/Math.abs(E.end-E.start))},_find_max_shift:function(b,T){var P;for(var E in b){var F=b[E],G=g.getTask(F.id),V=this._drag_task_coords(G,F),B=g.posFromDate(new Date(g.getState().min_date)),K=g.posFromDate(new Date(g.getState().max_date));if(V.end+T>K){var U=K-V.end;(U<P||void 0===P)&&(P=U)}else if(V.start+T<B){var ee=B-V.start;(ee>P||void 0===P)&&(P=ee)}}return P},_move:function(b,T,P,E){var F=this._drag_task_coords(b,P),G=null,V=null;E?(G=new Date(+P.obj.start_date+E),V=new Date(+P.obj.end_date+E)):(G=g.dateFromPos(F.start+T),V=g.dateFromPos(F.end+T)),G?V?(b.start_date=G,b.end_date=V):(b.end_date=new Date(g.getState().max_date),b.start_date=g.dateFromPos(g.posFromDate(b.end_date)-(F.end-F.start))):(b.start_date=new Date(g.getState().min_date),b.end_date=g.dateFromPos(g.posFromDate(b.start_date)+(F.end-F.start)))},_drag_task_coords:function(b,T){return{start:T.obj_s_x=T.obj_s_x||g.posFromDate(b.start_date),end:T.obj_e_x=T.obj_e_x||g.posFromDate(b.end_date)}},_mouse_position_change:function(b,T){var P=b.x-T.x,E=b.y-T.y;return Math.sqrt(P*P+E*E)},_is_number:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},on_mouse_move:function(b){if(this.drag.start_drag){var T=I.getRelativeEventPosition(b,g.$task_data),P=this.drag.start_drag.start_x,E=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(P)&&this._is_number(E)&&this._mouse_position_change({x:P,y:E},T)>20)&&this._start_dnd(b)}if(this.drag.mode){if(!x(this,40))return;this._update_on_move(b)}},_update_item_on_move:function(b,T,P,E,F,G){var V=g.getTask(T),B=g.mixin({},V),K=g.mixin({},V);this._handlers[P].apply(this,[K,b,E,G]),g.mixin(V,K,!0),g.callEvent("onTaskDrag",[V.id,P,K,B,F]),g.mixin(V,K,!0),g.refreshTask(T)},_update_on_move:function(b){var T=this.drag,P=f.$getConfig();if(T.mode){var E=I.getRelativeEventPosition(b,f.$task_data);if(T.pos&&T.pos.x==E.x)return;T.pos=E;var F=g.dateFromPos(E.x);if(!F||isNaN(F.getTime()))return;var G=E.x-T.start_x,V=g.getTask(T.id);if(this._handlers[T.mode]){if(T.mode===P.drag_mode.move){var B={};this._isMultiselect()&&g.getSelectedTasks().indexOf(T.id)>=0&&(B=this.dragMultiple);var K=!1;if(g.isSummaryTask(V)&&g.config.drag_project){var U={};U[T.id]=O.copy(T),K=!0,B=O.mixin(U,this.dragMultiple)}var ee=this._find_max_shift(B,G);for(var ie in void 0!==ee&&(G=ee),this._update_item_on_move(G,T.id,T.mode,T,b),B){var J=B[ie];if(K&&J.id!=T.id&&(g._bulk_dnd=!0),void 0===ee&&(K||Object.keys(B).length>1))var Q=F-g.dateFromPos(T.start_x);this._update_item_on_move(G,J.id,J.mode,J,b,Q)}g._bulk_dnd=!1}else this._update_item_on_move(G,T.id,T.mode,T,b);g._update_parents(T.id)}}},on_mouse_down:function(b,T){if(2!=b.button||void 0===b.button){var P=f.$getConfig(),E=g.locate(b),F=null;if(g.isTaskExists(E)&&(F=g.getTask(E)),!g.isReadonly(F)&&!this.drag.mode){this.clear_drag_state();var G=I.getClassName(T=T||b.target||b.srcElement),V=this._get_drag_mode(G,T);if(!G||!V)return T.parentNode?this.on_mouse_down(b,T.parentNode):void 0;if(V)if(V.mode&&V.mode!=P.drag_mode.ignore&&P["drag_"+V.mode]){if(E=g.locate(T),F=g.copy(g.getTask(E)||{}),g.isReadonly(F))return this.clear_drag_state(),!1;if(g.isSummaryTask(F)&&!P.drag_project&&V.mode!=P.drag_mode.progress)return void this.clear_drag_state();V.id=E;var B=I.getRelativeEventPosition(b,g.$task_data);V.start_x=B.x,V.start_y=B.y,V.obj=F,this.drag.start_drag=V,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(g.checkEvent("onMouseDown")&&g.callEvent("onMouseDown",[G.split(" ")[0]])&&T.parentNode)return this.on_mouse_down(b,T.parentNode)}}},_fix_dnd_scale_time:function(b,T){var P=f.$getConfig(),E=g.getScale().unit,F=g.getScale().step;function G(V){if(g.config.correct_work_time){var B=f.$getConfig();g.isWorkTime(V.start_date,void 0,V)||(V.start_date=g.calculateEndDate({start_date:V.start_date,duration:-1,unit:B.duration_unit,task:V}))}}P.round_dnd_dates||(E="minute",F=P.time_step),T.mode==P.drag_mode.resize?T.left?(b.start_date=g.roundDate({date:b.start_date,unit:E,step:F}),G(b)):(b.end_date=g.roundDate({date:b.end_date,unit:E,step:F}),function(V){if(g.config.correct_work_time){var B=f.$getConfig();g.isWorkTime(new Date(V.end_date-1),void 0,V)||(V.end_date=g.calculateEndDate({start_date:V.end_date,duration:1,unit:B.duration_unit,task:V}))}}(b)):T.mode==P.drag_mode.move&&(b.start_date=g.roundDate({date:b.start_date,unit:E,step:F}),G(b),b.end_date=g.calculateEndDate(b))},_fix_working_times:function(b,T){var P=f.$getConfig();(T=T||{mode:P.drag_mode.move}).mode==P.drag_mode.resize?T.left?b.start_date=g.getClosestWorkTime({date:b.start_date,dir:"future",task:b}):b.end_date=g.getClosestWorkTime({date:b.end_date,dir:"past",task:b}):T.mode==P.drag_mode.move&&g.correctTaskWorkTime(b)},_finalize_mouse_up:function(b,T,P,E){var F=g.getTask(b);if(T.work_time&&T.correct_work_time&&this._fix_working_times(F,P),this._fix_dnd_scale_time(F,P),this._fireEvent("before_finish",P.mode,[b,P.mode,g.copy(P.obj),E])){var G=b;g._init_task_timing(F),this.clear_drag_state(),g.updateTask(F.id),this._fireEvent("after_finish",P.mode,[G,P.mode,E])}else this.clear_drag_state(),b==P.id&&(P.obj._dhx_changed=!1,g.mixin(F,P.obj,!0)),g.refreshTask(F.id)},on_mouse_up:function(b){var T=this.drag;if(T.mode&&T.id){var P=f.$getConfig(),E=g.getTask(T.id),F=this.dragMultiple,G=!1,V=0;T.mode===P.drag_mode.move&&(g.isSummaryTask(E)&&P.drag_project||this._isMultiselect())&&(G=!0,V=Object.keys(F).length);var B=function(){if(G)for(var K in F)this._finalize_mouse_up(F[K].id,P,F[K],b);this._finalize_mouse_up(T.id,P,T,b)};G&&V>10?g.batchUpdate(function(){B.call(this)}.bind(this)):B.call(this)}this.clear_drag_state()},_get_drag_mode:function(b,T){var P=f.$getConfig().drag_mode,E={mode:null,left:null};switch((b||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":E.mode=P.move;break;case"gantt_task_drag":E.mode=P.resize;var F=T.getAttribute("data-bind-property");E.left="start_date"==F;break;case"gantt_task_progress_drag":E.mode=P.progress;break;case"gantt_link_control":case"gantt_link_point":E.mode=P.ignore;break;default:E=null}return E},_start_dnd:function(b){var T=this.drag=this.drag.start_drag;delete T.start_drag;var P=f.$getConfig(),E=T.id;if(P["drag_"+T.mode]&&g.callEvent("onBeforeDrag",[E,T.mode,b])&&this._fireEvent("before_start",T.mode,[E,T.mode,b])){delete T.start_drag;var F=g.getTask(E);if(g.isReadonly(F))return void this.clear_drag_state();if(this._isMultiselect()){var G=g.getSelectedTasks();G.indexOf(T.id)>=0&&D.forEach(G,g.bind(function(V){var B=g.getTask(V);g.isSummaryTask(B)&&g.config.drag_project&&T.mode==P.drag_mode.move&&this._addSubtasksToDragMultiple(B.id),this.dragMultiple[V]=g.mixin({id:B.id,obj:g.copy(B)},this.drag)},this))}g.isSummaryTask(F)&&g.config.drag_project&&T.mode==P.drag_mode.move&&this._addSubtasksToDragMultiple(F.id),g.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(b,T,P){g.assert(this._events[b],"Invalid stage:{"+b+"}");var E=this._events[b][T];return g.assert(E,"Unknown after drop mode:{"+T+"}"),g.assert(P,"Invalid event arguments"),!g.checkEvent(E)||g.callEvent(E,P)},round_task_dates:function(b){var T=this.drag,P=f.$getConfig();T||(T={mode:P.drag_mode.move}),this._fix_dnd_scale_time(b,T)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return g.config.drag_multiple&&!!(g.getSelectedTasks&&g.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(b){g.eachTask(function(T){this.dragMultiple[T.id]=g.mixin({id:T.id,obj:g.copy(T)},this.drag)},b,this)}},C.init(y);var f,g,w},destructor:function(){C&&(C.destructor(),C=null)}}}}},function(j,X,R){var I=R(1),O=function(x,D){var C,_,y,f,g;function T(){return{link_source_id:f,link_target_id:_,link_from_start:g,link_to_start:y,link_landing_area:C}}var P=D.$services,E=P.getService("state"),F=P.getService("dnd");E.registerProvider("linksDnD",T);var G=new F(x.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:D.$root,selector:".gantt_link_point",preventDefault:!0});function V(J,Q,oe,ce,ge){var _e=function(Me,Oe,Be){var ft,je=function(Me){return D.getTaskPosition(Me)}(Me),nt={x:je.left,y:je.top,width:je.width,height:je.height};if(Be.rtl?(nt.xEnd=nt.x,nt.x=nt.xEnd+nt.width):nt.xEnd=nt.x+nt.width,nt.yEnd=nt.y+nt.height,D.getTaskType(Me.type)==D.config.types.milestone){var We=(ft=x.getBarHeight(Me.id,!0),Math.round(Math.sqrt(2*ft*ft))-2);nt.x+=We/2*(Be.rtl?1:-1),nt.xEnd+=We/2*(Be.rtl?-1:1),nt.width=je.xEnd-je.x}return nt}(J,0,ce),we={x:_e.x,y:_e.y};Q||(we.x=_e.xEnd),we.y+=D.getTaskHeight(J.id)/2;var Pe=D.getTaskType(J.type)==D.config.types.milestone&&ge?2:0;return oe=oe||0,ce.rtl&&(oe*=-1),we.x+=(Q?-1:1)*oe-Pe,we}function K(J){var Q=T(),oe=["gantt_link_tooltip"];Q.link_source_id&&Q.link_target_id&&(D.isLinkAllowed(Q.link_source_id,Q.link_target_id,Q.link_from_start,Q.link_to_start)?oe.push("gantt_allowed_link"):oe.push("gantt_invalid_link"));var ce=D.templates.drag_link_class(Q.link_source_id,Q.link_from_start,Q.link_target_id,Q.link_to_start);ce&&oe.push(ce);var ge="<div class='"+ce+"'>"+D.templates.drag_link(Q.link_source_id,Q.link_from_start,Q.link_target_id,Q.link_to_start)+"</div>";J.innerHTML=ge}function U(){f=g=_=null,y=!0}function ee(J,Q,oe,ce){var ge=(G._direction&&G._direction.parentNode||(G._direction=document.createElement("div"),x.$task_links.appendChild(G._direction)),G._direction),_e=T(),we=["gantt_link_direction"];D.templates.link_direction_class&&we.push(D.templates.link_direction_class(_e.link_source_id,_e.link_from_start,_e.link_target_id,_e.link_to_start));var ke,It,Pe=Math.sqrt(Math.pow(oe-J,2)+Math.pow(ce-Q,2));if(Pe=Math.max(0,Pe-3)){ge.className=we.join(" ");var Oe=Math.atan((ce-Q)/(oe-J));2==ie(J,oe,Q,ce)?Oe+=Math.PI:3==ie(J,oe,Q,ce)&&(Oe-=Math.PI);var Be=Math.sin(Oe),je=Math.cos(Oe),nt=Math.round(Q),We=Math.round(J),ze=["-webkit-transform: rotate("+Oe+"rad)","-moz-transform: rotate("+Oe+"rad)","-ms-transform: rotate("+Oe+"rad)","-o-transform: rotate("+Oe+"rad)","transform: rotate("+Oe+"rad)","width:"+Math.round(Pe)+"px"];if(-1!=window.navigator.userAgent.indexOf("MSIE 8.0")){ze.push('-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11 = '+(It=je)+",M12 = -"+(ke=Be)+",M21 = "+ke+",M22 = "+It+",SizingMethod = 'auto expand')\"");var ft=Math.abs(Math.round(J-oe)),Ct=Math.abs(Math.round(ce-Q));switch(ie(J,oe,Q,ce)){case 1:nt-=Ct;break;case 2:We-=ft,nt-=Ct;break;case 3:We-=ft}}ze.push("top:"+nt+"px"),ze.push("left:"+We+"px"),ge.style.cssText=ze.join(";")}}function ie(J,Q,oe,ce){return Q>=J?ce<=oe?1:4:ce<=oe?2:3}G.attachEvent("onBeforeDragStart",D.bind(function(J,Q){var oe=Q.target||Q.srcElement;if(U(),D.getState("tasksDnd").drag_id)return!1;if(I.locateClassName(oe,"gantt_link_point")){I.locateClassName(oe,"task_start_date")&&(g=!0);var ce=D.locate(Q);f=ce;var ge=D.getTask(ce);return D.isReadonly(ge)?(U(),!1):(this._dir_start=V(ge,!!g,0,x.$getConfig(),!0),!0)}return!1},this)),G.attachEvent("onAfterDragStart",D.bind(function(J,Q){D.config.touch&&D.refreshData(),K(G.config.marker)},this)),G.attachEvent("onDragMove",D.bind(function(J,Q){var Ct,ke,oe=G.config,ce=function B(J,Q){var Be,je,nt,oe=G.getPosition(J),ce=(je=0,nt=0,(Be=Q)&&(je=Be.offsetWidth||0,nt=Be.offsetHeight||0),{width:je,height:nt}),ge=function(){var Be=D.$root;return{right:Be.offsetWidth,bottom:Be.offsetHeight}}(),_e=D.config.tooltip_offset_x||10,we=D.config.tooltip_offset_y||10,Pe=D.config.scroll_size||18,Me=D.$container.getBoundingClientRect().y+window.scrollY,Oe={y:oe.y+we,x:oe.x+_e,bottom:oe.y+ce.height+we+Pe,right:oe.x+ce.width+_e+Pe};return Oe.bottom>ge.bottom+Me&&(Oe.y=ge.bottom+Me-ce.height-we),Oe.right>ge.right&&(Oe.x=ge.right-ce.width-_e),Oe}(Q,oe.marker);(Ct=oe.marker).style.left=(ke=ce).x+"px",Ct.style.top=ke.y+"px";var ge=!!I.locateClassName(Q,"gantt_link_control"),_e=_,we=C,Pe=y,Me=D.locate(Q),Oe=!0,Be=I.getTargetNode(Q);if(I.isChildOf(Be,D.$root)||(ge=!1,Me=null),ge&&(Oe=!I.locateClassName(Q,"task_end_date"),ge=!!Me),_=Me,C=ge,y=Oe,ge){var je=D.getTask(Me),nt=x.$getConfig(),We=I.locateClassName(Q,"gantt_link_control"),ze=0;We&&(ze=Math.floor(We.offsetWidth/2)),this._dir_end=V(je,!!y,ze,nt)}else this._dir_end=I.getRelativeEventPosition(Q,x.$task_data),D.env.isEdge&&(this._dir_end.y+=window.scrollY);var ft=!(we==ge&&_e==Me&&Pe==Oe);return ft&&(_e&&D.refreshTask(_e,!1),Me&&D.refreshTask(Me,!1)),ft&&K(oe.marker),ee(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),G.attachEvent("onDragEnd",D.bind(function(){var J=T();if(J.link_source_id&&J.link_target_id&&J.link_source_id!=J.link_target_id){var Q=D._get_link_type(J.link_from_start,J.link_to_start),oe={source:J.link_source_id,target:J.link_target_id,type:Q};oe.type&&D.isLinkAllowed(oe)&&D.callEvent("onLinkCreated",[oe])&&D.addLink(oe)}U(),D.config.touch?D.refreshData():(J.link_source_id&&D.refreshTask(J.link_source_id,!1),J.link_target_id&&D.refreshTask(J.link_target_id,!1)),G._direction&&(G._direction.parentNode&&G._direction.parentNode.removeChild(G._direction),G._direction=null)},this)),D.attachEvent("onGanttRender",D.bind(function(){G._direction&&ee(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};j.exports={createLinkDND:function(){return{init:O}}}},function(j,X,R){var I=R(1);j.exports=function(x){return{getVerticalScrollbar:function(){return x.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return x.$ui.getView("scrollHor")},_legacyGridResizerClass:function(D){for(var C=D.getCellsByType("resizer"),_=0;_<C.length;_++){var y=C[_],f=!1,g=y.$parent.getPrevSibling(y.$id);if(g&&g.$config&&"grid"===g.$config.id)f=!0;else{var w=y.$parent.getNextSibling(y.$id);w&&w.$config&&"grid"===w.$config.id&&(f=!0)}f&&(y.$config.css=(y.$config.css?y.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(D){var C=!0;this._legacyGridResizerClass(D),D.attachEvent("onBeforeResize",function(){var _=x.$ui.getView("timeline");_&&(_.$config.hidden=_.$parent.$config.hidden=!x.config.show_chart);var y=x.$ui.getView("grid");if(y){var f=y._getColsTotalWidth(),g=!x.config.show_grid||!x.config.grid_width||0===f;if(C&&!g&&!1!==f&&(x.config.grid_width=f),y.$config.hidden=y.$parent.$config.hidden=g,!y.$config.hidden){var w=y._getGridWidthLimits();if(w[0]&&x.config.grid_width<w[0]&&(x.config.grid_width=w[0]),w[1]&&x.config.grid_width>w[1]&&(x.config.grid_width=w[1]),_&&x.config.show_chart){if(y.$config.width=x.config.grid_width-1,!y.$config.scrollable&&y.$config.scrollY&&x.$root.offsetWidth){var b=y.$gantt.$layout.$container.offsetWidth,T=x.$ui.getView(y.$config.scrollY).$config.width,P=b-(y.$config.width+T);P<0&&(y.$config.width+=P,x.config.grid_width+=P)}if(C)y.$parent.$config.width=x.config.grid_width,y.$parent.$config.group&&x.$layout._syncCellSizes(y.$parent.$config.group,{value:y.$parent.$config.width,isGravity:!1});else if(_&&!I.isChildOf(_.$task,D.$view)){if(!y.$config.original_grid_width){var E=x.skins[x.skin];y.$config.original_grid_width=E&&E.config&&E.config.grid_width?E.config.grid_width:0}x.config.grid_width=y.$config.original_grid_width,y.$parent.$config.width=x.config.grid_width}else y.$parent._setContentSize(y.$config.width,null),x.$layout._syncCellSizes(y.$parent.$config.group,{value:x.config.grid_width,isGravity:!1})}else _&&I.isChildOf(_.$task,D.$view)&&(y.$config.original_grid_width=x.config.grid_width),C||(y.$parent.$config.width=0)}C=!1}}),this._initScrollStateEvents(D)},_initScrollStateEvents:function(D){x._getVerticalScrollbar=this.getVerticalScrollbar,x._getHorizontalScrollbar=this.getHorizontalScrollbar;var C=this.getVerticalScrollbar(),_=this.getHorizontalScrollbar();C&&C.attachEvent("onScroll",function(y,f,g){var w=x.getScrollState();x.callEvent("onGanttScroll",[w.x,y,w.x,f])}),_&&_.attachEvent("onScroll",function(y,f,g){var w=x.getScrollState();x.callEvent("onGanttScroll",[y,w.y,f,w.y]);var b=x.$ui.getView("grid");b&&b.$grid_data&&!b.$config.scrollable&&(b.$grid_data.style.left=b.$grid.scrollLeft+"px",b.$grid_data.scrollLeft=b.$grid.scrollLeft)}),D.attachEvent("onResize",function(){C&&!x.$scroll_ver&&(x.$scroll_ver=C.$scroll_ver),_&&!x.$scroll_hor&&(x.$scroll_hor=_.$scroll_hor)})},_findGridResizer:function(D,C){for(var _,y=D.getCellsByType("resizer"),f=!0,g=0;g<y.length;g++){var w=y[g];w._getSiblings();var b=w._behind,T=w._front;if(b&&b.$content===C||b.isChild&&b.isChild(C)){_=w,f=!0;break}if(T&&T.$content===C||T.isChild&&T.isChild(C)){_=w,f=!1;break}}return{resizer:_,gridFirst:f}},onInitialized:function(D){var C=x.$ui.getView("grid"),_=this._findGridResizer(D,C);if(_.resizer){var y,f=_.gridFirst,g=_.resizer;if("x"!==g.$config.mode)return;g.attachEvent("onResizeStart",function(w,b){var T=x.$ui.getView("grid"),P=T?T.$parent:null;if(P){var E=T._getGridWidthLimits();T.$config.scrollable||(P.$config.minWidth=E[0]),P.$config.maxWidth=E[1]}return x.callEvent("onGridResizeStart",[y=f?w:b])}),g.attachEvent("onResize",function(w,b){return x.callEvent("onGridResize",[y,f?w:b])}),g.attachEvent("onResizeEnd",function(w,b,T,P){var E=f?w:b,F=f?T:P,G=x.$ui.getView("grid"),V=G?G.$parent:null;V&&(V.$config.minWidth=void 0);var B=x.callEvent("onGridResizeEnd",[E,F]);return B&&0!==F&&(x.config.grid_width=F),B})}},onDestroyed:function(D){}}}},function(j,X){j.exports=function(R){delete R.addTaskLayer,delete R.addLinkLayer}},function(j,X){j.exports=function(){function R(f){return f.$ui.getView("timeline")}function I(f){return f.$ui.getView("grid")}function O(f){var g=R(f);if(g&&!g.$config.hidden)return g;var w=I(f);return w||!w.$config.hidden?w:null}function x(f){var g=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(w){g=g||!!document.querySelector(w)}),C(f,g?I(f):O(f),"scrollY")}function D(f){var g=O(f);return"grid"==g.id?null:C(f,g,"scrollX")}function C(f,g,w){return f.$ui.getView(g.$config[w])}var _="DEFAULT_VALUE";function y(f,g,w,b){var T=f(this);return T&&T.isVisible()?T[g].apply(T,w):b?b():_}return{getColumnIndex:function(f){var g=y.call(this,I,"getColumnIndex",[f]);return g===_?0:g},dateFromPos:function(f){var g=y.call(this,R,"dateFromPos",Array.prototype.slice.call(arguments));return g===_?this.getState().min_date:g},posFromDate:function(f){var g=y.call(this,R,"posFromDate",[f]);return g===_?0:g},getRowTop:function(f){var g=this,w=y.call(g,R,"getRowTop",[f],function(){return y.call(g,I,"getRowTop",[f])});return w===_?0:w},getTaskTop:function(f){var g=this,w=y.call(g,R,"getItemTop",[f],function(){return y.call(g,I,"getItemTop",[f])});return w===_?0:w},getTaskPosition:function(f,g,w){var b=y.call(this,R,"getItemPosition",[f,g,w]);return b===_?{left:0,top:this.getTaskTop(f.id),height:this.getTaskBarHeight(f.id),width:0}:b},getTaskBarHeight:function(f,g){var w=this,b=y.call(w,R,"getBarHeight",[f,g],function(){return y.call(w,I,"getItemHeight",[f])});return b===_?0:b},getTaskHeight:function(f){var g=this,w=y.call(g,R,"getItemHeight",[f],function(){return y.call(g,I,"getItemHeight",[f])});return w===_?0:w},columnIndexByDate:function(f){var g=y.call(this,R,"columnIndexByDate",[f]);return g===_?0:g},roundTaskDates:function(){y.call(this,R,"roundTaskDates",[])},getScale:function(){var f=y.call(this,R,"getScale",[]);return f===_?null:f},getTaskNode:function(f){var g=R(this);if(g&&g.isVisible()){var w=g._taskRenderer.rendered[f];return w||(w=g.$task_bars.querySelector("["+g.$config.item_attribute+"='"+f+"']")),w||null}return null},getLinkNode:function(f){var g=R(this);return g.isVisible()?g._linkRenderer.rendered[f]:null},scrollTo:function(f,g){var w=x(this),b=D(this),T={position:0},P={position:0};w&&(P=w.getScrollState()),b&&(T=b.getScrollState());var E=b&&1*f==f,F=w&&1*g==g;if(E&&F)for(var G=w._getLinkedViews(),V=b._getLinkedViews(),B=[],K=0;K<G.length;K++)for(var U=0;U<V.length;U++)G[K].$config.id&&V[U].$config.id&&G[K].$config.id===V[U].$config.id&&B.push(G[K].$config.id);E&&(B&&B.forEach(function(J){this.$ui.getView(J).$config.$skipSmartRenderOnScroll=!0}.bind(this)),b.scroll(f),B&&B.forEach(function(J){this.$ui.getView(J).$config.$skipSmartRenderOnScroll=!1}.bind(this))),F&&w.scroll(g);var ee={position:0},ie={position:0};w&&(ee=w.getScrollState()),b&&(ie=b.getScrollState()),this.callEvent("onGanttScroll",[T.position,P.position,ie.position,ee.position])},showDate:function(f){var g=this.posFromDate(f),w=Math.max(g-this.config.task_scroll_offset,0);this.scrollTo(w)},showTask:function(f){var g=this.getTaskPosition(this.getTask(f)),w=g.left;this.config.rtl&&(w=g.left+g.width);var b,T=Math.max(w-this.config.task_scroll_offset,0),P=this._scroll_state().y;b=P?g.top-(P-this.getTaskBarHeight(f))/2:g.top,this.scrollTo(T,b);var E=I(this),F=R(this);E&&F&&E.$config.scrollY!=F.$config.scrollY&&C(this,E,"scrollY").scrollTo(null,b)},_scroll_state:function(){var f={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},g=x(this),w=D(this);if(w){var b=w.getScrollState();b.visible&&(f.x=b.size,f.x_inner=b.scrollSize),f.x_pos=b.position||0}if(g){var T=g.getScrollState();T.visible&&(f.y=T.size,f.y_inner=T.scrollSize),f.y_pos=T.position||0}return f},getScrollState:function(){var f=this._scroll_state();return{x:f.x_pos,y:f.y_pos,inner_width:f.x,inner_height:f.y,width:f.x_inner,height:f.y_inner}}}}},function(j,X){function R(I,O){var x=O.skin;if(!x||I)for(var D=document.getElementsByTagName("link"),C=0;C<D.length;C++){var _=D[C].href.match("dhtmlxgantt_([a-z_]+).css");if(_&&(O.skins[_[1]]||!x)){x=_[1];break}}O.skin=x||"terrace";var y=O.skins[O.skin]||O.skins.terrace;!function(w,b,T){for(var P in b)(void 0===w[P]||T)&&(w[P]=b[P])}(O.config,y.config,I);var f=O.getGridColumns();for(f[1]&&!O.defined(f[1].width)&&(f[1].width=y._second_column_width),f[2]&&!O.defined(f[2].width)&&(f[2].width=y._third_column_width),C=0;C<f.length;C++){var g=f[C];"add"==g.name&&(g.width||(g.width=44),O.defined(g.min_width)&&O.defined(g.max_width)||(g.min_width=g.min_width||g.width,g.max_width=g.max_width||g.width),g.min_width&&(g.min_width=+g.min_width),g.max_width&&(g.max_width=+g.max_width),g.width&&(g.width=+g.width,g.width=g.min_width&&g.min_width>g.width?g.min_width:g.width,g.width=g.max_width&&g.max_width<g.width?g.max_width:g.width))}y.config.task_height&&(O.config.task_height=y.config.task_height||"full"),y.config.bar_height&&(O.config.bar_height=y.config.bar_height||"full"),y._lightbox_template&&(O._lightbox_template=y._lightbox_template),y._redefine_lightbox_buttons&&(O.config.buttons_right=y._redefine_lightbox_buttons.buttons_right,O.config.buttons_left=y._redefine_lightbox_buttons.buttons_left),O.resetLightbox()}j.exports=function(I){I.resetSkin||(I.resetSkin=function(){this.skin="",R(!0,this)},I.skins={},I.attachEvent("onGanttLayoutReady",function(){R(!1,this)}))}},function(j,X){j.exports=function(R){R.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(j,X){j.exports=function(R){R.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(j,X){j.exports=function(R){R.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(j,X){j.exports=function(R){R.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(j,X){j.exports=function(R){R.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},R.attachEvent("onAfterTaskDrag",function(I){var O=R.getTaskNode(I);O&&(O.className+=" gantt_drag_animation",setTimeout(function(){var x=O.className.indexOf(" gantt_drag_animation");x>-1&&(O.className=O.className.slice(0,x))},200))})}},function(j,X){j.exports=function(R){R.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(j,X){j.exports=function(R){R.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(j,X,R){j.exports=function(I){I.ext||(I.ext={});for(var O=[R(255),R(256),R(257)],x=0;x<O.length;x++)O[x]&&O[x](I);var D=R(258).default;I.ext.zoom=new D(I)}},function(j,X,R){var I=R(1),O=R(10);j.exports=function(x){var f=null,g=!1,w=null,b={started:!1},T={};function P(U){return U&&I.isChildOf(U,x.$root)&&U.offsetHeight}function E(){var U=!!document.querySelector(".gantt_drag_marker"),ee=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),ie=!!document.querySelector(".gantt_link_direction"),J=x.getState();return g=U&&!ee&&!ie,!(!J.drag_mode&&!U||ee)||J.autoscroll}function F(U){if(w&&(clearTimeout(w),w=null),U){var ee=x.config.autoscroll_speed;ee&&ee<10&&(ee=10),w=setTimeout(function(){f=setInterval(B,ee||50)},x.config.autoscroll_delay||10)}}function G(U){U?(F(!0),b.started||(b.x=T.x,b.y=T.y,b.started=!0)):(f&&(clearInterval(f),f=null),F(!1),b.started=!1)}function V(U){var ee=E();if(!f&&!w||ee||G(!1),!x.config.autoscroll||!ee)return!1;T={x:U.clientX,y:U.clientY},"touchmove"==U.type&&(T.x=U.targetTouches[0].clientX,T.y=U.targetTouches[0].clientY),!f&&ee&&G(!0)}function B(){if(!E())return G(!1),!1;var nt,We,ze,ft,Ct,U=P(x.$task)?x.$task:P(x.$grid)?x.$grid:x.$root;if(U){var ee=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(nt){ee=ee||!!document.querySelector(nt)}),ee&&(U=x.$grid);var ie=I.getNodePosition(U),Q=T.y-ie.y+window.scrollY,oe=g?0:K(T.x-ie.x,ie.width,b.x-ie.x),ce=K(Q,ie.height,b.y-ie.y+window.scrollY),ge=x.getScrollState(),_e=ge.y,we=ge.inner_height,Me=ge.x,Oe=ge.inner_width;(ce&&!we||ce<0&&!_e||ce>0&&_e+we>=ge.height+2)&&(ce=0),(oe&&!Oe||oe<0&&!Me||oe>0&&Me+Oe>=ge.width)&&(oe=0);var je=x.config.autoscroll_step;je&&je<2&&(je=2),ce*=je||30,((oe*=je||30)||ce)&&(nt=oe,We=ce,ze=x.getScrollState(),ft=null,Ct=null,nt&&(ft=ze.x+nt,ft=Math.min(ze.width,ft),ft=Math.max(0,ft)),We&&(Ct=ze.y+We,Ct=Math.min(ze.height,Ct),Ct=Math.max(0,Ct)),x.scrollTo(ft,Ct))}}function K(U,ee,ie){return U-50<0&&U<ie?-1:U>ee-50&&U>ie?1:0}x.attachEvent("onGanttReady",function(){if(!O(x)){var U=I.getRootNode(x.$root)||document.body;x.eventRemove(U,"mousemove",V),x.event(U,"mousemove",V),x.eventRemove(U,"touchmove",V),x.event(U,"touchmove",V),x.eventRemove(U,"pointermove",V),x.event(U,"pointermove",V)}}),x.attachEvent("onDestroy",function(){G(!1)})}},function(j,X){function R(I){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}var I,O;window.jQuery&&(I=window.jQuery,O=[],I.fn.dhx_gantt=function(x){if("string"!=typeof(x=x||{})){var D=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)D.push("object"==R(this.gantt)?this.gantt:window.gantt);else{var C=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var _ in x)"data"!=_&&(C.config[_]=x[_]);C.init(this),x.data&&C.parse(x.data),D.push(C)}}),1===D.length?D[0]:D}if(O[x])return O[x].apply(this,[]);I.error("Method "+x+" does not exist on jQuery.dhx_gantt")}),j.exports=null},function(j,X){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(R,I,O){var x=document.createElement("DIV");O=O||window.gantt,x.id="gantt_"+O.uid(),x.style.width="100%",x.style.height="100%",x.cmp="grid",document.body.appendChild(x),this.attachObject(x.id),this.dataType="gantt",this.dataObj=O;var D=this.vs[this.av];return D.grid=O,O.init(x.id,R,I),x.firstChild.style.border="none",D.gridId=x.id,D.gridObj=x,this.vs[this._viewRestore()].grid}),void 0!==window.dhtmlXCellObject&&(window.dhtmlXCellObject.prototype.attachGantt=function(R,I,O){O=O||window.gantt;var x=document.createElement("DIV");return x.id="gantt_"+O.uid(),x.style.width="100%",x.style.height="100%",x.cmp="grid",document.body.appendChild(x),this.attachObject(x.id),this.dataType="gantt",this.dataObj=O,O.init(x.id,R,I),x.firstChild.style.border="none",x=null,this.callEvent("_onContentAttach",[]),this.dataObj}),j.exports=null},function(j,X,R){"use strict";Object.defineProperty(X,"__esModule",{value:!0});var I=R(7),O=R(4),x=["ctrlKey","altKey","shiftKey","metaKey"],D=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],C=function(){function _(y){var f=this;this.zoomIn=function(){var g=f.getCurrentLevel()-1;g<0||f.setLevel(g)},this.zoomOut=function(){var g=f.getCurrentLevel()+1;g>f._levels.length-1||f.setLevel(g)},this.getCurrentLevel=function(){return f._activeLevelIndex},this.getLevels=function(){return f._levels},this.setLevel=function(g){var w=f._getZoomIndexByName(g);-1===w&&f.$gantt.assert(-1!==w,"Invalid zoom level for gantt.ext.zoom.setLevel. "+g+" is not an expected value."),f._setLevel(w,0)},this._getZoomIndexByName=function(g){var w=-1;if("string"==typeof g){if(!isNaN(Number(g))&&f._levels[Number(g)])w=Number(g);else for(var b=0;b<f._levels.length;b++)if(f._levels[b].name===g){w=b;break}}else w=g;return w},this._getVisibleDate=function(){if(!f.$gantt.$task)return null;var g=f.$gantt.getScrollState().x;f._visibleDate=f.$gantt.dateFromPos(g+f.$gantt.$task.offsetWidth/2)},this._setLevel=function(g,w){f._activeLevelIndex=g;var b=f.$gantt,T=b.copy(f._levels[f._activeLevelIndex]),P=b.copy(T);if(delete P.name,b.mixin(b.config,P,!0),b.$root&&b.$task){if(w){var E=f.$gantt.dateFromPos(w+f.$gantt.getScrollState().x);f.$gantt.render();var F=f.$gantt.posFromDate(E);f.$gantt.scrollTo(F-w)}else{var G=f.$gantt.$task.offsetWidth;f._visibleDate||f._getVisibleDate();var V=f._visibleDate;f.$gantt.render(),F=f.$gantt.posFromDate(V),f.$gantt.scrollTo(F-G/2)}f.callEvent("onAfterZoom",[f._activeLevelIndex,T])}},this._attachWheelEvent=function(g){var w,b=I.isFF?"wheel":"mousewheel";(w="function"==typeof g.element?g.element():g.element)&&f._domEvents.attach(w,b,f.$gantt.bind(function(T){return!(this._useKey&&(x.indexOf(this._useKey)<0||!T[this._useKey]))&&("function"==typeof this._handler?(this._handler.apply(this,[T]),!0):void 0)},f),{passive:!1})},this._defaultHandler=function(g){var w=f.$gantt.$task.getBoundingClientRect().x,b=g.clientX-w,T=!1;(f.$gantt.env.isFF?-40*g.deltaY:g.wheelDelta)>0&&(T=!0),g.preventDefault(),g.stopPropagation(),f._setScaleSettings(T,b)},this._setScaleDates=function(){f._initialStartDate&&f._initialEndDate&&(f.$gantt.config.start_date=f._initialStartDate,f.$gantt.config.end_date=f._initialEndDate)},this.$gantt=y,this._domEvents=this.$gantt._createDomEventScope()}return _.prototype.init=function(y){var f=this;this.$gantt.env.isNode||(this._initialStartDate=y.startDate,this._initialEndDate=y.endDate,this._activeLevelIndex=y.activeLevelIndex?y.activeLevelIndex:0,this._levels=this._mapScales(y.levels||D),this._handler=y.handler||this._defaultHandler,this._minColumnWidth=y.minColumnWidth||60,this._maxColumnWidth=y.maxColumnWidth||240,this._widthStep=y.widthStep||3/8*y.minColumnWidth,this._useKey=y.useKey,this._initialized||(O(this),this.$gantt.attachEvent("onGanttScroll",function(){f._getVisibleDate()})),this._domEvents.detachAll(),"wheel"===y.trigger&&(this.$gantt.$root?this._attachWheelEvent(y):this.$gantt.attachEvent("onGanttReady",function(){f._attachWheelEvent(y)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},_.prototype._mapScales=function(y){return y.map(function(f){return Array.isArray(f)?{scales:f}:f})},_.prototype._setScaleSettings=function(y,f){y?this._stepUp(f):this._stepDown(f)},_.prototype._stepUp=function(y){if(!(this._activeLevelIndex>=this._levels.length-1)){var f=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var g=this.$gantt.config.min_column_width+this._widthStep;g>this._maxColumnWidth&&(g=this._minColumnWidth,f++),this.$gantt.config.min_column_width=g}else f++;this._setLevel(f,y)}},_.prototype._stepDown=function(y){if(!(this._activeLevelIndex<1)){var f=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var g=this.$gantt.config.min_column_width-this._widthStep;g<this._minColumnWidth&&(g=this._maxColumnWidth,f--),this.$gantt.config.min_column_width=g}else f--;this._setLevel(f,y)}},_}();X.default=C},function(j,X){j.exports=function(R){function I(D){var C=D.$config.scrollX?R.$ui.getView(D.$config.scrollX):null,_=D.$config.scrollY?R.$ui.getView(D.$config.scrollY):null,y={x:null,y:null};return C&&C.getScrollState().visible&&(y.x=C.$view.scrollLeft),_&&_.getScrollState().visible&&(y.y=_.$view.scrollTop),y}function O(){var D;return R.$ui.getView("timeline")&&(D=R.$ui.getView("timeline")._tasks_dnd),D}R.config.touch_drag=500,R.config.touch=!0,R.config.touch_feedback=!0,R.config.touch_feedback_duration=1,R._prevent_touch_scroll=!1,R._touch_feedback=function(){R.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(R.config.touch_feedback_duration)},R.attachEvent("onGanttReady",R.bind(function(){if("force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),this.config.touch){var D=!0;try{document.createEvent("TouchEvent")}catch(C){D=!1}D?this._touch_events(["touchmove","touchstart","touchend"],function(C){return C.touches&&C.touches.length>1?null:C.touches[0]?{target:C.target,pageX:C.touches[0].pageX,pageY:C.touches[0].pageY,clientX:C.touches[0].clientX,clientY:C.touches[0].clientY}:C},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(C){return"mouse"==C.pointerType?null:C},function(C){return!C||"mouse"==C.pointerType}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(C){return C.pointerType==C.MSPOINTER_TYPE_MOUSE?null:C},function(C){return!C||C.pointerType==C.MSPOINTER_TYPE_MOUSE})}},R));var x=[];R._touch_events=function(D,C,_){for(var y,f=0,g=!1,w=!1,b=null,T=null,P=null,E=[],F=null,G=0;G<x.length;G++)R.eventRemove(x[G][0],x[G][1],x[G][2]);for((x=[]).push([R.$container,D[0],function(B){var ce,ge,_e,we,Pe,K=O();if(!_(B)&&g){T&&clearTimeout(T);var U=C(B);if(K&&(K.drag.id||K.drag.start_drag))return K.on_mouse_move(U),B.preventDefault&&B.preventDefault(),B.cancelBubble=!0,!1;if(!R._prevent_touch_scroll){if(U&&b){var ee=b.pageX-U.pageX,ie=b.pageY-U.pageY;if(!w&&(Math.abs(ee)>5||Math.abs(ie)>5)&&(w=!0,f=0,y=F?I(F):R.getScrollState()),w){var J,Q=y.x+ee,oe=y.y+ie;if(F?(ge=Q,_e=oe,we=(ce=F).$config.scrollX?R.$ui.getView(ce.$config.scrollX):null,Pe=ce.$config.scrollY?R.$ui.getView(ce.$config.scrollY):null,we&&we.scrollTo(ge,null),Pe&&Pe.scrollTo(null,_e),J=I(F)):(R.scrollTo(Q,oe),J=R.getScrollState()),y.x!=J.x&&ie>2*ee||y.y!=J.y&&ee>2*ie)return V(B)}}return V(B)}return!0}}]),x.push([this.$container,"contextmenu",function(B){if(g)return V(B)}]),x.push([this.$container,D[1],function(B){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!_(B))if(B.touches&&B.touches.length>1)g=!1;else{b=C(B),F=function(U){for(var ee=R.$layout.getCellsByType("viewCell"),ie=0;ie<ee.length;ie++){var J=ee[ie].$view.getBoundingClientRect();if(U.clientX>=J.left&&U.clientX<=J.right&&U.clientY<=J.bottom&&U.clientY>=J.top)return ee[ie]}}(b),R._locate_css(b,"gantt_hor_scroll")||R._locate_css(b,"gantt_ver_scroll")||(g=!0);var K=O();T=setTimeout(function(){var U=R.locate(b);K&&U&&!R._locate_css(b,"gantt_link_control")&&!R._locate_css(b,"gantt_grid_data")&&(K.on_mouse_down(b),K.drag&&K.drag.start_drag&&(function(ee){var ie=R._getTaskLayers(),J=R.getTask(ee);if(J&&R.isTaskVisible(ee)){P=ee;for(var Q=0;Q<ie.length;Q++)if((J=ie[Q].rendered[ee])&&J.getAttribute(R.config.task_attribute)&&J.getAttribute(R.config.task_attribute)==ee){var oe=J.cloneNode(!0);E.push(J),ie[Q].rendered[ee]=oe,J.style.display="none",oe.className+=" gantt_drag_move ",J.parentNode.appendChild(oe)}}}(U),K._start_dnd(b),R._touch_drag=!0,R.refreshTask(U),R._touch_feedback())),T=null},R.config.touch_drag)}}]),x.push([this.$container,D[2],function(B){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!_(B)){T&&clearTimeout(T),R._touch_drag=!1,g=!1;var K=C(B),U=O();if(U&&U.on_mouse_up(K),P&&R.isTaskExists(P)&&(R.refreshTask(P),E.length&&(E.forEach(function(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}),R._touch_feedback())),g=w=!1,E=[],P=null,b&&f){var ee=new Date;ee-f<500?(R.$services.getService("mouseEvents").onDoubleClick(b),V(B)):f=ee}else f=new Date}}]),G=0;G<x.length;G++)R.event(x[G][0],x[G][1],x[G][2]);function V(B){return B&&B.preventDefault&&B.preventDefault(),B.cancelBubble=!0,!1}}}},function(j,X,R){function I(O){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(O)}j.exports=function(O){var x=R(1),D=R(2),C=R(261)(O),_=R(262)(O),y=R(263)(O),f=R(15)(O),g=R(264)(O),w=R(265)(O),b=R(266)(O),T=R(267)(O),P=R(15)(O),E=R(268)(O),F=R(269)(O);function G(B,K){var U,ee,ie="";for(ee=0;ee<B.length;ee++)ie+="<div "+O._waiAria.lightboxButtonAttrString(U=O.config._migrate_buttons[B[ee]]?O.config._migrate_buttons[B[ee]]:B[ee])+" class='gantt_btn_set gantt_left_btn_set "+U+"_set'"+(K?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+U+"'></div><div>"+O.locale.labels[U]+"</div></div>";return ie}function V(B,K,U){var ee,ie,J,Q,oe,ce,ge="";switch(U.timeFormat[K]){case"%Y":for(B._time_format_order[2]=K,B._time_format_order.size++,B.year_range&&(isNaN(B.year_range)?B.year_range.push&&(J=B.year_range[0],Q=B.year_range[1]):ee=B.year_range),ee=ee||10,ie=ie||Math.floor(ee/2),J=J||U.date.getFullYear()-ie,Q=Q||O.getState().max_date.getFullYear()+ie,oe=J;oe<Q;oe++)ge+="<option value='"+oe+"'>"+oe+"</option>";break;case"%m":for(B._time_format_order[1]=K,B._time_format_order.size++,oe=0;oe<12;oe++)ge+="<option value='"+oe+"'>"+O.locale.date.month_full[oe]+"</option>";break;case"%d":for(B._time_format_order[0]=K,B._time_format_order.size++,oe=1;oe<32;oe++)ge+="<option value='"+oe+"'>"+oe+"</option>";break;case"%H:%i":for(B._time_format_order[3]=K,B._time_format_order.size++,oe=U.first,ce=U.date.getDate(),B._time_values=[];oe<U.last;)ge+="<option value='"+oe+"'>"+O.templates.time_picker(U.date)+"</option>",B._time_values.push(oe),U.date.setTime(U.date.valueOf()+60*O._get_timepicker_step()*1e3),oe=24*(U.date.getDate()!=ce?1:0)*60+60*U.date.getHours()+U.date.getMinutes()}return ge}O._lightbox_methods={},O._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",O.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:O._lightbox_id}}),O.showLightbox=function(B){if(this.callEvent("onBeforeLightbox",[B])){var K=this.getTask(B),U=this.getLightbox(this.getTaskType(K.type));this._center_lightbox(U),this.showCover(),this._fill_lightbox(B,U),this._waiAria.lightboxVisibleAttr(U),this.callEvent("onLightbox",[B])}},O._get_timepicker_step=function(){if(this.config.round_dnd_dates){var B;if((ee=this.$ui.getView("timeline"))&&ee.isVisible()){var K=O.getScale();B=D.getSecondsInUnit(K.unit)*K.step/60}return(!B||B>=1440)&&(B=this.config.time_step),B}var ee;return this.config.time_step},O.getLabel=function(B,K){for(var U=this._get_typed_lightbox_config(),ee=0;ee<U.length;ee++)if(U[ee].map_to==B)for(var ie=U[ee].options,J=0;J<ie.length;J++)if(ie[J].key==K)return ie[J].label;return""},O.updateCollection=function(B,K){K=K.slice(0);var U=O.serverList(B);if(!U)return!1;U.splice(0,U.length),U.push.apply(U,K||[]),O.resetLightbox()},O.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},O.getLightbox=function(B){var K,U,ee,ie,J,Q="";if(void 0===B&&(B=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(B)){this._lightbox_type=this.getTaskType(B),K=document.createElement("div"),Q="gantt_cal_light",U=this._is_lightbox_timepicker(),(O.config.wide_form||U)&&(Q+=" gantt_cal_light_wide"),U&&(O.config.wide_form=!0,Q+=" gantt_cal_light_full"),K.className=Q,K.style.visibility="hidden",ee=this._lightbox_template,ee+=G(this.config.buttons_left),ee+=G(this.config.buttons_right,!0),K.innerHTML=ee,O._waiAria.lightboxAttr(K),O.config.drag_lightbox&&(K.firstChild.onmousedown=O._ready_to_dnd,K.firstChild.onselectstart=function(){return!1},K.firstChild.style.cursor="pointer",O._init_dnd_events()),document.body.insertBefore(K,document.body.firstChild),this._lightbox=K,ie=this._get_typed_lightbox_config(B),ee=this._render_sections(ie);var oe=(J=K.querySelector("div.gantt_cal_larea")).style.overflow;J.style.overflow="hidden",J.innerHTML=ee,function(ce){var ge,_e,we,Pe,Me,Oe;for(Oe=0;Oe<ce.length;Oe++)ge=ce[Oe],we=document.getElementById(ge.id),ge.id&&we&&(_e=we.querySelector("label"),(Pe=we.nextSibling)&&(Me=Pe.querySelector("input, select, textarea"))&&(Me.id=Me.id||"input_"+O.uid(),ge.inputId=Me.id,_e.setAttribute("for",ge.inputId)))}(ie),this.resizeLightbox(),J.style.overflow=oe,this._init_lightbox_events(this),K.style.display="none",K.style.visibility="visible"}return this._lightbox},O._render_sections=function(B){for(var K="",U=0;U<B.length;U++){var ee=this.form_blocks[B[U].type];if(ee){B[U].id="area_"+this.uid();var J="";B[U].button&&(J="<div class='gantt_custom_button' data-index='"+U+"'><div class='gantt_custom_button_"+B[U].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+B[U].button]+"</div></div>"),this.config.wide_form&&(K+="<div class='gantt_wrap_section' "+(B[U].hidden?" style='display:none'":"")+">"),K+="<div id='"+B[U].id+"' class='gantt_cal_lsection'><label>"+J+this.locale.labels["section_"+B[U].name]+"</label></div>"+ee.render.call(this,B[U]),K+="</div>"}}return K},O.resizeLightbox=function(){if(this._lightbox){var B=this._lightbox.querySelector(".gantt_cal_larea");B.style.height="0px",B.style.height=B.scrollHeight+"px",this._lightbox.style.height=B.scrollHeight+this.config.lightbox_additional_height+"px",B.style.height=B.scrollHeight+"px"}},O._center_lightbox=function(B){if(B){B.style.display="block";var K=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,U=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,ee=window.innerHeight||document.documentElement.clientHeight;B.style.top=K?Math.round(K+Math.max((ee-B.offsetHeight)/2,0))+"px":Math.round(Math.max((ee-B.offsetHeight)/2,0)+9)+"px",B.style.left=document.documentElement.scrollWidth>document.body.offsetWidth?Math.round(U+(document.body.offsetWidth-B.offsetWidth)/2)+"px":Math.round((document.body.offsetWidth-B.offsetWidth)/2)+"px"}},O.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",document.body.appendChild(this._cover))},O.event(window,"deviceorientation",function(){O.getState().lightbox&&O._center_lightbox(O.getLightbox())}),O._init_lightbox_events=function(){O.lightbox_events={},O.lightbox_events.gantt_save_btn=function(){O._save_lightbox()},O.lightbox_events.gantt_delete_btn=function(){O._lightbox_new_type=null,O.callEvent("onLightboxDelete",[O._lightbox_id])&&(O.isTaskExists(O._lightbox_id)?O.$click.buttons.delete(O._lightbox_id):O.hideLightbox())},O.lightbox_events.gantt_cancel_btn=function(){O._cancel_lightbox()},O.lightbox_events.default=function(B,K){if(K.getAttribute("data-dhx-button"))O.callEvent("onLightboxButton",[K.className,K,B]);else{var U,ee,ie=x.getClassName(K);if(-1!=ie.indexOf("gantt_custom_button"))if(-1!=ie.indexOf("gantt_custom_button_"))for(U=K.parentNode.getAttribute("data-index"),ee=K;ee&&-1==x.getClassName(ee).indexOf("gantt_cal_lsection");)ee=ee.parentNode;else U=K.getAttribute("data-index"),ee=K.parentNode,K=K.firstChild;var J=O._get_typed_lightbox_config();U&&O.form_blocks[J[1*(U*=1)].type].button_click(U,K,ee,ee.nextSibling)}},this.event(O.getLightbox(),"click",function(B){B=B||window.event;var K=x.getTargetNode(B),U=x.getClassName(K);return U||(U=x.getClassName(K=K.previousSibling)),K&&U&&0===U.indexOf("gantt_btn_set")&&(U=x.getClassName(K=K.firstChild)),!(!K||!U)&&(O.defined(O.lightbox_events[K.className])?O.lightbox_events[K.className]:O.lightbox_events.default)(B,K)}),O.getLightbox().onkeydown=function(B){var K=B||window.event,U=B.target||B.srcElement,ee=x.getClassName(U).indexOf("gantt_btn_set")>-1;switch((B||K).keyCode){case O.constants.KEY_CODES.SPACE:if((B||K).shiftKey)return;ee&&U.click&&U.click();break;case O.keys.edit_save:if((B||K).shiftKey)return;ee&&U.click?U.click():O._save_lightbox();break;case O.keys.edit_cancel:O._cancel_lightbox()}}},O._cancel_lightbox=function(){var B=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,B.$new]),O.isTaskExists(B.id)&&B.$new&&this.silent(function(){O.$data.tasksStore.removeItem(B.id),O._update_flags(B.id,null)}),this.refreshData(),this.hideLightbox()},O._save_lightbox=function(){var B=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,B,!!B.$new])&&(B.$new?(delete B.$new,this.addTask(B,B.parent,this.getTaskIndex(B.id))):this.isTaskExists(B.id)&&(this.mixin(this.getTask(B.id),B,!0),this.refreshTask(B.id),this.updateTask(B.id)),this.refreshData(),this.hideLightbox())},O._resolve_default_mapping=function(B){var K=B.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[B.type]?"auto"==B.map_to?K={start_date:"start_date",end_date:"end_date",duration:"duration"}:"string"==typeof B.map_to&&(K={start_date:B.map_to}):"constraint"===B.type&&(B.map_to&&"string"!=typeof B.map_to||(K={constraint_type:"constraint_type",constraint_date:"constraint_date"})),K},O.getLightboxValues=function(){var B={};O.isTaskExists(this._lightbox_id)&&(B=this.mixin({},this.getTask(this._lightbox_id)));for(var K=this._get_typed_lightbox_config(),U=0;U<K.length;U++){var ee=document.getElementById(K[U].id);ee=ee&&ee.nextSibling;var ie=this.form_blocks[K[U].type];if(ie){var J=ie.get_value.call(this,ee,B,K[U]),Q=O._resolve_default_mapping(K[U]);if("string"==typeof Q&&"auto"!=Q)B[Q]=J;else if("object"==I(Q))for(var oe in Q)Q[oe]&&(B[Q[oe]]=J[oe])}}return"task"==O._lightbox_new_type&&(B.type=O.config.types.task,O._lightbox_new_type=null),B},O.hideLightbox=function(){var B=this.getLightbox();B&&(B.style.display="none"),this._waiAria.lightboxHiddenAttr(B),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},O.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},O.resetLightbox=function(){O._lightbox&&!O._custom_lightbox&&O._lightbox.parentNode.removeChild(O._lightbox),O._lightbox=null,O.hideCover()},O._set_lightbox_values=function(B,K){var U=B,ee=K.getElementsByTagName("span"),ie=[];O.templates.lightbox_header?(ie.push(""),ie.push(O.templates.lightbox_header(U.start_date,U.end_date,U)),ee[1].innerHTML="",ee[2].innerHTML=O.templates.lightbox_header(U.start_date,U.end_date,U)):(ie.push(this.templates.task_time(U.start_date,U.end_date,U)),ie.push(String(this.templates.task_text(U.start_date,U.end_date,U)||"").substr(0,70)),ee[1].innerHTML=this.templates.task_time(U.start_date,U.end_date,U),ee[2].innerHTML=String(this.templates.task_text(U.start_date,U.end_date,U)||"").substr(0,70)),ee[1].innerHTML=ie[0],ee[2].innerHTML=ie[1],O._waiAria.lightboxHeader(K,ie.join(" "));for(var J=this._get_typed_lightbox_config(this.getLightboxType()),Q=0;Q<J.length;Q++){var oe=J[Q];if(this.form_blocks[oe.type]){var ce=document.getElementById(oe.id).nextSibling,ge=this.form_blocks[oe.type],_e=O._resolve_default_mapping(J[Q]),we=this.defined(U[_e])?U[_e]:oe.default_value;ge.set_value.call(O,ce,we,U,oe),oe.focus&&ge.focus.call(O,ce)}}O.isTaskExists(B.id)&&(O._lightbox_id=B.id)},O._fill_lightbox=function(B,K){var U=this.getTask(B);this._set_lightbox_values(U,K)},O.getLightboxSection=function(B){for(var K=this._get_typed_lightbox_config(),U=0;U<K.length&&K[U].name!=B;U++);var ee=K[U];if(!ee)return null;this._lightbox||this.getLightbox();var ie=document.getElementById(ee.id),J=ie.nextSibling,Q={section:ee,header:ie,node:J,getValue:function(ce){return O.form_blocks[ee.type].get_value.call(O,J,ce||{},ee)},setValue:function(ce,ge){return O.form_blocks[ee.type].set_value.call(O,J,ce,ge||{},ee)}},oe=this._lightbox_methods["get_"+ee.type+"_control"];return oe?oe(Q):Q},O._lightbox_methods.get_template_control=function(B){return B.control=B.node,B},O._lightbox_methods.get_select_control=function(B){return B.control=B.node.getElementsByTagName("select")[0],B},O._lightbox_methods.get_textarea_control=function(B){return B.control=B.node.getElementsByTagName("textarea")[0],B},O._lightbox_methods.get_time_control=function(B){return B.control=B.node.getElementsByTagName("select"),B},O._init_dnd_events=function(){var B=document.body;this.event(B,"mousemove",O._move_while_dnd),this.event(B,"mouseup",O._finish_dnd),O._init_dnd_events=function(){}},O._move_while_dnd=function(B){if(O._dnd_start_lb){document.gantt_unselectable||(document.body.className+=" gantt_unselectable",document.gantt_unselectable=!0);var K=O.getLightbox(),U=[B.pageX,B.pageY];K.style.top=O._lb_start[1]+U[1]-O._dnd_start_lb[1]+"px",K.style.left=O._lb_start[0]+U[0]-O._dnd_start_lb[0]+"px"}},O._ready_to_dnd=function(B){var K=O.getLightbox();O._lb_start=[parseInt(K.style.left,10),parseInt(K.style.top,10)],O._dnd_start_lb=[B.pageX,B.pageY]},O._finish_dnd=function(){O._lb_start&&(O._lb_start=O._dnd_start_lb=!1,document.body.className=document.body.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},O._focus=function(B,K){if(B&&B.focus&&!O.config.touch)try{K&&B.select&&B.select(),B.focus()}catch(U){}},O.form_blocks={getTimePicker:function(B,K){var U,ee,ie,ce,ge,we,J="",Q=this.config,oe={first:0,last:1440,date:this.date.date_part(new Date(O._min_date.valueOf())),timeFormat:(ce=B,ce.time_format?ce.time_format:(we=["%d","%m","%Y"],ge=O.getScale(),D.getSecondsInUnit(ge?ge.unit:O.config.duration_unit)<D.getSecondsInUnit("day")&&we.push("%H:%i"),we))};for(B._time_format_order={size:0},O.config.limit_time_select&&(oe.first=60*Q.first_hour,oe.last=60*Q.last_hour+1,oe.date.setHours(Q.first_hour)),U=0;U<oe.timeFormat.length;U++)U>0&&(J+=" "),(ee=V(B,U,oe))&&(ie=O._waiAria.lightboxSelectAttrString(oe.timeFormat[U]),J+="<select "+(B.readonly?"disabled='disabled'":"")+(K?" style='display:none' ":"")+ie+">"+ee+"</select>");return J},getTimePickerValue:function(B,K,U){var ee,ie=K._time_format_order,Q=0,oe=0,ce=U||0;return O.defined(ie[3])&&(ee=parseInt(B[ie[3]+ce].value,10),Q=Math.floor(ee/60),oe=ee%60),new Date(B[ie[2]+ce].value,B[ie[1]+ce].value,B[ie[0]+ce].value,Q,oe)},_fill_lightbox_select:function(B,K,U,ee){if(B[K+ee[0]].value=U.getDate(),B[K+ee[1]].value=U.getMonth(),B[K+ee[2]].value=U.getFullYear(),O.defined(ee[3])){var ie=60*U.getHours()+U.getMinutes();ie=Math.round(ie/O._get_timepicker_step())*O._get_timepicker_step();var J=B[K+ee[3]];J.value=ie,J.setAttribute("data-value",ie)}},template:new C,textarea:new _,select:new f,time:new y,duration:new b,parent:new T,radio:new w,checkbox:new g,resources:new P,constraint:new E,typeselect:new F},O._is_lightbox_timepicker=function(){for(var B=this._get_typed_lightbox_config(),K=0;K<B.length;K++)if("time"==B[K].name&&"time"==B[K].type)return!0;return!1},O._dhtmlx_confirm=function(B,K,U,ee){if(!B)return U();var ie={text:B};K&&(ie.title=K),ee&&(ie.ok=ee),U&&(ie.callback=function(J){J&&U()}),O.confirm(ie)},O._get_typed_lightbox_config=function(B){void 0===B&&(B=this.getLightboxType());var K=function(U){for(var ee in this.config.types)if(this.config.types[ee]==U)return ee;return"task"}.call(this,B);return O.config.lightbox[K+"_sections"]?O.config.lightbox[K+"_sections"]:O.config.lightbox.sections},O._silent_redraw_lightbox=function(B){var K=this.getLightboxType();if(this.getState().lightbox){var U=this.getState().lightbox,ee=this.getLightboxValues(),ie=this.copy(this.getTask(U));this.resetLightbox();var J=this.mixin(ie,ee,!0),Q=this.getLightbox(B||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(J,Q),this.showCover()}else this.resetLightbox(),this.getLightbox(B||void 0);this.callEvent("onLightboxChange",[K,this.getLightboxType()])}}},function(j,X,R){var I=R(3);j.exports=function(O){var x=R(6)(O);function D(){return x.apply(this,arguments)||this}return I(D,x),D.prototype.render=function(C){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+(C.height||"30")+"px;'></div>"},D.prototype.set_value=function(C,_){C.innerHTML=_||""},D.prototype.get_value=function(C){return C.innerHTML||""},D.prototype.focus=function(){},D}},function(j,X,R){var I=R(3);j.exports=function(O){var x=R(6)(O);function D(){return x.apply(this,arguments)||this}return I(D,x),D.prototype.render=function(C){return"<div class='gantt_cal_ltext' style='height:"+(C.height||"130")+"px;'><textarea></textarea></div>"},D.prototype.set_value=function(C,_){O.form_blocks.textarea._get_input(C).value=_||""},D.prototype.get_value=function(C){return O.form_blocks.textarea._get_input(C).value},D.prototype.focus=function(C){var _=O.form_blocks.textarea._get_input(C);O._focus(_,!0)},D.prototype._get_input=function(C){return C.querySelector("textarea")},D}},function(j,X,R){var I=R(3);j.exports=function(O){var x=R(6)(O);function D(){return x.apply(this,arguments)||this}return I(D,x),D.prototype.render=function(C){var _=O.form_blocks.getTimePicker.call(this,C),y="<div style='height:"+(C.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return y+=_,C.single_date?(_=O.form_blocks.getTimePicker.call(this,C,!0),y+="<span></span>"):y+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",(y+=_)+"</div>"},D.prototype.set_value=function(C,_,y,f){var g=f,w=C.getElementsByTagName("select"),b=f._time_format_order;if(g.auto_end_date)for(var T=function(){F=new Date(w[b[2]].value,w[b[1]].value,w[b[0]].value,0,0),G=O.calculateEndDate({start_date:F,duration:1,task:y}),O.form_blocks._fill_lightbox_select(w,b.size,G,b,g)},P=0;P<4;P++)w[P].onchange=T;var E=O._resolve_default_mapping(f);"string"==typeof E&&(E={start_date:E});var F=y[E.start_date]||new Date,G=y[E.end_date]||O.calculateEndDate({start_date:F,duration:1,task:y});O.form_blocks._fill_lightbox_select(w,0,F,b,g),O.form_blocks._fill_lightbox_select(w,b.size,G,b,g)},D.prototype.get_value=function(C,_,y){var f,b,T,P,E,g=C.getElementsByTagName("select"),w=y._time_format_order;return f=O.form_blocks.getTimePickerValue(g,y),"string"==typeof O._resolve_default_mapping(y)?f:{start_date:f,end_date:(b=g,T=w,P=f,E=O.form_blocks.getTimePickerValue(b,y,T.size),E<=P&&(!1!==y.autofix_end||y.single_date)?O.date.add(P,O._get_timepicker_step(),"minute"):E)}},D.prototype.focus=function(C){O._focus(C.getElementsByTagName("select")[0])},D}},function(j,X,R){var I=R(2),O=R(3);j.exports=function(x){var D=R(6)(x);function C(){return D.apply(this,arguments)||this}return O(C,D),C.prototype.render=function(_){var y="<div class='gantt_cal_ltext' style='height:"+(_.height||"23")+"px;'>";if(_.options&&_.options.length)for(var f=0;f<_.options.length;f++)y+="<label><input type='checkbox' value='"+_.options[f].key+"' name='"+_.name+"'>"+_.options[f].label+"</label>";else _.single_value=!0,y+="<label><input type='checkbox' name='"+_.name+"'></label>";return y+"</div>"},C.prototype.set_value=function(_,y,f,g){var w=Array.prototype.slice.call(_.querySelectorAll("input[type=checkbox]"));!_._dhx_onchange&&g.onchange&&(_.onchange=g.onchange,_._dhx_onchange=!0),g.single_value?w[0].checked=!!y:I.forEach(w,function(b){b.checked=!!y&&y.indexOf(b.value)>=0})},C.prototype.get_value=function(_,y,f){return f.single_value?_.querySelector("input[type=checkbox]").checked:I.arrayMap(Array.prototype.slice.call(_.querySelectorAll("input[type=checkbox]:checked")),function(g){return g.value})},C.prototype.focus=function(_){x._focus(_.querySelector("input[type=checkbox]"))},C}},function(j,X,R){var I=R(3);j.exports=function(O){var x=R(6)(O);function D(){return x.apply(this,arguments)||this}return I(D,x),D.prototype.render=function(C){var _="<div class='gantt_cal_ltext' style='height:"+(C.height||"23")+"px;'>";if(C.options&&C.options.length)for(var y=0;y<C.options.length;y++)_+="<label><input type='radio' value='"+C.options[y].key+"' name='"+C.name+"'>"+C.options[y].label+"</label>";return _+"</div>"},D.prototype.set_value=function(C,_,y,f){var g;f.options&&f.options.length&&(g=C.querySelector("input[type=radio][value='"+_+"']")||C.querySelector("input[type=radio][value='"+f.default_value+"']"))&&(!C._dhx_onchange&&f.onchange&&(C.onchange=f.onchange,C._dhx_onchange=!0),g.checked=!0)},D.prototype.get_value=function(C,_){var y=C.querySelector("input[type=radio]:checked");return y?y.value:""},D.prototype.focus=function(C){O._focus(C.querySelector("input[type=radio]"))},D}},function(j,X,R){var I=R(3),O=R(37).default;j.exports=function(x){var D=R(6)(x);function C(){return D.apply(this,arguments)||this}function _(g){return g.formatter||new O}function y(g,w){var b=g.getElementsByTagName("select"),T=w._time_format_order,P=0,E=0;if(x.defined(T[3])){var F=b[T[3]],G=parseInt(F.value,10);isNaN(G)&&F.hasAttribute("data-value")&&(G=parseInt(F.getAttribute("data-value"),10)),P=Math.floor(G/60),E=G%60}return new Date(b[T[2]].value,b[T[1]].value,b[T[0]].value,P,E)}function f(g,w){var b=g.getElementsByTagName("input")[1];return(b=_(w).parse(b.value))&&!window.isNaN(b)||(b=1),b<0&&(b*=-1),b}return I(C,D),C.prototype.render=function(g){var w="<div class='gantt_time_selects'>"+x.form_blocks.getTimePicker.call(this,g)+"</div>",b=" "+x.locale.labels[x.config.duration_unit+"s"]+" ",T=g.single_date?" style='display:none'":"",P=g.readonly?" disabled='disabled'":"",E=x._waiAria.lightboxDurationInputAttrString(g),F="gantt_duration_value";return g.formatter&&(b="",F+=" gantt_duration_value_formatted"),"<div style='height:"+(g.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+w+" <div class='gantt_duration' "+T+"><input type='button' class='gantt_duration_dec' value='\u2212'"+P+"><input type='text' value='5days' class='"+F+"'"+P+" "+E+"><input type='button' class='gantt_duration_inc' value='+'"+P+">"+b+"<span></span></div></div>"},C.prototype.set_value=function(g,w,b,T){var P,E,F,G,V=g.getElementsByTagName("select"),B=g.getElementsByTagName("input"),K=B[1],U=[B[0],B[2]],ee=g.getElementsByTagName("span")[0],ie=T._time_format_order;function J(){var oe=y.call(x,g,T),ce=f.call(x,g,T),ge=x.calculateEndDate({start_date:oe,duration:ce,task:b});ee.innerHTML=(x.templates.task_end_date||x.templates.task_date)(ge)}function Q(oe){var ce=K.value;ce=_(T).parse(ce),window.isNaN(ce)&&(ce=0),(ce+=oe)<1&&(ce=1),K.value=_(T).format(ce),J()}U[0].onclick=x.bind(function(){Q(-1*x.config.duration_step)},this),U[1].onclick=x.bind(function(){Q(1*x.config.duration_step)},this),V[0].onchange=J,V[1].onchange=J,V[2].onchange=J,V[3]&&(V[3].onchange=J),K.onkeydown=x.bind(function(oe){var ce;return(ce=(oe=oe||window.event).charCode||oe.keyCode||oe.which)==x.constants.KEY_CODES.DOWN?(Q(-1*x.config.duration_step),!1):ce==x.constants.KEY_CODES.UP?(Q(1*x.config.duration_step),!1):void window.setTimeout(J,1)},this),K.onchange=x.bind(J,this),"string"==typeof(P=x._resolve_default_mapping(T))&&(P={start_date:P}),E=b[P.start_date]||new Date,F=b[P.end_date]||x.calculateEndDate({start_date:E,duration:1,task:b}),G=Math.round(b[P.duration])||x.calculateDuration({start_date:E,end_date:F,task:b}),G=_(T).format(G),x.form_blocks._fill_lightbox_select(V,0,E,ie,T),K.value=G,J()},C.prototype.get_value=function(g,w,b){var T=y(g,b),P=f(g,b),E=x.calculateEndDate({start_date:T,duration:P,task:w});return"string"==typeof x._resolve_default_mapping(b)?T:{start_date:T,end_date:E,duration:P}},C.prototype.focus=function(g){x._focus(g.getElementsByTagName("select")[0])},C}},function(j,X,R){var I=R(3);j.exports=function(O){var x=R(15)(O);function D(){return x.apply(this,arguments)||this}function C(_,y){var f=[],g=[];y&&(f=O.getTaskByTime(),_.allow_root&&f.unshift({id:O.config.root_id,text:_.root_label||""}),f=function(P,E,F){var G=E.filter||function(){return!0};P=P.slice(0);for(var V=0;V<P.length;V++){var B=P[V];(B.id==F||O.isChildOf(B.id,F)||!1===G(B.id,B))&&(P.splice(V,1),V--)}return P}(f,_,y),_.sort&&f.sort(_.sort));for(var w=_.template||O.templates.task_text,b=0;b<f.length;b++){var T=w.apply(O,[f[b].start_date,f[b].end_date,f[b]]);void 0===T&&(T=""),g.push({key:f[b].id,label:T})}return _.options=g,_.map_to=_.map_to||"parent",O.form_blocks.select.render.apply(this,arguments)}return I(D,x),D.prototype.render=function(_){return C(_,!1)},D.prototype.set_value=function(_,y,f,g){0===y&&(y="0");var w=document.createElement("div");w.innerHTML=C(g,f.id);var b=w.removeChild(w.firstChild);return _.onselect=null,_.parentNode.replaceChild(b,_),O.form_blocks.select.set_value.apply(O,[b,y,f,g])},D}},function(j,X,R){var I=R(3),O=R(43);j.exports=function(x){var D=R(6)(x);function C(){return D.apply(this,arguments)||this}function _(f){return!f||f===x.config.constraint_types.ASAP||f===x.config.constraint_types.ALAP}function y(f,g){for(var w=_(g),b=0;b<f.length;b++)f[b].disabled=w}return I(C,D),C.prototype.render=function(f){var w="<div class='gantt_cal_ltext gantt_section_"+f.name+"' style='height:"+(f.height||30)+"px;'>",b=[];for(var T in x.config.constraint_types)b.push({key:x.config.constraint_types[T],label:x.locale.labels[x.config.constraint_types[T]]});return f.options=f.options||b,w+="<span data-constraint-type-select>"+O.getHtmlSelect(f.options,[{key:"data-type",value:"constraint-type"}])+"</span>",(w+="<label data-constraint-time-select>"+(x.locale.labels.constraint_date||"Constraint date")+": "+x.form_blocks.getTimePicker.call(this,f)+"</label>")+"</div>"},C.prototype.set_value=function(f,g,w,b){var T=f.querySelector("[data-constraint-type-select] select"),P=f.querySelectorAll("[data-constraint-time-select] select"),E=b._time_format_order,F=x._resolve_default_mapping(b);T._eventsInitialized||(T.addEventListener("change",function(B){y(P,B.target.value)}),T._eventsInitialized=!0);var G=w[F.constraint_date]||new Date;x.form_blocks._fill_lightbox_select(P,0,G,E,b);var V=w[F.constraint_type]||x.getConstraintType(w);T.value=V,y(P,V)},C.prototype.get_value=function(f,g,w){var b=f.querySelector("[data-constraint-type-select] select"),T=f.querySelectorAll("[data-constraint-time-select] select"),P=b.value,E=null;return _(P)||(E=x.form_blocks.getTimePickerValue(T,w)),{constraint_type:P,constraint_date:E}},C.prototype.focus=function(f){x._focus(f.querySelector("select"))},C}},function(j,X,R){var I=R(3);j.exports=function(O){var x=R(15)(O);function D(){return x.apply(this,arguments)||this}return I(D,x),D.prototype.render=function(C){var _=O.config.types,y=O.locale.labels,f=[],g=C.filter||function(T,P){return!_.placeholder||P!==_.placeholder};for(var w in _)g(w,_[w])&&f.push({key:_[w],label:y["type_"+w]});C.options=f;var b=C.onchange;return C.onchange=function(){O.changeLightboxType(this.value),this.value===O.config.types.task&&(O._lightbox_new_type="task"),"function"==typeof b&&b.apply(this,arguments)},x.prototype.render.apply(this,arguments)},D}},function(j,X){j.exports=function(R){R._extend_to_optional=function(I){var O=I,x={render:O.render,focus:O.focus,set_value:function(D,C,_,y){var f=R._resolve_default_mapping(y);if(!_[f.start_date]||"start_date"==f.start_date&&this._isAllowedUnscheduledTask(_)){x.disable(D,y);var g={};for(var w in f)g[f[w]]=_[w];return O.set_value.call(R,D,C,g,y)}return x.enable(D,y),O.set_value.call(R,D,C,_,y)},get_value:function(D,C,_){return _.disabled?{start_date:null}:O.get_value.call(R,D,C,_)},update_block:function(D,C){if(R.callEvent("onSectionToggle",[R._lightbox_id,C]),D.style.display=C.disabled?"none":"block",C.button){var _=D.previousSibling.querySelector(".gantt_custom_button_label"),y=R.locale.labels;_.innerHTML=C.disabled?y[C.name+"_enable_button"]:y[C.name+"_disable_button"]}R.resizeLightbox()},disable:function(D,C){C.disabled=!0,x.update_block(D,C)},enable:function(D,C){C.disabled=!1,x.update_block(D,C)},button_click:function(D,C,_,y){if(!1!==R.callEvent("onSectionButton",[R._lightbox_id,_])){var f=R._get_typed_lightbox_config()[D];f.disabled?x.enable(y,f):x.disable(y,f)}}};return x},R.form_blocks.duration_optional=R._extend_to_optional(R.form_blocks.duration),R.form_blocks.time_optional=R._extend_to_optional(R.form_blocks.time)}},function(j,X){j.exports=function(R){var I=new RegExp("<(?:.|\n)*?>","gm"),O=new RegExp(" +","gm");function x(y){return(y+"").replace(I," ").replace(O," ")}var D=new RegExp("'","gm");function C(y){return(y+"").replace(D,"&#39;")}for(var _ in R._waiAria={getAttributeString:function(y){var f=[" "];for(var g in y){var w=C(x(y[g]));f.push(g+"='"+w+"'")}return f.push(" "),f.join(" ")},getTimelineCellAttr:function(y){return R._waiAria.getAttributeString({"aria-label":y})},_taskCommonAttr:function(y,f){y.start_date&&y.end_date&&(f.setAttribute("aria-label",x(R.templates.tooltip_text(y.start_date,y.end_date,y))),y.$dataprocessor_class&&f.setAttribute("aria-busy",!0),f.setAttribute("aria-selected",R.isSelectedTask(y.id)?"true":"false"))},setTaskBarAttr:function(y,f){this._taskCommonAttr(y,f),!R.isReadonly(y)&&R.config.drag_move&&(y.id!=R.getState("tasksDnd").drag_id?f.setAttribute("aria-grabbed",!1):f.setAttribute("aria-grabbed",!0))},taskRowAttr:function(y,f){this._taskCommonAttr(y,f),!R.isReadonly(y)&&R.config.order_branch&&f.setAttribute("aria-grabbed",!1),f.setAttribute("role","row"),f.setAttribute("aria-level",y.$level),R.hasChild(y.id)&&f.setAttribute("aria-expanded",y.$open?"true":"false")},linkAttr:function(y,f){var g=R.config.links,T=R.locale.labels.link+" "+R.templates.drag_link(y.source,y.type==g.start_to_start||y.type==g.start_to_finish,y.target,y.type==g.finish_to_start||y.type==g.start_to_start);f.setAttribute("aria-label",x(T)),R.isReadonly(y)&&f.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(y){y.setAttribute("role","separator")},lightboxHiddenAttr:function(y){y.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(y){y.setAttribute("aria-hidden","false")},lightboxAttr:function(y){y.setAttribute("role","dialog"),y.setAttribute("aria-hidden","true"),y.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(y){return this.getAttributeString({role:"button","aria-label":R.locale.labels[y],tabindex:"0"})},lightboxHeader:function(y,f){y.setAttribute("aria-label",f)},lightboxSelectAttrString:function(y){var f="";switch(y){case"%Y":f=R.locale.labels.years;break;case"%m":f=R.locale.labels.months;break;case"%d":f=R.locale.labels.days;break;case"%H:%i":f=R.locale.labels.hours+R.locale.labels.minutes}return R._waiAria.getAttributeString({"aria-label":f})},lightboxDurationInputAttrString:function(y){return this.getAttributeString({"aria-label":R.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",R.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(y,f){var g="";if("add"==y.name)g=this.getAttributeString({role:"button","aria-label":R.locale.labels.new_task});else{var w={role:"columnheader","aria-label":f};R._sort&&R._sort.name==y.name&&(w["aria-sort"]="asc"==R._sort.direction?"ascending":"descending"),g=this.getAttributeString(w)}return g},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(y,f,g){var w={role:"gridcell","aria-label":f};return y.editor&&!R.isReadonly(g)||(w["aria-readonly"]=!0),this.getAttributeString(w)},gridAddButtonAttrString:function(y){return this.getAttributeString({role:"button","aria-label":R.locale.labels.new_task})},messageButtonAttrString:function(y){return"tabindex='0' role='button' aria-label='"+y+"'"},messageInfoAttr:function(y){y.setAttribute("role","alert")},messageModalAttr:function(y,f){y.setAttribute("role","dialog"),f&&y.setAttribute("aria-labelledby",f)},quickInfoAttr:function(y){y.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(y,f){y.setAttribute("aria-label",f)},quickInfoButtonAttrString:function(y){return R._waiAria.getAttributeString({role:"button","aria-label":y,tabindex:"0"})},tooltipAttr:function(y){y.setAttribute("role","tooltip")},tooltipVisibleAttr:function(y){y.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(y){y.setAttribute("aria-hidden","true")}},R._waiAria)R._waiAria[_]=function(y){return function(){return R.config.wai_aria_attributes?y.apply(this,arguments):""}}(R._waiAria[_])}}])},717:(Or,j,X)=>{"use strict";var R=X(623);function I(O){return!0===R(O)&&"[object Object]"===Object.prototype.toString.call(O)}Or.exports=function(x){var D,C;return!(!1===I(x)||(D=x.constructor,"function"!=typeof D)||(C=D.prototype,!1===I(C))||!1===C.hasOwnProperty("isPrototypeOf"))}},623:Or=>{"use strict";Or.exports=function(X){return null!=X&&"object"==typeof X&&!1===Array.isArray(X)}},872:Or=>{var j=Object.prototype.toString;function X(f){return"function"==typeof f.constructor?f.constructor.name:null}Or.exports=function(g){if(void 0===g)return"undefined";if(null===g)return"null";var w=typeof g;if("boolean"===w)return"boolean";if("string"===w)return"string";if("number"===w)return"number";if("symbol"===w)return"symbol";if("function"===w)return function D(f,g){return"GeneratorFunction"===X(f)}(g)?"generatorfunction":"function";if(function R(f){return Array.isArray?Array.isArray(f):f instanceof Array}(g))return"array";if(function y(f){return!(!f.constructor||"function"!=typeof f.constructor.isBuffer)&&f.constructor.isBuffer(f)}(g))return"buffer";if(function _(f){try{if("number"==typeof f.length&&"function"==typeof f.callee)return!0}catch(g){if(-1!==g.message.indexOf("callee"))return!0}return!1}(g))return"arguments";if(function O(f){return f instanceof Date||"function"==typeof f.toDateString&&"function"==typeof f.getDate&&"function"==typeof f.setDate}(g))return"date";if(function I(f){return f instanceof Error||"string"==typeof f.message&&f.constructor&&"number"==typeof f.constructor.stackTraceLimit}(g))return"error";if(function x(f){return f instanceof RegExp||"string"==typeof f.flags&&"boolean"==typeof f.ignoreCase&&"boolean"==typeof f.multiline&&"boolean"==typeof f.global}(g))return"regexp";switch(X(g)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function C(f){return"function"==typeof f.throw&&"function"==typeof f.return&&"function"==typeof f.next}(g))return"generator";switch(w=j.call(g)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return w.slice(8,-1).toLowerCase().replace(/\s/g,"")}},315:(Or,j,X)=>{"use strict";const R=Symbol.prototype.valueOf,I=X(872);Or.exports=function O(f,g){switch(I(f)){case"array":return f.slice();case"object":return Object.assign({},f);case"date":return new f.constructor(Number(f));case"map":return new Map(f);case"set":return new Set(f);case"buffer":return function _(f){const g=f.length,w=Buffer.allocUnsafe?Buffer.allocUnsafe(g):Buffer.from(g);return f.copy(w),w}(f);case"symbol":return function y(f){return R?Object(R.call(f)):{}}(f);case"arraybuffer":return function D(f){const g=new f.constructor(f.byteLength);return new Uint8Array(g).set(new Uint8Array(f)),g}(f);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function C(f,g){return new f.constructor(f.buffer,f.byteOffset,f.length)}(f);case"regexp":return function x(f){const g=void 0!==f.flags?f.flags:/\w+$/.exec(f)||void 0,w=new f.constructor(f.source,g);return w.lastIndex=f.lastIndex,w}(f);case"error":return Object.create(f);default:return f}}}},Or=>{Or(Or.s=514)}]);