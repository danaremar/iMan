(self.webpackChunkdesktop_app=self.webpackChunkdesktop_app||[]).push([[179],{728:(Rr,z,J)=>{"use strict";function k(t){return"function"==typeof t}function I(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const O=I(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,a)=>`${a+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function S(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class D{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const d of e)d.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(k(i))try{i()}catch(d){n=d instanceof O?d.errors:[d]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const d of a)try{y(d)}catch(h){n=null!=n?n:[],h instanceof O?n=[...n,...h.errors]:n.push(h)}}if(n)throw new O(n)}}add(n){var e;if(n&&n!==this)if(this.closed)y(n);else{if(n instanceof D){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&S(e,n)}remove(n){const{_finalizers:e}=this;e&&S(e,n),n instanceof D&&n._removeParent(this)}}D.EMPTY=(()=>{const t=new D;return t.closed=!0,t})();const C=D.EMPTY;function _(t){return t instanceof D||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function y(t){k(t)?t():t.unsubscribe()}const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},g={setTimeout(t,n,...e){const{delegate:i}=g;return(null==i?void 0:i.setTimeout)?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=g;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function w(t){g.setTimeout(()=>{const{onUnhandledError:n}=f;if(!n)throw t;n(t)})}function b(){}const T=G("C",void 0,void 0);function G(t,n,e){return{kind:t,value:n,error:e}}let H=null;function $(t){if(f.useDeprecatedSynchronousErrorHandling){const n=!H;if(n&&(H={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=H;if(H=null,e)throw i}}else t()}class Q extends D{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,_(n)&&n.add(this)):this.destination=me}static create(n,e,i){return new te(n,e,i)}next(n){this.isStopped?he(function E(t){return G("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?he(function P(t){return G("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?he(T,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Y=Function.prototype.bind;function ne(t,n){return Y.call(t,n)}class oe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){ee(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){ee(i)}else ee(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){ee(e)}}}class te extends Q{constructor(n,e,i){let a;if(super(),k(n)||!n)a={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let d;this&&f.useDeprecatedNextContext?(d=Object.create(n),d.unsubscribe=()=>this.unsubscribe(),a={next:n.next&&ne(n.next,d),error:n.error&&ne(n.error,d),complete:n.complete&&ne(n.complete,d)}):a=n}this.destination=new oe(a)}}function ee(t){f.useDeprecatedSynchronousErrorHandling?function j(t){f.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=t)}(t):w(t)}function he(t,n){const{onStoppedNotification:e}=f;e&&g.setTimeout(()=>e(t,n))}const me={closed:!0,next:b,error:function le(t){throw t},complete:b},ye="function"==typeof Symbol&&Symbol.observable||"@@observable";function Se(t){return t}let ke=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,a){const d=function rt(t){return t&&t instanceof Q||function je(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}(t)&&_(t)}(e)?e:new te(e,i,a);return $(()=>{const{operator:h,source:m}=this;d.add(h?h.call(d,m):m?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ge(i))((a,d)=>{const h=new te({next:m=>{try{e(m)}catch(x){d(x),h.unsubscribe()}},error:d,complete:a});this.subscribe(h)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ye](){return this}pipe(...e){return function Ne(t){return 0===t.length?Se:1===t.length?t[0]:function(e){return t.reduce((i,a)=>a(i),e)}}(e)(this)}toPromise(e){return new(e=Ge(e))((i,a)=>{let d;this.subscribe(h=>d=h,h=>a(h),()=>i(d))})}}return t.create=n=>new t(n),t})();function Ge(t){var n;return null!==(n=null!=t?t:f.Promise)&&void 0!==n?n:Promise}const ze=I(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qe=(()=>{class t extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new mt(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ze}next(e){$(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){$(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){$(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:a,observers:d}=this;return i||a?C:(this.currentObservers=null,d.push(e),new D(()=>{this.currentObservers=null,S(d,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:a,isStopped:d}=this;i?e.error(a):d&&e.complete()}asObservable(){const e=new ke;return e.source=this,e}}return t.create=(n,e)=>new mt(n,e),t})();class mt extends qe{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:C}}function bt(t){return k(null==t?void 0:t.lift)}function Re(t){return n=>{if(bt(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nt(t,n,e,i,a){return new jn(t,n,e,i,a)}class jn extends Q{constructor(n,e,i,a,d,h){super(n),this.onFinalize=d,this.shouldUnsubscribe=h,this._next=e?function(m){try{e(m)}catch(x){n.error(x)}}:super._next,this._error=a?function(m){try{a(m)}catch(x){n.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(m){n.error(m)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function yt(t,n){return Re((e,i)=>{let a=0;e.subscribe(Nt(i,d=>{i.next(t.call(n,d,a++))}))})}function oi(t){return this instanceof oi?(this.v=t,this):new oi(t)}function no(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,i=e.apply(t,n||[]),d=[];return a={},h("next"),h("throw"),h("return"),a[Symbol.asyncIterator]=function(){return this},a;function h(X){i[X]&&(a[X]=function(re){return new Promise(function(ge,be){d.push([X,re,ge,be])>1||m(X,re)})})}function m(X,re){try{!function x(X){X.value instanceof oi?Promise.resolve(X.value.v).then(R,L):W(d[0][2],X)}(i[X](re))}catch(ge){W(d[0][3],ge)}}function R(X){m("next",X)}function L(X){m("throw",X)}function W(X,re){X(re),d.shift(),d.length&&m(d[0][0],d[0][1])}}function xo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Kt(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(d){e[d]=t[d]&&function(h){return new Promise(function(m,x){!function a(d,h,m,x){Promise.resolve(x).then(function(R){d({value:R,done:m})},h)}(m,x,(h=t[d](h)).done,h.value)})}}}const tn=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function St(t){return k(null==t?void 0:t.then)}function Fn(t){return k(t[ye])}function Ni(t){return Symbol.asyncIterator&&k(null==t?void 0:t[Symbol.asyncIterator])}function vi(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Wr=function Ns(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function fi(t){return k(null==t?void 0:t[Wr])}function ja(t){return no(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:a}=yield oi(e.read());if(a)return yield oi(void 0);yield yield oi(i)}}finally{e.releaseLock()}})}function Cc(t){return k(null==t?void 0:t.getReader)}function dr(t){if(t instanceof ke)return t;if(null!=t){if(Fn(t))return function Kf(t){return new ke(n=>{const e=t[ye]();if(k(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(tn(t))return function So(t){return new ke(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(St(t))return function hx(t){return new ke(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,w)})}(t);if(Ni(t))return Ev(t);if(fi(t))return function qf(t){return new ke(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(Cc(t))return function px(t){return Ev(ja(t))}(t)}throw vi(t)}function Ev(t){return new ke(n=>{(function fx(t,n){var e,i,a,d;return function Ei(t,n,e,i){return new(e||(e=Promise))(function(d,h){function m(L){try{R(i.next(L))}catch(W){h(W)}}function x(L){try{R(i.throw(L))}catch(W){h(W)}}function R(L){L.done?d(L.value):function a(d){return d instanceof e?d:new e(function(h){h(d)})}(L.value).then(m,x)}R((i=i.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=xo(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(h){a={error:h}}finally{try{i&&!i.done&&(d=e.return)&&(yield d.call(e))}finally{if(a)throw a.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function pa(t,n,e,i=0,a=!1){const d=n.schedule(function(){e(),a?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(d),!a)return d}function Tn(t,n,e=1/0){return k(n)?Tn((i,a)=>yt((d,h)=>n(i,d,a,h))(dr(t(i,a))),e):("number"==typeof n&&(e=n),Re((i,a)=>function br(t,n,e,i,a,d,h,m){const x=[];let R=0,L=0,W=!1;const X=()=>{W&&!x.length&&!R&&n.complete()},re=be=>R<i?ge(be):x.push(be),ge=be=>{d&&n.next(be),R++;let ve=!1;dr(e(be,L++)).subscribe(Nt(n,De=>{null==a||a(De),d?re(De):n.next(De)},()=>{ve=!0},void 0,()=>{if(ve)try{for(R--;x.length&&R<i;){const De=x.shift();h?pa(n,h,()=>ge(De)):ge(De)}X()}catch(De){n.error(De)}}))};return t.subscribe(Nt(n,re,()=>{W=!0,X()})),()=>{null==m||m()}}(i,a,t,e)))}function Gu(t=1/0){return Tn(Se,t)}const Uo=new ke(t=>t.complete());function Sl(t){return t&&k(t.schedule)}function zo(t){return t[t.length-1]}function bc(t){return k(zo(t))?t.pop():void 0}function $a(t){return Sl(zo(t))?t.pop():void 0}function Bu(t,n=0){return Re((e,i)=>{e.subscribe(Nt(i,a=>pa(i,t,()=>i.next(a),n),()=>pa(i,t,()=>i.complete(),n),a=>pa(i,t,()=>i.error(a),n)))})}function Qf(t,n=0){return Re((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function wc(t,n){if(!t)throw new Error("Iterable cannot be null");return new ke(e=>{pa(e,n,()=>{const i=t[Symbol.asyncIterator]();pa(e,n,()=>{i.next().then(a=>{a.done?e.complete():e.next(a.value)})},0,!0)})})}function sr(t,n){return n?function vx(t,n){if(null!=t){if(Fn(t))return function mx(t,n){return dr(t).pipe(Qf(n),Bu(n))}(t,n);if(tn(t))return function Dv(t,n){return new ke(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(St(t))return function Zf(t,n){return dr(t).pipe(Qf(n),Bu(n))}(t,n);if(Ni(t))return wc(t,n);if(fi(t))return function _x(t,n){return new ke(e=>{let i;return pa(e,n,()=>{i=t[Wr](),pa(e,n,()=>{let a,d;try{({value:a,done:d}=i.next())}catch(h){return void e.error(h)}d?e.complete():e.next(a)},0,!0)}),()=>k(null==i?void 0:i.return)&&i.return()})}(t,n);if(Cc(t))return function ft(t,n){return wc(ja(t),n)}(t,n)}throw vi(t)}(t,n):dr(t)}function Oh(...t){const n=$a(t),e=function gx(t,n){return"number"==typeof zo(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?dr(i[0]):Gu(e)(sr(i,n)):Uo}function Jf(t={}){const{connector:n=(()=>new qe),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:a=!0}=t;return d=>{let h,m,x,R=0,L=!1,W=!1;const X=()=>{null==m||m.unsubscribe(),m=void 0},re=()=>{X(),h=x=void 0,L=W=!1},ge=()=>{const be=h;re(),null==be||be.unsubscribe()};return Re((be,ve)=>{R++,!W&&!L&&X();const De=x=null!=x?x:n();ve.add(()=>{R--,0===R&&!W&&!L&&(m=Te(ge,a))}),De.subscribe(ve),!h&&R>0&&(h=new te({next:Ee=>De.next(Ee),error:Ee=>{W=!0,X(),m=Te(re,e,Ee),De.error(Ee)},complete:()=>{L=!0,X(),m=Te(re,i),De.complete()}}),dr(be).subscribe(h))})(d)}}function Te(t,n,...e){if(!0===n)return void t();if(!1===n)return;const i=new te({next:()=>{i.unsubscribe(),t()}});return n(...e).subscribe(i)}function li(t){for(let n in t)if(t[n]===li)return n;throw Error("Could not find renamed property on target object.")}function eg(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ci(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ci).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function tg(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Av=li({__forward_ref__:li});function Qn(t){return t.__forward_ref__=Qn,t.toString=function(){return ci(this())},t}function En(t){return hs(t)?t():t}function hs(t){return"function"==typeof t&&t.hasOwnProperty(Av)&&t.__forward_ref__===Qn}class $t extends Error{constructor(n,e){super(function Fs(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function xn(t){return"string"==typeof t?t:null==t?"":String(t)}function Ur(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():xn(t)}function Ph(t,n){const e=n?` in ${n}`:"";throw new $t(-201,`No provider for ${Ur(t)} found${e}`)}function zr(t,n){null==t&&function Di(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function on(t){return{providers:t.providers||[],imports:t.imports||[]}}function ng(t){return Ih(t,Mh)||Ih(t,Nh)}function Ih(t,n){return t.hasOwnProperty(n)?t[n]:null}function ig(t){return t&&(t.hasOwnProperty(rg)||t.hasOwnProperty(og))?t[rg]:null}const Mh=li({\u0275prov:li}),rg=li({\u0275inj:li}),Nh=li({ngInjectableDef:li}),og=li({ngInjectorDef:li});var pn=(()=>((pn=pn||{})[pn.Default=0]="Default",pn[pn.Host=1]="Host",pn[pn.Self=2]="Self",pn[pn.SkipSelf=4]="SkipSelf",pn[pn.Optional=8]="Optional",pn))();let ju;function Ls(t){const n=ju;return ju=t,n}function Fh(t,n,e){const i=ng(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&pn.Optional?null:void 0!==n?n:void Ph(ci(t),"Injector")}function Wa(t){return{toString:t}.toString()}var ro=(()=>((ro=ro||{})[ro.OnPush=0]="OnPush",ro[ro.Default=1]="Default",ro))(),To=(()=>{return(t=To||(To={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",To;var t})();const Sc="undefined"!=typeof globalThis&&globalThis,Gh="undefined"!=typeof window&&window,Iv="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ui=Sc||"undefined"!=typeof global&&global||Gh||Iv,El={},gi=[],Bh=li({\u0275cmp:li}),Tc=li({\u0275dir:li}),ag=li({\u0275pipe:li}),lg=li({\u0275mod:li}),Kn=li({\u0275fac:li}),Ec=li({__NG_ELEMENT_ID__:li});let Dc=0;function zt(t){return Wa(()=>{const e={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ro.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||gi,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||To.Emulated,id:"c",styles:t.styles||gi,_:null,setInput:null,schemas:t.schemas||null,tView:null},a=t.directives,d=t.features,h=t.pipes;return i.id+=Dc++,i.inputs=Rc(t.inputs,e),i.outputs=Rc(t.outputs),d&&d.forEach(m=>m(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(kc):null,i.pipeDefs=h?()=>("function"==typeof h?h():h).map($u):null,i})}function kc(t){return Or(t)||function pr(t){return t[Tc]||null}(t)}function $u(t){return function Yo(t){return t[ag]||null}(t)}const Hh={};function en(t){return Wa(()=>{const n={type:t.type,bootstrap:t.bootstrap||gi,declarations:t.declarations||gi,imports:t.imports||gi,exports:t.exports||gi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Hh[t.id]=t.type),n})}function Rc(t,n){if(null==t)return El;const e={};for(const i in t)if(t.hasOwnProperty(i)){let a=t[i],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),e[a]=i,n&&(n[a]=d)}return e}const Et=zt;function bi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Or(t){return t[Bh]||null}function di(t,n){const e=t[lg]||null;if(!e&&!0===n)throw new Error(`Type ${ci(t)} does not have '\u0275mod' property.`);return e}function Gs(t){return Array.isArray(t)&&"object"==typeof t[1]}function mi(t){return Array.isArray(t)&&!0===t[1]}function _a(t){return 0!=(8&t.flags)}function Yu(t){return 2==(2&t.flags)}function ar(t){return 1==(1&t.flags)}function qo(t){return null!==t.template}function Nv(t){return 0!=(512&t[2])}function Ol(t,n){return t.hasOwnProperty(Kn)?t[Kn]:null}class hg{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function $n(){return qu}function qu(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bx),Gx}function Gx(){const t=Wh(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===El)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function Bx(t,n,e,i){const a=Wh(t)||function Hx(t,n){return t[$v]=n}(t,{previous:El,current:null}),d=a.current||(a.current={}),h=a.previous,m=this.declaredInputs[e],x=h[m];d[m]=new hg(x&&x.currentValue,n,h===El),t[i]=n}$n.ngInherit=!0;const $v="__ngSimpleChanges__";function Wh(t){return t[$v]||null}let zh;function mg(){return void 0!==zh?zh:"undefined"!=typeof document?document:void 0}function ti(t){return!!t.listen}const Ui={createRenderer:(t,n)=>mg()};function tr(t){for(;Array.isArray(t);)t=t[0];return t}function Pl(t,n){return tr(n[t])}function Do(t,n){return tr(n[t.index])}function _g(t,n){return t.data[n]}function Ao(t,n){const e=n[t];return Gs(e)?e:e[0]}function zv(t){return 4==(4&t[2])}function vg(t){return 128==(128&t[2])}function Hs(t,n){return null==n?null:t[n]}function Yv(t){t[18]=0}function Pi(t,n){t[5]+=n;let e=t,i=t[3];for(;null!==i&&(1===n&&1===e[5]||-1===n&&0===e[5]);)i[5]+=n,e=i,i=i[3]}const mn={lFrame:Zv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kv(){return mn.bindingsEnabled}function lt(){return mn.lFrame.lView}function Wn(){return mn.lFrame.tView}function Xe(t){return mn.lFrame.contextLView=t,t[8]}function zi(){let t=qv();for(;null!==t&&64===t.type;)t=t.parent;return t}function qv(){return mn.lFrame.currentTNode}function ln(t,n){const e=mn.lFrame;e.currentTNode=t,e.isParent=n}function Cg(){return mn.lFrame.isParent}function ct(){mn.lFrame.isParent=!1}function Yh(){return mn.isInCheckNoChangesMode}function Kh(t){mn.isInCheckNoChangesMode=t}function Mr(){const t=mn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function za(){return mn.lFrame.bindingIndex++}function js(t){const n=mn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function Jx(t,n){const e=mn.lFrame;e.bindingIndex=e.bindingRootIndex=t,qh(n)}function qh(t){mn.lFrame.currentDirectiveIndex=t}function fs(t){const n=mn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function Xv(){return mn.lFrame.currentQueryIndex}function Qu(t){mn.lFrame.currentQueryIndex=t}function Zu(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Qv(t,n,e){if(e&pn.SkipSelf){let a=n,d=t;for(;!(a=a.parent,null!==a||e&pn.Host||(a=Zu(d),null===a||(d=d[15],10&a.type))););if(null===a)return!1;n=a,t=d}const i=mn.lFrame=Qh();return i.currentTNode=n,i.lView=t,!0}function Xh(t){const n=Qh(),e=t[1];mn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Qh(){const t=mn.lFrame,n=null===t?null:t.child;return null===n?Zv(t):n}function Zv(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function gs(){const t=mn.lFrame;return mn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Jv=gs;function Ml(){const t=gs();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yr(){return mn.lFrame.selectedIndex}function ya(t){mn.lFrame.selectedIndex=t}function Gi(){const t=mn.lFrame;return _g(t.tView,t.selectedIndex)}function xi(){mn.lFrame.currentNamespace="svg"}function Zh(){!function Sg(){mn.lFrame.currentNamespace=null}()}function $s(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const d=t.data[e].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:m,ngAfterViewInit:x,ngAfterViewChecked:R,ngOnDestroy:L}=d;h&&(t.contentHooks||(t.contentHooks=[])).push(-e,h),m&&((t.contentHooks||(t.contentHooks=[])).push(e,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,m)),x&&(t.viewHooks||(t.viewHooks=[])).push(-e,x),R&&((t.viewHooks||(t.viewHooks=[])).push(e,R),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,R)),null!=L&&(t.destroyHooks||(t.destroyHooks=[])).push(e,L)}}function nr(t,n,e){ir(t,n,3,e)}function ki(t,n,e,i){(3&t[2])===e&&ir(t,n,e,i)}function Tg(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function ir(t,n,e,i){const d=null!=i?i:-1,h=n.length-1;let m=0;for(let x=void 0!==i?65535&t[18]:0;x<h;x++)if("number"==typeof n[x+1]){if(m=n[x],null!=i&&m>=i)break}else n[x]<0&&(t[18]+=65536),(m<d||-1==d)&&(n1(t,e,n,x),t[18]=(4294901760&t[18])+x+2),x++}function n1(t,n,e,i){const a=e[i]<0,d=e[i+1],m=t[a?-e[i]:e[i]];if(a){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{d.call(m)}finally{}}}else try{d.call(m)}finally{}}class ba{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Jh(t,n,e){const i=ti(t);let a=0;for(;a<e.length;){const d=e[a];if("number"==typeof d){if(0!==d)break;a++;const h=e[a++],m=e[a++],x=e[a++];i?t.setAttribute(n,m,x,h):n.setAttributeNS(h,m,x)}else{const h=d,m=e[++a];Dg(h)?i&&t.setProperty(n,h,m):i?t.setAttribute(n,h,m):n.setAttribute(h,m),a++}}return a}function oy(t){return 3===t||4===t||6===t}function Dg(t){return 64===t.charCodeAt(0)}function ep(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const a=n[i];"number"==typeof a?e=a:0===e||Ju(t,e,a,null,-1===e||2===e?n[++i]:null)}}return t}function Ju(t,n,e,i,a){let d=0,h=t.length;if(-1===n)h=-1;else for(;d<t.length;){const m=t[d++];if("number"==typeof m){if(m===n){h=-1;break}if(m>n){h=d-1;break}}}for(;d<t.length;){const m=t[d];if("number"==typeof m)break;if(m===e){if(null===i)return void(null!==a&&(t[d+1]=a));if(i===t[d+1])return void(t[d+2]=a)}d++,null!==i&&d++,null!==a&&d++}-1!==h&&(t.splice(h,0,n),d=h+1),t.splice(d++,0,e),null!==i&&t.splice(d++,0,i),null!==a&&t.splice(d++,0,a)}function tp(t){return-1!==t}function Nc(t){return 32767&t}function wa(t,n){let e=function np(t){return t>>16}(t),i=n;for(;e>0;)i=i[15],e--;return i}let Fc=!0;function ip(t){const n=Fc;return Fc=t,n}let o1=0;function Lc(t,n){const e=kg(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,so(i.data,t),so(n,null),so(i.blueprint,null));const a=ko(t,n),d=t.injectorIndex;if(tp(a)){const h=Nc(a),m=wa(a,n),x=m[1].data;for(let R=0;R<8;R++)n[d+R]=m[h+R]|x[h+R]}return n[d+8]=a,d}function so(t,n){t.push(0,0,0,0,0,0,0,0,n)}function kg(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function ko(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,a=n;for(;null!==a;){const d=a[1],h=d.type;if(i=2===h?d.declTNode:1===h?a[6]:null,null===i)return-1;if(e++,a=a[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function rp(t,n,e){!function s1(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ec)&&(i=e[Ec]),null==i&&(i=e[Ec]=o1++);const a=255&i;n.data[t+(a>>5)]|=1<<a}(t,n,e)}function op(t,n,e){if(e&pn.Optional)return t;Ph(n,"NodeInjector")}function ly(t,n,e,i){if(e&pn.Optional&&void 0===i&&(i=null),0==(e&(pn.Self|pn.Host))){const a=t[9],d=Ls(void 0);try{return a?a.get(n,i,e&pn.Optional):Fh(n,i,e&pn.Optional)}finally{Ls(d)}}return op(i,n,e)}function cy(t,n,e,i=pn.Default,a){if(null!==t){const d=function uy(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ec)?t[Ec]:void 0;return"number"==typeof n?n>=0?255&n:l1:n}(e);if("function"==typeof d){if(!Qv(n,t,i))return i&pn.Host?op(a,e,i):ly(n,e,i,a);try{const h=d(i);if(null!=h||i&pn.Optional)return h;Ph(e)}finally{Jv()}}else if("number"==typeof d){let h=null,m=kg(t,n),x=-1,R=i&pn.Host?n[16][6]:null;for((-1===m||i&pn.SkipSelf)&&(x=-1===m?ko(t,n):n[m+8],-1!==x&&dy(i,!1)?(h=n[1],m=Nc(x),n=wa(x,n)):m=-1);-1!==m;){const L=n[1];if(sp(d,m,L.data)){const W=c1(m,n,e,h,i,R);if(W!==Fl)return W}x=n[m+8],-1!==x&&dy(i,n[1].data[m+8]===R)&&sp(d,m,n)?(h=L,m=Nc(x),n=wa(x,n)):m=-1}}}return ly(n,e,i,a)}const Fl={};function l1(){return new Ll(zi(),lt())}function c1(t,n,e,i,a,d){const h=n[1],m=h.data[t+8],L=ed(m,h,e,null==i?Yu(m)&&Fc:i!=h&&0!=(3&m.type),a&pn.Host&&d===m);return null!==L?td(n,h,L,m):Fl}function ed(t,n,e,i,a){const d=t.providerIndexes,h=n.data,m=1048575&d,x=t.directiveStart,L=d>>20,X=a?m+L:t.directiveEnd;for(let re=i?m:m+L;re<X;re++){const ge=h[re];if(re<x&&e===ge||re>=x&&ge.type===e)return re}if(a){const re=h[x];if(re&&qo(re)&&re.type===e)return x}return null}function td(t,n,e,i){let a=t[e];const d=n.data;if(function ty(t){return t instanceof ba}(a)){const h=a;h.resolving&&function yx(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new $t(-200,`Circular dependency in DI detected for ${t}${e}`)}(Ur(d[e]));const m=ip(h.canSeeViewProviders);h.resolving=!0;const x=h.injectImpl?Ls(h.injectImpl):null;Qv(t,i,pn.Default);try{a=t[e]=h.factory(void 0,d,t,i),n.firstCreatePass&&e>=i.directiveStart&&function t1(t,n,e){const{ngOnChanges:i,ngOnInit:a,ngDoCheck:d}=n.type.prototype;if(i){const h=qu(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,h),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,h)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,a),d&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,d),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,d))}(e,d[e],n)}finally{null!==x&&Ls(x),ip(m),h.resolving=!1,Jv()}}return a}function sp(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function dy(t,n){return!(t&pn.Self||t&pn.Host&&n)}class Ll{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return cy(this._tNode,this._lView,n,i,e)}}function mr(t){return Wa(()=>{const n=t.prototype.constructor,e=n[Kn]||Rg(n),i=Object.prototype;let a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==i;){const d=a[Kn]||Rg(a);if(d&&d!==e)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Rg(t){return hs(t)?()=>{const n=Rg(En(t));return n&&n()}:Ol(t)}function Us(t){return function a1(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let a=0;for(;a<i;){const d=e[a];if(oy(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<i&&"string"==typeof e[a];)a++;else{if(d===n)return e[a+1];a+=2}}}return null}(zi(),t)}const Vl="__parameters__",Gc="__prop__metadata__";function Og(t){return function(...e){if(t){const i=t(...e);for(const a in i)this[a]=i[a]}}}function Bc(t,n,e){return Wa(()=>{const i=Og(n);function a(...d){if(this instanceof a)return i.apply(this,d),this;const h=new a(...d);return m.annotation=h,m;function m(x,R,L){const W=x.hasOwnProperty(Vl)?x[Vl]:Object.defineProperty(x,Vl,{value:[]})[Vl];for(;W.length<=L;)W.push(null);return(W[L]=W[L]||[]).push(h),x}}return e&&(a.prototype=Object.create(e.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}function ap(t,n,e,i){return Wa(()=>{const a=Og(n);function d(...h){if(this instanceof d)return a.apply(this,h),this;const m=new d(...h);return function x(R,L){const W=R.constructor,X=W.hasOwnProperty(Gc)?W[Gc]:Object.defineProperty(W,Gc,{value:{}})[Gc];X[L]=X.hasOwnProperty(L)&&X[L]||[],X[L].unshift(m),i&&i(R,L,...h)}}return e&&(d.prototype=Object.create(e.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class Zt{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=xt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lp=new Zt("AnalyzeForEntryComponents");class d1{}const Pg=ap("ContentChildren",(t,n={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},n),d1);function Qo(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let i=t[e];Array.isArray(i)?(n===t&&(n=t.slice(0,e)),Qo(i,n)):n!==t&&n.push(i)}return n}function zs(t,n){t.forEach(e=>Array.isArray(e)?zs(e,n):n(e))}function nd(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ka(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function $c(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function Ro(t,n,e){let i=Wc(t,n);return i>=0?t[1|i]=e:(i=~i,function Ig(t,n,e,i){let a=t.length;if(a==n)t.push(e,i);else if(1===a)t.push(i,t[0]),t[0]=e;else{for(a--,t.push(t[a-1],t[a]);a>n;)t[a]=t[a-2],a--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function Mg(t,n){const e=Wc(t,n);if(e>=0)return t[1|e]}function Wc(t,n){return function my(t,n,e){let i=0,a=t.length>>e;for(;a!==i;){const d=i+(a-i>>1),h=t[d<<e];if(n===h)return d<<e;h>n?a=d:i=d+1}return~(a<<e)}(t,n,1)}const Uc={},Fg="__NG_DI_FLAG__",up="ngTempTokenPath",Lg=/\n/gm,yy="__source",C1=li({provide:String,useValue:li});let od;function Cy(t){const n=od;return od=t,n}function b1(t,n=pn.Default){if(void 0===od)throw new $t(203,"");return null===od?Fh(t,void 0,n):od.get(t,n&pn.Optional?null:void 0,n)}function Qe(t,n=pn.Default){return(function sg(){return ju}()||b1)(En(t),n)}const by=Qe;function qa(t){const n=[];for(let e=0;e<t.length;e++){const i=En(t[e]);if(Array.isArray(i)){if(0===i.length)throw new $t(900,"");let a,d=pn.Default;for(let h=0;h<i.length;h++){const m=i[h],x=w1(m);"number"==typeof x?-1===x?a=m.token:d|=x:a=m}n.push(Qe(a,d))}else n.push(Qe(i))}return n}function zc(t,n){return t[Fg]=n,t.prototype[Fg]=n,t}function w1(t){return t[Fg]}const dp=zc(Bc("Inject",t=>({token:t})),-1),ms=zc(Bc("Optional"),8),Yc=zc(Bc("SkipSelf"),4);let qc,Xc;function jl(t){var n;return(null===(n=function Hg(){if(void 0===qc&&(qc=null,ui.trustedTypes))try{qc=ui.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return qc}())||void 0===n?void 0:n.createHTML(t))||t}function vs(t){var n;return(null===(n=function jg(){if(void 0===Xc&&(Xc=null,ui.trustedTypes))try{Xc=ui.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Xc}())||void 0===n?void 0:n.createHTML(t))||t}class $l{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wg extends $l{getTypeName(){return"HTML"}}class lo extends $l{getTypeName(){return"Style"}}class R1 extends $l{getTypeName(){return"Script"}}class O1 extends $l{getTypeName(){return"URL"}}class P1 extends $l{getTypeName(){return"ResourceURL"}}function Po(t){return t instanceof $l?t.changingThisBreaksApplicationSecurity:t}function Yi(t,n){const e=Ug(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}function Ug(t){return t instanceof $l&&t.getTypeName()||null}class M1{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(jl(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class N1{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jl(n),e;const i=this.inertDocument.createElement("body");return i.innerHTML=jl(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(n){const e=n.attributes;for(let a=e.length-1;0<a;a--){const h=e.item(a).name;("xmlns:ns1"===h||0===h.indexOf("ns1:"))&&n.removeAttribute(h)}let i=n.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const L1=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,V1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ad(t){return(t=String(t)).match(L1)||t.match(V1)?t:"unsafe:"+t}function Ys(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function ld(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const Py=Ys("area,br,col,hr,img,wbr"),Iy=Ys("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fp=Ys("rp,rt"),zg=ld(Py,ld(Iy,Ys("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ld(fp,Ys("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ld(fp,Iy)),Yg=Ys("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kg=Ys("srcset"),Ny=ld(Yg,Kg,Ys("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ys("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),G1=Ys("script,style,template");class gp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let a=this.checkClobberedElement(e,e.nextSibling);if(a){e=a;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!zg.hasOwnProperty(e))return this.sanitizedSomething=!0,!G1.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let a=0;a<i.length;a++){const d=i.item(a),h=d.name,m=h.toLowerCase();if(!Ny.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let x=d.value;Yg[m]&&(x=ad(x)),Kg[m]&&(t=x,x=(t=String(t)).split(",").map(n=>ad(n.trim())).join(", ")),this.buf.push(" ",h,'="',Fy(x),'"')}var t;return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();zg.hasOwnProperty(e)&&!Py.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Fy(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const B1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,H1=/([^\#-~ |!])/g;function Fy(t){return t.replace(/&/g,"&amp;").replace(B1,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(H1,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mp;function Ly(t,n){let e=null;try{mp=mp||function Ry(t){const n=new N1(t);return function F1(){try{return!!(new window.DOMParser).parseFromString(jl(""),"text/html")}catch(t){return!1}}()?new M1(n):n}(t);let i=n?String(n):"";e=mp.getInertBodyElement(i);let a=5,d=i;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,i=d,d=e.innerHTML,e=mp.getInertBodyElement(i)}while(i!==d);return jl((new gp).sanitizeChildren(qg(e)||e))}finally{if(e){const i=qg(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function qg(t){return"content"in t&&function Vy(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function _p(t){const n=cd();return n?vs(n.sanitize(yi.HTML,t)||""):Yi(t,"HTML")?vs(Po(t)):Ly(mg(),xn(t))}function Ks(t){const n=cd();return n?n.sanitize(yi.URL,t)||"":Yi(t,"URL")?Po(t):ad(xn(t))}function cd(){const t=lt();return t&&t[12]}const Hy="__ngContext__";function Ki(t,n){t[Hy]=n}function Qg(t){const n=function ud(t){return t[Hy]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function vp(t){return t.ngOriginalError}function Z1(t,...n){t.error(...n)}class ys{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),i=function Jg(t){return t&&t.ngErrorLogger||Z1}(n);i(this._console,"ERROR",n),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&vp(n);for(;e&&vp(e);)e=vp(e);return e||null}}const Ky=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ui))();function qy(t){return t.ownerDocument.defaultView}function Cs(t){return t instanceof Function?t():t}var co=(()=>((co=co||{})[co.Important=1]="Important",co[co.DashCase=2]="DashCase",co))();function tm(t,n){return undefined(t,n)}function Zc(t){const n=t[3];return mi(n)?n[3]:n}function nm(t){return zl(t[13])}function fd(t){return zl(t[4])}function zl(t){for(;null!==t&&!mi(t);)t=t[4];return t}function Yl(t,n,e,i,a){if(null!=i){let d,h=!1;mi(i)?d=i:Gs(i)&&(h=!0,i=i[0]);const m=tr(i);0===t&&null!==e?null==a?oC(n,e,m):Qa(n,e,m,a||null,!0):1===t&&null!==e?Qa(n,e,m,a||null,!0):2===t?function Kl(t,n,e){const i=Za(t,n);i&&function uS(t,n,e,i){ti(t)?t.removeChild(n,e,i):n.removeChild(e)}(t,i,n,e)}(n,m,h):3===t&&n.destroyNode(m),null!=d&&function dS(t,n,e,i,a){const d=e[7];d!==tr(e)&&Yl(n,t,i,d,a);for(let m=10;m<e.length;m++){const x=e[m];Cd(x[1],x,t,n,i,d)}}(n,t,d,e,a)}}function bp(t,n,e){if(ti(t))return t.createElement(n,e);{const i=null!==e?function gg(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?t.createElement(n):t.createElementNS(i,n)}}function nC(t,n){const e=t[9],i=e.indexOf(n),a=n[3];1024&n[2]&&(n[2]&=-1025,Pi(a,-1)),e.splice(i,1)}function _d(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const a=i[17];null!==a&&a!==t&&nC(a,i),n>0&&(t[e-1][4]=i[4]);const d=Ka(t,10+n);!function sS(t,n){Cd(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(i[1],i);const h=d[19];null!==h&&h.detachView(d[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function iC(t,n){if(!(256&n[2])){const e=n[11];ti(e)&&e.destroyNode&&Cd(t,n,e,3,null,null),function aS(t){let n=t[13];if(!n)return om(t[1],t);for(;n;){let e=null;if(Gs(n))e=n[13];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)Gs(n)&&om(n[1],n),n=n[3];null===n&&(n=t),Gs(n)&&om(n[1],n),e=n&&n[4]}n=e}}(n)}}function om(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function cS(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const a=n[e[i]];if(!(a instanceof ba)){const d=e[i+1];if(Array.isArray(d))for(let h=0;h<d.length;h+=2){const m=a[d[h]],x=d[h+1];try{x.call(m)}finally{}}else try{d.call(a)}finally{}}}}(t,n),function sm(t,n){const e=t.cleanup,i=n[7];let a=-1;if(null!==e)for(let d=0;d<e.length-1;d+=2)if("string"==typeof e[d]){const h=e[d+1],m="function"==typeof h?h(n):tr(n[h]),x=i[a=e[d+2]],R=e[d+3];"boolean"==typeof R?m.removeEventListener(e[d],x,R):R>=0?i[a=R]():i[a=-R].unsubscribe(),d+=2}else{const h=i[a=e[d+1]];e[d].call(h)}if(null!==i){for(let d=a+1;d<i.length;d++)i[d]();n[7]=null}}(t,n),1===n[1].type&&ti(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&mi(n[3])){e!==n[3]&&nC(e,n);const i=n[19];null!==i&&i.detachView(t)}}}function rC(t,n,e){return function am(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[0];if(2&i.flags){const a=t.data[i.directiveStart].encapsulation;if(a===To.None||a===To.Emulated)return null}return Do(i,e)}(t,n.parent,e)}function Qa(t,n,e,i,a){ti(t)?t.insertBefore(n,e,i,a):n.insertBefore(e,i,a)}function oC(t,n,e){ti(t)?t.appendChild(n,e):n.appendChild(e)}function sC(t,n,e,i,a){null!==i?Qa(t,n,e,i,a):oC(t,n,e)}function Za(t,n){return ti(t)?t.parentNode(n):n.parentNode}function Ja(t,n,e){return aC(t,n,e)}let aC=function lm(t,n,e){return 40&t.type?Do(t,e):null};function wp(t,n,e,i){const a=rC(t,i,n),d=n[11],m=Ja(i.parent||n[6],i,n);if(null!=a)if(Array.isArray(e))for(let x=0;x<e.length;x++)sC(d,a,e[x],m,!1);else sC(d,a,e,m,!1)}function yd(t,n){if(null!==n){const e=n.type;if(3&e)return Do(n,t);if(4&e)return um(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return yd(t,i);{const a=t[n.index];return mi(a)?um(-1,a):tr(a)}}if(32&e)return tm(n,t)()||tr(t[n.index]);{const i=xp(t,n);return null!==i?Array.isArray(i)?i[0]:yd(Zc(t[16]),i):yd(t,n.next)}}return null}function xp(t,n){return null!==n?t[16][6].projection[n.projection]:null}function um(t,n){const e=10+t+1;if(e<n.length){const i=n[e],a=i[1].firstChild;if(null!==a)return yd(i,a)}return n[7]}function Sp(t,n,e,i,a,d,h){for(;null!=e;){const m=i[e.index],x=e.type;if(h&&0===n&&(m&&Ki(tr(m),i),e.flags|=4),64!=(64&e.flags))if(8&x)Sp(t,n,e.child,i,a,d,!1),Yl(n,t,a,m,d);else if(32&x){const R=tm(e,i);let L;for(;L=R();)Yl(n,t,a,L,d);Yl(n,t,a,m,d)}else 16&x?lC(t,n,i,e,a,d):Yl(n,t,a,m,d);e=h?e.projectionNext:e.next}}function Cd(t,n,e,i,a,d){Sp(e,i,t.firstChild,n,a,d,!1)}function lC(t,n,e,i,a,d){const h=e[16],x=h[6].projection[i.projection];if(Array.isArray(x))for(let R=0;R<x.length;R++)Yl(n,t,a,x[R],d);else Sp(t,n,x,h[3],a,d,!0)}function cC(t,n,e){ti(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function eu(t,n,e){ti(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function uC(t,n,e){let i=t.length;for(;;){const a=t.indexOf(n,e);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){const d=n.length;if(a+d===i||t.charCodeAt(a+d)<=32)return a}e=a+1}}const bs="ng-template";function dC(t,n,e){let i=0;for(;i<t.length;){let a=t[i++];if(e&&"class"===a){if(a=t[i],-1!==uC(a.toLowerCase(),n,0))return!0}else if(1===a){for(;i<t.length&&"string"==typeof(a=t[i++]);)if(a.toLowerCase()===n)return!0;return!1}}return!1}function hC(t){return 4===t.type&&t.value!==bs}function Tp(t,n,e){return n===(4!==t.type||e?t.value:bs)}function hS(t,n,e){let i=4;const a=t.attrs||[],d=function tu(t){for(let n=0;n<t.length;n++)if(oy(t[n]))return n;return t.length}(a);let h=!1;for(let m=0;m<n.length;m++){const x=n[m];if("number"!=typeof x){if(!h)if(4&i){if(i=2|1&i,""!==x&&!Tp(t,x,e)||""===x&&1===n.length){if(ws(i))return!1;h=!0}}else{const R=8&i?x:n[++m];if(8&i&&null!==t.attrs){if(!dC(t.attrs,R,e)){if(ws(i))return!1;h=!0}continue}const W=pS(8&i?"class":x,a,hC(t),e);if(-1===W){if(ws(i))return!1;h=!0;continue}if(""!==R){let X;X=W>d?"":a[W+1].toLowerCase();const re=8&i?X:null;if(re&&-1!==uC(re,R,0)||2&i&&R!==X){if(ws(i))return!1;h=!0}}}}else{if(!h&&!ws(i)&&!ws(x))return!1;if(h&&ws(x))continue;h=!1,i=x|1&i}}return ws(i)||h}function ws(t){return 0==(1&t)}function pS(t,n,e,i){if(null===n)return-1;let a=0;if(i||!e){let d=!1;for(;a<n.length;){const h=n[a];if(h===t)return a;if(3===h||6===h)d=!0;else{if(1===h||2===h){let m=n[++a];for(;"string"==typeof m;)m=n[++a];continue}if(4===h)break;if(0===h){a+=4;continue}}a+=d?1:2}return-1}return function fC(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function pC(t,n,e=!1){for(let i=0;i<n.length;i++)if(hS(t,n[i],e))return!0;return!1}function gS(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let a=0;a<t.length;a++)if(t[a]!==i[a])continue e;return!0}}return!1}function Ep(t,n){return t?":not("+n.trim()+")":n}function mS(t){let n=t[0],e=1,i=2,a="",d=!1;for(;e<t.length;){let h=t[e];if("string"==typeof h)if(2&i){const m=t[++e];a+="["+h+(m.length>0?'="'+m+'"':"")+"]"}else 8&i?a+="."+h:4&i&&(a+=" "+h);else""!==a&&!ws(h)&&(n+=Ep(d,a),a=""),i=h,d=d||!ws(i);e++}return""!==a&&(n+=Ep(d,a)),n}const hn={};function V(t){gC(Wn(),lt(),Yr()+t,Yh())}function gC(t,n,e,i){if(!i)if(3==(3&n[2])){const d=t.preOrderCheckHooks;null!==d&&nr(n,d,e)}else{const d=t.preOrderHooks;null!==d&&ki(n,d,0,e)}ya(e)}function Ap(t,n){return t<<17|n<<2}function Io(t){return t>>17&32767}function el(t){return 2|t}function qs(t){return(131068&t)>>2}function pm(t,n){return-131069&t|n<<2}function kp(t){return 1|t}function Lp(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const a=e[i],d=e[i+1];if(-1!==d){const h=t.data[d];Qu(a),h.contentQueries(2,n[d],d)}}}function Td(t,n,e,i,a,d,h,m,x,R){const L=n.blueprint.slice();return L[0]=a,L[2]=140|i,Yv(L),L[3]=L[15]=t,L[8]=e,L[10]=h||t&&t[10],L[11]=m||t&&t[11],L[12]=x||t&&t[12]||null,L[9]=R||t&&t[9]||null,L[6]=d,L[16]=2==n.type?t[16]:L,L}function Xs(t,n,e,i,a){let d=t.data[n];if(null===d)d=function Vp(t,n,e,i,a){const d=qv(),h=Cg(),x=t.data[n]=function NS(t,n,e,i,a,d){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?d:d&&d.parent,e,n,i,a);return null===t.firstChild&&(t.firstChild=x),null!==d&&(h?null==d.child&&null!==x.parent&&(d.child=x):null===d.next&&(d.next=x)),x}(t,n,e,i,a),function Zx(){return mn.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=e,d.value=i,d.attrs=a;const h=function Mc(){const t=mn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();d.injectorIndex=null===h?-1:h.injectorIndex}return ln(d,!0),d}function ru(t,n,e,i){if(0===e)return-1;const a=n.length;for(let d=0;d<e;d++)n.push(i),t.blueprint.push(i),t.data.push(null);return a}function ou(t,n,e){Xh(n);try{const i=t.viewQuery;null!==i&&Ql(1,i,e);const a=t.template;null!==a&&vm(t,n,a,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Lp(t,n),t.staticViewQueries&&Ql(2,t.viewQuery,e);const d=t.components;null!==d&&function wC(t,n){for(let e=0;e<n.length;e++)GC(t,n[e])}(n,d)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,Ml()}}function Xl(t,n,e,i){const a=n[2];if(256==(256&a))return;Xh(n);const d=Yh();try{Yv(n),function bg(t){return mn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&vm(t,n,e,2,i);const h=3==(3&a);if(!d)if(h){const R=t.preOrderCheckHooks;null!==R&&nr(n,R,null)}else{const R=t.preOrderHooks;null!==R&&ki(n,R,0,null),Tg(n,0)}if(function VC(t){for(let n=nm(t);null!==n;n=fd(n)){if(!n[2])continue;const e=n[9];for(let i=0;i<e.length;i++){const a=e[i],d=a[3];0==(1024&a[2])&&Pi(d,1),a[2]|=1024}}}(n),function LC(t){for(let n=nm(t);null!==n;n=fd(n))for(let e=10;e<n.length;e++){const i=n[e],a=i[1];vg(i)&&Xl(a,i,a.template,i[8])}}(n),null!==t.contentQueries&&Lp(t,n),!d)if(h){const R=t.contentCheckHooks;null!==R&&nr(n,R)}else{const R=t.contentHooks;null!==R&&ki(n,R,1),Tg(n,1)}!function OS(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const a=e[i];if(a<0)ya(~a);else{const d=a,h=e[++i],m=e[++i];Jx(h,d),m(2,n[d])}}}finally{ya(-1)}}(t,n);const m=t.components;null!==m&&function PS(t,n){for(let e=0;e<n.length;e++)BS(t,n[e])}(n,m);const x=t.viewQuery;if(null!==x&&Ql(2,x,i),!d)if(h){const R=t.viewCheckHooks;null!==R&&nr(n,R)}else{const R=t.viewHooks;null!==R&&ki(n,R,2),Tg(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),d||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Pi(n[3],-1))}finally{Ml()}}function IS(t,n,e,i){const a=n[10],d=!Yh(),h=zv(n);try{d&&!h&&a.begin&&a.begin(),h&&ou(t,n,i),Xl(t,n,e,i)}finally{d&&!h&&a.end&&a.end()}}function vm(t,n,e,i,a){const d=Yr(),h=2&i;try{ya(-1),h&&n.length>20&&gC(t,n,20,Yh()),e(i,a)}finally{ya(d)}}function xC(t,n,e){if(_a(n)){const a=n.directiveEnd;for(let d=n.directiveStart;d<a;d++){const h=t.data[d];h.contentQueries&&h.contentQueries(1,e[d],d)}}}function Gp(t,n,e){!Kv()||(function VS(t,n,e,i){const a=e.directiveStart,d=e.directiveEnd;t.firstCreatePass||Lc(e,n),Ki(i,n);const h=e.initialInputs;for(let m=a;m<d;m++){const x=t.data[m],R=qo(x);R&&FC(n,e,x);const L=td(n,t,m,e);Ki(L,n),null!==h&&GS(0,m-a,L,x,0,h),R&&(Ao(e.index,n)[8]=L)}}(t,n,e,Do(e,n)),128==(128&e.flags)&&function bm(t,n,e){const i=e.directiveStart,a=e.directiveEnd,h=e.index,m=function wg(){return mn.lFrame.currentDirectiveIndex}();try{ya(h);for(let x=i;x<a;x++){const R=t.data[x],L=n[x];qh(x),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&OC(R,L)}}finally{ya(-1),qh(m)}}(t,n,e))}function ym(t,n,e=Do){const i=n.localNames;if(null!==i){let a=n.index+1;for(let d=0;d<i.length;d+=2){const h=i[d+1],m=-1===h?e(n,t):t[h];t[a++]=m}}}function Bp(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Hp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Hp(t,n,e,i,a,d,h,m,x,R){const L=20+i,W=L+a,X=function SC(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:hn);return e}(L,W),re="function"==typeof R?R():R;return X[1]={type:t,blueprint:X,template:e,queries:null,viewQuery:m,declTNode:n,data:X.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:x,consts:re,incompleteFirstPass:!1}}function Cm(t,n,e,i){const a=Em(n);null===e?a.push(i):(a.push(e),t.firstCreatePass&&HC(t).push(i,a.length-1))}function Ed(t,n,e){for(let i in t)if(t.hasOwnProperty(i)){const a=t[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(n,a):e[i]=[n,a]}return e}function xr(t,n,e,i,a,d,h,m){const x=Do(n,e);let L,R=n.inputs;!m&&null!=R&&(L=R[i])?($C(t,e,L,i,a),Yu(n)&&function AC(t,n){const e=Ao(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(i=function FS(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),a=null!=h?h(a,n.value||"",i):a,ti(d)?d.setProperty(x,i,a):Dg(i)||(x.setProperty?x.setProperty(i,a):x[i]=a))}function Ad(t,n,e,i){let a=!1;if(Kv()){const d=function PC(t,n,e){const i=t.directiveRegistry;let a=null;if(i)for(let d=0;d<i.length;d++){const h=i[d];pC(e,h.selectors,!1)&&(a||(a=[]),rp(Lc(e,n),t,h.type),qo(h)?(IC(t,e),a.unshift(h)):a.push(h))}return a}(t,n,e),h=null===i?null:{"":-1};if(null!==d){a=!0,NC(e,t.data.length,d.length);for(let L=0;L<d.length;L++){const W=d[L];W.providersResolver&&W.providersResolver(W)}let m=!1,x=!1,R=ru(t,n,d.length,null);for(let L=0;L<d.length;L++){const W=d[L];e.mergedAttrs=ep(e.mergedAttrs,W.hostAttrs),wm(t,e,n,R,W),MC(R,W,h),null!==W.contentQueries&&(e.flags|=8),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(e.flags|=128);const X=W.type.prototype;!m&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),m=!0),!x&&(X.ngOnChanges||X.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),x=!0),R++}!function DC(t,n){const i=n.directiveEnd,a=t.data,d=n.attrs,h=[];let m=null,x=null;for(let R=n.directiveStart;R<i;R++){const L=a[R],W=L.inputs,X=null===d||hC(n)?null:kd(W,d);h.push(X),m=Ed(W,R,m),x=Ed(L.outputs,R,x)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=h,n.inputs=m,n.outputs=x}(t,e)}h&&function nl(t,n,e){if(n){const i=t.localNames=[];for(let a=0;a<n.length;a+=2){const d=e[n[a+1]];if(null==d)throw new $t(-301,!1);i.push(n[a],d)}}}(e,i,h)}return e.mergedAttrs=ep(e.mergedAttrs,e.attrs),a}function RC(t,n,e,i,a,d){const h=d.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const x=~n.index;(function jp(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(m)!=x&&m.push(x),m.push(i,a,h)}}function OC(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function IC(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function MC(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;qo(n)&&(e[""]=t)}}function NC(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function wm(t,n,e,i,a){t.data[i]=a;const d=a.factory||(a.factory=Ol(a.type)),h=new ba(d,qo(a),null);t.blueprint[i]=h,e[i]=h,RC(t,n,0,i,ru(t,e,a.hostVars,hn),a)}function FC(t,n,e){const i=Do(n,t),a=Bp(e),d=t[10],h=Od(t,Td(t,a,null,e.onPush?64:16,i,n,d,d.createRenderer(i,e),null,null));t[n.index]=h}function Qs(t,n,e,i,a,d){const h=Do(t,n);!function xm(t,n,e,i,a,d,h){if(null==d)ti(t)?t.removeAttribute(n,a,e):n.removeAttribute(a);else{const m=null==h?xn(d):h(d,i||"",a);ti(t)?t.setAttribute(n,a,m,e):e?n.setAttributeNS(e,a,m):n.setAttribute(a,m)}}(n[11],h,d,t.value,e,i,a)}function GS(t,n,e,i,a,d){const h=d[n];if(null!==h){const m=i.setInput;for(let x=0;x<h.length;){const R=h[x++],L=h[x++],W=h[x++];null!==m?i.setInput(e,W,R,L):e[L]=W}}}function kd(t,n){let e=null,i=0;for(;i<n.length;){const a=n[i];if(0!==a)if(5!==a){if("number"==typeof a)break;t.hasOwnProperty(a)&&(null===e&&(e=[]),e.push(a,t[a],n[i+1])),i+=2}else i+=2;else i+=4}return e}function Rd(t,n,e,i){return new Array(t,!0,!1,n,null,0,i,e,null,null)}function BS(t,n){const e=Ao(n,t);if(vg(e)){const i=e[1];80&e[2]?Xl(i,e,i.template,e[8]):e[5]>0&&Sm(e)}}function Sm(t){for(let i=nm(t);null!==i;i=fd(i))for(let a=10;a<i.length;a++){const d=i[a];if(1024&d[2]){const h=d[1];Xl(h,d,h.template,d[8])}else d[5]>0&&Sm(d)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const a=Ao(e[i],t);vg(a)&&a[5]>0&&Sm(a)}}function GC(t,n){const e=Ao(n,t),i=e[1];(function HS(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),ou(i,e,e[8])}function Od(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function il(t){for(;t;){t[2]|=64;const n=Zc(t);if(Nv(t)&&!n)return t;t=n}return null}function Tm(t,n,e){const i=n[10];i.begin&&i.begin();try{Xl(t,n,t.template,e)}catch(a){throw jC(n,a),a}finally{i.end&&i.end()}}function BC(t){!function uo(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],i=Qg(e),a=i[1];IS(a,i,a.template,e)}}(t[8])}function Ql(t,n,e){Qu(0),n(t,e)}const WS=(()=>Promise.resolve(null))();function Em(t){return t[7]||(t[7]=[])}function HC(t){return t.cleanup||(t.cleanup=[])}function jC(t,n){const e=t[9],i=e?e.get(ys,null):null;i&&i.handleError(n)}function $C(t,n,e,i,a){for(let d=0;d<e.length;){const h=e[d++],m=e[d++],x=n[h],R=t.data[h];null!==R.setInput?R.setInput(x,a,i,m):x[m]=a}}function Ta(t,n,e){const i=Pl(n,t);!function im(t,n,e){ti(t)?t.setValue(n,e):n.textContent=e}(t[11],i,e)}function Id(t,n,e){let i=e?t.styles:null,a=e?t.classes:null,d=0;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?d=m:1==d?a=tg(a,m):2==d&&(i=tg(i,m+": "+n[++h]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=a:t.classesWithoutHost=a}const Dm=new Zt("INJECTOR",-1);class au{get(n,e=Uc){if(e===Uc){const i=new Error(`NullInjectorError: No provider for ${ci(n)}!`);throw i.name="NullInjectorError",i}return e}}const Am=new Zt("Set Injector scope."),lu={},YS={};let ol;function WC(){return void 0===ol&&(ol=new au),ol}function km(t,n=null,e=null,i){const a=$p(t,n,e,i);return a._resolveInjectorDefTypes(),a}function $p(t,n=null,e=null,i){return new UC(t,e,n||WC(),i)}class UC{constructor(n,e,i,a=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];e&&zs(e,m=>this.processProvider(m,n,e)),zs([n],m=>this.processInjectorType(m,[],d)),this.records.set(Dm,Zl(void 0,this));const h=this.records.get(Am);this.scope=null!=h?h.value:null,this.source=a||("object"==typeof n?null:ci(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=Uc,i=pn.Default){this.assertNotDestroyed();const a=Cy(this),d=Ls(void 0);try{if(!(i&pn.SkipSelf)){let m=this.records.get(n);if(void 0===m){const x=function XS(t){return"function"==typeof t||"object"==typeof t&&t instanceof Zt}(n)&&ng(n);m=x&&this.injectableDefInScope(x)?Zl(Rm(n),lu):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(i&pn.Self?WC():this.parent).get(n,e=i&pn.Optional&&e===Uc?null:e)}catch(h){if("NullInjectorError"===h.name){if((h[up]=h[up]||[]).unshift(ci(n)),a)throw h;return function Bl(t,n,e,i){const a=t[up];throw n[yy]&&a.unshift(n[yy]),t.message=function wy(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let a=ci(n);if(Array.isArray(n))a=n.map(ci).join(" -> ");else if("object"==typeof n){let d=[];for(let h in n)if(n.hasOwnProperty(h)){let m=n[h];d.push(h+":"+("string"==typeof m?JSON.stringify(m):ci(m)))}a=`{${d.join(", ")}}`}return`${e}${i?"("+i+")":""}[${a}]: ${t.replace(Lg,"\n  ")}`}("\n"+t.message,a,e,i),t.ngTokenPath=a,t[up]=null,t}(h,n,"R3InjectorError",this.source)}throw h}finally{Ls(d),Cy(a)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((i,a)=>n.push(ci(a))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $t(205,!1)}processInjectorType(n,e,i){if(!(n=En(n)))return!1;let a=ig(n);const d=null==a&&n.ngModule||void 0,h=void 0===d?n:d,m=-1!==i.indexOf(h);if(void 0!==d&&(a=ig(d)),null==a)return!1;if(null!=a.imports&&!m){let L;i.push(h);try{zs(a.imports,W=>{this.processInjectorType(W,e,i)&&(void 0===L&&(L=[]),L.push(W))})}finally{}if(void 0!==L)for(let W=0;W<L.length;W++){const{ngModule:X,providers:re}=L[W];zs(re,ge=>this.processProvider(ge,X,re||gi))}}this.injectorDefTypes.add(h);const x=Ol(h)||(()=>new h);this.records.set(h,Zl(x,lu));const R=a.providers;if(null!=R&&!m){const L=n;zs(R,W=>this.processProvider(W,L,R))}return void 0!==d&&void 0!==n.providers}processProvider(n,e,i){let a=cu(n=En(n))?n:En(n&&n.provide);const d=function zC(t,n,e){return KC(t)?Zl(void 0,t.useValue):Zl(YC(t),lu)}(n);if(cu(n)||!0!==n.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Zl(void 0,lu,!0),h.factory=()=>qa(h.multi),this.records.set(a,h)),a=n,h.multi.push(n)}this.records.set(a,d)}hydrate(n,e){return e.value===lu&&(e.value=YS,e.value=e.factory()),"object"==typeof e.value&&e.value&&function QC(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=En(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Rm(t){const n=ng(t),e=null!==n?n.factory:Ol(t);if(null!==e)return e;if(t instanceof Zt)throw new $t(204,!1);if(t instanceof Function)return function Nd(t){const n=t.length;if(n>0)throw $c(n,"?"),new $t(204,!1);const e=function Ov(t){const n=t&&(t[Mh]||t[Nh]);if(n){const e=function xc(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new $t(204,!1)}function YC(t,n,e){let i;if(cu(t)){const a=En(t);return Ol(a)||Rm(a)}if(KC(t))i=()=>En(t.useValue);else if(function KS(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...qa(t.deps||[]));else if(function qC(t){return!(!t||!t.useExisting)}(t))i=()=>Qe(En(t.useExisting));else{const a=En(t&&(t.useClass||t.provide));if(!function qS(t){return!!t.deps}(t))return Ol(a)||Rm(a);i=()=>new a(...qa(t.deps))}return i}function Zl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function KC(t){return null!==t&&"object"==typeof t&&C1 in t}function cu(t){return"function"==typeof t}let Ri=(()=>{class t{static create(e,i){var a;if(Array.isArray(e))return km({name:""},i,e,"");{const d=null!==(a=e.name)&&void 0!==a?a:"";return km({name:d},e.parent,e.providers,d)}}}return t.THROW_IF_NOT_FOUND=Uc,t.NULL=new au,t.\u0275prov=xt({token:t,providedIn:"any",factory:()=>Qe(Dm)}),t.__NG_ELEMENT_ID__=-1,t})();function tT(t,n){$s(Qg(t)[1],zi())}function On(t){let n=function Fm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let a;if(qo(t))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new $t(903,"");a=n.\u0275dir}if(a){if(e){i.push(a);const h=t;h.inputs=Vd(t.inputs),h.declaredInputs=Vd(t.declaredInputs),h.outputs=Vd(t.outputs);const m=a.hostBindings;m&&a0(t,m);const x=a.viewQuery,R=a.contentQueries;if(x&&iT(t,x),R&&rT(t,R),eg(t.inputs,a.inputs),eg(t.declaredInputs,a.declaredInputs),eg(t.outputs,a.outputs),qo(a)&&a.data.animation){const L=t.data;L.animation=(L.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let h=0;h<d.length;h++){const m=d[h];m&&m.ngInherit&&m(t),m===On&&(e=!1)}}n=Object.getPrototypeOf(n)}!function nT(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const a=t[i];a.hostVars=n+=a.hostVars,a.hostAttrs=ep(a.hostAttrs,e=ep(e,a.hostAttrs))}}(i)}function Vd(t){return t===El?{}:t===gi?[]:t}function iT(t,n){const e=t.viewQuery;t.viewQuery=e?(i,a)=>{n(i,a),e(i,a)}:n}function rT(t,n){const e=t.contentQueries;t.contentQueries=e?(i,a,d)=>{n(i,a,d),e(i,a,d)}:n}function a0(t,n){const e=t.hostBindings;t.hostBindings=e?(i,a)=>{n(i,a),e(i,a)}:n}let du=null;function hu(){if(!du){const t=ui.Symbol;if(t&&t.iterator)du=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const i=n[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(du=i)}}}return du}function Ea(t){return!!function pu(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&hu()in t)}function Zs(t,n,e){return t[n]=e}function Nr(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function al(t,n,e,i){const a=Nr(t,n,e);return Nr(t,n+1,i)||a}function kt(t,n,e,i){const a=lt();return Nr(a,za(),n)&&(Wn(),Qs(Gi(),a,t,n,e,i)),kt}function gu(t,n,e,i){return Nr(t,za(),e)?n+xn(e)+i:hn}function Ts(t,n,e,i,a,d){const m=al(t,function va(){return mn.lFrame.bindingIndex}(),e,a);return js(2),m?n+xn(e)+i+xn(a)+d:hn}function ie(t,n,e,i,a,d,h,m){const x=lt(),R=Wn(),L=t+20,W=R.firstCreatePass?function aT(t,n,e,i,a,d,h,m,x){const R=n.consts,L=Xs(n,t,4,h||null,Hs(R,m));Ad(n,e,L,Hs(R,x)),$s(n,L);const W=L.tViews=Hp(2,L,i,a,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,R);return null!==n.queries&&(n.queries.template(n,L),W.queries=n.queries.embeddedTView(L)),L}(L,R,x,n,e,i,a,d,h):R.data[L];ln(W,!1);const X=x[11].createComment("");wp(R,x,X,W),Ki(X,x),Od(x,x[L]=Rd(X,x,X,W)),ar(W)&&Gp(R,x,W),null!=h&&ym(x,W,m)}function qi(t){return function Ua(t,n){return t[n]}(function Qx(){return mn.lFrame.contextLView}(),20+t)}function Ce(t,n=pn.Default){const e=lt();return null===e?Qe(t,n):cy(zi(),e,En(t),n)}function Km(){throw new Error("invalid")}function U(t,n,e){const i=lt();return Nr(i,za(),n)&&xr(Wn(),Gi(),i,t,n,i[11],e,!1),U}function qm(t,n,e,i,a){const h=a?"class":"style";$C(t,e,n.inputs[h],h,i)}function M(t,n,e,i){const a=lt(),d=Wn(),h=20+t,m=a[11],x=a[h]=bp(m,n,function Ca(){return mn.lFrame.currentNamespace}()),R=d.firstCreatePass?function CT(t,n,e,i,a,d,h){const m=n.consts,R=Xs(n,t,2,a,Hs(m,d));return Ad(n,e,R,Hs(m,h)),null!==R.attrs&&Id(R,R.attrs,!1),null!==R.mergedAttrs&&Id(R,R.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,R),R}(h,d,a,0,n,e,i):d.data[h];ln(R,!0);const L=R.mergedAttrs;null!==L&&Jh(m,x,L);const W=R.classes;null!==W&&eu(m,x,W);const X=R.styles;return null!==X&&cC(m,x,X),64!=(64&R.flags)&&wp(d,a,x,R),0===function Il(){return mn.lFrame.elementDepthCount}()&&Ki(x,a),function oo(){mn.lFrame.elementDepthCount++}(),ar(R)&&(Gp(d,a,R),xC(d,R,a)),null!==i&&ym(a,R),M}function N(){let t=zi();Cg()?ct():(t=t.parent,ln(t,!1));const n=t;!function qx(){mn.lFrame.elementDepthCount--}();const e=Wn();return e.firstCreatePass&&($s(e,t),_a(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function iy(t){return 0!=(16&t.flags)}(n)&&qm(e,n,lt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function r1(t){return 0!=(32&t.flags)}(n)&&qm(e,n,lt(),n.stylesWithoutHost,!1),N}function _e(t,n,e,i){return M(t,n,e,i),N(),_e}function Tr(t,n,e){const i=lt(),a=Wn(),d=t+20,h=a.firstCreatePass?function wT(t,n,e,i,a){const d=n.consts,h=Hs(d,i),m=Xs(n,t,8,"ng-container",h);return null!==h&&Id(m,h,!0),Ad(n,e,m,Hs(d,a)),null!==n.queries&&n.queries.elementStart(n,m),m}(d,a,i,n,e):a.data[d];ln(h,!0);const m=i[d]=i[11].createComment("");return wp(a,i,m,h),Ki(m,i),ar(h)&&(Gp(a,i,h),xC(a,h,i)),null!=e&&ym(i,h),Tr}function Hi(){let t=zi();const n=Wn();return Cg()?ct():(t=t.parent,ln(t,!1)),n.firstCreatePass&&($s(n,t),_a(t)&&n.queries.elementEnd(t)),Hi}function Tt(){return lt()}function $d(t){return!!t&&"function"==typeof t.then}const Wd=function D0(t){return!!t&&"function"==typeof t.subscribe};function Ve(t,n,e,i){const a=lt(),d=Wn(),h=zi();return function k0(t,n,e,i,a,d,h,m){const x=ar(i),L=t.firstCreatePass&&HC(t),W=n[8],X=Em(n);let re=!0;if(3&i.type||m){const ve=Do(i,n),De=m?m(ve):ve,Ee=X.length,Me=m?He=>m(tr(He[i.index])):i.index;if(ti(e)){let He=null;if(!m&&x&&(He=function Qp(t,n,e,i){const a=t.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const h=a[d];if(h===e&&a[d+1]===i){const m=n[7],x=a[d+2];return m.length>x?m[x]:null}"string"==typeof h&&(d+=2)}return null}(t,n,a,i.index)),null!==He)(He.__ngLastListenerFn__||He).__ngNextListenerFn__=d,He.__ngLastListenerFn__=d,re=!1;else{d=Xm(i,n,W,d,!1);const Ye=e.listen(De,a,d);X.push(d,Ye),L&&L.push(a,Me,Ee,Ee+1)}}else d=Xm(i,n,W,d,!0),De.addEventListener(a,d,h),X.push(d),L&&L.push(a,Me,Ee,h)}else d=Xm(i,n,W,d,!1);const ge=i.outputs;let be;if(re&&null!==ge&&(be=ge[a])){const ve=be.length;if(ve)for(let De=0;De<ve;De+=2){const et=n[be[De]][be[De+1]].subscribe(d),Dt=X.length;X.push(d,et),L&&L.push(a,i.index,Dt,-(Dt+1))}}}(d,a,a[11],h,t,n,!!e,i),Ve}function R0(t,n,e,i){try{return!1!==e(i)}catch(a){return jC(t,a),!1}}function Xm(t,n,e,i,a){return function d(h){if(h===Function)return i;const m=2&t.flags?Ao(t.index,n):n;0==(32&n[2])&&il(m);let x=R0(n,0,i,h),R=d.__ngNextListenerFn__;for(;R;)x=R0(n,0,R,h)&&x,R=R.__ngNextListenerFn__;return a&&!1===x&&(h.preventDefault(),h.returnValue=!1),x}}function ae(t=1){return function ey(t){return(mn.lFrame.contextLView=function e1(t,n){for(;t>0;)n=n[15],t--;return n}(t,mn.lFrame.contextLView))[8]}(t)}function xT(t,n){let e=null;const i=function fS(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let a=0;a<n.length;a++){const d=n[a];if("*"!==d){if(null===i?pC(t,d,!0):gS(i,d))return a}else e=a}return e}function Ud(t){const n=lt()[16][6];if(!n.projection){const i=n.projection=$c(t?t.length:1,null),a=i.slice();let d=n.child;for(;null!==d;){const h=t?xT(d,t):0;null!==h&&(a[h]?a[h].projectionNext=d:i[h]=d,a[h]=d),d=d.next}}}function bu(t,n=0,e){const i=lt(),a=Wn(),d=Xs(a,20+t,16,null,e||null);null===d.projection&&(d.projection=n),ct(),64!=(64&d.flags)&&function dm(t,n,e){lC(n[11],0,n,e,rC(t,e,n),Ja(e.parent||n[6],e,n))}(a,i,d)}function qn(t,n,e){return ts(t,"",n,"",e),qn}function ts(t,n,e,i,a){const d=lt(),h=gu(d,n,e,i);return h!==hn&&xr(Wn(),Gi(),d,t,h,d[11],a,!1),ts}function F0(t,n,e,i,a){const d=t[e+1],h=null===n;let m=i?Io(d):qs(d),x=!1;for(;0!==m&&(!1===x||h);){const L=t[m+1];TT(t[m],n)&&(x=!0,t[m+1]=i?kp(L):el(L)),m=i?Io(L):qs(L)}x&&(t[e+1]=i?el(d):kp(d))}function TT(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Wc(t,n)>=0}const cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function L0(t){return t.substring(cr.key,cr.keyEnd)}function u(t){return t.substring(cr.value,cr.valueEnd)}function r(t,n){const e=cr.textEnd;return e===n?-1:(n=cr.keyEnd=function v(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,cr.key=n,e),p(t,n,e))}function l(t,n){const e=cr.textEnd;let i=cr.key=p(t,n,e);return e===i?-1:(i=cr.keyEnd=function F(t,n,e){let i;for(;n<e&&(45===(i=t.charCodeAt(n))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)n++;return n}(t,i,e),i=B(t,i,e),i=cr.value=p(t,i,e),i=cr.valueEnd=function q(t,n,e){let i=-1,a=-1,d=-1,h=n,m=h;for(;h<e;){const x=t.charCodeAt(h++);if(59===x)return m;34===x||39===x?m=h=se(t,x,h,e):n===h-4&&85===d&&82===a&&76===i&&40===x?m=h=se(t,41,h,e):x>32&&(m=h),d=a,a=i,i=-33&x}return m}(t,i,e),B(t,i,e))}function c(t){cr.key=0,cr.keyEnd=0,cr.value=0,cr.valueEnd=0,cr.textEnd=t.length}function p(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function B(t,n,e,i){return(n=p(t,n,e))<e&&n++,n}function se(t,n,e,i){let a=-1,d=e;for(;d<i;){const h=t.charCodeAt(d++);if(h==n&&92!==a)return d;a=92==h&&92===a?0:h}throw new Error}function we(t,n,e){return Ze(t,n,e,!1),we}function xe(t,n){return Ze(t,n,null,!0),xe}function Pe(t){gt(ns,Be,t,!1)}function Be(t,n){for(let e=function s(t){return c(t),l(t,p(t,0,cr.textEnd))}(n);e>=0;e=l(n,e))ns(t,L0(n),u(n))}function We(t){gt(Ro,Ue,t,!0)}function Ue(t,n){for(let e=function o(t){return c(t),r(t,p(t,0,cr.textEnd))}(n);e>=0;e=r(n,e))Ro(t,L0(n),!0)}function Ze(t,n,e,i){const a=lt(),d=Wn(),h=js(2);d.firstUpdatePass&&Sn(d,t,h,i),n!==hn&&Nr(a,h,n)&&tc(d,d.data[Yr()],a,a[11],t,a[h+1]=function ET(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ci(Po(t)))),t}(n,e),i,h)}function gt(t,n,e,i){const a=Wn(),d=js(2);a.firstUpdatePass&&Sn(a,null,d,i);const h=lt();if(e!==hn&&Nr(h,d,e)){const m=a.data[Yr()];if(FR(m,i)&&!Ut(a,d)){let x=i?m.classesWithoutHost:m.stylesWithoutHost;null!==x&&(e=tg(x,e||"")),qm(a,m,h,e,i)}else!function Mo(t,n,e,i,a,d,h,m){a===hn&&(a=gi);let x=0,R=0,L=0<a.length?a[0]:null,W=0<d.length?d[0]:null;for(;null!==L||null!==W;){const X=x<a.length?a[x+1]:void 0,re=R<d.length?d[R+1]:void 0;let be,ge=null;L===W?(x+=2,R+=2,X!==re&&(ge=W,be=re)):null===W||null!==L&&L<W?(x+=2,ge=L):(R+=2,ge=W,be=re),null!==ge&&tc(t,n,e,i,ge,be,h,m),L=x<a.length?a[x]:null,W=R<d.length?d[R]:null}}(a,m,h,h[11],h[d+1],h[d+1]=function Es(t,n,e){if(null==e||""===e)return gi;const i=[],a=Po(e);if(Array.isArray(a))for(let d=0;d<a.length;d++)t(i,a[d],!0);else if("object"==typeof a)for(const d in a)a.hasOwnProperty(d)&&t(i,d,a[d]);else"string"==typeof a&&n(i,a);return i}(t,n,e),i,d)}}function Ut(t,n){return n>=t.expandoStartIndex}function Sn(t,n,e,i){const a=t.data;if(null===a[e+1]){const d=a[Yr()],h=Ut(t,e);FR(d,i)&&null===n&&!h&&(n=!1),n=function An(t,n,e,i){const a=fs(t);let d=i?n.residualClasses:n.residualStyles;if(null===a)0===(i?n.classBindings:n.styleBindings)&&(e=Si(e=Ii(null,t,n,e,i),n.attrs,i),d=null);else{const h=n.directiveStylingLast;if(-1===h||t[h]!==a)if(e=Ii(a,t,n,e,i),null===d){let x=function Yt(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==qs(i))return t[Io(i)]}(t,n,i);void 0!==x&&Array.isArray(x)&&(x=Ii(null,t,n,x[1],i),x=Si(x,n.attrs,i),function Mn(t,n,e,i){t[Io(e?n.classBindings:n.styleBindings)]=i}(t,n,i,x))}else d=function Nn(t,n,e){let i;const a=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<a;d++)i=Si(i,t[d].hostAttrs,e);return Si(i,n.attrs,e)}(t,n,i)}return void 0!==d&&(i?n.residualClasses=d:n.residualStyles=d),e}(a,d,n,i),function N0(t,n,e,i,a,d){let h=d?n.classBindings:n.styleBindings,m=Io(h),x=qs(h);t[i]=e;let L,R=!1;if(Array.isArray(e)){const W=e;L=W[1],(null===L||Wc(W,L)>0)&&(R=!0)}else L=e;if(a)if(0!==x){const X=Io(t[m+1]);t[i+1]=Ap(X,m),0!==X&&(t[X+1]=pm(t[X+1],i)),t[m+1]=function vS(t,n){return 131071&t|n<<17}(t[m+1],i)}else t[i+1]=Ap(m,0),0!==m&&(t[m+1]=pm(t[m+1],i)),m=i;else t[i+1]=Ap(x,0),0===m?m=i:t[x+1]=pm(t[x+1],i),x=i;R&&(t[i+1]=el(t[i+1])),F0(t,L,i,!0),F0(t,L,i,!1),function Zp(t,n,e,i,a){const d=a?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof n&&Wc(d,n)>=0&&(e[i+1]=kp(e[i+1]))}(n,L,t,i,d),h=Ap(m,x),d?n.classBindings=h:n.styleBindings=h}(a,d,n,e,h,i)}}function Ii(t,n,e,i,a){let d=null;const h=e.directiveEnd;let m=e.directiveStylingLast;for(-1===m?m=e.directiveStart:m++;m<h&&(d=n[m],i=Si(i,d.hostAttrs,a),d!==t);)m++;return null!==t&&(e.directiveStylingLast=m),i}function Si(t,n,e){const i=e?1:2;let a=-1;if(null!==n)for(let d=0;d<n.length;d++){const h=n[d];"number"==typeof h?a=h:a===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ro(t,h,!!e||n[++d]))}return void 0===t?null:t}function ns(t,n,e){Ro(t,n,Po(e))}function tc(t,n,e,i,a,d,h,m){if(!(3&n.type))return;const x=t.data,R=x[m+1];zd(function wd(t){return 1==(1&t)}(R)?cl(x,n,e,a,qs(R),h):void 0)||(zd(d)||function bd(t){return 2==(2&t)}(R)&&(d=cl(x,null,e,a,m,h)),function Jc(t,n,e,i,a){const d=ti(t);if(n)a?d?t.addClass(e,i):e.classList.add(i):d?t.removeClass(e,i):e.classList.remove(i);else{let h=-1===i.indexOf("-")?void 0:co.DashCase;if(null==a)d?t.removeStyle(e,i,h):e.style.removeProperty(i);else{const m="string"==typeof a&&a.endsWith("!important");m&&(a=a.slice(0,-10),h|=co.Important),d?t.setStyle(e,i,a,h):e.style.setProperty(i,a,m?"important":"")}}}(i,h,Pl(Yr(),e),a,d))}function cl(t,n,e,i,a,d){const h=null===n;let m;for(;a>0;){const x=t[a],R=Array.isArray(x),L=R?x[1]:x,W=null===L;let X=e[a+1];X===hn&&(X=W?gi:void 0);let re=W?Mg(X,i):L===i?X:void 0;if(R&&!zd(re)&&(re=Mg(x,i)),zd(re)&&(m=re,h))return m;const ge=t[a+1];a=h?Io(ge):qs(ge)}if(null!==n){let x=d?n.residualClasses:n.residualStyles;null!=x&&(m=Mg(x,i))}return m}function zd(t){return void 0!==t}function FR(t,n){return 0!=(t.flags&(n?16:32))}function K(t,n=""){const e=lt(),i=Wn(),a=t+20,d=i.firstCreatePass?Xs(i,a,1,n,null):i.data[a],h=e[a]=function Cp(t,n){return ti(t)?t.createText(n):t.createTextNode(n)}(e[11],n);wp(i,e,h,d),ln(d,!1)}function Gt(t){return it("",t,""),Gt}function it(t,n,e){const i=lt(),a=gu(i,t,n,e);return a!==hn&&Ta(i,Yr(),a),it}function Li(t,n,e,i,a){const d=lt(),h=Ts(d,t,n,e,i,a);return h!==hn&&Ta(d,Yr(),h),Li}function dt(t,n,e){gt(Ro,Ue,gu(lt(),t,n,e),!0)}function nc(t,n,e){const i=lt();return Nr(i,za(),n)&&xr(Wn(),Gi(),i,t,n,i[11],e,!0),nc}function DT(t,n,e){const i=lt();if(Nr(i,za(),n)){const d=Wn(),h=Gi();xr(d,h,i,t,n,function Pd(t,n,e){return(null===t||qo(t))&&(e=function Ux(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[n.index])),e[11]}(fs(d.data),h,i),e,!0)}return DT}const Yd=void 0;var VB=["en",[["a","p"],["AM","PM"],Yd],[["AM","PM"],Yd,Yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yd,"{1} 'at' {0}",Yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LB(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Jp={};function No(t){const n=function GB(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=eO(n);if(e)return e;const i=n.split("-")[0];if(e=eO(i),e)return e;if("en"===i)return VB;throw new Error(`Missing locale data for the locale "${t}".`)}function eO(t){return t in Jp||(Jp[t]=ui.ng&&ui.ng.common&&ui.ng.common.locales&&ui.ng.common.locales[t]),Jp[t]}var Bt=(()=>((Bt=Bt||{})[Bt.LocaleId=0]="LocaleId",Bt[Bt.DayPeriodsFormat=1]="DayPeriodsFormat",Bt[Bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bt[Bt.DaysFormat=3]="DaysFormat",Bt[Bt.DaysStandalone=4]="DaysStandalone",Bt[Bt.MonthsFormat=5]="MonthsFormat",Bt[Bt.MonthsStandalone=6]="MonthsStandalone",Bt[Bt.Eras=7]="Eras",Bt[Bt.FirstDayOfWeek=8]="FirstDayOfWeek",Bt[Bt.WeekendRange=9]="WeekendRange",Bt[Bt.DateFormat=10]="DateFormat",Bt[Bt.TimeFormat=11]="TimeFormat",Bt[Bt.DateTimeFormat=12]="DateTimeFormat",Bt[Bt.NumberSymbols=13]="NumberSymbols",Bt[Bt.NumberFormats=14]="NumberFormats",Bt[Bt.CurrencyCode=15]="CurrencyCode",Bt[Bt.CurrencySymbol=16]="CurrencySymbol",Bt[Bt.CurrencyName=17]="CurrencyName",Bt[Bt.Currencies=18]="Currencies",Bt[Bt.Directionality=19]="Directionality",Bt[Bt.PluralCase=20]="PluralCase",Bt[Bt.ExtraData=21]="ExtraData",Bt))();const V0="en-US";let tO=V0;function OT(t,n,e,i,a){if(t=En(t),Array.isArray(t))for(let d=0;d<t.length;d++)OT(t[d],n,e,i,a);else{const d=Wn(),h=lt();let m=cu(t)?t:En(t.provide),x=YC(t);const R=zi(),L=1048575&R.providerIndexes,W=R.directiveStart,X=R.providerIndexes>>20;if(cu(t)||!t.multi){const re=new ba(x,a,Ce),ge=IT(m,n,a?L:L+X,W);-1===ge?(rp(Lc(R,h),d,m),PT(d,t,n.length),n.push(m),R.directiveStart++,R.directiveEnd++,a&&(R.providerIndexes+=1048576),e.push(re),h.push(re)):(e[ge]=re,h[ge]=re)}else{const re=IT(m,n,L+X,W),ge=IT(m,n,L,L+X),be=re>=0&&e[re],ve=ge>=0&&e[ge];if(a&&!ve||!a&&!be){rp(Lc(R,h),d,m);const De=function F3(t,n,e,i,a){const d=new ba(t,e,Ce);return d.multi=[],d.index=n,d.componentProviders=0,TO(d,a,i&&!e),d}(a?N3:M3,e.length,a,i,x);!a&&ve&&(e[ge].providerFactory=De),PT(d,t,n.length,0),n.push(m),R.directiveStart++,R.directiveEnd++,a&&(R.providerIndexes+=1048576),e.push(De),h.push(De)}else PT(d,t,re>-1?re:ge,TO(e[a?ge:re],x,!a&&i));!a&&i&&ve&&e[ge].componentProviders++}}}function PT(t,n,e,i){const a=cu(n),d=function XC(t){return!!t.useClass}(n);if(a||d){const x=(d?En(n.useClass):n).prototype.ngOnDestroy;if(x){const R=t.destroyHooks||(t.destroyHooks=[]);if(!a&&n.multi){const L=R.indexOf(e);-1===L?R.push(e,[i,x]):R[L+1].push(i,x)}else R.push(e,x)}}}function TO(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function IT(t,n,e,i){for(let a=e;a<i;a++)if(n[a]===t)return a;return-1}function M3(t,n,e,i){return MT(this.multi,[])}function N3(t,n,e,i){const a=this.multi;let d;if(this.providerFactory){const h=this.providerFactory.componentProviders,m=td(e,e[1],this.providerFactory.index,i);d=m.slice(0,h),MT(a,d);for(let x=h;x<m.length;x++)d.push(m[x])}else d=[],MT(a,d);return d}function MT(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function si(t,n=[]){return e=>{e.providersResolver=(i,a)=>function I3(t,n,e){const i=Wn();if(i.firstCreatePass){const a=qo(t);OT(e,i.data,i.blueprint,a,!0),OT(n,i.data,i.blueprint,a,!1)}}(i,a?a(t):t,n)}}class EO{}class G3{resolveComponentFactory(n){throw function V3(t){const n=Error(`No component factory found for ${ci(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ul=(()=>{class t{}return t.NULL=new G3,t})();function B3(){return tf(zi(),lt())}function tf(t,n){return new Bn(Do(t,n))}let Bn=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=B3,t})();function H3(t){return t instanceof Bn?t.nativeElement:t}class nf{}let Fo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function $3(){const t=lt(),e=Ao(zi().index,t);return function j3(t){return t[11]}(Gs(e)?e:t)}(),t})(),W3=(()=>{class t{}return t.\u0275prov=xt({token:t,providedIn:"root",factory:()=>null}),t})();class i_{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const U3=new i_("13.2.7"),NT={};function $0(t,n,e,i,a=!1){for(;null!==e;){const d=n[e.index];if(null!==d&&i.push(tr(d)),mi(d))for(let m=10;m<d.length;m++){const x=d[m],R=x[1].firstChild;null!==R&&$0(x[1],x,R,i)}const h=e.type;if(8&h)$0(t,n,e.child,i);else if(32&h){const m=tm(e,n);let x;for(;x=m();)i.push(x)}else if(16&h){const m=xp(n,e);if(Array.isArray(m))i.push(...m);else{const x=Zc(n[16]);$0(x[1],x,m,i,!0)}}e=a?e.projectionNext:e.next}return i}class r_{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return $0(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(mi(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(_d(n,i),Ka(e,i))}this._attachedToViewContainer=!1}iC(this._lView[1],this._lView)}onDestroy(n){Cm(this._lView[1],this._lView,null,n)}markForCheck(){il(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function su(t,n,e){Kh(!0);try{Tm(t,n,e)}finally{Kh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new $t(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tC(t,n){Cd(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new $t(902,"");this._appRef=n}}class z3 extends r_{constructor(n){super(n),this._view=n}detectChanges(){BC(this._view)}checkNoChanges(){!function $S(t){Kh(!0);try{BC(t)}finally{Kh(!1)}}(this._view)}get context(){return null}}class AO extends ul{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Or(n);return new FT(e,this.ngModule)}}function kO(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class FT extends EO{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Dp(t){return t.map(mS).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return kO(this.componentDef.inputs)}get outputs(){return kO(this.componentDef.outputs)}create(n,e,i,a){const d=(a=a||this.ngModule)?function K3(t,n){return{get:(e,i,a)=>{const d=t.get(e,NT,a);return d!==NT||i===NT?d:n.get(e,i,a)}}}(n,a.injector):n,h=d.get(nf,Ui),m=d.get(W3,null),x=h.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=i?function EC(t,n,e){if(ti(t))return t.selectRootElement(n,e===To.ShadowDom);let i="string"==typeof n?t.querySelector(n):n;return i.textContent="",i}(x,i,this.componentDef.encapsulation):bp(h.createRenderer(null,this.componentDef),R,function Y3(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(R)),W=this.componentDef.onPush?576:528,X=function Ld(t,n){return{components:[],scheduler:t||Ky,clean:WS,playerHandler:n||null,flags:0}}(),re=Hp(0,null,null,1,0,null,null,null,null,null),ge=Td(null,re,X,W,null,null,h,x,m,d);let be,ve;Xh(ge);try{const De=function Nm(t,n,e,i,a,d){const h=e[1];e[20]=t;const x=Xs(h,20,2,"#host",null),R=x.mergedAttrs=n.hostAttrs;null!==R&&(Id(x,R,!0),null!==t&&(Jh(a,t,R),null!==x.classes&&eu(a,t,x.classes),null!==x.styles&&cC(a,t,x.styles)));const L=i.createRenderer(t,n),W=Td(e,Bp(n),null,n.onPush?64:16,e[20],x,i,L,d||null,null);return h.firstCreatePass&&(rp(Lc(x,e),h,n.type),IC(h,x),NC(x,e.length,1)),Od(e,W),e[20]=W}(L,this.componentDef,ge,h,x);if(L)if(i)Jh(x,L,["ng-version",U3.full]);else{const{attrs:Ee,classes:Me}=function _S(t){const n=[],e=[];let i=1,a=2;for(;i<t.length;){let d=t[i];if("string"==typeof d)2===a?""!==d&&n.push(d,t[++i]):8===a&&e.push(d);else{if(!ws(a))break;a=d}i++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);Ee&&Jh(x,L,Ee),Me&&Me.length>0&&eu(x,L,Me.join(" "))}if(ve=_g(re,20),void 0!==e){const Ee=ve.projection=[];for(let Me=0;Me<this.ngContentSelectors.length;Me++){const He=e[Me];Ee.push(null!=He?Array.from(He):null)}}be=function s0(t,n,e,i,a){const d=e[1],h=function Dd(t,n,e){const i=zi();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),wm(t,i,n,ru(t,n,1,null),e));const a=td(n,t,i.directiveStart,i);Ki(a,n);const d=Do(i,n);return d&&Ki(d,n),a}(d,e,n);if(i.components.push(h),t[8]=h,a&&a.forEach(x=>x(h,n)),n.contentQueries){const x=zi();n.contentQueries(1,h,x.directiveStart)}const m=zi();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(ya(m.index),RC(e[1],m,0,m.directiveStart,m.directiveEnd,n),OC(n,h)),h}(De,this.componentDef,ge,X,[tT]),ou(re,ge,null)}finally{Ml()}return new X3(this.componentType,be,tf(ve,ge),ge,ve)}}class X3 extends class L3{}{constructor(n,e,i,a,d){super(),this.location=i,this._rootLView=a,this._tNode=d,this.instance=e,this.hostView=this.changeDetectorRef=new z3(a),this.componentType=n}get injector(){return new Ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ic{}class RO{}const rf=new Map;class IO extends ic{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AO(this);const i=di(n);this._bootstrapComponents=Cs(i.bootstrap),this._r3Injector=$p(n,e,[{provide:ic,useValue:this},{provide:ul,useValue:this.componentFactoryResolver}],ci(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=Ri.THROW_IF_NOT_FOUND,i=pn.Default){return n===Ri||n===ic||n===Dm?this:this._r3Injector.get(n,e,i)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class LT extends RO{constructor(n){super(),this.moduleType=n,null!==di(n)&&function Z3(t){const n=new Set;!function e(i){const a=di(i,!0),d=a.id;null!==d&&(function OO(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${ci(n)} vs ${ci(n.name)}`)}(d,rf.get(d),i),rf.set(d,i));const h=Cs(a.imports);for(const m of h)n.has(m)||(n.add(m),e(m))}(t)}(n)}create(n){return new IO(this.moduleType,n)}}function ri(t,n,e){const i=Mr()+t,a=lt();return a[i]===hn?Zs(a,i,e?n.call(e):n()):function Gd(t,n){return t[n]}(a,i)}function sf(t,n,e,i){return function MO(t,n,e,i,a,d){const h=n+e;return Nr(t,h,a)?Zs(t,h+1,d?i.call(d,a):i(a)):o_(t,h+1)}(lt(),Mr(),t,n,e,i)}function af(t,n,e,i,a){return function NO(t,n,e,i,a,d,h){const m=n+e;return al(t,m,a,d)?Zs(t,m+2,h?i.call(h,a,d):i(a,d)):o_(t,m+2)}(lt(),Mr(),t,n,e,i,a)}function o_(t,n){const e=t[n];return e===hn?void 0:e}function GT(t){return n=>{setTimeout(t,void 0,n)}}const Ae=class hH extends qe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){var a,d,h;let m=n,x=e||(()=>null),R=i;if(n&&"object"==typeof n){const W=n;m=null===(a=W.next)||void 0===a?void 0:a.bind(W),x=null===(d=W.error)||void 0===d?void 0:d.bind(W),R=null===(h=W.complete)||void 0===h?void 0:h.bind(W)}this.__isAsync&&(x=GT(x),m&&(m=GT(m)),R&&(R=GT(R)));const L=super.subscribe({next:m,error:x,complete:R});return n instanceof D&&n.add(L),L}};function pH(){return this._results[hu()]()}class a_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=hu(),i=a_.prototype;i[e]||(i[e]=pH)}get changes(){return this._changes||(this._changes=new Ae)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const a=Qo(n);(this._changesDetected=!function p1(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let a=t[i],d=n[i];if(e&&(a=e(a),d=e(d)),d!==a)return!1}return!0}(i._results,a,e))&&(i._results=a,i.length=a.length,i.last=a[this.length-1],i.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xi=(()=>{class t{}return t.__NG_ELEMENT_ID__=mH,t})();const fH=Xi,gH=class extends fH{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n){const e=this._declarationTContainer.tViews,i=Td(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(i[19]=d.createEmbeddedView(e)),ou(e,i,n),new r_(i)}};function mH(){return W0(zi(),lt())}function W0(t,n){return 4&t.type?new gH(n,t,tf(t,n)):null}let ho=(()=>{class t{}return t.__NG_ELEMENT_ID__=_H,t})();function _H(){return HO(zi(),lt())}const vH=ho,GO=class extends vH{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return tf(this._hostTNode,this._hostLView)}get injector(){return new Ll(this._hostTNode,this._hostLView)}get parentInjector(){const n=ko(this._hostTNode,this._hostLView);if(tp(n)){const e=wa(n,this._hostLView),i=Nc(n);return new Ll(e[1].data[i+8],e)}return new Ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=BO(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){const a=n.createEmbeddedView(e||{});return this.insert(a,i),a}createComponent(n,e,i,a,d){const h=n&&!function Ya(t){return"function"==typeof t}(n);let m;if(h)m=e;else{const W=e||{};m=W.index,i=W.injector,a=W.projectableNodes,d=W.ngModuleRef}const x=h?n:new FT(Or(n)),R=i||this.parentInjector;if(!d&&null==x.ngModule){const X=(h?R:this.parentInjector).get(ic,null);X&&(d=X)}const L=x.create(R,a,void 0,d);return this.insert(L.hostView,m),L}insert(n,e){const i=n._lView,a=i[1];if(function Kx(t){return mi(t[3])}(i)){const L=this.indexOf(n);if(-1!==L)this.detach(L);else{const W=i[3],X=new GO(W,W[6],W[3]);X.detach(X.indexOf(n))}}const d=this._adjustIndex(e),h=this._lContainer;!function lS(t,n,e,i){const a=10+i,d=e.length;i>0&&(e[a-1][4]=n),i<d-10?(n[4]=e[a],nd(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const h=n[17];null!==h&&e!==h&&function rm(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(h,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=128}(a,i,h,d);const m=um(d,h),x=i[11],R=Za(x,h[7]);return null!==R&&function md(t,n,e,i,a,d){i[0]=a,i[6]=n,Cd(t,i,e,1,a,d)}(a,h[6],x,i,R,m),n.attachToViewContainerRef(),nd(BT(h),d,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=BO(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=_d(this._lContainer,e);i&&(Ka(BT(this._lContainer),e),iC(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=_d(this._lContainer,e);return i&&null!=Ka(BT(this._lContainer),e)?new r_(i):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function BO(t){return t[8]}function BT(t){return t[8]||(t[8]=[])}function HO(t,n){let e;const i=n[t.index];if(mi(i))e=i;else{let a;if(8&t.type)a=tr(i);else{const d=n[11];a=d.createComment("");const h=Do(t,n);Qa(d,Za(d,h),a,function zn(t,n){return ti(t)?t.nextSibling(n):n.nextSibling}(d,h),!1)}n[t.index]=e=Rd(i,n,a,t),Od(n,e)}return new GO(e,t,n)}class HT{constructor(n){this.queryList=n,this.matches=null}clone(){return new HT(this.queryList)}setDirty(){this.queryList.setDirty()}}class jT{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,a=[];for(let d=0;d<i;d++){const h=e.getByIndex(d);a.push(this.queries[h.indexInDeclarationView].clone())}return new jT(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==zO(n,e).matches&&this.queries[e].setDirty()}}class jO{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class $T{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const a=null!==e?e.length:0,d=this.getByIndex(i).embeddedTView(n,a);d&&(d.indexInDeclarationView=i,null!==e?e.push(d):e=[d])}return null!==e?new $T(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class WT{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new WT(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let a=0;a<i.length;a++){const d=i[a];this.matchTNodeWithReadOption(n,e,bH(e,d)),this.matchTNodeWithReadOption(n,e,ed(e,n,d,!1,!1))}else i===Xi?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,ed(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const a=this.metadata.read;if(null!==a)if(a===Bn||a===ho||a===Xi&&4&e.type)this.addMatch(e.index,-2);else{const d=ed(e,n,a,!1,!1);null!==d&&this.addMatch(e.index,d)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function bH(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function xH(t,n,e,i){return-1===e?function wH(t,n){return 11&t.type?tf(t,n):4&t.type?W0(t,n):null}(n,t):-2===e?function SH(t,n,e){return e===Bn?tf(n,t):e===Xi?W0(n,t):e===ho?HO(n,t):void 0}(t,n,i):td(t,t[1],e,n)}function $O(t,n,e,i){const a=n[19].queries[i];if(null===a.matches){const d=t.data,h=e.matches,m=[];for(let x=0;x<h.length;x+=2){const R=h[x];m.push(R<0?null:xH(n,d[R],h[x+1],e.metadata.read))}a.matches=m}return a.matches}function UT(t,n,e,i){const a=t.queries.getByIndex(e),d=a.matches;if(null!==d){const h=$O(t,n,a,e);for(let m=0;m<d.length;m+=2){const x=d[m];if(x>0)i.push(h[m/2]);else{const R=d[m+1],L=n[-x];for(let W=10;W<L.length;W++){const X=L[W];X[17]===X[3]&&UT(X[1],X,R,i)}if(null!==L[9]){const W=L[9];for(let X=0;X<W.length;X++){const re=W[X];UT(re[1],re,R,i)}}}}}return i}function qt(t){const n=lt(),e=Wn(),i=Xv();Qu(i+1);const a=zO(e,i);if(t.dirty&&zv(n)===(2==(2&a.metadata.flags))){if(null===a.matches)t.reset([]);else{const d=a.crossesNgTemplate?UT(e,n,i,[]):$O(e,n,a,i);t.reset(d,H3),t.notifyOnChanges()}return!0}return!1}function ni(t,n,e){const i=Wn();i.firstCreatePass&&(UO(i,new jO(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),WO(i,lt(),n)}function Oi(t,n,e,i){const a=Wn();if(a.firstCreatePass){const d=zi();UO(a,new jO(n,e,i),d.index),function EH(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(a,t),2==(2&e)&&(a.staticContentQueries=!0)}WO(a,lt(),e)}function Xt(){return function TH(t,n){return t[19].queries[n].queryList}(lt(),Xv())}function WO(t,n,e){const i=new a_(4==(4&e));Cm(t,n,i,i.destroy),null===n[19]&&(n[19]=new jT),n[19].queries.push(new HT(i))}function UO(t,n,e){null===t.queries&&(t.queries=new $T),t.queries.track(new WT(n,e))}function zO(t,n){return t.queries.getByIndex(n)}function _r(t,n){return W0(t,n)}const pe=ap("Input",t=>({bindingPropertyName:t})),Ht=ap("Output",t=>({bindingPropertyName:t}));function Y0(...t){}const QT=new Zt("Application Initializer");let ZT=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Y0,this.reject=Y0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const d=this.appInits[a]();if($d(d))e.push(d);else if(Wd(d)){const h=new Promise((m,x)=>{d.subscribe({complete:m,error:x})});e.push(h)}}Promise.all(e).then(()=>{i()}).catch(a=>{this.reject(a)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Qe(QT,8))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const c_=new Zt("AppId",{providedIn:"root",factory:function cP(){return`${JT()}${JT()}${JT()}`}});function JT(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uP=new Zt("Platform Initializer"),ka=new Zt("Platform ID"),dP=new Zt("appBootstrapListener");let hP=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const xu=new Zt("LocaleId",{providedIn:"root",factory:()=>by(xu,pn.Optional|pn.SkipSelf)||function $H(){return"undefined"!=typeof $localize&&$localize.locale||V0}()});class UH{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let pP=(()=>{class t{compileModuleSync(e){return new LT(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),d=Cs(di(e).declarations).reduce((h,m)=>{const x=Or(m);return x&&h.push(new FT(x)),h},[]);return new UH(i,d)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const YH=(()=>Promise.resolve(0))();function eE(t){"undefined"==typeof Zone?YH.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Un{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&e,a.shouldCoalesceRunChangeDetection=i,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function KH(){let t=ui.requestAnimationFrame,n=ui.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function QH(t){const n=()=>{!function XH(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ui,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nE(t),t.isCheckStableRunning=!0,tE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,a,d,h,m)=>{try{return fP(t),e.invokeTask(a,d,h,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&n(),gP(t)}},onInvoke:(e,i,a,d,h,m,x)=>{try{return fP(t),e.invoke(a,d,h,m,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),gP(t)}},onHasTask:(e,i,a,d)=>{e.hasTask(a,d),i===a&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,nE(t),tE(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(e,i,a,d)=>(e.handleError(a,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Un.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Un.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,a){const d=this._inner,h=d.scheduleEventTask("NgZoneEvent: "+a,n,qH,Y0,Y0);try{return d.runTask(h,e,i)}finally{d.cancelTask(h)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const qH={};function tE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function fP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gP(t){t._nesting--,tE(t)}class ZH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,a){return n.apply(e,i)}}let iE=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Un.assertNotInAngularZone(),eE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eE(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,a){let d=-1;i&&i>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==d),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:d,updateCb:a})}whenStable(e,i,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,a){return[]}}return t.\u0275fac=function(e){return new(e||t)(Qe(Un))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),mP=(()=>{class t{constructor(){this._applications=new Map,rE.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return rE.findTestabilityInTree(this,e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();class JH{addToWindow(n){}findTestabilityInTree(n,e,i){return null}}let Ra,rE=new JH;const _P=new Zt("AllowMultipleToken");class vP{constructor(n,e){this.name=n,this.token=e}}function yP(t,n,e=[]){const i=`Platform: ${n}`,a=new Zt(i);return(d=[])=>{let h=CP();if(!h||h.injector.get(_P,!1))if(t)t(e.concat(d).concat({provide:a,useValue:!0}));else{const m=e.concat(d).concat({provide:a,useValue:!0},{provide:Am,useValue:"platform"});!function ij(t){if(Ra&&!Ra.destroyed&&!Ra.injector.get(_P,!1))throw new $t(400,"");Ra=t.get(bP);const n=t.get(uP,null);n&&n.forEach(e=>e())}(Ri.create({providers:m,name:i}))}return function rj(t){const n=CP();if(!n)throw new $t(401,"");return n}()}}function CP(){return Ra&&!Ra.destroyed?Ra:null}let bP=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const m=function oj(t,n){let e;return e="noop"===t?new ZH:("zone.js"===t?void 0:t)||new Un({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),x=[{provide:Un,useValue:m}];return m.run(()=>{const R=Ri.create({providers:x,parent:this.injector,name:e.moduleType.name}),L=e.create(R),W=L.injector.get(ys,null);if(!W)throw new $t(402,"");return m.runOutsideAngular(()=>{const X=m.onError.subscribe({next:re=>{W.handleError(re)}});L.onDestroy(()=>{oE(this._modules,L),X.unsubscribe()})}),function sj(t,n,e){try{const i=e();return $d(i)?i.catch(a=>{throw n.runOutsideAngular(()=>t.handleError(a)),a}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(W,m,()=>{const X=L.injector.get(ZT);return X.runInitializers(),X.donePromise.then(()=>(function $B(t){zr(t,"Expected localeId to be defined"),"string"==typeof t&&(tO=t.toLowerCase().replace(/_/g,"-"))}(L.injector.get(xu,V0)||V0),this._moduleDoBootstrap(L),L))})})}bootstrapModule(e,i=[]){const a=wP({},i);return function tj(t,n,e){const i=new LT(e);return Promise.resolve(i)}(0,0,e).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(e){const i=e.injector.get(Su);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(a=>i.bootstrap(a));else{if(!e.instance.ngDoBootstrap)throw new $t(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $t(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Qe(Ri))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();function wP(t,n){return Array.isArray(n)?n.reduce(wP,t):Object.assign(Object.assign({},t),n)}let Su=(()=>{class t{constructor(e,i,a,d,h){this._zone=e,this._injector=i,this._exceptionHandler=a,this._componentFactoryResolver=d,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new ke(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),x=new ke(R=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Un.assertNotInAngularZone(),eE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{Un.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{L.unsubscribe(),W.unsubscribe()}});this.isStable=Oh(m,x.pipe(Jf()))}bootstrap(e,i){if(!this._initStatus.done)throw new $t(405,"");let a;a=e instanceof EO?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(a.componentType);const d=function nj(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ic),m=a.create(Ri.NULL,[],i||a.selector,d),x=m.location.nativeElement,R=m.injector.get(iE,null),L=R&&m.injector.get(mP);return R&&L&&L.registerApplication(x,R),m.onDestroy(()=>{this.detachView(m.hostView),oE(this.components,m),L&&L.unregisterApplication(x)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new $t(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;oE(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(dP,[]).concat(this._bootstrapListeners).forEach(a=>a(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Qe(Un),Qe(Ri),Qe(ys),Qe(ul),Qe(ZT))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oE(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let SP=!0,Fr=(()=>{class t{}return t.__NG_ELEMENT_ID__=cj,t})();function cj(t){return function uj(t,n,e){if(Yu(t)&&!e){const i=Ao(t.index,n);return new r_(i,i)}return 47&t.type?new r_(n[16],n):null}(zi(),lt(),16==(16&t))}class kP{constructor(){}supports(n){return Ea(n)}create(n){return new mj(n)}}const gj=(t,n)=>n;class mj{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||gj}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,a=0,d=null;for(;e||i;){const h=!i||e&&e.currentIndex<OP(i,a,d)?e:i,m=OP(h,a,d),x=h.currentIndex;if(h===i)a--,i=i._nextRemoved;else if(e=e._next,null==h.previousIndex)a++;else{d||(d=[]);const R=m-a,L=x-a;if(R!=L){for(let X=0;X<R;X++){const re=X<d.length?d[X]:d[X]=0,ge=re+X;L<=ge&&ge<R&&(d[X]=re+1)}d[h.previousIndex]=L-R}}m!==x&&n(h,m,x)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Ea(n))throw new $t(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,d,h,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)d=n[m],h=this._trackByFn(m,d),null!==e&&Object.is(e.trackById,h)?(i&&(e=this._verifyReinsertion(e,d,h,m)),Object.is(e.item,d)||this._addIdentityChange(e,d)):(e=this._mismatch(e,d,h,m),i=!0),e=e._next}else a=0,function sT(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[hu()]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,m=>{h=this._trackByFn(a,m),null!==e&&Object.is(e.trackById,h)?(i&&(e=this._verifyReinsertion(e,m,h,a)),Object.is(e.item,m)||this._addIdentityChange(e,m)):(e=this._mismatch(e,m,h,a),i=!0),e=e._next,a++}),this.length=a;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,a){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,d,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,a))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,d,a)):n=this._addAfter(new _j(e,i),d,a),n}_verifyReinsertion(n,e,i,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==d?n=this._reinsertAfter(d,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,d=n._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const a=null===e?this._itHead:e._next;return n._next=a,n._prev=e,null===a?this._itTail=n:a._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new RP),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RP),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class _j{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vj{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class RP{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new vj,this.map.set(e,i)),i.add(n)}get(n,e){const a=this.map.get(n);return a?a.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OP(t,n,e){const i=t.previousIndex;if(null===i)return i;let a=0;return e&&i<e.length&&(a=e[i]),i+n+a}function IP(){return new X0([new kP])}let X0=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const a=i.factories.slice();e=e.concat(a)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||IP()),deps:[[t,new Yc,new ms]]}}find(e){const i=this.factories.find(a=>a.supports(e));if(null!=i)return i;throw new $t(901,"")}}return t.\u0275prov=xt({token:t,providedIn:"root",factory:IP}),t})();const xj=yP(null,"core",[{provide:ka,useValue:"unknown"},{provide:bP,deps:[Ri]},{provide:mP,deps:[]},{provide:hP,deps:[]}]);let Sj=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(Qe(Su))},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})(),Q0=null;function dl(){return Q0}const hi=new Zt("DocumentToken");let qd=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:function(){return function Aj(){return Qe(NP)}()},providedIn:"platform"}),t})();const kj=new Zt("Location Initialized");let NP=(()=>{class t extends qd{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dl().getBaseHref(this._doc)}onPopState(e){const i=dl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=dl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,a){FP()?this._history.pushState(e,i,a):this.location.hash=a}replaceState(e,i,a){FP()?this._history.replaceState(e,i,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi))},t.\u0275prov=xt({token:t,factory:function(){return function Rj(){return new NP(Qe(hi))}()},providedIn:"platform"}),t})();function FP(){return!!window.history.pushState}function uE(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function LP(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function rc(t){return t&&"?"!==t[0]?"?"+t:t}let cf=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:function(){return function Oj(t){const n=Qe(hi).location;return new VP(Qe(qd),n&&n.origin||"")}()},providedIn:"root"}),t})();const dE=new Zt("appBaseHref");let VP=(()=>{class t extends cf{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return uE(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+rc(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,d){const h=this.prepareExternalUrl(a+rc(d));this._platformLocation.pushState(e,i,h)}replaceState(e,i,a,d){const h=this.prepareExternalUrl(a+rc(d));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(qd),Qe(dE,8))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),Pj=(()=>{class t extends cf{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=uE(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,d){let h=this.prepareExternalUrl(a+rc(d));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,a,d){let h=this.prepareExternalUrl(a+rc(d));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformLocation).historyGo)||void 0===a||a.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(qd),Qe(dE,8))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),hE=(()=>{class t{constructor(e,i){this._subject=new Ae,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=LP(GP(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+rc(i))}normalize(e){return t.stripTrailingSlash(function Mj(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,GP(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._platformStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rc(i)),a)}replaceState(e,i="",a=null){this._platformStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rc(i)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,a;null===(a=(i=this._platformStrategy).historyGo)||void 0===a||a.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return t.normalizeQueryParams=rc,t.joinWithSlash=uE,t.stripTrailingSlash=LP,t.\u0275fac=function(e){return new(e||t)(Qe(cf),Qe(qd))},t.\u0275prov=xt({token:t,factory:function(){return function Ij(){return new hE(Qe(cf),Qe(qd))}()},providedIn:"root"}),t})();function GP(t){return t.replace(/\/index.html$/,"")}var ur=(()=>((ur=ur||{})[ur.Format=0]="Format",ur[ur.Standalone=1]="Standalone",ur))(),Xn=(()=>((Xn=Xn||{})[Xn.Narrow=0]="Narrow",Xn[Xn.Abbreviated=1]="Abbreviated",Xn[Xn.Wide=2]="Wide",Xn[Xn.Short=3]="Short",Xn))(),Qi=(()=>((Qi=Qi||{})[Qi.Short=0]="Short",Qi[Qi.Medium=1]="Medium",Qi[Qi.Long=2]="Long",Qi[Qi.Full=3]="Full",Qi))(),un=(()=>((un=un||{})[un.Decimal=0]="Decimal",un[un.Group=1]="Group",un[un.List=2]="List",un[un.PercentSign=3]="PercentSign",un[un.PlusSign=4]="PlusSign",un[un.MinusSign=5]="MinusSign",un[un.Exponential=6]="Exponential",un[un.SuperscriptingExponent=7]="SuperscriptingExponent",un[un.PerMille=8]="PerMille",un[un.Infinity=9]="Infinity",un[un.NaN=10]="NaN",un[un.TimeSeparator=11]="TimeSeparator",un[un.CurrencyDecimal=12]="CurrencyDecimal",un[un.CurrencyGroup=13]="CurrencyGroup",un))();function Z0(t,n){return ea(No(t)[Bt.DateFormat],n)}function J0(t,n){return ea(No(t)[Bt.TimeFormat],n)}function eb(t,n){return ea(No(t)[Bt.DateTimeFormat],n)}function Js(t,n){const e=No(t),i=e[Bt.NumberSymbols][n];if(void 0===i){if(n===un.CurrencyDecimal)return e[Bt.NumberSymbols][un.Decimal];if(n===un.CurrencyGroup)return e[Bt.NumberSymbols][un.Group]}return i}function HP(t){if(!t[Bt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Bt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ea(t,n){for(let e=n;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function fE(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const Yj=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,d_={},Kj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Er=(()=>((Er=Er||{})[Er.Short=0]="Short",Er[Er.ShortGMT=1]="ShortGMT",Er[Er.Long=2]="Long",Er[Er.Extended=3]="Extended",Er))(),fn=(()=>((fn=fn||{})[fn.FullYear=0]="FullYear",fn[fn.Month=1]="Month",fn[fn.Date=2]="Date",fn[fn.Hours=3]="Hours",fn[fn.Minutes=4]="Minutes",fn[fn.Seconds=5]="Seconds",fn[fn.FractionalSeconds=6]="FractionalSeconds",fn[fn.Day=7]="Day",fn))(),Ln=(()=>((Ln=Ln||{})[Ln.DayPeriods=0]="DayPeriods",Ln[Ln.Days=1]="Days",Ln[Ln.Months=2]="Months",Ln[Ln.Eras=3]="Eras",Ln))();function qj(t,n,e,i){let a=function r$(t){if(WP(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[a,d=1,h=1]=t.split("-").map(m=>+m);return tb(a,d-1,h)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(Yj))return function o$(t){const n=new Date(0);let e=0,i=0;const a=t[8]?n.setUTCFullYear:n.setFullYear,d=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),a.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const h=Number(t[4]||0)-e,m=Number(t[5]||0)-i,x=Number(t[6]||0),R=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return d.call(n,h,m,x,R),n}(i)}const n=new Date(t);if(!WP(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=oc(e,n)||n;let m,h=[];for(;n;){if(m=Kj.exec(n),!m){h.push(n);break}{h=h.concat(m.slice(1));const L=h.pop();if(!L)break;n=L}}let x=a.getTimezoneOffset();i&&(x=$P(i,x),a=function i$(t,n,e){const i=e?-1:1,a=t.getTimezoneOffset();return function n$(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*($P(n,a)-a))}(a,i,!0));let R="";return h.forEach(L=>{const W=function t$(t){if(mE[t])return mE[t];let n;switch(t){case"G":case"GG":case"GGG":n=Mi(Ln.Eras,Xn.Abbreviated);break;case"GGGG":n=Mi(Ln.Eras,Xn.Wide);break;case"GGGGG":n=Mi(Ln.Eras,Xn.Narrow);break;case"y":n=yr(fn.FullYear,1,0,!1,!0);break;case"yy":n=yr(fn.FullYear,2,0,!0,!0);break;case"yyy":n=yr(fn.FullYear,3,0,!1,!0);break;case"yyyy":n=yr(fn.FullYear,4,0,!1,!0);break;case"Y":n=ob(1);break;case"YY":n=ob(2,!0);break;case"YYY":n=ob(3);break;case"YYYY":n=ob(4);break;case"M":case"L":n=yr(fn.Month,1,1);break;case"MM":case"LL":n=yr(fn.Month,2,1);break;case"MMM":n=Mi(Ln.Months,Xn.Abbreviated);break;case"MMMM":n=Mi(Ln.Months,Xn.Wide);break;case"MMMMM":n=Mi(Ln.Months,Xn.Narrow);break;case"LLL":n=Mi(Ln.Months,Xn.Abbreviated,ur.Standalone);break;case"LLLL":n=Mi(Ln.Months,Xn.Wide,ur.Standalone);break;case"LLLLL":n=Mi(Ln.Months,Xn.Narrow,ur.Standalone);break;case"w":n=gE(1);break;case"ww":n=gE(2);break;case"W":n=gE(1,!0);break;case"d":n=yr(fn.Date,1);break;case"dd":n=yr(fn.Date,2);break;case"c":case"cc":n=yr(fn.Day,1);break;case"ccc":n=Mi(Ln.Days,Xn.Abbreviated,ur.Standalone);break;case"cccc":n=Mi(Ln.Days,Xn.Wide,ur.Standalone);break;case"ccccc":n=Mi(Ln.Days,Xn.Narrow,ur.Standalone);break;case"cccccc":n=Mi(Ln.Days,Xn.Short,ur.Standalone);break;case"E":case"EE":case"EEE":n=Mi(Ln.Days,Xn.Abbreviated);break;case"EEEE":n=Mi(Ln.Days,Xn.Wide);break;case"EEEEE":n=Mi(Ln.Days,Xn.Narrow);break;case"EEEEEE":n=Mi(Ln.Days,Xn.Short);break;case"a":case"aa":case"aaa":n=Mi(Ln.DayPeriods,Xn.Abbreviated);break;case"aaaa":n=Mi(Ln.DayPeriods,Xn.Wide);break;case"aaaaa":n=Mi(Ln.DayPeriods,Xn.Narrow);break;case"b":case"bb":case"bbb":n=Mi(Ln.DayPeriods,Xn.Abbreviated,ur.Standalone,!0);break;case"bbbb":n=Mi(Ln.DayPeriods,Xn.Wide,ur.Standalone,!0);break;case"bbbbb":n=Mi(Ln.DayPeriods,Xn.Narrow,ur.Standalone,!0);break;case"B":case"BB":case"BBB":n=Mi(Ln.DayPeriods,Xn.Abbreviated,ur.Format,!0);break;case"BBBB":n=Mi(Ln.DayPeriods,Xn.Wide,ur.Format,!0);break;case"BBBBB":n=Mi(Ln.DayPeriods,Xn.Narrow,ur.Format,!0);break;case"h":n=yr(fn.Hours,1,-12);break;case"hh":n=yr(fn.Hours,2,-12);break;case"H":n=yr(fn.Hours,1);break;case"HH":n=yr(fn.Hours,2);break;case"m":n=yr(fn.Minutes,1);break;case"mm":n=yr(fn.Minutes,2);break;case"s":n=yr(fn.Seconds,1);break;case"ss":n=yr(fn.Seconds,2);break;case"S":n=yr(fn.FractionalSeconds,1);break;case"SS":n=yr(fn.FractionalSeconds,2);break;case"SSS":n=yr(fn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=ib(Er.Short);break;case"ZZZZZ":n=ib(Er.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=ib(Er.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=ib(Er.Long);break;default:return null}return mE[t]=n,n}(L);R+=W?W(a,e,x):"''"===L?"'":L.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),R}function tb(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function oc(t,n){const e=function Nj(t){return No(t)[Bt.LocaleId]}(t);if(d_[e]=d_[e]||{},d_[e][n])return d_[e][n];let i="";switch(n){case"shortDate":i=Z0(t,Qi.Short);break;case"mediumDate":i=Z0(t,Qi.Medium);break;case"longDate":i=Z0(t,Qi.Long);break;case"fullDate":i=Z0(t,Qi.Full);break;case"shortTime":i=J0(t,Qi.Short);break;case"mediumTime":i=J0(t,Qi.Medium);break;case"longTime":i=J0(t,Qi.Long);break;case"fullTime":i=J0(t,Qi.Full);break;case"short":const a=oc(t,"shortTime"),d=oc(t,"shortDate");i=nb(eb(t,Qi.Short),[a,d]);break;case"medium":const h=oc(t,"mediumTime"),m=oc(t,"mediumDate");i=nb(eb(t,Qi.Medium),[h,m]);break;case"long":const x=oc(t,"longTime"),R=oc(t,"longDate");i=nb(eb(t,Qi.Long),[x,R]);break;case"full":const L=oc(t,"fullTime"),W=oc(t,"fullDate");i=nb(eb(t,Qi.Full),[L,W])}return i&&(d_[e][n]=i),i}function nb(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Oa(t,n,e="-",i,a){let d="";(t<0||a&&t<=0)&&(a?t=1-t:(t=-t,d=e));let h=String(t);for(;h.length<n;)h="0"+h;return i&&(h=h.substr(h.length-n)),d+h}function yr(t,n,e=0,i=!1,a=!1){return function(d,h){let m=function Qj(t,n){switch(t){case fn.FullYear:return n.getFullYear();case fn.Month:return n.getMonth();case fn.Date:return n.getDate();case fn.Hours:return n.getHours();case fn.Minutes:return n.getMinutes();case fn.Seconds:return n.getSeconds();case fn.FractionalSeconds:return n.getMilliseconds();case fn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,d);if((e>0||m>-e)&&(m+=e),t===fn.Hours)0===m&&-12===e&&(m=12);else if(t===fn.FractionalSeconds)return function Xj(t,n){return Oa(t,3).substr(0,n)}(m,n);const x=Js(h,un.MinusSign);return Oa(m,n,x,i,a)}}function Mi(t,n,e=ur.Format,i=!1){return function(a,d){return function Zj(t,n,e,i,a,d){switch(e){case Ln.Months:return function Vj(t,n,e){const i=No(t),d=ea([i[Bt.MonthsFormat],i[Bt.MonthsStandalone]],n);return ea(d,e)}(n,a,i)[t.getMonth()];case Ln.Days:return function Lj(t,n,e){const i=No(t),d=ea([i[Bt.DaysFormat],i[Bt.DaysStandalone]],n);return ea(d,e)}(n,a,i)[t.getDay()];case Ln.DayPeriods:const h=t.getHours(),m=t.getMinutes();if(d){const R=function jj(t){const n=No(t);return HP(n),(n[Bt.ExtraData][2]||[]).map(i=>"string"==typeof i?fE(i):[fE(i[0]),fE(i[1])])}(n),L=function $j(t,n,e){const i=No(t);HP(i);const d=ea([i[Bt.ExtraData][0],i[Bt.ExtraData][1]],n)||[];return ea(d,e)||[]}(n,a,i),W=R.findIndex(X=>{if(Array.isArray(X)){const[re,ge]=X,be=h>=re.hours&&m>=re.minutes,ve=h<ge.hours||h===ge.hours&&m<ge.minutes;if(re.hours<ge.hours){if(be&&ve)return!0}else if(be||ve)return!0}else if(X.hours===h&&X.minutes===m)return!0;return!1});if(-1!==W)return L[W]}return function Fj(t,n,e){const i=No(t),d=ea([i[Bt.DayPeriodsFormat],i[Bt.DayPeriodsStandalone]],n);return ea(d,e)}(n,a,i)[h<12?0:1];case Ln.Eras:return function Gj(t,n){return ea(No(t)[Bt.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(a,d,t,n,e,i)}}function ib(t){return function(n,e,i){const a=-1*i,d=Js(e,un.MinusSign),h=a>0?Math.floor(a/60):Math.ceil(a/60);switch(t){case Er.Short:return(a>=0?"+":"")+Oa(h,2,d)+Oa(Math.abs(a%60),2,d);case Er.ShortGMT:return"GMT"+(a>=0?"+":"")+Oa(h,1,d);case Er.Long:return"GMT"+(a>=0?"+":"")+Oa(h,2,d)+":"+Oa(Math.abs(a%60),2,d);case Er.Extended:return 0===i?"Z":(a>=0?"+":"")+Oa(h,2,d)+":"+Oa(Math.abs(a%60),2,d);default:throw new Error(`Unknown zone width "${t}"`)}}}function jP(t){return tb(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function gE(t,n=!1){return function(e,i){let a;if(n){const d=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();a=1+Math.floor((h+d)/7)}else{const d=jP(e),h=function e$(t){const n=tb(t,0,1).getDay();return tb(t,0,1+(n<=4?4:11)-n)}(d.getFullYear()),m=d.getTime()-h.getTime();a=1+Math.round(m/6048e5)}return Oa(a,t,Js(i,un.MinusSign))}}function ob(t,n=!1){return function(e,i){return Oa(jP(e).getFullYear(),t,Js(i,un.MinusSign),n)}}const mE={};function $P(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function WP(t){return t instanceof Date&&!isNaN(t.valueOf())}function KP(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[a,d]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===n)return decodeURIComponent(d)}return null}class y${constructor(n,e,i,a){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _i=(()=>{class t{constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((a,d,h)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new y$(a.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===d?void 0:d);else if(null!==d){const m=i.get(d);i.move(m,h),qP(m,a)}});for(let a=0,d=i.length;a<d;a++){const m=i.get(a).context;m.index=a,m.count=d,m.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{qP(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ce(ho),Ce(Xi),Ce(X0))},t.\u0275dir=Et({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function qP(t,n){t.context.$implicit=n.item}let Zn=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new C$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){XP("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){XP("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ce(ho),Ce(Xi))},t.\u0275dir=Et({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class C${constructor(){this.$implicit=null,this.ngIf=null}}function XP(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ci(n)}'.`)}let uf=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(Ce(ho))},t.\u0275dir=Et({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[$n]}),t})();const M$=new Zt("DATE_PIPE_DEFAULT_TIMEZONE");let Tu=(()=>{class t{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",a,d){var h;if(null==e||""===e||e!=e)return null;try{return qj(e,i,d||this.locale,null!==(h=null!=a?a:this.defaultTimezone)&&void 0!==h?h:void 0)}catch(m){throw function Pa(t,n){return new $t(2100,"")}()}}}return t.\u0275fac=function(e){return new(e||t)(Ce(xu,16),Ce(M$,24))},t.\u0275pipe=bi({name:"date",type:t,pure:!0}),t})(),Lr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})();const JP="browser";function df(t){return t===JP}function EE(t){return"server"===t}let K$=(()=>{class t{}return t.\u0275prov=xt({token:t,providedIn:"root",factory:()=>new q$(Qe(hi),window)}),t})();class q${constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function X$(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const d=a.shadowRoot;if(d){const h=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(h)return h}a=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(i-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=eI(this.window.history)||eI(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function eI(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tI{}class DE extends class Q$ extends class Dj{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ej(t){Q0||(Q0=t)}(new DE)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Z$(){return p_=p_||document.querySelector("base"),p_?p_.getAttribute("href"):null}();return null==e?null:function J$(t){ab=ab||document.createElement("a"),ab.setAttribute("href",t);const n=ab.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){p_=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return KP(document.cookie,n)}}let ab,p_=null;const nI=new Zt("TRANSITION_ID"),tW=[{provide:QT,useFactory:function eW(t,n,e){return()=>{e.get(ZT).donePromise.then(()=>{const i=dl(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let d=0;d<a.length;d++)i.remove(a[d])})}},deps:[nI,hi,Ri],multi:!0}];class AE{static init(){!function ej(t){rE=t}(new AE)}addToWindow(n){ui.getAngularTestability=(i,a=!0)=>{const d=n.findTestabilityInTree(i,a);if(null==d)throw new Error("Could not find testability for element.");return d},ui.getAllAngularTestabilities=()=>n.getAllTestabilities(),ui.getAllAngularRootElements=()=>n.getAllRootElements(),ui.frameworkStabilizers||(ui.frameworkStabilizers=[]),ui.frameworkStabilizers.push(i=>{const a=ui.getAllAngularTestabilities();let d=a.length,h=!1;const m=function(x){h=h||x,d--,0==d&&i(h)};a.forEach(function(x){x.whenStable(m)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const a=n.getTestability(e);return null!=a?a:i?dl().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let nW=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const lb=new Zt("EventManagerPlugins");let cb=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let d=0;d<a.length;d++){const h=a[d];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(Qe(lb),Qe(Un))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();class iI{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const a=dl().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let rI=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),i.add(a))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),f_=(()=>{class t extends rI{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,a){e.forEach(d=>{const h=this._doc.createElement("style");h.textContent=d,a.push(i.appendChild(h))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(oI),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,a)=>{this._addStylesToHost(e,a,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(oI))}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();function oI(t){dl().remove(t)}const kE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},RE=/%COMP%/g;function ub(t,n,e){for(let i=0;i<n.length;i++){let a=n[i];Array.isArray(a)?ub(t,a,e):(a=a.replace(RE,t),e.push(a))}return e}function lI(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let db=(()=>{class t{constructor(e,i,a){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new OE(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case To.Emulated:{let a=this.rendererByCompId.get(i.id);return a||(a=new lW(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,a)),a.applyToHost(e),a}case 1:case To.ShadowDom:return new cW(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const a=ub(i.id,i.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Qe(cb),Qe(f_),Qe(c_))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();class OE{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(kE[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,a){if(a){e=a+":"+e;const d=kE[a];d?n.setAttributeNS(d,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const a=kE[i];a?n.removeAttributeNS(a,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,a){a&(co.DashCase|co.Important)?n.style.setProperty(e,i,a&co.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&co.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,lI(i)):this.eventManager.addEventListener(n,e,lI(i))}}class lW extends OE{constructor(n,e,i,a){super(n),this.component=i;const d=ub(a+"-"+i.id,i.styles,[]);e.addStyles(d),this.contentAttr=function oW(t){return"_ngcontent-%COMP%".replace(RE,t)}(a+"-"+i.id),this.hostAttr=function sW(t){return"_nghost-%COMP%".replace(RE,t)}(a+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class cW extends OE{constructor(n,e,i,a){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=ub(a.id,a.styles,[]);for(let h=0;h<d.length;h++){const m=document.createElement("style");m.textContent=d[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let uW=(()=>{class t extends iI{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const uI=["alt","control","meta","shift"],hW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pW={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fW=(()=>{class t extends iI{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,a){const d=t.parseEventName(i),h=t.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dl().onAndCancel(e,d.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const d=t._normalizeKey(i.pop());let h="";if(uI.forEach(x=>{const R=i.indexOf(x);R>-1&&(i.splice(R,1),h+=x+".")}),h+=d,0!=i.length||0===d.length)return null;const m={};return m.domEventName=a,m.fullKey=h,m}static getEventFullKey(e){let i="",a=function gW(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&dI.hasOwnProperty(n)&&(n=dI[n]))}return hW[n]||n}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),uI.forEach(d=>{d!=a&&pW[d](e)&&(i+=d+".")}),i+=a,i}static eventCallback(e,i,a){return d=>{t.getEventFullKey(d)===e&&a.runGuarded(()=>i(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const yW=yP(xj,"browser",[{provide:ka,useValue:JP},{provide:uP,useValue:function mW(){DE.makeCurrent(),AE.init()},multi:!0},{provide:hi,useFactory:function vW(){return function Uv(t){zh=t}(document),document},deps:[]}]),CW=[{provide:Am,useValue:"root"},{provide:ys,useFactory:function _W(){return new ys},deps:[]},{provide:lb,useClass:uW,multi:!0,deps:[hi,Un,ka]},{provide:lb,useClass:fW,multi:!0,deps:[hi]},{provide:db,useClass:db,deps:[cb,f_,c_]},{provide:nf,useExisting:db},{provide:rI,useExisting:f_},{provide:f_,useClass:f_,deps:[hi]},{provide:iE,useClass:iE,deps:[Un]},{provide:cb,useClass:cb,deps:[lb,Un]},{provide:tI,useClass:nW,deps:[]}];let hI=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:c_,useValue:e.appId},{provide:nI,useExisting:c_},tW]}}}return t.\u0275fac=function(e){return new(e||t)(Qe(t,12))},t.\u0275mod=en({type:t}),t.\u0275inj=on({providers:CW,imports:[Lr,Sj]}),t})();"undefined"!=typeof window&&window;let gI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:function(e){let i=null;return i=e?new(e||t):Qe(mI),i},providedIn:"root"}),t})(),mI=(()=>{class t extends gI{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case yi.NONE:return i;case yi.HTML:return Yi(i,"HTML")?Po(i):Ly(this._doc,String(i)).toString();case yi.STYLE:return Yi(i,"Style")?Po(i):i;case yi.SCRIPT:if(Yi(i,"Script"))return Po(i);throw new Error("unsafe value used in a script context");case yi.URL:return Ug(i),Yi(i,"URL")?Po(i):ad(String(i));case yi.RESOURCE_URL:if(Yi(i,"ResourceURL"))return Po(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Dy(t){return new Wg(t)}(e)}bypassSecurityTrustStyle(e){return function Ay(t){return new lo(t)}(e)}bypassSecurityTrustScript(e){return function ky(t){return new R1(t)}(e)}bypassSecurityTrustUrl(e){return function sd(t){return new O1(t)}(e)}bypassSecurityTrustResourceUrl(e){return function I1(t){return new P1(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi))},t.\u0275prov=xt({token:t,factory:function(e){let i=null;return i=e?new e:function RW(t){return new mI(t.get(hi))}(Qe(Ri)),i},providedIn:"root"}),t})();function yn(...t){return sr(t,$a(t))}class Vr extends qe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const{isArray:OW}=Array,{getPrototypeOf:PW,prototype:IW,keys:MW}=Object;function _I(t){if(1===t.length){const n=t[0];if(OW(n))return{args:n,keys:null};if(function NW(t){return t&&"object"==typeof t&&PW(t)===IW}(n)){const e=MW(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:FW}=Array;function IE(t){return yt(n=>function LW(t,n){return FW(n)?t(...n):t(n)}(t,n))}function vI(t,n){return t.reduce((e,i,a)=>(e[i]=n[a],e),{})}function yI(t,n,e){t?pa(e,t,n):n()}function hb(t,n){const e=k(t)?t:()=>t,i=a=>a.error(e());return new ke(n?a=>n.schedule(i,0,a):i)}const pb=I(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function g_(...t){return function GW(){return Gu(1)}()(sr(t,$a(t)))}function CI(t){return new ke(n=>{dr(t()).subscribe(n)})}function bI(){return Re((t,n)=>{let e=null;t._refCount++;const i=Nt(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const a=t._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class BW extends ke{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,bt(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new D;const e=this.getSubject();n.add(this.source.subscribe(Nt(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=D.EMPTY)}return n}refCount(){return bI()(this)}}function hl(t,n){return Re((e,i)=>{let a=null,d=0,h=!1;const m=()=>h&&!a&&i.complete();e.subscribe(Nt(i,x=>{null==a||a.unsubscribe();let R=0;const L=d++;dr(t(x,L)).subscribe(a=Nt(i,W=>i.next(n?n(x,W,L,R++):W),()=>{a=null,m()}))},()=>{h=!0,m()}))})}function Gr(t){return t<=0?()=>Uo:Re((n,e)=>{let i=0;n.subscribe(Nt(e,a=>{++i<=t&&(e.next(a),t<=i&&e.complete())}))})}function Xd(...t){const n=$a(t);return Re((e,i)=>{(n?g_(t,e,n):g_(t,e)).subscribe(i)})}function HW(t,n,e,i,a){return(d,h)=>{let m=e,x=n,R=0;d.subscribe(Nt(h,L=>{const W=R++;x=m?t(x,L,W):(m=!0,L),i&&h.next(x)},a&&(()=>{m&&h.next(x),h.complete()})))}}function wI(t,n){return Re(HW(t,n,arguments.length>=2,!0))}function Dr(t,n){return Re((e,i)=>{let a=0;e.subscribe(Nt(i,d=>t.call(n,d,a++)&&i.next(d)))})}function Du(t){return Re((n,e)=>{let d,i=null,a=!1;i=n.subscribe(Nt(e,void 0,void 0,h=>{d=dr(t(h,Du(t)(n))),i?(i.unsubscribe(),i=null,d.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,d.subscribe(e))})}function hf(t,n){return k(n)?Tn(t,n,1):Tn(t,1)}function NE(t){return t<=0?()=>Uo:Re((n,e)=>{let i=[];n.subscribe(Nt(e,a=>{i.push(a),t<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function xI(t=jW){return Re((n,e)=>{let i=!1;n.subscribe(Nt(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(t())))})}function jW(){return new pb}function SI(t){return Re((n,e)=>{let i=!1;n.subscribe(Nt(e,a=>{i=!0,e.next(a)},()=>{i||e.next(t),e.complete()}))})}function pf(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Dr((a,d)=>t(a,d,i)):Se,Gr(1),e?SI(n):xI(()=>new pb))}function Xr(t,n,e){const i=k(t)||n||e?{next:t,error:n,complete:e}:t;return i?Re((a,d)=>{var h;null===(h=i.subscribe)||void 0===h||h.call(i);let m=!0;a.subscribe(Nt(d,x=>{var R;null===(R=i.next)||void 0===R||R.call(i,x),d.next(x)},()=>{var x;m=!1,null===(x=i.complete)||void 0===x||x.call(i),d.complete()},x=>{var R;m=!1,null===(R=i.error)||void 0===R||R.call(i,x),d.error(x)},()=>{var x,R;m&&(null===(x=i.unsubscribe)||void 0===x||x.call(i)),null===(R=i.finalize)||void 0===R||R.call(i)}))}):Se}class sc{constructor(n,e){this.id=n,this.url=e}}class FE extends sc{constructor(n,e,i="imperative",a=null){super(n,e),this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class m_ extends sc{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class TI extends sc{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class UW extends sc{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zW extends sc{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YW extends sc{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KW extends sc{constructor(n,e,i,a,d){super(n,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qW extends sc{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XW extends sc{constructor(n,e,i,a){super(n,e),this.urlAfterRedirects=i,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EI{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DI{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QW{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZW{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JW{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eU{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AI{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yn="primary";class tU{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ff(t){return new tU(t)}const kI="ngNavigationCancelingError";function LE(t){const n=Error("NavigationCancelingError: "+t);return n[kI]=!0,n}function iU(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const a={};for(let d=0;d<i.length;d++){const h=i[d],m=t[d];if(h.startsWith(":"))a[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:t.slice(0,i.length),posParams:a}}function pl(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!RI(t[a],n[a]))return!1;return!0}function RI(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((a,d)=>i[d]===a)}return t===n}function OI(t){return Array.prototype.concat.apply([],t)}function PI(t){return t.length>0?t[t.length-1]:null}function Qr(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function fl(t){return Wd(t)?t:$d(t)?sr(Promise.resolve(t)):yn(t)}const sU={exact:function NI(t,n,e){if(!Zd(t.segments,n.segments)||!fb(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!NI(t.children[i],n.children[i],e))return!1;return!0},subset:FI},II={exact:function aU(t,n){return pl(t,n)},subset:function lU(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>RI(t[e],n[e]))},ignored:()=>!0};function MI(t,n,e){return sU[e.paths](t.root,n.root,e.matrixParams)&&II[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function FI(t,n,e){return LI(t,n,n.segments,e)}function LI(t,n,e,i){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Zd(a,e)||n.hasChildren()||!fb(a,e,i))}if(t.segments.length===e.length){if(!Zd(t.segments,e)||!fb(t.segments,e,i))return!1;for(const a in n.children)if(!t.children[a]||!FI(t.children[a],n.children[a],i))return!1;return!0}{const a=e.slice(0,t.segments.length),d=e.slice(t.segments.length);return!!(Zd(t.segments,a)&&fb(t.segments,a,i)&&t.children[Yn])&&LI(t.children[Yn],n,d,i)}}function fb(t,n,e){return n.every((i,a)=>II[e](t[a].parameters,i.parameters))}class Qd{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ff(this.queryParams)),this._queryParamMap}toString(){return dU.serialize(this)}}class Jn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Qr(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gb(this)}}class __{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ff(this.parameters)),this._parameterMap}toString(){return jI(this)}}function Zd(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class VI{}class GI{parse(n){const e=new CU(n);return new Qd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${v_(n.root,!0)}`,i=function fU(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(a=>`${mb(e)}=${mb(a)}`).join("&"):`${mb(e)}=${mb(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function hU(t){return encodeURI(t)}(n.fragment)}`:""}`}}const dU=new GI;function gb(t){return t.segments.map(n=>jI(n)).join("/")}function v_(t,n){if(!t.hasChildren())return gb(t);if(n){const e=t.children[Yn]?v_(t.children[Yn],!1):"",i=[];return Qr(t.children,(a,d)=>{d!==Yn&&i.push(`${d}:${v_(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function uU(t,n){let e=[];return Qr(t.children,(i,a)=>{a===Yn&&(e=e.concat(n(i,a)))}),Qr(t.children,(i,a)=>{a!==Yn&&(e=e.concat(n(i,a)))}),e}(t,(i,a)=>a===Yn?[v_(t.children[Yn],!1)]:[`${a}:${v_(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Yn]?`${gb(t)}/${e[0]}`:`${gb(t)}/(${e.join("//")})`}}function BI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mb(t){return BI(t).replace(/%3B/gi,";")}function VE(t){return BI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _b(t){return decodeURIComponent(t)}function HI(t){return _b(t.replace(/\+/g,"%20"))}function jI(t){return`${VE(t.path)}${function pU(t){return Object.keys(t).map(n=>`;${VE(n)}=${VE(t[n])}`).join("")}(t.parameters)}`}const gU=/^[^\/()?;=#]+/;function vb(t){const n=t.match(gU);return n?n[0]:""}const mU=/^[^=?&#]+/,vU=/^[^&#]+/;class CU{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jn([],{}):new Jn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Yn]=new Jn(n,e)),i}parseSegment(){const n=vb(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new __(_b(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=vb(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=vb(this.remaining);a&&(i=a,this.capture(i))}n[_b(e)]=_b(i)}parseQueryParam(n){const e=function _U(t){const n=t.match(mU);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function yU(t){const n=t.match(vU);return n?n[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const a=HI(e),d=HI(i);if(n.hasOwnProperty(a)){let h=n[a];Array.isArray(h)||(h=[h],n[a]=h),h.push(d)}else n[a]=d}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=vb(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;i.indexOf(":")>-1?(d=i.substr(0,i.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=Yn);const h=this.parseChildren();e[d]=1===Object.keys(h).length?h[Yn]:new Jn([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class $I{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=GE(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=GE(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=BE(n,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return BE(n,this._root).map(e=>e.value)}}function GE(t,n){if(t===n.value)return n;for(const e of n.children){const i=GE(t,e);if(i)return i}return null}function BE(t,n){if(t===n.value)return[n];for(const e of n.children){const i=BE(t,e);if(i.length)return i.unshift(n),i}return[]}class ac{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function gf(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class WI extends $I{constructor(n,e){super(n),this.snapshot=e,HE(this,n)}toString(){return this.snapshot.toString()}}function UI(t,n){const e=function bU(t,n){const h=new yb([],{},{},"",{},Yn,n,null,t.root,-1,{});return new YI("",new ac(h,[]))}(t,n),i=new Vr([new __("",{})]),a=new Vr({}),d=new Vr({}),h=new Vr({}),m=new Vr(""),x=new mf(i,a,h,m,d,Yn,n,e.root);return x.snapshot=e.root,new WI(new ac(x,[]),e)}class mf{constructor(n,e,i,a,d,h,m,x){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=d,this.outlet=h,this.component=m,this._futureSnapshot=x}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(yt(n=>ff(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(yt(n=>ff(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zI(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const a=e[i],d=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(d.component)break;i--}}return function wU(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class yb{constructor(n,e,i,a,d,h,m,x,R,L,W){this.url=n,this.params=e,this.queryParams=i,this.fragment=a,this.data=d,this.outlet=h,this.component=m,this.routeConfig=x,this._urlSegment=R,this._lastPathIndex=L,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ff(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ff(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YI extends $I{constructor(n,e){super(e),this.url=n,HE(this,e)}toString(){return KI(this._root)}}function HE(t,n){n.value._routerState=t,n.children.forEach(e=>HE(t,e))}function KI(t){const n=t.children.length>0?` { ${t.children.map(KI).join(", ")} } `:"";return`${t.value}${n}`}function jE(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,pl(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),pl(n.params,e.params)||t.params.next(e.params),function rU(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!pl(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),pl(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $E(t,n){const e=pl(t.params,n.params)&&function cU(t,n){return Zd(t,n)&&t.every((e,i)=>pl(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||$E(t.parent,n.parent))}function y_(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const a=function SU(t,n,e){return n.children.map(i=>{for(const a of e.children)if(t.shouldReuseRoute(i.value,a.value.snapshot))return y_(t,i,a);return y_(t,i)})}(t,n,e);return new ac(i,a)}{if(t.shouldAttach(n.value)){const d=t.retrieve(n.value);if(null!==d){const h=d.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(m=>y_(t,m)),h}}const i=function TU(t){return new mf(new Vr(t.url),new Vr(t.params),new Vr(t.queryParams),new Vr(t.fragment),new Vr(t.data),t.outlet,t.component,t)}(n.value),a=n.children.map(d=>y_(t,d));return new ac(i,a)}}function Cb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function C_(t){return"object"==typeof t&&null!=t&&t.outlets}function WE(t,n,e,i,a){let d={};if(i&&Qr(i,(m,x)=>{d[x]=Array.isArray(m)?m.map(R=>`${R}`):`${m}`}),t===n)return new Qd(e,d,a);const h=qI(t,n,e);return new Qd(h,d,a)}function qI(t,n,e){const i={};return Qr(t.children,(a,d)=>{i[d]=a===n?e:qI(a,n,e)}),new Jn(t.segments,i)}class XI{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Cb(i[0]))throw new Error("Root segment cannot have matrix parameters");const a=i.find(C_);if(a&&a!==PI(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class UE{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function QI(t,n,e){if(t||(t=new Jn([],{})),0===t.segments.length&&t.hasChildren())return bb(t,n,e);const i=function OU(t,n,e){let i=0,a=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(i>=e.length)return d;const h=t.segments[a],m=e[i];if(C_(m))break;const x=`${m}`,R=i<e.length-1?e[i+1]:null;if(a>0&&void 0===x)break;if(x&&R&&"object"==typeof R&&void 0===R.outlets){if(!JI(x,R,h))return d;i+=2}else{if(!JI(x,{},h))return d;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(t,n,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const d=new Jn(t.segments.slice(0,i.pathIndex),{});return d.children[Yn]=new Jn(t.segments.slice(i.pathIndex),t.children),bb(d,0,a)}return i.match&&0===a.length?new Jn(t.segments,{}):i.match&&!t.hasChildren()?zE(t,n,e):i.match?bb(t,0,a):zE(t,n,e)}function bb(t,n,e){if(0===e.length)return new Jn(t.segments,{});{const i=function RU(t){return C_(t[0])?t[0].outlets:{[Yn]:t}}(e),a={};return Qr(i,(d,h)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[h]=QI(t.children[h],n,d))}),Qr(t.children,(d,h)=>{void 0===i[h]&&(a[h]=d)}),new Jn(t.segments,a)}}function zE(t,n,e){const i=t.segments.slice(0,n);let a=0;for(;a<e.length;){const d=e[a];if(C_(d)){const x=PU(d.outlets);return new Jn(i,x)}if(0===a&&Cb(e[0])){i.push(new __(t.segments[n].path,ZI(e[0]))),a++;continue}const h=C_(d)?d.outlets[Yn]:`${d}`,m=a<e.length-1?e[a+1]:null;h&&m&&Cb(m)?(i.push(new __(h,ZI(m))),a+=2):(i.push(new __(h,{})),a++)}return new Jn(i,{})}function PU(t){const n={};return Qr(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=zE(new Jn([],{}),0,e))}),n}function ZI(t){const n={};return Qr(t,(e,i)=>n[i]=`${e}`),n}function JI(t,n,e){return t==e.path&&pl(n,e.parameters)}class MU{constructor(n,e,i,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),jE(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const a=gf(e);n.children.forEach(d=>{const h=d.value.outlet;this.deactivateRoutes(d,a[h],i),delete a[h]}),Qr(a,(d,h)=>{this.deactivateRouteAndItsChildren(d,i)})}deactivateRoutes(n,e,i){const a=n.value,d=e?e.value:null;if(a===d)if(a.component){const h=i.getContext(a.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,i);else d&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,d=gf(n);for(const h of Object.keys(d))this.deactivateRouteAndItsChildren(d[h],a);if(i&&i.outlet){const h=i.outlet.detach(),m=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:m})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),a=i&&n.value.component?i.children:e,d=gf(n);for(const h of Object.keys(d))this.deactivateRouteAndItsChildren(d[h],a);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const a=gf(e);n.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],i),this.forwardEvent(new eU(d.value.snapshot))}),n.children.length&&this.forwardEvent(new ZW(n.value.snapshot))}activateRoutes(n,e,i){const a=n.value,d=e?e.value:null;if(jE(a),a===d)if(a.component){const h=i.getOrCreateContext(a.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,i);else if(a.component){const h=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),jE(m.route.value),this.activateChildRoutes(n,null,h.children)}else{const m=function NU(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),x=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=x,h.outlet&&h.outlet.activateWith(a,x),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,i)}}class YE{constructor(n,e){this.routes=n,this.module=e}}function Au(t){return"function"==typeof t}function Jd(t){return t instanceof Qd}const b_=Symbol("INITIAL_VALUE");function w_(){return hl(t=>function ME(...t){const n=$a(t),e=bc(t),{args:i,keys:a}=_I(t);if(0===i.length)return sr([],n);const d=new ke(function VW(t,n,e=Se){return i=>{yI(n,()=>{const{length:a}=t,d=new Array(a);let h=a,m=a;for(let x=0;x<a;x++)yI(n,()=>{const R=sr(t[x],n);let L=!1;R.subscribe(Nt(i,W=>{d[x]=W,L||(L=!0,m--),m||i.next(e(d.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,n,a?h=>vI(a,h):Se));return e?d.pipe(IE(e)):d}(t.map(n=>n.pipe(Gr(1),Xd(b_)))).pipe(wI((n,e)=>{let i=!1;return e.reduce((a,d,h)=>a!==b_?a:(d===b_&&(i=!0),i||!1!==d&&h!==e.length-1&&!Jd(d)?a:d),n)},b_),Dr(n=>n!==b_),yt(n=>Jd(n)?n:!0===n),Gr(1)))}class HU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new x_,this.attachRef=null}}class x_{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new HU,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let wb=(()=>{class t{constructor(e,i,a,d,h){this.parentContexts=e,this.location=i,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.name=d||Yn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,x=new jU(e,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,x),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Ce(x_),Ce(ho),Ce(ul),Us("name"),Ce(Fr))},t.\u0275dir=Et({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class jU{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===mf?this.route:n===x_?this.childContexts:this.parent.get(n,e)}}let eM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&_e(0,"router-outlet")},directives:[wb],encapsulation:2}),t})();function tM(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];$U(i,WU(n,i))}}function $U(t,n){t.children&&tM(t.children,n)}function WU(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function KE(t){const n=t.children&&t.children.map(KE),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Yn&&(e.component=eM),e}function ta(t){return t.outlet||Yn}function nM(t,n){const e=t.filter(i=>ta(i)===n);return e.push(...t.filter(i=>ta(i)!==n)),e}const iM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xb(t,n,e){var i;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},iM):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(n.matcher||iU)(e,t,n);if(!d)return Object.assign({},iM);const h={};Qr(d.posParams,(x,R)=>{h[R]=x.path});const m=d.consumed.length>0?Object.assign(Object.assign({},h),d.consumed[d.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:m,positionalParamSegments:null!==(i=d.posParams)&&void 0!==i?i:{}}}function Sb(t,n,e,i,a="corrected"){if(e.length>0&&function YU(t,n,e){return e.some(i=>Tb(t,n,i)&&ta(i)!==Yn)}(t,e,i)){const h=new Jn(n,function zU(t,n,e,i){const a={};a[Yn]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const d of e)if(""===d.path&&ta(d)!==Yn){const h=new Jn([],{});h._sourceSegment=t,h._segmentIndexShift=n.length,a[ta(d)]=h}return a}(t,n,i,new Jn(e,t.children)));return h._sourceSegment=t,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function KU(t,n,e){return e.some(i=>Tb(t,n,i))}(t,e,i)){const h=new Jn(t.segments,function UU(t,n,e,i,a,d){const h={};for(const m of i)if(Tb(t,e,m)&&!a[ta(m)]){const x=new Jn([],{});x._sourceSegment=t,x._segmentIndexShift="legacy"===d?t.segments.length:n.length,h[ta(m)]=x}return Object.assign(Object.assign({},a),h)}(t,n,e,i,t.children,a));return h._sourceSegment=t,h._segmentIndexShift=n.length,{segmentGroup:h,slicedSegments:e}}const d=new Jn(t.segments,t.children);return d._sourceSegment=t,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:e}}function Tb(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function rM(t,n,e,i){return!!(ta(t)===i||i!==Yn&&Tb(n,e,t))&&("**"===t.path||xb(n,t,e).matched)}function oM(t,n,e){return 0===n.length&&!t.children[e]}class Eb{constructor(n){this.segmentGroup=n||null}}class sM{constructor(n){this.urlTree=n}}function S_(t){return hb(new Eb(t))}function aM(t){return hb(new sM(t))}class ZU{constructor(n,e,i,a,d){this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(ic)}apply(){const n=Sb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jn(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Yn).pipe(yt(d=>this.createUrlTree(qE(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Du(d=>{if(d instanceof sM)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Eb?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Yn).pipe(yt(a=>this.createUrlTree(qE(a),n.queryParams,n.fragment))).pipe(Du(a=>{throw a instanceof Eb?this.noMatchError(a):a}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const a=n.segments.length>0?new Jn([],{[Yn]:n}):n;return new Qd(a,e,i)}expandSegmentGroup(n,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe(yt(d=>new Jn([],d))):this.expandSegment(n,i,e,i.segments,a,!0)}expandChildren(n,e,i){const a=[];for(const d of Object.keys(i.children))"primary"===d?a.unshift(d):a.push(d);return sr(a).pipe(hf(d=>{const h=i.children[d],m=nM(e,d);return this.expandSegmentGroup(n,m,h,d).pipe(yt(x=>({segment:x,outlet:d})))}),wI((d,h)=>(d[h.outlet]=h.segment,d),{}),function $W(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Dr((a,d)=>t(a,d,i)):Se,NE(1),e?SI(n):xI(()=>new pb))}())}expandSegment(n,e,i,a,d,h){return sr(i).pipe(hf(m=>this.expandSegmentAgainstRoute(n,e,i,m,a,d,h).pipe(Du(R=>{if(R instanceof Eb)return yn(null);throw R}))),pf(m=>!!m),Du((m,x)=>{if(m instanceof pb||"EmptyError"===m.name)return oM(e,a,d)?yn(new Jn([],{})):S_(e);throw m}))}expandSegmentAgainstRoute(n,e,i,a,d,h,m){return rM(a,e,d,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,e,a,d,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,a,d,h):S_(e):S_(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,a,d,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,d,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,a){const d=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?aM(d):this.lineralizeSegments(i,d).pipe(Tn(h=>{const m=new Jn(h,{});return this.expandSegment(n,m,e,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,a,d,h){const{matched:m,consumedSegments:x,remainingSegments:R,positionalParamSegments:L}=xb(e,a,d);if(!m)return S_(e);const W=this.applyRedirectCommands(x,a.redirectTo,L);return a.redirectTo.startsWith("/")?aM(W):this.lineralizeSegments(a,W).pipe(Tn(X=>this.expandSegment(n,e,i,X.concat(R),h,!1)))}matchSegmentAgainstRoute(n,e,i,a,d){if("**"===i.path)return i.loadChildren?(i._loadedConfig?yn(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe(yt(W=>(i._loadedConfig=W,new Jn(a,{})))):yn(new Jn(a,{}));const{matched:h,consumedSegments:m,remainingSegments:x}=xb(e,i,a);return h?this.getChildConfig(n,i,a).pipe(Tn(L=>{const W=L.module,X=L.routes,{segmentGroup:re,slicedSegments:ge}=Sb(e,m,x,X),be=new Jn(re.segments,re.children);if(0===ge.length&&be.hasChildren())return this.expandChildren(W,X,be).pipe(yt(Me=>new Jn(m,Me)));if(0===X.length&&0===ge.length)return yn(new Jn(m,{}));const ve=ta(i)===d;return this.expandSegment(W,be,X,ge,ve?Yn:d,!0).pipe(yt(Ee=>new Jn(m.concat(Ee.segments),Ee.children)))})):S_(e)}getChildConfig(n,e,i){return e.children?yn(new YE(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?yn(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe(Tn(a=>a?this.configLoader.load(n.injector,e).pipe(yt(d=>(e._loadedConfig=d,d))):function XU(t){return hb(LE(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):yn(new YE([],n))}runCanLoadGuards(n,e,i){const a=e.canLoad;return a&&0!==a.length?yn(a.map(h=>{const m=n.get(h);let x;if(function LU(t){return t&&Au(t.canLoad)}(m))x=m.canLoad(e,i);else{if(!Au(m))throw new Error("Invalid CanLoad guard");x=m(e,i)}return fl(x)})).pipe(w_(),Xr(h=>{if(!Jd(h))return;const m=LE(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),yt(h=>!0===h)):yn(!0)}lineralizeSegments(n,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return yn(i);if(a.numberOfChildren>1||!a.children[Yn])return hb(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));a=a.children[Yn]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,a){const d=this.createSegmentGroup(n,e.root,i,a);return new Qd(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Qr(n,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const m=a.substring(1);i[d]=e[m]}else i[d]=a}),i}createSegmentGroup(n,e,i,a){const d=this.createSegments(n,e.segments,i,a);let h={};return Qr(e.children,(m,x)=>{h[x]=this.createSegmentGroup(n,m,i,a)}),new Jn(d,h)}createSegments(n,e,i,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,a):this.findOrReturn(d,i))}findPosParam(n,e,i){const a=i[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return a}findOrReturn(n,e){let i=0;for(const a of e){if(a.path===n.path)return e.splice(i),a;i++}return n}}function qE(t){const n={};for(const i of Object.keys(t.children)){const d=qE(t.children[i]);(d.segments.length>0||d.hasChildren())&&(n[i]=d)}return function JU(t){if(1===t.numberOfChildren&&t.children[Yn]){const n=t.children[Yn];return new Jn(t.segments.concat(n.segments),n.children)}return t}(new Jn(t.segments,n))}class lM{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Db{constructor(n,e){this.component=n,this.route=e}}function t5(t,n,e){const i=t._root;return T_(i,n?n._root:null,e,[i.value])}function Ab(t,n,e){const i=function i5(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function T_(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=gf(n);return t.children.forEach(h=>{(function r5(t,n,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=t.value,h=n?n.value:null,m=e?e.getContext(t.value.outlet):null;if(h&&d.routeConfig===h.routeConfig){const x=function o5(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Zd(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Zd(t.url,n.url)||!pl(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$E(t,n)||!pl(t.queryParams,n.queryParams);default:return!$E(t,n)}}(h,d,d.routeConfig.runGuardsAndResolvers);x?a.canActivateChecks.push(new lM(i)):(d.data=h.data,d._resolvedData=h._resolvedData),T_(t,n,d.component?m?m.children:null:e,i,a),x&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new Db(m.outlet.component,h))}else h&&E_(n,m,a),a.canActivateChecks.push(new lM(i)),T_(t,null,d.component?m?m.children:null:e,i,a)})(h,d[h.value.outlet],e,i.concat([h.value]),a),delete d[h.value.outlet]}),Qr(d,(h,m)=>E_(h,e.getContext(m),a)),a}function E_(t,n,e){const i=gf(t),a=t.value;Qr(i,(d,h)=>{E_(d,a.component?n?n.children.getContext(h):null:n,e)}),e.canDeactivateChecks.push(new Db(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}class f5{}function cM(t){return new ke(n=>n.error(t))}class m5{constructor(n,e,i,a,d,h){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=h}recognize(){const n=Sb(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Yn);if(null===e)return null;const i=new yb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yn,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new ac(i,e),d=new YI(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const e=n.value,i=zI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const d of Object.keys(e.children)){const h=e.children[d],m=nM(n,d),x=this.processSegmentGroup(m,h,d);if(null===x)return null;i.push(...x)}const a=uM(i);return function _5(t){t.sort((n,e)=>n.value.outlet===Yn?-1:e.value.outlet===Yn?1:n.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(n,e,i,a){for(const d of n){const h=this.processSegmentAgainstRoute(d,e,i,a);if(null!==h)return h}return oM(e,i,a)?[]:null}processSegmentAgainstRoute(n,e,i,a){if(n.redirectTo||!rM(n,e,i,a))return null;let d,h=[],m=[];if("**"===n.path){const re=i.length>0?PI(i).parameters:{};d=new yb(i,re,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pM(n),ta(n),n.component,n,dM(e),hM(e)+i.length,fM(n))}else{const re=xb(e,n,i);if(!re.matched)return null;h=re.consumedSegments,m=re.remainingSegments,d=new yb(h,re.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pM(n),ta(n),n.component,n,dM(e),hM(e)+h.length,fM(n))}const x=function v5(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:R,slicedSegments:L}=Sb(e,h,m,x.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);if(0===L.length&&R.hasChildren()){const re=this.processChildren(x,R);return null===re?null:[new ac(d,re)]}if(0===x.length&&0===L.length)return[new ac(d,[])];const W=ta(n)===a,X=this.processSegment(x,R,L,W?Yn:a);return null===X?null:[new ac(d,X)]}}function y5(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function uM(t){const n=[],e=new Set;for(const i of t){if(!y5(i)){n.push(i);continue}const a=n.find(d=>i.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):n.push(i)}for(const i of e){const a=uM(i.children);n.push(new ac(i.value,a))}return n.filter(i=>!e.has(i))}function dM(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function hM(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function pM(t){return t.data||{}}function fM(t){return t.resolve||{}}function gM(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function XE(t){return hl(n=>{const e=t(n);return e?sr(e).pipe(yt(()=>n)):yn(n)})}class D5 extends class E5{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const QE=new Zt("ROUTES");class mM{constructor(n,e,i,a){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=a}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe(yt(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=d.create(n);return new YE(OI(h.injector.get(QE,void 0,pn.Self|pn.Optional)).map(KE),h)}),Du(d=>{throw e._loader$=void 0,d}));return e._loader$=new BW(a,()=>new qe).pipe(bI()),e._loader$}loadModuleFactory(n){return fl(n()).pipe(Tn(e=>e instanceof RO?yn(e):sr(this.compiler.compileModuleAsync(e))))}}class k5{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function R5(t){throw t}function O5(t,n,e){return n.parse("/")}function _M(t,n){return yn(null)}const P5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vo=(()=>{class t{constructor(e,i,a,d,h,m,x){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=a,this.location=d,this.config=x,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qe,this.errorHandler=R5,this.malformedUriErrorHandler=O5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_M,afterPreactivation:_M},this.urlHandlingStrategy=new k5,this.routeReuseStrategy=new D5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(ic),this.console=h.get(hP);const W=h.get(Un);this.isNgZoneEnabled=W instanceof Un&&Un.isInAngularZone(),this.resetConfig(x),this.currentUrlTree=function oU(){return new Qd(new Jn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mM(h,m,X=>this.triggerEvent(new EI(X)),X=>this.triggerEvent(new DI(X))),this.routerState=UI(this.currentUrlTree,this.rootComponentType),this.transitions=new Vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Dr(a=>0!==a.id),yt(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),hl(a=>{let d=!1,h=!1;return yn(a).pipe(Xr(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hl(m=>{const x=this.browserUrlTree.toString(),R=!this.navigated||m.extractedUrl.toString()!==x||x!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||R)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return vM(m.source)&&(this.browserUrlTree=m.extractedUrl),yn(m).pipe(hl(W=>{const X=this.transitions.getValue();return i.next(new FE(W.id,this.serializeUrl(W.extractedUrl),W.source,W.restoredState)),X!==this.transitions.getValue()?Uo:Promise.resolve(W)}),function e5(t,n,e,i){return hl(a=>function QU(t,n,e,i,a){return new ZU(t,n,e,i,a).apply()}(t,n,e,a.extractedUrl,i).pipe(yt(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Xr(W=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:W.urlAfterRedirects})}),function C5(t,n,e,i,a){return Tn(d=>function g5(t,n,e,i,a="emptyOnly",d="legacy"){try{const h=new m5(t,n,e,i,a,d).recognize();return null===h?cM(new f5):yn(h)}catch(h){return cM(h)}}(t,n,d.urlAfterRedirects,e(d.urlAfterRedirects),i,a).pipe(yt(h=>Object.assign(Object.assign({},d),{targetSnapshot:h}))))}(this.rootComponentType,this.config,W=>this.serializeUrl(W),this.paramsInheritanceStrategy,this.relativeLinkResolution),Xr(W=>{if("eager"===this.urlUpdateStrategy){if(!W.extras.skipLocationChange){const re=this.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl);this.setBrowserUrl(re,W)}this.browserUrlTree=W.urlAfterRedirects}const X=new zW(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);i.next(X)}));if(R&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:X,extractedUrl:re,source:ge,restoredState:be,extras:ve}=m,De=new FE(X,this.serializeUrl(re),ge,be);i.next(De);const Ee=UI(re,this.rootComponentType).snapshot;return yn(Object.assign(Object.assign({},m),{targetSnapshot:Ee,urlAfterRedirects:re,extras:Object.assign(Object.assign({},ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Uo}),XE(m=>{const{targetSnapshot:x,id:R,extractedUrl:L,rawUrl:W,extras:{skipLocationChange:X,replaceUrl:re}}=m;return this.hooks.beforePreactivation(x,{navigationId:R,appliedUrlTree:L,rawUrlTree:W,skipLocationChange:!!X,replaceUrl:!!re})}),Xr(m=>{const x=new YW(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(x)}),yt(m=>Object.assign(Object.assign({},m),{guards:t5(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function s5(t,n){return Tn(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:h}}=e;return 0===h.length&&0===d.length?yn(Object.assign(Object.assign({},e),{guardsResult:!0})):function a5(t,n,e,i){return sr(t).pipe(Tn(a=>function p5(t,n,e,i,a){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return d&&0!==d.length?yn(d.map(m=>{const x=Ab(m,n,a);let R;if(function BU(t){return t&&Au(t.canDeactivate)}(x))R=fl(x.canDeactivate(t,n,e,i));else{if(!Au(x))throw new Error("Invalid CanDeactivate guard");R=fl(x(t,n,e,i))}return R.pipe(pf())})).pipe(w_()):yn(!0)}(a.component,a.route,e,n,i)),pf(a=>!0!==a,!0))}(h,i,a,t).pipe(Tn(m=>m&&function FU(t){return"boolean"==typeof t}(m)?function l5(t,n,e,i){return sr(n).pipe(hf(a=>g_(function u5(t,n){return null!==t&&n&&n(new QW(t)),yn(!0)}(a.route.parent,i),function c5(t,n){return null!==t&&n&&n(new JW(t)),yn(!0)}(a.route,i),function h5(t,n,e){const i=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(h=>function n5(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(h)).filter(h=>null!==h).map(h=>CI(()=>yn(h.guards.map(x=>{const R=Ab(x,h.node,e);let L;if(function GU(t){return t&&Au(t.canActivateChild)}(R))L=fl(R.canActivateChild(i,t));else{if(!Au(R))throw new Error("Invalid CanActivateChild guard");L=fl(R(i,t))}return L.pipe(pf())})).pipe(w_())));return yn(d).pipe(w_())}(t,a.path,e),function d5(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return yn(!0);const a=i.map(d=>CI(()=>{const h=Ab(d,n,e);let m;if(function VU(t){return t&&Au(t.canActivate)}(h))m=fl(h.canActivate(n,t));else{if(!Au(h))throw new Error("Invalid CanActivate guard");m=fl(h(n,t))}return m.pipe(pf())}));return yn(a).pipe(w_())}(t,a.route,e))),pf(a=>!0!==a,!0))}(i,d,t,n):yn(m)),yt(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),Xr(m=>{if(Jd(m.guardsResult)){const R=LE(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw R.url=m.guardsResult,R}const x=new KW(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(x)}),Dr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),XE(m=>{if(m.guards.canActivateChecks.length)return yn(m).pipe(Xr(x=>{const R=new qW(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(R)}),hl(x=>{let R=!1;return yn(x).pipe(function b5(t,n){return Tn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return yn(e);let d=0;return sr(a).pipe(hf(h=>function w5(t,n,e,i){return function x5(t,n,e,i){const a=gM(t);if(0===a.length)return yn({});const d={};return sr(a).pipe(Tn(h=>function S5(t,n,e,i){const a=Ab(t,n,i);return fl(a.resolve?a.resolve(n,e):a(n,e))}(t[h],n,e,i).pipe(Xr(m=>{d[h]=m}))),NE(1),Tn(()=>gM(d).length===a.length?yn(d):Uo))}(t._resolve,t,n,i).pipe(yt(d=>(t._resolvedData=d,t.data=Object.assign(Object.assign({},t.data),zI(t,e).resolve),null)))}(h.route,i,t,n)),Xr(()=>d++),NE(1),Tn(h=>d===a.length?yn(e):Uo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Xr({next:()=>R=!0,complete:()=>{R||(this.restoreHistory(x),this.cancelNavigationTransition(x,"At least one route resolver didn't emit any value."))}}))}),Xr(x=>{const R=new XW(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(R)}))}),XE(m=>{const{targetSnapshot:x,id:R,extractedUrl:L,rawUrl:W,extras:{skipLocationChange:X,replaceUrl:re}}=m;return this.hooks.afterPreactivation(x,{navigationId:R,appliedUrlTree:L,rawUrlTree:W,skipLocationChange:!!X,replaceUrl:!!re})}),yt(m=>{const x=function xU(t,n,e){const i=y_(t,n._root,e?e._root:void 0);return new WI(i,n)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:x})}),Xr(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((t,n,e)=>yt(i=>(new MU(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),Xr({next(){d=!0},complete(){d=!0}}),function WW(t){return Re((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}(()=>{var m;d||h||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===a.id&&(this.currentNavigation=null)}),Du(m=>{if(h=!0,function nU(t){return t&&t[kI]}(m)){const x=Jd(m.url);x||(this.navigated=!0,this.restoreHistory(a,!0));const R=new TI(a.id,this.serializeUrl(a.extractedUrl),m.message);i.next(R),x?setTimeout(()=>{const L=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),W={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vM(a.source)};this.scheduleNavigation(L,"imperative",null,W,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const x=new UW(a.id,this.serializeUrl(a.extractedUrl),m);i.next(x);try{a.resolve(this.errorHandler(m))}catch(R){a.reject(R)}}return Uo}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var a;const d={replaceUrl:!0},h=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(h){const x=Object.assign({},h);delete x.navigationId,delete x.\u0275routerPageId,0!==Object.keys(x).length&&(d.state=x)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,i,h,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){tM(e),this.config=e.map(KE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:d,fragment:h,queryParamsHandling:m,preserveFragment:x}=i,R=a||this.routerState.root,L=x?this.currentUrlTree.fragment:h;let W=null;switch(m){case"merge":W=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=d||null}return null!==W&&(W=this.removeEmptyProps(W)),function EU(t,n,e,i,a){if(0===e.length)return WE(n.root,n.root,n.root,i,a);const d=function DU(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new XI(!0,0,t);let n=0,e=!1;const i=t.reduce((a,d,h)=>{if("object"==typeof d&&null!=d){if(d.outlets){const m={};return Qr(d.outlets,(x,R)=>{m[R]="string"==typeof x?x.split("/"):x}),[...a,{outlets:m}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===h?(d.split("/").forEach((m,x)=>{0==x&&"."===m||(0==x&&""===m?e=!0:".."===m?n++:""!=m&&a.push(m))}),a):[...a,d]},[]);return new XI(e,n,i)}(e);if(d.toRoot())return WE(n.root,n.root,new Jn([],{}),i,a);const h=function AU(t,n,e){if(t.isAbsolute)return new UE(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new UE(d,d===n.root,0)}const i=Cb(t.commands[0])?0:1;return function kU(t,n,e){let i=t,a=n,d=e;for(;d>a;){if(d-=a,i=i.parent,!i)throw new Error("Invalid number of '../'");a=i.segments.length}return new UE(i,!1,a-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(d,n,t),m=h.processChildren?bb(h.segmentGroup,h.index,d.commands):QI(h.segmentGroup,h.index,d.commands);return WE(n.root,h.segmentGroup,m,i,a)}(R,this.currentUrlTree,e,W,null!=L?L:null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=Jd(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function M5(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?Object.assign({},P5):!1===i?Object.assign({},I5):i,Jd(e))return MI(this.currentUrlTree,e,a);const d=this.parseUrl(e);return MI(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const d=e[a];return null!=d&&(i[a]=d),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new m_(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,a,d,h){var m,x;if(this.disposed)return Promise.resolve(!1);let R,L,W;h?(R=h.resolve,L=h.reject,W=h.promise):W=new Promise((ge,be)=>{R=ge,L=be});const X=++this.navigationId;let re;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),re=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(x=this.browserPageId)&&void 0!==x?x:0)+1):re=0,this.setTransition({id:X,targetPageId:re,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:R,reject:L,promise:W,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),W.catch(ge=>Promise.reject(ge))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,i=!1){var a,d;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const a=new TI(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){Km()},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();function vM(t){return"imperative"!==t}let ZE=(()=>{class t{constructor(e,i,a,d,h){this.router=e,this.route=i,this.tabIndexAttribute=a,this.renderer=d,this.el=h,this.commands=null,this.onChanges=new qe,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,a=this.el.nativeElement;null!==e?i.setAttribute(a,"tabindex",e):i.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:_f(this.skipLocationChange),replaceUrl:_f(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_f(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ce(Vo),Ce(mf),Us("tabindex"),Ce(Fo),Ce(Bn))},t.\u0275dir=Et({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&Ve("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[$n]}),t})(),kb=(()=>{class t{constructor(e,i,a){this.router=e,this.route=i,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new qe,this.subscription=e.events.subscribe(d=>{d instanceof m_&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,a,d,h){if(0!==e||i||a||d||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:_f(this.skipLocationChange),replaceUrl:_f(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_f(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ce(Vo),Ce(mf),Ce(cf))},t.\u0275dir=Et({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&Ve("click",function(d){return i.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&kt("target",i.target)("href",i.href,Ks)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[$n]}),t})();function _f(t){return""===t||!!t}let yM=(()=>{class t{constructor(e,i,a,d,h,m){this.router=e,this.element=i,this.renderer=a,this.cdr=d,this.link=h,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=e.events.subscribe(x=>{x instanceof m_&&this.update()})}ngAfterContentInit(){yn(this.links.changes,this.linksWithHrefs.changes,yn(null)).pipe(Gu()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=sr(i).pipe(Gu()).subscribe(a=>{this.isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(a=>!!a)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function N5(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>!!a.urlTree&&e.isActive(a.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Vo),Ce(Bn),Ce(Fo),Ce(Fr),Ce(ZE,8),Ce(kb,8))},t.\u0275dir=Et({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,a){if(1&e&&(Oi(a,ZE,5),Oi(a,kb,5)),2&e){let d;qt(d=Xt())&&(i.links=d),qt(d=Xt())&&(i.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[$n]}),t})();class CM{}class bM{preload(n,e){return yn(null)}}let wM=(()=>{class t{constructor(e,i,a,d){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=new mM(a,i,x=>e.triggerEvent(new EI(x)),x=>e.triggerEvent(new DI(x)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dr(e=>e instanceof m_),hf(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ic);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const d of i)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const h=d._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(e,d)):d.children&&a.push(this.processRoutes(e,d.children));return sr(a).pipe(Gu(),yt(d=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?yn(i._loadedConfig):this.loader.load(e.injector,i)).pipe(Tn(d=>(i._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Qe(Vo),Qe(pP),Qe(Ri),Qe(CM))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),JE=(()=>{class t{constructor(e,i,a={}){this.router=e,this.viewportScroller=i,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof FE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof m_&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof AI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new AI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Km()},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const eh=new Zt("ROUTER_CONFIGURATION"),xM=new Zt("ROUTER_FORROOT_GUARD"),L5=[hE,{provide:VI,useClass:GI},{provide:Vo,useFactory:function j5(t,n,e,i,a,d,h={},m,x){const R=new Vo(null,t,n,e,i,a,OI(d));return m&&(R.urlHandlingStrategy=m),x&&(R.routeReuseStrategy=x),function $5(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(h,R),h.enableTracing&&R.events.subscribe(L=>{var W,X;null===(W=console.group)||void 0===W||W.call(console,`Router Event: ${L.constructor.name}`),console.log(L.toString()),console.log(L),null===(X=console.groupEnd)||void 0===X||X.call(console)}),R},deps:[VI,x_,hE,Ri,pP,QE,eh,[class A5{},new ms],[class T5{},new ms]]},x_,{provide:mf,useFactory:function W5(t){return t.routerState.root},deps:[Vo]},wM,bM,class F5{preload(n,e){return e().pipe(Du(()=>yn(null)))}},{provide:eh,useValue:{enableTracing:!1}}];function V5(){return new vP("Router",Vo)}let SM=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[L5,TM(e),{provide:xM,useFactory:H5,deps:[[Vo,new ms,new Yc]]},{provide:eh,useValue:i||{}},{provide:cf,useFactory:B5,deps:[qd,[new dp(dE),new ms],eh]},{provide:JE,useFactory:G5,deps:[Vo,K$,eh]},{provide:CM,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:bM},{provide:vP,multi:!0,useFactory:V5},[eD,{provide:QT,multi:!0,useFactory:U5,deps:[eD]},{provide:EM,useFactory:z5,deps:[eD]},{provide:dP,multi:!0,useExisting:EM}]]}}static forChild(e){return{ngModule:t,providers:[TM(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Qe(xM,8),Qe(Vo,8))},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})();function G5(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new JE(t,n,e)}function B5(t,n,e={}){return e.useHash?new Pj(t,n):new VP(t,n)}function H5(t){return"guarded"}function TM(t){return[{provide:lp,multi:!0,useValue:t},{provide:QE,multi:!0,useValue:t}]}let eD=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qe}appInitializer(){return this.injector.get(kj,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const a=new Promise(m=>i=m),d=this.injector.get(Vo),h=this.injector.get(eh);return"disabled"===h.initialNavigation?(d.setUpLocationChangeListener(),i(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?yn(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),d.initialNavigation()):i(!0),a})}bootstrapListener(e){const i=this.injector.get(eh),a=this.injector.get(wM),d=this.injector.get(JE),h=this.injector.get(Vo),m=this.injector.get(Su);e===m.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),d.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Qe(Ri))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();function U5(t){return t.appInitializer.bind(t)}function z5(t){return t.bootstrapListener.bind(t)}const EM=new Zt("Router Initializer");var K5=J(123);const tD="AuthToken",nD="AuthUserName";let po=(()=>{class t{constructor(){this.roles=[]}setToken(e){localStorage.removeItem(tD),localStorage.setItem(tD,e)}getToken(){return localStorage.getItem(tD)}setUsername(e){localStorage.removeItem(nD),localStorage.setItem(nD,e)}getUsername(){return localStorage.getItem(nD)}logOut(){localStorage.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class DM{}const lc="*";function iD(t,n){return{type:7,name:t,definitions:n,options:{}}}function D_(t,n=null){return{type:4,styles:n,timings:t}}function AM(t,n=null){return{type:2,steps:t,options:n}}function Ia(t){return{type:6,styles:t,offset:null}}function rD(t,n,e){return{type:0,name:t,styles:n,options:e}}function A_(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function kM(t){Promise.resolve(null).then(t)}class k_{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class RM{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,a=0;const d=this.players.length;0==d?kM(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==d&&this._onFinish()}),h.onDestroy(()=>{++i==d&&this._onDestroy()}),h.onStart(()=>{++a==d&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const a=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(a)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const OM=["toast-component",""];function X5(t,n){if(1&t){const e=Tt();M(0,"button",5),Ve("click",function(){return Xe(e),ae().remove()}),M(1,"span",6),K(2,"\xd7"),N()()}}function Q5(t,n){if(1&t&&(Tr(0),K(1),Hi()),2&t){const e=ae(2);V(1),it("[",e.duplicatesCount+1,"]")}}function Z5(t,n){if(1&t&&(M(0,"div"),K(1),ie(2,Q5,2,1,"ng-container",4),N()),2&t){const e=ae();We(e.options.titleClass),kt("aria-label",e.title),V(1),it(" ",e.title," "),V(1),U("ngIf",e.duplicatesCount)}}function J5(t,n){if(1&t&&_e(0,"div",7),2&t){const e=ae();We(e.options.messageClass),U("innerHTML",e.message,_p)}}function e4(t,n){if(1&t&&(M(0,"div",8),K(1),N()),2&t){const e=ae();We(e.options.messageClass),kt("aria-label",e.message),V(1),it(" ",e.message," ")}}function t4(t,n){if(1&t&&(M(0,"div"),_e(1,"div",9),N()),2&t){const e=ae();V(1),we("width",e.width+"%")}}function n4(t,n){if(1&t){const e=Tt();M(0,"button",5),Ve("click",function(){return Xe(e),ae().remove()}),M(1,"span",6),K(2,"\xd7"),N()()}}function i4(t,n){if(1&t&&(Tr(0),K(1),Hi()),2&t){const e=ae(2);V(1),it("[",e.duplicatesCount+1,"]")}}function r4(t,n){if(1&t&&(M(0,"div"),K(1),ie(2,i4,2,1,"ng-container",4),N()),2&t){const e=ae();We(e.options.titleClass),kt("aria-label",e.title),V(1),it(" ",e.title," "),V(1),U("ngIf",e.duplicatesCount)}}function o4(t,n){if(1&t&&_e(0,"div",7),2&t){const e=ae();We(e.options.messageClass),U("innerHTML",e.message,_p)}}function s4(t,n){if(1&t&&(M(0,"div",8),K(1),N()),2&t){const e=ae();We(e.options.messageClass),kt("aria-label",e.message),V(1),it(" ",e.message," ")}}function a4(t,n){if(1&t&&(M(0,"div"),_e(1,"div",9),N()),2&t){const e=ae();V(1),we("width",e.width+"%")}}class l4{constructor(n,e){this.component=n,this.injector=e}attach(n,e){return this._attachedHost=n,n.attach(this,e)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Rb{constructor(n,e,i,a,d,h){this.toastId=n,this.config=e,this.message=i,this.title=a,this.toastType=d,this.toastRef=h,this._onTap=new qe,this._onAction=new qe,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const PM={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},IM=new Zt("ToastConfig");class u4{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new qe,this._activate=new qe,this._manualClose=new qe,this._resetTimeout=new qe,this._countDuplicate=new qe}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,e){n&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class d4{constructor(n,e){this._toastPackage=n,this._parentInjector=e}get(n,e,i){return n===Rb?this._toastPackage:this._parentInjector.get(n,e,i)}}class h4 extends class c4{attach(n,e){return this._attachedPortal=n,this.attachComponentPortal(n,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}{constructor(n,e,i){super(),this._hostDomElement=n,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(n,e){const i=this._componentFactoryResolver.resolveComponentFactory(n.component);let a;return a=i.create(n.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}class p4{constructor(n){this._portalHost=n}attach(n,e=!0){return this._portalHost.attach(n,e)}detach(){return this._portalHost.detach()}}let f4=(()=>{class t{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g4=(()=>{class t{constructor(e,i,a,d){this._overlayContainer=e,this._componentFactoryResolver=i,this._appRef=a,this._document=d,this._paneElements=new Map}create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(e),a.classList.add("toast-container"),i?i.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(e){return new h4(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new p4(this._createPortalHost(e))}}return t.\u0275fac=function(e){return new(e||t)(Qe(f4),Qe(ul),Qe(Su),Qe(hi))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sD=(()=>{class t{constructor(e,i,a,d,h){this.overlay=i,this._injector=a,this.sanitizer=d,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}show(e,i,a={},d=""){return this._preBuildNotification(d,e,i,this.applyConfig(a))}success(e,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,i,this.applyConfig(a))}error(e,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,i,this.applyConfig(a))}info(e,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,i,this.applyConfig(a))}warning(e,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,i,this.applyConfig(a))}clear(e){for(const i of this.toasts)if(void 0!==e){if(i.toastId===e)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(e){const i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(e="",i="",a,d){const{includeTitleDuplicates:h}=this.toastrConfig;for(const m of this.toasts){const x=h&&m.title===e;if((!h||x)&&m.message===i)return m.toastRef.onDuplicate(a,d),m}return null}applyConfig(e={}){return Object.assign(Object.assign({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,a,d){return d.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,a,d)):this._buildNotification(e,i,a,d)}_buildNotification(e,i,a,d){if(!d.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(a,i,this.toastrConfig.resetTimeoutOnDuplicate&&d.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||i)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=i;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const x=this.overlay.create(d.positionClass,this.overlayContainer);this.index=this.index+1;let R=i;i&&d.enableHtml&&(R=this.sanitizer.sanitize(yi.HTML,i));const L=new u4(x),W=new Rb(this.index,d,R,a,e,L),X=new d4(W,this._injector),re=new l4(d.toastComponent,X),ge=x.attach(re,this.toastrConfig.newestOnTop);L.componentInstance=ge.instance;const be={toastId:this.index,title:a||"",message:i||"",toastRef:L,onShown:L.afterActivate(),onHidden:L.afterClosed(),onTap:W.onTap(),onAction:W.onAction(),portal:ge};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{be.toastRef.activate()})),this.toasts.push(be),be}}return t.\u0275fac=function(e){return new(e||t)(Qe(IM),Qe(g4),Qe(Ri),Qe(gI),Qe(Un))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m4=(()=>{class t{constructor(e,i,a){this.toastrService=e,this.toastPackage=i,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return t.\u0275fac=function(e){return new(e||t)(Ce(sD),Ce(Rb),Ce(Un))},t.\u0275cmp=zt({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,i){1&e&&Ve("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(DT("@flyInOut",i.state),We(i.toastClasses),we("display",i.displayStyle))},attrs:OM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,i){1&e&&(ie(0,X5,3,0,"button",0),ie(1,Z5,3,5,"div",1),ie(2,J5,1,3,"div",2),ie(3,e4,2,4,"div",3),ie(4,t4,2,2,"div",4)),2&e&&(U("ngIf",i.options.closeButton),V(1),U("ngIf",i.title),V(1),U("ngIf",i.message&&i.options.enableHtml),V(1),U("ngIf",i.message&&!i.options.enableHtml),V(1),U("ngIf",i.options.progressBar))},directives:[Zn],encapsulation:2,data:{animation:[iD("flyInOut",[rD("inactive",Ia({opacity:0})),rD("active",Ia({opacity:1})),rD("removed",Ia({opacity:0})),A_("inactive => active",D_("{{ easeTime }}ms {{ easing }}")),A_("active => removed",D_("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const _4=Object.assign(Object.assign({},PM),{toastComponent:m4});let v4=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:IM,useValue:{default:_4,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),y4=(()=>{class t{constructor(e,i,a){this.toastrService=e,this.toastPackage=i,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(d=>{this.duplicatesCount=d})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(Ce(sD),Ce(Rb),Ce(Su))},t.\u0275cmp=zt({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,i){1&e&&Ve("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&e&&(We(i.toastClasses),we("display",i.displayStyle))},attrs:OM,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,i){1&e&&(ie(0,n4,3,0,"button",0),ie(1,r4,3,5,"div",1),ie(2,o4,1,3,"div",2),ie(3,s4,2,4,"div",3),ie(4,a4,2,2,"div",4)),2&e&&(U("ngIf",i.options.closeButton),V(1),U("ngIf",i.title),V(1),U("ngIf",i.message&&i.options.enableHtml),V(1),U("ngIf",i.message&&!i.options.enableHtml),V(1),U("ngIf",i.options.progressBar))},directives:[Zn],encapsulation:2}),t})();Object.assign(Object.assign({},PM),{toastComponent:y4});let MM=(()=>{class t{constructor(e,i,a){this.tokenService=e,this.toastr=i,this.router=a,this.title="iman-desktop-app"}isExpiredToken(e){const i=JSON.parse(atob(e.split(".")[1])).exp;return Math.floor((new Date).getTime()/1e3)>=i}ngOnInit(){const e=this.tokenService.getToken();null==e?this.router.navigate(["/login"]):e&&this.isExpiredToken(e)?(this.tokenService.logOut(),this.toastr.error("Expired session"),this.reload()):["","/","/app","/app/"].includes(this.router.url)&&this.router.navigate(["/app/effort"]),K5.init({offset:30,duration:1500})}reload(){window.location.reload()}}return t.\u0275fac=function(e){return new(e||t)(Ce(po),Ce(sD),Ce(Vo))},t.\u0275cmp=zt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&_e(0,"router-outlet")},directives:[wb],styles:[""]}),t})(),NM=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Fo),Ce(Bn))},t.\u0275dir=Et({type:t}),t})(),th=(()=>{class t extends NM{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,features:[On]}),t})();const na=new Zt("NgValueAccessor"),b4={provide:na,useExisting:Qn(()=>Ob),multi:!0};let Ob=(()=>{class t extends th{writeValue(e){this.setProperty("checked",e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&Ve("change",function(d){return i.onChange(d.target.checked)})("blur",function(){return i.onTouched()})},features:[si([b4]),On]}),t})();const w4={provide:na,useExisting:Qn(()=>fo),multi:!0},S4=new Zt("CompositionEventMode");let fo=(()=>{class t extends NM{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function x4(){const t=dl()?dl().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Fo),Ce(Bn),Ce(S4,8))},t.\u0275dir=Et({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ve("input",function(d){return i._handleInput(d.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(d){return i._compositionEnd(d.target.value)})},features:[si([w4]),On]}),t})();function ku(t){return null==t||0===t.length}function FM(t){return null!=t&&"number"==typeof t.length}const go=new Zt("NgValidators"),Ru=new Zt("NgAsyncValidators"),T4=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Jt{static min(n){return LM(n)}static max(n){return VM(n)}static required(n){return GM(n)}static requiredTrue(n){return function BM(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return HM(n)}static minLength(n){return jM(n)}static maxLength(n){return $M(n)}static pattern(n){return WM(n)}static nullValidator(n){return null}static compose(n){return XM(n)}static composeAsync(n){return QM(n)}}function LM(t){return n=>{if(ku(n.value)||ku(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function VM(t){return n=>{if(ku(n.value)||ku(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function GM(t){return ku(t.value)?{required:!0}:null}function HM(t){return ku(t.value)||T4.test(t.value)?null:{email:!0}}function jM(t){return n=>ku(n.value)||!FM(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function $M(t){return n=>FM(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function WM(t){if(!t)return Pb;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(ku(i.value))return null;const a=i.value;return n.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}function Pb(t){return null}function UM(t){return null!=t}function zM(t){const n=$d(t)?sr(t):t;return Wd(n),n}function YM(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function KM(t,n){return n.map(e=>e(t))}function qM(t){return t.map(n=>function E4(t){return!t.validate}(n)?n:e=>n.validate(e))}function XM(t){if(!t)return null;const n=t.filter(UM);return 0==n.length?null:function(e){return YM(KM(e,n))}}function aD(t){return null!=t?XM(qM(t)):null}function QM(t){if(!t)return null;const n=t.filter(UM);return 0==n.length?null:function(e){return function C4(...t){const n=bc(t),{args:e,keys:i}=_I(t),a=new ke(d=>{const{length:h}=e;if(!h)return void d.complete();const m=new Array(h);let x=h,R=h;for(let L=0;L<h;L++){let W=!1;dr(e[L]).subscribe(Nt(d,X=>{W||(W=!0,R--),m[L]=X},()=>x--,void 0,()=>{(!x||!W)&&(R||d.next(i?vI(i,m):m),d.complete())}))}});return n?a.pipe(IE(n)):a}(KM(e,n).map(zM)).pipe(yt(YM))}}function lD(t){return null!=t?QM(qM(t)):null}function ZM(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function JM(t){return t._rawValidators}function eN(t){return t._rawAsyncValidators}function cD(t){return t?Array.isArray(t)?t:[t]:[]}function Ib(t,n){return Array.isArray(t)?t.includes(n):t===n}function tN(t,n){const e=cD(n);return cD(t).forEach(a=>{Ib(e,a)||e.push(a)}),e}function nN(t,n){return cD(n).filter(e=>!Ib(t,e))}class iN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=aD(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=lD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Ou extends iN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Go extends iN{get formDirective(){return null}get path(){return null}}class rN{constructor(n){this._cd=n}is(n){var e,i,a;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===a?void 0:a[n])}}let rs=(()=>{class t extends rN{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Ou,2))},t.\u0275dir=Et({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&xe("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[On]}),t})(),os=(()=>{class t extends rN{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Go,10))},t.\u0275dir=Et({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&xe("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[On]}),t})();function Nb(t,n){return[...n.path,t]}function R_(t,n){hD(t,n),n.valueAccessor.writeValue(t.value),function M4(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&sN(t,n)})}(t,n),function F4(t,n){const e=(i,a)=>{n.valueAccessor.writeValue(i),a&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function N4(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&sN(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function I4(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Fb(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),Vb(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lb(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function hD(t,n){const e=JM(t);null!==n.validator?t.setValidators(ZM(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=eN(t);null!==n.asyncValidator?t.setAsyncValidators(ZM(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const a=()=>t.updateValueAndValidity();Lb(n._rawValidators,a),Lb(n._rawAsyncValidators,a)}function Vb(t,n){let e=!1;if(null!==t){if(null!==n.validator){const a=JM(t);if(Array.isArray(a)&&a.length>0){const d=a.filter(h=>h!==n.validator);d.length!==a.length&&(e=!0,t.setValidators(d))}}if(null!==n.asyncValidator){const a=eN(t);if(Array.isArray(a)&&a.length>0){const d=a.filter(h=>h!==n.asyncValidator);d.length!==a.length&&(e=!0,t.setAsyncValidators(d))}}}const i=()=>{};return Lb(n._rawValidators,i),Lb(n._rawAsyncValidators,i),e}function sN(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gD(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const O_="VALID",Gb="INVALID",vf="PENDING",P_="DISABLED";function _D(t){return(Bb(t)?t.validators:t)||null}function uN(t){return Array.isArray(t)?aD(t):t||null}function vD(t,n){return(Bb(n)?n.asyncValidators:t)||null}function dN(t){return Array.isArray(t)?lD(t):t||null}function Bb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const yD=t=>t instanceof bD,Hb=t=>t instanceof jb,hN=t=>t instanceof mN;function pN(t){return yD(t)?t.value:t.getRawValue()}function fN(t,n){const e=Hb(t),i=t.controls;if(!(e?Object.keys(i):i).length)throw new $t(1e3,"");if(!i[n])throw new $t(1001,"")}function gN(t,n){Hb(t),t._forEachChild((i,a)=>{if(void 0===n[a])throw new $t(1002,"")})}class CD{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=uN(this._rawValidators),this._composedAsyncValidatorFn=dN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===O_}get invalid(){return this.status===Gb}get pending(){return this.status==vf}get disabled(){return this.status===P_}get enabled(){return this.status!==P_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=uN(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=dN(n)}addValidators(n){this.setValidators(tN(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(tN(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(nN(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(nN(n,this._rawAsyncValidators))}hasValidator(n){return Ib(this._rawValidators,n)}hasAsyncValidator(n){return Ib(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=vf,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=P_,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=O_,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===O_||this.status===vf)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P_:O_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=vf,this._hasOwnPendingAsyncValidator=!0;const e=zM(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function B4(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(a=>{i=Hb(i)?i.controls.hasOwnProperty(a)?i.controls[a]:null:hN(i)&&i.at(a)||null}),i}(this,n,".")}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?P_:this.errors?Gb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vf)?vf:this._anyControlsHaveStatus(Gb)?Gb:O_}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Bb(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bD extends CD{constructor(n=null,e,i){super(_D(e),vD(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bb(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){gD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){gD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class jb extends CD{constructor(n,e,i){super(_D(e),vD(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){gN(this,n),Object.keys(n).forEach(i=>{fN(this,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=pN(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((a,d)=>{i=e(i,a,d)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class mN extends CD{constructor(n,e,i){super(_D(e),vD(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){gN(this,n),n.forEach((i,a)=>{fN(this,a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,a)=>{i.reset(n[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>pN(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}let _N=(()=>{class t extends Go{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Nb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,features:[On]}),t})(),ss=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Et({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const W4={provide:na,useExisting:Qn(()=>nh),multi:!0};let nh=(()=>{class t extends th{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Ve("input",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},features:[si([W4]),On]}),t})(),bN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})();const xD=new Zt("NgModelWithFormControlWarning"),q4={provide:Go,useExisting:Qn(()=>mo)};let mo=(()=>{class t extends Go{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return R_(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Fb(e.control||null,e,!1),gD(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function cN(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,a=this.form.get(e.path);i!==a&&(Fb(i||null,e),yD(a)&&(R_(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function aN(t,n){hD(t,n)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function L4(t,n){return Vb(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hD(this.form,this),this._oldForm&&Vb(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(Ce(go,10),Ce(Ru,10))},t.\u0275dir=Et({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ve("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[si([q4]),On,$n]}),t})();const X4={provide:Go,useExisting:Qn(()=>yf)};let yf=(()=>{class t extends _N{constructor(e,i,a){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(a)}_checkParentType(){TN(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Go,13),Ce(go,10),Ce(Ru,10))},t.\u0275dir=Et({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[si([X4]),On]}),t})();const Q4={provide:Go,useExisting:Qn(()=>Pu)};let Pu=(()=>{class t extends Go{constructor(e,i,a){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(a)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Nb(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){TN(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Go,13),Ce(go,10),Ce(Ru,10))},t.\u0275dir=Et({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[si([Q4]),On]}),t})();function TN(t){return!(t instanceof yf||t instanceof mo||t instanceof Pu)}const Z4={provide:Ou,useExisting:Qn(()=>Bo)};let Bo=(()=>{class t extends Ou{constructor(e,i,a,d,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function fD(t,n){if(!n)return null;let e,i,a;return Array.isArray(n),n.forEach(d=>{d.constructor===fo?e=d:function G4(t){return Object.getPrototypeOf(t.constructor)===th}(d)?i=d:a=d}),a||i||e||null}(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function pD(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Nb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(Ce(Go,13),Ce(go,10),Ce(Ru,10),Ce(na,10),Ce(xD,8))},t.\u0275dir=Et({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[si([Z4]),On,$n]}),t})();const J4={provide:na,useExisting:Qn(()=>gl),multi:!0};function EN(t,n){return null==t?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let gl=(()=>{class t extends th{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const a=EN(this._getOptionId(e),e);this.setProperty("value",a)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function ez(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&Ve("change",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[si([J4]),On]}),t})(),Zr=(()=>{class t{constructor(e,i,a){this._element=e,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(EN(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(Fo),Ce(gl,9))},t.\u0275dir=Et({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const tz={provide:na,useExisting:Qn(()=>SD),multi:!0};function DN(t,n){return null==t?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${t}: ${n}`.slice(0,50))}let SD=(()=>{class t extends th{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const a=e.map(d=>this._getOptionId(d));i=(d,h)=>{d._setSelected(a.indexOf(h.toString())>-1)}}else i=(a,d)=>{a._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const a=[],d=i.selectedOptions;if(void 0!==d){const h=d;for(let m=0;m<h.length;m++){const R=this._getOptionValue(h[m].value);a.push(R)}}else{const h=i.options;for(let m=0;m<h.length;m++){const x=h[m];if(x.selected){const R=this._getOptionValue(x.value);a.push(R)}}}this.value=a,e(a)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function nz(t){return t.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&Ve("change",function(d){return i.onChange(d.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[si([tz]),On]}),t})(),Jr=(()=>{class t{constructor(e,i,a){this._element=e,this._renderer=i,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(DN(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(DN(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(Fo),Ce(SD,9))},t.\u0275dir=Et({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function AN(t){return"number"==typeof t?t:parseInt(t,10)}function kN(t){return"number"==typeof t?t:parseFloat(t)}let ih=(()=>{class t{constructor(){this._validator=Pb}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Pb,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Et({type:t,features:[$n]}),t})();const rz={provide:go,useExisting:Qn(()=>$b),multi:!0};let $b=(()=>{class t extends ih{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>kN(e),this.createValidator=e=>VM(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&kt("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[si([rz]),On]}),t})();const oz={provide:go,useExisting:Qn(()=>rh),multi:!0};let rh=(()=>{class t extends ih{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>kN(e),this.createValidator=e=>LM(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&kt("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[si([oz]),On]}),t})();const sz={provide:go,useExisting:Qn(()=>oh),multi:!0};let oh=(()=>{class t extends ih{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function iz(t){return null!=t&&!1!==t&&"false"!=`${t}`}(e),this.createValidator=e=>GM}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&kt("required",i._enabled?"":null)},inputs:{required:"required"},features:[si([sz]),On]}),t})();const lz={provide:go,useExisting:Qn(()=>Wb),multi:!0};let Wb=(()=>{class t extends ih{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=e=>""===e||!0===e||"true"===e,this.createValidator=e=>HM}enabled(e){return e}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[si([lz]),On]}),t})();const cz={provide:go,useExisting:Qn(()=>ia),multi:!0};let ia=(()=>{class t extends ih{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>AN(e),this.createValidator=e=>jM(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&kt("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[si([cz]),On]}),t})();const uz={provide:go,useExisting:Qn(()=>Ho),multi:!0};let Ho=(()=>{class t extends ih{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>AN(e),this.createValidator=e=>$M(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&kt("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[si([uz]),On]}),t})();const dz={provide:go,useExisting:Qn(()=>Ub),multi:!0};let Ub=(()=>{class t extends ih{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>WM(e)}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275dir=Et({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&kt("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[si([dz]),On]}),t})(),ON=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[bN]]}),t})(),PN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[ON]}),t})(),IN=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:xD,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[ON]}),t})(),Ar=(()=>{class t{group(e,i=null){const a=this._reduceControls(e);let m,d=null,h=null;return null!=i&&(function hz(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(i)?(d=null!=i.validators?i.validators:null,h=null!=i.asyncValidators?i.asyncValidators:null,m=null!=i.updateOn?i.updateOn:void 0):(d=null!=i.validator?i.validator:null,h=null!=i.asyncValidator?i.asyncValidator:null)),new jb(a,{asyncValidators:h,updateOn:m,validators:d})}control(e,i,a){return new bD(e,i,a)}array(e,i,a){const d=e.map(h=>this._createControl(h));return new mN(d,i,a)}_reduceControls(e){const i={};return Object.keys(e).forEach(a=>{i[a]=this._createControl(e[a])}),i}_createControl(e){return yD(e)||Hb(e)||hN(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:IN}),t})();class MN{constructor(n,e){this.username=n,this.password=e}}class pz{constructor(n,e,i,a,d,h,m){this.username=n,this.password=e,this.name=i,this.lastName=a,this.email=d,this.country=h,this.sector=m}}const Zi_backendEndpoint="https://iman-back.herokuapp.com";class NN{}class FN{}class cc{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const a=e.slice(0,i),d=a.toLowerCase(),h=e.slice(i+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(h):this.headers.set(d,[h])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const a=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(a,i),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof cc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new cc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof cc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const a=("a"===n.op?this.headers.get(e):void 0)||[];a.push(...i),this.headers.set(e,a);break;case"d":const d=n.value;if(d){let h=this.headers.get(e);if(!h)return;h=h.filter(m=>-1===d.indexOf(m)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class fz{encodeKey(n){return LN(n)}encodeValue(n){return LN(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const mz=/%(\d[a-f0-9])/gi,_z={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function LN(t){return encodeURIComponent(t).replace(mz,(n,e)=>{var i;return null!==(i=_z[e])&&void 0!==i?i:n})}function VN(t){return`${t}`}class uc{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new fz,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gz(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[h,m]=-1==d?[n.decodeKey(a),""]:[n.decodeKey(a.slice(0,d)),n.decodeValue(a.slice(d+1))],x=e.get(h)||[];x.push(m),e.set(h,x)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const a=n[i];Array.isArray(a)?a.forEach(d=>{e.push({param:i,value:d,op:"a"})}):e.push({param:i,value:a,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new uc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(VN(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const a=i.indexOf(VN(n.value));-1!==a&&i.splice(a,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class vz{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function GN(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function BN(t){return"undefined"!=typeof Blob&&t instanceof Blob}function HN(t){return"undefined"!=typeof FormData&&t instanceof FormData}class M_{constructor(n,e,i,a){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function yz(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==i?i:null,d=a):d=i,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new cc),this.context||(this.context=new vz),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+h}}else this.params=new uc,this.urlWithParams=e}serializeBody(){return null===this.body?null:GN(this.body)||BN(this.body)||HN(this.body)||function Cz(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof uc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HN(this.body)?null:BN(this.body)?this.body.type||null:GN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof uc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const i=n.method||this.method,a=n.url||this.url,d=n.responseType||this.responseType,h=void 0!==n.body?n.body:this.body,m=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,x=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let R=n.headers||this.headers,L=n.params||this.params;const W=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(R=Object.keys(n.setHeaders).reduce((X,re)=>X.set(re,n.setHeaders[re]),R)),n.setParams&&(L=Object.keys(n.setParams).reduce((X,re)=>X.set(re,n.setParams[re]),L)),new M_(i,a,h,{params:L,headers:R,context:W,reportProgress:x,responseType:d,withCredentials:m})}}var Cr=(()=>((Cr=Cr||{})[Cr.Sent=0]="Sent",Cr[Cr.UploadProgress=1]="UploadProgress",Cr[Cr.ResponseHeader=2]="ResponseHeader",Cr[Cr.DownloadProgress=3]="DownloadProgress",Cr[Cr.Response=4]="Response",Cr[Cr.User=5]="User",Cr))();class TD{constructor(n,e=200,i="OK"){this.headers=n.headers||new cc,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class ED extends TD{constructor(n={}){super(n),this.type=Cr.ResponseHeader}clone(n={}){return new ED({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class zb extends TD{constructor(n={}){super(n),this.type=Cr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new zb({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class jN extends TD{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function DD(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let jo=(()=>{class t{constructor(e){this.handler=e}request(e,i,a={}){let d;if(e instanceof M_)d=e;else{let x,R;x=a.headers instanceof cc?a.headers:new cc(a.headers),a.params&&(R=a.params instanceof uc?a.params:new uc({fromObject:a.params})),d=new M_(e,i,void 0!==a.body?a.body:null,{headers:x,context:a.context,params:R,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const h=yn(d).pipe(hf(x=>this.handler.handle(x)));if(e instanceof M_||"events"===a.observe)return h;const m=h.pipe(Dr(x=>x instanceof zb));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return m.pipe(yt(x=>{if(null!==x.body&&!(x.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return x.body}));case"blob":return m.pipe(yt(x=>{if(null!==x.body&&!(x.body instanceof Blob))throw new Error("Response is not a Blob.");return x.body}));case"text":return m.pipe(yt(x=>{if(null!==x.body&&"string"!=typeof x.body)throw new Error("Response is not a string.");return x.body}));default:return m.pipe(yt(x=>x.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new uc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,a={}){return this.request("PATCH",e,DD(a,i))}post(e,i,a={}){return this.request("POST",e,DD(a,i))}put(e,i,a={}){return this.request("PUT",e,DD(a,i))}}return t.\u0275fac=function(e){return new(e||t)(Qe(NN))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();class $N{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const AD=new Zt("HTTP_INTERCEPTORS");let bz=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const wz=/^\)\]\}',?\n/;let WN=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ke(i=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((re,ge)=>a.setRequestHeader(re,ge.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const re=e.detectContentTypeHeader();null!==re&&a.setRequestHeader("Content-Type",re)}if(e.responseType){const re=e.responseType.toLowerCase();a.responseType="json"!==re?re:"text"}const d=e.serializeBody();let h=null;const m=()=>{if(null!==h)return h;const re=a.statusText||"OK",ge=new cc(a.getAllResponseHeaders()),be=function xz(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return h=new ED({headers:ge,status:a.status,statusText:re,url:be}),h},x=()=>{let{headers:re,status:ge,statusText:be,url:ve}=m(),De=null;204!==ge&&(De=void 0===a.response?a.responseText:a.response),0===ge&&(ge=De?200:0);let Ee=ge>=200&&ge<300;if("json"===e.responseType&&"string"==typeof De){const Me=De;De=De.replace(wz,"");try{De=""!==De?JSON.parse(De):null}catch(He){De=Me,Ee&&(Ee=!1,De={error:He,text:De})}}Ee?(i.next(new zb({body:De,headers:re,status:ge,statusText:be,url:ve||void 0})),i.complete()):i.error(new jN({error:De,headers:re,status:ge,statusText:be,url:ve||void 0}))},R=re=>{const{url:ge}=m(),be=new jN({error:re,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ge||void 0});i.error(be)};let L=!1;const W=re=>{L||(i.next(m()),L=!0);let ge={type:Cr.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(ge.total=re.total),"text"===e.responseType&&!!a.responseText&&(ge.partialText=a.responseText),i.next(ge)},X=re=>{let ge={type:Cr.UploadProgress,loaded:re.loaded};re.lengthComputable&&(ge.total=re.total),i.next(ge)};return a.addEventListener("load",x),a.addEventListener("error",R),a.addEventListener("timeout",R),a.addEventListener("abort",R),e.reportProgress&&(a.addEventListener("progress",W),null!==d&&a.upload&&a.upload.addEventListener("progress",X)),a.send(d),i.next({type:Cr.Sent}),()=>{a.removeEventListener("error",R),a.removeEventListener("abort",R),a.removeEventListener("load",x),a.removeEventListener("timeout",R),e.reportProgress&&(a.removeEventListener("progress",W),null!==d&&a.upload&&a.upload.removeEventListener("progress",X)),a.readyState!==a.DONE&&a.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Qe(tI))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const kD=new Zt("XSRF_COOKIE_NAME"),RD=new Zt("XSRF_HEADER_NAME");class UN{}let Sz=(()=>{class t{constructor(e,i,a){this.doc=e,this.platform=i,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=KP(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi),Qe(ka),Qe(kD))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),OD=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return i.handle(e);const d=this.tokenService.getToken();return null!==d&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,d)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(UN),Qe(RD))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),Tz=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(AD,[]);this.chain=i.reduceRight((a,d)=>new $N(a,d),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(FN),Qe(Ri))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),Ez=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:OD,useClass:bz}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:kD,useValue:e.cookieName}:[],e.headerName?{provide:RD,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({providers:[OD,{provide:AD,useExisting:OD,multi:!0},{provide:UN,useClass:Sz},{provide:kD,useValue:"XSRF-TOKEN"},{provide:RD,useValue:"X-XSRF-TOKEN"}]}),t})(),Dz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({providers:[jo,{provide:NN,useClass:Tz},WN,{provide:FN,useExisting:WN}],imports:[[Ez.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Az=(()=>{class t{constructor(e){this.httpClient=e,this.authUrl=Zi_backendEndpoint}register(e){return this.httpClient.post(this.authUrl+"/register",e)}login(e){return this.httpClient.post(this.authUrl+"/login",e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zN=(()=>{class t{getAllCountriesOnlyNames(){return["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas (the)","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory (the)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands (the)","Central African Republic (the)","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands (the)","Colombia","Comoros (the)","Congo (the Democratic Republic of the)","Congo (the)","Cook Islands (the)","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia","C\xf4te d'Ivoire","Denmark","Djibouti","Dominica","Dominican Republic (the)","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands (the) [Malvinas]","Faroe Islands (the)","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories (the)","Gabon","Gambia (the)","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (the)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea (the Democratic People's Republic of)","Korea (the Republic of)","Kuwait","Kyrgyzstan","Lao People's Democratic Republic (the)","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands (the)","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (the Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands (the)","New Caledonia","New Zealand","Nicaragua","Niger (the)","Nigeria","Niue","Norfolk Island","Northern Mariana Islands (the)","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines (the)","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of North Macedonia","Romania","Russian Federation (the)","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan (the)","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands (the)","Tuvalu","Uganda","Ukraine","United Arab Emirates (the)","United Kingdom of Great Britain and Northern Ireland (the)","United States Minor Outlying Islands (the)","United States of America (the)","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Virgin Islands (British)","Virgin Islands (U.S.)","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land Islands"]}getAllCountriesByISO3166(){return{AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas (the)",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia (Plurinational State of)",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory (the)",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cabo Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",KY:"Cayman Islands (the)",CF:"Central African Republic (the)",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands (the)",CO:"Colombia",KM:"Comoros (the)",CD:"Congo (the Democratic Republic of the)",CG:"Congo (the)",CK:"Cook Islands (the)",CR:"Costa Rica",HR:"Croatia",CU:"Cuba",CW:"Cura\xe7ao",CY:"Cyprus",CZ:"Czechia",CI:"C\xf4te d'Ivoire",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic (the)",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FK:"Falkland Islands (the) [Malvinas]",FO:"Faroe Islands (the)",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories (the)",GA:"Gabon",GM:"Gambia (the)",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (the)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran (Islamic Republic of)",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea (the Democratic People's Republic of)",KR:"Korea (the Republic of)",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic (the)",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands (the)",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia (Federated States of)",MD:"Moldova (the Republic of)",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands (the)",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger (the)",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands (the)",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine, State of",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines (the)",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",MK:"Republic of North Macedonia",RO:"Romania",RU:"Russian Federation (the)",RW:"Rwanda",RE:"R\xe9union",BL:"Saint Barth\xe9lemy",SH:"Saint Helena, Ascension and Tristan da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan (the)",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands (the)",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates (the)",GB:"United Kingdom of Great Britain and Northern Ireland (the)",UM:"United States Minor Outlying Islands (the)",US:"United States of America (the)",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela (Bolivarian Republic of)",VN:"Viet Nam",VG:"Virgin Islands (British)",VI:"Virgin Islands (U.S.)",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe",AX:"\xc5land Islands"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const kz=["addListener","removeListener"],Rz=["addEventListener","removeEventListener"],Oz=["on","off"];function eo(t,n,e,i){if(k(e)&&(i=e,e=void 0),i)return eo(t,n,e).pipe(IE(i));const[a,d]=function Mz(t){return k(t.addEventListener)&&k(t.removeEventListener)}(t)?Rz.map(h=>m=>t[h](n,m,e)):function Pz(t){return k(t.addListener)&&k(t.removeListener)}(t)?kz.map(YN(t,n)):function Iz(t){return k(t.on)&&k(t.off)}(t)?Oz.map(YN(t,n)):[];if(!a&&tn(t))return Tn(h=>eo(h,n,e))(dr(t));if(!a)throw new TypeError("Invalid event target");return new ke(h=>{const m=(...x)=>h.next(1<x.length?x:x[0]);return a(m),()=>d(m)})}function YN(t,n){return e=>i=>t[e](n,i)}class Nz extends D{constructor(n,e){super()}schedule(n,e=0){return this}}const Yb={setInterval(t,n,...e){const{delegate:i}=Yb;return(null==i?void 0:i.setInterval)?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Yb;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0};class PD extends Nz{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(n,e,i=0){return Yb.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Yb.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let a,i=!1;try{this.work(n)}catch(d){i=!0,a=d||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,S(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const KN={now:()=>(KN.delegate||Date).now(),delegate:void 0};class N_{constructor(n,e=N_.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}N_.now=KN.now;class ID extends N_{constructor(n,e=N_.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}const F_=new ID(PD),Fz=F_;function L_(t=0,n,e=Fz){let i=-1;return null!=n&&(Sl(n)?e=n:i=n),new ke(a=>{let d=function Lz(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;d<0&&(d=0);let h=0;return e.schedule(function(){a.closed||(a.next(h++),0<=i?this.schedule(void 0,i):a.complete())},d)})}const{isArray:Vz}=Array;function qN(t){return 1===t.length&&Vz(t[0])?t[0]:t}function XN(...t){return 1===(t=qN(t)).length?dr(t[0]):new ke(function Gz(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push(dr(t[i]).subscribe(Nt(n,a=>{if(e){for(let d=0;d<e.length;d++)d!==i&&e[d].unsubscribe();e=null}n.next(a)})))}}(t))}function Kb(...t){const n=bc(t),e=qN(t);return e.length?new ke(i=>{let a=e.map(()=>[]),d=e.map(()=>!1);i.add(()=>{a=d=null});for(let h=0;!i.closed&&h<e.length;h++)dr(e[h]).subscribe(Nt(i,m=>{if(a[h].push(m),a.every(x=>x.length)){const x=a.map(R=>R.shift());i.next(n?n(...x):x),a.some((R,L)=>!R.length&&d[L])&&i.complete()}},()=>{d[h]=!0,!a[h].length&&i.complete()}));return()=>{a=d=null}}):Uo}function Ji(t){return Re((n,e)=>{dr(t).subscribe(Nt(e,()=>e.complete(),b)),!e.closed&&n.subscribe(e)})}function ND(...t){const n=bc(t);return Re((e,i)=>{const a=t.length,d=new Array(a);let h=t.map(()=>!1),m=!1;for(let x=0;x<a;x++)dr(t[x]).subscribe(Nt(i,R=>{d[x]=R,!m&&!h[x]&&(h[x]=!0,(m=h.every(Se))&&(h=null))},b));e.subscribe(Nt(i,x=>{if(m){const R=[x,...d];i.next(n?n(...R):R)}}))})}function ZN(t,n){return n?e=>g_(n.pipe(Gr(1),function jz(){return Re((t,n)=>{t.subscribe(Nt(n,b))})}()),e.pipe(ZN(t))):Tn((e,i)=>t(e,i).pipe(Gr(1),function $z(t){return yt(()=>t)}(e)))}function JN(t,n=F_){const e=L_(t,n);return ZN(()=>e)}new ke(b);var Uz={left:"right",right:"left",bottom:"top",top:"bottom"};function qb(t){return t.replace(/left|right|bottom|top/g,function(n){return Uz[n]})}function ml(t){return t.split("-")[0]}var zz={start:"end",end:"start"};function eF(t){return t.replace(/start|end/g,function(n){return zz[n]})}var Ds="top",Ma="bottom",Na="right",As="left",FD="auto",V_=[Ds,Ma,Na,As],Cf="start",G_="end",tF="viewport",B_="popper",nF=V_.reduce(function(t,n){return t.concat([n+"-"+Cf,n+"-"+G_])},[]),iF=[].concat(V_,[FD]).reduce(function(t,n){return t.concat([n,n+"-"+Cf,n+"-"+G_])},[]),r6=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Fa(t){if(null==t)return window;if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function bf(t){return t instanceof Fa(t).Element||t instanceof Element}function ra(t){return t instanceof Fa(t).HTMLElement||t instanceof HTMLElement}function LD(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Fa(t).ShadowRoot||t instanceof ShadowRoot)}function Iu(t){return((bf(t)?t.ownerDocument:t.document)||window.document).documentElement}var sh=Math.max,Xb=Math.min,wf=Math.round;function xf(t,n){void 0===n&&(n=!1);var e=t.getBoundingClientRect(),i=1,a=1;if(ra(t)&&n){var d=t.offsetHeight,h=t.offsetWidth;h>0&&(i=wf(e.width)/h||1),d>0&&(a=wf(e.height)/d||1)}return{width:e.width/i,height:e.height/a,top:e.top/a,right:e.right/i,bottom:e.bottom/a,left:e.left/i,x:e.left/i,y:e.top/a}}function VD(t){var n=Fa(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function GD(t){return xf(Iu(t)).left+VD(t).scrollLeft}function dc(t){return Fa(t).getComputedStyle(t)}function _l(t){return t?(t.nodeName||"").toLowerCase():null}function Qb(t){return"html"===_l(t)?t:t.assignedSlot||t.parentNode||(LD(t)?t.host:null)||Iu(t)}function BD(t){var n=dc(t);return/auto|scroll|overlay|hidden/.test(n.overflow+n.overflowY+n.overflowX)}function rF(t){return["html","body","#document"].indexOf(_l(t))>=0?t.ownerDocument.body:ra(t)&&BD(t)?t:rF(Qb(t))}function H_(t,n){var e;void 0===n&&(n=[]);var i=rF(t),a=i===(null==(e=t.ownerDocument)?void 0:e.body),d=Fa(i),h=a?[d].concat(d.visualViewport||[],BD(i)?i:[]):i,m=n.concat(h);return a?m:m.concat(H_(Qb(h)))}function a6(t){return["table","td","th"].indexOf(_l(t))>=0}function oF(t){return ra(t)&&"fixed"!==dc(t).position?t.offsetParent:null}function j_(t){for(var n=Fa(t),e=oF(t);e&&a6(e)&&"static"===dc(e).position;)e=oF(e);return e&&("html"===_l(e)||"body"===_l(e)&&"static"===dc(e).position)?n:e||function l6(t){var n=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&ra(t)&&"fixed"===dc(t).position)return null;var a=Qb(t);for(LD(a)&&(a=a.host);ra(a)&&["html","body"].indexOf(_l(a))<0;){var d=dc(a);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain||-1!==["transform","perspective"].indexOf(d.willChange)||n&&"filter"===d.willChange||n&&d.filter&&"none"!==d.filter)return a;a=a.parentNode}return null}(t)||n}function sF(t,n){var e=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(e&&LD(e)){var i=n;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function HD(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function aF(t,n){return n===tF?HD(function o6(t){var n=Fa(t),e=Iu(t),i=n.visualViewport,a=e.clientWidth,d=e.clientHeight,h=0,m=0;return i&&(a=i.width,d=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(h=i.offsetLeft,m=i.offsetTop)),{width:a,height:d,x:h+GD(t),y:m}}(t)):bf(n)?function c6(t){var n=xf(t);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(n):HD(function s6(t){var n,e=Iu(t),i=VD(t),a=null==(n=t.ownerDocument)?void 0:n.body,d=sh(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),h=sh(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),m=-i.scrollLeft+GD(t),x=-i.scrollTop;return"rtl"===dc(a||e).direction&&(m+=sh(e.clientWidth,a?a.clientWidth:0)-d),{width:d,height:h,x:m,y:x}}(Iu(t)))}function Sf(t){return t.split("-")[1]}function jD(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function lF(t){var x,n=t.reference,e=t.element,i=t.placement,a=i?ml(i):null,d=i?Sf(i):null,h=n.x+n.width/2-e.width/2,m=n.y+n.height/2-e.height/2;switch(a){case Ds:x={x:h,y:n.y-e.height};break;case Ma:x={x:h,y:n.y+n.height};break;case Na:x={x:n.x+n.width,y:m};break;case As:x={x:n.x-e.width,y:m};break;default:x={x:n.x,y:n.y}}var R=a?jD(a):null;if(null!=R){var L="y"===R?"height":"width";switch(d){case Cf:x[R]=x[R]-(n[L]/2-e[L]/2);break;case G_:x[R]=x[R]+(n[L]/2-e[L]/2)}}return x}function uF(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function dF(t,n){return n.reduce(function(e,i){return e[i]=t,e},{})}function $D(t,n){void 0===n&&(n={});var i=n.placement,a=void 0===i?t.placement:i,d=n.boundary,h=void 0===d?"clippingParents":d,m=n.rootBoundary,x=void 0===m?tF:m,R=n.elementContext,L=void 0===R?B_:R,W=n.altBoundary,X=void 0!==W&&W,re=n.padding,ge=void 0===re?0:re,be=uF("number"!=typeof ge?ge:dF(ge,V_)),De=t.rects.popper,Ee=t.elements[X?L===B_?"reference":B_:L],Me=function d6(t,n,e){var i="clippingParents"===n?function u6(t){var n=H_(Qb(t)),i=["absolute","fixed"].indexOf(dc(t).position)>=0&&ra(t)?j_(t):t;return bf(i)?n.filter(function(a){return bf(a)&&sF(a,i)&&"body"!==_l(a)}):[]}(t):[].concat(n),a=[].concat(i,[e]),h=a.reduce(function(m,x){var R=aF(t,x);return m.top=sh(R.top,m.top),m.right=Xb(R.right,m.right),m.bottom=Xb(R.bottom,m.bottom),m.left=sh(R.left,m.left),m},aF(t,a[0]));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}(bf(Ee)?Ee:Ee.contextElement||Iu(t.elements.popper),h,x),He=xf(t.elements.reference),Ye=lF({reference:He,element:De,strategy:"absolute",placement:a}),et=HD(Object.assign({},De,Ye)),Dt=L===B_?et:He,Rt={top:Me.top-Dt.top+be.top,bottom:Dt.bottom-Me.bottom+be.bottom,left:Me.left-Dt.left+be.left,right:Dt.right-Me.right+be.right},Qt=t.modifiersData.offset;if(L===B_&&Qt){var Wt=Qt[a];Object.keys(Rt).forEach(function(Ct){var It=[Na,Ma].indexOf(Ct)>=0?1:-1,At=[Ds,Ma].indexOf(Ct)>=0?"y":"x";Rt[Ct]+=Wt[At]*It})}return Rt}const g6={name:"flip",enabled:!0,phase:"main",fn:function f6(t){var n=t.state,e=t.options,i=t.name;if(!n.modifiersData[i]._skip){for(var a=e.mainAxis,d=void 0===a||a,h=e.altAxis,m=void 0===h||h,x=e.fallbackPlacements,R=e.padding,L=e.boundary,W=e.rootBoundary,X=e.altBoundary,re=e.flipVariations,ge=void 0===re||re,be=e.allowedAutoPlacements,ve=n.options.placement,De=ml(ve),Me=x||(De!==ve&&ge?function p6(t){if(ml(t)===FD)return[];var n=qb(t);return[eF(t),n,eF(n)]}(ve):[qb(ve)]),He=[ve].concat(Me).reduce(function(bn,or){return bn.concat(ml(or)===FD?function h6(t,n){void 0===n&&(n={});var a=n.boundary,d=n.rootBoundary,h=n.padding,m=n.flipVariations,x=n.allowedAutoPlacements,R=void 0===x?iF:x,L=Sf(n.placement),W=L?m?nF:nF.filter(function(ge){return Sf(ge)===L}):V_,X=W.filter(function(ge){return R.indexOf(ge)>=0});0===X.length&&(X=W);var re=X.reduce(function(ge,be){return ge[be]=$D(t,{placement:be,boundary:a,rootBoundary:d,padding:h})[ml(be)],ge},{});return Object.keys(re).sort(function(ge,be){return re[ge]-re[be]})}(n,{placement:or,boundary:L,rootBoundary:W,padding:R,flipVariations:ge,allowedAutoPlacements:be}):or)},[]),Ye=n.rects.reference,et=n.rects.popper,Dt=new Map,Rt=!0,Qt=He[0],Wt=0;Wt<He.length;Wt++){var Ct=He[Wt],It=ml(Ct),At=Sf(Ct)===Cf,Cn=[Ds,Ma].indexOf(It)>=0,ii=Cn?"width":"height",pt=$D(n,{placement:Ct,boundary:L,rootBoundary:W,altBoundary:X,padding:R}),_t=Cn?At?Na:As:At?Ma:Ds;Ye[ii]>et[ii]&&(_t=qb(_t));var Vt=qb(_t),Lt=[];if(d&&Lt.push(pt[It]<=0),m&&Lt.push(pt[_t]<=0,pt[Vt]<=0),Lt.every(function(bn){return bn})){Qt=Ct,Rt=!1;break}Dt.set(Ct,Lt)}if(Rt)for(var Vn=function(or){var jr=He.find(function(Gn){var $i=Dt.get(Gn);if($i)return $i.slice(0,or).every(function(Ot){return Ot})});if(jr)return Qt=jr,"break"},kn=ge?3:1;kn>0&&"break"!==Vn(kn);kn--);n.placement!==Qt&&(n.modifiersData[i]._skip=!0,n.placement=Qt,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $_(t,n,e){return sh(t,Xb(n,e))}function WD(t){var n=xf(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(n.width-e)<=1&&(e=n.width),Math.abs(n.height-i)<=1&&(i=n.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}const y6={name:"preventOverflow",enabled:!0,phase:"main",fn:function v6(t){var n=t.state,e=t.options,i=t.name,a=e.mainAxis,d=void 0===a||a,h=e.altAxis,m=void 0!==h&&h,X=e.tether,re=void 0===X||X,ge=e.tetherOffset,be=void 0===ge?0:ge,ve=$D(n,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),De=ml(n.placement),Ee=Sf(n.placement),Me=!Ee,He=jD(De),Ye=function m6(t){return"x"===t?"y":"x"}(He),et=n.modifiersData.popperOffsets,Dt=n.rects.reference,Rt=n.rects.popper,Qt="function"==typeof be?be(Object.assign({},n.rects,{placement:n.placement})):be,Wt="number"==typeof Qt?{mainAxis:Qt,altAxis:Qt}:Object.assign({mainAxis:0,altAxis:0},Qt),Ct=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,It={x:0,y:0};if(et){if(d){var At,Cn="y"===He?Ds:As,ii="y"===He?Ma:Na,pt="y"===He?"height":"width",_t=et[He],Vt=_t+ve[Cn],Lt=_t-ve[ii],_n=re?-Rt[pt]/2:0,Vn=Ee===Cf?Dt[pt]:Rt[pt],kn=Ee===Cf?-Rt[pt]:-Dt[pt],er=n.elements.arrow,bn=re&&er?WD(er):{width:0,height:0},or=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},jr=or[Cn],Gn=or[ii],$i=$_(0,Dt[pt],bn[pt]),Ot=Me?Dt[pt]/2-_n-$i-jr-Wt.mainAxis:Vn-$i-jr-Wt.mainAxis,sn=Me?-Dt[pt]/2+_n+$i+Gn+Wt.mainAxis:kn+$i+Gn+Wt.mainAxis,Pn=n.elements.arrow&&j_(n.elements.arrow),Vi=null!=(At=null==Ct?void 0:Ct[He])?At:0,to=_t+sn-Vi,$r=$_(re?Xb(Vt,_t+Ot-Vi-(Pn?"y"===He?Pn.clientTop||0:Pn.clientLeft||0:0)):Vt,_t,re?sh(Lt,to):Lt);et[He]=$r,It[He]=$r-_t}if(m){var wn,bo=et[Ye],dx="y"===Ye?"height":"width",fB=bo+ve["x"===He?Ds:As],gB=bo-ve["x"===He?Ma:Na],Xk=-1!==[Ds,As].indexOf(De),mB=null!=(wn=null==Ct?void 0:Ct[Ye])?wn:0,_B=Xk?fB:bo-Dt[dx]-Rt[dx]-mB+Wt.altAxis,vB=Xk?bo+Dt[dx]+Rt[dx]-mB-Wt.altAxis:gB,yB=re&&Xk?function _6(t,n,e){var i=$_(t,n,e);return i>e?e:i}(_B,bo,vB):$_(re?_B:fB,bo,re?vB:gB);et[Ye]=yB,It[Ye]=yB-bo}n.modifiersData[i]=It}},requiresIfExists:["offset"]},x6={name:"arrow",enabled:!0,phase:"main",fn:function b6(t){var n,e=t.state,i=t.name,a=t.options,d=e.elements.arrow,h=e.modifiersData.popperOffsets,m=ml(e.placement),x=jD(m),L=[As,Na].indexOf(m)>=0?"height":"width";if(d&&h){var W=function(n,e){return uF("number"!=typeof(n="function"==typeof n?n(Object.assign({},e.rects,{placement:e.placement})):n)?n:dF(n,V_))}(a.padding,e),X=WD(d),re="y"===x?Ds:As,ge="y"===x?Ma:Na,be=e.rects.reference[L]+e.rects.reference[x]-h[x]-e.rects.popper[L],ve=h[x]-e.rects.reference[x],De=j_(d),Ee=De?"y"===x?De.clientHeight||0:De.clientWidth||0:0,et=Ee/2-X[L]/2+(be/2-ve/2),Dt=$_(W[re],et,Ee-X[L]-W[ge]);e.modifiersData[i]=((n={})[x]=Dt,n.centerOffset=Dt-et,n)}},effect:function w6(t){var n=t.state,i=t.options.element,a=void 0===i?"[data-popper-arrow]":i;null!=a&&("string"==typeof a&&!(a=n.elements.popper.querySelector(a))||!sF(n.elements.popper,a)||(n.elements.arrow=a))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function D6(t,n,e){void 0===e&&(e=!1);var i=ra(n),a=ra(n)&&function E6(t){var n=t.getBoundingClientRect(),e=wf(n.width)/t.offsetWidth||1,i=wf(n.height)/t.offsetHeight||1;return 1!==e||1!==i}(n),d=Iu(n),h=xf(t,a),m={scrollLeft:0,scrollTop:0},x={x:0,y:0};return(i||!i&&!e)&&(("body"!==_l(n)||BD(d))&&(m=function T6(t){return t!==Fa(t)&&ra(t)?function S6(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):VD(t)}(n)),ra(n)?((x=xf(n,!0)).x+=n.clientLeft,x.y+=n.clientTop):d&&(x.x=GD(d))),{x:h.left+m.scrollLeft-x.x,y:h.top+m.scrollTop-x.y,width:h.width,height:h.height}}function A6(t){var n=new Map,e=new Set,i=[];function a(d){e.add(d.name),[].concat(d.requires||[],d.requiresIfExists||[]).forEach(function(m){if(!e.has(m)){var x=n.get(m);x&&a(x)}}),i.push(d)}return t.forEach(function(d){n.set(d.name,d)}),t.forEach(function(d){e.has(d.name)||a(d)}),i}function R6(t){var n;return function(){return n||(n=new Promise(function(e){Promise.resolve().then(function(){n=void 0,e(t())})})),n}}var hF={placement:"bottom",modifiers:[],strategy:"absolute"};function pF(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function P6(t){void 0===t&&(t={});var e=t.defaultModifiers,i=void 0===e?[]:e,a=t.defaultOptions,d=void 0===a?hF:a;return function(m,x,R){void 0===R&&(R=d);var L={placement:"bottom",orderedModifiers:[],options:Object.assign({},hF,d),modifiersData:{},elements:{reference:m,popper:x},attributes:{},styles:{}},W=[],X=!1,re={state:L,setOptions:function(De){var Ee="function"==typeof De?De(L.options):De;be(),L.options=Object.assign({},d,L.options,Ee),L.scrollParents={reference:bf(m)?H_(m):m.contextElement?H_(m.contextElement):[],popper:H_(x)};var Me=function k6(t){var n=A6(t);return r6.reduce(function(e,i){return e.concat(n.filter(function(a){return a.phase===i}))},[])}(function O6(t){var n=t.reduce(function(e,i){var a=e[i.name];return e[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,e},{});return Object.keys(n).map(function(e){return n[e]})}([].concat(i,L.options.modifiers)));return L.orderedModifiers=Me.filter(function(Ct){return Ct.enabled}),function ge(){L.orderedModifiers.forEach(function(ve){var Ee=ve.options,He=ve.effect;if("function"==typeof He){var Ye=He({state:L,name:ve.name,instance:re,options:void 0===Ee?{}:Ee});W.push(Ye||function(){})}})}(),re.update()},forceUpdate:function(){if(!X){var De=L.elements,Ee=De.reference,Me=De.popper;if(pF(Ee,Me)){L.rects={reference:D6(Ee,j_(Me),"fixed"===L.options.strategy),popper:WD(Me)},L.reset=!1,L.placement=L.options.placement,L.orderedModifiers.forEach(function(Ct){return L.modifiersData[Ct.name]=Object.assign({},Ct.data)});for(var Ye=0;Ye<L.orderedModifiers.length;Ye++)if(!0!==L.reset){var et=L.orderedModifiers[Ye],Dt=et.fn,Rt=et.options;"function"==typeof Dt&&(L=Dt({state:L,options:void 0===Rt?{}:Rt,name:et.name,instance:re})||L)}else L.reset=!1,Ye=-1}}},update:R6(function(){return new Promise(function(ve){re.forceUpdate(),ve(L)})}),destroy:function(){be(),X=!0}};if(!pF(m,x))return re;function be(){W.forEach(function(ve){return ve()}),W=[]}return re.setOptions(R).then(function(ve){!X&&R.onFirstUpdate&&R.onFirstUpdate(ve)}),re}}var Zb={passive:!0},L6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fF(t){var n,e=t.popper,i=t.popperRect,a=t.placement,d=t.variation,h=t.offsets,m=t.position,x=t.gpuAcceleration,R=t.adaptive,L=t.roundOffsets,W=t.isFixed,X=h.x,re=void 0===X?0:X,ge=h.y,be=void 0===ge?0:ge,ve="function"==typeof L?L({x:re,y:be}):{x:re,y:be};re=ve.x,be=ve.y;var De=h.hasOwnProperty("x"),Ee=h.hasOwnProperty("y"),Me=As,He=Ds,Ye=window;if(R){var et=j_(e),Dt="clientHeight",Rt="clientWidth";et===Fa(e)&&"static"!==dc(et=Iu(e)).position&&"absolute"===m&&(Dt="scrollHeight",Rt="scrollWidth"),et=et,(a===Ds||(a===As||a===Na)&&d===G_)&&(He=Ma,be-=(W&&et===Ye&&Ye.visualViewport?Ye.visualViewport.height:et[Dt])-i.height,be*=x?1:-1),a!==As&&(a!==Ds&&a!==Ma||d!==G_)||(Me=Na,re-=(W&&et===Ye&&Ye.visualViewport?Ye.visualViewport.width:et[Rt])-i.width,re*=x?1:-1)}var At,Ct=Object.assign({position:m},R&&L6),It=!0===L?function V6(t){var e=t.y,a=window.devicePixelRatio||1;return{x:wf(t.x*a)/a||0,y:wf(e*a)/a||0}}({x:re,y:be}):{x:re,y:be};return re=It.x,be=It.y,Object.assign({},Ct,x?((At={})[He]=Ee?"0":"",At[Me]=De?"0":"",At.transform=(Ye.devicePixelRatio||1)<=1?"translate("+re+"px, "+be+"px)":"translate3d("+re+"px, "+be+"px, 0)",At):((n={})[He]=Ee?be+"px":"",n[Me]=De?re+"px":"",n.transform="",n))}var W6=P6({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function I6(t){var n=t.state,e=t.instance,i=t.options,a=i.scroll,d=void 0===a||a,h=i.resize,m=void 0===h||h,x=Fa(n.elements.popper),R=[].concat(n.scrollParents.reference,n.scrollParents.popper);return d&&R.forEach(function(L){L.addEventListener("scroll",e.update,Zb)}),m&&x.addEventListener("resize",e.update,Zb),function(){d&&R.forEach(function(L){L.removeEventListener("scroll",e.update,Zb)}),m&&x.removeEventListener("resize",e.update,Zb)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function N6(t){var n=t.state;n.modifiersData[t.name]=lF({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function G6(t){var n=t.state,e=t.options,i=e.gpuAcceleration,a=void 0===i||i,d=e.adaptive,h=void 0===d||d,m=e.roundOffsets,x=void 0===m||m,L={placement:ml(n.placement),variation:Sf(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:a,isFixed:"fixed"===n.options.strategy};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,fF(Object.assign({},L,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:h,roundOffsets:x})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,fF(Object.assign({},L,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:x})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function H6(t){var n=t.state;Object.keys(n.elements).forEach(function(e){var i=n.styles[e]||{},a=n.attributes[e]||{},d=n.elements[e];!ra(d)||!_l(d)||(Object.assign(d.style,i),Object.keys(a).forEach(function(h){var m=a[h];!1===m?d.removeAttribute(h):d.setAttribute(h,!0===m?"":m)}))})},effect:function j6(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.styles=e,n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(i){var a=n.elements[i],d=n.attributes[i]||{},m=Object.keys(n.styles.hasOwnProperty(i)?n.styles[i]:e[i]).reduce(function(x,R){return x[R]="",x},{});!ra(a)||!_l(a)||(Object.assign(a.style,m),Object.keys(d).forEach(function(x){a.removeAttribute(x)}))})}},requires:["computeStyles"]}]});const gF=["*"],v8=["dialog"];function zD(t){return"string"==typeof t}function ah(t){return null!=t}function Tf(t){return(t||document.body).getBoundingClientRect()}const _F={animation:!0,transitionTimerDelayMs:5},h7=()=>{},{transitionTimerDelayMs:p7}=_F,W_=new Map,$o=(t,n,e,i)=>{let a=i.context||{};const d=W_.get(n);if(d)switch(i.runningTransition){case"continue":return Uo;case"stop":t.run(()=>d.transition$.complete()),a=Object.assign(d.context,a),W_.delete(n)}const h=e(n,i.animation,a)||h7;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),yn(void 0).pipe(function u7(t){return n=>new ke(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const m=new qe,x=new qe,R=m.pipe(function Bz(...t){return n=>g_(n,yn(...t))}(!0));W_.set(n,{transition$:m,complete:()=>{x.next(),x.complete()},context:a});const L=function d7(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const W=eo(n,"transitionend").pipe(Ji(R),Dr(({target:re})=>re===n));XN(L_(L+p7).pipe(Ji(R)),W,x).pipe(Ji(R)).subscribe(()=>{W_.delete(n),t.run(()=>{h(),m.next(),m.complete()})})}),m.asObservable()};let U_=(()=>{class t{constructor(){this.animation=_F.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),SF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),EF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})(),kF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),RF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})();var kr=(()=>{return(t=kr||(kr={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",kr;var t})();const tw=(t,n)=>!!n&&n.some(e=>e.contains(t)),OF=(t,n)=>!n||null!=function c7(t,n){return n&&void 0!==t.closest?t.closest(n):null}(t,n),P7="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const IF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function MF(t){const n=Array.from(t.querySelectorAll(IF)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const N7=/\s+/,F7=/  +/gi,L7=/^start/,V7=/^end/,G7=/-(top|left)$/,B7=/-(bottom|right)$/,j7=/^left/,$7=/^right/,W7=/^start/,U7=/^end/;function NF({placement:t,baseClass:n}){let e=Array.isArray(t)?t:t.split(N7),a=e.findIndex(x=>"auto"===x);a>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(x){null==e.find(R=>-1!==R.search("^"+x))&&e.splice(a++,1,x)});const d=e.map(x=>function H7(t){return t.replace(L7,"left").replace(V7,"right").replace(G7,"-start").replace(B7,"-end")}(x));return{placement:d.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!n,phase:"write",fn({state:x}){const R=new RegExp(n+"(-[a-z]+)*","gi"),L=x.elements.popper,W=x.placement;let X=L.className;X=X.replace(R,""),X+=` ${function z7(t,n){let[e,i]=n.split("-");const a=e.replace(j7,"start").replace($7,"end");let d=[a];if(i){let h=i;("left"===e||"right"===e)&&(h=h.replace(W7,"top").replace(U7,"bottom")),d.push(`${a}-${h}`)}return t&&(d=d.map(h=>`${t}-${h}`)),d.join(" ")}(n,W)}`,X=X.trim().replace(F7," "),L.className=X}},g6,y6,x6,{enabled:!0,name:"flip",options:{fallbackPlacements:d}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function FF(t){return t}new Date(1882,10,12),new Date(2174,10,25);let $F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr,PN]]}),t})(),eA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Et({type:t,selectors:[["",8,"navbar"]]}),t})(),zF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})();class dh{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}class r9{constructor(n,e,i,a,d,h){this._type=n,this._injector=e,this._viewContainerRef=i,this._renderer=a,this._ngZone=d,this._applicationRef=h,this._windowRef=null,this._contentRef=null}open(n,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(n,e),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:a}=this._windowRef.location,d=this._ngZone.onStable.pipe(Gr(1),Tn(()=>$o(this._ngZone,a,({classList:h})=>h.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:d}}close(n=!1){return this._windowRef?$o(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:n,runningTransition:"stop"}).pipe(Xr(()=>{var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):yn(void 0)}_getContentRef(n,e){if(n){if(n instanceof Xi){const i=n.createEmbeddedView(e);return this._applicationRef.attachView(i),new dh([i.rootNodes],i)}return new dh([[this._renderer.createText(`${n}`)]])}return new dh([])}}let o9=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Gr(1)).subscribe(()=>{$o(this._zone,this._el.nativeElement,(e,i)=>{i&&Tf(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $o(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(Un))},t.\u0275cmp=zt({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(We("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),xe("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),t})();class YF{close(n){}dismiss(n){}}class s9{constructor(n,e,i,a){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=a,this._closed=new qe,this._dismissed=new qe,this._hidden=new qe,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,h)=>{this._resolve=d,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ji(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ji(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function mF(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():yn(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Kb(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var q_=(()=>{return(t=q_||(q_={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",q_;var t})();let a9=(()=>{class t{constructor(e,i,a){this._document=e,this._elRef=i,this._zone=a,this._closed$=new qe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ae,this.shown=new qe,this.hidden=new qe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":zD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Gr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=Kb($o(this._zone,e,()=>e.classList.remove("show"),i),$o(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Kb($o(this._zone,this._elRef.nativeElement,(d,h)=>{h&&Tf(d),d.classList.add("show")},e),$o(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{eo(e,"keydown").pipe(Ji(this._closed$),Dr(a=>a.which===kr.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(q_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;eo(this._dialogEl.nativeElement,"mousedown").pipe(Ji(this._closed$),Xr(()=>i=!1),hl(()=>eo(e,"mouseup").pipe(Ji(this._closed$),Gr(1))),Dr(({target:a})=>e===a)).subscribe(()=>{i=!0}),eo(e,"click").pipe(Ji(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(q_.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),a=MF(e)[0];(i||a||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let a;a=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$o(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(Ce(hi),Ce(Bn),Ce(Un))},t.\u0275cmp=zt({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&ni(v8,7),2&e){let a;qt(a=Xt())&&(i._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(kt("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),We("modal d-block"+(i.windowClass?" "+i.windowClass:"")),xe("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:gF,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(Ud(),M(0,"div",0,1)(2,"div",2),bu(3),N()()),2&e&&We("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),l9=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,a=i.style,{overflow:d,paddingRight:h}=a;if(e>0){const m=parseFloat(window.getComputedStyle(i).paddingRight);a.paddingRight=`${m+e}px`}return a.overflow="hidden",()=>{e>0&&(a.paddingRight=h),a.overflow=d}}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),c9=(()=>{class t{constructor(e,i,a,d,h,m){this._applicationRef=e,this._injector=i,this._document=a,this._scrollBar=d,this._rendererFactory=h,this._ngZone=m,this._activeWindowCmptHasChanged=new qe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Ae,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const x=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const a=eo(n,"focusin").pipe(Ji(e),yt(d=>d.target));eo(n,"keydown").pipe(Ji(e),Dr(d=>d.which===kr.Tab),ND(a)).subscribe(([d,h])=>{const[m,x]=MF(n);(h===m||h===n)&&d.shiftKey&&(x.focus(),d.preventDefault()),h===x&&!d.shiftKey&&(m.focus(),d.preventDefault())}),i&&eo(n,"click").pipe(Ji(e),ND(a),yt(d=>d[1])).subscribe(d=>d.focus())})})(0,x.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(x.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,a,d){const h=d.container instanceof HTMLElement?d.container:ah(d.container)?this._document.querySelector(d.container):this._document.body,m=this._rendererFactory.createRenderer(null,null);if(!h)throw new Error(`The specified modal container "${d.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const x=new YF,R=this._getContentRef(e,d.injector||i,a,x,d);let L=!1!==d.backdrop?this._attachBackdrop(e,h):void 0,W=this._attachWindowComponent(e,h,R),X=new s9(W,R,L,d.beforeDismiss);return this._registerModalRef(X),this._registerWindowCmpt(W),X.hidden.pipe(Gr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(m.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),x.close=re=>{X.close(re)},x.dismiss=re=>{X.dismiss(re)},this._applyWindowOptions(W.instance,d),1===this._modalRefs.length&&m.addClass(this._document.body,"modal-open"),L&&L.instance&&(this._applyBackdropOptions(L.instance,d),L.changeDetectorRef.detectChanges()),W.changeDetectorRef.detectChanges(),X}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let d=e.resolveComponentFactory(o9).create(this._injector);return this._applicationRef.attachView(d.hostView),i.appendChild(d.location.nativeElement),d}_attachWindowComponent(e,i,a){let h=e.resolveComponentFactory(a9).create(this._injector,a.nodes);return this._applicationRef.attachView(h.hostView),i.appendChild(h.location.nativeElement),h}_applyWindowOptions(e,i){this._windowAttributes.forEach(a=>{ah(i[a])&&(e[a]=i[a])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(a=>{ah(i[a])&&(e[a]=i[a])})}_getContentRef(e,i,a,d,h){return a?a instanceof Xi?this._createFromTemplateRef(a,d):zD(a)?this._createFromString(a):this._createFromComponent(e,i,a,d,h):new dh([])}_createFromTemplateRef(e,i){const d=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(d),new dh([d.rootNodes],d)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new dh([[i]])}_createFromComponent(e,i,a,d,h){const m=e.resolveComponentFactory(a),x=Ri.create({providers:[{provide:YF,useValue:d}],parent:i}),R=m.create(x),L=R.location.nativeElement;return h.scrollable&&L.classList.add("component-host-scrollable"),this._applicationRef.attachView(R.hostView),new dh([[L]],R.hostView,R)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Qe(Su),Qe(Ri),Qe(hi),Qe(l9),Qe(nf),Qe(Un))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u9=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Qe(U_))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d9=(()=>{class t{constructor(e,i,a,d){this._moduleCFR=e,this._injector=i,this._modalStack=a,this._config=d}open(e,i={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Qe(ul),Qe(Ri),Qe(c9),Qe(u9))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),KF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({providers:[d9]}),t})(),ZF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),sL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})();class _9{constructor(n,e){this.open=n,this.close=e,e||(this.close=n)}isManual(){return"manual"===this.open||"manual"===this.close}}const v9={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},aL=t=>t>0?JN(t):n=>n;let lL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),cL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),uL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),dL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),hL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),T9=(()=>{class t{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(Qe(U_))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),E9=0,D9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,i){2&e&&(nc("id",i.id),We("tooltip"+(i.tooltipClass?" "+i.tooltipClass:"")),xe("fade",i.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:gF,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(e,i){1&e&&(Ud(),_e(0,"div",0),M(1,"div",1),bu(2),N())},encapsulation:2,changeDetection:0}),t})(),_o=(()=>{class t{constructor(e,i,a,d,h,m,x,R,L){this._elementRef=e,this._renderer=i,this._ngZone=m,this._document=x,this._changeDetector=R,this.shown=new Ae,this.hidden=new Ae,this._ngbTooltipWindowId="ngb-tooltip-"+E9++,this._windowRef=null,this._positioning=function LF(){let t=null;return{createPopper(n){if(!t){let i=(n.updatePopperOptions||FF)(NF(n));t=W6(n.hostElement,n.targetElement,i)}},update(){t&&t.update()},setOptions(n){if(t){let i=(n.updatePopperOptions||FF)(NF(n));t.setOptions(i)}},destroy(){t&&(t.destroy(),t=null)}}}(),this.animation=h.animation,this.autoClose=h.autoClose,this.placement=h.placement,this.triggers=h.triggers,this.container=h.container,this.disableTooltip=h.disableTooltip,this.tooltipClass=h.tooltipClass,this.openDelay=h.openDelay,this.closeDelay=h.closeDelay,this._popupService=new r9(D9,a,d,i,this._ngZone,L)}set ngbTooltip(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(e){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:i,transition$:a}=this._popupService.open(this._ngbTooltip,e,this.animation);this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),function PF(t,n,e,i,a,d,h,m){e&&t.runOutsideAngular((t=>P7?()=>setTimeout(()=>t(),100):t)(()=>{const R=eo(n,"keydown").pipe(Ji(a),Dr(X=>X.which===kr.Escape),Xr(X=>X.preventDefault())),L=eo(n,"mousedown").pipe(yt(X=>{const re=X.target;return 2!==X.button&&!tw(re,h)&&("inside"===e?tw(re,d)&&OF(re,m):"outside"===e?!tw(re,d):OF(re,m)||!tw(re,d))}),Ji(a)),W=eo(n,"mouseup").pipe(ND(L),Dr(([X,re])=>re),JN(0),Ji(a));XN([R.pipe(yt(X=>0)),W.pipe(yt(X=>1))]).subscribe(X=>t.run(()=>i(X)))}))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),a.subscribe(()=>this.shown.emit())}}close(e=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(e).subscribe(()=>{var i;this._windowRef=null,this._positioning.destroy(),null===(i=this._zoneSubscription)||void 0===i||i.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function w9(t,n,e,i,a,d,h=0,m=0){const x=function y9(t,n=v9){const e=(t||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(d=>d.split(":")).map(d=>{let h=n[d[0]]||d;return new _9(h[0],h[1])}),a=i.filter(d=>d.isManual());if(a.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===a.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(e);if(1===x.length&&x[0].isManual())return()=>{};const R=function C9(t,n,e,i){return new ke(a=>{const d=[],h=()=>a.next(!0),m=()=>a.next(!1),x=()=>a.next(!i());return e.forEach(R=>{R.open===R.close?d.push(t.listen(n,R.open,x)):d.push(t.listen(n,R.open,h),t.listen(n,R.close,m))}),()=>{d.forEach(R=>R())}})}(t,n,x,i).pipe(function b9(t,n,e){return i=>{let a=null;const d=i.pipe(yt(x=>({open:x})),Dr(x=>{const R=e();return R===x.open||a&&a.open!==R?(a&&a.open!==x.open&&(a=null),!1):(a=x,!0)}),Jf());return Oh(d.pipe(Dr(x=>x.open),aL(t)),d.pipe(Dr(x=>!x.open),aL(n))).pipe(Dr(x=>x===a&&(a=null,x.open!==e())),yt(x=>x.open))}}(h,m,i)).subscribe(L=>L?a():d());return()=>R.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:e}){e&&this.isOpen()&&(this._windowRef.instance.tooltipClass=e.currentValue)}ngOnDestroy(){var e;this.close(!1),null===(e=this._unregisterListenersFn)||void 0===e||e.call(this)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(Fo),Ce(Ri),Ce(ho),Ce(T9),Ce(Un),Ce(hi),Ce(Fr),Ce(Su))},t.\u0275dir=Et({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[$n]}),t})(),pL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})();new Zt("live announcer delay",{providedIn:"root",factory:function A9(){return 100}});let fL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})(),gL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})();const k9=[xF,SF,EF,kF,RF,$F,zF,KF,ZF,gL,sL,lL,cL,uL,dL,hL,pL,fL];let R9=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[k9,xF,SF,EF,kF,RF,$F,zF,KF,ZF,gL,sL,lL,cL,uL,dL,hL,pL,fL]}),t})();function O9(t,n){1&t&&(M(0,"a",30),_e(1,"em",31),N()),2&t&&U("openDelay",300)}function P9(t,n){1&t&&(M(0,"a",32),_e(1,"em",33),N()),2&t&&U("openDelay",300)}function I9(t,n){1&t&&(M(0,"a",34),_e(1,"em",35),N()),2&t&&U("openDelay",300)}let mL=(()=>{class t{constructor(){if(this.enabledElectron=!1,window.require)try{this.ipc=window.require("electron").ipcRenderer}catch(e){throw e}else console.warn("Could not load electron ipc")}ngOnInit(){this.enabledElectron=false}minimize(){this.ipc.send("minimizeApp")}maximize(){this.ipc.send("maximizeApp")}close(){this.ipc.send("closeApp")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["iMan-navbar"]],decls:50,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","bg-dark-5",2,"padding-top","0px !important","padding-bottom","0px !important"],[1,"container-fluid","d-flex"],["id","title","href","/app",1,"navbar-brand","dark-text","flex-grow-1"],["id","iManNavbar"],[1,"ms-auto","d-flex"],["ngbTooltip","About app","placement","left","data-bs-toggle","modal","data-bs-target","#aboutIman",1,"nav-link",3,"openDelay"],[1,"bi","bi-info-circle"],["id","minimizeBtn",3,"click"],["class","nav-link","ngbTooltip","Minimize","placement","left",3,"openDelay",4,"ngIf"],["id","maximizeBtn",3,"click"],["class","nav-link","ngbTooltip","Maximize","placement","left",3,"openDelay",4,"ngIf"],["id","closeBtn",3,"click"],["class","nav-link","ngbTooltip","Close","placement","left",3,"openDelay",4,"ngIf"],["id","aboutIman","tabindex","-1","aria-labelledby","aboutImanLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-header"],["id","aboutImanLabel",1,"m-auto","fs-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x",2,"font-size","35px !important"],[1,"modal-body"],[1,"overflow-auto","mx-2"],[1,"mb-4","fs-6"],[1,"my-2"],[1,"my-4"],[1,"my-3","fs-6"],[1,"bi","bi-envelope","bi-md","me-3"],[1,"bi","bi-github","bi-md","me-3"],["href","https://github.com/danaremar/iMan","target","_blank"],[1,"my-2","fs-6"],["ngbTooltip","Minimize","placement","left",1,"nav-link",3,"openDelay"],[1,"bi","bi-dash-lg"],["ngbTooltip","Maximize","placement","left",1,"nav-link",3,"openDelay"],[1,"bi","bi-app"],["ngbTooltip","Close","placement","left",1,"nav-link",3,"openDelay"],[1,"bi","bi-x-lg"]],template:function(e,i){1&e&&(M(0,"nav",0)(1,"div",1)(2,"a",2),K(3,"iMan"),N(),M(4,"div",3)(5,"div",4)(6,"div")(7,"a",5),_e(8,"em",6),N()(),M(9,"div",7),Ve("click",function(){return i.minimize()}),ie(10,O9,2,1,"a",8),N(),M(11,"div",9),Ve("click",function(){return i.maximize()}),ie(12,P9,2,1,"a",10),N(),M(13,"div",11),Ve("click",function(){return i.close()}),ie(14,I9,2,1,"a",12),N()()()()(),M(15,"div",13)(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17),K(20,"iMan"),N(),M(21,"div",18),_e(22,"em",19),N()(),M(23,"div",20)(24,"div",21)(25,"div",22)(26,"div",23),K(27," Project focused on product software management. It's free copyleft software, you can use whatever you want to, but please do NOT distribute this project or sell it. If you want to collaborate, please send me an e-mail. "),N(),M(28,"div",23),K(29," This project was made in september 2021, but it's growing and I'm adding new submodules like: chat, config, requirements, team, company... If you want to develop some submodule please contact me and contribute the community, we all mates! "),N(),M(30,"div",23),K(31," Thanks to my friend Andrew for doing the logo! "),N(),M(32,"div",23),K(33," Technology between this project: Angular, Sprint Boot & Bootstrap (including Icons) "),N()(),M(34,"div",24)(35,"div",25),_e(36,"em",26),K(37,"danielarellano99@gmail.com "),N(),M(38,"div",25),_e(39,"em",27),M(40,"a",28),K(41,"github.com/danaremar/iMan"),N()()(),M(42,"div",29),K(43,"Project: iMan \xa9"),N(),M(44,"div",29),K(45,"License: GPLv3.0"),N(),M(46,"div",29),K(47,"Version: v1.1"),N(),M(48,"div",29),K(49,"Author: Daniel Arellano Mart\xednez"),N()()()()()()),2&e&&(V(7),U("openDelay",300),V(3),U("ngIf",i.enabledElectron),V(2),U("ngIf",i.enabledElectron),V(2),U("ngIf",i.enabledElectron))},directives:[eA,_o,Zn],styles:["#title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;-webkit-app-region:drag}#title[_ngcontent-%COMP%]:hover{color:var(--dark-contrast-text)!important}.navbar[_ngcontent-%COMP%]{height:var(--navbar-size)!important;width:100vw}.bi-x-lg[_ngcontent-%COMP%]:hover{color:#ff4f4f!important}.bi[_ngcontent-%COMP%]{font-size:15px!important}"]}),t})();const M9=["closebutton"];function N9(t,n){1&t&&_e(0,"iMan-navbar")}function F9(t,n){if(1&t&&(M(0,"div",41),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageErrorLogin,"")}}function L9(t,n){if(1&t&&(M(0,"div",42),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageErrorRegister,"")}}function V9(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function G9(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function B9(t,n){1&t&&(M(0,"div"),K(1,"Only 20 characters are allowed"),N())}function H9(t,n){if(1&t&&(M(0,"div",43),ie(1,V9,2,0,"div",0),ie(2,G9,2,0,"div",0),ie(3,B9,2,0,"div",0),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formRegister.get("name"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formRegister.get("name"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formRegister.get("name"))||null==d.errors?null:d.errors.maxlength)}}function j9(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function $9(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function W9(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function U9(t,n){if(1&t&&(M(0,"div",43),ie(1,j9,2,0,"div",0),ie(2,$9,2,0,"div",0),ie(3,W9,2,0,"div",0),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formRegister.get("lastName"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formRegister.get("lastName"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formRegister.get("lastName"))||null==d.errors?null:d.errors.maxlength)}}function z9(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Y9(t,n){1&t&&(M(0,"div"),K(1,"Must be email format"),N())}function K9(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function q9(t,n){if(1&t&&(M(0,"div",43),ie(1,z9,2,0,"div",0),ie(2,Y9,2,0,"div",0),ie(3,K9,2,0,"div",0),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formRegister.get("email"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formRegister.get("email"))||null==a.errors?null:a.errors.email),V(1),U("ngIf",null==(d=e.formRegister.get("email"))||null==d.errors?null:d.errors.maxlength)}}function X9(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Q9(t,n){1&t&&(M(0,"div"),K(1,"Must contain only lower case characters and numbers"),N())}function Z9(t,n){1&t&&(M(0,"div"),K(1,"Only 15 characters are allowed"),N())}function J9(t,n){if(1&t&&(M(0,"div",43),ie(1,X9,2,0,"div",0),ie(2,Q9,2,0,"div",0),ie(3,Z9,2,0,"div",0),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formRegister.get("username"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formRegister.get("username"))||null==a.errors?null:a.errors.pattern),V(1),U("ngIf",null==(d=e.formRegister.get("username"))||null==d.errors?null:d.errors.maxlength)}}function eY(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function tY(t,n){1&t&&(M(0,"div"),K(1,"Must contain upper and lower case letters, numbers and special characters"),N())}function nY(t,n){1&t&&(M(0,"div"),K(1,"Must contain at least 8 characters"),N())}function iY(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function rY(t,n){if(1&t&&(M(0,"div",43),ie(1,eY,2,0,"div",0),ie(2,tY,2,0,"div",0),ie(3,nY,2,0,"div",0),ie(4,iY,2,0,"div",0),N()),2&t){const e=ae();let i,a,d,h;V(1),U("ngIf",null==(i=e.formRegister.get("password"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formRegister.get("password"))||null==a.errors?null:a.errors.pattern),V(1),U("ngIf",null==(d=e.formRegister.get("password"))||null==d.errors?null:d.errors.minlength),V(1),U("ngIf",null==(h=e.formRegister.get("password"))||null==h.errors?null:h.errors.maxlength)}}function oY(t,n){if(1&t&&(M(0,"option",44),K(1),N()),2&t){const e=n.$implicit;U("ngValue",e),V(1),it(" ",e,"")}}function sY(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function aY(t,n){if(1&t&&(M(0,"div",43),ie(1,sY,2,0,"div",0),N()),2&t){const e=ae();let i;V(1),U("ngIf",null==(i=e.formRegister.get("country"))||null==i.errors?null:i.errors.required)}}function lY(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function cY(t,n){1&t&&(M(0,"div"),K(1,"Only 20 characters are allowed"),N())}function uY(t,n){if(1&t&&(M(0,"div",43),ie(1,lY,2,0,"div",0),ie(2,cY,2,0,"div",0),N()),2&t){const e=ae();let i,a;V(1),U("ngIf",null==(i=e.formRegister.get("sector"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formRegister.get("sector"))||null==a.errors?null:a.errors.maxlength)}}let dY=(()=>{class t{constructor(e,i,a,d,h){this.tokenService=e,this.authenticationService=i,this.formBuilder=a,this.router=d,this.countryService=h,this.isRegistered=!1,this.isLogged=!1,this.isLoginFail=!1,this.isRegisterFail=!1,this.countriesDictionary=this.countryService.getAllCountriesByISO3166(),this.countries=Object.values(this.countriesDictionary),this.enabledElectron=!1,this.formLogin=a.group({username:["",[Jt.required,Jt.maxLength(50),Jt.minLength(3)]],password:["",[Jt.required,Jt.maxLength(50),Jt.minLength(5)]]}),this.formRegister=a.group({name:["",[Jt.required]],lastName:["",[Jt.required]],email:["",[Jt.required]],username:["",[Jt.required]],password:["",[Jt.required]],country:["",[Jt.required]],sector:["",[Jt.required]]})}ngOnInit(){this.tokenService.getToken()&&(this.isLogged=!0,this.router.navigateByUrl("/")),this.enabledElectron=false}onLogin(){this.loginUser=new MN(this.formLogin.value.username,this.formLogin.value.password),this.authenticationService.login(this.loginUser).subscribe(e=>{this.returnLogged(e)},e=>{this.returnError(e,!0)})}getKeyByValue(e,i){return Object.keys(e).find(a=>e[a]===i)}onRegister(){const e=this.getKeyByValue(this.countriesDictionary,this.formRegister.value.country);this.newUser=new pz(this.formRegister.value.username,this.formRegister.value.password,this.formRegister.value.name,this.formRegister.value.lastName,this.formRegister.value.email,null==e?"":e,this.formRegister.value.sector),this.authenticationService.register(this.newUser).subscribe(i=>{this.isRegistered=!0,this.closebutton.nativeElement.click(),this.loginUser=new MN(this.formRegister.value.username,this.formRegister.value.password),this.authenticationService.login(this.loginUser).subscribe(a=>{this.returnLogged(a)},a=>{this.returnError(a,!0)})},i=>{this.returnError(i,!1)})}returnLogged(e){this.isLogged=!0,this.tokenService.setToken(e.token),this.tokenService.setUsername(e.username),this.router.navigate(["/app/effort"])}returnError(e,i){let a=e.error.text;null==a&&(a="Incorrect user"),i?(this.isLoginFail=!0,this.messageErrorLogin=a):(this.isRegisterFail=!0,this.messageErrorRegister=a)}inputClass(e,i){var a,d,h,m;return(null===(a=null==e?void 0:e.get(i))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(i))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(i))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(i))||void 0===m?void 0:m.invalid)?"is-invalid":""}}return t.\u0275fac=function(e){return new(e||t)(Ce(po),Ce(Az),Ce(Ar),Ce(Vo),Ce(zN))},t.\u0275cmp=zt({type:t,selectors:[["iMan-auth"]],viewQuery:function(e,i){if(1&e&&ni(M9,5),2&e){let a;qt(a=Xt())&&(i.closebutton=a.first)}},decls:75,vars:39,consts:[[4,"ngIf"],[1,"dark-background"],["id","loginCard",1,"card","bg-dark-5",2,"width","320px"],[3,"formGroup","ngSubmit"],[2,"text-align","center"],[1,"bi","bi-lock","icon",2,"font-size","80px !important"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"form-group","mb-3"],["type","text","name","username","formControlName","username","maxlength","50","placeholder","Username",1,"form-control"],[1,"form-group"],["type","password","name","password","formControlName","password","maxlength","50","placeholder","Password",1,"form-control"],["href","#","hidden","",1,"forgot","mt-5","mb-2"],[1,"form-group","mt-5"],[1,"btn","btn-primary","w-100",3,"disabled"],[1,"mt-3","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success","w-100","mt-3"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],["data-bs-dismiss","modal",1,"close-card-button",2,"background-color","inherit"],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"bi","bi-person-plus","icon",2,"font-size","80px !important"],[1,"form-group","mb-4"],[1,"mb-0"],["type","text","name","name","formControlName","name","maxlength","20","minlength","2","placeholder","John"],["class","invalid-feedback",4,"ngIf"],["type","text","name","lastName","formControlName","lastName","maxlength","50","placeholder","Doe"],["type","text","name","email","formControlName","email","maxlength","50","email","","placeholder","johndoe@example.com"],["type","text","name","username","formControlName","username","maxlength","15","placeholder","johndoe","pattern","^[a-z0-9]+$"],["type","password","name","password","formControlName","password","minlength","8","maxlength","50","placeholder","Password","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,50}$","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7"],["formControlName","country"],["value","","disabled","",1,"dark-text"],["class","dark-text",3,"ngValue",4,"ngFor","ngForOf"],["type","text","name","sector","formControlName","sector","maxlength","20","placeholder","Industry"],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebutton",""],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-danger","mt-5"],[1,"invalid-feedback"],[1,"dark-text",3,"ngValue"]],template:function(e,i){if(1&e&&(ie(0,N9,1,0,"iMan-navbar",0),M(1,"div",1)(2,"div",2)(3,"form",3),Ve("ngSubmit",function(){return i.onLogin()}),M(4,"div",4),_e(5,"em",5),N(),ie(6,F9,2,1,"div",6),M(7,"div",7),_e(8,"input",8),N(),M(9,"div",9),_e(10,"input",10),N(),M(11,"a",11),K(12,"Forgot your email or password?"),N(),M(13,"div",12)(14,"button",13),K(15,"Login"),N()(),M(16,"div",14),K(17,"or"),N(),M(18,"button",15),K(19," Register "),N()()(),M(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21),_e(26,"em",22),N(),M(27,"form",3),Ve("ngSubmit",function(){return i.onRegister()}),ie(28,L9,2,1,"div",23),M(29,"div",4),_e(30,"em",24),N(),M(31,"div",25)(32,"p",26),K(33,"First name"),N(),_e(34,"input",27),ie(35,H9,4,3,"div",28),N(),M(36,"div",25)(37,"p",26),K(38,"Last name"),N(),_e(39,"input",29),ie(40,U9,4,3,"div",28),N(),M(41,"div",25)(42,"p",26),K(43,"Email"),N(),_e(44,"input",30),ie(45,q9,4,3,"div",28),N(),M(46,"div",25)(47,"p",26),K(48,"Username"),N(),_e(49,"input",31),ie(50,J9,4,3,"div",28),N(),M(51,"div",25)(52,"p",26),K(53,"Password"),N(),_e(54,"input",32),ie(55,rY,5,4,"div",28),N(),M(56,"div",25)(57,"p",26),K(58,"Country"),N(),M(59,"select",33)(60,"option",34),K(61,"Country"),N(),ie(62,oY,2,2,"option",35),N(),ie(63,aY,2,1,"div",28),N(),M(64,"div",25)(65,"p",26),K(66,"Sector"),N(),_e(67,"input",36),ie(68,uY,3,2,"div",28),N(),M(69,"div",37)(70,"button",38,39),K(72,"Close"),N(),M(73,"button",40),K(74,"Register"),N()()()()()()()()()),2&e){let a,d,h,m,x,R,L;U("ngIf",i.enabledElectron),V(1),Pe(i.enabledElectron?"height: calc(100vh - var(--navbar-size) ) !important":""),V(2),U("formGroup",i.formLogin),V(3),U("ngIf",i.isLoginFail),V(8),U("disabled",!i.formLogin.valid),V(13),U("formGroup",i.formRegister),V(1),U("ngIf",i.isRegisterFail),V(6),dt("form-control ",i.inputClass(i.formRegister,"name"),""),V(1),U("ngIf",(null==(a=i.formRegister.get("name"))?null:a.touched)&&(null==(a=i.formRegister.get("name"))?null:a.invalid)),V(4),dt("form-control ",i.inputClass(i.formRegister,"lastName"),""),V(1),U("ngIf",(null==(d=i.formRegister.get("lastName"))?null:d.touched)&&(null==(d=i.formRegister.get("lastName"))?null:d.invalid)),V(4),dt("form-control ",i.inputClass(i.formRegister,"email"),""),V(1),U("ngIf",(null==(h=i.formRegister.get("email"))?null:h.touched)&&(null==(h=i.formRegister.get("email"))?null:h.invalid)),V(4),dt("form-control ",i.inputClass(i.formRegister,"username"),""),V(1),U("ngIf",(null==(m=i.formRegister.get("username"))?null:m.touched)&&(null==(m=i.formRegister.get("username"))?null:m.invalid)),V(4),dt("form-control ",i.inputClass(i.formRegister,"password"),""),V(1),U("ngIf",(null==(x=i.formRegister.get("password"))?null:x.touched)&&(null==(x=i.formRegister.get("password"))?null:x.invalid)),V(4),dt("form-control ",i.inputClass(i.formRegister,"country"),""),V(3),U("ngForOf",i.countries),V(1),U("ngIf",(null==(R=i.formRegister.get("country"))?null:R.touched)&&(null==(R=i.formRegister.get("country"))?null:R.invalid)),V(4),dt("form-control ",i.inputClass(i.formRegister,"sector"),""),V(1),U("ngIf",(null==(L=i.formRegister.get("sector"))?null:L.touched)&&(null==(L=i.formRegister.get("sector"))?null:L.invalid)),V(5),U("disabled",!i.formRegister.valid)}},directives:[Zn,mL,ss,os,mo,fo,rs,Bo,Ho,ia,Wb,Ub,gl,Zr,Jr,_i],styles:[".center[_ngcontent-%COMP%]{margin:0;position:absolute;left:50%;transform:translate(-50%)}#loginCard[_ngcontent-%COMP%]{max-width:320px;width:90%;background-color:var( --dark-pallete-5);padding:40px;border-radius:20px;transform:translate(-50%,-50%);position:absolute;top:50%;left:50%;color:#fff}.dark-background[_ngcontent-%COMP%]{height:100%;width:100%;background:var(--dark-pallete-1);background-size:cover;position:absolute}select[_ngcontent-%COMP%]{height:40px!important}"]}),t})(),pc=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/profile/"}getMyProfile(){return this.httpClient.get(this.hostUrl)}updateProfile(e){return this.httpClient.put(this.hostUrl,e)}deleteUserProfile(){return this.httpClient.delete(this.hostUrl)}getUrlFromProfile(e){return null==e||""==e?null:e.includes("/")?e:Zi_backendEndpoint+"/images/"+e}setImage(e){this.imageUrl=this.getUrlFromProfile(e)}reloadProfileImage(){this.getMyProfile().subscribe(e=>{this.setImage(e.imageUid||null)},e=>{this.setImage(null)})}uploadUserImageProfile(e){let i=this.hostUrl+"image";const a=new FormData;return a.append("image",e),this.httpClient.post(i,a)}deleteUserImageProfile(){return this.httpClient.delete(this.hostUrl+"image")}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hY(t,n){if(1&t&&(Tr(0),_e(1,"img",38),Hi()),2&t){const e=ae();V(1),qn("src",e.getProfileImageUrl(),Ks)}}function pY(t,n){1&t&&_e(0,"em",39)}const as=function(){return["active"]},fY=function(){return["/app/effort"]},gY=function(){return["/app/gantt"]},mY=function(){return["/app/kanban"]},_Y=function(){return["/app/incidents"]},vY=function(){return["/app/requirements"]},yY=function(){return["/app/sprint"]},CY=function(){return["/app/actives"]},_L=function(){return["/app/risks"]},bY=function(){return["/app/vulns"]},wY=function(){return["/app/vulnlib"]},xY=function(){return["/app/projects"]},SY=function(){return["/app/user"]},TY=function(){return["/app/config"]};let EY=(()=>{class t{constructor(e,i){this.tokenService=e,this.userService=i}ngOnInit(){this.userService.reloadProfileImage()}onLogout(){this.tokenService.logOut(),this.reloadWindow()}reloadWindow(){window.location.reload()}getProfileImageUrl(){return this.userService.imageUrl}}return t.\u0275fac=function(e){return new(e||t)(Ce(po),Ce(pc))},t.\u0275cmp=zt({type:t,selectors:[["iMan-sidebar"]],decls:54,vars:73,consts:[["id","sidebar"],[1,"nav",2,"height","inherit"],[1,"d-flex","flex-column","overflow-auto","scroll-inside-sidebar"],[1,"flex-column"],[1,"nav-item",3,"routerLinkActive"],["ngbTooltip","Time","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-stopwatch",2,"font-size","30px"],["ngbTooltip","Gantt","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-bar-chart-steps",2,"font-size","30px"],["ngbTooltip","Kanban","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-kanban",2,"font-size","30px"],["ngbTooltip","Incidents","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-exclamation-circle",2,"font-size","30px"],["hidden","",1,"nav-item",3,"routerLinkActive"],["ngbTooltip","Requirements","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-key",2,"font-size","30px"],["ngbTooltip","Sprints","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-arrow-repeat",2,"font-size","30px"],["ngbTooltip","Actives","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-laptop",2,"font-size","30px"],["ngbTooltip","Risks","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-exclamation-diamond-fill",2,"font-size","30px"],["ngbTooltip","Vulnerabilities","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-incognito",2,"font-size","30px"],["ngbTooltip","Vulnerability library","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-journal-x",2,"font-size","30px"],["ngbTooltip","Projects","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-folder2",2,"font-size","30px"],[1,"flex-column","mt-auto"],[2,"height","2px","margin","0.3rem"],["ngbTooltip","User settings","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[4,"ngIf","ngIfElse"],["showIconProfile",""],["ngbTooltip","Configuration","placement","right",1,"nav-link",2,"color","inherit",3,"routerLink","openDelay"],[1,"bi","bi-sliders",2,"font-size","30px"],[1,"nav-item"],["ngbTooltip","Logout","placement","right",1,"nav-link",3,"openDelay","click"],[1,"bi","bi-power","red-btn",2,"font-size","30px"],["alt","Profile image",1,"profile-image","my-2",3,"src"],[1,"bi","bi-person-circle",2,"font-size","30px"]],template:function(e,i){if(1&e&&(M(0,"nav",0)(1,"ul",1)(2,"div",2)(3,"div",3)(4,"li",4)(5,"a",5),_e(6,"em",6),N()(),M(7,"li",4)(8,"a",7),_e(9,"em",8),N()(),M(10,"li",4)(11,"a",9),_e(12,"em",10),N()(),M(13,"li",4)(14,"a",11),_e(15,"em",12),N()(),M(16,"li",13)(17,"a",14),_e(18,"em",15),N()(),M(19,"li",4)(20,"a",16),_e(21,"em",17),N()(),M(22,"li",4)(23,"a",18),_e(24,"em",19),N()(),M(25,"li",13)(26,"a",20),_e(27,"em",21),N()(),M(28,"li",4)(29,"a",22),_e(30,"em",23),N()(),M(31,"li",4)(32,"a",24),_e(33,"em",25),N()(),M(34,"li",4)(35,"a",20),_e(36,"em",21),N()(),M(37,"li",4)(38,"a",26),_e(39,"em",27),N()()(),M(40,"div",28),_e(41,"hr",29)(42,"hr",29),M(43,"li",4)(44,"a",30),ie(45,hY,2,1,"ng-container",31),ie(46,pY,1,0,"ng-template",null,32,_r),N()(),M(48,"li",13)(49,"a",33),_e(50,"em",34),N()(),M(51,"li",35)(52,"a",36),Ve("click",function(){return i.onLogout()}),_e(53,"em",37),N()()()()()()),2&e){const a=qi(47);V(4),U("routerLinkActive",ri(45,as)),V(1),U("routerLink",ri(46,fY))("openDelay",300),V(2),U("routerLinkActive",ri(47,as)),V(1),U("routerLink",ri(48,gY))("openDelay",300),V(2),U("routerLinkActive",ri(49,as)),V(1),U("routerLink",ri(50,mY))("openDelay",300),V(2),U("routerLinkActive",ri(51,as)),V(1),U("routerLink",ri(52,_Y))("openDelay",300),V(2),U("routerLinkActive",ri(53,as)),V(1),U("routerLink",ri(54,vY))("openDelay",300),V(2),U("routerLinkActive",ri(55,as)),V(1),U("routerLink",ri(56,yY))("openDelay",300),V(2),U("routerLinkActive",ri(57,as)),V(1),U("routerLink",ri(58,CY))("openDelay",300),V(2),U("routerLinkActive",ri(59,as)),V(1),U("routerLink",ri(60,_L))("openDelay",300),V(2),U("routerLinkActive",ri(61,as)),V(1),U("routerLink",ri(62,bY))("openDelay",300),V(2),U("routerLinkActive",ri(63,as)),V(1),U("routerLink",ri(64,wY))("openDelay",300),V(2),U("routerLinkActive",ri(65,as)),V(1),U("routerLink",ri(66,_L))("openDelay",300),V(2),U("routerLinkActive",ri(67,as)),V(1),U("routerLink",ri(68,xY))("openDelay",300),V(5),U("routerLinkActive",ri(69,as)),V(1),U("routerLink",ri(70,SY))("openDelay",300),V(1),U("ngIf",null!=i.getProfileImageUrl()&&""!=i.getProfileImageUrl())("ngIfElse",a),V(3),U("routerLinkActive",ri(71,as)),V(1),U("routerLink",ri(72,TY))("openDelay",300),V(3),U("openDelay",300)}},directives:[yM,kb,_o,Zn],styles:["#sidebar[_ngcontent-%COMP%]{background:var(--dark-pallete-4)!important;color:var(--dark-pallete-text)!important;transition:all .15s;position:relative;height:calc(100vh - var(--navbar-size));width:var(--sidebar-size)}.scroll-inside-sidebar[_ngcontent-%COMP%]{width:300px;height:inherit}.active[_ngcontent-%COMP%]{margin-left:5px;background:var(--dark-pallete-1);color:var(--dark-contrast-text);border-radius:10px 0 0 10px}.bi[_ngcontent-%COMP%]:hover{color:var(--dark-contrast-text)}"]}),t})(),DY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["iMan-menu"]],decls:6,vars:0,consts:[[1,"d-flex",2,"background-color","var(--dark-pallete-3)"],[1,"flex-grow-1","bg-dark-1"],[1,"m-3"]],template:function(e,i){1&e&&(_e(0,"iMan-navbar"),M(1,"div",0),_e(2,"iMan-sidebar"),M(3,"div",1)(4,"div",2),_e(5,"router-outlet"),N()()())},directives:[mL,EY,wb],encapsulation:2}),t})();class rA{constructor(n,e){this.description=n,this.kanbanTaskId=e}}class AY{constructor(n,e,i,a,d){this.id=n,this.description=e,this.kanbanTaskId=i,this.startDate=a,this.endDate=d}}class kY{constructor(n,e){this.title=n,this.sprintId=e}}class RY{constructor(n,e,i){this.id=n,this.title=e,this.columnOrder=i}}class OY{constructor(n,e,i,a,d,h,m,x,R,L){this.title=n,this.description=e,this.estimatedTime=i,this.kanbanColumnId=a,this.tags=d,this.importance=h,this.dueStartDate=m,this.dueEndDate=x,this.assignedUsernames=R,this.childrenIds=L}}class aw{constructor(n,e,i,a,d,h,m,x,R,L){this.id=n,this.title=e,this.description=i,this.estimatedTime=a,this.tags=d,this.importance=h,this.dueStartDate=m,this.dueEndDate=x,this.assignedUsernames=R,this.childrenIds=L}}class PY{constructor(n,e,i){this.kanbanTaskId=n,this.newKanbanColumnId=e,this.newPosition=i}}let oa=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/effort/"}getAllMyEfforts(){return this.httpClient.get(this.hostUrl)}getAllEffortsByTaskId(e){return this.httpClient.get(this.hostUrl+"task/"+e)}getActiveEffort(){return this.httpClient.get(this.hostUrl+"active/")}startEffort(e){return this.httpClient.post(this.hostUrl,e)}endEffort(e){return this.httpClient.put(this.hostUrl+e+"/end",void 0)}updateEffort(e){return this.httpClient.put(this.hostUrl,e)}deleteEffort(e){return this.httpClient.delete(this.hostUrl+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vL="KanbanTaskId";let ks=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/kanban/",this.kanbanColumnUrl=this.hostUrl+"column/",this.kanbanTaskUrl=this.hostUrl+"task/"}getAllKanbanBySprintId(e){return this.httpClient.get(this.hostUrl+"sprint/"+e)}createKanbanColumn(e){return this.httpClient.post(this.kanbanColumnUrl,e)}updateKanbanColumn(e){return this.httpClient.put(this.kanbanColumnUrl,e)}disableKanbanColumn(e){return this.httpClient.put(this.kanbanColumnUrl+e+"/disable",void 0)}getAllKanbanTasksBySprintId(e){return this.httpClient.get(this.hostUrl+"task/sprint/"+e)}createKanbanTask(e){return this.httpClient.post(this.kanbanTaskUrl,e)}updateKanbanTask(e){return this.httpClient.put(this.kanbanTaskUrl,e)}disableKanbanTask(e){return this.httpClient.put(this.kanbanTaskUrl+e+"/disable",void 0)}moveKanbanTask(e){return this.httpClient.put(this.kanbanTaskUrl+"move",e)}getStoredKanbanTaskId(){return Number(localStorage.getItem(vL))}setStoredKanbanTaskId(e){localStorage.setItem(vL,String(e))}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const yL="SprintId";let sa=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/sprint/"}createSprint(e){return this.httpClient.post(this.hostUrl,e)}updateSprint(e){return this.httpClient.put(this.hostUrl,e)}deleteSprint(e){return this.httpClient.delete(this.hostUrl+e)}closeSprint(e){return this.httpClient.put(this.hostUrl+e+"/close",void 0)}disableSprint(e){return this.httpClient.put(this.hostUrl+e+"/disable",void 0)}startSprint(e){return this.httpClient.put(this.hostUrl+e+"/start",void 0)}sprintFromProject(e){return this.httpClient.get(this.hostUrl+"project/"+e)}getStoredSprintId(){return Number(localStorage.getItem(yL))}setStoredSprintId(e){localStorage.setItem(yL,String(e))}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const CL="ProjectId";let oA,aa=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/project/"}myProjects(){return this.httpClient.get(this.hostUrl+"my-projects")}createProject(e){return this.httpClient.post(this.hostUrl,e)}updateProject(e){return this.httpClient.put(this.hostUrl,e)}enableDisableProject(e){return this.httpClient.put(this.hostUrl+"enable-disable/"+e,void 0)}createProjectRole(e){return this.httpClient.post(this.hostUrl+"role",e)}updateProjectRole(e){return this.httpClient.put(this.hostUrl+"role",e)}acceptProjectRole(e){return this.httpClient.put(this.hostUrl+"role/"+e+"/accept",void 0)}declineProjectRole(e){return this.httpClient.delete(this.hostUrl+"role/"+e+"/decline")}getAllMineNotAcceptedProjectRoles(){return this.httpClient.get(this.hostUrl+"my-roles")}getStoredProjectId(){return Number(localStorage.getItem(CL))}setStoredProjectId(e){localStorage.setItem(CL,String(e))}getAllRoles(){return{1:"Admin",2:"Member",3:"Visitor"}}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Va=(()=>{class t{constructor(e,i,a,d,h,m){this.effortService=e,this.kanbanService=i,this.sprintService=a,this.projectService=d,this.formBuilder=h,this.tokenService=m,this.myProjects=[],this.mySprints=[],this.myTasks=[],this.usersInProject=[],this.loadProject=!1,this.loadSprint=!1,this.loadKanban=!1,this.loadTasks=!1,this.loadEfforts=!1,this.adminAccess=!1,this.memberAccess=!1,this.containError=!1}inputClass(e,i){var a,d,h,m;return(null===(a=null==e?void 0:e.get(i))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(i))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(i))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(i))||void 0===m?void 0:m.invalid)?"is-invalid":""}returnPrincipalError(e){let i=e.error.text;null==i&&(i="Error produced"),this.messageError=i,this.containError=!0}ngOnInit(){this.loadMyProjects()}loadMyProjects(){this.projectService.myProjects().subscribe(e=>{this.myProjects=e,(this.loadProject||this.loadSprint||this.loadKanban||this.loadTasks||this.loadEfforts)&&(this.projectSelectedId=this.projectService.getStoredProjectId(),this.loadFirstProject())},e=>{this.returnPrincipalError(e)})}loadFirstProject(){if(0!==this.myProjects.length){let e=this.projectService.getStoredProjectId();(null==e||0==e)&&(this.projectSelectedId=this.myProjects[0].id,this.projectService.setStoredProjectId(this.projectSelectedId)),this.projectSelectedId&&this.editIsAllowed(this.projectSelectedId),this.getAllUsersFromSelectedProject(),this.loadAfterProject()}}loadProjectByIdEvent(e){this.projectSelectedId=Number(e.value),this.projectService.setStoredProjectId(this.projectSelectedId),this.editIsAllowed(this.projectSelectedId),this.sprintService.setStoredSprintId(0),this.loadAfterProject()}loadAfterProject(){(this.loadSprint||this.loadKanban||this.loadTasks||this.loadEfforts)&&this.loadSprintsBySelectedProject()}editIsAllowed(e){let a=this.myProjects.find(d=>d.id===e);if(null!=a){let d=a.projectRoles;this.adminAccess=d.some(h=>h.user.username==this.tokenService.getUsername()&&[0,1].includes(h.role)),this.memberAccess=d.some(h=>h.user.username==this.tokenService.getUsername()&&[0,1,2].includes(h.role))}}loadSprintsBySelectedProject(){let e=this.projectService.getStoredProjectId();null!=e&&0!=e&&this.sprintService.sprintFromProject(e).subscribe(i=>{this.mySprints=i,null!=this.mySprints&&0==this.mySprints.length&&(this.sprintService.setStoredSprintId(0),this.myTasks=[],this.kanban=null),this.sprintSelectedId=this.sprintService.getStoredSprintId(),this.loadFirstSprint()},i=>{this.returnPrincipalError(i)})}loadFirstSprint(){if(0!==this.mySprints.length){let e=this.sprintService.getStoredSprintId();(null==e||0==e)&&(this.sprintSelectedId=this.mySprints[0].id,this.sprintService.setStoredSprintId(this.sprintSelectedId)),this.loadAfterSprint()}}loadAfterSprint(){this.loadKanban&&this.loadKanbanBySelectedSprint(),(this.loadTasks||this.loadEfforts)&&this.loadTasksBySelectedSprint()}loadSprintByIdEvent(e){this.sprintSelectedId=Number(e.value),this.sprintService.setStoredSprintId(this.sprintSelectedId),this.loadAfterSprint()}loadKanbanBySelectedSprint(){let e=this.sprintService.getStoredSprintId();null!=e&&0!=e&&this.kanbanService.getAllKanbanBySprintId(e).subscribe(i=>{this.kanban=i,this.loadActiveEffort()},i=>{this.returnPrincipalError(i)})}loadTasksByIdEvent(e){this.kanbanTaskSelectedId=Number(e.value),this.kanbanService.setStoredKanbanTaskId(this.kanbanTaskSelectedId)}loadTasksBySelectedSprint(){let e=this.sprintService.getStoredSprintId();null!=e&&0!=e&&this.kanbanService.getAllKanbanTasksBySprintId(e).subscribe(i=>{this.myTasks=i,this.containError=!1,this.loadFirstTask(),this.kanbanTaskSelectedId=this.kanbanService.getStoredKanbanTaskId()},i=>{this.returnPrincipalError(i)})}loadFirstTask(){if(0!==this.myTasks.length){let e=this.kanbanService.getStoredKanbanTaskId();(null==e||0==e)&&this.kanbanService.setStoredKanbanTaskId(this.myTasks[0].id)}this.loadAfterTask()}loadAfterTask(){this.loadEfforts&&this.getEfforts()}loadActiveEffort(){this.effortService.getActiveEffort().subscribe(e=>{this.containError=!1,this.activeEffort=e},e=>{this.returnPrincipalError(e)})}getEfforts(){this.loadActiveEffort(),this.effortService.getAllMyEfforts().subscribe(e=>{this.containError=!1,this.efforts=e},e=>{this.returnPrincipalError(e)})}getFormatedDateTimeLikeInput(e){return this.getFormatedDate(e,"yyyy-MM-ddTHH:mm:ss")}transformNumberToString(e,i,a){return e.toLocaleString("en-US",{minimumIntegerDigits:i,minimumFractionDigits:a})}timeToDoubleString(e){return null==e&&(e=0),(e%1?e.toFixed(3):e)+""}getDifferenceFormatted(e,i){let a=Math.abs(new Date(e).getTime()-new Date(i).getTime());return this.transformNumberToString(Math.floor(a/36e5),1,0)+":"+this.transformNumberToString(Math.floor(a/6e4)%60,2,0)+":"+this.transformNumberToString(Math.floor(a/1e3)%60,2,0)}formatDate(e){return this.getFormatedDate(e,"dd/MM/yyyy")}formatTime(e){return this.getFormatedDate(e,"HH:mm:ss")}getFormatedDate(e,i){return new Tu("en-US").transform(e,i)}loadActualDate(){let e=new Date,i=String(e.getMonth()+1),a=String(e.getDate()),d=String(e.getFullYear());Number(i)<10&&(i="0"+i.toString()),Number(a)<10&&(a="0"+a.toString()),this.actualDate=d+"-"+i+"-"+a}getKeyByValue(e,i){return Object.keys(e).find(a=>e[a]===i)}getRole(e){switch(e){case 0:return"Owner";case 1:return"Admin";case 2:return"Member";default:return"Visitor"}}getPriority(e){switch(e){case 0:return"Critical";case 1:return"High";case 2:return"Medium";default:return"Low"}}getAllUsersFromSelectedProject(){if(this.projectSelectedId){let e=this.myProjects.find(i=>i.id==this.projectSelectedId);null!=e&&(this.usersInProject=e.projectRoles.map(i=>i.user))}}}return t.\u0275fac=function(e){return new(e||t)(Qe(oa),Qe(ks),Qe(sa),Qe(aa),Qe(Ar),Qe(po))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();try{oA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){oA=!1}let X_,sA,bL=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?df(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Qe(ka))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Q_(t){return function IY(){if(null==X_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>X_=!0}))}finally{X_=X_||!1}return X_}()?t:!!t.capture}function xL(t){if(function MY(){if(null==sA){const t="undefined"!=typeof document?document.head:null;sA=!(!t||!t.createShadowRoot&&!t.attachShadow)}return sA}()){const n=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function cw(t){return t.composedPath?t.composedPath()[0]:t.target}function Af(t){return null!=t&&"false"!=`${t}`}function SL(t,n=0){return function NY(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function ls(t){return t instanceof Bn?t.nativeElement:t}const Z_={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Z_;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const a=n(d=>{e=void 0,t(d)});return new D(()=>null==e?void 0:e(a))},requestAnimationFrame(...t){const{delegate:n}=Z_;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Z_;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0},AL=new class eK extends ID{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let a;n=n||i.shift();do{if(a=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,a){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw a}}}(class JY extends PD{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Z_.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);n.actions.some(a=>a.id===e)||(Z_.cancelAnimationFrame(e),n._scheduled=void 0)}});let aA,tK=1;const uw={};function kL(t){return t in uw&&(delete uw[t],!0)}const nK={setImmediate(t){const n=tK++;return uw[n]=!0,aA||(aA=Promise.resolve()),aA.then(()=>kL(n)&&t()),n},clearImmediate(t){kL(t)}},{setImmediate:iK,clearImmediate:rK}=nK,dw={setImmediate(...t){const{delegate:n}=dw;return((null==n?void 0:n.setImmediate)||iK)(...t)},clearImmediate(t){const{delegate:n}=dw;return((null==n?void 0:n.clearImmediate)||rK)(t)},delegate:void 0};new class sK extends ID{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let a;n=n||i.shift();do{if(a=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,a){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw a}}}(class oK extends PD{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=dw.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);n.actions.some(a=>a.id===e)||(dw.clearImmediate(e),n._scheduled=void 0)}});function RL(t,n=F_){return function lK(t){return Re((n,e)=>{let i=!1,a=null,d=null,h=!1;const m=()=>{if(null==d||d.unsubscribe(),d=null,i){i=!1;const R=a;a=null,e.next(R)}h&&e.complete()},x=()=>{d=null,h&&e.complete()};n.subscribe(Nt(e,R=>{i=!0,a=R,d||dr(t(R)).subscribe(d=Nt(e,m,x))},()=>{h=!0,(!i||!d||d.closed)&&e.complete()}))})}(()=>L_(t,n))}let uK=(()=>{class t{constructor(e,i,a){this._ngZone=e,this._platform=i,this._scrolled=new qe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ke(i=>{this._globalSubscription||this._addGlobalListener();const a=e>0?this._scrolled.pipe(RL(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):yn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const a=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Dr(d=>!d||a.indexOf(d)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((a,d)=>{this._scrollableContainsElement(d,e)&&i.push(d)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let a=ls(i),d=e.getElementRef().nativeElement;do{if(a==d)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>eo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Qe(Un),Qe(bL),Qe(hi,8))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hK=(()=>{class t{constructor(e,i,a){this._platform=e,this._change=new qe,this._changeListener=d=>{this._change.next(d)},this._document=a,i.runOutsideAngular(()=>{if(e.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+i,height:a,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),a=e.documentElement,d=a.getBoundingClientRect();return{top:-d.top||e.body.scrollTop||i.scrollY||a.scrollTop||0,left:-d.left||e.body.scrollLeft||i.scrollX||a.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(RL(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Qe(bL),Qe(Un),Qe(hi,8))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({}),t})();const fK=new Zt("cdk-dir-doc",{providedIn:"root",factory:function gK(){return by(hi)}}),mK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let OL=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new Ae,e){const a=e.documentElement?e.documentElement.dir:null;this.value=function _K(t){const n=(null==t?void 0:t.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?mK.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||a||"ltr")}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Qe(fK,8))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lA(t,n,e){for(let i in n)if(n.hasOwnProperty(i)){const a=n[i];a?t.setProperty(i,a,(null==e?void 0:e.has(i))?"important":""):t.removeProperty(i)}return t}function kf(t,n){const e=n?"":"none";lA(t.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function PL(t,n,e){lA(t.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function hw(t,n){return n&&"none"!=n?t+" "+n:t}function IL(t){const n=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*n}function cA(t,n){return t.getPropertyValue(n).split(",").map(i=>i.trim())}function uA(t){const n=t.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function dA(t,n,e){const{top:i,bottom:a,left:d,right:h}=t;return e>=i&&e<=a&&n>=d&&n<=h}function J_(t,n,e){t.top+=n,t.bottom=t.top+t.height,t.left+=e,t.right=t.left+t.width}function ML(t,n,e,i){const{top:a,right:d,bottom:h,left:m,width:x,height:R}=t,L=x*n,W=R*n;return i>a-W&&i<h+W&&e>m-L&&e<d+L}class NL{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:uA(e)})})}handleScroll(n){const e=cw(n),i=this.positions.get(e);if(!i)return null;const a=i.scrollPosition;let d,h;if(e===this._document){const R=this.getViewportScrollPosition();d=R.top,h=R.left}else d=e.scrollTop,h=e.scrollLeft;const m=a.top-d,x=a.left-h;return this.positions.forEach((R,L)=>{R.clientRect&&e!==L&&e.contains(L)&&J_(R.clientRect,m,x)}),a.top=d,a.left=h,{top:m,left:x}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function FL(t){const n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();n.removeAttribute("id");for(let a=0;a<e.length;a++)e[a].removeAttribute("id");return"canvas"===i?GL(t,n):("input"===i||"select"===i||"textarea"===i)&&VL(t,n),LL("canvas",t,n,GL),LL("input, textarea, select",t,n,VL),n}function LL(t,n,e,i){const a=n.querySelectorAll(t);if(a.length){const d=e.querySelectorAll(t);for(let h=0;h<a.length;h++)i(a[h],d[h])}}let yK=0;function VL(t,n){"file"!==n.type&&(n.value=t.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${yK++}`)}function GL(t,n){const e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch(i){}}const BL=Q_({passive:!0}),pw=Q_({passive:!1}),hA=new Set(["position"]);class bK{constructor(n,e,i,a,d,h){this._config=e,this._document=i,this._ngZone=a,this._viewportRuler=d,this._dragDropRegistry=h,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new qe,this._pointerMoveSubscription=D.EMPTY,this._pointerUpSubscription=D.EMPTY,this._scrollSubscription=D.EMPTY,this._resizeSubscription=D.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new qe,this.started=new qe,this.released=new qe,this.ended=new qe,this.entered=new qe,this.exited=new qe,this.dropped=new qe,this.moved=this._moveEvents,this._pointerDown=m=>{if(this.beforeStarted.next(),this._handles.length){const x=this._getTargetHandle(m);x&&!this._disabledHandles.has(x)&&!this.disabled&&this._initializeDragSequence(x,m)}else this.disabled||this._initializeDragSequence(this._rootElement,m)},this._pointerMove=m=>{const x=this._getPointerPositionOnPage(m);if(!this._hasStartedDragging){if(Math.abs(x.x-this._pickupPositionOnPage.x)+Math.abs(x.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const re=Date.now()>=this._dragStartTime+this._getDragStartDelay(m),ge=this._dropContainer;if(!re)return void this._endDragSequence(m);(!ge||!ge.isDragging()&&!ge.isReceiving())&&(m.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(m)))}return}m.preventDefault();const R=this._getConstrainedPointerPosition(x);if(this._hasMoved=!0,this._lastKnownPointerPosition=x,this._updatePointerDirectionDelta(R),this._dropContainer)this._updateActiveDropContainer(R,x);else{const L=this._activeTransform;L.x=R.x-this._pickupPositionOnPage.x+this._passiveTransform.x,L.y=R.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(L.x,L.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:R,event:m,distance:this._getDragDistance(R),delta:this._pointerDirectionDelta})})},this._pointerUp=m=>{this._endDragSequence(m)},this._nativeDragStart=m=>{if(this._handles.length){const x=this._getTargetHandle(m);x&&!this._disabledHandles.has(x)&&!this.disabled&&m.preventDefault()}else this.disabled||m.preventDefault()},this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new NL(i),h.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const e=Af(n);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>kf(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>ls(i)),this._handles.forEach(i=>kf(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const e=ls(n);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,pw),e.addEventListener("touchstart",this._pointerDown,BL),e.addEventListener("dragstart",this._nativeDragStart,pw)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?ls(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){var n,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(n=this._rootElement)||void 0===n||n.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),kf(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),kf(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var n,e;null===(n=this._preview)||void 0===n||n.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var n,e;null===(n=this._placeholder)||void 0===n||n.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){ev(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,a=i.parentNode,d=this._placeholder=this._createPlaceholderElement(),h=this._anchor=this._anchor||this._document.createComment(""),m=this._getShadowRoot();a.insertBefore(h,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),PL(i,!1,hA),this._document.body.appendChild(a.replaceChild(d,i)),this._getPreviewInsertionPoint(a,m).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),a=ev(e),d=!a&&0!==e.button,h=this._rootElement,m=cw(e),x=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),R=a?function XY(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}(e):function qY(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}(e);if(m&&m.draggable&&"mousedown"===e.type&&e.preventDefault(),i||d||x||R)return;if(this._handles.length){const X=h.style;this._rootElementTapHighlight=X.webkitTapHighlightColor||"",X.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(X=>this._updateOnScroll(X)),this._boundaryElement&&(this._boundaryRect=uA(this._boundaryElement));const L=this._previewTemplate;this._pickupPositionInElement=L&&L.template&&!L.matchSize?{x:0,y:0}:this._getPointerPositionInElement(n,e);const W=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:W.x,y:W.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){PL(this._rootElement,!0,hA),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),a=this._getPointerPositionOnPage(n),d=this._getDragDistance(a),h=e._isOverContainer(a.x,a.y);this.ended.next({source:this,distance:d,dropPoint:a}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:h,distance:d,dropPoint:a}),e.drop(this,i,this._initialIndex,this._initialContainer,h,d,a),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:i,y:a}){let d=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!d&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(d=this._initialContainer),d&&d!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=d,this._dropContainer.enter(this,n,e,d===this._initialContainer&&d.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:d,currentIndex:d.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,a),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,e=this.previewClass,i=n?n.template:null;let a;if(i&&n){const d=n.matchSize?this._rootElement.getBoundingClientRect():null,h=n.viewContainer.createEmbeddedView(i,n.context);h.detectChanges(),a=jL(h,this._document),this._previewRef=h,n.matchSize?$L(a,d):a.style.transform=fw(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const d=this._rootElement;a=FL(d),$L(a,d.getBoundingClientRect()),this._initialTransform&&(a.style.transform=this._initialTransform)}return lA(a.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},hA),kf(a,!1),a.classList.add("cdk-drag-preview"),a.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(d=>a.classList.add(d)):a.classList.add(e)),a}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const e=function vK(t){const n=getComputedStyle(t),e=cA(n,"transition-property"),i=e.find(m=>"transform"===m||"all"===m);if(!i)return 0;const a=e.indexOf(i),d=cA(n,"transition-duration"),h=cA(n,"transition-delay");return IL(d[a])+IL(h[a])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const a=h=>{var m;(!h||cw(h)===this._preview&&"transform"===h.propertyName)&&(null===(m=this._preview)||void 0===m||m.removeEventListener("transitionend",a),i(),clearTimeout(d))},d=setTimeout(a,1.5*e);this._preview.addEventListener("transitionend",a)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,e=n?n.template:null;let i;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),i=jL(this._placeholderRef,this._document)):i=FL(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,e){const i=this._rootElement.getBoundingClientRect(),a=n===this._rootElement?null:n,d=a?a.getBoundingClientRect():i,h=ev(e)?e.targetTouches[0]:e,m=this._getViewportScrollPosition();return{x:d.left-i.left+(h.pageX-d.left-m.left),y:d.top-i.top+(h.pageY-d.top-m.top)}}_getPointerPositionOnPage(n){const e=this._getViewportScrollPosition(),i=ev(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,a=i.pageX-e.left,d=i.pageY-e.top;if(this._ownerSVGElement){const h=this._ownerSVGElement.getScreenCTM();if(h){const m=this._ownerSVGElement.createSVGPoint();return m.x=a,m.y=d,m.matrixTransform(h.inverse())}}return{x:a,y:d}}_getConstrainedPointerPosition(n){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:a}=this.constrainPosition?this.constrainPosition(n,this):n;if("x"===this.lockAxis||"x"===e?a=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:d,y:h}=this._pickupPositionInElement,m=this._boundaryRect,{width:x,height:R}=this._getPreviewRect(),L=m.top+h,W=m.bottom-(R-h);i=HL(i,m.left+d,m.right-(x-d)),a=HL(a,L,W)}return{x:i,y:a}}_updatePointerDirectionDelta(n){const{x:e,y:i}=n,a=this._pointerDirectionDelta,d=this._pointerPositionAtLastDirectionChange,h=Math.abs(e-d.x),m=Math.abs(i-d.y);return h>this._config.pointerDirectionChangeThreshold&&(a.x=e>d.x?1:-1,d.x=e),m>this._config.pointerDirectionChangeThreshold&&(a.y=i>d.y?1:-1,d.y=i),a}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,kf(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,pw),n.removeEventListener("touchstart",this._pointerDown,BL),n.removeEventListener("dragstart",this._nativeDragStart,pw)}_applyRootElementTransform(n,e){const i=fw(n,e),a=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=a.transform&&"none"!=a.transform?a.transform:""),a.transform=hw(i,this._initialTransform)}_applyPreviewTransform(n,e){var i;const a=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,d=fw(n,e);this._preview.style.transform=hw(d,a)}_getDragDistance(n){const e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(0===n&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===a.width&&0===a.height)return;const d=i.left-a.left,h=a.right-i.right,m=i.top-a.top,x=a.bottom-i.bottom;i.width>a.width?(d>0&&(n+=d),h>0&&(n-=h)):n=0,i.height>a.height?(m>0&&(e+=m),x>0&&(e-=x)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){const e=this.dragStartDelay;return"number"==typeof e?e:ev(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){const e=this._parentPositions.handleScroll(n);if(e){const i=cw(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&J_(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var n;return(null===(n=this._parentPositions.positions.get(this._document))||void 0===n?void 0:n.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=xL(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const a=this._document;return e||a.fullscreenElement||a.webkitFullscreenElement||a.mozFullScreenElement||a.msFullscreenElement||a.body}return ls(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}}function fw(t,n){return`translate3d(${Math.round(t)}px, ${Math.round(n)}px, 0)`}function HL(t,n,e){return Math.max(n,Math.min(e,t))}function ev(t){return"t"===t.type[0]}function jL(t,n){const e=t.rootNodes;if(1===e.length&&e[0].nodeType===n.ELEMENT_NODE)return e[0];const i=n.createElement("div");return e.forEach(a=>i.appendChild(a)),i}function $L(t,n){t.style.width=`${n.width}px`,t.style.height=`${n.height}px`,t.style.transform=fw(n.left,n.top)}function tv(t,n){return Math.max(0,Math.min(n,t))}class xK{constructor(n,e,i,a,d){this._dragDropRegistry=e,this._ngZone=a,this._viewportRuler=d,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new qe,this.entered=new qe,this.exited=new qe,this.dropped=new qe,this.sorted=new qe,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=D.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new qe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function ZY(t=0,n=F_){return t<0&&(t=0),L_(t,t,n)}(0,AL).pipe(Ji(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,m=this.autoScrollStep;1===this._verticalScrollDirection?h.scrollBy(0,-m):2===this._verticalScrollDirection&&h.scrollBy(0,m),1===this._horizontalScrollDirection?h.scrollBy(-m,0):2===this._horizontalScrollDirection&&h.scrollBy(m,0)})},this.element=ls(n),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new NL(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,i,a){let d;this._draggingStarted(),null==a?(d=this.sortingDisabled?this._draggables.indexOf(n):-1,-1===d&&(d=this._getItemIndexFromPointerPosition(n,e,i))):d=a;const h=this._activeDraggables,m=h.indexOf(n),x=n.getPlaceholderElement();let R=h[d];if(R===n&&(R=h[d+1]),!R&&(null==d||-1===d||d<h.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(R=h[0]),m>-1&&h.splice(m,1),R&&!this._dragDropRegistry.isDragging(R)){const L=R.getRootElement();L.parentElement.insertBefore(x,L),h.splice(d,0,n)}else ls(this.element).appendChild(x),h.push(n);x.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,i,a,d,h,m){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:i,container:this,previousContainer:a,isPointerOverContainer:d,distance:h,dropPoint:m})}withItems(n){const e=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(a=>a.isDragging()).every(a=>-1===n.indexOf(a))?this._reset():this._cacheItems()),this}withDirection(n){return this._direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._orientation=n,this}withScrollableParents(n){const e=ls(this.element);return this._scrollableElements=-1===n.indexOf(e)?[e,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,i,a){if(this.sortingDisabled||!this._clientRect||!ML(this._clientRect,.05,e,i))return;const d=this._itemPositions,h=this._getItemIndexFromPointerPosition(n,e,i,a);if(-1===h&&d.length>0)return;const m="horizontal"===this._orientation,x=d.findIndex(ve=>ve.drag===n),R=d[h],W=R.clientRect,X=x>h?1:-1,re=this._getItemOffsetPx(d[x].clientRect,W,X),ge=this._getSiblingOffsetPx(x,d,X),be=d.slice();(function wK(t,n,e){const i=tv(n,t.length-1),a=tv(e,t.length-1);if(i===a)return;const d=t[i],h=a<i?-1:1;for(let m=i;m!==a;m+=h)t[m]=t[m+h];t[a]=d})(d,x,h),this.sorted.next({previousIndex:x,currentIndex:h,container:this,item:n}),d.forEach((ve,De)=>{if(be[De]===ve)return;const Ee=ve.drag===n,Me=Ee?re:ge,He=Ee?n.getPlaceholderElement():ve.drag.getRootElement();ve.offset+=Me,m?(He.style.transform=hw(`translate3d(${Math.round(ve.offset)}px, 0, 0)`,ve.initialTransform),J_(ve.clientRect,0,Me)):(He.style.transform=hw(`translate3d(0, ${Math.round(ve.offset)}px, 0)`,ve.initialTransform),J_(ve.clientRect,Me,0))}),this._previousSwap.overlaps=dA(W,e,i),this._previousSwap.drag=R.drag,this._previousSwap.delta=m?a.x:a.y}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let i,a=0,d=0;if(this._parentPositions.positions.forEach((h,m)=>{m===this._document||!h.clientRect||i||ML(h.clientRect,.05,n,e)&&([a,d]=function SK(t,n,e,i){const a=zL(n,i),d=YL(n,e);let h=0,m=0;if(a){const x=t.scrollTop;1===a?x>0&&(h=1):t.scrollHeight-x>t.clientHeight&&(h=2)}if(d){const x=t.scrollLeft;1===d?x>0&&(m=1):t.scrollWidth-x>t.clientWidth&&(m=2)}return[h,m]}(m,h.clientRect,n,e),(a||d)&&(i=m))}),!a&&!d){const{width:h,height:m}=this._viewportRuler.getViewportSize(),x={width:h,height:m,top:0,right:h,bottom:m,left:0};a=zL(x,e),d=YL(x,n),i=window}i&&(a!==this._verticalScrollDirection||d!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=a,this._horizontalScrollDirection=d,this._scrollNode=i,(a||d)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=ls(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=ls(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_cacheItemPositions(){const n="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:uA(i)}}).sort((e,i)=>n?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const n=ls(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const a=e.getRootElement();if(a){const d=null===(i=this._itemPositions.find(h=>h.drag===e))||void 0===i?void 0:i.initialTransform;a.style.transform=d||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(n,e,i){const a="horizontal"===this._orientation,d=e[n].clientRect,h=e[n+-1*i];let m=d[a?"width":"height"]*i;if(h){const x=a?"left":"top",R=a?"right":"bottom";-1===i?m-=h.clientRect[x]-d[R]:m+=d[x]-h.clientRect[R]}return m}_getItemOffsetPx(n,e,i){const a="horizontal"===this._orientation;let d=a?e.left-n.left:e.top-n.top;return-1===i&&(d+=a?e.width-n.width:e.height-n.height),d}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,a="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const h=i[i.length-1].clientRect;return a?n>=h.right:e>=h.bottom}{const h=i[0].clientRect;return a?n<=h.left:e<=h.top}}_getItemIndexFromPointerPosition(n,e,i,a){const d="horizontal"===this._orientation,h=this._itemPositions.findIndex(({drag:m,clientRect:x})=>{if(m===n)return!1;if(a){const R=d?a.x:a.y;if(m===this._previousSwap.drag&&this._previousSwap.overlaps&&R===this._previousSwap.delta)return!1}return d?e>=Math.floor(x.left)&&e<Math.floor(x.right):i>=Math.floor(x.top)&&i<Math.floor(x.bottom)});return-1!==h&&this.sortPredicate(h,n,this)?h:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(n,e){return null!=this._clientRect&&dA(this._clientRect,n,e)}_getSiblingContainerFromPosition(n,e,i){return this._siblings.find(a=>a._canReceive(n,e,i))}_canReceive(n,e,i){if(!this._clientRect||!dA(this._clientRect,e,i)||!this.enterPredicate(n,this))return!1;const a=this._getShadowRoot().elementFromPoint(e,i);if(!a)return!1;const d=ls(this.element);return a===d||d.contains(a)}_startReceiving(n,e){const i=this._activeSiblings;!i.has(n)&&e.every(a=>this.enterPredicate(a,this)||this._draggables.indexOf(a)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(n);e&&(this._itemPositions.forEach(({clientRect:i})=>{J_(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=xL(ls(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}}function zL(t,n){const{top:e,bottom:i,height:a}=t,d=.05*a;return n>=e-d&&n<=e+d?1:n>=i-d&&n<=i+d?2:0}function YL(t,n){const{left:e,right:i,width:a}=t,d=.05*a;return n>=e-d&&n<=e+d?1:n>=i-d&&n<=i+d?2:0}const gw=Q_({passive:!1,capture:!0});let TK=(()=>{class t{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=a=>a.isDragging(),this.pointerMove=new qe,this.pointerUp=new qe,this.scroll=new qe,this._preventDefaultWhileDragging=a=>{this._activeDragInstances.length>0&&a.preventDefault()},this._persistentTouchmoveListener=a=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&a.preventDefault(),this.pointerMove.next(a))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,gw)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,gw)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const a=i.type.startsWith("touch");this._globalListeners.set(a?"touchend":"mouseup",{handler:d=>this.pointerUp.next(d),options:!0}).set("scroll",{handler:d=>this.scroll.next(d),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:gw}),a||this._globalListeners.set("mousemove",{handler:d=>this.pointerMove.next(d),options:gw}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((d,h)=>{this._document.addEventListener(h,d.handler,d.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new ke(a=>this._ngZone.runOutsideAngular(()=>{const h=m=>{this._activeDragInstances.length&&a.next(m)};return e.addEventListener("scroll",h,!0),()=>{e.removeEventListener("scroll",h,!0)}}))),Oh(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(Qe(Un),Qe(hi))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const EK={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let pA=(()=>{class t{constructor(e,i,a,d){this._document=e,this._ngZone=i,this._viewportRuler=a,this._dragDropRegistry=d}createDrag(e,i=EK){return new bK(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new xK(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi),Qe(Un),Qe(hK),Qe(TK))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const KL=new Zt("CDK_DRAG_PARENT"),fA=new Zt("CdkDropListGroup");let DK=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Af(e)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Et({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[si([{provide:fA,useExisting:t}])]}),t})();const qL=new Zt("CDK_DRAG_CONFIG");let AK=0;const XL=new Zt("CdkDropList");let kK=(()=>{class t{constructor(e,i,a,d,h,m,x){this.element=e,this._changeDetectorRef=a,this._scrollDispatcher=d,this._dir=h,this._group=m,this._destroyed=new qe,this.connectedTo=[],this.id="cdk-drop-list-"+AK++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Ae,this.entered=new Ae,this.exited=new Ae,this.sorted=new Ae,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,x&&this._assignDefaults(x),this._dropListRef.enterPredicate=(R,L)=>this.enterPredicate(R.data,L.data),this._dropListRef.sortPredicate=(R,L,W)=>this.sortPredicate(R,L.data,W.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),m&&m._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Af(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Xd(this._dir.value),Ji(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function FY(t){return Array.isArray(t)?t:[t]}(this.connectedTo).map(a=>"string"==typeof a?t._dropLists.find(h=>h.id===a):a);if(this._group&&this._group._items.forEach(a=>{-1===i.indexOf(a)&&i.push(a)}),!this._scrollableParentsResolved){const a=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(d=>d.getElementRef().nativeElement);this._dropListRef.withScrollableParents(a),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Af(this.sortingDisabled),e.autoScrollDisabled=Af(this.autoScrollDisabled),e.autoScrollStep=SL(this.autoScrollStep,2),e.connectedTo(i.filter(a=>a&&a!==this).map(a=>a._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:a,sortingDisabled:d,listAutoScrollDisabled:h,listOrientation:m}=e;this.disabled=null!=a&&a,this.sortingDisabled=null!=d&&d,this.autoScrollDisabled=null!=h&&h,this.orientation=m||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return t._dropLists=[],t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(pA),Ce(Fr),Ce(uK),Ce(OL,8),Ce(fA,12),Ce(qL,8))},t.\u0275dir=Et({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(kt("id",i.id),xe("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[si([{provide:fA,useValue:void 0},{provide:XL,useExisting:t}])]}),t})();const QL=new Zt("CdkDragHandle"),RK=new Zt("CdkDragPlaceholder"),OK=new Zt("CdkDragPreview");let IK=(()=>{class t{constructor(e,i,a,d,h,m,x,R,L,W,X){this.element=e,this.dropContainer=i,this._ngZone=d,this._viewContainerRef=h,this._dir=x,this._changeDetectorRef=L,this._selfHandle=W,this._parentDrag=X,this._destroyed=new qe,this.started=new Ae,this.released=new Ae,this.ended=new Ae,this.entered=new Ae,this.exited=new Ae,this.dropped=new Ae,this.moved=new ke(re=>{const ge=this._dragRef.moved.pipe(yt(be=>({source:this,pointerPosition:be.pointerPosition,event:be.event,delta:be.delta,distance:be.distance}))).subscribe(re);return()=>{ge.unsubscribe()}}),this._dragRef=R.createDrag(e,{dragStartThreshold:m&&null!=m.dragStartThreshold?m.dragStartThreshold:5,pointerDirectionChangeThreshold:m&&null!=m.pointerDirectionChangeThreshold?m.pointerDirectionChangeThreshold:5,zIndex:null==m?void 0:m.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),m&&this._assignDefaults(m),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Af(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gr(1),Ji(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,a=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),a&&!a.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var e;const i=this.element.nativeElement;let a=i;this.rootElementSelector&&(a=void 0!==i.closest?i.closest(this.rootElementSelector):null===(e=i.parentElement)||void 0===e?void 0:e.closest(this.rootElementSelector)),this._dragRef.withRootElement(a||i)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):ls(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,a=this.dragStartDelay,d=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,h=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof a&&a?a:SL(a),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(d).withPreviewTemplate(h).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Gr(1)).subscribe(()=>{var i;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let a=this.element.nativeElement.parentElement;for(;a;){if(a.classList.contains("cdk-drag")){e.withParent((null===(i=t._dragInstances.find(d=>d.element.nativeElement===a))||void 0===i?void 0:i._dragRef)||null);break}a=a.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:a,constrainPosition:d,previewClass:h,boundaryElement:m,draggingDisabled:x,rootElementSelector:R,previewContainer:L}=e;this.disabled=null!=x&&x,this.dragStartDelay=a||0,i&&(this.lockAxis=i),d&&(this.constrainPosition=d),h&&(this.previewClass=h),m&&(this.boundaryElement=m),R&&(this.rootElementSelector=R),L&&(this.previewContainer=L)}_setupHandlesListener(){this._handles.changes.pipe(Xd(this._handles),Xr(e=>{const i=e.filter(a=>a._parentDrag===this).map(a=>a.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),hl(e=>Oh(...e.map(i=>i._stateChanges.pipe(Xd(i))))),Ji(this._destroyed)).subscribe(e=>{const i=this._dragRef,a=e.element.nativeElement;e.disabled?i.disableHandle(a):i.enableHandle(a)})}}return t._dragInstances=[],t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(XL,12),Ce(hi),Ce(Un),Ce(ho),Ce(qL,8),Ce(OL,8),Ce(pA),Ce(Fr),Ce(QL,10),Ce(KL,12))},t.\u0275dir=Et({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,a){if(1&e&&(Oi(a,OK,5),Oi(a,RK,5),Oi(a,QL,5)),2&e){let d;qt(d=Xt())&&(i._previewTemplate=d.first),qt(d=Xt())&&(i._placeholderTemplate=d.first),qt(d=Xt())&&(i._handles=d)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&xe("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[si([{provide:KL,useExisting:t}]),$n]}),t})(),MK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({providers:[pA],imports:[pK]}),t})();function NK(t,n){if(1&t&&(Tr(0),_e(1,"img",5),Hi()),2&t){const e=ae(3);V(1),qn("src",e.imageUrl,Ks),ts("alt","@",e.username," profile image")}}function FK(t,n){1&t&&_e(0,"em",6)}function LK(t,n){if(1&t&&(Tr(0),ie(1,NK,2,2,"ng-container",3),ie(2,FK,1,0,"ng-template",null,4,_r),Hi()),2&t){const e=qi(3),i=ae(2);V(1),U("ngIf",""!=i.imageUrl)("ngIfElse",e)}}function VK(t,n){if(1&t&&(Tr(0),M(1,"div",7),K(2),N(),Hi()),2&t){const e=ae(2);V(2),it("@",e.username,"")}}function GK(t,n){if(1&t&&(M(0,"div",1),ie(1,LK,4,2,"ng-container",2),ie(2,VK,3,1,"ng-container",2),N()),2&t){const e=ae();ts("ngbTooltip","@",e.username,""),U("openDelay",300),V(1),U("ngIf",e.showProfileImage),V(1),U("ngIf",e.showUsername)}}let nv=(()=>{class t{constructor(e){this.userService=e,this.showProfileImage=!0,this.showUsername=!0,this.username="",this.imageUrl=""}ngOnInit(){if(null!=this.user)this.username=this.user.username,this.imageUrl=this.getProfileImageUrlFromUser(this.user);else if(""!=this.imageUrl){let e=this.userService.getUrlFromProfile(this.imageUrl);this.imageUrl=e||this.imageUrl}}getProfileImageUrlFromUser(e){return this.userService.getUrlFromProfile(e.imageUid)}}return t.\u0275fac=function(e){return new(e||t)(Ce(pc))},t.\u0275cmp=zt({type:t,selectors:[["show-user"]],inputs:{showProfileImage:"showProfileImage",showUsername:"showUsername",user:"user",username:"username",imageUrl:"imageUrl"},decls:1,vars:1,consts:[["class","d-flex","placement","right",3,"ngbTooltip","openDelay",4,"ngIf"],["placement","right",1,"d-flex",3,"ngbTooltip","openDelay"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["showIconProfile",""],[1,"profile-image","my-2","me-2",3,"src","alt"],[1,"bi","bi-person-circle","me-2",2,"font-size","35px !important"],[1,"my-auto"]],template:function(e,i){1&e&&ie(0,GK,3,4,"div",0),2&e&&U("ngIf",null!=i.user||""!=i.username||""!=i.imageUrl)},directives:[Zn,_o],styles:[""]}),t})();const BK=["closeButtonTask"];function HK(t,n){if(1&t&&(M(0,"div",11),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageError," ")}}function jK(t,n){if(1&t&&(M(0,"div",23),_e(1,"em",24),M(2,"div",25),K(3),N()()),2&t){const e=ae(2);V(3),it(" Estimated time: ",e.timeToDoubleString(e.selectedTask.estimatedTime),"h ")}}function $K(t,n){if(1&t&&(M(0,"div",23),_e(1,"em",26),M(2,"div",25),K(3),N()()),2&t){const e=ae(2);V(3),it(" Computed time: ",e.timeToDoubleString(e.selectedTask.computedTime),"h ")}}function WK(t,n){if(1&t&&(M(0,"div",23),_e(1,"em",27),M(2,"div",25),K(3),N()()),2&t){const e=ae(2);V(3),it(" Importance: ",e.selectedTask.importance," ")}}function UK(t,n){if(1&t&&(M(0,"div",31),K(1),N()),2&t){const e=n.$implicit;V(1),it(" #",e.trim()," ")}}function zK(t,n){if(1&t&&(M(0,"div",28),_e(1,"em",29),M(2,"div",25),K(3," Tags: "),N(),ie(4,UK,2,1,"div",30),N()),2&t){const e=ae(2);V(4),U("ngForOf",e.selectedTask.tags.split(","))}}function YK(t,n){if(1&t&&(M(0,"div",23),_e(1,"em",32),M(2,"div",25),K(3),N()()),2&t){const e=ae(2);V(3),it(" Due start date: ",e.getFormatedDate(e.selectedTask.dueStartDate,"dd/MM/yyyy")," ")}}function KK(t,n){if(1&t&&(M(0,"div",23),_e(1,"em",33),M(2,"div",25),K(3),N()()),2&t){const e=ae(2);V(3),it(" Due end date: ",e.getFormatedDate(e.selectedTask.dueEndDate,"dd/MM/yyyy")," ")}}function qK(t,n){if(1&t&&(M(0,"div",39),_e(1,"show-user",40),N()),2&t){const e=n.$implicit;ts("ngbTooltip","@",e.username,""),U("openDelay",300),V(1),U("user",e)}}function XK(t,n){if(1&t&&(M(0,"div",36)(1,"div",5),_e(2,"em",37),M(3,"div",25),K(4," Assigned: "),N()(),ie(5,qK,2,3,"div",38),N()),2&t){const e=ae(3);V(5),U("ngForOf",e.selectedTask.assignedUsers)}}function QK(t,n){if(1&t&&(M(0,"div",44)(1,"div",45),K(2),N()()),2&t){const e=n.$implicit;V(2),Li("#",e.number,": ",e.title,"")}}function ZK(t,n){if(1&t&&(M(0,"div",36)(1,"div",5),_e(2,"em",41),M(3,"div",42),K(4," Childrens: "),N()(),ie(5,QK,3,2,"div",43),N()),2&t){const e=ae(3);V(5),U("ngForOf",e.selectedTask.children)}}function JK(t,n){if(1&t&&(M(0,"div",34),ie(1,XK,6,1,"div",35),ie(2,ZK,6,1,"div",35),N()),2&t){const e=ae(2);V(1),U("ngIf",e.selectedTask.assignedUsers&&0!=e.selectedTask.assignedUsers.length),V(1),U("ngIf",e.selectedTask.children&&0!=e.selectedTask.children.length)}}function eq(t,n){if(1&t){const e=Tt();M(0,"div",46)(1,"button",47),Ve("click",function(){return Xe(e),ae(2).edit()}),_e(2,"em",48),M(3,"div",49),K(4,"Edit"),N()()()}}function tq(t,n){if(1&t&&(M(0,"div",12)(1,"div",13)(2,"div")(3,"div",14),_e(4,"em",15),M(5,"div",16),K(6,"Description:"),N()(),M(7,"div",17),K(8),N(),ie(9,jK,4,1,"div",18),ie(10,$K,4,1,"div",18),ie(11,WK,4,1,"div",18),ie(12,zK,5,1,"div",19),ie(13,YK,4,1,"div",18),ie(14,KK,4,1,"div",18),N(),ie(15,JK,3,2,"div",20),M(16,"div",21),ie(17,eq,5,0,"div",22),N()()()),2&t){const e=ae();V(2),dt("d-flex flex-wrap mt-2 ",e.selectedTask.assignedUsers&&0!=e.selectedTask.assignedUsers.length||e.selectedTask.children&&0!=e.selectedTask.children.length?"col-lg-7":"col-lg-12",""),V(6),it(" ",e.selectedTask.description," "),V(1),U("ngIf",null!=e.selectedTask.estimatedTime),V(1),U("ngIf",null!=e.selectedTask.computedTime),V(1),U("ngIf",null!=e.selectedTask.importance),V(1),U("ngIf",null!=e.selectedTask.tags),V(1),U("ngIf",null!=e.selectedTask.dueStartDate),V(1),U("ngIf",null!=e.selectedTask.dueEndDate),V(1),U("ngIf",e.selectedTask.assignedUsers&&0!=e.selectedTask.assignedUsers.length||e.selectedTask.children&&0!=e.selectedTask.children.length),V(2),U("ngIf",e.isEditable&&!e.isEditing&&null!=e.selectedTask)}}function nq(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function iq(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function rq(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function oq(t,n){if(1&t&&(M(0,"div",75),ie(1,nq,2,0,"div",76),ie(2,iq,2,0,"div",76),ie(3,rq,2,0,"div",76),N()),2&t){const e=ae(2);let i,a,d;V(1),U("ngIf",null==(i=e.formTask.get("title"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formTask.get("title"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formTask.get("title"))||null==d.errors?null:d.errors.maxlength)}}function sq(t,n){1&t&&(M(0,"div"),K(1,"Only 255 characters are allowed"),N())}function aq(t,n){if(1&t&&(M(0,"div",75),ie(1,sq,2,0,"div",76),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formTask.get("description"))||null==i.errors?null:i.errors.maxlength)}}function lq(t,n){1&t&&(M(0,"div"),K(1,"Cannot be negative time "),N())}function cq(t,n){if(1&t&&(M(0,"div",75),ie(1,lq,2,0,"div",76),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formTask.get("estimatedTime"))||null==i.errors?null:i.errors.min)}}function uq(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function dq(t,n){if(1&t&&(M(0,"div",75),ie(1,uq,2,0,"div",76),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formTask.get("importance"))||null==i.errors?null:i.errors.maxlength)}}function hq(t,n){1&t&&(M(0,"div"),K(1,"Only 255 characters are allowed"),N())}function pq(t,n){if(1&t&&(M(0,"div",75),ie(1,hq,2,0,"div",76),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formTask.get("tags"))||null==i.errors?null:i.errors.maxlength)}}function fq(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty"),N())}function gq(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters"),N())}function mq(t,n){1&t&&(M(0,"div"),K(1," Only 30 characters are allowed"),N())}function _q(t,n){if(1&t&&(M(0,"div",75),ie(1,fq,2,0,"div",76),ie(2,gq,2,0,"div",76),ie(3,mq,2,0,"div",76),N()),2&t){const e=ae(2);let i,a,d;V(1),U("ngIf",null==(i=e.formAddAssignedUser.get("username"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formAddAssignedUser.get("username"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formAddAssignedUser.get("username"))||null==d.errors?null:d.errors.maxlength)}}function vq(t,n){if(1&t&&(M(0,"option"),K(1),N()),2&t){const e=n.$implicit;V(1),it("",e.username," ")}}function yq(t,n){if(1&t){const e=Tt();M(0,"div",77),_e(1,"show-user",40),M(2,"div")(3,"a",78),Ve("click",function(){const d=Xe(e).index;return ae(2).removeAssignedUsername(d)}),_e(4,"em",79),N()()()}if(2&t){const e=n.$implicit;V(1),U("user",e),V(2),ts("ngbTooltip","Delete @",e.username,""),U("openDelay",300)}}function Cq(t,n){if(1&t&&(M(0,"option",80),K(1),N()),2&t){const e=n.$implicit;qn("value",e.id),V(1),Li(" #",e.number,": ",e.title,"")}}function bq(t,n){if(1&t){const e=Tt();M(0,"div",44)(1,"div",45),K(2),N(),M(3,"div")(4,"a",78),Ve("click",function(){const d=Xe(e).index;return ae(2).removeChildrenTask(d)}),_e(5,"em",79),N()()()}if(2&t){const e=n.$implicit;V(2),Li("#",e.number,": ",e.title,""),V(2),ts("ngbTooltip","Delete #",e.number,""),U("openDelay",300)}}function wq(t,n){if(1&t){const e=Tt();M(0,"div",12)(1,"form",50),Ve("ngSubmit",function(){return Xe(e),ae().uploadTask()}),M(2,"div",51)(3,"div",14)(4,"div",49),K(5,"Title:"),N(),_e(6,"input",52),ie(7,oq,4,3,"div",53),N(),M(8,"div",14),_e(9,"em",15),M(10,"div",25),K(11,"Description:"),N()(),M(12,"textarea",54),K(13,"                                    "),N(),ie(14,aq,2,1,"div",53),M(15,"div",23),_e(16,"em",24)(17,"input",55),ie(18,cq,2,1,"div",53),N(),M(19,"div",23),_e(20,"em",27),M(21,"div",25),K(22," Importance: "),N(),_e(23,"input",56),ie(24,dq,2,1,"div",53),M(25,"datalist",57)(26,"option"),K(27,"Very high"),N(),M(28,"option"),K(29,"High"),N(),M(30,"option"),K(31,"Medium"),N(),M(32,"option"),K(33,"Low"),N(),M(34,"option"),K(35,"Very low"),N()()(),M(36,"div",28),_e(37,"em",29),M(38,"div",25),K(39," Tags: "),N(),_e(40,"input",58),ie(41,pq,2,1,"div",53),N(),M(42,"div",23),_e(43,"em",32),M(44,"div",25),K(45," Due start date: "),N(),_e(46,"input",59),N(),M(47,"div",23),_e(48,"em",33),M(49,"div",25),K(50," Due end date: "),N(),_e(51,"input",60),N()(),M(52,"div",61)(53,"div",36)(54,"div",5),_e(55,"em",37),M(56,"div",25),K(57," Assigned: "),N(),M(58,"form",62),Ve("ngSubmit",function(){return Xe(e),ae().addAssignedUsername()}),M(59,"div",5)(60,"div",63),_e(61,"input",64),ie(62,_q,4,3,"div",53),M(63,"datalist",65),ie(64,vq,2,1,"option",66),N()(),M(65,"div")(66,"button",67),K(67," Add "),N()()()()(),ie(68,yq,5,3,"div",68),N(),M(69,"div",36)(70,"div",5),_e(71,"em",41),M(72,"div",42),K(73," Childrens: "),N(),M(74,"form",69),Ve("ngSubmit",function(){return Xe(e),ae().addChildrenTask()}),M(75,"div",5)(76,"div",63)(77,"select",70),ie(78,Cq,2,3,"option",71),N()(),M(79,"div")(80,"button",67),K(81," Add "),N()()()()()(),ie(82,bq,6,4,"div",43),N(),M(83,"div",72)(84,"button",73),Ve("click",function(){return Xe(e),ae().edit()}),K(85,"Close"),N(),M(86,"button",74),K(87),N()()()()}if(2&t){const e=ae();let i,a,d,h,m,x;V(1),U("formGroup",e.formTask),V(5),dt("form-control ",e.inputClass(e.formTask,"title"),""),V(1),U("ngIf",(null==(i=e.formTask.get("title"))?null:i.touched)&&(null==(i=e.formTask.get("title"))?null:i.invalid)),V(5),dt("form-control ",e.inputClass(e.formTask,"description"),""),V(2),U("ngIf",(null==(a=e.formTask.get("description"))?null:a.touched)&&(null==(a=e.formTask.get("description"))?null:a.invalid)),V(3),dt("form-control ",e.inputClass(e.formTask,"estimatedTime"),""),V(1),U("ngIf",(null==(d=e.formTask.get("estimatedTime"))?null:d.touched)&&(null==(d=e.formTask.get("estimatedTime"))?null:d.invalid)),V(5),dt("form-control ",e.inputClass(e.formTask,"importance"),""),V(1),U("ngIf",(null==(h=e.formTask.get("importance"))?null:h.touched)&&(null==(h=e.formTask.get("importance"))?null:h.invalid)),V(16),dt("form-control ",e.inputClass(e.formTask,"tags"),""),V(1),U("ngIf",(null==(m=e.formTask.get("tags"))?null:m.touched)&&(null==(m=e.formTask.get("tags"))?null:m.invalid)),V(5),dt("form-control ",e.inputClass(e.formTask,"dueStartDate"),""),V(5),dt("form-control ",e.inputClass(e.formTask,"dueEndDate"),""),V(7),U("formGroup",e.formAddAssignedUser),V(3),dt("form-control flex-grow-1 ",e.inputClass(e.formAddAssignedUser,"username"),""),V(1),U("ngIf",(null==(x=e.formAddAssignedUser.get("username"))?null:x.touched)&&(null==(x=e.formAddAssignedUser.get("username"))?null:x.invalid)),V(2),U("ngForOf",e.usersInProject),V(2),U("disabled",!e.formAddAssignedUser.valid),V(2),U("ngForOf",e.assignedUsers),V(6),U("formGroup",e.formAddChildrenTask),V(3),dt("form-select flex-grow-1 ",e.inputClass(e.formAddChildrenTask,"children"),""),V(1),U("ngForOf",e.myTasks),V(2),U("disabled",!e.formAddChildrenTask.valid),V(2),U("ngForOf",e.selectedChildrens),V(4),U("disabled",!e.formTask.valid),V(1),Gt(null==e.selectedTask?"Create":"Edit")}}let ZL=(()=>{class t{constructor(e,i,a){this.userService=e,this.formBuilder=i,this.kanbanService=a,this.isEditable=!1,this.usersInProject=[],this.selectedKanbanColumnId=0,this.myTasks=[],this.isEditing=!1,this.reload=new Ae,this.containError=!1,this.assignedUsers=[],this.selectedChildrens=[],this.formTask=i.group({title:["",[Jt.required]],description:["",[]],estimatedTime:["",[]],tags:["",[]],importance:["",[]],dueStartDate:["",[]],dueEndDate:["",[]]}),this.formAddAssignedUser=i.group({username:["",[]]}),this.formAddChildrenTask=i.group({children:["",[]]})}ngOnInit(){this.buildForm()}ngOnChanges(e){this.buildForm()}inputClass(e,i){var a,d,h,m;return(null===(a=null==e?void 0:e.get(i))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(i))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(i))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(i))||void 0===m?void 0:m.invalid)?"is-invalid":""}edit(){this.isEditing=!this.isEditing,this.isEditing&&this.buildForm()}buildForm(){this.clearForms(),null!=this.selectedTask&&(this.assignedUsers=this.selectedTask.assignedUsers,this.selectedChildrens=this.selectedTask.children,this.formTask=this.formBuilder.group({title:[this.selectedTask.title,[Jt.required]],description:[this.selectedTask.description,[]],estimatedTime:[this.selectedTask.estimatedTime,[]],importance:[this.selectedTask.importance,[]],tags:[this.selectedTask.tags,[]],dueStartDate:[this.selectedTask.dueStartDate,[]],dueEndDate:[this.selectedTask.dueEndDate,[]]}))}clearForms(){this.formTask.reset(),this.assignedUsers=[],this.formAddAssignedUser.reset(),this.selectedChildrens=[],this.formAddChildrenTask.reset(),this.containError=!1}uploadTask(){null==this.selectedTask?this.newTask():this.editTask()}newTask(){if(this.selectedChildrens&&this.selectedKanbanColumnId){let e=new OY(this.formTask.value.title,this.formTask.value.description,this.formTask.value.estimatedTime,this.selectedKanbanColumnId,this.formTask.value.tags,this.formTask.value.importance,this.formTask.value.dueStartDate,this.formTask.value.dueEndDate,this.getUsernamesInArray(this.assignedUsers),this.getChildrenIdsInArray(this.selectedChildrens));this.kanbanService.createKanbanTask(e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}editTask(){if(null!=this.selectedTask){let e=new aw(this.selectedTask.id,this.formTask.value.title,this.formTask.value.description,this.formTask.value.estimatedTime,this.formTask.value.tags,this.formTask.value.importance,this.formTask.value.dueStartDate,this.formTask.value.dueEndDate,this.getUsernamesInArray(this.assignedUsers),this.getChildrenIdsInArray(this.selectedChildrens));this.kanbanService.updateKanbanTask(e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}handleNext(e){this.selectedTask=e,this.clearForms(),this.reload.emit(!0),this.containError=!1,this.edit()}handleError(e){let i=e.error.text;null==i&&(i="Error produced"),this.messageError=i,this.containError=!0}timeToDoubleString(e){return null==e&&(e=0),(e%1?e.toFixed(3):e)+""}getFormatedDate(e,i){return new Tu("en-US").transform(e,i)}addAssignedUsername(){let e=this.formAddAssignedUser.value.username,i=this.usersInProject.find(a=>a.username==e);void 0!==i&&-1==this.assignedUsers.indexOf(i)&&(this.assignedUsers.push(i),this.formAddAssignedUser.reset())}removeAssignedUsername(e){this.assignedUsers.splice(e,1)}getUsernamesInArray(e){return e.map(i=>i.username)}addChildrenTask(){let e=this.formAddChildrenTask.value.children,i=this.myTasks.find(a=>a.id==e);void 0!==i&&-1==this.selectedChildrens.indexOf(i)&&(this.selectedChildrens.push(i),this.formAddChildrenTask.reset())}removeChildrenTask(e){this.selectedChildrens.splice(e,1)}getChildrenIdsInArray(e){return e.map(i=>i.id)}}return t.\u0275fac=function(e){return new(e||t)(Ce(pc),Ce(Ar),Ce(ks))},t.\u0275cmp=zt({type:t,selectors:[["task-modal-view"]],viewQuery:function(e,i){if(1&e&&ni(BK,5),2&e){let a;qt(a=Xt())&&(i.closeButtonTask=a.first)}},inputs:{isEditable:"isEditable",selectedTask:"selectedTask",usersInProject:"usersInProject",selectedKanbanColumnId:"selectedKanbanColumnId",myTasks:"myTasks",isEditing:"isEditing"},outputs:{reload:"reload"},features:[$n],decls:13,vars:4,consts:[["id","taskModal","tabindex","-1","aria-labelledby","taskModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],["class","container",4,"ngIf"],[1,"alert","alert-danger","mt-5"],[1,"container"],[1,"row"],[1,"w-100","d-flex","p-2"],[1,"bi","bi-card-text","my-auto",2,"font-size","20px !important"],[1,"text-break","my-auto","mx-2"],[1,"w-100","text-break","mb-3",2,"margin-left","2.4rem !important"],["class","w-50 d-flex p-2",4,"ngIf"],["class","w-50 d-flex flex-wrap p-2",4,"ngIf"],["class","col-lg-5 mt-2",4,"ngIf"],[1,"col-lg-12"],["class","w-100 d-flex p-2 mt-2",4,"ngIf"],[1,"w-50","d-flex","p-2"],[1,"bi","bi-hourglass-top","my-auto",2,"font-size","20px !important"],[1,"my-auto","mx-2"],[1,"bi","bi-hourglass-bottom","my-auto",2,"font-size","20px !important"],[1,"bi","bi-stoplights","my-auto",2,"font-size","20px !important"],[1,"w-50","d-flex","flex-wrap","p-2"],[1,"bi","bi-tags","my-auto",2,"font-size","20px !important"],["class","mx-1 my-auto chip",4,"ngFor","ngForOf"],[1,"mx-1","my-auto","chip"],[1,"bi","bi-caret-right","my-auto",2,"font-size","20px !important"],[1,"bi","bi-flag","my-auto",2,"font-size","20px !important"],[1,"col-lg-5","mt-2"],["class","w-100 p-2",4,"ngIf"],[1,"w-100","p-2"],[1,"bi","bi-people","my-auto",2,"font-size","20px !important"],["class","d-flex mx-1","placement","right",3,"ngbTooltip","openDelay",4,"ngFor","ngForOf"],["placement","right",1,"d-flex","mx-1",3,"ngbTooltip","openDelay"],[3,"user"],[1,"bi","bi-diagram-2","my-auto",2,"font-size","20px !important"],[1,"my-auto","mx-2","flex-grow-1"],["class","d-flex mx-2",4,"ngFor","ngForOf"],[1,"d-flex","mx-2"],[1,"flex-grow-1","my-auto"],[1,"w-100","d-flex","p-2","mt-2"],["type","button",1,"btn","btn-secondary","ms-auto","d-flex",3,"click"],[1,"bi","bi-sm","bi-pencil-fill","ms-auto","me-2"],[1,"my-auto"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-7","d-flex","flex-wrap"],["type","text","name","title","formControlName","title","maxlength","50","minlength","2","placeholder",""],["class","invalid-feedback",4,"ngIf"],["formControlName","description","maxlength","255","rows","3"],["type","number","step","0.5","formControlName","estimatedTime","min","0","value","0"],["type","text","name","importance","formControlName","importance","list","impDataLs","maxlength","50","placeholder",""],["id","impDataLs"],["type","text","formControlName","tags","maxlength","255","placeholder",""],["type","date","formControlName","dueStartDate","placeholder",""],["type","date","formControlName","dueEndDate","placeholder","","min",""],[1,"col-lg-5"],[3,"formGroup","ngSubmit"],[1,"flex-grow-1","form-group","me-3"],["type","text","name","username","list","usersInProject","formControlName","username","maxlength","30","minlength","2","placeholder","User"],["id","usersInProject"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","my-auto",3,"disabled"],["class","d-flex mx-2 my-3",4,"ngFor","ngForOf"],[1,"mb-3",3,"formGroup","ngSubmit"],["formControlName","children"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-12","form-group","d-flex","flex-row-reverse","mt-3"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mx-2","my-3"],["placement","right",1,"nav-link",3,"ngbTooltip","openDelay","click"],[1,"bi","bi-sm","bi-trash-fill"],[3,"value"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),K(7),N(),M(8,"div",7),_e(9,"em",8),N()(),ie(10,HK,2,1,"div",9),ie(11,tq,18,12,"div",10),ie(12,wq,88,44,"div",10),N()()()()()),2&e&&(V(7),Gt(null!=i.selectedTask?i.isEditing?"Update task":"#"+i.selectedTask.number+": "+i.selectedTask.title:"New task"),V(3),U("ngIf",i.containError),V(1),U("ngIf",null!=i.selectedTask&&!i.isEditing),V(1),U("ngIf",null==i.selectedTask||i.isEditable&&i.isEditing))},directives:[Zn,_i,_o,nv,ss,os,mo,fo,rs,Bo,Ho,ia,nh,rh,Zr,Jr,gl],styles:[""]}),t})();const xq=["closebuttonCreateColumn"],Sq=["closebuttonUpdateColumn"],Tq=["closebuttonCreateTask"],Eq=["closebuttonUpdateTask"],Dq=["openTaskModal"];function Aq(t,n){if(1&t&&(M(0,"option",39),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function kq(t,n){if(1&t){const e=Tt();M(0,"div",35),_e(1,"em",36),M(2,"select",37),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,Aq,2,4,"option",38),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function Rq(t,n){if(1&t&&(M(0,"option",39),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.sprintSelectedId||null),V(1),Li(" #",e.number,": ",e.title,"")}}function Oq(t,n){if(1&t){const e=Tt();M(0,"div",35),_e(1,"em",40),M(2,"select",37),Ve("change",function(a){return Xe(e),ae().loadSprintByIdEvent(a.target)}),ie(3,Rq,2,5,"option",38),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.mySprints)}}function Pq(t,n){1&t&&(M(0,"a",41),_e(1,"em",42),N()),2&t&&U("openDelay",300)}function Iq(t,n){if(1&t&&(M(0,"div",43),K(1),N()),2&t){const e=ae();V(1),Gt(e.messageError)}}function Mq(t,n){if(1&t){const e=Tt();M(0,"a",52),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().newTask(a)}),_e(1,"em",53),N()}2&t&&U("openDelay",300)}function Nq(t,n){if(1&t){const e=Tt();M(0,"a",54),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().fillColumnUpdateForm(a)}),_e(1,"em",55),N()}2&t&&U("openDelay",300)}function Fq(t,n){if(1&t){const e=Tt();M(0,"a",56),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().disableColumn(a)}),_e(1,"em",57),N()}2&t&&U("openDelay",300)}function Lq(t,n){if(1&t){const e=Tt();Tr(0),M(1,"a",70),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae(2).startEffort(a.id)}),_e(2,"em",71),N(),Hi()}2&t&&(V(1),U("openDelay",300))}function Vq(t,n){if(1&t){const e=Tt();M(0,"a",72),Ve("click",function(){return Xe(e),ae(3).endEffort()}),_e(1,"em",73),N()}2&t&&U("openDelay",300)}function Gq(t,n){if(1&t){const e=Tt();M(0,"a",74),Ve("click",function(){Xe(e);const a=ae().$implicit,d=ae().$implicit;return ae().showTask(a,d)}),_e(1,"em",75),N()}2&t&&U("openDelay",300)}function Bq(t,n){if(1&t){const e=Tt();M(0,"a",74),Ve("click",function(){Xe(e);const a=ae().$implicit,d=ae().$implicit;return ae().editTask(a,d)}),_e(1,"em",76),N()}2&t&&U("openDelay",300)}function Hq(t,n){if(1&t){const e=Tt();M(0,"a",77),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae(2).disableTask(a)}),_e(1,"em",78),N()}2&t&&U("openDelay",300)}function jq(t,n){if(1&t&&(Tr(0),M(1,"div",81),_e(2,"div",82),N(),Hi()),2&t){const e=ae(2).$implicit,i=ae(2);V(2),Pe("width: "+e.computedTime/e.estimatedTime*100+"%"),We(null==i.activeEffort||null!=i.activeEffort.description&&0!=i.activeEffort.description.length||null!=i.activeEffort&&null!=i.activeEffort.kanbanTask&&e.id!=i.activeEffort.kanbanTask.id?"":"progress-bar-striped progress-bar-animated")}}function $q(t,n){if(1&t&&(M(0,"div",83),_e(1,"div",82),N()),2&t){const e=ae(2).$implicit,i=ae(2);V(1),Pe("width: "+e.estimatedTime/e.computedTime*100+"%"),We(null==i.activeEffort||null!=i.activeEffort.description&&0!=i.activeEffort.description.length||null!=i.activeEffort&&null!=i.activeEffort.kanbanTask&&e.id!=i.activeEffort.kanbanTask.id?"":"progress-bar-striped progress-bar-animated")}}function Wq(t,n){if(1&t&&(M(0,"div",79),ie(1,jq,3,4,"ng-container",62),ie(2,$q,2,4,"ng-template",null,80,_r),N()),2&t){const e=qi(3),i=ae().$implicit;V(1),U("ngIf",i.computedTime<=i.estimatedTime)("ngIfElse",e)}}function Uq(t,n){if(1&t&&(M(0,"div",86)(1,"div",87),K(2),N()()),2&t){const e=n.$implicit;V(2),it(" #",e.trim()," ")}}function zq(t,n){if(1&t&&(M(0,"div",84),ie(1,Uq,3,1,"div",85),N()),2&t){const e=ae().$implicit;V(1),U("ngForOf",e.tags.split(","))}}function Yq(t,n){if(1&t&&(M(0,"div",89),_e(1,"show-user",90),N()),2&t){const e=n.$implicit;ts("ngbTooltip","@",e.username,""),U("openDelay",300),V(1),U("user",e)("showUsername",!1)}}function Kq(t,n){if(1&t&&(M(0,"div",15),ie(1,Yq,2,4,"div",88),N()),2&t){const e=ae().$implicit;V(1),U("ngForOf",e.assignedUsers)}}function qq(t,n){if(1&t&&(M(0,"div",58)(1,"div",59)(2,"div",15)(3,"div",60),K(4),N(),M(5,"div",61),ie(6,Lq,3,1,"ng-container",62),ie(7,Vq,2,1,"ng-template",null,63,_r),ie(9,Gq,2,1,"a",64),ie(10,Bq,2,1,"a",64),ie(11,Hq,2,1,"a",65),N()(),M(12,"div",66),K(13),N(),ie(14,Wq,4,2,"div",67),ie(15,zq,2,1,"div",68),ie(16,Kq,2,1,"div",69),N()()),2&t){const e=n.$implicit,i=qi(8),a=ae(2);U("cdkDragData",e),V(4),Li("#",e.number,": ",e.title,""),V(2),U("ngIf",null==a.activeEffort||null!=a.activeEffort.description&&0!=a.activeEffort.description.length||null!=a.activeEffort&&null!=a.activeEffort.kanbanTask&&e.id!=a.activeEffort.kanbanTask.id)("ngIfElse",i),V(3),U("ngIf",a.memberAccess),V(1),U("ngIf",a.memberAccess),V(1),U("ngIf",a.memberAccess),V(2),Gt(e.description),V(1),U("ngIf",0!=e.computedTime&&e.estimatedTime),V(1),U("ngIf",e.tags),V(1),U("ngIf",e.assignedUsers&&0!=e.assignedUsers.length)}}function Xq(t,n){if(1&t){const e=Tt();M(0,"div",44)(1,"div",15)(2,"div",45),K(3),N(),M(4,"div",46),ie(5,Mq,2,1,"a",47),ie(6,Nq,2,1,"a",48),ie(7,Fq,2,1,"a",49),N()(),M(8,"div",50),Ve("cdkDropListDropped",function(a){return Xe(e),ae().dropTask(a)}),ie(9,qq,17,12,"div",51),N()()}if(2&t){const e=n.$implicit,i=ae();V(3),Gt(e.title),V(2),U("ngIf",i.memberAccess),V(1),U("ngIf",i.adminAccess),V(1),U("ngIf",0==e.tasks.length&&i.adminAccess),V(1),ts("id","dropList_",e,""),U("cdkDropListData",e),V(1),U("ngForOf",e.tasks)}}function Qq(t,n){if(1&t&&(M(0,"div",91),K(1),N()),2&t){const e=ae();V(1),it(" ",e.newColumnMessageError," ")}}function Zq(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Jq(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function eX(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function tX(t,n){if(1&t&&(M(0,"div",92),ie(1,Zq,2,0,"div",93),ie(2,Jq,2,0,"div",93),ie(3,eX,2,0,"div",93),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formNewColumn.get("title"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formNewColumn.get("title"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formNewColumn.get("title"))||null==d.errors?null:d.errors.maxlength)}}function nX(t,n){if(1&t&&(M(0,"div",91),K(1),N()),2&t){const e=ae();V(1),it(" ",e.updateColumnMessageError," ")}}function iX(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function rX(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function oX(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function sX(t,n){if(1&t&&(M(0,"div",92),ie(1,iX,2,0,"div",93),ie(2,rX,2,0,"div",93),ie(3,oX,2,0,"div",93),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formUpdateColumn.get("title"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateColumn.get("title"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formUpdateColumn.get("title"))||null==d.errors?null:d.errors.maxlength)}}let aX=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x){super(e,i,a,d,h,m),this.userService=x,this.newColumnContainError=!1,this.updateColumnContainError=!1,this.myTasks=[],this.assignedUsers=[],this.selectedChildrens=[],this.taskIsEditing=!1,this.formNewColumn=h.group({title:["",[Jt.required]]}),this.formUpdateColumn=h.group({title:["",[Jt.required]],columnOrder:["",[Jt.required]]})}ngOnInit(){this.loadKanban=!0,this.loadTasks=!0,this.loadMyProjects()}startEffort(e){let i=new rA("",e);this.effortService.startEffort(i).subscribe(a=>{this.containError=!1,this.loadKanbanBySelectedSprint()},a=>{this.returnPrincipalError(a)})}endEffort(){this.effortService.endEffort(this.activeEffort.id).subscribe(e=>{this.containError=!1,this.loadKanbanBySelectedSprint()},e=>{this.returnPrincipalError(e)})}newColumn(){let e=this.sprintService.getStoredSprintId();if(null!=e&&0!=e){let i=new kY(this.formNewColumn.value.title,e);this.kanbanService.createKanbanColumn(i).subscribe(a=>{this.formNewColumn.reset(),this.closebuttonCreateColumn.nativeElement.click(),this.loadKanbanBySelectedSprint()},a=>{let d=a.error.text;null==d&&(d="Error produced"),this.newColumnMessageError=d,this.newColumnContainError=!0})}}fillColumnUpdateForm(e){this.kanbanColumnSelected=e,this.formUpdateColumn=this.formBuilder.group({title:[e.title,[Jt.required]],columnOrder:[e.columnOrder,[Jt.required]]})}editColumn(){let e=new RY(this.kanbanColumnSelected.id,this.formUpdateColumn.value.title,this.formUpdateColumn.value.columnOrder);this.kanbanService.updateKanbanColumn(e).subscribe(i=>{this.formUpdateColumn.reset(),this.closebuttonUpdateColumn.nativeElement.click(),this.loadKanbanBySelectedSprint()},i=>{let a=i.error.text;null==a&&(a="Error produced"),this.updateColumnMessageError=a,this.updateColumnContainError=!0})}disableColumn(e){confirm("Are you sure to disable "+e.title+"?")&&this.kanbanService.disableKanbanColumn(e.id).subscribe(i=>{this.containError=!1,this.loadKanbanBySelectedSprint()},i=>{this.returnPrincipalError(i)})}reloadTaskAttributes(){this.assignedUsers=[],this.selectedChildrens=[]}showTask(e,i){null!=e&&null!=i&&(this.selectedTask=e,this.selectedColumnId=i.id),this.taskIsEditing=!1,this.openTaskModal.nativeElement.click()}newTask(e){null!=e&&(this.selectedColumnId=e.id),this.selectedTask=void 0,this.taskIsEditing=!0,this.openTaskModal.nativeElement.click()}editTask(e,i){null!=e&&(this.selectedTask=e,this.selectedColumnId=i.id),this.taskIsEditing=!0,this.openTaskModal.nativeElement.click()}disableTask(e){confirm("Are you sure to disable #"+e.number+" "+e.title+"?")&&this.kanbanService.disableKanbanTask(e.id).subscribe(i=>{this.containError=!1,this.loadKanbanBySelectedSprint()},i=>{this.returnPrincipalError(i)})}updateTemporallyDragDrop(e){let i=this.kanban[e.previousContainer.data.id-1].tasks[e.previousIndex];this.kanban[e.previousContainer.data.id-1].tasks.splice(e.previousIndex,1),this.kanban[e.container.data.id-1].tasks.splice(e.currentIndex,0,i)}dropTask(e){this.updateTemporallyDragDrop(e);let i=new PY(e.item.data.id,e.container.data.id,e.currentIndex);this.kanbanService.moveKanbanTask(i).subscribe(a=>{this.containError=!1,this.loadKanbanBySelectedSprint()},a=>{this.returnPrincipalError(a)})}getProfileImageUrlFromUser(e){return this.userService.getUrlFromProfile(e.imageUid)}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po),Ce(pc))},t.\u0275cmp=zt({type:t,selectors:[["iMan-kanban"]],viewQuery:function(e,i){if(1&e&&(ni(xq,5),ni(Sq,5),ni(Tq,5),ni(Eq,5),ni(Dq,5)),2&e){let a;qt(a=Xt())&&(i.closebuttonCreateColumn=a.first),qt(a=Xt())&&(i.closebuttonUpdateColumn=a.first),qt(a=Xt())&&(i.closebuttonCreateTask=a.first),qt(a=Xt())&&(i.closebuttonUpdateTask=a.first),qt(a=Xt())&&(i.openTaskModal=a.first)}},features:[On],decls:71,vars:25,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add column","placement","left","data-bs-toggle","modal","data-bs-target","#createColumnModal",3,"openDelay",4,"ngIf"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],[1,"scrollable-x"],["cdkDropListGroup","",1,"d-flex"],["class","card column-card m-3 user-select-none",4,"ngFor","ngForOf"],["id","createColumnModal","tabindex","-1","aria-labelledby","createColumnModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x"],[3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["type","text","name","title","formControlName","title","maxlength","50","minlength","2","placeholder",""],["class","invalid-feedback",4,"ngIf"],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebuttonCreateColumn",""],["type","submit",1,"btn","btn-success",3,"disabled"],["id","updateColumnModal","tabindex","-1","aria-labelledby","updateColumnModalLabel","aria-hidden","true",1,"modal","fade"],["closebuttonUpdateColumn",""],["id","impDataLs"],["hidden","","type","button","data-bs-target","#taskModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openTaskModal",""],[3,"isEditable","selectedTask","selectedKanbanColumnId","usersInProject","isEditing","myTasks","reload"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Sprint","placement","bottom",1,"bi","bi-md","bi-arrow-repeat","me-2",3,"openDelay"],["ngbTooltip","Add column","placement","left","data-bs-toggle","modal","data-bs-target","#createColumnModal",3,"openDelay"],[1,"bi","bi-plus-lg"],[1,"alert","alert-danger","mt-3","mb-3"],[1,"card","column-card","m-3","user-select-none"],[1,"b-text","my-4","text-center","flex-grow-1"],[1,"m-auto"],["ngbTooltip","Add task","placement","left",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateColumnModal",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Delete","placement","left",3,"openDelay","click",4,"ngIf"],["cdkDropList","",1,"overflow-auto","scrollable-content",3,"id","cdkDropListData","cdkDropListDropped"],["class","card task-card mb-3 mx-3","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["ngbTooltip","Add task","placement","left",3,"openDelay","click"],[1,"bi","bi-md","bi-plus-lg","me-3"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateColumnModal",3,"openDelay","click"],[1,"bi","bi-md","bi-pencil-fill","me-3"],["ngbTooltip","Delete","placement","left",3,"openDelay","click"],[1,"bi","bi-md","bi-trash-fill","me-3"],["cdkDrag","",1,"card","task-card","mb-3","mx-3",3,"cdkDragData"],[1,"m-3"],[1,"m-text","flex-grow-1","text-break"],[1,"d-flex","my-auto"],[4,"ngIf","ngIfElse"],["startedTask",""],["ngbTooltip","Edit","placement","left",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Achieve","placement","left",3,"openDelay","click",4,"ngIf"],[1,"s-text"],["class","mx-1 mt-3",4,"ngIf"],["class","d-flex mt-3",4,"ngIf"],["class","d-flex",4,"ngIf"],["ngbTooltip","Start effort","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-sm","bi-play-circle-fill","me-2"],["ngbTooltip","Stop effort","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-sm","bi-square-fill","me-2"],["ngbTooltip","Edit","placement","left",3,"openDelay","click"],[1,"bi","bi-sm","bi-info-circle","me-2"],[1,"bi","bi-sm","bi-pencil-fill","me-2"],["ngbTooltip","Achieve","placement","left",3,"openDelay","click"],[1,"bi","bi-sm","bi-trash-fill","me-2"],[1,"mx-1","mt-3"],["overloadTime",""],[1,"progress","bg-success"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info"],[1,"progress","bg-danger"],[1,"d-flex","mt-3"],["class","mx-1",4,"ngFor","ngForOf"],[1,"mx-1"],[1,"chip"],["class","mx-1","placement","right",3,"ngbTooltip","openDelay",4,"ngFor","ngForOf"],["placement","right",1,"mx-1",3,"ngbTooltip","openDelay"],[3,"user","showUsername"],[1,"alert","alert-danger","mt-5"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,i){if(1&e&&(M(0,"div",0)(1,"div",1),ie(2,kq,4,2,"div",2),ie(3,Oq,4,2,"div",2),N(),M(4,"div",3),ie(5,Pq,2,1,"a",4),N()(),_e(6,"hr",5),ie(7,Iq,2,1,"div",6),M(8,"div",7)(9,"div",8),ie(10,Xq,10,7,"div",9),N(),M(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16),K(18,"New column"),N(),M(19,"div",17),_e(20,"em",18),N()(),M(21,"form",19),Ve("ngSubmit",function(){return i.newColumn()}),ie(22,Qq,2,1,"div",20),M(23,"div",21)(24,"p",22),K(25,"Title"),N(),_e(26,"input",23),ie(27,tX,4,3,"div",24),N(),M(28,"div",25)(29,"button",26,27),K(31,"Close"),N(),M(32,"button",28),K(33,"Create"),N()()()()()()()(),M(34,"div",29)(35,"div",11)(36,"div",12)(37,"div",13)(38,"div",14)(39,"div",15)(40,"div",16),K(41,"Update column"),N(),M(42,"div",17),_e(43,"em",18),N()(),M(44,"form",19),Ve("ngSubmit",function(){return i.editColumn()}),ie(45,nX,2,1,"div",20),M(46,"div",21)(47,"p",22),K(48,"Title"),N(),_e(49,"input",23),ie(50,sX,4,3,"div",24),N(),M(51,"div",25)(52,"button",26,30),K(54,"Close"),N(),M(55,"button",28),K(56,"Update"),N()()()()()()()(),M(57,"datalist",31)(58,"option"),K(59,"Very high"),N(),M(60,"option"),K(61,"High"),N(),M(62,"option"),K(63,"Medium"),N(),M(64,"option"),K(65,"Low"),N(),M(66,"option"),K(67,"Very low"),N()()(),_e(68,"button",32,33),M(70,"task-modal-view",34),Ve("reload",function(){return i.loadKanbanBySelectedSprint()}),N()),2&e){let a,d;V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length),V(1),U("ngIf",i.mySprints&&0!=i.mySprints.length),V(2),U("ngIf",i.adminAccess),V(2),U("ngIf",i.containError),V(3),U("ngForOf",i.kanban),V(11),U("formGroup",i.formNewColumn),V(1),U("ngIf",i.newColumnContainError),V(4),dt("form-control ",i.inputClass(i.formNewColumn,"title"),""),V(1),U("ngIf",(null==(a=i.formNewColumn.get("title"))?null:a.touched)&&(null==(a=i.formNewColumn.get("title"))?null:a.invalid)),V(5),U("disabled",!i.formNewColumn.valid),V(12),U("formGroup",i.formUpdateColumn),V(1),U("ngIf",i.updateColumnContainError),V(4),dt("form-control ",i.inputClass(i.formUpdateColumn,"title"),""),V(1),U("ngIf",(null==(d=i.formUpdateColumn.get("title"))?null:d.touched)&&(null==(d=i.formUpdateColumn.get("title"))?null:d.invalid)),V(5),U("disabled",!i.formUpdateColumn.valid),V(15),U("isEditable",i.memberAccess)("selectedTask",i.selectedTask)("selectedKanbanColumnId",i.selectedColumnId)("usersInProject",i.usersInProject)("isEditing",i.taskIsEditing)("myTasks",i.myTasks)}},directives:[Zn,_o,_i,Zr,Jr,DK,kK,IK,nv,ss,os,mo,fo,rs,Bo,Ho,ia,ZL],styles:[".column-card[_ngcontent-%COMP%]{background-color:var(--dark-pallete-3)!important;min-width:400px;width:400px;height:calc(100vh - var(--navbar-size) - 150px)}.task-card[_ngcontent-%COMP%]{background-color:var(--dark-pallete-2)!important;border-radius:5px}.overflow-x[_ngcontent-%COMP%]{overflow-x:auto}.scrollable-x[_ngcontent-%COMP%]{overflow-x:auto;width:calc(100vw - 50px - var(--sidebar-size))!important}"]}),t})();class lX{constructor(n,e){this.name=n,this.description=e}}class cX{constructor(n,e,i){this.id=n,this.name=e,this.description=i}}class uX{constructor(n,e,i){this.projectId=n,this.username=e,this.role=i}}class dX{constructor(n,e){this.id=n,this.role=e}}const hX=["closebuttonNew"],pX=["closebuttonUpdate"],fX=["closebuttonUsers"],gX=["closebuttonViewInvitations"];function mX(t,n){if(1&t&&(M(0,"div",42),K(1),N()),2&t){const e=ae();V(1),Gt(e.messageError)}}function _X(t,n){1&t&&(M(0,"div"),K(1," There are no pending invitations "),N())}function vX(t,n){if(1&t){const e=Tt();M(0,"div",43)(1,"div",44)(2,"div",45),K(3),N(),M(4,"div",46)(5,"a",47),Ve("click",function(){const d=Xe(e).$implicit;return ae().acceptRole(d.id)}),_e(6,"em",48),N(),M(7,"a",49),Ve("click",function(){const d=Xe(e).$implicit;return ae().declineRole(d.id)}),_e(8,"em",50),N()()()()}if(2&t){const e=n.$implicit,i=ae();V(3),Li(" ",e.projectName," - [",i.rolesDictionary[e.role],"] "),V(2),U("openDelay",300),V(2),U("openDelay",300)}}function yX(t,n){if(1&t&&(M(0,"div",51),K(1),N()),2&t){const e=ae();V(1),it(" ",e.newProjectMessageError," ")}}function CX(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function bX(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function wX(t,n){1&t&&(M(0,"div"),K(1,"Only 30 characters are allowed"),N())}function xX(t,n){if(1&t&&(M(0,"div",52),ie(1,CX,2,0,"div",19),ie(2,bX,2,0,"div",19),ie(3,wX,2,0,"div",19),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formNewProject.get("name"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formNewProject.get("name"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formNewProject.get("name"))||null==d.errors?null:d.errors.maxlength)}}function SX(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function TX(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function EX(t,n){1&t&&(M(0,"div"),K(1,"Only 255 characters are allowed"),N())}function DX(t,n){if(1&t&&(M(0,"div",52),ie(1,SX,2,0,"div",19),ie(2,TX,2,0,"div",19),ie(3,EX,2,0,"div",19),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formNewProject.get("description"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formNewProject.get("description"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formNewProject.get("description"))||null==d.errors?null:d.errors.maxlength)}}function AX(t,n){if(1&t){const e=Tt();M(0,"a",61),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().fillUpdateForm(a)}),_e(1,"em",62),N()}2&t&&U("openDelay",300)}function kX(t,n){if(1&t){const e=Tt();M(0,"a",63),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().enableDisableProject(a)}),_e(1,"em",64),N()}2&t&&U("openDelay",300)}function RX(t,n){if(1&t){const e=Tt();M(0,"div")(1,"div",53)(2,"div",54)(3,"div",55)(4,"div",56),K(5),N(),M(6,"div")(7,"a",57),Ve("click",function(){const d=Xe(e).index;return ae().selectedProject=d}),_e(8,"em",58),N(),ie(9,AX,2,1,"a",59),ie(10,kX,2,1,"a",60),N()(),M(11,"div"),K(12),N()()()()}if(2&t){const e=n.$implicit,i=n.index,a=ae();V(5),Gt(e.name),V(2),U("openDelay",300),V(2),U("ngIf",0==a.myRoles[i]),V(1),U("ngIf",0==a.myRoles[i]),V(2),Gt(e.description)}}function OX(t,n){if(1&t&&(M(0,"div",51),K(1),N()),2&t){const e=ae();V(1),it(" ",e.updateProjectMessageError,"")}}function PX(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty"),N())}function IX(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters"),N())}function MX(t,n){1&t&&(M(0,"div"),K(1," Only 30 characters are allowed"),N())}function NX(t,n){if(1&t&&(M(0,"div",52),ie(1,PX,2,0,"div",19),ie(2,IX,2,0,"div",19),ie(3,MX,2,0,"div",19),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formUpdateProject.get("name"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateProject.get("name"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formUpdateProject.get("name"))||null==d.errors?null:d.errors.maxlength)}}function FX(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty"),N())}function LX(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters"),N())}function VX(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed"),N())}function GX(t,n){if(1&t&&(M(0,"div",52),ie(1,FX,2,0,"div",19),ie(2,LX,2,0,"div",19),ie(3,VX,2,0,"div",19),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formUpdateProject.get("description"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateProject.get("description"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formUpdateProject.get("description"))||null==d.errors?null:d.errors.maxlength)}}function BX(t,n){if(1&t&&(M(0,"div",65),K(1),N()),2&t){const e=ae();V(1),it(" ",e.newProjectRoleMessageError," ")}}function HX(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty"),N())}function jX(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters"),N())}function $X(t,n){1&t&&(M(0,"div"),K(1," Only 30 characters are allowed"),N())}function WX(t,n){if(1&t&&(M(0,"div",52),ie(1,HX,2,0,"div",19),ie(2,jX,2,0,"div",19),ie(3,$X,2,0,"div",19),N()),2&t){const e=ae(2);let i,a,d;V(1),U("ngIf",null==(i=e.formNewProjectRole.get("username"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formNewProjectRole.get("username"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formNewProjectRole.get("username"))||null==d.errors?null:d.errors.maxlength)}}function UX(t,n){if(1&t&&(M(0,"option",73),K(1),N()),2&t){const e=n.$implicit;U("ngValue",e),V(1),it(" ",e,"")}}function zX(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty"),N())}function YX(t,n){if(1&t&&(M(0,"div",52),ie(1,zX,2,0,"div",19),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formNewProjectRole.get("role"))||null==i.errors?null:i.errors.required)}}function KX(t,n){if(1&t){const e=Tt();M(0,"div")(1,"form",22),Ve("ngSubmit",function(){return Xe(e),ae().newProject()}),M(2,"div",66)(3,"div",67),_e(4,"input",68),ie(5,WX,4,3,"div",27),N(),M(6,"div",69)(7,"select",70),ie(8,UX,2,2,"option",71),N(),ie(9,YX,2,1,"div",27),N(),M(10,"div")(11,"button",72),Ve("click",function(){return Xe(e),ae().newProjectRole()}),K(12," Add "),N()()()()()}if(2&t){const e=ae();let i,a;V(1),U("formGroup",e.formNewProjectRole),V(3),dt("form-control ",e.inputClass(e.formNewProjectRole,"username"),""),V(1),U("ngIf",(null==(i=e.formNewProjectRole.get("username"))?null:i.touched)&&(null==(i=e.formNewProjectRole.get("username"))?null:i.invalid)),V(2),dt("sm-select ",e.inputClass(e.formNewProjectRole,"role"),""),V(1),U("ngForOf",e.roles),V(1),U("ngIf",(null==(a=e.formNewProjectRole.get("role"))?null:a.touched)&&(null==(a=e.formNewProjectRole.get("role"))?null:a.invalid)),V(2),U("disabled",!e.formNewProjectRole.valid)}}function qX(t,n){if(1&t&&(Tr(0),_e(1,"img",80),Hi()),2&t){const e=ae(2).$implicit,i=ae();V(1),qn("src",i.getProfileImageUrlFromRole(e),Ks)}}function XX(t,n){1&t&&_e(0,"em",81)}function QX(t,n){if(1&t&&(M(0,"option",85),K(1),N()),2&t){const e=n.$implicit,i=ae(3).$implicit;U("selected",e==ae().getRole(i.role))("ngValue",e),V(1),it(" ",e,"")}}function ZX(t,n){if(1&t){const e=Tt();Tr(0),M(1,"div",82)(2,"select",83),Ve("change",function(a){Xe(e);const d=ae(2).$implicit;return ae().updateProjectRole(d,a.target)}),ie(3,QX,2,3,"option",84),N()(),Hi()}if(2&t){const e=ae(3);V(3),U("ngForOf",e.roles)}}function JX(t,n){if(1&t&&(M(0,"div",82),K(1),N()),2&t){const e=ae(2).$implicit,i=ae();V(1),it(" ",i.getRole(e.role)," ")}}const JL=function(){return[0,1]};function eQ(t,n){if(1&t&&(M(0,"div",75),ie(1,qX,2,1,"ng-container",76),ie(2,XX,1,0,"ng-template",null,77,_r),M(4,"div",78),K(5),N(),ie(6,ZX,4,1,"ng-container",76),ie(7,JX,2,1,"ng-template",null,79,_r),N()),2&t){const e=qi(3),i=qi(8),a=ae().$implicit,d=ae();V(1),U("ngIf",null!=d.getProfileImageUrlFromRole(a)&&""!=d.getProfileImageUrlFromRole(a))("ngIfElse",e),V(4),it(" @",a.user.username," "),V(1),U("ngIf",ri(5,JL).includes(d.myRoles[d.selectedProject])&&0!=a.role&&a.user.username!=d.myUsername)("ngIfElse",i)}}function tQ(t,n){if(1&t&&(M(0,"div"),ie(1,eQ,9,6,"div",74),N()),2&t){const e=n.$implicit;V(1),U("ngIf",e.accepted)}}let nQ=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x){super(e,i,a,d,h,m),this.userService=x,this.selectedProject=0,this.invitationsContainError=!1,this.newProjectContainError=!1,this.updateProjectContainError=!1,this.newProjectRoleContainError=!1,this.rolesDictionary=this.projectService.getAllRoles(),this.roles=Object.values(this.rolesDictionary),this.formNewProject=h.group({name:["",[Jt.required]],description:["",[Jt.required]]}),this.formUpdateProject=h.group({id:["",[Jt.required]],name:["",[Jt.required]],description:["",[Jt.required]]}),this.formNewProjectRole=h.group({username:["",[Jt.required]],role:["Member",[Jt.required]]})}ngOnInit(){this.myUsername=this.tokenService.getUsername(),this.loadMyProjects()}loadMyProjects(){this.projectService.myProjects().subscribe(e=>{this.containError=!1,this.myProjects=e,this.loadMyRoles(),this.loadNotAcceptedProjects()},e=>{this.returnPrincipalError(e)})}loadMyRoles(){this.myRoles=[];for(let e of this.myProjects)e:for(let i of e.projectRoles)if(i.user.username==this.tokenService.getUsername()){this.myRoles.push(i.role);break e}}loadNotAcceptedProjects(){this.projectService.getAllMineNotAcceptedProjectRoles().subscribe(e=>{this.containError=!1,this.notAcceptedProjects=e},e=>{this.returnPrincipalError(e)})}newProject(){let e=new lX(this.formNewProject.value.name,this.formNewProject.value.description);this.projectService.createProject(e).subscribe(i=>{this.newProjectContainError=!1,this.closebuttonNew.nativeElement.click(),this.formNewProject.reset(),this.loadMyProjects()},i=>{this.newProjectContainError=!0,this.newProjectMessageError=i.error.text})}fillUpdateForm(e){this.formUpdateProject=this.formBuilder.group({id:[e.id,[Jt.required]],name:[e.name,[Jt.required]],description:[e.description,[Jt.required]]})}updateProject(){let e=new cX(this.formUpdateProject.value.id,this.formUpdateProject.value.name,this.formUpdateProject.value.description);this.projectService.updateProject(e).subscribe(i=>{this.updateProjectContainError=!1,this.closebuttonUpdate.nativeElement.click(),this.formNewProject.reset(),this.loadMyProjects()},i=>{this.updateProjectContainError=!0,this.updateProjectMessageError=i.error.text})}enableDisableProject(e){confirm("Are you sure to disable project "+e.name+"?")&&this.projectService.enableDisableProject(e.id).subscribe(i=>{this.containError=!1,this.loadMyProjects()},i=>{this.returnPrincipalError(i)})}projectRoleError(e,i){let a=e.error.text;null==a&&(a=i),this.newProjectRoleContainError=!0,this.newProjectRoleMessageError=a}newProjectRole(){let e=Number(this.getKeyByValue(this.rolesDictionary,this.formNewProjectRole.value.role)),i=new uX(this.myProjects[this.selectedProject].id,this.formNewProjectRole.value.username,e);this.projectService.createProjectRole(i).subscribe(a=>{this.newProjectRoleContainError=!1,this.formNewProjectRole.reset(),this.formNewProjectRole.controls.role.setValue("Member"),this.loadMyProjects(),this.closebuttonUsers.nativeElement.click()},a=>{this.projectRoleError(a,"Error adding the user")})}updateProjectRole(e,i){let d=Number(this.getKeyByValue(this.rolesDictionary,i.value)),h=new dX(e.id,d);this.projectService.updateProjectRole(h).subscribe(m=>{this.newProjectRoleContainError=!1,this.closebuttonUsers.nativeElement.click(),this.loadMyProjects()},m=>{this.projectRoleError(m,"Error updating the user")})}roleInvitationError(){this.invitationsContainError=!1,this.loadMyProjects(),this.closebuttonViewInvitations.nativeElement.click()}roleError(e,i){let a=e.error.text;null==a&&(a=i),this.invitationsContainError=!0,this.invitationsMessageError=a}acceptRole(e){this.projectService.acceptProjectRole(e).subscribe(i=>{this.roleInvitationError()},i=>{this.roleError(i,"Error accepting invitation")})}declineRole(e){this.projectService.declineProjectRole(e).subscribe(i=>{this.roleInvitationError()},i=>{this.roleError(i,"Error declining invitation")})}getProfileImageUrlFromRole(e){return this.userService.getUrlFromProfile(e.user.imageUid)}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po),Ce(pc))},t.\u0275cmp=zt({type:t,selectors:[["iMan-project"]],viewQuery:function(e,i){if(1&e&&(ni(hX,5),ni(pX,5),ni(fX,5),ni(gX,5)),2&e){let a;qt(a=Xt())&&(i.closebuttonNew=a.first),qt(a=Xt())&&(i.closebuttonUpdate=a.first),qt(a=Xt())&&(i.closebuttonUsers=a.first),qt(a=Xt())&&(i.closebuttonViewInvitations=a.first)}},features:[On],decls:95,vars:35,consts:[[1,"mb-3","mr-3",2,"text-align","right"],["ngbTooltip","Invitations","placement","left","data-bs-toggle","modal","data-bs-target","#viewNotAcceptedProjects",3,"openDelay"],[1,"bi","bi-bell-fill","me-3","position-relative"],[1,"position-absolute","top-0","start-0","translate-middle","badge","rounded-pill","notification-badge","bg-danger"],["ngbTooltip","Create project","placement","left","data-bs-toggle","modal","data-bs-target","#createProjectModal",3,"openDelay"],[1,"bi","bi-plus-lg"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],["id","viewNotAcceptedProjects","tabindex","-1","aria-labelledby","viewNotAcceptedProjectsLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],["closebuttonViewInvitations",""],[1,"bi","bi-x"],[1,"mt-3"],[4,"ngIf"],["class","card card-hover",4,"ngFor","ngForOf"],["id","createProjectModal","tabindex","-1","aria-labelledby","createProjectModalLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["type","text","name","name","formControlName","name","maxlength","30","minlength","2","placeholder",""],["class","invalid-feedback",4,"ngIf"],[1,"form-group","mb-4"],["type","text","name","description","formControlName","description","maxlength","255","minlength","2","placeholder",""],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebuttonNew",""],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"overflow-auto","scrollable-content"],[4,"ngFor","ngForOf"],["id","updateProjectModal","tabindex","-1","aria-labelledby","updateProjectModalLabel","aria-hidden","true",1,"modal","fade"],[1,"flex-grow-1","card-title","mt-2","text-break"],["closebuttonUpdate",""],["id","userProjectModal","tabindex","-1","aria-labelledby","userProjectModalLabel","aria-hidden","true",1,"modal","fade"],["closebuttonUsers",""],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger","mt-3","mb-3"],[1,"card","card-hover"],[1,"d-flex","mt-3","mb-3"],[1,"flex-grow-1","ms-3","center"],[1,"me-3"],["ngbTooltip","Accept","placement","left",3,"openDelay","click"],[1,"bi","bi-check","green-btn"],["ngbTooltip","Decline","placement","left",3,"openDelay","click"],[1,"bi","bi-x","red-btn"],[1,"alert","alert-danger","mt-5"],[1,"invalid-feedback"],[1,"card","card-list"],[1,"inside-card"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1","center","b-text","align-middle"],["ngbTooltip","Users","placement","left","data-bs-toggle","modal","data-bs-target","#userProjectModal",3,"openDelay","click"],[1,"bi","bi-people-fill","me-3"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateProjectModal",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Disable","placement","left",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateProjectModal",3,"openDelay","click"],[1,"bi","bi-pencil-fill","me-3"],["ngbTooltip","Disable","placement","left",3,"openDelay","click"],[1,"bi","bi-trash-fill"],[1,"alert","alert-danger"],[1,"d-flex","mt-3","mb-4"],[1,"flex-grow-1","form-group","me-3"],["type","text","name","username","formControlName","username","maxlength","30","minlength","2","placeholder","User"],[1,"form-group","me-3",2,"margin","auto"],["formControlName","role"],["class","dark-text",3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","btn-success","my-auto",3,"disabled","click"],[1,"dark-text",3,"ngValue"],["class","card m-3 flex-row",4,"ngIf"],[1,"card","m-3","flex-row"],[4,"ngIf","ngIfElse"],["showIconProfile",""],[1,"flex-grow-1","center","m-text"],["cantEditUser",""],["alt","Profile image",1,"profile-image","me-3",3,"src"],[1,"bi","bi-person-circle","me-3",2,"font-size","35px !important"],[1,"m-text",2,"margin","auto"],[1,"sm-select",3,"change"],["class","dark-text",3,"selected","ngValue",4,"ngFor","ngForOf"],[1,"dark-text",3,"selected","ngValue"]],template:function(e,i){if(1&e&&(M(0,"div",0)(1,"a",1)(2,"em",2)(3,"span",3),K(4),N()()(),M(5,"a",4),_e(6,"em",5),N()(),_e(7,"hr",6),ie(8,mX,2,1,"div",7),M(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14),K(16,"Invitations"),N(),M(17,"div",15,16),_e(19,"em",17),N()(),M(20,"div",18),ie(21,_X,2,0,"div",19),ie(22,vX,9,4,"div",20),N()()()()()(),M(23,"div",21)(24,"div",9)(25,"div",10)(26,"div",11)(27,"div",12)(28,"div",13)(29,"div",14),K(30,"New project"),N(),M(31,"div",15),_e(32,"em",17),N()(),M(33,"form",22),Ve("ngSubmit",function(){return i.newProject()}),ie(34,yX,2,1,"div",23),M(35,"div",24)(36,"p",25),K(37,"Name"),N(),_e(38,"input",26),ie(39,xX,4,3,"div",27),N(),M(40,"div",28)(41,"p",25),K(42,"Description"),N(),_e(43,"input",29),ie(44,DX,4,3,"div",27),N(),M(45,"div",30)(46,"button",31,32),K(48,"Close"),N(),M(49,"button",33),K(50,"Create"),N()()()()()()()(),M(51,"div",34),ie(52,RX,13,5,"div",35),N(),M(53,"div",36)(54,"div",9)(55,"div",10)(56,"div",11)(57,"div",12)(58,"div",13)(59,"div",37),K(60),N(),M(61,"div",15),_e(62,"em",17),N()(),M(63,"form",22),Ve("ngSubmit",function(){return i.updateProject()}),ie(64,OX,2,1,"div",23),M(65,"div",24)(66,"p",25),K(67,"Name"),N(),_e(68,"input",26),ie(69,NX,4,3,"div",27),N(),M(70,"div",28)(71,"p",25),K(72,"Description"),N(),_e(73,"input",29),ie(74,GX,4,3,"div",27),N(),M(75,"div",30)(76,"button",31,38),K(78,"Close"),N(),M(79,"button",33),K(80,"Update"),N()()()()()()()(),M(81,"div",39)(82,"div",9)(83,"div",10)(84,"div",11)(85,"div",12)(86,"div",13)(87,"div",37),K(88),N(),M(89,"div",15,40),_e(91,"em",17),N()(),ie(92,BX,2,1,"div",41),ie(93,KX,13,11,"div",19),ie(94,tQ,2,1,"div",35),N()()()()()),2&e){let a,d,h,m;V(1),U("openDelay",300),V(3),it(" ",null==i.notAcceptedProjects?0:i.notAcceptedProjects.length," "),V(1),U("openDelay",300),V(3),U("ngIf",i.containError),V(13),U("ngIf",0==(null==i.notAcceptedProjects?null:i.notAcceptedProjects.length)),V(1),U("ngForOf",i.notAcceptedProjects),V(11),U("formGroup",i.formNewProject),V(1),U("ngIf",i.newProjectContainError),V(4),dt("form-control ",i.inputClass(i.formNewProject,"name"),""),V(1),U("ngIf",(null==(a=i.formNewProject.get("name"))?null:a.touched)&&(null==(a=i.formNewProject.get("name"))?null:a.invalid)),V(4),dt("form-control ",i.inputClass(i.formNewProject,"description"),""),V(1),U("ngIf",(null==(d=i.formNewProject.get("description"))?null:d.touched)&&(null==(d=i.formNewProject.get("description"))?null:d.invalid)),V(5),U("disabled",!i.formNewProject.valid),V(3),U("ngForOf",i.myProjects),V(8),it("Edit: ",i.myProjects?null==i.myProjects[i.selectedProject]?null:i.myProjects[i.selectedProject].name:"",""),V(3),U("formGroup",i.formUpdateProject),V(1),U("ngIf",i.updateProjectContainError),V(4),dt("form-control ",i.inputClass(i.formUpdateProject,"name"),""),V(1),U("ngIf",(null==(h=i.formUpdateProject.get("name"))?null:h.touched)&&(null==(h=i.formUpdateProject.get("name"))?null:h.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateProject,"description"),""),V(1),U("ngIf",(null==(m=i.formUpdateProject.get("description"))?null:m.touched)&&(null==(m=i.formUpdateProject.get("description"))?null:m.invalid)),V(5),U("disabled",!i.formUpdateProject.valid),V(9),it("Users: ",i.myProjects?null==i.myProjects[i.selectedProject]?null:i.myProjects[i.selectedProject].name:"",""),V(4),U("ngIf",i.newProjectRoleContainError),V(1),U("ngIf",ri(34,JL).includes(i.myRoles[i.selectedProject])),V(1),U("ngForOf",i.myProjects[i.selectedProject].projectRoles)}},directives:[_o,Zn,_i,ss,os,mo,fo,rs,Bo,Ho,ia,gl,Zr,Jr],styles:[".notification-badge[_ngcontent-%COMP%]{font-size:12px!important}"]}),t})();class iQ{constructor(n,e,i,a,d){this.title=n,this.description=e,this.startDate=i,this.estimatedDate=a,this.projectId=d}}class rQ{constructor(n,e,i,a,d){this.id=n,this.title=e,this.description=i,this.startDate=a,this.estimatedDate=d}}let oQ=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/reports/"}getEffortReportBySprintId(e){return this.httpClient.get(this.hostUrl+"effort/"+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class gA{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class e2 extends gA{constructor(n,e,i,a){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=a}}class sQ extends gA{constructor(n,e,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class aQ extends gA{constructor(n){super(),this.element=n instanceof Bn?n.nativeElement:n}}class cQ extends class lQ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof e2?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof sQ?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof aQ?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(n,e,i,a,d){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=a,this.attachDomPortal=h=>{const m=h.element,x=this._document.createComment("dom-portal");m.parentNode.insertBefore(x,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{x.parentNode&&x.parentNode.replaceChild(m,x)})},this._document=d}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let a;return n.viewContainerRef?(a=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=i.create(n.injector||this._defaultInjector||Ri.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=n,a}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context);return i.rootNodes.forEach(a=>this.outletElement.appendChild(a)),i.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(i);-1!==a&&e.remove(a)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}function dQ(){}function mA(t){return null==t?dQ:function(){return this.querySelector(t)}}function t2(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function pQ(){return[]}function n2(t){return null==t?pQ:function(){return this.querySelectorAll(t)}}function r2(t){return function(){return this.matches(t)}}function o2(t){return function(n){return n.matches(t)}}var mQ=Array.prototype.find;function vQ(){return this.firstElementChild}var CQ=Array.prototype.filter;function bQ(){return this.children}function s2(t){return new Array(t.length)}function mw(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function EQ(t){return function(){return t}}function DQ(t,n,e,i,a,d){for(var m,h=0,x=n.length,R=d.length;h<R;++h)(m=n[h])?(m.__data__=d[h],i[h]=m):e[h]=new mw(t,d[h]);for(;h<x;++h)(m=n[h])&&(a[h]=m)}function AQ(t,n,e,i,a,d,h){var m,x,re,R=new Map,L=n.length,W=d.length,X=new Array(L);for(m=0;m<L;++m)(x=n[m])&&(X[m]=re=h.call(x,x.__data__,m,n)+"",R.has(re)?a[m]=x:R.set(re,x));for(m=0;m<W;++m)re=h.call(t,d[m],m,d)+"",(x=R.get(re))?(i[m]=x,x.__data__=d[m],R.delete(re)):e[m]=new mw(t,d[m]);for(m=0;m<L;++m)(x=n[m])&&R.get(X[m])===x&&(a[m]=x)}function kQ(t){return t.__data__}function FQ(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}mw.prototype={constructor:mw,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var _A="http://www.w3.org/1999/xhtml";const a2={svg:"http://www.w3.org/2000/svg",xhtml:_A,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _w(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),a2.hasOwnProperty(n)?{space:a2[n],local:t}:t}function $Q(t){return function(){this.removeAttribute(t)}}function WQ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function UQ(t,n){return function(){this.setAttribute(t,n)}}function zQ(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function YQ(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function KQ(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function l2(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function XQ(t){return function(){this.style.removeProperty(t)}}function QQ(t,n,e){return function(){this.style.setProperty(t,n,e)}}function ZQ(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Rf(t,n){return t.style.getPropertyValue(n)||l2(t).getComputedStyle(t,null).getPropertyValue(n)}function eZ(t){return function(){delete this[t]}}function tZ(t,n){return function(){this[t]=n}}function nZ(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function c2(t){return t.trim().split(/^|\s+/)}function vA(t){return t.classList||new u2(t)}function u2(t){this._node=t,this._names=c2(t.getAttribute("class")||"")}function d2(t,n){for(var e=vA(t),i=-1,a=n.length;++i<a;)e.add(n[i])}function h2(t,n){for(var e=vA(t),i=-1,a=n.length;++i<a;)e.remove(n[i])}function rZ(t){return function(){d2(this,t)}}function oZ(t){return function(){h2(this,t)}}function sZ(t,n){return function(){(n.apply(this,arguments)?d2:h2)(this,t)}}function lZ(){this.textContent=""}function cZ(t){return function(){this.textContent=t}}function uZ(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function hZ(){this.innerHTML=""}function pZ(t){return function(){this.innerHTML=t}}function fZ(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function mZ(){this.nextSibling&&this.parentNode.appendChild(this)}function vZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function CZ(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===_A&&n.documentElement.namespaceURI===_A?n.createElement(t):n.createElementNS(e,t)}}function bZ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function p2(t){var n=_w(t);return(n.local?bZ:CZ)(n)}function xZ(){return null}function TZ(){var t=this.parentNode;t&&t.removeChild(this)}function DZ(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function AZ(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function PZ(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function IZ(t){return function(){var n=this.__on;if(n){for(var d,e=0,i=-1,a=n.length;e<a;++e)d=n[e],t.type&&d.type!==t.type||d.name!==t.name?n[++i]=d:this.removeEventListener(d.type,d.listener,d.options);++i?n.length=i:delete this.__on}}}function MZ(t,n,e){return function(){var a,i=this.__on,d=function OZ(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var h=0,m=i.length;h<m;++h)if((a=i[h]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=d,a.options=e),void(a.value=n);this.addEventListener(t.type,d,e),a={type:t.type,name:t.name,value:n,listener:d,options:e},i?i.push(a):this.__on=[a]}}function f2(t,n,e){var i=l2(t),a=i.CustomEvent;"function"==typeof a?a=new a(n,e):(a=i.document.createEvent("Event"),e?(a.initEvent(n,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(n,!1,!1)),t.dispatchEvent(a)}function FZ(t,n){return function(){return f2(this,t,n)}}function LZ(t,n){return function(){return f2(this,t,n.apply(this,arguments))}}u2.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var g2=[null];function cs(t,n){this._groups=t,this._parents=n}function m2(){return new cs([[document.documentElement]],g2)}cs.prototype=m2.prototype={constructor:cs,select:function hQ(t){"function"!=typeof t&&(t=mA(t));for(var n=this._groups,e=n.length,i=new Array(e),a=0;a<e;++a)for(var x,R,d=n[a],h=d.length,m=i[a]=new Array(h),L=0;L<h;++L)(x=d[L])&&(R=t.call(x,x.__data__,L,d))&&("__data__"in x&&(R.__data__=x.__data__),m[L]=R);return new cs(i,this._parents)},selectAll:function gQ(t){t="function"==typeof t?function fQ(t){return function(){var n=t.apply(this,arguments);return null==n?[]:t2(n)}}(t):n2(t);for(var n=this._groups,e=n.length,i=[],a=[],d=0;d<e;++d)for(var x,h=n[d],m=h.length,R=0;R<m;++R)(x=h[R])&&(i.push(t.call(x,x.__data__,R,h)),a.push(x));return new cs(i,a)},selectChild:function yQ(t){return this.select(null==t?vQ:function _Q(t){return function(){return mQ.call(this.children,t)}}("function"==typeof t?t:o2(t)))},selectChildren:function xQ(t){return this.selectAll(null==t?bQ:function wQ(t){return function(){return CQ.call(this.children,t)}}("function"==typeof t?t:o2(t)))},filter:function SQ(t){"function"!=typeof t&&(t=r2(t));for(var n=this._groups,e=n.length,i=new Array(e),a=0;a<e;++a)for(var x,d=n[a],h=d.length,m=i[a]=[],R=0;R<h;++R)(x=d[R])&&t.call(x,x.__data__,R,d)&&m.push(x);return new cs(i,this._parents)},data:function RQ(t,n){if(!arguments.length)return Array.from(this,kQ);var e=n?AQ:DQ,i=this._parents,a=this._groups;"function"!=typeof t&&(t=EQ(t));for(var d=a.length,h=new Array(d),m=new Array(d),x=new Array(d),R=0;R<d;++R){var L=i[R],W=a[R],X=W.length,re=t2(t.call(L,L&&L.__data__,R,i)),ge=re.length,be=m[R]=new Array(ge),ve=h[R]=new Array(ge),De=x[R]=new Array(X);e(L,W,be,ve,De,re,n);for(var He,Ye,Ee=0,Me=0;Ee<ge;++Ee)if(He=be[Ee]){for(Ee>=Me&&(Me=Ee+1);!(Ye=ve[Me])&&++Me<ge;);He._next=Ye||null}}return(h=new cs(h,i))._enter=m,h._exit=x,h},enter:function TQ(){return new cs(this._enter||this._groups.map(s2),this._parents)},exit:function OQ(){return new cs(this._exit||this._groups.map(s2),this._parents)},join:function PQ(t,n,e){var i=this.enter(),a=this,d=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(a=n(a)),null==e?d.remove():e(d),i&&a?i.merge(a).order():a},merge:function IQ(t){if(!(t instanceof cs))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,i=n.length,d=Math.min(i,e.length),h=new Array(i),m=0;m<d;++m)for(var X,x=n[m],R=e[m],L=x.length,W=h[m]=new Array(L),re=0;re<L;++re)(X=x[re]||R[re])&&(W[re]=X);for(;m<i;++m)h[m]=n[m];return new cs(h,this._parents)},selection:function BZ(){return this},order:function MQ(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var h,i=t[n],a=i.length-1,d=i[a];--a>=0;)(h=i[a])&&(d&&4^h.compareDocumentPosition(d)&&d.parentNode.insertBefore(h,d),d=h);return this},sort:function NQ(t){function n(W,X){return W&&X?t(W.__data__,X.__data__):!W-!X}t||(t=FQ);for(var e=this._groups,i=e.length,a=new Array(i),d=0;d<i;++d){for(var R,h=e[d],m=h.length,x=a[d]=new Array(m),L=0;L<m;++L)(R=h[L])&&(x[L]=R);x.sort(n)}return new cs(a,this._parents).order()},call:function LQ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function VQ(){return Array.from(this)},node:function GQ(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],a=0,d=i.length;a<d;++a){var h=i[a];if(h)return h}return null},size:function BQ(){let t=0;for(const n of this)++t;return t},empty:function HQ(){return!this.node()},each:function jQ(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var m,a=n[e],d=0,h=a.length;d<h;++d)(m=a[d])&&t.call(m,m.__data__,d,a);return this},attr:function qQ(t,n){var e=_w(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?WQ:$Q:"function"==typeof n?e.local?KQ:YQ:e.local?zQ:UQ)(e,n))},style:function JQ(t,n,e){return arguments.length>1?this.each((null==n?XQ:"function"==typeof n?ZQ:QQ)(t,n,null==e?"":e)):Rf(this.node(),t)},property:function iZ(t,n){return arguments.length>1?this.each((null==n?eZ:"function"==typeof n?nZ:tZ)(t,n)):this.node()[t]},classed:function aZ(t,n){var e=c2(t+"");if(arguments.length<2){for(var i=vA(this.node()),a=-1,d=e.length;++a<d;)if(!i.contains(e[a]))return!1;return!0}return this.each(("function"==typeof n?sZ:n?rZ:oZ)(e,n))},text:function dZ(t){return arguments.length?this.each(null==t?lZ:("function"==typeof t?uZ:cZ)(t)):this.node().textContent},html:function gZ(t){return arguments.length?this.each(null==t?hZ:("function"==typeof t?fZ:pZ)(t)):this.node().innerHTML},raise:function _Z(){return this.each(mZ)},lower:function yZ(){return this.each(vZ)},append:function wZ(t){var n="function"==typeof t?t:p2(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function SZ(t,n){var e="function"==typeof t?t:p2(t),i=null==n?xZ:"function"==typeof n?n:mA(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function EZ(){return this.each(TZ)},clone:function kZ(t){return this.select(t?AZ:DZ)},datum:function RZ(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function NZ(t,n,e){var a,h,i=PZ(t+""),d=i.length;if(!(arguments.length<2)){for(m=n?MZ:IZ,a=0;a<d;++a)this.each(m(i[a],n,e));return this}var m=this.node().__on;if(m)for(var L,x=0,R=m.length;x<R;++x)for(a=0,L=m[x];a<d;++a)if((h=i[a]).type===L.type&&h.name===L.name)return L.value},dispatch:function VZ(t,n){return this.each(("function"==typeof n?LZ:FZ)(t,n))},[Symbol.iterator]:function*GZ(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var h,i=t[n],a=0,d=i.length;a<d;++a)(h=i[a])&&(yield h)}};const iv=m2;function Rs(t){return"string"==typeof t?new cs([[document.querySelector(t)]],[document.documentElement]):new cs([[t]],g2)}var HZ={value:()=>{}};function _2(){for(var i,t=0,n=arguments.length,e={};t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new vw(e)}function vw(t){this._=t}function jZ(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",a=e.indexOf(".");if(a>=0&&(i=e.slice(a+1),e=e.slice(0,a)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}function $Z(t,n){for(var a,e=0,i=t.length;e<i;++e)if((a=t[e]).name===n)return a.value}function v2(t,n,e){for(var i=0,a=t.length;i<a;++i)if(t[i].name===n){t[i]=HZ,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}vw.prototype=_2.prototype={constructor:vw,on:function(t,n){var a,e=this._,i=jZ(t+"",e),d=-1,h=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++d<h;)if(a=(t=i[d]).type)e[a]=v2(e[a],t.name,n);else if(null==n)for(a in e)e[a]=v2(e[a],t.name,null);return this}for(;++d<h;)if((a=(t=i[d]).type)&&(a=$Z(e[a],t.name)))return a},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new vw(t)},call:function(t,n){if((a=arguments.length-2)>0)for(var a,d,e=new Array(a),i=0;i<a;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,a=(d=this._[t]).length;i<a;++i)d[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],a=0,d=i.length;a<d;++a)i[a].value.apply(n,e)}};const y2=_2;function CA(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function C2(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function rv(){}var yw=1/.7,Of="\\s*([+-]?\\d+)\\s*",sv="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",yl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zZ=/^#([0-9a-f]{3,8})$/,YZ=new RegExp("^rgb\\("+[Of,Of,Of]+"\\)$"),KZ=new RegExp("^rgb\\("+[yl,yl,yl]+"\\)$"),qZ=new RegExp("^rgba\\("+[Of,Of,Of,sv]+"\\)$"),XZ=new RegExp("^rgba\\("+[yl,yl,yl,sv]+"\\)$"),QZ=new RegExp("^hsl\\("+[sv,yl,yl]+"\\)$"),ZZ=new RegExp("^hsla\\("+[sv,yl,yl,sv]+"\\)$"),b2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function w2(){return this.rgb().formatHex()}function x2(){return this.rgb().formatRgb()}function ph(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=zZ.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?S2(n):3===e?new Os(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Cw(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Cw(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=YZ.exec(t))?new Os(n[1],n[2],n[3],1):(n=KZ.exec(t))?new Os(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=qZ.exec(t))?Cw(n[1],n[2],n[3],n[4]):(n=XZ.exec(t))?Cw(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=QZ.exec(t))?D2(n[1],n[2]/100,n[3]/100,1):(n=ZZ.exec(t))?D2(n[1],n[2]/100,n[3]/100,n[4]):b2.hasOwnProperty(t)?S2(b2[t]):"transparent"===t?new Os(NaN,NaN,NaN,0):null}function S2(t){return new Os(t>>16&255,t>>8&255,255&t,1)}function Cw(t,n,e,i){return i<=0&&(t=n=e=NaN),new Os(t,n,e,i)}function eJ(t){return t instanceof rv||(t=ph(t)),t?new Os((t=t.rgb()).r,t.g,t.b,t.opacity):new Os}function bw(t,n,e,i){return 1===arguments.length?eJ(t):new Os(t,n,e,null==i?1:i)}function Os(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function T2(){return"#"+bA(this.r)+bA(this.g)+bA(this.b)}function E2(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function bA(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function D2(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Cl(t,n,e,i)}function A2(t){if(t instanceof Cl)return new Cl(t.h,t.s,t.l,t.opacity);if(t instanceof rv||(t=ph(t)),!t)return new Cl;if(t instanceof Cl)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,a=Math.min(n,e,i),d=Math.max(n,e,i),h=NaN,m=d-a,x=(d+a)/2;return m?(h=n===d?(e-i)/m+6*(e<i):e===d?(i-n)/m+2:(n-e)/m+4,m/=x<.5?d+a:2-d-a,h*=60):m=x>0&&x<1?0:h,new Cl(h,m,x,t.opacity)}function Cl(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function wA(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function k2(t,n,e,i,a){var d=t*t,h=d*t;return((1-3*t+3*d-h)*n+(4-6*d+3*h)*e+(1+3*t+3*d-3*h)*i+h*a)/6}CA(rv,ph,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:w2,formatHex:w2,formatHsl:function JZ(){return A2(this).formatHsl()},formatRgb:x2,toString:x2}),CA(Os,bw,C2(rv,{brighter:function(t){return t=null==t?yw:Math.pow(yw,t),new Os(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Os(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T2,formatHex:T2,formatRgb:E2,toString:E2})),CA(Cl,function tJ(t,n,e,i){return 1===arguments.length?A2(t):new Cl(t,n,e,null==i?1:i)},C2(rv,{brighter:function(t){return t=null==t?yw:Math.pow(yw,t),new Cl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Cl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,a=2*e-i;return new Os(wA(t>=240?t-240:t+120,a,i),wA(t,a,i),wA(t<120?t+240:t-120,a,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const xA=t=>()=>t;function O2(t,n){var e=n-t;return e?function R2(t,n){return function(e){return t+e*n}}(t,e):xA(isNaN(t)?n:t)}const ww=function t(n){var e=function oJ(t){return 1==(t=+t)?O2:function(n,e){return e-n?function rJ(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):xA(isNaN(n)?e:n)}}(n);function i(a,d){var h=e((a=bw(a)).r,(d=bw(d)).r),m=e(a.g,d.g),x=e(a.b,d.b),R=O2(a.opacity,d.opacity);return function(L){return a.r=h(L),a.g=m(L),a.b=x(L),a.opacity=R(L),a+""}}return i.gamma=t,i}(1);function P2(t){return function(n){var h,m,e=n.length,i=new Array(e),a=new Array(e),d=new Array(e);for(h=0;h<e;++h)m=bw(n[h]),i[h]=m.r||0,a[h]=m.g||0,d[h]=m.b||0;return i=t(i),a=t(a),d=t(d),m.opacity=1,function(x){return m.r=i(x),m.g=a(x),m.b=d(x),m+""}}}function I2(t,n){var h,e=n?n.length:0,i=t?Math.min(e,t.length):0,a=new Array(i),d=new Array(e);for(h=0;h<i;++h)a[h]=fh(t[h],n[h]);for(;h<e;++h)d[h]=n[h];return function(m){for(h=0;h<i;++h)d[h]=a[h](m);return d}}function sJ(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function Ga(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function aJ(t,n){var a,e={},i={};for(a in(null===t||"object"!=typeof t)&&(t={}),(null===n||"object"!=typeof n)&&(n={}),n)a in t?e[a]=fh(t[a],n[a]):i[a]=n[a];return function(d){for(a in e)i[a]=e[a](d);return i}}P2(function nJ(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),a=t[i],d=t[i+1];return k2((e-i/n)*n,i>0?t[i-1]:2*a-d,a,d,i<n-1?t[i+2]:2*d-a)}}),P2(function iJ(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n);return k2((e-i/n)*n,t[(i+n-1)%n],t[i%n],t[(i+1)%n],t[(i+2)%n])}});var SA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TA=new RegExp(SA.source,"g");function M2(t,n){var i,a,d,e=SA.lastIndex=TA.lastIndex=0,h=-1,m=[],x=[];for(t+="",n+="";(i=SA.exec(t))&&(a=TA.exec(n));)(d=a.index)>e&&(d=n.slice(e,d),m[h]?m[h]+=d:m[++h]=d),(i=i[0])===(a=a[0])?m[h]?m[h]+=a:m[++h]=a:(m[++h]=null,x.push({i:h,x:Ga(i,a)})),e=TA.lastIndex;return e<n.length&&(d=n.slice(e),m[h]?m[h]+=d:m[++h]=d),m.length<2?x[0]?function cJ(t){return function(n){return t(n)+""}}(x[0].x):function lJ(t){return function(){return t}}(n):(n=x.length,function(R){for(var W,L=0;L<n;++L)m[(W=x[L]).i]=W.x(R);return m.join("")})}function uJ(t,n){n||(n=[]);var a,e=t?Math.min(n.length,t.length):0,i=n.slice();return function(d){for(a=0;a<e;++a)i[a]=t[a]*(1-d)+n[a]*d;return i}}function fh(t,n){var i,e=typeof n;return null==n||"boolean"===e?xA(n):("number"===e?Ga:"string"===e?(i=ph(n))?(n=i,ww):M2:n instanceof ph?ww:n instanceof Date?sJ:function dJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?uJ:Array.isArray(n)?I2:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?aJ:Ga)(t,n)}var xw,cv,Pf=0,av=0,lv=0,Sw=0,gh=0,Tw=0,uv="object"==typeof performance&&performance.now?performance:Date,L2="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function EA(){return gh||(L2(pJ),gh=uv.now()+Tw)}function pJ(){gh=0}function Ew(){this._call=this._time=this._next=null}function V2(t,n,e){var i=new Ew;return i.restart(t,n,e),i}function G2(){gh=(Sw=uv.now())+Tw,Pf=av=0;try{!function fJ(){EA(),++Pf;for(var n,t=xw;t;)(n=gh-t._time)>=0&&t._call.call(null,n),t=t._next;--Pf}()}finally{Pf=0,function mJ(){for(var t,e,n=xw,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:xw=e);cv=t,DA(i)}(),gh=0}}function gJ(){var t=uv.now(),n=t-Sw;n>1e3&&(Tw-=n,Sw=t)}function DA(t){Pf||(av&&(av=clearTimeout(av)),t-gh>24?(t<1/0&&(av=setTimeout(G2,t-uv.now()-Tw)),lv&&(lv=clearInterval(lv))):(lv||(Sw=uv.now(),lv=setInterval(gJ,1e3)),Pf=1,L2(G2)))}function B2(t,n,e){var i=new Ew;return i.restart(a=>{i.stop(),t(a+n)},n=null==n?0:+n,e),i}Ew.prototype=V2.prototype={constructor:Ew,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?EA():+e)+(null==n?0:+n),!this._next&&cv!==this&&(cv?cv._next=this:xw=this,cv=this),this._call=t,this._time=e,DA()},stop:function(){this._call&&(this._call=null,this._time=1/0,DA())}};var _J=y2("start","end","cancel","interrupt"),vJ=[];function kw(t,n,e,i,a,d){var h=t.__transition;if(h){if(e in h)return}else t.__transition={};!function yJ(t,n,e){var a,i=t.__transition;function h(R){var L,W,X,re;if(1!==e.state)return x();for(L in i)if((re=i[L]).name===e.name){if(3===re.state)return B2(h);4===re.state?(re.state=6,re.timer.stop(),re.on.call("interrupt",t,t.__data__,re.index,re.group),delete i[L]):+L<n&&(re.state=6,re.timer.stop(),re.on.call("cancel",t,t.__data__,re.index,re.group),delete i[L])}if(B2(function(){3===e.state&&(e.state=4,e.timer.restart(m,e.delay,e.time),m(R))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,a=new Array(X=e.tween.length),L=0,W=-1;L<X;++L)(re=e.tween[L].value.call(t,t.__data__,e.index,e.group))&&(a[++W]=re);a.length=W+1}}function m(R){for(var L=R<e.duration?e.ease.call(null,R/e.duration):(e.timer.restart(x),e.state=5,1),W=-1,X=a.length;++W<X;)a[W].call(t,L);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),x())}function x(){for(var R in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=V2(function d(R){e.state=1,e.timer.restart(h,e.delay,e.time),e.delay<=R&&h(R-e.delay)},0,e.time)}(t,e,{name:n,index:i,group:a,on:_J,tween:vJ,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function RA(t,n){var e=Ba(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function bl(t,n){var e=Ba(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Ba(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Rw,W2=180/Math.PI,PA={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function U2(t,n,e,i,a,d){var h,m,x;return(h=Math.sqrt(t*t+n*n))&&(t/=h,n/=h),(x=t*e+n*i)&&(e-=t*x,i-=n*x),(m=Math.sqrt(e*e+i*i))&&(e/=m,i/=m,x/=m),t*i<n*e&&(t=-t,n=-n,x=-x,h=-h),{translateX:a,translateY:d,rotate:Math.atan2(n,t)*W2,skewX:Math.atan(x)*W2,scaleX:h,scaleY:m}}function z2(t,n,e,i){function a(R){return R.length?R.pop()+" ":""}return function(R,L){var W=[],X=[];return R=t(R),L=t(L),function d(R,L,W,X,re,ge){if(R!==W||L!==X){var be=re.push("translate(",null,n,null,e);ge.push({i:be-4,x:Ga(R,W)},{i:be-2,x:Ga(L,X)})}else(W||X)&&re.push("translate("+W+n+X+e)}(R.translateX,R.translateY,L.translateX,L.translateY,W,X),function h(R,L,W,X){R!==L?(R-L>180?L+=360:L-R>180&&(R+=360),X.push({i:W.push(a(W)+"rotate(",null,i)-2,x:Ga(R,L)})):L&&W.push(a(W)+"rotate("+L+i)}(R.rotate,L.rotate,W,X),function m(R,L,W,X){R!==L?X.push({i:W.push(a(W)+"skewX(",null,i)-2,x:Ga(R,L)}):L&&W.push(a(W)+"skewX("+L+i)}(R.skewX,L.skewX,W,X),function x(R,L,W,X,re,ge){if(R!==W||L!==X){var be=re.push(a(re)+"scale(",null,",",null,")");ge.push({i:be-4,x:Ga(R,W)},{i:be-2,x:Ga(L,X)})}else(1!==W||1!==X)&&re.push(a(re)+"scale("+W+","+X+")")}(R.scaleX,R.scaleY,L.scaleX,L.scaleY,W,X),R=L=null,function(re){for(var ve,ge=-1,be=X.length;++ge<be;)W[(ve=X[ge]).i]=ve.x(re);return W.join("")}}}var xJ=z2(function bJ(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?PA:U2(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),SJ=z2(function wJ(t){return null!=t&&(Rw||(Rw=document.createElementNS("http://www.w3.org/2000/svg","g")),Rw.setAttribute("transform",t),t=Rw.transform.baseVal.consolidate())?U2((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):PA},", ",")",")");function TJ(t,n){var e,i;return function(){var a=bl(this,t),d=a.tween;if(d!==e)for(var h=0,m=(i=e=d).length;h<m;++h)if(i[h].name===n){(i=i.slice()).splice(h,1);break}a.tween=i}}function EJ(t,n,e){var i,a;if("function"!=typeof e)throw new Error;return function(){var d=bl(this,t),h=d.tween;if(h!==i){a=(i=h).slice();for(var m={name:n,value:e},x=0,R=a.length;x<R;++x)if(a[x].name===n){a[x]=m;break}x===R&&a.push(m)}d.tween=a}}function IA(t,n,e){var i=t._id;return t.each(function(){var a=bl(this,i);(a.value||(a.value={}))[n]=e.apply(this,arguments)}),function(a){return Ba(a,i).value[n]}}function Y2(t,n){var e;return("number"==typeof n?Ga:n instanceof ph?ww:(e=ph(n))?(n=e,ww):M2)(t,n)}function AJ(t){return function(){this.removeAttribute(t)}}function kJ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function RJ(t,n,e){var i,d,a=e+"";return function(){var h=this.getAttribute(t);return h===a?null:h===i?d:d=n(i=h,e)}}function OJ(t,n,e){var i,d,a=e+"";return function(){var h=this.getAttributeNS(t.space,t.local);return h===a?null:h===i?d:d=n(i=h,e)}}function PJ(t,n,e){var i,a,d;return function(){var h,x,m=e(this);return null==m?void this.removeAttribute(t):(h=this.getAttribute(t))===(x=m+"")?null:h===i&&x===a?d:(a=x,d=n(i=h,m))}}function IJ(t,n,e){var i,a,d;return function(){var h,x,m=e(this);return null==m?void this.removeAttributeNS(t.space,t.local):(h=this.getAttributeNS(t.space,t.local))===(x=m+"")?null:h===i&&x===a?d:(a=x,d=n(i=h,m))}}function NJ(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function FJ(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function LJ(t,n){var e,i;function a(){var d=n.apply(this,arguments);return d!==i&&(e=(i=d)&&FJ(t,d)),e}return a._value=n,a}function VJ(t,n){var e,i;function a(){var d=n.apply(this,arguments);return d!==i&&(e=(i=d)&&NJ(t,d)),e}return a._value=n,a}function BJ(t,n){return function(){RA(this,t).delay=+n.apply(this,arguments)}}function HJ(t,n){return n=+n,function(){RA(this,t).delay=n}}function $J(t,n){return function(){bl(this,t).duration=+n.apply(this,arguments)}}function WJ(t,n){return n=+n,function(){bl(this,t).duration=n}}function zJ(t,n){if("function"!=typeof n)throw new Error;return function(){bl(this,t).ease=n}}function JJ(t,n,e){var i,a,d=function ZJ(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||"start"===n})}(n)?RA:bl;return function(){var h=d(this,t),m=h.on;m!==i&&(a=(i=m).copy()).on(n,e),h.on=a}}var oee=iv.prototype.constructor;function K2(t){return function(){this.style.removeProperty(t)}}function hee(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function pee(t,n,e){var i,a;function d(){var h=n.apply(this,arguments);return h!==a&&(i=(a=h)&&hee(t,h,e)),i}return d._value=n,d}function vee(t){return function(n){this.textContent=t.call(this,n)}}function yee(t){var n,e;function i(){var a=t.apply(this,arguments);return a!==e&&(n=(e=a)&&vee(a)),n}return i._value=t,i}var xee=0;function fc(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function q2(){return++xee}var mh=iv.prototype;fc.prototype=function See(t){return iv().transition(t)}.prototype={constructor:fc,select:function iee(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=mA(t));for(var i=this._groups,a=i.length,d=new Array(a),h=0;h<a;++h)for(var L,W,m=i[h],x=m.length,R=d[h]=new Array(x),X=0;X<x;++X)(L=m[X])&&(W=t.call(L,L.__data__,X,m))&&("__data__"in L&&(W.__data__=L.__data__),R[X]=W,kw(R[X],n,e,X,R,Ba(L,e)));return new fc(d,this._parents,n,e)},selectAll:function ree(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=n2(t));for(var i=this._groups,a=i.length,d=[],h=[],m=0;m<a;++m)for(var L,x=i[m],R=x.length,W=0;W<R;++W)if(L=x[W]){for(var re,X=t.call(L,L.__data__,W,x),ge=Ba(L,e),be=0,ve=X.length;be<ve;++be)(re=X[be])&&kw(re,n,e,be,X,ge);d.push(X),h.push(L)}return new fc(d,h,n,e)},filter:function XJ(t){"function"!=typeof t&&(t=r2(t));for(var n=this._groups,e=n.length,i=new Array(e),a=0;a<e;++a)for(var x,d=n[a],h=d.length,m=i[a]=[],R=0;R<h;++R)(x=d[R])&&t.call(x,x.__data__,R,d)&&m.push(x);return new fc(i,this._parents,this._name,this._id)},merge:function QJ(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,d=Math.min(i,e.length),h=new Array(i),m=0;m<d;++m)for(var X,x=n[m],R=e[m],L=x.length,W=h[m]=new Array(L),re=0;re<L;++re)(X=x[re]||R[re])&&(W[re]=X);for(;m<i;++m)h[m]=n[m];return new fc(h,this._parents,this._name,this._id)},selection:function see(){return new oee(this._groups,this._parents)},transition:function bee(){for(var t=this._name,n=this._id,e=q2(),i=this._groups,a=i.length,d=0;d<a;++d)for(var x,h=i[d],m=h.length,R=0;R<m;++R)if(x=h[R]){var L=Ba(x,n);kw(x,t,e,R,h,{time:L.time+L.delay+L.duration,delay:0,duration:L.duration,ease:L.ease})}return new fc(i,this._parents,t,e)},call:mh.call,nodes:mh.nodes,node:mh.node,size:mh.size,empty:mh.empty,each:mh.each,on:function eee(t,n){var e=this._id;return arguments.length<2?Ba(this.node(),e).on.on(t):this.each(JJ(e,t,n))},attr:function MJ(t,n){var e=_w(t),i="transform"===e?SJ:Y2;return this.attrTween(t,"function"==typeof n?(e.local?IJ:PJ)(e,i,IA(this,"attr."+t,n)):null==n?(e.local?kJ:AJ)(e):(e.local?OJ:RJ)(e,i,n))},attrTween:function GJ(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=_w(t);return this.tween(e,(i.local?LJ:VJ)(i,n))},style:function dee(t,n,e){var i="transform"==(t+="")?xJ:Y2;return null==n?this.styleTween(t,function aee(t,n){var e,i,a;return function(){var d=Rf(this,t),h=(this.style.removeProperty(t),Rf(this,t));return d===h?null:d===e&&h===i?a:a=n(e=d,i=h)}}(t,i)).on("end.style."+t,K2(t)):"function"==typeof n?this.styleTween(t,function cee(t,n,e){var i,a,d;return function(){var h=Rf(this,t),m=e(this),x=m+"";return null==m&&(this.style.removeProperty(t),x=m=Rf(this,t)),h===x?null:h===i&&x===a?d:(a=x,d=n(i=h,m))}}(t,i,IA(this,"style."+t,n))).each(function uee(t,n){var e,i,a,m,d="style."+n,h="end."+d;return function(){var x=bl(this,t),R=x.on,L=null==x.value[d]?m||(m=K2(n)):void 0;(R!==e||a!==L)&&(i=(e=R).copy()).on(h,a=L),x.on=i}}(this._id,t)):this.styleTween(t,function lee(t,n,e){var i,d,a=e+"";return function(){var h=Rf(this,t);return h===a?null:h===i?d:d=n(i=h,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function fee(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,pee(t,n,null==e?"":e))},text:function _ee(t){return this.tween("text","function"==typeof t?function mee(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(IA(this,"text",t)):function gee(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Cee(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,yee(t))},remove:function nee(){return this.on("end.remove",function tee(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function DJ(t,n){var e=this._id;if(t+="",arguments.length<2){for(var h,i=Ba(this.node(),e).tween,a=0,d=i.length;a<d;++a)if((h=i[a]).name===t)return h.value;return null}return this.each((null==n?TJ:EJ)(e,t,n))},delay:function jJ(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?BJ:HJ)(n,t)):Ba(this.node(),n).delay},duration:function UJ(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?$J:WJ)(n,t)):Ba(this.node(),n).duration},ease:function YJ(t){var n=this._id;return arguments.length?this.each(zJ(n,t)):Ba(this.node(),n).ease},easeVarying:function qJ(t){if("function"!=typeof t)throw new Error;return this.each(function KJ(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;bl(this,t).ease=e}}(this._id,t))},end:function wee(){var t,n,e=this,i=e._id,a=e.size();return new Promise(function(d,h){var m={value:h},x={value:function(){0==--a&&d()}};e.each(function(){var R=bl(this,i),L=R.on;L!==t&&((n=(t=L).copy())._.cancel.push(m),n._.interrupt.push(m),n._.end.push(x)),R.on=n}),0===a&&d()})},[Symbol.iterator]:mh[Symbol.iterator]};var Eee={time:null,delay:0,duration:250,ease:function Tee(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Dee(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}iv.prototype.interrupt=function CJ(t){return this.each(function(){!function OA(t,n){var i,a,h,e=t.__transition,d=!0;if(e){for(h in n=null==n?null:n+"",e)(i=e[h]).name===n?(a=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(a?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[h]):d=!1;d&&delete t.__transition}}(this,t)})},iv.prototype.transition=function Aee(t){var n,e;t instanceof fc?(n=t._id,t=t._name):(n=q2(),(e=Eee).time=EA(),t=null==t?null:t+"");for(var i=this._groups,a=i.length,d=0;d<a;++d)for(var x,h=i[d],m=h.length,R=0;R<m;++R)(x=h[R])&&kw(x,t,n,R,h,e||Dee(x,n));return new fc(i,this._parents,t,n)};Math;function dv(t){return{type:t}}function BA(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function HA(t){let n=t,e=t;function i(h,m,x,R){for(null==x&&(x=0),null==R&&(R=h.length);x<R;){const L=x+R>>>1;e(h[L],m)<0?x=L+1:R=L}return x}return 1===t.length&&(n=(h,m)=>t(h)-m,e=function Bee(t){return(n,e)=>BA(t(n),e)}(t)),{left:i,center:function d(h,m,x,R){null==x&&(x=0),null==R&&(R=h.length);const L=i(h,m,x,R-1);return L>x&&n(h[L-1],m)>-n(h[L],m)?L-1:L},right:function a(h,m,x,R){for(null==x&&(x=0),null==R&&(R=h.length);x<R;){const L=x+R>>>1;e(h[L],m)>0?R=L:x=L+1}return x}}}["w","e"].map(dv),["n","s"].map(dv),["n","w","e","s","nw","ne","sw","se"].map(dv);var jA=Math.sqrt(50),$A=Math.sqrt(10),WA=Math.sqrt(2);function tV(t,n,e){var i=(n-t)/Math.max(0,e),a=Math.floor(Math.log(i)/Math.LN10),d=i/Math.pow(10,a);return a>=0?(d>=jA?10:d>=$A?5:d>=WA?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(d>=jA?10:d>=$A?5:d>=WA?2:1)}function UA(t,n,e){var i=Math.abs(n-t)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),d=i/a;return d>=jA?a*=10:d>=$A?a*=5:d>=WA&&(a*=2),n<t?-a:a}const mc=1e3,la=6e4,_c=60*la,_h=24*_c,zA=7*_h,nV=30*_h,YA=365*_h;var KA=new Date,qA=new Date;function Br(t,n,e,i){function a(d){return t(d=0===arguments.length?new Date:new Date(+d)),d}return a.floor=function(d){return t(d=new Date(+d)),d},a.ceil=function(d){return t(d=new Date(d-1)),n(d,1),t(d),d},a.round=function(d){var h=a(d),m=a.ceil(d);return d-h<m-d?h:m},a.offset=function(d,h){return n(d=new Date(+d),null==h?1:Math.floor(h)),d},a.range=function(d,h,m){var R,x=[];if(d=a.ceil(d),m=null==m?1:Math.floor(m),!(d<h&&m>0))return x;do{x.push(R=new Date(+d)),n(d,m),t(d)}while(R<d&&d<h);return x},a.filter=function(d){return Br(function(h){if(h>=h)for(;t(h),!d(h);)h.setTime(h-1)},function(h,m){if(h>=h)if(m<0)for(;++m<=0;)for(;n(h,-1),!d(h););else for(;--m>=0;)for(;n(h,1),!d(h););})},e&&(a.count=function(d,h){return KA.setTime(+d),qA.setTime(+h),t(KA),t(qA),Math.floor(e(KA,qA))},a.every=function(d){return d=Math.floor(d),isFinite(d)&&d>0?d>1?a.filter(i?function(h){return i(h)%d==0}:function(h){return a.count(0,h)%d==0}):a:null}),a}var Iw=Br(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Iw.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Br(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Iw:null};const jee=Iw;const hv=Br(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*mc)},function(t,n){return(n-t)/mc},function(t){return t.getUTCSeconds()});const oV=Br(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*mc)},function(t,n){t.setTime(+t+n*la)},function(t,n){return(n-t)/la},function(t){return t.getMinutes()});const aV=Br(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*mc-t.getMinutes()*la)},function(t,n){t.setTime(+t+n*_c)},function(t,n){return(n-t)/_c},function(t){return t.getHours()});const Mw=Br(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*la)/_h,t=>t.getDate()-1);function vh(t){return Br(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(n,e){n.setDate(n.getDate()+7*e)},function(n,e){return(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*la)/zA})}var Nw=vh(0),Fw=vh(1),Nf=(vh(2),vh(3),vh(4));const uV=(vh(5),vh(6),Br(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}));var XA=Br(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});XA.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Br(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};const yh=XA;const Yee=Br(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*la)},function(t,n){return(n-t)/la},function(t){return t.getUTCMinutes()});const Kee=Br(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*_c)},function(t,n){return(n-t)/_c},function(t){return t.getUTCHours()});const QA=Br(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/_h},function(t){return t.getUTCDate()-1});function Ch(t){return Br(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCDate(n.getUTCDate()+7*e)},function(n,e){return(e-n)/zA})}var ZA=Ch(0),Lw=Ch(1),Ff=(Ch(2),Ch(3),Ch(4));const Jee=(Ch(5),Ch(6),Br(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}));var JA=Br(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});JA.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Br(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};const Lf=JA;function gV(t,n,e,i,a,d){const h=[[hv,1,mc],[hv,5,5e3],[hv,15,15e3],[hv,30,3e4],[d,1,la],[d,5,5*la],[d,15,15*la],[d,30,30*la],[a,1,_c],[a,3,3*_c],[a,6,6*_c],[a,12,12*_c],[i,1,_h],[i,2,2*_h],[e,1,zA],[n,1,nV],[n,3,3*nV],[t,1,YA]];function x(R,L,W){const X=Math.abs(L-R)/W,re=HA(([,,ve])=>ve).right(h,X);if(re===h.length)return t.every(UA(R/YA,L/YA,W));if(0===re)return jee.every(Math.max(UA(R,L,W),1));const[ge,be]=h[X/h[re-1][2]<h[re][2]/X?re-1:re];return ge.every(be)}return[function m(R,L,W){const X=L<R;X&&([R,L]=[L,R]);const re=W&&"function"==typeof W.range?W:x(R,L,W),ge=re?re.range(R,+L+1):[];return X?ge.reverse():ge},x]}const[D1e,A1e]=gV(Lf,Jee,ZA,QA,Kee,Yee),[ete,tte]=gV(yh,uV,Nw,Mw,aV,oV);function ek(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tk(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pv(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var mV={"-":"",_:" ",0:"0"},Hr=/^\s*\d+/,ite=/^%/,rte=/[\\^$*+?|[\]().{}]/g;function ai(t,n,e){var i=t<0?"-":"",a=(i?-t:t)+"",d=a.length;return i+(d<e?new Array(e-d+1).join(n)+a:a)}function ote(t){return t.replace(rte,"\\$&")}function fv(t){return new RegExp("^(?:"+t.map(ote).join("|")+")","i")}function gv(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function ste(t,n,e){var i=Hr.exec(n.slice(e,e+1));return i?(t.w=+i[0],e+i[0].length):-1}function ate(t,n,e){var i=Hr.exec(n.slice(e,e+1));return i?(t.u=+i[0],e+i[0].length):-1}function lte(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.U=+i[0],e+i[0].length):-1}function cte(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.V=+i[0],e+i[0].length):-1}function ute(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.W=+i[0],e+i[0].length):-1}function _V(t,n,e){var i=Hr.exec(n.slice(e,e+4));return i?(t.y=+i[0],e+i[0].length):-1}function vV(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),e+i[0].length):-1}function dte(t,n,e){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),e+i[0].length):-1}function hte(t,n,e){var i=Hr.exec(n.slice(e,e+1));return i?(t.q=3*i[0]-3,e+i[0].length):-1}function pte(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.m=i[0]-1,e+i[0].length):-1}function yV(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.d=+i[0],e+i[0].length):-1}function fte(t,n,e){var i=Hr.exec(n.slice(e,e+3));return i?(t.m=0,t.d=+i[0],e+i[0].length):-1}function CV(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.H=+i[0],e+i[0].length):-1}function gte(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.M=+i[0],e+i[0].length):-1}function mte(t,n,e){var i=Hr.exec(n.slice(e,e+2));return i?(t.S=+i[0],e+i[0].length):-1}function _te(t,n,e){var i=Hr.exec(n.slice(e,e+3));return i?(t.L=+i[0],e+i[0].length):-1}function vte(t,n,e){var i=Hr.exec(n.slice(e,e+6));return i?(t.L=Math.floor(i[0]/1e3),e+i[0].length):-1}function yte(t,n,e){var i=ite.exec(n.slice(e,e+1));return i?e+i[0].length:-1}function Cte(t,n,e){var i=Hr.exec(n.slice(e));return i?(t.Q=+i[0],e+i[0].length):-1}function bte(t,n,e){var i=Hr.exec(n.slice(e));return i?(t.s=+i[0],e+i[0].length):-1}function bV(t,n){return ai(t.getDate(),n,2)}function wte(t,n){return ai(t.getHours(),n,2)}function xte(t,n){return ai(t.getHours()%12||12,n,2)}function Ste(t,n){return ai(1+Mw.count(yh(t),t),n,3)}function wV(t,n){return ai(t.getMilliseconds(),n,3)}function Tte(t,n){return wV(t,n)+"000"}function Ete(t,n){return ai(t.getMonth()+1,n,2)}function Dte(t,n){return ai(t.getMinutes(),n,2)}function Ate(t,n){return ai(t.getSeconds(),n,2)}function kte(t){var n=t.getDay();return 0===n?7:n}function Rte(t,n){return ai(Nw.count(yh(t)-1,t),n,2)}function xV(t){var n=t.getDay();return n>=4||0===n?Nf(t):Nf.ceil(t)}function Ote(t,n){return t=xV(t),ai(Nf.count(yh(t),t)+(4===yh(t).getDay()),n,2)}function Pte(t){return t.getDay()}function Ite(t,n){return ai(Fw.count(yh(t)-1,t),n,2)}function Mte(t,n){return ai(t.getFullYear()%100,n,2)}function Nte(t,n){return ai((t=xV(t)).getFullYear()%100,n,2)}function Fte(t,n){return ai(t.getFullYear()%1e4,n,4)}function Lte(t,n){var e=t.getDay();return ai((t=e>=4||0===e?Nf(t):Nf.ceil(t)).getFullYear()%1e4,n,4)}function Vte(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ai(n/60|0,"0",2)+ai(n%60,"0",2)}function SV(t,n){return ai(t.getUTCDate(),n,2)}function Gte(t,n){return ai(t.getUTCHours(),n,2)}function Bte(t,n){return ai(t.getUTCHours()%12||12,n,2)}function Hte(t,n){return ai(1+QA.count(Lf(t),t),n,3)}function TV(t,n){return ai(t.getUTCMilliseconds(),n,3)}function jte(t,n){return TV(t,n)+"000"}function $te(t,n){return ai(t.getUTCMonth()+1,n,2)}function Wte(t,n){return ai(t.getUTCMinutes(),n,2)}function Ute(t,n){return ai(t.getUTCSeconds(),n,2)}function zte(t){var n=t.getUTCDay();return 0===n?7:n}function Yte(t,n){return ai(ZA.count(Lf(t)-1,t),n,2)}function EV(t){var n=t.getUTCDay();return n>=4||0===n?Ff(t):Ff.ceil(t)}function Kte(t,n){return t=EV(t),ai(Ff.count(Lf(t),t)+(4===Lf(t).getUTCDay()),n,2)}function qte(t){return t.getUTCDay()}function Xte(t,n){return ai(Lw.count(Lf(t)-1,t),n,2)}function Qte(t,n){return ai(t.getUTCFullYear()%100,n,2)}function Zte(t,n){return ai((t=EV(t)).getUTCFullYear()%100,n,2)}function Jte(t,n){return ai(t.getUTCFullYear()%1e4,n,4)}function ene(t,n){var e=t.getUTCDay();return ai((t=e>=4||0===e?Ff(t):Ff.ceil(t)).getUTCFullYear()%1e4,n,4)}function tne(){return"+0000"}function DV(){return"%"}function AV(t){return+t}function kV(t){return Math.floor(+t/1e3)}function OV(t){return null===t?NaN:+t}!function one(t){(function nte(t){var n=t.dateTime,e=t.date,i=t.time,a=t.periods,d=t.days,h=t.shortDays,m=t.months,x=t.shortMonths,R=fv(a),L=gv(a),W=fv(d),X=gv(d),re=fv(h),ge=gv(h),be=fv(m),ve=gv(m),De=fv(x),Ee=gv(x),Me={a:function _t(Ot){return h[Ot.getDay()]},A:function Vt(Ot){return d[Ot.getDay()]},b:function Lt(Ot){return x[Ot.getMonth()]},B:function _n(Ot){return m[Ot.getMonth()]},c:null,d:bV,e:bV,f:Tte,g:Nte,G:Lte,H:wte,I:xte,j:Ste,L:wV,m:Ete,M:Dte,p:function Vn(Ot){return a[+(Ot.getHours()>=12)]},q:function kn(Ot){return 1+~~(Ot.getMonth()/3)},Q:AV,s:kV,S:Ate,u:kte,U:Rte,V:Ote,w:Pte,W:Ite,x:null,X:null,y:Mte,Y:Fte,Z:Vte,"%":DV},He={a:function er(Ot){return h[Ot.getUTCDay()]},A:function bn(Ot){return d[Ot.getUTCDay()]},b:function or(Ot){return x[Ot.getUTCMonth()]},B:function jr(Ot){return m[Ot.getUTCMonth()]},c:null,d:SV,e:SV,f:jte,g:Zte,G:ene,H:Gte,I:Bte,j:Hte,L:TV,m:$te,M:Wte,p:function Gn(Ot){return a[+(Ot.getUTCHours()>=12)]},q:function $i(Ot){return 1+~~(Ot.getUTCMonth()/3)},Q:AV,s:kV,S:Ute,u:zte,U:Yte,V:Kte,w:qte,W:Xte,x:null,X:null,y:Qte,Y:Jte,Z:tne,"%":DV},Ye={a:function Wt(Ot,sn,Pn){var vt=re.exec(sn.slice(Pn));return vt?(Ot.w=ge.get(vt[0].toLowerCase()),Pn+vt[0].length):-1},A:function Ct(Ot,sn,Pn){var vt=W.exec(sn.slice(Pn));return vt?(Ot.w=X.get(vt[0].toLowerCase()),Pn+vt[0].length):-1},b:function It(Ot,sn,Pn){var vt=De.exec(sn.slice(Pn));return vt?(Ot.m=Ee.get(vt[0].toLowerCase()),Pn+vt[0].length):-1},B:function At(Ot,sn,Pn){var vt=be.exec(sn.slice(Pn));return vt?(Ot.m=ve.get(vt[0].toLowerCase()),Pn+vt[0].length):-1},c:function Cn(Ot,sn,Pn){return Rt(Ot,n,sn,Pn)},d:yV,e:yV,f:vte,g:vV,G:_V,H:CV,I:CV,j:fte,L:_te,m:pte,M:gte,p:function Qt(Ot,sn,Pn){var vt=R.exec(sn.slice(Pn));return vt?(Ot.p=L.get(vt[0].toLowerCase()),Pn+vt[0].length):-1},q:hte,Q:Cte,s:bte,S:mte,u:ate,U:lte,V:cte,w:ste,W:ute,x:function ii(Ot,sn,Pn){return Rt(Ot,e,sn,Pn)},X:function pt(Ot,sn,Pn){return Rt(Ot,i,sn,Pn)},y:vV,Y:_V,Z:dte,"%":yte};function et(Ot,sn){return function(Pn){var $r,wn,Wi,vt=[],Vi=-1,pi=0,to=Ot.length;for(Pn instanceof Date||(Pn=new Date(+Pn));++Vi<to;)37===Ot.charCodeAt(Vi)&&(vt.push(Ot.slice(pi,Vi)),null!=(wn=mV[$r=Ot.charAt(++Vi)])?$r=Ot.charAt(++Vi):wn="e"===$r?" ":"0",(Wi=sn[$r])&&($r=Wi(Pn,wn)),vt.push($r),pi=Vi+1);return vt.push(Ot.slice(pi,Vi)),vt.join("")}}function Dt(Ot,sn){return function(Pn){var pi,to,vt=pv(1900,void 0,1);if(Rt(vt,Ot,Pn+="",0)!=Pn.length)return null;if("Q"in vt)return new Date(vt.Q);if("s"in vt)return new Date(1e3*vt.s+("L"in vt?vt.L:0));if(sn&&!("Z"in vt)&&(vt.Z=0),"p"in vt&&(vt.H=vt.H%12+12*vt.p),void 0===vt.m&&(vt.m="q"in vt?vt.q:0),"V"in vt){if(vt.V<1||vt.V>53)return null;"w"in vt||(vt.w=1),"Z"in vt?(to=(pi=tk(pv(vt.y,0,1))).getUTCDay(),pi=to>4||0===to?Lw.ceil(pi):Lw(pi),pi=QA.offset(pi,7*(vt.V-1)),vt.y=pi.getUTCFullYear(),vt.m=pi.getUTCMonth(),vt.d=pi.getUTCDate()+(vt.w+6)%7):(to=(pi=ek(pv(vt.y,0,1))).getDay(),pi=to>4||0===to?Fw.ceil(pi):Fw(pi),pi=Mw.offset(pi,7*(vt.V-1)),vt.y=pi.getFullYear(),vt.m=pi.getMonth(),vt.d=pi.getDate()+(vt.w+6)%7)}else("W"in vt||"U"in vt)&&("w"in vt||(vt.w="u"in vt?vt.u%7:"W"in vt?1:0),to="Z"in vt?tk(pv(vt.y,0,1)).getUTCDay():ek(pv(vt.y,0,1)).getDay(),vt.m=0,vt.d="W"in vt?(vt.w+6)%7+7*vt.W-(to+5)%7:vt.w+7*vt.U-(to+6)%7);return"Z"in vt?(vt.H+=vt.Z/100|0,vt.M+=vt.Z%100,tk(vt)):ek(vt)}}function Rt(Ot,sn,Pn,vt){for(var $r,wn,Vi=0,pi=sn.length,to=Pn.length;Vi<pi;){if(vt>=to)return-1;if(37===($r=sn.charCodeAt(Vi++))){if($r=sn.charAt(Vi++),!(wn=Ye[$r in mV?sn.charAt(Vi++):$r])||(vt=wn(Ot,Pn,vt))<0)return-1}else if($r!=Pn.charCodeAt(vt++))return-1}return vt}return Me.x=et(e,Me),Me.X=et(i,Me),Me.c=et(n,Me),He.x=et(e,He),He.X=et(i,He),He.c=et(n,He),{format:function(Ot){var sn=et(Ot+="",Me);return sn.toString=function(){return Ot},sn},parse:function(Ot){var sn=Dt(Ot+="",!1);return sn.toString=function(){return Ot},sn},utcFormat:function(Ot){var sn=et(Ot+="",He);return sn.toString=function(){return Ot},sn},utcParse:function(Ot){var sn=Dt(Ot+="",!0);return sn.toString=function(){return Ot},sn}}})(t)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const sne=HA(BA).right,IV=(HA(OV),sne);function ane(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function cne(t){return+t}var MV=[0,1];function Gf(t){return t}function nk(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function lne(t){return function(){return t}}(isNaN(n)?NaN:.5)}function dne(t,n,e){var i=t[0],a=t[1],d=n[0],h=n[1];return a<i?(i=nk(a,i),d=e(h,d)):(i=nk(i,a),d=e(d,h)),function(m){return d(i(m))}}function hne(t,n,e){var i=Math.min(t.length,n.length)-1,a=new Array(i),d=new Array(i),h=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++h<i;)a[h]=nk(t[h],t[h+1]),d[h]=e(n[h],n[h+1]);return function(m){var x=IV(t,m,1,i)-1;return d[x](a[x](m))}}function NV(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function FV(){return function pne(){var i,a,d,m,x,R,t=MV,n=MV,e=fh,h=Gf;function L(){var X=Math.min(t.length,n.length);return h!==Gf&&(h=function une(t,n){var e;return t>n&&(e=t,t=n,n=e),function(i){return Math.max(t,Math.min(n,i))}}(t[0],t[X-1])),m=X>2?hne:dne,x=R=null,W}function W(X){return null==X||isNaN(X=+X)?d:(x||(x=m(t.map(i),n,e)))(i(h(X)))}return W.invert=function(X){return h(a((R||(R=m(n,t.map(i),Ga)))(X)))},W.domain=function(X){return arguments.length?(t=Array.from(X,cne),L()):t.slice()},W.range=function(X){return arguments.length?(n=Array.from(X),L()):n.slice()},W.rangeRound=function(X){return n=Array.from(X),e=ane,L()},W.clamp=function(X){return arguments.length?(h=!!X||Gf,L()):h!==Gf},W.interpolate=function(X){return arguments.length?(e=X,L()):e},W.unknown=function(X){return arguments.length?(d=X,W):d},function(X,re){return i=X,a=re,L()}}()(Gf,Gf)}function mv(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var VV,vne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vw(t){if(!(n=vne.exec(t)))throw new Error("invalid format: "+t);var n;return new ik({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function ik(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Gw(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function Bf(t){return(t=Gw(Math.abs(t)))?t[1]:NaN}function GV(t,n){var e=Gw(t,n);if(!e)return t+"";var i=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}Vw.prototype=ik.prototype,ik.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const BV={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function yne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>GV(100*t,n),r:GV,s:function Sne(t,n){var e=Gw(t,n);if(!e)return t+"";var i=e[0],a=e[1],d=a-(VV=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,h=i.length;return d===h?i:d>h?i+new Array(d-h+1).join("0"):d>0?i.slice(0,d)+"."+i.slice(d):"0."+new Array(1-d).join("0")+Gw(t,Math.max(0,n+d-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HV(t){return t}var Bw,WV,UV,jV=Array.prototype.map,$V=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Rne(t){var n=t.domain;return t.ticks=function(e){var i=n();return function Hee(t,n,e){var i,d,h,m,a=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((i=n<t)&&(d=t,t=n,n=d),0===(m=tV(t,n,e))||!isFinite(m))return[];if(m>0){let x=Math.round(t/m),R=Math.round(n/m);for(x*m<t&&++x,R*m>n&&--R,h=new Array(d=R-x+1);++a<d;)h[a]=(x+a)*m}else{m=-m;let x=Math.round(t*m),R=Math.round(n*m);for(x/m<t&&++x,R/m>n&&--R,h=new Array(d=R-x+1);++a<d;)h[a]=(x+a)/m}return i&&h.reverse(),h}(i[0],i[i.length-1],null==e?10:e)},t.tickFormat=function(e,i){var a=n();return function kne(t,n,e,i){var d,a=UA(t,n,e);switch((i=Vw(null==i?",f":i)).type){case"s":var h=Math.max(Math.abs(t),Math.abs(n));return null==i.precision&&!isNaN(d=function Cne(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bf(n)/3)))-Bf(Math.abs(t)))}(a,h))&&(i.precision=d),UV(i,h);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(d=function Dne(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Bf(n)-Bf(t))+1}(a,Math.max(Math.abs(t),Math.abs(n))))&&(i.precision=d-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(d=function Ane(t){return Math.max(0,-Bf(Math.abs(t)))}(a))&&(i.precision=d-2*("%"===i.type))}return WV(i)}(a[0],a[a.length-1],null==e?10:e,i)},t.nice=function(e){null==e&&(e=10);var x,R,i=n(),a=0,d=i.length-1,h=i[a],m=i[d],L=10;for(m<h&&(R=h,h=m,m=R,R=a,a=d,d=R);L-- >0;){if((R=tV(h,m,e))===x)return i[a]=h,i[d]=m,n(i);if(R>0)h=Math.floor(h/R)*R,m=Math.ceil(m/R)*R;else{if(!(R<0))break;h=Math.ceil(h*R)/R,m=Math.floor(m*R)/R}x=R}return t},t}function _v(){var t=FV();return t.copy=function(){return NV(t,_v())},mv.apply(t,arguments),Rne(t)}function zV(t,n,e){t=+t,n=+n,e=(a=arguments.length)<2?(n=t,t=0,1):a<3?1:+e;for(var i=-1,a=0|Math.max(0,Math.ceil((n-t)/e)),d=new Array(a);++i<a;)d[i]=t+i*e;return d}!function Ene(t){Bw=function Tne(t){var n=void 0===t.grouping||void 0===t.thousands?HV:function bne(t,n){return function(e,i){for(var a=e.length,d=[],h=0,m=t[0],x=0;a>0&&m>0&&(x+m+1>i&&(m=Math.max(1,i-x)),d.push(e.substring(a-=m,a+m)),!((x+=m+1)>i));)m=t[h=(h+1)%t.length];return d.reverse().join(n)}}(jV.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",d=void 0===t.numerals?HV:function wne(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}(jV.call(t.numerals,String)),h=void 0===t.percent?"%":t.percent+"",m=void 0===t.minus?"\u2212":t.minus+"",x=void 0===t.nan?"NaN":t.nan+"";function R(W){var X=(W=Vw(W)).fill,re=W.align,ge=W.sign,be=W.symbol,ve=W.zero,De=W.width,Ee=W.comma,Me=W.precision,He=W.trim,Ye=W.type;"n"===Ye?(Ee=!0,Ye="g"):BV[Ye]||(void 0===Me&&(Me=12),He=!0,Ye="g"),(ve||"0"===X&&"="===re)&&(ve=!0,X="0",re="=");var et="$"===be?e:"#"===be&&/[boxX]/.test(Ye)?"0"+Ye.toLowerCase():"",Dt="$"===be?i:/[%p]/.test(Ye)?h:"",Rt=BV[Ye],Qt=/[defgprs%]/.test(Ye);function Wt(Ct){var Cn,ii,pt,It=et,At=Dt;if("c"===Ye)At=Rt(Ct)+At,Ct="";else{var _t=(Ct=+Ct)<0||1/Ct<0;if(Ct=isNaN(Ct)?x:Rt(Math.abs(Ct),Me),He&&(Ct=function xne(t){e:for(var a,n=t.length,e=1,i=-1;e<n;++e)switch(t[e]){case".":i=a=e;break;case"0":0===i&&(i=e),a=e;break;default:if(!+t[e])break e;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(a+1):t}(Ct)),_t&&0==+Ct&&"+"!==ge&&(_t=!1),It=(_t?"("===ge?ge:m:"-"===ge||"("===ge?"":ge)+It,At=("s"===Ye?$V[8+VV/3]:"")+At+(_t&&"("===ge?")":""),Qt)for(Cn=-1,ii=Ct.length;++Cn<ii;)if(48>(pt=Ct.charCodeAt(Cn))||pt>57){At=(46===pt?a+Ct.slice(Cn+1):Ct.slice(Cn))+At,Ct=Ct.slice(0,Cn);break}}Ee&&!ve&&(Ct=n(Ct,1/0));var Vt=It.length+Ct.length+At.length,Lt=Vt<De?new Array(De-Vt+1).join(X):"";switch(Ee&&ve&&(Ct=n(Lt+Ct,Lt.length?De-At.length:1/0),Lt=""),re){case"<":Ct=It+Ct+At+Lt;break;case"=":Ct=It+Lt+Ct+At;break;case"^":Ct=Lt.slice(0,Vt=Lt.length>>1)+It+Ct+At+Lt.slice(Vt);break;default:Ct=Lt+It+Ct+At}return d(Ct)}return Me=void 0===Me?6:/[gprs]/.test(Ye)?Math.max(1,Math.min(21,Me)):Math.max(0,Math.min(20,Me)),Wt.toString=function(){return W+""},Wt}return{format:R,formatPrefix:function L(W,X){var re=R(((W=Vw(W)).type="f",W)),ge=3*Math.max(-8,Math.min(8,Math.floor(Bf(X)/3))),be=Math.pow(10,-ge),ve=$V[8+ge/3];return function(De){return re(be*De)+ve}}}}(t),WV=Bw.format,UV=Bw.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const YV=Symbol("implicit");function rk(){var t=new Map,n=[],e=[],i=YV;function a(d){var h=d+"",m=t.get(h);if(!m){if(i!==YV)return i;t.set(h,m=n.push(d))}return e[(m-1)%e.length]}return a.domain=function(d){if(!arguments.length)return n.slice();n=[],t=new Map;for(const h of d){const m=h+"";t.has(m)||t.set(m,n.push(h))}return a},a.range=function(d){return arguments.length?(e=Array.from(d),a):e.slice()},a.unknown=function(d){return arguments.length?(i=d,a):i},a.copy=function(){return rk(n,e).unknown(i)},mv.apply(a,arguments),a}function ok(){var d,h,t=rk().unknown(void 0),n=t.domain,e=t.range,i=0,a=1,m=!1,x=0,R=0,L=.5;function W(){var X=n().length,re=a<i,ge=re?a:i,be=re?i:a;d=(be-ge)/Math.max(1,X-x+2*R),m&&(d=Math.floor(d)),ge+=(be-ge-d*(X-x))*L,h=d*(1-x),m&&(ge=Math.round(ge),h=Math.round(h));var ve=zV(X).map(function(De){return ge+d*De});return e(re?ve.reverse():ve)}return delete t.unknown,t.domain=function(X){return arguments.length?(n(X),W()):n()},t.range=function(X){return arguments.length?([i,a]=X,i=+i,a=+a,W()):[i,a]},t.rangeRound=function(X){return[i,a]=X,i=+i,a=+a,m=!0,W()},t.bandwidth=function(){return h},t.step=function(){return d},t.round=function(X){return arguments.length?(m=!!X,W()):m},t.padding=function(X){return arguments.length?(x=Math.min(1,R=+X),W()):x},t.paddingInner=function(X){return arguments.length?(x=Math.min(1,X),W()):x},t.paddingOuter=function(X){return arguments.length?(R=+X,W()):R},t.align=function(X){return arguments.length?(L=Math.max(0,Math.min(1,X)),W()):L},t.copy=function(){return ok(n(),[i,a]).round(m).paddingInner(x).paddingOuter(R).align(L)},mv.apply(W(),arguments)}function Pne(t,n,e=OV){if(i=t.length){if((n=+n)<=0||i<2)return+e(t[0],0,t);if(n>=1)return+e(t[i-1],i-1,t);var i,a=(i-1)*n,d=Math.floor(a),h=+e(t[d],d,t);return h+(+e(t[d+1],d+1,t)-h)*(a-d)}}function qV(){var i,t=[],n=[],e=[];function a(){var h=0,m=Math.max(1,n.length);for(e=new Array(m-1);++h<m;)e[h-1]=Pne(t,h/m);return d}function d(h){return null==h||isNaN(h=+h)?i:n[IV(e,h)]}return d.invertExtent=function(h){var m=n.indexOf(h);return m<0?[NaN,NaN]:[m>0?e[m-1]:t[0],m<e.length?e[m]:t[t.length-1]]},d.domain=function(h){if(!arguments.length)return t.slice();t=[];for(let m of h)null!=m&&!isNaN(m=+m)&&t.push(m);return t.sort(BA),a()},d.range=function(h){return arguments.length?(n=Array.from(h),a()):n.slice()},d.unknown=function(h){return arguments.length?(i=h,d):i},d.quantiles=function(){return e.slice()},d.copy=function(){return qV().domain(t).range(n).unknown(i)},mv.apply(d,arguments)}const sk=Math.PI,ak=2*sk,bh=1e-6,Ine=ak-bh;function lk(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function XV(){return new lk}lk.prototype=XV.prototype={constructor:lk,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(t,n,e,i,a,d){this._+="C"+ +t+","+ +n+","+ +e+","+ +i+","+(this._x1=+a)+","+(this._y1=+d)},arcTo:function(t,n,e,i,a){var d=this._x1,h=this._y1,m=(e=+e)-(t=+t),x=(i=+i)-(n=+n),R=d-t,L=h-n,W=R*R+L*L;if((a=+a)<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(W>bh)if(Math.abs(L*m-x*R)>bh&&a){var X=e-d,re=i-h,ge=m*m+x*x,be=X*X+re*re,ve=Math.sqrt(ge),De=Math.sqrt(W),Ee=a*Math.tan((sk-Math.acos((ge+W-be)/(2*ve*De)))/2),Me=Ee/De,He=Ee/ve;Math.abs(Me-1)>bh&&(this._+="L"+(t+Me*R)+","+(n+Me*L)),this._+="A"+a+","+a+",0,0,"+ +(L*X>R*re)+","+(this._x1=t+He*m)+","+(this._y1=n+He*x)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,e,i,a,d){t=+t,n=+n,d=!!d;var h=(e=+e)*Math.cos(i),m=e*Math.sin(i),x=t+h,R=n+m,L=1^d,W=d?i-a:a-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+x+","+R:(Math.abs(this._x1-x)>bh||Math.abs(this._y1-R)>bh)&&(this._+="L"+x+","+R),e&&(W<0&&(W=W%ak+ak),W>Ine?this._+="A"+e+","+e+",0,1,"+L+","+(t-h)+","+(n-m)+"A"+e+","+e+",0,1,"+L+","+(this._x1=x)+","+(this._y1=R):W>bh&&(this._+="A"+e+","+e+",0,"+ +(W>=sk)+","+L+","+(this._x1=t+e*Math.cos(a))+","+(this._y1=n+e*Math.sin(a))))},rect:function(t,n,e,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};const Mne=XV;function Wo(t){return function(){return t}}var QV=Math.abs,Co=Math.atan2,wh=Math.cos,Nne=Math.max,ck=Math.min,wl=Math.sin,Hf=Math.sqrt,us=1e-12,vv=Math.PI,Hw=vv/2,jw=2*vv;function Fne(t){return t>1?0:t<-1?vv:Math.acos(t)}function ZV(t){return t>=1?Hw:t<=-1?-Hw:Math.asin(t)}function Lne(t){return t.innerRadius}function Vne(t){return t.outerRadius}function Gne(t){return t.startAngle}function Bne(t){return t.endAngle}function Hne(t){return t&&t.padAngle}function jne(t,n,e,i,a,d,h,m){var x=e-t,R=i-n,L=h-a,W=m-d,X=W*x-L*R;if(!(X*X<us))return[t+(X=(L*(n-d)-W*(t-a))/X)*x,n+X*R]}function $w(t,n,e,i,a,d,h){var m=t-e,x=n-i,R=(h?d:-d)/Hf(m*m+x*x),L=R*x,W=-R*m,X=t+L,re=n+W,ge=e+L,be=i+W,ve=(X+ge)/2,De=(re+be)/2,Ee=ge-X,Me=be-re,He=Ee*Ee+Me*Me,Ye=a-d,et=X*be-ge*re,Dt=(Me<0?-1:1)*Hf(Nne(0,Ye*Ye*He-et*et)),Rt=(et*Me-Ee*Dt)/He,Qt=(-et*Ee-Me*Dt)/He,Wt=(et*Me+Ee*Dt)/He,Ct=(-et*Ee+Me*Dt)/He,It=Rt-ve,At=Qt-De,Cn=Wt-ve,ii=Ct-De;return It*It+At*At>Cn*Cn+ii*ii&&(Rt=Wt,Qt=Ct),{cx:Rt,cy:Qt,x01:-L,y01:-W,x11:Rt*(a/Ye-1),y11:Qt*(a/Ye-1)}}function uk(){var t=Lne,n=Vne,e=Wo(0),i=null,a=Gne,d=Bne,h=Hne,m=null;function x(){var R,L,W=+t.apply(this,arguments),X=+n.apply(this,arguments),re=a.apply(this,arguments)-Hw,ge=d.apply(this,arguments)-Hw,be=QV(ge-re),ve=ge>re;if(m||(m=R=Mne()),X<W&&(L=X,X=W,W=L),X>us)if(be>jw-us)m.moveTo(X*wh(re),X*wl(re)),m.arc(0,0,X,re,ge,!ve),W>us&&(m.moveTo(W*wh(ge),W*wl(ge)),m.arc(0,0,W,ge,re,ve));else{var It,At,De=re,Ee=ge,Me=re,He=ge,Ye=be,et=be,Dt=h.apply(this,arguments)/2,Rt=Dt>us&&(i?+i.apply(this,arguments):Hf(W*W+X*X)),Qt=ck(QV(X-W)/2,+e.apply(this,arguments)),Wt=Qt,Ct=Qt;if(Rt>us){var Cn=ZV(Rt/W*wl(Dt)),ii=ZV(Rt/X*wl(Dt));(Ye-=2*Cn)>us?(Me+=Cn*=ve?1:-1,He-=Cn):(Ye=0,Me=He=(re+ge)/2),(et-=2*ii)>us?(De+=ii*=ve?1:-1,Ee-=ii):(et=0,De=Ee=(re+ge)/2)}var pt=X*wh(De),_t=X*wl(De),Vt=W*wh(He),Lt=W*wl(He);if(Qt>us){var bn,_n=X*wh(Ee),Vn=X*wl(Ee),kn=W*wh(Me),er=W*wl(Me);if(be<vv&&(bn=jne(pt,_t,kn,er,_n,Vn,Vt,Lt))){var or=pt-bn[0],jr=_t-bn[1],Gn=_n-bn[0],$i=Vn-bn[1],Ot=1/wl(Fne((or*Gn+jr*$i)/(Hf(or*or+jr*jr)*Hf(Gn*Gn+$i*$i)))/2),sn=Hf(bn[0]*bn[0]+bn[1]*bn[1]);Wt=ck(Qt,(W-sn)/(Ot-1)),Ct=ck(Qt,(X-sn)/(Ot+1))}}et>us?Ct>us?(It=$w(kn,er,pt,_t,X,Ct,ve),At=$w(_n,Vn,Vt,Lt,X,Ct,ve),m.moveTo(It.cx+It.x01,It.cy+It.y01),Ct<Qt?m.arc(It.cx,It.cy,Ct,Co(It.y01,It.x01),Co(At.y01,At.x01),!ve):(m.arc(It.cx,It.cy,Ct,Co(It.y01,It.x01),Co(It.y11,It.x11),!ve),m.arc(0,0,X,Co(It.cy+It.y11,It.cx+It.x11),Co(At.cy+At.y11,At.cx+At.x11),!ve),m.arc(At.cx,At.cy,Ct,Co(At.y11,At.x11),Co(At.y01,At.x01),!ve))):(m.moveTo(pt,_t),m.arc(0,0,X,De,Ee,!ve)):m.moveTo(pt,_t),W>us&&Ye>us?Wt>us?(It=$w(Vt,Lt,_n,Vn,W,-Wt,ve),At=$w(pt,_t,kn,er,W,-Wt,ve),m.lineTo(It.cx+It.x01,It.cy+It.y01),Wt<Qt?m.arc(It.cx,It.cy,Wt,Co(It.y01,It.x01),Co(At.y01,At.x01),!ve):(m.arc(It.cx,It.cy,Wt,Co(It.y01,It.x01),Co(It.y11,It.x11),!ve),m.arc(0,0,W,Co(It.cy+It.y11,It.cx+It.x11),Co(At.cy+At.y11,At.cx+At.x11),ve),m.arc(At.cx,At.cy,Wt,Co(At.y11,At.x11),Co(At.y01,At.x01),!ve))):m.arc(0,0,W,He,Me,ve):m.lineTo(Vt,Lt)}else m.moveTo(0,0);if(m.closePath(),R)return m=null,R+""||null}return x.centroid=function(){var R=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,L=(+a.apply(this,arguments)+ +d.apply(this,arguments))/2-vv/2;return[wh(L)*R,wl(L)*R]},x.innerRadius=function(R){return arguments.length?(t="function"==typeof R?R:Wo(+R),x):t},x.outerRadius=function(R){return arguments.length?(n="function"==typeof R?R:Wo(+R),x):n},x.cornerRadius=function(R){return arguments.length?(e="function"==typeof R?R:Wo(+R),x):e},x.padRadius=function(R){return arguments.length?(i=null==R?null:"function"==typeof R?R:Wo(+R),x):i},x.startAngle=function(R){return arguments.length?(a="function"==typeof R?R:Wo(+R),x):a},x.endAngle=function(R){return arguments.length?(d="function"==typeof R?R:Wo(+R),x):d},x.padAngle=function(R){return arguments.length?(h="function"==typeof R?R:Wo(+R),x):h},x.context=function(R){return arguments.length?(m=null==R?null:R,x):m},x}function $ne(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Wne(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Une(t){return t}J(87);const Kne=["caretElm"];function qne(t,n){}const Xne=function(t){return{model:t}};function Qne(t,n){if(1&t&&(M(0,"span"),ie(1,qne,0,0,"ng-template",5),N()),2&t){const e=ae();V(1),U("ngTemplateOutlet",e.template)("ngTemplateOutletContext",sf(2,Xne,e.context))}}function Zne(t,n){1&t&&_e(0,"span",6),2&t&&U("innerHTML",ae().title,_p)}function Jne(t,n){if(1&t&&(M(0,"header",4)(1,"span",5),K(2),N()()),2&t){const e=ae();V(2),Gt(e.title)}}function eie(t,n){if(1&t){const e=Tt();M(0,"li",6)(1,"ngx-charts-legend-entry",7),Ve("select",function(a){return Xe(e),ae().labelClick.emit(a)})("activate",function(a){return Xe(e),ae().activate(a)})("deactivate",function(a){return Xe(e),ae().deactivate(a)}),N()()}if(2&t){const e=n.$implicit,i=ae();V(1),U("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",i.isActive(e))}}function tie(t,n){if(1&t&&(xi(),Zh(),_e(0,"ngx-charts-scale-legend",4)),2&t){const e=ae();U("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function nie(t,n){if(1&t){const e=Tt();xi(),Zh(),M(0,"ngx-charts-legend",5),Ve("labelClick",function(a){return Xe(e),ae().legendLabelClick.emit(a)})("labelActivate",function(a){return Xe(e),ae().legendLabelActivate.emit(a)})("labelDeactivate",function(a){return Xe(e),ae().legendLabelDeactivate.emit(a)}),N()}if(2&t){const e=ae();U("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const JV=["*"],bie=["ngx-charts-svg-radial-gradient",""];function wie(t,n){if(1&t&&(xi(),_e(0,"stop")),2&t){const e=n.$implicit;we("stop-color",e.color)("stop-opacity",e.opacity),kt("offset",e.offset+"%")}}const Vie=["tooltipTemplate"],yv=function(t,n){return[t,n]},_re=["ngx-charts-pie-label",""],wre=["ngx-charts-pie-arc",""];function xre(t,n){if(1&t&&(xi(),M(0,"defs"),_e(1,"g",3),N()),2&t){const e=ae();V(1),U("color",e.fill)("name",e.radialGradientId)("startOpacity",e.startOpacity)}}const Sre=["ngx-charts-pie-series",""];function Tre(t,n){if(1&t&&(xi(),_e(0,"g",3)),2&t){const e=ae().$implicit,i=ae();U("data",e)("radius",i.outerRadius)("color",i.color(e))("label",i.labelText(e))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",e.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function Ere(t,n){if(1&t){const e=Tt();xi(),M(0,"g"),ie(1,Tre,1,10,"g",1),M(2,"g",2),Ve("select",function(a){return Xe(e),ae().onClick(a)})("activate",function(a){return Xe(e),ae().activate.emit(a)})("deactivate",function(a){return Xe(e),ae().deactivate.emit(a)})("dblclick",function(a){return Xe(e),ae().dblclick.emit(a)}),N()()}if(2&t){const e=n.$implicit,i=ae();V(1),U("ngIf",i.labelVisible(e)),V(1),U("startAngle",e.startAngle)("endAngle",e.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(e))("value",e.data.value)("gradient",i.gradient)("data",e.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(e.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(e))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",e.data)}}function Nre(t,n,e){e=e||{};let i,a,d,h=null,m=0;function x(){m=!1===e.leading?0:+new Date,h=null,d=t.apply(i,a)}return function(){const R=+new Date;!m&&!1===e.leading&&(m=R);const L=n-(R-m);return i=this,a=arguments,L<=0?(clearTimeout(h),h=null,m=R,d=t.apply(i,a)):!h&&!1!==e.trailing&&(h=setTimeout(x,L)),d}}function Fre(t,n){return function(i,a,d){return{configurable:!0,enumerable:d.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:d.enumerable,value:Nre(d.value,t,n)}),this[a]}}}}var Hn=(()=>{return(t=Hn||(Hn={})).Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",Hn;var t})();function eG(t,n,e){return e===Hn.Top?t.top-7:e===Hn.Bottom?t.top+t.height-n.height+7:e===Hn.Center?t.top+t.height/2-n.height/2:void 0}function tG(t,n,e){return e===Hn.Left?t.left-7:e===Hn.Right?t.left+t.width-n.width+7:e===Hn.Center?t.left+t.width/2-n.width/2:void 0}class Ps{static calculateVerticalAlignment(n,e,i){let a=eG(n,e,i);return a+e.height>window.innerHeight&&(a=window.innerHeight-e.height),a}static calculateVerticalCaret(n,e,i,a){let d;a===Hn.Top&&(d=n.height/2-i.height/2+7),a===Hn.Bottom&&(d=e.height-n.height/2-i.height/2-7),a===Hn.Center&&(d=e.height/2-i.height/2);const h=eG(n,e,a);return h+e.height>window.innerHeight&&(d+=h+e.height-window.innerHeight),d}static calculateHorizontalAlignment(n,e,i){let a=tG(n,e,i);return a+e.width>window.innerWidth&&(a=window.innerWidth-e.width),a}static calculateHorizontalCaret(n,e,i,a){let d;a===Hn.Left&&(d=n.width/2-i.width/2+7),a===Hn.Right&&(d=e.width-n.width/2-i.width/2-7),a===Hn.Center&&(d=e.width/2-i.width/2);const h=tG(n,e,a);return h+e.width>window.innerWidth&&(d+=h+e.width-window.innerWidth),d}static shouldFlip(n,e,i,a){let d=!1;return i===Hn.Right&&n.left+n.width+e.width+a>window.innerWidth&&(d=!0),i===Hn.Left&&n.left-e.width-a<0&&(d=!0),i===Hn.Top&&n.top-e.height-a<0&&(d=!0),i===Hn.Bottom&&n.top+n.height+e.height+a>window.innerHeight&&(d=!0),d}static positionCaret(n,e,i,a,d){let h=0,m=0;return n===Hn.Right?(m=-7,h=Ps.calculateVerticalCaret(i,e,a,d)):n===Hn.Left?(m=e.width,h=Ps.calculateVerticalCaret(i,e,a,d)):n===Hn.Top?(h=e.height,m=Ps.calculateHorizontalCaret(i,e,a,d)):n===Hn.Bottom&&(h=-7,m=Ps.calculateHorizontalCaret(i,e,a,d)),{top:h,left:m}}static positionContent(n,e,i,a,d){let h=0,m=0;return n===Hn.Right?(m=i.left+i.width+a,h=Ps.calculateVerticalAlignment(i,e,d)):n===Hn.Left?(m=i.left-e.width-a,h=Ps.calculateVerticalAlignment(i,e,d)):n===Hn.Top?(h=i.top-e.height-a,m=Ps.calculateHorizontalAlignment(i,e,d)):n===Hn.Bottom&&(h=i.top+i.height+a,m=Ps.calculateHorizontalAlignment(i,e,d)),{top:h,left:m}}static determinePlacement(n,e,i,a){if(Ps.shouldFlip(i,e,n,a)){if(n===Hn.Right)return Hn.Left;if(n===Hn.Left)return Hn.Right;if(n===Hn.Top)return Hn.Bottom;if(n===Hn.Bottom)return Hn.Top}return n}}let Lre=(()=>{class t{constructor(e,i,a){this.element=e,this.renderer=i,this.platformId=a}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!df(this.platformId))return;const e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const a=e.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(e,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,a){const{top:d,left:h}=Ps.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${d}px`),this.renderer.setStyle(e,"left",`${h}px`)}positionCaret(e,i){const a=this.caretElm.nativeElement,d=a.getBoundingClientRect(),{top:h,left:m}=Ps.positionCaret(this.placement,i,e,d,this.alignment);this.renderer.setStyle(a,"top",`${h}px`),this.renderer.setStyle(a,"left",`${m}px`)}checkFlip(e,i){this.placement=Ps.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(Fo),Ce(ka))},t.\u0275cmp=zt({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(1&e&&ni(Kne,5),2&e){let a;qt(a=Xt())&&(i.caretElm=a.first)}},hostVars:2,hostBindings:function(e,i){1&e&&Ve("resize",function(){return i.onWindowResize()},!1,qy),2&e&&We(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){1&e&&(M(0,"div"),_e(1,"span",0,1),M(3,"div",2),ie(4,Qne,2,4,"span",3),ie(5,Zne,1,1,"span",4),N()()),2&e&&(V(1),dt("tooltip-caret position-",i.placement,""),U("hidden",!i.showCaret),V(3),U("ngIf",!i.title),V(1),U("ngIf",i.title))},directives:[Zn,uf],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function jt(t,n,e,i){var h,a=arguments.length,d=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(t,n,e,i);else for(var m=t.length-1;m>=0;m--)(h=t[m])&&(d=(a<3?h(d):a>3?h(n,e,d):h(n,e))||d);a>3&&d&&Object.defineProperty(n,e,d)}([Fre(100)],t.prototype,"onWindowResize",null),t})(),nG=(()=>{class t{constructor(e,i,a){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=a}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function Gre(t){return t.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(void 0!==i.inputs){const a=Object.getOwnPropertyNames(i.inputs);for(const d of a)e.instance[d]=i.inputs[d]}if(void 0!==i.outputs){const a=Object.getOwnPropertyNames(i.outputs);for(const d of a)e.instance[d]=i.outputs[d]}}return e}appendComponent(e,i={},a){a||(a=this.getRootViewContainer());const d=this.getComponentRootNode(a),h=new cQ(d,this.componentFactoryResolver,this.applicationRef,this.injector),m=new e2(e),x=h.attach(m);return this.projectComponentBindings(x,i),x}}return t.globalRootViewContainer=null,t.\u0275fac=function(e){return new(e||t)(Qe(Su),Qe(ul),Qe(Ri))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),dk=(()=>{class t extends class Vre{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,e){e=this.assignDefaults(e);const i=this.injectComponent(n,e);return this.register(n,i),i}destroy(n){const e=this.components.get(n.componentType);if(e&&e.length){const i=e.indexOf(n);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const e=this.components.get(n);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(n,e){return this.injectionService.appendComponent(n,e)}assignDefaults(n){const e=Object.assign({},this.defaults.inputs),i=Object.assign({},this.defaults.outputs);return!n.inputs&&!n.outputs&&(n={inputs:n}),e&&(n.inputs=Object.assign(Object.assign({},e),n.inputs)),i&&(n.outputs=Object.assign(Object.assign({},i),n.outputs)),n}register(n,e){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(e)}}{constructor(e){super(e),this.type=Lre}}return t.\u0275fac=function(e){return new(e||t)(Qe(nG))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();var vc=(()=>{return(t=vc||(vc={})).Right="right",t.Below="below",vc;var t})(),xh=(()=>{return(t=xh||(xh={})).ScaleLegend="scaleLegend",t.Legend="legend",xh;var t})(),dn=(()=>{return(t=dn||(dn={})).Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",dn;var t})();let iG=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(e){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(e,i){i.push(1);const a=[];return e.reverse().forEach((d,h)=>{a.push(`${d} ${Math.round(100*i[h])}%`)}),a.join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[$n],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1)(2,"span"),K(3),N()(),_e(4,"div",2),M(5,"div",1)(6,"span"),K(7),N()()()),2&e&&(we("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),xe("horizontal-legend",i.horizontal),V(3),Gt(i.valueRange[1].toLocaleString()),V(1),we("background",i.gradient),V(3),Gt(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),t})();function Cv(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}let rG=(()=>{class t{constructor(){this.isActive=!1,this.select=new Ae,this.activate=new Ae,this.deactivate=new Ae,this.toggle=new Ae}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,i){1&e&&Ve("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,i){1&e&&(M(0,"span",0),Ve("click",function(){return i.select.emit(i.formattedLabel)}),M(1,"span",1),Ve("click",function(){return i.toggle.emit(i.formattedLabel)}),N(),M(2,"span",2),K(3),N()()),2&e&&(xe("active",i.isActive),U("title",i.formattedLabel),V(1),we("background-color",i.color),V(2),it(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),oG=(()=>{class t{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new Ae,this.labelActivate=new Ae,this.labelDeactivate=new Ae,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const i of this.data){const a=Cv(i);-1===e.findIndex(h=>h.label===a)&&e.push({label:i,formattedLabel:a,color:this.colors.getColor(i)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>e.label===a.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,i){return i.label}}return t.\u0275fac=function(e){return new(e||t)(Ce(Fr))},t.\u0275cmp=zt({type:t,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[$n],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,i){1&e&&(M(0,"div"),ie(1,Jne,3,1,"header",0),M(2,"div",1)(3,"ul",2),ie(4,eie,2,4,"li",3),N()()()),2&e&&(we("width",i.width,"px"),V(1),U("ngIf",(null==i.title?null:i.title.length)>0),V(2),we("max-height",i.height-45,"px"),xe("horizontal-legend",i.horizontal),V(1),U("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},directives:[rG,Zn,_i],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),t})(),sG=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new Ae,this.legendLabelActivate=new Ae,this.legendLabelDeactivate=new Ae,this.LegendPosition=vc,this.LegendType=xh}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===vc.Right)&&(e=this.legendType===xh.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==vc.Right?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return this.legendOptions.scaleType===dn.Linear?xh.ScaleLegend:xh.Legend}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[si([dk]),$n],ngContentSelectors:JV,decls:5,vars:6,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,i){1&e&&(Ud(),M(0,"div",0),xi(),M(1,"svg",1),bu(2),N(),ie(3,tie,1,5,"ngx-charts-scale-legend",2),ie(4,nie,1,7,"ngx-charts-legend",3),N()),2&e&&(we("width",i.view[0],"px"),V(1),kt("width",i.chartWidth)("height",i.view[1]),V(2),U("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),V(1),U("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},directives:[iG,oG,Zn],encapsulation:2,changeDetection:0}),t})(),Bre=(()=>{class t{constructor(e,i){this.element=e,this.zone=i,this.visible=new Ae,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(Un))},t.\u0275dir=Et({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function aG(t){return"[object Date]"===toString.call(t)}let lG=(()=>{class t{constructor(e,i,a,d){this.chartElement=e,this.zone=i,this.cd=a,this.platformId=d,this.scheme="cool",this.schemeType=dn.Ordinal,this.animations=!0,this.select=new Ae}ngOnInit(){EE(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Bre(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i;const a=this.chartElement.nativeElement;if(df(this.platformId)&&null!==a.parentNode){const d=a.parentNode.getBoundingClientRect();e=d.width,i=d.height}return e&&i?{width:e,height:i}:null}formatDates(){for(let e=0;e<this.results.length;e++){const i=this.results[e];if(i.label=i.name,aG(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let a=0;a<i.series.length;a++){const d=i.series[a];d.label=d.name,aG(d.label)&&(d.label=d.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!df(this.platformId))return;const i=eo(window,"resize").pipe(function uQ(t,n=F_){return Re((e,i)=>{let a=null,d=null,h=null;const m=()=>{if(a){a.unsubscribe(),a=null;const R=d;d=null,i.next(R)}};function x(){const R=h+t,L=n.now();if(L<R)return a=this.schedule(void 0,R-L),void i.add(a);m()}e.subscribe(Nt(i,R=>{d=R,h=n.now(),a||(a=n.schedule(x,t),i.add(a))},()=>{m(),i.complete()},void 0,()=>{d=a=null}))})}(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(e){const i=[];for(const a of e){const d={name:a.name};if(void 0!==a.value&&(d.value=a.value),void 0!==a.series){d.series=[];for(const h of a.series){const m=Object.assign({},h);d.series.push(m)}}void 0!==a.extra&&(d.extra=JSON.parse(JSON.stringify(a.extra))),i.push(d)}return i}}return t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(Un),Ce(Fr),Ce(ka))},t.\u0275cmp=zt({type:t,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[$n],decls:1,vars:0,template:function(e,i){1&e&&_e(0,"div")},encapsulation:2}),t})();function cG(t,n=16){return"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=n?t:`${t.slice(0,n)}...`}var bv=(()=>{return(t=bv||(bv={})).Start="start",t.Middle="middle",t.End="end",bv;var t})();let uG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr]]}),t})();var Sh=(()=>{return(t=Sh||(Sh={})).popover="popover",t.tooltip="tooltip",Sh;var t})(),Fu=(()=>{return(t=Fu||(Fu={}))[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",Fu;var t})();let pk=(()=>{class t{constructor(e,i,a){this.tooltipService=e,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Hn.Top,this.tooltipAlignment=Hn.Center,this.tooltipType=Sh.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Fu.all,this.tooltipImmediateExit=!1,this.show=new Ae,this.hide=new Ae}get listensForFocus(){return this.tooltipShowEvent===Fu.all||this.tooltipShowEvent===Fu.focus}get listensForHover(){return this.tooltipShowEvent===Fu.all||this.tooltipShowEvent===Fu.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(e){return new(e||t)(Ce(dk),Ce(ho),Ce(Fo))},t.\u0275dir=Et({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){1&e&&Ve("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(d){return i.onMouseLeave(d.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),t})(),dG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({providers:[nG,dk],imports:[[Lr]]}),t})();const hG={};function wv(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,hG[t]?wv():(hG[t]=!0,t)}var Ha=(()=>{return(t=Ha||(Ha={})).Vertical="vertical",t.Horizontal="horizontal",Ha;var t})();let gk,gG=(()=>{class t{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(e){this.stopsInput=e}ngOnChanges(e){this.r="30%",("color"in e||"startOpacity"in e||"endOpacity"in e)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[$n],attrs:bie,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(xi(),M(0,"radialGradient",0),ie(1,wie,1,5,"stop",1),N()),2&e&&(U("id",i.name),kt("cx",i.cx)("cy",i.cy)("r",i.r),V(1),U("ngForOf",i.stops))},directives:[_i],encapsulation:2,changeDetection:0}),t})();"undefined"!=typeof window?gk=window:"undefined"!=typeof global&&(gk=global);let ca=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[Lr,uG,dG],Lr,uG,dG]}),t})(),yG=[{name:"vivid",selectable:!0,group:dn.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:dn.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:dn.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:dn.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:dn.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:dn.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:dn.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:dn.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:dn.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:dn.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:dn.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:dn.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:dn.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:dn.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:dn.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Yre{constructor(n,e,i,a){"string"==typeof n&&(n=yG.find(d=>d.name===n)),this.colorDomain=n.domain,this.scaleType=e,this.domain=i,this.customColors=a,this.scale=this.generateColorScheme(n,e,this.domain)}generateColorScheme(n,e,i){let a;switch("string"==typeof n&&(n=yG.find(d=>d.name===n)),e){case dn.Quantile:a=qV().range(n.domain).domain(i);break;case dn.Ordinal:a=rk().range(n.domain).domain(i);break;case dn.Linear:{const d=[...n.domain];1===d.length&&(d.push(d[0]),this.colorDomain=d);const h=zV(0,1,1/d.length);a=_v().range(d).domain(h)}}return a}getColor(n){if(null==n)throw new Error("Value can not be null");if(this.scaleType===dn.Linear){const e=_v().domain(this.domain).range([0,1]);return this.scale(e(n))}{if("function"==typeof this.customColors)return this.customColors(n);const e=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(n)}}getLinearGradientStops(n,e){void 0===e&&(e=this.domain[0]);const i=_v().domain(this.domain).range([0,1]),a=ok().domain(this.colorDomain).range([0,1]),d=this.getColor(n),h=i(e),m=this.getColor(e),x=i(n);let R=1,L=h;const W=[];for(W.push({color:m,offset:h,originalOffset:h,opacity:1});L<x&&R<this.colorDomain.length;){const X=this.colorDomain[R],re=a(X);if(re<=h)R++;else{if(re.toFixed(4)>=(x-a.bandwidth()).toFixed(4))break;W.push({color:X,offset:re,opacity:1}),L=re,R++}}if(W[W.length-1].offset<100&&W.push({color:d,offset:x,opacity:1}),x===h)W[0].offset=0,W[1].offset=100;else if(100!==W[W.length-1].offset)for(const X of W)X.offset=(X.offset-h)/(x-h)*100;return W}}let qre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),CG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),Xre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),Qre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),Zre=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),bG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),Jre=(()=>{class t{constructor(e){this.platformId=e,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=cG}ngOnChanges(e){this.setTransforms(),this.update()}setTransforms(){if(EE(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{const e=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=e?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=e?`translate(${this.textX},${this.textY})`:null,this.textTransition=e||!this.animations?null:"transform 0.75s"}}update(){let e=this.radius;this.explodeSlices&&(e=this.radius*this.value/this.max);const a=uk().innerRadius(e).outerRadius(e).centroid(this.data);let d=this.data.pos[1]/a[1];(0===this.data.pos[1]||0===a[1])&&(d=1),this.line=`M${a}L${[d*a[0],d*a[1]]}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?bv.Start:bv.End}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}}return t.\u0275fac=function(e){return new(e||t)(Ce(ka))},t.\u0275cmp=zt({type:t,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[$n],attrs:_re,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(e,i){1&e&&(M(0,"title"),K(1),N(),xi(),M(2,"g")(3,"text",0),K(4),N()(),_e(5,"path",1)),2&e&&(V(1),Gt(i.label),V(1),we("transform",i.styleTransform)("transition",i.textTransition),kt("transform",i.attrTransform),V(1),we("text-anchor",i.textAnchor())("shape-rendering","crispEdges"),xe("animation",i.animations),V(1),it(" ",i.labelTrim?i.trimLabel(i.label,i.labelTrimSize):i.label," "),V(1),xe("animation",i.animations),kt("d",i.line)("stroke",i.color))},encapsulation:2,changeDetection:0}),t})();Math;let eoe=(()=>{class t{constructor(e){this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new Ae,this.activate=new Ae,this.deactivate=new Ae,this.dblclick=new Ae,this.barOrientation=Ha,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){const e=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+wv().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=e.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let e=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(e=this.outerRadius*this.value/this.max),uk().innerRadius(this.innerRadius).outerRadius(e).cornerRadius(this.cornerRadius)}loadAnimation(){const e=Rs(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();e.transition().attrTween("d",function(a){this._current=this._current||a;const d=Object.assign({},a);d.endAngle=d.startAngle;const h=fh(d,d);return this._current=h(0),function(m){return i(h(m))}}).transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const d=fh(this._current,a);return this._current=d(0),function(h){return i(d(h))}})}updateAnimation(){const e=Rs(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();e.transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const d=fh(this._current,a);return this._current=d(0),function(h){return i(d(h))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:e})}}return t.\u0275fac=function(e){return new(e||t)(Ce(Bn))},t.\u0275cmp=zt({type:t,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[$n],attrs:wre,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(e,i){1&e&&(xi(),M(0,"g",0),ie(1,xre,2,3,"defs",1),M(2,"path",2),Ve("click",function(){return i.onClick()})("dblclick",function(d){return i.onDblClick(d)})("mouseenter",function(){return i.activate.emit(i.data)})("mouseleave",function(){return i.deactivate.emit(i.data)}),N()()),2&e&&(V(1),U("ngIf",i.gradient),V(1),we("pointer-events",i.getPointerEvents()),xe("active",i.isActive),kt("d",i.path)("fill",i.getGradient()))},directives:[gG,Zn],encapsulation:2,changeDetection:0}),t})(),toe=(()=>{class t{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new Ae,this.activate=new Ae,this.deactivate=new Ae,this.dblclick=new Ae,this.placementTypes=Hn,this.styleTypes=Sh}ngOnChanges(e){this.update()}update(){const i=function zne(){var t=Une,n=Wne,e=null,i=Wo(0),a=Wo(jw),d=Wo(0);function h(m){var x,L,W,De,He,R=(m=$ne(m)).length,X=0,re=new Array(R),ge=new Array(R),be=+i.apply(this,arguments),ve=Math.min(jw,Math.max(-jw,a.apply(this,arguments)-be)),Ee=Math.min(Math.abs(ve)/R,d.apply(this,arguments)),Me=Ee*(ve<0?-1:1);for(x=0;x<R;++x)(He=ge[re[x]=x]=+t(m[x],x,m))>0&&(X+=He);for(null!=n?re.sort(function(Ye,et){return n(ge[Ye],ge[et])}):null!=e&&re.sort(function(Ye,et){return e(m[Ye],m[et])}),x=0,W=X?(ve-R*Me)/X:0;x<R;++x,be=De)ge[L=re[x]]={data:m[L],index:x,value:He=ge[L],startAngle:be,endAngle:De=be+(He>0?He*W:0)+Me,padAngle:Ee};return ge}return h.value=function(m){return arguments.length?(t="function"==typeof m?m:Wo(+m),h):t},h.sortValues=function(m){return arguments.length?(n=m,e=null,h):n},h.sort=function(m){return arguments.length?(e=m,n=null,h):e},h.startAngle=function(m){return arguments.length?(i="function"==typeof m?m:Wo(+m),h):i},h.endAngle=function(m){return arguments.length?(a="function"==typeof m?m:Wo(+m),h):a},h.padAngle=function(m){return arguments.length?(d="function"==typeof m?m:Wo(+m),h):d},h}().value(a=>a.value).sort(null)(this.series);this.max=function Yne(t,n){let e;if(void 0===n)for(const i of t)null!=i&&(e<i||void 0===e&&i>=i)&&(e=i);else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(e<a||void 0===e&&a>=a)&&(e=a)}return e}(i,a=>a.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}outerArc(){return uk().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)}calculateLabelPositions(e){const d=e;d.forEach(h=>{h.pos=this.outerArc().centroid(h),h.pos[0]=1.5*this.outerRadius*(this.midAngle(h)<Math.PI?1:-1)});for(let h=0;h<d.length-1;h++){const m=d[h];if(this.labelVisible(m))for(let x=h+1;x<d.length;x++){const R=d[x];if(this.labelVisible(R)&&R.pos[0]*m.pos[0]>0){const L=10-Math.abs(R.pos[1]-m.pos[1]);L>0&&(R.pos[1]+=Math.sign(R.pos[0])*L)}}}return d}labelVisible(e){return this.showLabels&&e.endAngle-e.startAngle>Math.PI/30}getTooltipTitle(e){return this.tooltipTemplate?void 0:this.tooltipText(e)}labelText(e){return this.labelFormatting?this.labelFormatting(e.data.name):this.label(e)}label(e){return Cv(e.data.name)}defaultTooltipText(e){const i=this.label(e),a=Cv(e.data.value);return`\n      <span class="tooltip-label">${function hk(t){return t.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[n]))}(i)}</span>\n      <span class="tooltip-val">${a}</span>\n    `}color(e){return this.colors.getColor(this.label(e))}trackBy(e,i){return i.data.name}onClick(e){this.select.emit(e)}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>e.name===a.name&&e.series===a.series)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[$n],attrs:Sre,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate","dblclick"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(e,i){1&e&&ie(0,Ere,3,19,"g",0),2&e&&U("ngForOf",i.data)("ngForTrackBy",i.trackBy)},directives:[Jre,eoe,_i,Zn,pk],encapsulation:2,changeDetection:0}),t})(),noe=(()=>{class t extends lG{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=vc.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new Ae,this.select=new Ae,this.activate=new Ae,this.deactivate=new Ae}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=function zre({width:t,height:n,margins:e,showXAxis:i=!1,showYAxis:a=!1,xAxisHeight:d=0,yAxisWidth:h=0,showXLabel:m=!1,showYLabel:x=!1,showLegend:R=!1,legendType:L=dn.Ordinal,legendPosition:W=vc.Right,columns:X=12}){let re=e[3],ge=t,be=n-e[0]-e[2];return R&&W===vc.Right&&(X-=L===dn.Ordinal?2:1),ge=ge*X/12,ge=ge-e[1]-e[3],i&&(be-=5,be-=d,m&&(be-=30)),a&&(ge-=5,ge-=h,re+=h,re+=10,x&&(ge-=30,re+=30)),ge=Math.max(0,ge),be=Math.max(0,be),{width:Math.floor(ge),height:Math.floor(be),xOffset:Math.floor(re)}}({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates(),this.translation=`translate(${this.margins[3]+this.dims.width/2}, ${this.margins[0]+this.dims.height/2})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.outerRadius/=this.labels?3:2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((a,d)=>this.domain.indexOf(a.name)-this.domain.indexOf(d.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){this.colors=new Yre(this.scheme,dn.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:dn.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(e,i=!1){e=this.results.find(d=>i?d.label===e.name:d.name===e.name),!(this.activeEntries.findIndex(d=>d.name===e.name&&d.value===e.value&&d.series===e.series)>-1)&&(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,i=!1){e=this.results.find(d=>i?d.label===e.name:d.name===e.name);const a=this.activeEntries.findIndex(d=>d.name===e.name&&d.value===e.value&&d.series===e.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275cmp=zt({type:t,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(e,i,a){if(1&e&&Oi(a,Vie,5),2&e){let d;qt(d=Xt())&&(i.tooltipTemplate=d.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[On],decls:3,vars:24,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(e,i){1&e&&(M(0,"ngx-charts-chart",0),Ve("legendLabelActivate",function(d){return i.onActivate(d,!0)})("legendLabelDeactivate",function(d){return i.onDeactivate(d,!0)})("legendLabelClick",function(d){return i.onClick(d)}),xi(),M(1,"g",1)(2,"g",2),Ve("dblclick",function(d){return i.dblclick.emit(d)})("select",function(d){return i.onClick(d)})("activate",function(d){return i.onActivate(d)})("deactivate",function(d){return i.onDeactivate(d)}),N()()()),2&e&&(U("view",af(21,yv,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),V(1),kt("transform",i.translation),V(1),U("colors",i.colors)("series",i.data)("showLabels",i.labels)("labelFormatting",i.labelFormatting)("trimLabels",i.trimLabels)("maxLabelLength",i.maxLabelLength)("activeEntries",i.activeEntries)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("explodeSlices",i.explodeSlices)("gradient",i.gradient)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("tooltipText",i.tooltipText))},directives:[sG,toe],styles:[".ngx-charts-outer{-webkit-animation:chartFadeIn linear .6s;animation:chartFadeIn linear .6s}@-webkit-keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n",".pie-label{font-size:11px}.pie-label.animation{-webkit-animation:.75s ease-in fadeIn;animation:.75s ease-in fadeIn}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{-webkit-animation:3s linear drawOut;animation:3s linear drawOut;transition:d .75s}@-webkit-keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}\n"],encapsulation:2,changeDetection:0}),t})(),_k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),ooe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca,_k,bG]]}),t})(),aoe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),loe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca]]}),t})(),coe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[ca,_k,CG]]}),t})(),doe=(()=>{class t{constructor(){!function uoe(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[ca,qre,CG,Xre,Qre,Zre,bG,ooe,aoe,_k,loe,coe]}),t})();const hoe=["closebuttonCreate"],poe=["closebuttonUpdate"];function foe(t,n){if(1&t&&(M(0,"option",42),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function goe(t,n){if(1&t){const e=Tt();M(0,"div",38),_e(1,"em",39),M(2,"select",40),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,foe,2,4,"option",41),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function moe(t,n){1&t&&(M(0,"a",43),_e(1,"em",44),N()),2&t&&U("openDelay",300)}function _oe(t,n){if(1&t&&(M(0,"div",45),K(1),N()),2&t){const e=ae();V(1),Gt(e.messageError)}}function voe(t,n){if(1&t){const e=Tt();M(0,"a",59),Ve("click",function(){Xe(e);const a=ae(2).$implicit;return ae().startSprint(a)}),_e(1,"em",60),N()}2&t&&U("openDelay",300)}function yoe(t,n){if(1&t){const e=Tt();M(0,"a",61),Ve("click",function(){Xe(e);const a=ae(2).$implicit;return ae().closeSprint(a)}),_e(1,"em",62),N()}2&t&&U("openDelay",300)}function Coe(t,n){if(1&t){const e=Tt();M(0,"div"),ie(1,voe,2,1,"a",51),ie(2,yoe,2,1,"a",52),M(3,"a",53),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().loadEffortReport(a)}),_e(4,"em",54),N(),M(5,"a",55),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().fillUpdateForm(a)}),_e(6,"em",56),N(),M(7,"a",57),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().disableSprint(a)}),_e(8,"em",58),N()()}if(2&t){const e=ae().$implicit,i=ae();V(1),U("ngIf","future"==i.determineSprintTimeStatus(e)),V(1),U("ngIf","present"==i.determineSprintTimeStatus(e)),V(1),U("openDelay",300),V(2),U("openDelay",300),V(2),U("openDelay",300)}}function boe(t,n){if(1&t&&(M(0,"div")(1,"div",46)(2,"div",47)(3,"div",48)(4,"div",49),K(5),N(),ie(6,Coe,9,5,"div",37),N(),M(7,"div",50),K(8),N()()()()),2&t){const e=n.$implicit,i=ae();V(5),Li("#",e.number,": ",e.title,""),V(1),U("ngIf",i.adminAccess),V(2),Gt(e.description)}}function woe(t,n){if(1&t&&(M(0,"div",63),K(1),N()),2&t){const e=ae();V(1),it(" ",e.newSprintMessageError," ")}}function xoe(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Soe(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function Toe(t,n){if(1&t&&(M(0,"div",64),ie(1,xoe,2,0,"div",37),ie(2,Soe,2,0,"div",37),N()),2&t){const e=ae();let i,a;V(1),U("ngIf",null==(i=e.formNewSprint.get("title"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formNewSprint.get("title"))||null==a.errors?null:a.errors.maxlength)}}function Eoe(t,n){1&t&&(M(0,"div"),K(1,"Only 255 characters are allowed"),N())}function Doe(t,n){if(1&t&&(M(0,"div",64),ie(1,Eoe,2,0,"div",37),N()),2&t){const e=ae();let i;V(1),U("ngIf",null==(i=e.formNewSprint.get("description"))||null==i.errors?null:i.errors.maxlength)}}function Aoe(t,n){if(1&t&&(M(0,"div",63),K(1),N()),2&t){const e=ae();V(1),it(" ",e.updateSprintMessageError," ")}}function koe(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Roe(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function Ooe(t,n){if(1&t&&(M(0,"div",64),ie(1,koe,2,0,"div",37),ie(2,Roe,2,0,"div",37),N()),2&t){const e=ae();let i,a;V(1),U("ngIf",null==(i=e.formUpdateSprint.get("title"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateSprint.get("title"))||null==a.errors?null:a.errors.maxlength)}}function Poe(t,n){1&t&&(M(0,"div"),K(1,"Only 255 characters are allowed"),N())}function Ioe(t,n){if(1&t&&(M(0,"div",64),ie(1,Poe,2,0,"div",37),N()),2&t){const e=ae();let i;V(1),U("ngIf",null==(i=e.formUpdateSprint.get("description"))||null==i.errors?null:i.errors.maxlength)}}function Moe(t,n){if(1&t&&(M(0,"div",65)(1,"div",66),K(2,"General"),N(),M(3,"div",67),_e(4,"em",68),M(5,"div",69),K(6),N()(),M(7,"div",67),_e(8,"em",70),M(9,"div",69),K(10),N()()()),2&t){const e=ae();V(4),U("openDelay",300),V(2),it("Estimed time: ",e.timeToDoubleString(e.effortReport.totalEstimedTime),"h"),V(2),U("openDelay",300),V(2),it("Computed time: ",e.timeToDoubleString(e.effortReport.totalComputedTime),"h")}}function Noe(t,n){if(1&t&&(M(0,"div",76)(1,"div",48)(2,"div",77),K(3),N(),M(4,"div",48)(5,"div",78),_e(6,"em",79),M(7,"div",69),K(8),N()(),M(9,"div",78),_e(10,"em",80),M(11,"div",69),K(12),N()()()()()),2&t){const e=n.$implicit,i=ae(3);V(3),it("@",e.user.username,""),V(3),U("openDelay",300),V(2),it(" ",i.timeToDoubleString(e.computedEffort),"h "),V(2),U("openDelay",300),V(2),it(" ",e.percentageEffort.toFixed(3),"")}}function Foe(t,n){if(1&t&&(M(0,"div",76)(1,"div",48)(2,"div",77),K(3),N(),M(4,"div",48)(5,"div",78),_e(6,"em",82),M(7,"div",69),K(8),N()(),M(9,"div",78),_e(10,"em",79),M(11,"div",69),K(12),N()(),M(13,"div",78),_e(14,"em",80),M(15,"div",69),K(16),N()()()()()),2&t){const e=n.$implicit,i=ae(4);V(3),Li("#",e.kanbanTask.number,": ",e.kanbanTask.title,""),V(3),U("openDelay",300),V(2),it(" ",i.timeToDoubleString(e.estimedEffort),"h "),V(2),U("openDelay",300),V(2),it(" ",i.timeToDoubleString(e.computedEffort),"h "),V(2),U("openDelay",300),V(2),it(" ",e.percentageEffort.toFixed(3),"")}}const wG=function(){return[250,250]};function Loe(t,n){if(1&t&&(M(0,"div",72)(1,"div",66),K(2,"By task"),N(),M(3,"div",48),_e(4,"ngx-charts-pie-chart",73),M(5,"div",81),ie(6,Foe,17,8,"div",75),N()()()),2&t){const e=ae(3);V(4),U("view",ri(7,wG))("results",e.pieChartEffortsByTask)("gradient",!1)("legend",!1)("labels",!1)("doughnut",!1),V(2),U("ngForOf",e.effortReport.effortsByTask)}}function Voe(t,n){if(1&t&&(M(0,"div",72)(1,"div",66),K(2,"By user"),N(),M(3,"div",48),_e(4,"ngx-charts-pie-chart",73),M(5,"div",74),ie(6,Noe,13,5,"div",75),N()(),ie(7,Loe,7,8,"div",71),N()),2&t){const e=ae(2);V(4),U("view",ri(8,wG))("results",e.pieChartEffortsByUser)("gradient",!1)("legend",!1)("labels",!1)("doughnut",!1),V(2),U("ngForOf",e.effortReport.effortsByUser),V(1),U("ngIf",null!=e.effortReport&&null!=e.effortReport.effortsByTask&&0!=e.effortReport.effortsByTask.length)}}function Goe(t,n){if(1&t&&(M(0,"div"),ie(1,Voe,8,9,"div",71),N()),2&t){const e=ae();V(1),U("ngIf",null!=e.effortReport&&null!=e.effortReport.effortsByUser&&0!=e.effortReport.effortsByUser.length)}}let Boe=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x){super(i,a,d,h,m,x),this.effortReportService=e,this.newSprintContainError=!1,this.updateSprintContainError=!1,this.pieChartEffortsByTask=[],this.pieChartEffortsByUser=[],this.formNewSprint=m.group({title:["",[Jt.required]],description:["",[]],startDate:["",[]],estimatedDate:["",[]]}),this.formUpdateSprint=m.group({title:["",[Jt.required]],description:["",[]],startDate:["",[]],estimatedDate:["",[]]})}ngOnInit(){this.loadSprint=!0,this.loadMyProjects(),this.loadActualDate()}determineSprintTimeStatus(e){return null==e.startDate?"future":null!=e.closeDate?"past":"present"}fillUpdateForm(e){this.sprintSelectedId=e.id,this.formUpdateSprint=this.formBuilder.group({title:[e.title,[Jt.required]],description:[e.description,[]],startDate:[e.startDate,[]],estimatedDate:[e.estimatedDate,[]]})}createSprint(){let e=this.projectService.getStoredProjectId();if(null!=e&&0!=e){let i=new iQ(this.formNewSprint.value.title,this.formNewSprint.value.description,this.formNewSprint.value.startDate,this.formNewSprint.value.estimatedDate,e);this.sprintService.createSprint(i).subscribe(a=>{this.formNewSprint.reset(),this.closebuttonCreate.nativeElement.click(),this.loadSprintsBySelectedProject(),this.newSprintContainError=!1},a=>{this.returnNewError(a)})}else this.newSprintContainError=!0,this.newSprintMessageError="No project selected to create an Sprint"}returnNewError(e){let i=e.error.text;null==i&&(i="Error adding the user"),this.newSprintContainError=!0,this.newSprintMessageError=i}updateSprint(){let e=new rQ(this.sprintSelectedId,this.formUpdateSprint.value.title,this.formUpdateSprint.value.description,this.formUpdateSprint.value.startDate,this.formUpdateSprint.value.estimatedDate);this.sprintService.updateSprint(e).subscribe(i=>{this.formNewSprint.reset(),this.closebuttonUpdate.nativeElement.click(),this.loadSprintsBySelectedProject(),this.updateSprintContainError=!1},i=>{let a=i.error.text;null==a&&(a="Error adding the user"),this.updateSprintContainError=!0,this.updateSprintMessageError=a})}disableSprint(e){confirm("Are you sure to disable sprint #"+e.number+" "+e.title+"?")&&this.sprintService.disableSprint(e.id).subscribe(i=>{this.containError=!1,this.loadSprintsBySelectedProject()},i=>{this.returnPrincipalError(i)})}startSprint(e){confirm("Are you sure to start sprint #"+e.number+" "+e.title+"?")&&this.sprintService.startSprint(e.id).subscribe(i=>{this.containError=!1,this.loadSprintsBySelectedProject()},i=>{this.returnPrincipalError(i)})}closeSprint(e){confirm("Are you sure to close sprint #"+e.number+" "+e.title+"?")&&this.sprintService.closeSprint(e.id).subscribe(i=>{this.containError=!1,this.loadSprintsBySelectedProject()},i=>{this.returnPrincipalError(i)})}loadEffortReport(e){this.sprintSelected=e,this.effortReportService.getEffortReportBySprintId(e.id).subscribe(i=>{this.effortReport=i,this.containError=!1,this.loadPieChartEffortsByTask(),this.loadPieChartEffortsByUser()},i=>{this.returnPrincipalError(i)})}loadPieChartEffortsByTask(){this.pieChartEffortsByTask=[];for(let e of this.effortReport.effortsByTask)this.pieChartEffortsByTask.push({name:"#"+e.kanbanTask.number+": "+e.kanbanTask.title,value:e.percentageEffort})}loadPieChartEffortsByUser(){this.pieChartEffortsByUser=[];for(let e of this.effortReport.effortsByUser)this.pieChartEffortsByUser.push({name:"@"+e.user.username,value:e.percentageEffort})}}return t.\u0275fac=function(e){return new(e||t)(Ce(oQ),Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po))},t.\u0275cmp=zt({type:t,selectors:[["iMan-sprint"]],viewQuery:function(e,i){if(1&e&&(ni(hoe,5),ni(poe,5)),2&e){let a;qt(a=Xt())&&(i.closebuttonCreate=a.first),qt(a=Xt())&&(i.closebuttonUpdate=a.first)}},features:[On],decls:93,vars:46,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],["ngbTooltip","Create sprint","placement","left","data-bs-toggle","modal","data-bs-target","#createSprintModal",3,"openDelay",4,"ngIf"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],[1,"mt-3","overflow-auto","scrollable-content"],[4,"ngFor","ngForOf"],["id","createSprintModal","tabindex","-1","aria-labelledby","createSprintModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x"],[3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["type","text","name","title","formControlName","title","maxlength","30","placeholder",""],["class","invalid-feedback",4,"ngIf"],["type","text","name","description","formControlName","description","maxlength","255","placeholder",""],["type","date","name","startDate","formControlName","startDate","placeholder","",3,"min"],["type","date","name","estimatedDate","formControlName","estimatedDate","placeholder","",3,"min"],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebuttonCreate",""],["type","submit",1,"btn","btn-success",3,"disabled"],["id","updateSprintModal","tabindex","-1","aria-labelledby","updateSprintModalLabel","aria-hidden","true",1,"modal","fade"],["closebuttonUpdate",""],["id","effortReportModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","big-modal-content","bg-dark-5"],[1,"flex-grow-1","card-title","mt-2","text-break"],["class","mt-4",4,"ngIf"],[4,"ngIf"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Create sprint","placement","left","data-bs-toggle","modal","data-bs-target","#createSprintModal",3,"openDelay"],[1,"bi","bi-plus-lg"],[1,"alert","alert-danger","mt-3","mb-3"],[1,"card","card-list"],[1,"inside-card"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1","center","b-text","align-middle"],[1,"m-text","text-break"],["ngbTooltip","Start","placement","left",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Close","placement","left",3,"openDelay","click",4,"ngIf"],["ngbTooltip","Effort report","data-bs-toggle","modal","data-bs-target","#effortReportModal","placement","left",3,"openDelay","click"],[1,"bi","bi-clock-history","me-3"],["ngbTooltip","Edit","placement","left","data-bs-toggle","modal","data-bs-target","#updateSprintModal",3,"openDelay","click"],[1,"bi","bi-pencil-fill","me-3"],["ngbTooltip","Disable","placement","left",3,"openDelay","click"],[1,"bi","bi-trash-fill","me-3"],["ngbTooltip","Start","placement","left",3,"openDelay","click"],[1,"bi","bi-play-circle-fill","me-3"],["ngbTooltip","Close","placement","left",3,"openDelay","click"],[1,"bi","bi-square-fill","me-3"],[1,"alert","alert-danger","mt-5"],[1,"invalid-feedback"],[1,"mt-4"],[1,"fs-4"],[1,"d-flex","ms-4","my-3"],["ngbTooltip","Estimed effort","placement","right","data-bs-toggle","modal",1,"bi","bi-sm","bi-hourglass-top","me-2",3,"openDelay"],[1,"fs-6","ms-2","my-auto"],["ngbTooltip","Computed effort","placement","right","data-bs-toggle","modal",1,"bi","bi-sm","bi-hourglass-bottom","me-2",3,"openDelay"],["class","w-100 me-3 mt-4",4,"ngIf"],[1,"w-100","me-3","mt-4"],[1,"mx-4",3,"view","results","gradient","legend","labels","doughnut"],[1,"flex-grow-1","m-auto","me-3"],["class","card effort-report-card-list my-3 p-2",4,"ngFor","ngForOf"],[1,"card","effort-report-card-list","my-3","p-2"],[1,"flex-grow-1","fs-6","ms-2","my-auto"],[1,"d-flex","mx-3","card-list-field"],["ngbTooltip","Computed effort","placement","bottom","data-bs-toggle","modal",1,"bi","bi-sm","bi-hourglass-bottom","me-1",3,"openDelay"],["ngbTooltip","Percent of total computed effort","placement","bottom","data-bs-toggle","modal",1,"bi","bi-sm","bi-percent","me-1",3,"openDelay"],[1,"flex-grow-1","my-auto","me-3"],["ngbTooltip","Estimed effort","placement","bottom","data-bs-toggle","modal",1,"bi","bi-sm","bi-hourglass-top","me-1",3,"openDelay"]],template:function(e,i){if(1&e&&(M(0,"div",0)(1,"div",1),ie(2,goe,4,2,"div",2),N(),M(3,"div"),ie(4,moe,2,1,"a",3),N()(),_e(5,"hr",4),ie(6,_oe,2,1,"div",5),M(7,"div",6),ie(8,boe,9,4,"div",7),N(),M(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14),K(16,"New sprint"),N(),M(17,"div",15),_e(18,"em",16),N()(),M(19,"form",17),Ve("ngSubmit",function(){return i.createSprint()}),ie(20,woe,2,1,"div",18),M(21,"div",19)(22,"p",20),K(23,"Title *"),N(),_e(24,"input",21),ie(25,Toe,3,2,"div",22),N(),M(26,"div",19)(27,"p",20),K(28,"Description"),N(),_e(29,"input",23),ie(30,Doe,2,1,"div",22),N(),M(31,"div",19)(32,"p",20),K(33,"Start date"),N(),_e(34,"input",24),N(),M(35,"div",19)(36,"p",20),K(37,"Close estimated date"),N(),_e(38,"input",25),N(),M(39,"div",26)(40,"button",27,28),K(42,"Close"),N(),M(43,"button",29),K(44,"Create"),N()()()()()()()(),M(45,"div",30)(46,"div",9)(47,"div",10)(48,"div",11)(49,"div",12)(50,"div",13)(51,"div",14),K(52,"Update sprint"),N(),M(53,"div",15,31),_e(55,"em",16),N()(),M(56,"form",17),Ve("ngSubmit",function(){return i.updateSprint()}),ie(57,Aoe,2,1,"div",18),M(58,"div",19)(59,"p",20),K(60,"Title *"),N(),_e(61,"input",21),ie(62,Ooe,3,2,"div",22),N(),M(63,"div",19)(64,"p",20),K(65,"Description"),N(),_e(66,"input",23),ie(67,Ioe,2,1,"div",22),N(),M(68,"div",19)(69,"p",20),K(70,"Start date"),N(),_e(71,"input",24),N(),M(72,"div",19)(73,"p",20),K(74,"Close estimated date"),N(),_e(75,"input",25),N(),M(76,"div",26)(77,"button",27),K(78,"Close"),N(),M(79,"button",29),K(80,"Update"),N()()()()()()()(),M(81,"div",32)(82,"div",33)(83,"div",34)(84,"div",11)(85,"div",12)(86,"div",13)(87,"div",35),K(88),N(),M(89,"div",15),_e(90,"em",16),N()(),ie(91,Moe,11,4,"div",36),ie(92,Goe,2,1,"div",37),N()()()()()),2&e){let a,d,h,m;V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length),V(2),U("ngIf",i.adminAccess),V(2),U("ngIf",i.containError),V(2),U("ngForOf",i.mySprints),V(11),U("formGroup",i.formNewSprint),V(1),U("ngIf",i.newSprintContainError),V(4),dt("form-control ",i.inputClass(i.formNewSprint,"title"),""),V(1),U("ngIf",(null==(a=i.formNewSprint.get("title"))?null:a.touched)&&(null==(a=i.formNewSprint.get("title"))?null:a.invalid)),V(4),dt("form-control ",i.inputClass(i.formNewSprint,"description"),""),V(1),U("ngIf",(null==(d=i.formNewSprint.get("description"))?null:d.touched)&&(null==(d=i.formNewSprint.get("description"))?null:d.invalid)),V(4),dt("form-control ",i.inputClass(i.formNewSprint,"startDate"),""),qn("min",i.actualDate),V(4),dt("form-control ",i.inputClass(i.formNewSprint,"estimatedDate"),""),qn("min",i.actualDate),V(5),U("disabled",!i.formNewSprint.valid),V(13),U("formGroup",i.formUpdateSprint),V(1),U("ngIf",i.updateSprintContainError),V(4),dt("form-control ",i.inputClass(i.formUpdateSprint,"title"),""),V(1),U("ngIf",(null==(h=i.formUpdateSprint.get("title"))?null:h.touched)&&(null==(h=i.formUpdateSprint.get("title"))?null:h.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateSprint,"description"),""),V(1),U("ngIf",(null==(m=i.formUpdateSprint.get("description"))?null:m.touched)&&(null==(m=i.formUpdateSprint.get("description"))?null:m.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateSprint,"startDate"),""),qn("min",i.actualDate),V(4),dt("form-control ",i.inputClass(i.formUpdateSprint,"estimatedDate"),""),qn("min",i.actualDate),V(4),U("disabled",!i.formUpdateSprint.valid),V(9),Li(" Effort in: #",null==i.sprintSelected?null:i.sprintSelected.number," ",null==i.sprintSelected?null:i.sprintSelected.title,""),V(3),U("ngIf",null!=i.effortReport),V(1),U("ngIf",null!=i.effortReport&&null!=i.effortReport.effortsByTask)}},directives:[Zn,_o,_i,Zr,Jr,ss,os,mo,fo,rs,Bo,Ho,noe],styles:[".effort-report-card-list[_ngcontent-%COMP%]{background-color:var(--dark-pallete-2)!important;border-radius:8px!important}.card-list-field[_ngcontent-%COMP%]{width:75px}.pie-label[_ngcontent-%COMP%]{font-size:32px!important;fill:var(--dark-contrast-text)!important}"]}),t})();const Hoe=["closebuttonCreateEffort"],joe=["closebuttonUpdateEffort"];function $oe(t,n){if(1&t&&(M(0,"option",37),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function Woe(t,n){if(1&t){const e=Tt();M(0,"div",33),_e(1,"em",34),M(2,"select",35),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,$oe,2,4,"option",36),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function Uoe(t,n){if(1&t&&(M(0,"option",37),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.sprintSelectedId||null),V(1),Li(" #",e.number,": ",e.title,"")}}function zoe(t,n){if(1&t){const e=Tt();M(0,"div",33),_e(1,"em",38),M(2,"select",35),Ve("change",function(a){return Xe(e),ae().loadSprintByIdEvent(a.target)}),ie(3,Uoe,2,5,"option",36),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.mySprints)}}function Yoe(t,n){if(1&t&&(M(0,"option",37),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e.id),kt("selected",e.id==i.kanbanTaskSelectedId||null),V(1),Li(" #",e.number,": ",e.title,"")}}function Koe(t,n){if(1&t){const e=Tt();M(0,"div",33),_e(1,"em",39),M(2,"select",35),Ve("change",function(a){return Xe(e),ae().loadTasksByIdEvent(a.target)}),ie(3,Yoe,2,5,"option",36),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myTasks)}}function qoe(t,n){1&t&&_e(0,"em",40),2&t&&U("openDelay",300)}function Xoe(t,n){1&t&&_e(0,"em",41),2&t&&U("openDelay",300)}function Qoe(t,n){if(1&t){const e=Tt();M(0,"div",42)(1,"form",43)(2,"input",44),Ve("keydown.enter",function(){Xe(e);const a=ae();return null==a.activeEffort||null==a.activeEffort.kanbanTask&&!a.changedToDescription||null!=a.activeEffort.kanbanTask&&(a.changedToDescription||a.kanbanTaskSelectedId!=a.activeEffort.kanbanTask.id)?a.startEffort():a.endEffort()}),N()()()}if(2&t){const e=ae();V(1),U("formGroup",e.formNewEffort)}}function Zoe(t,n){if(1&t){const e=Tt();Tr(0),M(1,"a",48),Ve("click",function(){return Xe(e),ae(2).startEffort()}),_e(2,"em",49),N(),Hi()}2&t&&(V(1),U("openDelay",300))}function Joe(t,n){if(1&t){const e=Tt();M(0,"a",50),Ve("click",function(){return Xe(e),ae(2).endEffort()}),_e(1,"em",51),N()}2&t&&U("openDelay",300)}function ese(t,n){if(1&t&&(M(0,"div",45),ie(1,Zoe,3,1,"ng-container",46),ie(2,Joe,2,1,"ng-template",null,47,_r),N()),2&t){const e=qi(3),i=ae();V(1),U("ngIf",null==i.activeEffort||null==i.activeEffort.kanbanTask&&!i.changedToDescription||null!=i.activeEffort.kanbanTask&&(i.changedToDescription||i.kanbanTaskSelectedId!=i.activeEffort.kanbanTask.id))("ngIfElse",e)}}function tse(t,n){if(1&t&&(M(0,"div",52),K(1),N()),2&t){const e=ae();V(1),Gt(e.messageError)}}function nse(t,n){if(1&t&&(M(0,"div",33),_e(1,"em",34),M(2,"div",69),K(3),N()()),2&t){const e=ae(3).$implicit;V(1),U("openDelay",300),V(2),Gt(e.project.name)}}function ise(t,n){if(1&t&&(M(0,"div",33),_e(1,"em",38),M(2,"div",69),K(3),N()()),2&t){const e=ae(3).$implicit;V(1),U("openDelay",300),V(2),Li("#",e.sprint.number,": ",e.sprint.title,"")}}function rse(t,n){if(1&t&&(Tr(0),ie(1,nse,4,2,"div",2),ie(2,ise,4,3,"div",2),M(3,"div",33),_e(4,"em",39),M(5,"div",69),K(6),N()(),Hi()),2&t){const e=ae(2).$implicit;V(1),U("ngIf",null!=e.project),V(1),U("ngIf",null!=e.sprint),V(2),U("openDelay",300),V(2),Li("#",e.kanbanTask.number,": ",e.kanbanTask.title,"")}}function ose(t,n){if(1&t&&(M(0,"div",33),_e(1,"em",70),M(2,"div",71),K(3),N()()),2&t){const e=ae(2).$implicit;V(3),Gt(e.description)}}function sse(t,n){if(1&t&&(M(0,"div"),K(1),N()),2&t){const e=ae(2).$implicit,i=ae();V(1),it(" ",i.formatDate(e.startDate),"")}}function ase(t,n){if(1&t){const e=Tt();M(0,"div",54)(1,"div",55)(2,"div",56)(3,"div",57),ie(4,rse,7,5,"ng-container",46),ie(5,ose,4,1,"ng-template",null,58,_r),N()(),M(7,"div",59)(8,"div",60)(9,"div"),K(10),N(),ie(11,sse,2,1,"div",61),N(),M(12,"div",62),K(13,"-"),N(),M(14,"div",60)(15,"div"),K(16),N(),M(17,"div"),K(18),N()()(),M(19,"div",63)(20,"div",64),K(21),N(),M(22,"a",65),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().fillUpdateForm(a)}),_e(23,"em",66),N(),M(24,"a",67),Ve("click",function(){Xe(e);const a=ae().$implicit;return ae().deleteEffort(a.id)}),_e(25,"em",68),N()()()()}if(2&t){const e=qi(6),i=ae().$implicit,a=ae();V(4),U("ngIf",null!=i&&null!=i.kanbanTask)("ngIfElse",e),V(5),We(a.formatDate(i.startDate)!=a.formatDate(i.endDate)?"me-2":""),V(1),it(" ",a.formatTime(i.startDate),""),V(1),U("ngIf",a.formatDate(i.startDate)!=a.formatDate(i.endDate)),V(4),We(a.formatDate(i.startDate)!=a.formatDate(i.endDate)?"me-2":"me-3"),V(1),it(" ",a.formatTime(i.endDate),""),V(2),Gt(a.formatDate(i.endDate)),V(3),it(" ",a.getDifferenceFormatted(i.startDate,i.endDate)," "),V(1),U("openDelay",300),V(2),U("openDelay",300)}}function lse(t,n){if(1&t&&(M(0,"div"),ie(1,ase,26,15,"div",53),N()),2&t){const e=n.$implicit,i=ae();V(1),U("ngIf",null==i.activeEffort||null!=i.activeEffort&&e.id!=i.activeEffort.id)}}function cse(t,n){if(1&t&&(M(0,"div",72),K(1),N()),2&t){const e=ae();V(1),it(" ",e.updateEffortMessageError," ")}}function use(t,n){if(1&t&&(M(0,"div",25)(1,"p",26),K(2,"Description"),N(),_e(3,"input",73),N()),2&t){const e=ae();V(3),dt("form-control ",e.inputClass(e.formUpdateEffort,"description"),"")}}let dse=(()=>{class t extends Va{constructor(e,i,a,d,h,m){super(e,i,a,d,h,m),this.changedToDescription=!1,this.updateEffortContainError=!1,this.formNewEffort=h.group({description:["",[]]}),this.formUpdateEffort=h.group({description:["",[]],startDate:["",[Jt.required]],endDate:["",[]]})}ngOnInit(){this.loadEfforts=!0,this.loadActiveEffort(),this.loadTasks=!0,this.loadMyProjects()}loadActualDate(){let e=new Date;this.actualDate=this.getFormatedDateTimeLikeInput(e)}loadActiveEffort(){this.effortService.getActiveEffort().subscribe(e=>{this.containError=!1,this.activeEffort=e,null!=e&&(null!=e.project&&this.projectService.setStoredProjectId(e.project.id),null!=e.sprint&&this.sprintService.setStoredSprintId(e.sprint.id),null!=e.kanbanTask&&this.kanbanService.setStoredKanbanTaskId(e.kanbanTask.id)),this.loadDescriptionOrTaskEffort()},e=>{this.returnPrincipalError(e)})}loadDescriptionOrTaskEffort(){null!=this.activeEffort&&null==this.activeEffort.kanbanTask&&null!=this.activeEffort.description&&""!=this.activeEffort.description&&(this.changedToDescription=!0,this.formNewEffort=this.formBuilder.group({description:[this.activeEffort.description,[]]}))}startEffort(){let e,i=this.kanbanService.getStoredKanbanTaskId();e=this.changedToDescription||null==i?new rA(this.formNewEffort.value.description,0):new rA("",i),this.effortService.startEffort(e).subscribe(a=>{this.containError=!1,this.getEfforts()},a=>{this.returnPrincipalError(a)})}fillUpdateForm(e){this.effortSelected=e,this.loadActualDate(),this.formUpdateEffort=this.formBuilder.group({description:[e.description,[]],startDate:[this.getFormatedDateTimeLikeInput(e.startDate),[Jt.required]],endDate:[this.getFormatedDateTimeLikeInput(e.endDate),[Jt.required]]})}updateEffort(){if(null!=this.effortSelected&&null!=this.effortSelected){let i=new AY(this.effortSelected.id,this.formUpdateEffort.value.description,null==this.effortSelected.kanbanTask?0:this.effortSelected.kanbanTask.id,new Date(this.formUpdateEffort.value.startDate),new Date(this.formUpdateEffort.value.endDate));this.effortService.updateEffort(i).subscribe(a=>{this.effortSelected=void 0,this.formUpdateEffort.reset(),this.closebuttonUpdateEffort.nativeElement.click(),this.updateEffortContainError=!1,this.getEfforts()},a=>{let d=a.error.text;null==d&&(d="Error produced"),this.updateEffortMessageError=d,this.updateEffortContainError=!0})}}endEffort(){this.effortService.endEffort(this.activeEffort.id).subscribe(e=>{this.containError=!1,this.getEfforts()},e=>{this.returnPrincipalError(e)})}deleteEffort(e){confirm("Are you sure to delete this effort?")&&this.effortService.deleteEffort(e).subscribe(i=>{this.containError=!1,this.getEfforts()},i=>{this.returnPrincipalError(i)})}changeViewDescription(){this.changedToDescription=!this.changedToDescription}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po))},t.\u0275cmp=zt({type:t,selectors:[["iMan-effort"]],viewQuery:function(e,i){if(1&e&&(ni(Hoe,5),ni(joe,5)),2&e){let a;qt(a=Xt())&&(i.closebuttonCreateEffort=a.first),qt(a=Xt())&&(i.closebuttonUpdateEffort=a.first)}},features:[On],decls:43,vars:25,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","m-auto","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],[3,"click"],["class","bi bi-md bi-check2-square me-2","ngbTooltip","Asigned task","placement","left",3,"openDelay",4,"ngIf"],["class","bi bi-md bi-chat-left-text-fill me-2","ngbTooltip","Unnasigned task","placement","left",3,"openDelay",4,"ngIf"],["class","mx-3 m-auto w-100",4,"ngIf"],["class","mx-3 ms-auto",4,"ngIf"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],[1,"mt-3","overflow-auto","scrollable-content"],[4,"ngFor","ngForOf"],["id","updateEffortModal","tabindex","-1","aria-labelledby","updateEffortModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],["closebuttonUpdate",""],[1,"bi","bi-x"],[3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],["class","form-group mb-4 mt-3",4,"ngIf"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["type","datetime-local","name","startDate","formControlName","startDate","placeholder","",3,"max"],["type","datetime-local","name","endDate","formControlName","endDate","placeholder","",3,"min","max"],[1,"form-group","modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["closebuttonUpdateEffort",""],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Sprint","placement","bottom",1,"bi","bi-md","bi-arrow-repeat","me-2",3,"openDelay"],["ngbTooltip","Task","placement","bottom",1,"bi","bi-md","bi-check2-square","me-2",3,"openDelay"],["ngbTooltip","Asigned task","placement","left",1,"bi","bi-md","bi-check2-square","me-2",3,"openDelay"],["ngbTooltip","Unnasigned task","placement","left",1,"bi","bi-md","bi-chat-left-text-fill","me-2",3,"openDelay"],[1,"mx-3","m-auto","w-100"],[3,"formGroup"],["id","formDescription","type","text","name","description","formControlName","description","maxlength","255","placeholder","",1,"m-auto","w-100",3,"keydown.enter"],[1,"mx-3","ms-auto"],[4,"ngIf","ngIfElse"],["startedTask",""],["ngbTooltip","Start effort","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-play-circle-fill","me-2"],["ngbTooltip","Stop effort","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-square-fill","me-2"],[1,"alert","alert-danger","mt-3","mb-3"],["class","card card-list me-3",4,"ngIf"],[1,"card","card-list","me-3"],[1,"d-flex","m-3","flex-wrap"],[1,"flex-grow-1"],[1,"d-flex","flex-wrap"],["descriptionEffort",""],[1,"d-flex","ms-3","me-4","flex-wrap"],[1,"d-flex","my-auto"],[4,"ngIf"],[1,"my-auto","mx-2","b-text"],[1,"d-flex","ms-auto"],[1,"m-auto","m-text","me-3"],["ngbTooltip","Edit effort","placement","left","data-bs-toggle","modal","data-bs-target","#updateEffortModal",3,"openDelay","click"],[1,"bi","bi-md","bi-pencil-fill","me-2","m-auto"],["ngbTooltip","Delete effort","placement","left",3,"openDelay","click"],[1,"bi","bi-md","bi-trash-fill","me-2","m-auto"],[1,"m-auto"],[1,"bi","bi-md","bi-card-text"],[1,"m-auto","mx-3","text-break"],[1,"alert","alert-danger","mt-5"],["id","formDescription","type","text","name","description","formControlName","description","maxlength","255","placeholder",""]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1),ie(2,Woe,4,2,"div",2),ie(3,zoe,4,2,"div",2),ie(4,Koe,4,2,"div",2),M(5,"div")(6,"a",3),Ve("click",function(){return i.changeViewDescription()}),ie(7,qoe,1,1,"em",4),ie(8,Xoe,1,1,"em",5),N(),ie(9,Qoe,3,1,"div",6),N()(),ie(10,ese,4,2,"div",7),N(),_e(11,"hr",8),ie(12,tse,2,1,"div",9),M(13,"div",10),ie(14,lse,2,1,"div",11),N(),M(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18),K(22,"Update effort"),N(),M(23,"div",19,20),_e(25,"em",21),N()(),M(26,"form",22),Ve("ngSubmit",function(){return i.updateEffort()}),ie(27,cse,2,1,"div",23),ie(28,use,4,3,"div",24),M(29,"div",25)(30,"p",26),K(31,"Start date"),N(),_e(32,"input",27),N(),M(33,"div",25)(34,"p",26),K(35,"End date"),N(),_e(36,"input",28),N(),M(37,"div",29)(38,"button",30,31),K(40,"Close"),N(),M(41,"button",32),K(42,"Update"),N()()()()()()()()),2&e&&(V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length&&!i.changedToDescription),V(1),U("ngIf",i.mySprints&&0!=i.mySprints.length&&!i.changedToDescription),V(1),U("ngIf",i.myTasks&&0!=i.myTasks.length&&!i.changedToDescription),V(1),dt("d-flex mx-3 ",i.changedToDescription?"w-100":"",""),V(2),U("ngIf",i.changedToDescription),V(1),U("ngIf",!i.changedToDescription),V(1),U("ngIf",i.changedToDescription),V(1),U("ngIf",i.changedToDescription||null!=i.myTasks&&0!=i.myTasks.length),V(2),U("ngIf",i.containError),V(2),U("ngForOf",i.efforts),V(12),U("formGroup",i.formUpdateEffort),V(1),U("ngIf",i.updateEffortContainError),V(1),U("ngIf",null!=i.effortSelected&&null==i.effortSelected.kanbanTask),V(4),dt("form-control ",i.inputClass(i.formUpdateEffort,"startDate"),""),qn("max",i.actualDate),V(4),dt("form-control ",i.inputClass(i.formUpdateEffort,"endDate"),""),qn("min",i.getFormatedDateTimeLikeInput(i.formUpdateEffort.value.startDate)),qn("max",i.actualDate),V(5),U("disabled",!i.formUpdateEffort.valid))},directives:[Zn,_o,_i,Zr,Jr,ss,os,mo,fo,rs,Bo,Ho],styles:["#formDescription[_ngcontent-%COMP%]{background:none;border:none;border-bottom:2px solid var(--dark-pallete-text);border-radius:0;color:inherit}"]}),t})();class hse{constructor(n,e,i,a,d,h,m,x){this.username=n,this.name=e,this.lastName=i,this.email=a,this.country=d,this.sector=h,this.oldPassword=m,this.newPassword=x}}function pse(t,n){if(1&t&&(M(0,"div",27),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageError,"")}}function fse(t,n){1&t&&_e(0,"img",28),2&t&&qn("src",ae().getProfileImageUrl(),Ks)}function gse(t,n){1&t&&_e(0,"em",29)}function mse(t,n){if(1&t){const e=Tt();M(0,"em",30),Ve("click",function(){return Xe(e),ae().deleteProfileImage()}),N()}}function _se(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function vse(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function yse(t,n){1&t&&(M(0,"div"),K(1,"Only 20 characters are allowed"),N())}function Cse(t,n){if(1&t&&(M(0,"div",31),ie(1,_se,2,0,"div",32),ie(2,vse,2,0,"div",32),ie(3,yse,2,0,"div",32),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formUpdateProfile.get("name"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateProfile.get("name"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formUpdateProfile.get("name"))||null==d.errors?null:d.errors.maxlength)}}function bse(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function wse(t,n){1&t&&(M(0,"div"),K(1,"Must containt at least 2 characters"),N())}function xse(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function Sse(t,n){if(1&t&&(M(0,"div",31),ie(1,bse,2,0,"div",32),ie(2,wse,2,0,"div",32),ie(3,xse,2,0,"div",32),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formUpdateProfile.get("lastName"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateProfile.get("lastName"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formUpdateProfile.get("lastName"))||null==d.errors?null:d.errors.maxlength)}}function Tse(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Ese(t,n){1&t&&(M(0,"div"),K(1,"Must be email format"),N())}function Dse(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function Ase(t,n){if(1&t&&(M(0,"div",31),ie(1,Tse,2,0,"div",32),ie(2,Ese,2,0,"div",32),ie(3,Dse,2,0,"div",32),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formUpdateProfile.get("email"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateProfile.get("email"))||null==a.errors?null:a.errors.email),V(1),U("ngIf",null==(d=e.formUpdateProfile.get("email"))||null==d.errors?null:d.errors.maxlength)}}function kse(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Rse(t,n){1&t&&(M(0,"div"),K(1,"Must contain only lower case characters and numbers"),N())}function Ose(t,n){1&t&&(M(0,"div"),K(1,"Only 15 characters are allowed"),N())}function Pse(t,n){if(1&t&&(M(0,"div",31),ie(1,kse,2,0,"div",32),ie(2,Rse,2,0,"div",32),ie(3,Ose,2,0,"div",32),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formUpdateProfile.get("username"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateProfile.get("username"))||null==a.errors?null:a.errors.pattern),V(1),U("ngIf",null==(d=e.formUpdateProfile.get("username"))||null==d.errors?null:d.errors.maxlength)}}function Ise(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Mse(t,n){1&t&&(M(0,"div"),K(1,"Must contain upper and lower case letters, numbers and special characters"),N())}function Nse(t,n){1&t&&(M(0,"div"),K(1,"Must contain at least 8 characters"),N())}function Fse(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function Lse(t,n){if(1&t&&(M(0,"div",31),ie(1,Ise,2,0,"div",32),ie(2,Mse,2,0,"div",32),ie(3,Nse,2,0,"div",32),ie(4,Fse,2,0,"div",32),N()),2&t){const e=ae();let i,a,d,h;V(1),U("ngIf",null==(i=e.formUpdateProfile.get("oldPassword"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateProfile.get("oldPassword"))||null==a.errors?null:a.errors.pattern),V(1),U("ngIf",null==(d=e.formUpdateProfile.get("oldPassword"))||null==d.errors?null:d.errors.minlength),V(1),U("ngIf",null==(h=e.formUpdateProfile.get("oldPassword"))||null==h.errors?null:h.errors.maxlength)}}function Vse(t,n){1&t&&(M(0,"div"),K(1,"Must contain upper and lower case letters, numbers and special characters"),N())}function Gse(t,n){1&t&&(M(0,"div"),K(1,"Must contain at least 8 characters"),N())}function Bse(t,n){1&t&&(M(0,"div"),K(1,"Only 50 characters are allowed"),N())}function Hse(t,n){if(1&t&&(M(0,"div",31),ie(1,Vse,2,0,"div",32),ie(2,Gse,2,0,"div",32),ie(3,Bse,2,0,"div",32),N()),2&t){const e=ae();let i,a,d;V(1),U("ngIf",null==(i=e.formUpdateProfile.get("newPassword"))||null==i.errors?null:i.errors.pattern),V(1),U("ngIf",null==(a=e.formUpdateProfile.get("newPassword"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formUpdateProfile.get("newPassword"))||null==d.errors?null:d.errors.maxlength)}}function jse(t,n){if(1&t&&(M(0,"option",33),K(1),N()),2&t){const e=n.$implicit;U("ngValue",e),V(1),it(" ",e,"")}}function $se(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function Wse(t,n){if(1&t&&(M(0,"div",31),ie(1,$se,2,0,"div",32),N()),2&t){const e=ae();let i;V(1),U("ngIf",null==(i=e.formUpdateProfile.get("country"))||null==i.errors?null:i.errors.required)}}function Use(t,n){1&t&&(M(0,"div"),K(1,"Cannot be empty"),N())}function zse(t,n){1&t&&(M(0,"div"),K(1,"Only 20 characters are allowed"),N())}function Yse(t,n){if(1&t&&(M(0,"div",31),ie(1,Use,2,0,"div",32),ie(2,zse,2,0,"div",32),N()),2&t){const e=ae();let i,a;V(1),U("ngIf",null==(i=e.formUpdateProfile.get("sector"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formUpdateProfile.get("sector"))||null==a.errors?null:a.errors.maxlength)}}let Kse=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x,R){super(a,d,h,m,x,R),this.userService=e,this.countryService=i,this.containError=!1,this.countriesDictionary=this.countryService.getAllCountriesByISO3166(),this.countries=Object.values(this.countriesDictionary),this.formUpdateProfile=x.group({name:["",[Jt.required]],lastName:["",[Jt.required]],email:["",[Jt.required]],username:["",[Jt.required]],oldPassword:["",[Jt.required]],newPassword:["",[]],country:["",[Jt.required]],sector:["",[Jt.required]]})}ngOnInit(){this.loadMyProfile()}loadMyProfile(){this.userService.getMyProfile().subscribe(e=>{this.myProfile=e,this.formUpdateProfile=this.formBuilder.group({name:[this.myProfile.name,[Jt.required]],lastName:[this.myProfile.lastName,[Jt.required]],email:[this.myProfile.email,[Jt.required]],username:[this.myProfile.username,[Jt.required]],oldPassword:["",[Jt.required]],newPassword:["",[]],country:[this.countriesDictionary[this.myProfile.country],[Jt.required]],sector:[this.myProfile.sector,[Jt.required]]})},e=>{this.returnPrincipalError(e)})}editProfile(){if(confirm("Are you sure to modify your profile?")){let e=this.getKeyByValue(this.countriesDictionary,this.formUpdateProfile.value.country),i=new hse(this.formUpdateProfile.value.username,this.formUpdateProfile.value.name,this.formUpdateProfile.value.lastName,this.formUpdateProfile.value.email,null==e?"":e,this.formUpdateProfile.value.sector,this.formUpdateProfile.value.oldPassword,this.formUpdateProfile.value.newPassword);this.userService.updateProfile(i).subscribe(a=>{this.containError=!1,this.loadMyProfile()},a=>{this.returnPrincipalError(a)})}}getProfileImageUrl(){return this.userService.imageUrl}uploadProfileImage(e){let i=e.files[0];i&&i.size>4e6?this.returnPrincipalError("Profile image can't be bigger than 4MB"):"image/jpeg"!=(null==i?void 0:i.type)&&"image/jpg"!=(null==i?void 0:i.type)&&"image/png"!=(null==i?void 0:i.type)?this.returnPrincipalError("Profile image must be jpeg, jpg or png"):this.userService.uploadUserImageProfile(i).subscribe(a=>{this.userService.reloadProfileImage()},a=>{this.returnPrincipalError(a)})}deleteProfileImage(){confirm("Are you sure to change your profile image?")&&this.userService.deleteUserImageProfile().subscribe(e=>{this.userService.reloadProfileImage()},e=>{this.returnPrincipalError(e)})}}return t.\u0275fac=function(e){return new(e||t)(Ce(pc),Ce(zN),Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po))},t.\u0275cmp=zt({type:t,selectors:[["iMan-user"]],features:[On],decls:58,vars:39,consts:[[1,"m-4","overflow-auto","scrollable-content",3,"formGroup","ngSubmit"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"container","mt-3"],[1,"row"],[1,"col-lg-3","align-self-top","mb-4","me-auto"],["id","image-block",1,"mx-auto"],["class","profile-image my-2 size-xl mx-auto d-block","alt","Profile image","onclick","$('#userPhotoInput').trigger('click');",3,"src",4,"ngIf"],["class","bi bi-person-circle size-xl mx-auto d-block","style","font-size: 30px;","onclick","$('#userPhotoInput').trigger('click');",4,"ngIf"],["class","bi bi-trash-fill delete-image red-btn",3,"click",4,"ngIf"],["hidden","","type","file","accept","image/*","id","userPhotoInput","accept",".jpg, .jpeg, .png, .gif",3,"change"],["imageInput",""],[1,"col-lg-9"],[1,"form-group","mb-4","me-3"],[1,"mb-0"],["type","text","name","name","formControlName","name","maxlength","20","minlength","2","placeholder","John"],["class","invalid-feedback",4,"ngIf"],["type","text","name","lastName","formControlName","lastName","maxlength","50","placeholder","Doe"],["type","text","name","email","formControlName","email","maxlength","50","email","","placeholder","johndoe@example.com"],["type","text","name","username","formControlName","username","maxlength","15","placeholder","johndoe","pattern","^[a-z0-9]+$"],["type","password","name","oldPassword","formControlName","oldPassword","minlength","8","maxlength","50","placeholder","oldPassword","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,50}$","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7"],["type","password","name","newPassword","formControlName","newPassword","minlength","8","maxlength","50","placeholder","newPassword","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[#$@!%&*?])[A-Za-z\\d#$@!%&*?]{8,50}$","placeholder","\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7"],["formControlName","country"],["value","","disabled","",1,"dark-text"],["class","dark-text",3,"ngValue",4,"ngFor","ngForOf"],["type","text","name","sector","formControlName","sector","maxlength","20","placeholder","Industry"],[1,"form-group","modal-footer"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger","mt-5"],["alt","Profile image","onclick","$('#userPhotoInput').trigger('click');",1,"profile-image","my-2","size-xl","mx-auto","d-block",3,"src"],["onclick","$('#userPhotoInput').trigger('click');",1,"bi","bi-person-circle","size-xl","mx-auto","d-block",2,"font-size","30px"],[1,"bi","bi-trash-fill","delete-image","red-btn",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],[1,"dark-text",3,"ngValue"]],template:function(e,i){if(1&e){const a=Tt();M(0,"form",0),Ve("ngSubmit",function(){return i.editProfile()}),ie(1,pse,2,1,"div",1),M(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),ie(6,fse,1,1,"img",6),ie(7,gse,1,0,"em",7),ie(8,mse,1,0,"em",8),M(9,"input",9,10),Ve("change",function(){Xe(a);const h=qi(10);return i.uploadProfileImage(h)}),N()()(),M(11,"div",11)(12,"div",12)(13,"p",13),K(14,"First name"),N(),_e(15,"input",14),ie(16,Cse,4,3,"div",15),N(),M(17,"div",12)(18,"p",13),K(19,"Last name"),N(),_e(20,"input",16),ie(21,Sse,4,3,"div",15),N(),M(22,"div",12)(23,"p",13),K(24,"Email"),N(),_e(25,"input",17),ie(26,Ase,4,3,"div",15),N(),M(27,"div",12)(28,"p",13),K(29,"Username"),N(),_e(30,"input",18),ie(31,Pse,4,3,"div",15),N(),M(32,"div",12)(33,"p",13),K(34,"Old password"),N(),_e(35,"input",19),ie(36,Lse,5,4,"div",15),N(),M(37,"div",12)(38,"p",13),K(39,"New password (only if you want)"),N(),_e(40,"input",20),ie(41,Hse,4,3,"div",15),N(),M(42,"div",12)(43,"p",13),K(44,"Country"),N(),M(45,"select",21)(46,"option",22),K(47,"Country"),N(),ie(48,jse,2,2,"option",23),N(),ie(49,Wse,2,1,"div",15),N(),M(50,"div",12)(51,"p",13),K(52,"Sector"),N(),_e(53,"input",24),ie(54,Yse,3,2,"div",15),N()()()(),M(55,"div",25)(56,"button",26),K(57,"Edit"),N()()()}if(2&e){let a,d,h,m,x,R,L,W;U("formGroup",i.formUpdateProfile),V(1),U("ngIf",i.containError),V(5),U("ngIf",null!=i.getProfileImageUrl()&&""!=i.getProfileImageUrl()),V(1),U("ngIf",null==i.getProfileImageUrl()||""==i.getProfileImageUrl()),V(1),U("ngIf",null!=i.getProfileImageUrl()&&""!=i.getProfileImageUrl()),V(7),dt("form-control ",i.inputClass(i.formUpdateProfile,"name"),""),V(1),U("ngIf",(null==(a=i.formUpdateProfile.get("name"))?null:a.touched)&&(null==(a=i.formUpdateProfile.get("name"))?null:a.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateProfile,"lastName"),""),V(1),U("ngIf",(null==(d=i.formUpdateProfile.get("lastName"))?null:d.touched)&&(null==(d=i.formUpdateProfile.get("lastName"))?null:d.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateProfile,"email"),""),V(1),U("ngIf",(null==(h=i.formUpdateProfile.get("email"))?null:h.touched)&&(null==(h=i.formUpdateProfile.get("email"))?null:h.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateProfile,"username"),""),V(1),U("ngIf",(null==(m=i.formUpdateProfile.get("username"))?null:m.touched)&&(null==(m=i.formUpdateProfile.get("username"))?null:m.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateProfile,"oldPassword"),""),V(1),U("ngIf",(null==(x=i.formUpdateProfile.get("oldPassword"))?null:x.touched)&&(null==(x=i.formUpdateProfile.get("oldPassword"))?null:x.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateProfile,"newPassword"),""),V(1),U("ngIf",(null==(R=i.formUpdateProfile.get("newPassword"))?null:R.touched)&&(null==(R=i.formUpdateProfile.get("oldPassword"))?null:R.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateProfile,"country"),""),V(3),U("ngForOf",i.countries),V(1),U("ngIf",(null==(L=i.formUpdateProfile.get("country"))?null:L.touched)&&(null==(L=i.formUpdateProfile.get("country"))?null:L.invalid)),V(4),dt("form-control ",i.inputClass(i.formUpdateProfile,"sector"),""),V(1),U("ngIf",(null==(W=i.formUpdateProfile.get("sector"))?null:W.touched)&&(null==(W=i.formUpdateProfile.get("sector"))?null:W.invalid)),V(2),U("disabled",!i.formUpdateProfile.valid)}},directives:[ss,os,mo,Zn,fo,rs,Bo,Ho,ia,Wb,Ub,gl,Zr,Jr,_i],styles:[".form-control[_ngcontent-%COMP%]{background:none;border:none;border-bottom:2px solid var(--dark-pallete-text);-webkit-box-shadow:0 0 0 30px var(--dark-pallete-1) inset!important;color:var(--dark-pallete-1)}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 60px - var(--navbar-size))!important}select[_ngcontent-%COMP%]{height:40px!important}.size-xl[_ngcontent-%COMP%]{cursor:pointer!important}em.size-xl[_ngcontent-%COMP%]{font-size:200px!important}img.size-xl[_ngcontent-%COMP%]{height:200px!important;width:200px!important}.delete-image[_ngcontent-%COMP%]{position:relative;font-size:35px!important;right:-166px;top:-66px}#image-block[_ngcontent-%COMP%]{max-width:200px}"]}),t})();var yc=J(190);class qse{constructor(n,e,i,a){this.id=n,this.source=e,this.target=i,this.type=a}}let Xse=(()=>{class t{getGanttTask(e){return{id:e.id,text:e.title,start_date:this.getGanttDate(e.dueStartDate),duration:this.getDifferenceInDays(e.dueStartDate,e.dueEndDate),progress:e.computedTime<=e.estimatedTime?e.computedTime/e.estimatedTime*100:e.estimatedTime/e.computedTime*100,color:e.computedTime<=e.estimatedTime?"rgb(25,135,84)":"rgb(220,53,69)"}}getGanttTasks(e){return e.map(i=>this.getGanttTask(i)).filter(i=>i)}getGanttDate(e){let i=new Tu("en-US");return e?i.transform(e,"dd-MM-yyyy")||"":i.transform(new Date,"dd-MM-yyyy")||""}getDifferenceInDays(e,i){return e&&i?Math.abs(new Date(i).getTime()-new Date(e).getTime())/864e5:31}getGanttLinks(e){let i=[];return e.forEach(a=>a.children.forEach(d=>i.push(new qse(i.length,a.id,d.id,"0")))),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Qse=["gantt_here"],Zse=["openTaskModal"];function Jse(t,n){if(1&t&&(M(0,"option",15),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function eae(t,n){if(1&t){const e=Tt();M(0,"div",11),_e(1,"em",12),M(2,"select",13),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,Jse,2,4,"option",14),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function tae(t,n){if(1&t&&(M(0,"option",15),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.sprintSelectedId||null),V(1),Li(" #",e.number,": ",e.title,"")}}function nae(t,n){if(1&t){const e=Tt();M(0,"div",11),_e(1,"em",16),M(2,"select",13),Ve("change",function(a){return Xe(e),ae().loadSprintByIdEvent(a.target)}),ie(3,tae,2,5,"option",14),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.mySprints)}}function iae(t,n){if(1&t){const e=Tt();M(0,"a",17),Ve("click",function(){return Xe(e),ae().addTask()}),_e(1,"em",18),N()}2&t&&U("openDelay",300)}let rae=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x){super(e,i,a,d,h,m),this.ganttService=x,this.selectedKanbanColumnId=0}ngAfterViewInit(){this.loadTasks=!0,this.loadKanban=!0,this.loadMyProjects(),this.loadGantt()}loadGantt(){yc.gantt.init(this.ganttContainer.nativeElement),yc.gantt.config.sort=!0,yc.gantt.config.columns=[{name:"text",label:"Task name",width:"*",resize:!0},{name:"start_date",label:"Start",align:"center",resize:!0},{name:"end_date",label:"Finish",width:80,align:"center",resize:!0},{name:"duration",label:"Days",align:"center",resize:!0}],yc.gantt.attachEvent("onBeforeTaskUpdate",(e,i)=>{let a=this.getTaskById(e);if(null!=a){let d=new aw(a.id,a.title,a.description,a.estimatedTime,a.tags,a.importance,i.start_date,i.end_date,a.assignedUsers.map(h=>h.username),a.children.map(h=>h.id));this.kanbanService.updateKanbanTask(d).subscribe(h=>{console.log("Task with id "+e.toString()+" have been updated")},h=>{this.returnPrincipalError(h)})}},""),yc.gantt.attachEvent("onAfterLinkAdd",(e,i)=>{let a=this.getTaskById(i.source);if(null!=a){let d=a.children.map(m=>m.id);d.push(i.target);let h=new aw(a.id,a.title,a.description,a.estimatedTime,a.tags,a.importance,a.dueStartDate,a.dueEndDate,a.assignedUsers.map(m=>m.username),d);this.kanbanService.updateKanbanTask(h).subscribe(m=>{console.log("Link with source task id "+i.source.toString()+" and target task id "+i.target.toString()+" created")},m=>{this.returnPrincipalError(m)})}},""),yc.gantt.attachEvent("onAfterLinkDelete",(e,i)=>{let a=this.getTaskById(i.source);if(null!=a){let d=a.children.map(x=>x.id),h=d.indexOf(i.target);d.splice(h,1);let m=new aw(a.id,a.title,a.description,a.estimatedTime,a.tags,a.importance,a.dueStartDate,a.dueEndDate,a.assignedUsers.map(x=>x.username),d);this.kanbanService.updateKanbanTask(m).subscribe(x=>{console.log("Link with source task id "+i.source.toString()+" and target task id "+i.target.toString()+" deleted")},x=>{this.returnPrincipalError(x)})}},""),yc.gantt.attachEvent("onTaskDblClick",(e,i)=>{this.selectedTask=this.getTaskById(e),this.openTaskModal.nativeElement.click()},"")}addTask(){this.selectedTask=void 0,this.kanban&&0!=this.kanban.length&&(this.selectedKanbanColumnId=this.kanban[0].id),this.openTaskModal.nativeElement.click()}getTaskById(e){return this.myTasks.find(i=>i.id==e)}loadAfterTask(){let e=this.ganttService.getGanttTasks(this.myTasks),i=this.ganttService.getGanttLinks(this.myTasks);yc.gantt.parse({data:e,links:i}),yc.gantt.refreshData()}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po),Ce(Xse))},t.\u0275cmp=zt({type:t,selectors:[["iMan-gantt"]],viewQuery:function(e,i){if(1&e&&(ni(Qse,5),ni(Zse,5)),2&e){let a;qt(a=Xt())&&(i.ganttContainer=a.first),qt(a=Xt())&&(i.openTaskModal=a.first)}},features:[On],decls:12,vars:9,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add task","placement","left","data-bs-toggle","modal",3,"openDelay","click",4,"ngIf"],[2,"height","2px"],[1,"gantt-chart"],["gantt_here",""],["hidden","","type","button","data-bs-target","#taskModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openTaskModal",""],[3,"isEditable","selectedTask","selectedKanbanColumnId","usersInProject","isEditing","myTasks"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Sprint","placement","bottom",1,"bi","bi-md","bi-arrow-repeat","me-2",3,"openDelay"],["ngbTooltip","Add task","placement","left","data-bs-toggle","modal",3,"openDelay","click"],[1,"bi","bi-plus-lg"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1),ie(2,eae,4,2,"div",2),ie(3,nae,4,2,"div",2),N(),M(4,"div",3),ie(5,iae,2,1,"a",4),N()(),_e(6,"hr",5)(7,"div",6,7)(9,"button",8,9)(11,"task-modal-view",10)),2&e&&(V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length),V(1),U("ngIf",i.mySprints&&0!=i.mySprints.length),V(2),U("ngIf",i.adminAccess),V(6),U("isEditable",i.memberAccess)("selectedTask",i.selectedTask)("selectedKanbanColumnId",i.selectedKanbanColumnId)("usersInProject",i.usersInProject)("isEditing",!1)("myTasks",i.myTasks))},directives:[Zn,_o,_i,Zr,Jr,ZL],styles:['.gridHoverStyle,.gridSelection,.timelineSelection{background-color:#fff3a1}.gantt_grid_scale .gantt_grid_head_cell{color:#a6a6a6;border-top:none!important;border-right:none!important}.gantt_grid_data .gantt_cell{border-right:none;color:#454545}.gantt_task_link .gantt_link_arrow_right{border-width:6px;margin-top:-3px}.gantt_task_link .gantt_link_arrow_left{border-width:6px;margin-left:-6px;margin-top:-3px}.gantt_task_link .gantt_link_arrow_down,.gantt_task_link .gantt_link_arrow_up{border-width:6px}.gantt_task_line .gantt_task_progress_drag{bottom:-4px;height:10px;margin-left:-8px;width:16px}.chartHeaderBg{background-color:#fff}.gantt_task .gantt_task_scale .gantt_scale_cell{color:#a6a6a6;border-right:1px solid #ebebeb}.gantt_row.gantt_project,.gantt_row.odd.gantt_project{background-color:#edffef}.gantt_task_row.gantt_project,.gantt_task_row.odd.gantt_project{background-color:#f5fff6}.gantt_task_line.gantt_project{background-color:#65c16f;border:1px solid #3c9445}.gantt_task_line.gantt_project .gantt_task_progress{background-color:#46ad51}.buttonBg{background:#fff}.gantt_cal_light .gantt_btn_set{margin:5px 10px}.gantt_btn_set.gantt_cancel_btn_set{background:#fff;color:#454545;border:1px solid #cecece}.gantt_btn_set.gantt_save_btn_set{background:#3db9d3;text-shadow:0 -1px 0 #248a9f;color:#fff}.gantt_btn_set.gantt_delete_btn_set{text-shadow:0 -1px 0 #6f6f6f;background:#ec8e00;text-shadow:0 -1px 0 #a60;color:#fff}.gantt_cal_light_wide{padding-left:0!important;padding-right:0!important}.gantt_cal_light_wide .gantt_cal_larea{border-left:none!important;border-right:none!important}.gantt_popup_button.gantt_ok_button{background:#3db9d3;text-shadow:0 -1px 0 #248a9f;color:#fff;font-weight:700;border-width:0}.gantt_popup_button.gantt_cancel_button{font-weight:700;color:#454544}.gantt_popup_title{background-color:#fff}.gantt_popup_shadow{box-shadow:3px 3px 3px #00000012}.gantt_qi_big_icon.icon_edit{color:#454545;background:#fff}.gantt_qi_big_icon.icon_delete{text-shadow:0 -1px 0 #a60;background:#ec8e00;color:#fff;border-width:0}.gantt_tooltip{box-shadow:3px 3px 3px #00000012;border-left:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);font-size:8pt;color:#454545}.gantt_container,.gantt_tooltip{background-color:#fff;font-family:Arial}.gantt_container{font-size:13px;border:1px solid #cecece;position:relative;white-space:nowrap;overflow-x:hidden;overflow-y:hidden}.gantt_touch_active{overscroll-behavior:none}.gantt_task_scroll{overflow-x:scroll}.gantt_grid,.gantt_task{position:relative;overflow-x:hidden;overflow-y:hidden;display:inline-block;vertical-align:top}.gantt_grid_scale,.gantt_task_scale{color:#6b6b6b;font-size:12px;border-bottom:1px solid #cecece;box-sizing:border-box}.gantt_grid_scale,.gantt_task_scale,.gantt_task_vscroll{background-color:#fff}.gantt_scale_line{box-sizing:border-box;-moz-box-sizing:border-box;border-top:1px solid #cecece}.gantt_scale_line:first-child{border-top:none}.gantt_grid_head_cell{display:inline-block;vertical-align:top;border-right:1px solid #cecece;text-align:center;position:relative;cursor:default;height:100%;box-sizing:border-box;-moz-box-sizing:border-box;line-height:33px;-webkit-user-select:none;user-select:none;overflow:hidden}.gantt_scale_line{clear:both}.gantt_grid_data{width:100%;overflow:hidden;position:relative}.gantt_row{position:relative;-webkit-user-select:none;-moz-user-select:none;-moz-user-select:-moz-none}.gantt_add,.gantt_grid_head_add{width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTQ3MjMyMENDNkI0MTFFMjk4MTI5QTg3MDhFNDVDQTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTQ3MjMyMERDNkI0MTFFMjk4MTI5QTg3MDhFNDVDQTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NDcyMzIwQUM2QjQxMUUyOTgxMjlBODcwOEU0NUNBOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1NDcyMzIwQkM2QjQxMUUyOTgxMjlBODcwOEU0NUNBOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PshZT8UAAABbSURBVHjaYrTdeZmBEsCER+4wEP+H4sPkGGCDg020ARR7gb4GIAcYDKMDdPnDyAbYkGG5DVW9cIQMvUdBBAuUY4vDz8iAcZinA2zgCHqAYQMseAywJcYFAAEGAM+UFGuohFczAAAAAElFTkSuQmCC);background-position:50%;background-repeat:no-repeat;cursor:pointer;position:relative;-moz-opacity:.3;opacity:.3}.gantt_grid_head_cell.gantt_grid_head_add{-moz-opacity:.6;opacity:.6;top:0}.gantt_grid_head_cell.gantt_grid_head_add:hover{-moz-opacity:1;opacity:1}.gantt_grid_data .gantt_row.odd:hover,.gantt_grid_data .gantt_row:hover{background-color:#fff3a1}.gantt_grid_data .gantt_row.odd:hover .gantt_add,.gantt_grid_data .gantt_row:hover .gantt_add{-moz-opacity:1;opacity:1}.gantt_row,.gantt_task_row{border-bottom:1px solid #ebebeb;background-color:#fff}.gantt_row.odd,.gantt_task_row.odd{background-color:#fff}.gantt_cell,.gantt_grid_head_cell,.gantt_row,.gantt_scale_cell,.gantt_task_cell,.gantt_task_row{box-sizing:border-box;-moz-box-sizing:border-box}.gantt_grid_head_cell,.gantt_scale_cell{line-height:inherit}.gantt_grid_scale .gantt_grid_column_resize_wrap{cursor:col-resize;position:absolute;width:13px;margin-left:-7px}.gantt_grid_column_resize_wrap .gantt_grid_column_resize{background-color:#cecece;height:100%;width:1px;margin:0 auto}.gantt_task_grid_row_resize_wrap{cursor:row-resize;position:absolute;height:13px;margin-top:-7px;left:0;width:100%}.gantt_task_grid_row_resize_wrap .gantt_task_grid_row_resize{background-color:#ebebeb;top:6px;height:1px;width:100%;margin:0 auto;position:relative}.gantt_drag_marker.gantt_grid_resize_area,.gantt_drag_marker.gantt_row_grid_resize_area{background-color:#e8e8e880;height:100%;width:100%;box-sizing:border-box}.gantt_drag_marker.gantt_grid_resize_area{border-left:1px solid #cecece;border-right:1px solid #cecece}.gantt_drag_marker.gantt_row_grid_resize_area{border-top:1px solid #cecece;border-bottom:1px solid #cecece;pointer-events:none}.gantt_row{display:flex}.gantt_row>div{flex-shrink:0;flex-grow:0}.gantt_cell{vertical-align:top;border-right:1px solid #ebebeb;padding-left:6px;padding-right:6px;height:100%;overflow:hidden;white-space:nowrap;font-size:13px}.gantt_cell_tree{display:flex;flex-wrap:nowrap}.gantt_grid_data .gantt_last_cell,.gantt_grid_scale .gantt_last_cell,.gantt_task .gantt_task_scale .gantt_scale_cell.gantt_last_cell,.gantt_task_bg .gantt_last_cell{border-right-width:0}.gantt_task .gantt_task_scale .gantt_scale_cell.gantt_last_cell{border-right-width:1px}.gantt_task_bg{overflow:hidden}.gantt_scale_cell{display:inline-block;white-space:nowrap;overflow:hidden;border-right:1px solid #cecece;text-align:center;height:100%}.gantt_task_cell{display:inline-block;height:100%;border-right:1px solid #ebebeb}.gantt_layout_cell.gantt_ver_scroll{width:0;background-color:transparent;height:1px;overflow-x:hidden;overflow-y:scroll;position:absolute;right:0;z-index:1}.gantt_ver_scroll>div{width:1px;height:1px}.gantt_hor_scroll{height:0;background-color:transparent;width:100%;clear:both;overflow-x:scroll;overflow-y:hidden}.gantt_layout_cell .gantt_hor_scroll{position:absolute}.gantt_hor_scroll>div{width:5000px;height:1px}.gantt_tree_icon,.gantt_tree_indent{flex-grow:0;flex-shrink:0}.gantt_tree_indent{width:15px;height:100%}.gantt_tree_content,.gantt_tree_icon{vertical-align:top}.gantt_tree_icon{width:28px;height:100%;background-repeat:no-repeat;background-position:50%}.gantt_tree_content{height:100%;white-space:nowrap;min-width:0}.gantt_tree_icon.gantt_open{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAArklEQVQ4T2NkoBJgpJI5DEPAoFOnTv0/c+YMQR+bmJgwmJmZwX2E4bVp06b9j4yMZODg4MBp2I8fPxiWL1/OkJWVNUAGcXJyMnz//h3uQrJdRLFBIAPQAchlJLsIFuCMjIwM////B5sJMoRkg2CuIdtrQcHBDOxsbHBfCQgIMHz48AHO//nrF8O6tWsJR7+7uzsDIxMTznT0/98/hp07d+I3iGopm2DewKFg8OV+AJWkfRMrTobLAAAAAElFTkSuQmCC);width:18px;cursor:pointer}.gantt_tree_icon.gantt_close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAkUlEQVQ4T2NkoBJgpJI5DEPAoFOnTv0/c+YMQR+bmJgwmJmZwX2E4bVp06b9j4yMZODg4MBp2I8fPxiWL1/OkJWVNeIN4uTkxAin79+/M5AcRtgCHGQIyQbhijaiDQoKDmZgZ2PDGf0/f/1iWLd2LeHod3d3Z2BkYsJp0P9//xh27tyJ3yCqpWyCeQOHgsGX+wEZpW4T5LCxKwAAAABJRU5ErkJggg==);width:18px;cursor:pointer}.gantt_tree_icon.gantt_blank{width:18px}.gantt_tree_icon.gantt_folder_open{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAs0lEQVQ4T62T0Q2EIBBEpQlzuaaMsQoqooqLsSljbMLLmMxmUXBR4U+Qt7Mzi2sqLVeJ00SgEMKWAnvvzYLyAyHfT5sU2fXDJSwCAXK8MI0/UTkva7IIFJsg3NSwnKdFoKtAWOQ1CN7CEqeTotE5L7QyJhmBcklZM4ZgTiAr3iOU3kD93ppO5SkMjB1EeXdBWoSkRql3YeIRe+cGvktS056JR9wsmeBUkujCfNXWCPC8GugPqn5ii/hV+FoAAAAASUVORK5CYII=)}.gantt_tree_icon.gantt_folder_closed{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAfElEQVQ4T2NkoBJgpJI5DCgGTZ8+/T82gzMzMwlaCFcAM0RKQgyrI/0Dg/EahmIQyBB0DRvXr4W78tmLV1gtAbmYoEEgnciG4QpTogzCFyEwSyg2CBS2oCAZNQh3cA+hMAJ5AlcKxuVBlOgnNgVjMwyUrQjmamKLGaoZBAAOTFyLnFFW4wAAAABJRU5ErkJggg==)}.gantt_tree_icon.gantt_file{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAeElEQVQ4T2NkoBJgRDZn+vTp/wmZm5mZiaIHph7DICkJMUJmMfgHBmMYhtUgbAo3rl+L4lp0NUQbBPI2umuRDaPIIFAYwAyjv0HoMQALM5JdhG4QLMxGDcKdyIdoGIE89OzFK4KZF5Rl8EY/QROQFGA1iBQD0NUCAJVjcxO0naAQAAAAAElFTkSuQmCC)}.gantt_grid_head_cell .gantt_sort{position:absolute;right:5px;top:8px;width:7px;height:13px;background-repeat:no-repeat;background-position:50%}.gantt_grid_head_cell .gantt_sort.gantt_asc{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAANCAYAAABlyXS1AAAARUlEQVR4nGNgQAKGxib/GbABkIS7b8B/DAUwCRiGK0CXwFBAb1DfP/U/LszwHwi2X7qFgUEArBtdAVwCBmAKMCSQFSDzAWXXaOHsXeqkAAAAAElFTkSuQmCC)}.gantt_grid_head_cell .gantt_sort.gantt_desc{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAANCAYAAABlyXS1AAAARUlEQVR42mNgQAL1/VP/M2ADIIntF2/9x1AAlrh0C47hCmA60DFYwX88gIFGwNDY5D8uDFbg7hvwHx2jmIBTAlkB0e4BAEjlaNtBWJPnAAAAAElFTkSuQmCC)}.gantt_inserted,.gantt_updated{font-weight:700}.gantt_deleted{text-decoration:line-through}.gantt_invalid{background-color:#ffe0e0}.gantt_error{color:red}.gantt_status{right:1px;padding:5px 10px;background:hsla(0,0%,61%,.1);position:absolute;top:1px;transition:opacity .2s;opacity:0}.gantt_status.gantt_status_visible{opacity:1}#gantt_ajax_dots span{transition:opacity .2s;background-repeat:no-repeat;opacity:0}#gantt_ajax_dots span.gantt_dot_visible{opacity:1}.gantt_column_drag_marker{border:1px solid #cecece;opacity:.8}.gantt_grid_head_cell_dragged{border:1px solid #cecece;opacity:.3}.gantt_grid_target_marker{position:absolute;top:0;width:2px;height:100%;background-color:#ffa011;transform:translate(-1px)}.gantt_grid_target_marker:after,.gantt_grid_target_marker:before{display:block;content:"";position:absolute;left:-5px;width:0;height:0;border:6px solid transparent}.gantt_grid_target_marker:before{border-top-color:#ffa011}.gantt_grid_target_marker:after{bottom:0;border-bottom-color:#ffa011}.gantt_message_area{position:fixed;right:5px;width:250px;z-index:1000}.gantt-info{min-width:120px;padding:4px 4px 4px 20px;font-family:Arial;z-index:10000;margin:5px 5px 10px;transition:all .5s ease}.gantt-info.hidden{height:0;padding:0;border-width:0;margin:0;overflow:hidden}.gantt_modal_box{overflow:hidden;display:inline-block;min-width:250px;width:250px;text-align:center;position:fixed;z-index:20000;box-shadow:3px 3px 3px #00000012;font-family:Arial;border-radius:6px;border:1px solid #cecece;background:#fff}.gantt_popup_title{border-top-left-radius:6px;border-top-right-radius:6px;border-width:0}.gantt_button,.gantt_popup_button{border:1px solid #cecece;height:30px;line-height:30px;display:inline-block;margin:0 5px;border-radius:4px;background:#fff}.gantt-info,.gantt_button,.gantt_popup_button{user-select:none;-webkit-user-select:none;-moz-user-select:-moz-none;cursor:pointer}.gantt_popup_text{overflow:hidden}.gantt_popup_controls{border-radius:6px;padding:10px}.gantt_popup_button{min-width:100px}div.dhx_modal_cover{background-color:#000;cursor:default;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=20);opacity:.2;position:fixed;z-index:19999;left:0;top:0;width:100%;height:100%;border:none;zoom:1}.gantt-info img,.gantt_modal_box img{float:left;margin-right:20px}.gantt-alert-error,.gantt-confirm-error{border:1px solid red}.gantt_button input,.gantt_popup_button div{border-radius:4px;font-size:14px;box-sizing:content-box;padding:0;margin:0;vertical-align:top}.gantt_popup_title{border-bottom:1px solid #cecece;height:40px;line-height:40px;font-size:20px}.gantt_popup_text{margin:15px 15px 5px;font-size:14px;color:#000;min-height:30px;border-radius:6px}.gantt-error,.gantt-info{font-size:14px;color:#000;box-shadow:3px 3px 3px #00000012;padding:0;background-color:#fff;border-radius:3px;border:1px solid #fff}.gantt-info div{padding:5px 10px;background-color:#fff;border-radius:3px;border:1px solid #cecece}.gantt-error{background-color:#d81b1b;border:1px solid #ff3c3c}.gantt-error div{background-color:#d81b1b;border:1px solid #940000;color:#fff}.gantt-warning{background-color:#ff9000;border:1px solid #ffa633}.gantt-warning div{background-color:#ff9000;border:1px solid #b36500;color:#fff}.gantt_data_area div,.gantt_grid div{-ms-touch-action:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.gantt_data_area{position:relative;overflow-x:hidden;overflow-y:hidden;-webkit-user-select:none;user-select:none}.gantt_links_area{position:absolute;left:0;top:0}.gantt_side_content,.gantt_task_content,.gantt_task_progress{line-height:inherit;overflow:hidden;height:100%}.gantt_task_content{font-size:12px;color:#fff;width:100%;top:0;cursor:pointer;position:absolute;white-space:nowrap;text-align:center}.gantt_task_progress{text-align:center;z-index:0;background:#299cb4}.gantt_task_progress_wrapper{border-radius:inherit;position:relative;width:100%;height:100%;overflow:hidden}.gantt_task_line{border-radius:2px;position:absolute;box-sizing:border-box;background-color:#3db9d3;border:1px solid #2898b0;-webkit-user-select:none;-moz-user-select:none;-moz-user-select:-moz-none}.gantt_task_line.gantt_drag_move div{cursor:move}.gantt_touch_move,.gantt_touch_progress .gantt_touch_resize{transform:scale(1.02,1.1);transform-origin:50%}.gantt_touch_progress .gantt_task_progress_drag,.gantt_touch_resize .gantt_task_drag{transform:scaleY(1.3);transform-origin:50%}.gantt_side_content{position:absolute;white-space:nowrap;color:#6e6e6e;top:0;font-size:11px}.gantt_side_content.gantt_left{right:100%;padding-right:20px}.gantt_side_content.gantt_right{left:100%;padding-left:20px}.gantt_side_content.gantt_link_crossing{bottom:8.75px;top:auto}.gantt_link_arrow,.gantt_task_link .gantt_line_wrapper{position:absolute;cursor:pointer}.gantt_line_wrapper div{background-color:#ffa011}.gantt_task_link:hover .gantt_line_wrapper div{box-shadow:0 0 5px #ffa011}.gantt_task_link div.gantt_link_arrow{background-color:transparent;border-style:solid;width:0;height:0}.gantt_link_control{position:absolute;width:20px;top:0}.gantt_link_control div{display:none;cursor:pointer;box-sizing:border-box;position:relative;top:50%;margin-top:-7.5px;vertical-align:middle;border:1px solid #929292;border-radius:6.5px;height:13px;width:13px;background-color:#f0f0f0}.gantt_link_control.task_right div.gantt_link_point{margin-left:7px}.gantt_link_control div:hover{background-color:#fff}.gantt_link_control.task_left{left:-20px}.gantt_link_control.task_right{right:-20px}.gantt_link_target .gantt_link_control div,.gantt_task_line.gantt_drag_move .gantt_link_control div,.gantt_task_line.gantt_drag_move .gantt_task_drag,.gantt_task_line.gantt_drag_move .gantt_task_progress_drag,.gantt_task_line.gantt_drag_progress .gantt_link_control div,.gantt_task_line.gantt_drag_progress .gantt_task_drag,.gantt_task_line.gantt_drag_progress .gantt_task_progress_drag,.gantt_task_line.gantt_drag_resize .gantt_link_control div,.gantt_task_line.gantt_drag_resize .gantt_task_drag,.gantt_task_line.gantt_drag_resize .gantt_task_progress_drag,.gantt_task_line.gantt_selected .gantt_link_control div,.gantt_task_line.gantt_selected .gantt_task_drag,.gantt_task_line.gantt_selected .gantt_task_progress_drag,.gantt_task_line:hover .gantt_link_control div,.gantt_task_line:hover .gantt_task_drag,.gantt_task_line:hover .gantt_task_progress_drag{display:block}.gantt_link_source,.gantt_link_target{box-shadow:0 0 3px #3db9d3}.gantt_link_target.link_finish_allow,.gantt_link_target.link_start_allow{box-shadow:0 0 3px #ffbf5e}.gantt_link_target.link_finish_deny,.gantt_link_target.link_start_deny{box-shadow:0 0 3px #e87e7b}.link_finish_allow .gantt_link_control.task_end_date div,.link_start_allow .gantt_link_control.task_start_date div{background-color:#ffbf5e;border-color:#ffa011}.link_finish_deny .gantt_link_control.task_end_date div,.link_start_deny .gantt_link_control.task_start_date div{background-color:#e87e7b;border-color:#dd3e3a}.gantt_link_arrow_right{border-width:4px 0 4px 6px;border-top-color:transparent!important;border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:#ffa011}.gantt_link_arrow_left{border-width:4px 6px 4px 0;margin-top:-1px;border-top-color:transparent!important;border-right-color:#ffa011;border-bottom-color:transparent!important;border-left-color:transparent!important}.gantt_link_arrow_up{border-width:0 4px 6px;border-color:transparent transparent #ffa011;border-top-color:transparent!important;border-right-color:transparent!important;border-bottom-color:#ffa011;border-left-color:transparent!important}.gantt_link_arrow_down{border-width:4px 6px 0 4px;border-top-color:#ffa011;border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.gantt_task_drag,.gantt_task_progress_drag{cursor:ew-resize;display:none;position:absolute}.gantt_task_drag.task_right{cursor:e-resize}.gantt_task_drag.task_left{cursor:w-resize}.gantt_task_drag{height:100%;width:8px;z-index:1;top:-1px}.gantt_task_drag.task_left{left:-7px}.gantt_task_drag.task_right{right:-7px}.gantt_task_progress_drag{height:8px;width:8px;bottom:-4px;margin-left:-4px;background-position:bottom;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkY3Rjk0RUVDMkYzMTFFMkI1OThEQTA3ODU0OTkzMEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkY3Rjk0RUZDMkYzMTFFMkI1OThEQTA3ODU0OTkzMEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRjdGOTRFQ0MyRjMxMUUyQjU5OERBMDc4NTQ5OTMwQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRjdGOTRFREMyRjMxMUUyQjU5OERBMDc4NTQ5OTMwQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PobPBzIAAADkSURBVHjaYpk2bRoDDsAExL1QdjEQ/8OmiAWHZk4gXqymqhQM4ty6fU8OSMUA8XdiDBAB4k0a6iqWRga6EKcwMQXduHlnL5DpB8Rv0J2JDFSA+JiOtgZcMwiA2CAxkBxUDVYDLEAKgIpV9XQ0MZwFEgPJAZnHoWpRDAgC4n2W5saiQKfjClQGkBxQDciL+6B6wAbkA/EqJwdrTkUFOQZCAKQGpBbIXA3SCzJggo+XK7OEuBgDsQCkFqgHrBfsBT5eHgZSAUwP2IBfv36TbABMDygdtK1Zv6UESLORaAbIhG6AAAMAKN8wE24DXWcAAAAASUVORK5CYII=);background-repeat:no-repeat;z-index:1}.gantt_task_progress_drag:hover{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVQoz6WMPW7CQBgFJxZaiZ60qcgdwjVMmzu8gpwhDULabXyBdHAGuzRHivQiQZovigS2+Jtu95t5T03TMITtCtjEc5VSOgx5k5F4CnxJWgKUUl5sv6eUvk/daiCeAe1fDCCpBtq4jQ/YngO9pMWpGH99OOcDtt8ifmWEuO3D/R+wXQOdpGcuIGkGdNFQ2RawlTTlSsLd2RY55+O95JyPFQ/y8MAE+CylfADpxvYHWP8CXj+JR4wdKHYAAAAASUVORK5CYII=)}.gantt_link_tooltip{box-shadow:3px 3px 3px #888;background-color:#fff;border-left:1px dotted #cecece;border-top:1px dotted #cecece;font-family:Tahoma;font-size:8pt;color:#444;padding:6px;line-height:20px}.gantt_link_direction{height:0;border:0 none #ffa011;border-bottom-style:dashed;border-bottom-width:2px;transform-origin:0 0;-ms-transform-origin:0 0;-webkit-transform-origin:0 0;z-index:2;margin-left:1px;position:absolute}.gantt_grid_data .gantt_row.gantt_selected,.gantt_grid_data .gantt_row.odd.gantt_selected,.gantt_task_row.gantt_selected{background-color:#fff3a1}.gantt_task_row.gantt_selected .gantt_task_cell{border-right-color:#ffec6e}.gantt_task_line.gantt_selected{box-shadow:0 0 5px #299cb4}.gantt_task_line.gantt_project.gantt_selected{box-shadow:0 0 5px #46ad51}.gantt_task_line.gantt_milestone{visibility:hidden;background-color:#d33daf;border:0 solid #61164f;box-sizing:content-box;-moz-box-sizing:content-box}.gantt_task_line.gantt_milestone div{visibility:visible}.gantt_task_line.gantt_milestone .gantt_task_content{background:inherit;border:inherit;border-width:1px;border-radius:inherit;box-sizing:border-box;-moz-box-sizing:border-box;transform:rotate(45deg)}.gantt_task_line.gantt_task_inline_color{border-color:#999}.gantt_task_line.gantt_task_inline_color .gantt_task_progress{background-color:#363636;opacity:.2}.gantt_task_line.gantt_task_inline_color.gantt_project.gantt_selected,.gantt_task_line.gantt_task_inline_color.gantt_selected,.gantt_task_link.gantt_link_inline_color:hover .gantt_line_wrapper div{box-shadow:0 0 5px #999}.gantt_critical_task{background-color:#e63030;border-color:#9d3a3a}.gantt_critical_task .gantt_task_progress{background-color:#0006}.gantt_critical_link .gantt_line_wrapper>div{background-color:#e63030}.gantt_critical_link .gantt_link_arrow{border-color:#e63030}.gantt_btn_set:focus,.gantt_cell:focus,.gantt_grid_head_cell:focus,.gantt_popup_button:focus,.gantt_qi_big_icon:focus,.gantt_row:focus{box-shadow:inset 0 0 1px 1px #4d90fe}.gantt_split_parent,.gantt_split_subproject{opacity:.1;pointer-events:none}.gantt_rollup_child .gantt_link_control,.gantt_rollup_child:hover .gantt_link_control{display:none}.gantt_unselectable,.gantt_unselectable div{-webkit-user-select:none;-moz-user-select:none;-moz-user-select:-moz-none}.gantt_cal_light{-webkit-tap-highlight-color:transparent;background:#fff;border-radius:6px;font-family:Arial;font-size:13px;border:1px solid #cecece;color:#6b6b6b;font-size:12px;position:absolute;z-index:10001;width:550px;height:250px;box-shadow:3px 3px 3px #00000012}.gantt_cal_light_wide{width:650px}.gantt_cal_light select{font-family:Arial;border:1px solid #cecece;font-size:13px;padding:2px;margin:0}.gantt_cal_ltitle{padding:7px 10px;overflow:hidden;-webkit-border-top-left-radius:6px;-webkit-border-bottom-left-radius:0;-webkit-border-top-right-radius:6px;-webkit-border-bottom-right-radius:0;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:0;border-radius:6px 6px 0 0}.gantt_cal_ltitle,.gantt_cal_ltitle span{white-space:nowrap}.gantt_cal_lsection{color:#727272;font-weight:700;padding:12px 0 5px 10px}.gantt_cal_lsection .gantt_fullday{float:right;margin-right:5px;font-size:12px;font-weight:400;line-height:20px;vertical-align:top;cursor:pointer}.gantt_cal_lsection{font-size:13px}.gantt_cal_ltext{padding:2px 10px;overflow:hidden}.gantt_cal_ltext textarea{overflow-y:auto;overflow-x:hidden;font-family:Arial;font-size:13px;box-sizing:border-box;border:1px solid #cecece;height:100%;width:100%;outline:none!important;resize:none}.gantt_section_constraint [data-constraint-time-select]{margin-left:20px}.gantt_time{font-weight:700}.gantt_cal_light .gantt_title{padding-left:10px}.gantt_cal_larea{border:1px solid #cecece;border-left:none;border-right:none;background-color:#fff;overflow:hidden;height:1px}.gantt_btn_set{margin:10px 7px 5px 10px;padding:5px 15px 5px 10px;float:left;border-radius:4px;border:0 solid #cecece;height:32px;font-weight:700;background:#fff;box-sizing:border-box;cursor:pointer}.gantt_hidden{display:none}.gantt_btn_set div{float:left;font-size:13px;height:22px;line-height:22px;background-repeat:no-repeat;vertical-align:middle}.gantt_save_btn{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTk1OUU5RDFDMzA0MTFFMkExMUZBQTdDNDAzOUE5RjMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTk1OUU5RDJDMzA0MTFFMkExMUZBQTdDNDAzOUE5RjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxOTU5RTlDRkMzMDQxMUUyQTExRkFBN0M0MDM5QTlGMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxOTU5RTlEMEMzMDQxMUUyQTExRkFBN0M0MDM5QTlGMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjDroXYAAAEXSURBVHjaYvz//z8DJYCRUgPIAUxAbAnEHiAHMIBcQCwGaRYXF3e6evXqoffv39/dv38/CymaGSUkJBzv3LlzCsj///fv3wdAihkkIQnEvkAshU8zLy+v7a1bt06ANP/79+87kDIAy505cybq06dPr3p7ezuwGQLTfOPGjWP/ESAZLg8kPKBO+g01RBJNszWyZqC6uSgWgIg/f/4shxnS2dnZBjMEqNkSFGBImi8CKTYMA4BYCGjIczRDHC5dunQQSfN7IKWI4UUkjjdMMdCwnw8ePLjwHxV4Yw1gZA5Q47z/2EELzhhCE+ABGvIQWSeQvwcU38QaAML2wHj+C/X3MyAlijeB4ZBoBOIPQGxJKIVSnBsBAgwABddBclWfcZUAAAAASUVORK5CYII=);margin-top:2px;width:21px}.gantt_cancel_btn{margin-top:2px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDkzMDA3MzlDMzA0MTFFMjg2QTVFMzFEQzgwRkJERDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDkzMDA3M0FDMzA0MTFFMjg2QTVFMzFEQzgwRkJERDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowOTMwMDczN0MzMDQxMUUyODZBNUUzMURDODBGQkRENiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowOTMwMDczOEMzMDQxMUUyODZBNUUzMURDODBGQkRENiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmYuYOUAAAEdSURBVHjaYvz//z8DJYAFXWDlypU8QKoIiD2A2AwqfAqIdwBxX3h4+Bdk9YzILgBqtgdS84FYEYeF94E4EWjIQZgAE5LmQCB1AKoZZKMPEAtAMYh9GSp3AKjWD8UFQAEhIPshEIOc3wHENUBb/qJ57SyQMoJyPwKxElDNO1gYFEE17wMKVmIJlzNQzeegrjaA6qmBecEbSvfh0GwMxGeBhoPoemQ9MAO0kEIbl2YTqPAFKK2IbMB3AjabYIkRZmQD7kNpMyI0G0PpO8gGbIUFJj7NQDk2INWIrIcJKfBAKcwJqvkcDs0TgFgXGo19KCkRmpDWQdWDEk0NUoCBoq0FqhkE/IEWbKJKUmZEz43QzFSKIzN1481M5ACAAAMAlfl/lCwRpagAAAAASUVORK5CYII=);width:20px}.gantt_delete_btn{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjFENzI3NUNDMzA0MTFFMjhBNjJGQTc3MUIyQzYzNEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjFENzI3NURDMzA0MTFFMjhBNjJGQTc3MUIyQzYzNEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMUQ3Mjc1QUMzMDQxMUUyOEE2MkZBNzcxQjJDNjM0RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyMUQ3Mjc1QkMzMDQxMUUyOEE2MkZBNzcxQjJDNjM0RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmUD0gAAAABvSURBVHjaYvz//z8DIyMjAxYQicReji4J0ofKQNP8HwmgGQbXB8IsWGwDSSwDuioKjY9uBthVjFAXYHUGAQA2kYmBUoAUBpGk0LAwgBvwH+YX4mkwptgLowYMRgOITUyYKRFIN/wnDjQgJySAAAMApryKzL8wjfUAAAAASUVORK5CYII=);margin-top:2px;width:20px}.gantt_cal_cover{width:100%;height:100%;position:fixed;z-index:10000;top:0;left:0;background-color:#000;opacity:.1;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=10)}.gantt_custom_button{padding:0 3px;font-family:Arial;font-size:13px;font-weight:400;margin-right:10px;margin-top:-5px;cursor:pointer;float:right;height:21px;width:90px;border:1px solid #cecece;text-align:center;border-radius:4px}.gantt_custom_button div{cursor:pointer;float:none;height:21px;line-height:21px;vertical-align:middle}.gantt_custom_button div:first-child{display:none}.gantt_cal_light_wide{width:580px;padding:2px 4px}.gantt_cal_light_wide .gantt_cal_larea{box-sizing:border-box;border:1px solid #cecece}.gantt_cal_light_wide .gantt_cal_lsection{border:0;float:left;text-align:right;width:80px;height:20px;padding:5px 10px 0 0}.gantt_cal_light_wide .gantt_wrap_section{position:relative;padding:10px 0;overflow:hidden;border-bottom:1px solid #ebebeb}.gantt_cal_light_wide .gantt_section_time{overflow:hidden;padding-top:2px!important;padding-right:0;height:20px!important}.gantt_cal_light_wide .gantt_cal_ltext{padding-right:0}.gantt_cal_light_wide .gantt_cal_larea{padding:0 10px;width:100%}.gantt_cal_light_wide .gantt_section_time{background:transparent}.gantt_cal_light_wide .gantt_cal_checkbox label{padding-left:0}.gantt_cal_light_wide .gantt_cal_lsection .gantt_fullday{float:none;margin-right:0;font-weight:700;cursor:pointer}.gantt_cal_light_wide .gantt_custom_button{position:absolute;top:0;right:0;margin-top:2px}.gantt_cal_light_wide .gantt_repeat_right{margin-right:55px}.gantt_cal_light_wide.gantt_cal_light_full{width:738px}.gantt_cal_wide_checkbox input{margin-top:8px;margin-left:14px}.gantt_cal_light input{font-size:13px}.gantt_section_time{background-color:#fff;white-space:nowrap;padding:2px 10px 5px;padding-top:2px!important}.gantt_section_time .gantt_time_selects{float:left;height:25px}.gantt_section_time .gantt_time_selects select{height:23px;padding:2px;border:1px solid #cecece}.gantt_duration{width:100px;height:23px;float:left;white-space:nowrap;margin-left:20px;line-height:23px}.gantt_duration .gantt_duration_dec,.gantt_duration .gantt_duration_inc,.gantt_duration .gantt_duration_value{box-sizing:border-box;text-align:center;vertical-align:top;height:100%;border:1px solid #cecece}.gantt_duration .gantt_duration_value{width:40px;padding:3px 4px;border-left-width:0;border-right-width:0}.gantt_duration .gantt_duration_value.gantt_duration_value_formatted{width:70px}.gantt_duration .gantt_duration_dec,.gantt_duration .gantt_duration_inc{width:20px;padding:1px;background:#fff}.gantt_duration .gantt_duration_dec{-moz-border-top-left-radius:4px;-moz-border-bottom-left-radius:4px;-webkit-border-top-left-radius:4px;-webkit-border-bottom-left-radius:4px;border-top-left-radius:4px;border-bottom-left-radius:4px}.gantt_duration .gantt_duration_inc{margin-right:4px;-moz-border-top-right-radius:4px;-moz-border-bottom-right-radius:4px;-webkit-border-top-right-radius:4px;-webkit-border-bottom-right-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px}.gantt_resources{max-height:150px;height:auto;overflow-y:auto}.gantt_resource_row{display:block;padding:10px 0;border-bottom:1px solid #ebebeb;cursor:pointer}.gantt_resource_row input[type=checkbox]:not(:checked),.gantt_resource_row input[type=checkbox]:not(:checked)~div{opacity:.5}.gantt_resource_toggle{vertical-align:middle}.gantt_resources_filter .gantt_resources_filter_input{padding:1px 2px;box-sizing:border-box}.gantt_resources_filter .switch_unsetted{vertical-align:middle}.gantt_resource_cell{display:inline-block}.gantt_resource_cell.gantt_resource_cell_checkbox{width:24px;max-width:24px;min-width:24px;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_label{width:40%;max-width:40%;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_value{width:30%;max-width:30%;vertical-align:middle}.gantt_resource_cell.gantt_resource_cell_value input,.gantt_resource_cell.gantt_resource_cell_value select{width:80%;vertical-align:middle;padding:1px 2px;box-sizing:border-box}.gantt_resource_cell.gantt_resource_cell_unit{width:10%;max-width:10%;vertical-align:middle}.gantt_resource_early_value{opacity:.8;font-size:.9em}.gantt_cal_quick_info{border:1px solid #cecece;border-radius:6px;position:absolute;z-index:300;box-shadow:3px 3px 3px #00000012;background-color:#fff;width:300px;transition:left .5s ease,right .5s;-moz-transition:left .5s ease,right .5s;-webkit-transition:left .5s ease,right .5s;-o-transition:left .5s ease,right .5s}.gantt_no_animate{transition:none;-moz-transition:none;-webkit-transition:none;-o-transition:none}.gantt_cal_quick_info.gantt_qi_left .gantt_qi_big_icon{float:right}.gantt_cal_qi_title{-webkit-border-top-left-radius:6px;-webkit-border-bottom-left-radius:0;-webkit-border-top-right-radius:6px;-webkit-border-bottom-right-radius:0;-moz-border-radius-topleft:6px;-moz-border-radius-bottomleft:0;-moz-border-radius-topright:6px;-moz-border-radius-bottomright:0;border-radius:6px 6px 0 0;padding:5px 0 8px 12px;color:#454545;background-color:#fff;border-bottom:1px solid #cecece}.gantt_cal_qi_tdate{font-size:14px;font-weight:700}.gantt_cal_qi_tcontent{font-size:13px}.gantt_cal_qi_content{padding:16px 8px;font-size:13px;color:#454545;overflow:hidden}.gantt_cal_qi_controls{-webkit-border-top-left-radius:0;-webkit-border-bottom-left-radius:6px;-webkit-border-top-right-radius:0;-webkit-border-bottom-right-radius:6px;-moz-border-radius-topleft:0;-moz-border-radius-bottomleft:6px;-moz-border-radius-topright:0;-moz-border-radius-bottomright:6px;border-radius:0 0 6px 6px;padding-left:7px}.gantt_cal_qi_controls .gantt_menu_icon{margin-top:6px;background-repeat:no-repeat}.gantt_cal_qi_controls .gantt_menu_icon.icon_edit{width:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3QYFCjI5ZQj5bAAAAFNJREFUOMvt0zEOACAIA0DkwTymH8bJTRTKZGJXyaWEKPKTCQAH4Ls37cItcDUzsxHNDLZNhCq7Gt1wh9ErV7EjyGAhyGLphlnsClWuS32rn0czAV+vNGrM/LBtAAAAAElFTkSuQmCC)}.gantt_cal_qi_controls .gantt_menu_icon.icon_delete{width:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjFENzI3NUNDMzA0MTFFMjhBNjJGQTc3MUIyQzYzNEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjFENzI3NURDMzA0MTFFMjhBNjJGQTc3MUIyQzYzNEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMUQ3Mjc1QUMzMDQxMUUyOEE2MkZBNzcxQjJDNjM0RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyMUQ3Mjc1QkMzMDQxMUUyOEE2MkZBNzcxQjJDNjM0RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmUD0gAAAABvSURBVHjaYvz//z8DIyMjAxYQicReji4J0ofKQNP8HwmgGQbXB8IsWGwDSSwDuioKjY9uBthVjFAXYHUGAQA2kYmBUoAUBpGk0LAwgBvwH+YX4mkwptgLowYMRgOITUyYKRFIN/wnDjQgJySAAAMApryKzL8wjfUAAAAASUVORK5CYII=)}.gantt_qi_big_icon{font-size:13px;border-radius:4px;font-weight:700;background:#fff;margin:5px 9px 8px 0;min-width:60px;line-height:32px;vertical-align:middle;padding:0 10px 0 5px;cursor:pointer;border:1px solid #cecece}.gantt_cal_qi_controls div{float:left;height:32px;text-align:center;line-height:32px}.gantt_tooltip{padding:10px;position:absolute;z-index:50;white-space:nowrap}.gantt_resource_marker{position:absolute;text-align:center;font-size:14px;color:#fff}.gantt_resource_marker_ok{background:rgba(78,208,134,.75)}.gantt_resource_marker_overtime{background:hsla(0,100%,76%,.69)}.gantt_histogram_label{width:100%;height:100%;position:absolute;z-index:1;font-weight:700;font-size:13px}.gantt_histogram_fill{background-color:#299db433;width:100%;position:absolute;bottom:0}.gantt_histogram_hor_bar{height:1px;margin-top:-1px}.gantt_histogram_hor_bar,.gantt_histogram_vert_bar{position:absolute;background:#299db4;margin-left:-1px}.gantt_histogram_vert_bar{width:1px}.gantt_histogram_cell{position:absolute;text-align:center;font-size:13px;color:#000}.gantt_marker{height:100%;width:2px;top:0;position:absolute;text-align:center;background-color:#f006;box-sizing:border-box}.gantt_marker .gantt_marker_content{padding:5px;background:inherit;color:#fff;position:absolute;font-size:12px;line-height:12px;opacity:.8}.gantt_marker_area{position:absolute;top:0;left:0}.gantt_grid_editor_placeholder{position:absolute}.gantt_grid_editor_placeholder>div,.gantt_grid_editor_placeholder input,.gantt_grid_editor_placeholder select{width:100%;height:100%;box-sizing:border-box}.gantt_row_placeholder div{opacity:.5}.gantt_row_placeholder .gantt_add,.gantt_row_placeholder .gantt_file{display:none}.gantt_drag_marker.gantt_grid_dnd_marker{background-color:transparent;transition:all .1s ease}.gantt_grid_dnd_marker_line{height:4px;width:100%;background-color:#3498db}.gantt_grid_dnd_marker_line:before{background:#fff;width:12px;height:12px;box-sizing:border-box;border:3px solid #3498db;border-radius:6px;content:"";line-height:1px;display:block;position:absolute;margin-left:-11px;margin-top:-4px;pointer-events:none}.gantt_grid_dnd_marker_folder{height:100%;width:100%;position:absolute;pointer-events:none;box-sizing:border-box;box-shadow:inset 0 0 0 2px #3f98db;background:transparent}.gantt_overlay_area{display:none}.gantt_overlay,.gantt_overlay_area{position:absolute;height:inherit;width:inherit;top:0;left:0}.gantt_click_drag_rect{position:absolute;left:0;top:0;outline:1px solid #3f98db;background-color:#3498db4d}.gantt_timeline_move_available,.gantt_timeline_move_available *{cursor:move}.gantt_rtl .gantt_grid{text-align:right}.gantt_rtl .gantt_cell,.gantt_rtl .gantt_row{flex-direction:row-reverse}.gantt_layout_content{width:100%;overflow:auto;box-sizing:border-box}.gantt_layout_cell{position:relative;box-sizing:border-box}.gantt_layout_cell>.gantt_layout_header{background:#33aae8;color:#fff;font-size:17px;padding:5px 10px;box-sizing:border-box}.gantt_layout_header.collapsed_x{background:#a9a9a9}.gantt_layout_header.collapsed_x .gantt_header_arrow:before{content:"\\21e7"}.gantt_layout_header.collapsed_y{background:#a9a9a9}.gantt_layout_header.collapsed_y .gantt_header_arrow:before{content:"\\21e9"}.gantt_layout_header{cursor:pointer}.gantt_layout_header .gantt_header_arrow{float:right;text-align:right}.gantt_layout_header .gantt_header_arrow:before{content:"\\21e6"}.gantt_layout_header.vertical .gantt_header_arrow:before{content:"\\21e7"}.gantt_layout_outer_scroll_vertical .gantt_layout_content{overflow-y:hidden}.gantt_layout_outer_scroll_horizontal .gantt_layout_content{overflow-x:hidden}.gantt_layout_x>.gantt_layout_cell{display:inline-block;vertical-align:top}.gantt_layout_x{white-space:nowrap}.gantt_resizing{opacity:.7;background:#f2f2f2}.gantt_layout_cell_border_right.gantt_resizer{overflow:visible;border-right:0}.gantt_resizer{cursor:e-resize;position:relative}.gantt_resizer_y{cursor:n-resize}.gantt_resizer_stick{background:#33aae8;z-index:9999;position:absolute;top:0;width:100%}.gantt_resizer_x .gantt_resizer_x{position:absolute;width:20px;height:100%;margin-left:-10px;top:0;left:0;z-index:1}.gantt_resizer_y .gantt_resizer_y{position:absolute;height:20px;width:100%;top:-10px;left:0;z-index:1}.gantt_resizer_error{background:#cd5c5c!important}.gantt_layout_cell_border_left{border-left:1px solid #cecece}.gantt_layout_cell_border_right{border-right:1px solid #cecece}.gantt_layout_cell_border_top{border-top:1px solid #cecece}.gantt_layout_cell_border_bottom{border-bottom:1px solid #cecece}.gantt_layout_cell_border_transparent{border-color:transparent}.gantt_window{position:absolute;top:50%;left:50%;z-index:999999999;background:#fff}.gantt_window_content{position:relative}.gantt_window_content_header{background:#39c;color:#fff;height:33px;padding:10px 10px 0;border-bottom:2px solid #fff;position:relative}.gantt_window_content_header_text{padding-left:10%}.gantt_window_content_header_buttons{position:absolute;top:10px;right:10px}.gantt_window_content_header_buttons:hover{color:#000;cursor:pointer}.gantt_window_content_resizer{position:absolute;width:15px;height:15px;bottom:0;line-height:15px;right:-1px;text-align:center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABZJREFUeAFjIAUwUshlpJDLSIhLGAAACQ4AFk79JaMAAAAASUVORK5CYII=);cursor:nw-resize;z-index:999}.gantt_window_content_frame{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.1);z-index:9999}.gantt_window_drag{cursor:pointer!important}.gantt_window_resizing{overflow:visible}.gantt_window_resizing_body{overflow:hidden!important}.gantt_window_modal{background:rgba(0,0,0,.1);z-index:9999;top:0;left:0;width:100%;height:100%;position:fixed}.gantt_cal_light,.gantt_cal_quick_info,.gantt_container,.gantt_message_area,.gantt_modal_box,.gantt_tooltip{text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.gantt_noselect{-webkit-user-select:none;user-select:none}.gantt_noselect .gantt_grid_data .gantt_row.odd:hover,.gantt_noselect .gantt_grid_data .gantt_row:hover{background-color:unset}.gantt_drag_marker{position:absolute;top:-1000px;left:-1000px;font-family:Arial;font-size:13px;z-index:1;white-space:nowrap}.gantt_drag_marker .gantt_tree_icon.gantt_blank,.gantt_drag_marker .gantt_tree_icon.gantt_close,.gantt_drag_marker .gantt_tree_icon.gantt_open,.gantt_drag_marker .gantt_tree_indent{display:none}.gantt_drag_marker,.gantt_drag_marker .gantt_row.odd{background-color:#fff}.gantt_drag_marker .gantt_row{border-left:1px solid #d2d2d2;border-top:1px solid #d2d2d2}.gantt_drag_marker .gantt_cell{border-color:#d2d2d2}.gantt_row.gantt_over,.gantt_task_row.gantt_over{background-color:#0070fe}.gantt_row.gantt_transparent .gantt_cell{opacity:.7}.gantt_task_row.gantt_transparent{background-color:#f8fdfd}.gantt_popup_button.gantt_delete_button{background:#3db9d3;text-shadow:0 -1px 0 #248a9f;color:#fff;font-weight:700;border-width:0}.gantt_container_resize_watcher{background:transparent;width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;pointer-events:none;border:0;box-sizing:border-box;opacity:0}.gantt-chart{position:relative;width:100%;height:calc(100vh - 120px - var(--navbar-size))!important}.gantt_bar_task{border-radius:50px!important}.gantt_container{border-radius:10px!important}.gantt_task_progress_drag{display:none!important}.gantt_task_scale,.gantt_task_cell,.gantt_scale_cell,.gantt_grid_head_cell{border-color:var(--dark-pallete-text)!important}.gantt_row.odd,.gantt_task_row.odd{border-bottom:1px solid}.gantt_task_line.gantt_task_inline_color{border-color:transparent!important}.gantt_task_line.gantt_task_inline_color{margin-top:2.5px!important;height:25px!important}.gantt_task_content{top:-1.5px}.gantt_grid_scale,.gantt_task_scale{background-color:var(--dark-pallete-4)!important}.gantt_grid_head_cell,.gantt_scale_cell{color:#fff!important}.gantt_container,.gantt_row,.gantt_task_row{background-color:var(--dark-pallete-3)!important;border-color:var(--dark-pallete-text)!important}.gantt_container.gantt_selected,.gantt_row.gantt_selected,.gantt_task_row.gantt_selected{background-color:var(--dark-pallete-4)!important}.gantt_tree_content{color:#fff!important}.gantt_cell.gantt_cell_tree{margin-left:5px!important}.gantt_blank,.gantt_file,.gantt_add{display:none!important}\n'],encapsulation:2}),t})();class oae{constructor(n,e,i,a){this.projectId=n,this.title=e,this.description=i,this.reported=a}}class sae{constructor(n,e,i,a){this.id=n,this.title=e,this.description=i,this.reported=a}}class aae{constructor(n,e,i,a,d,h){this.description=n,this.estimatedTime=e,this.affects=i,this.priority=a,this.status=d,this.assignedUsername=h}}class Wf{static getAgGridParams(n,e,i,a,d){let h=(new uc).set("page",(n-1).toString()).set("size",e.toString());for(const m of i)h=h.append("sort",m.colId+","+m.sort);if(a){let m=this.getAllColumns(d);for(let x of m){let R=a[x];R&&(h=h.append(x,R.filter))}}return h}static getAllColumns(n){return n.map(e=>e.field)}}let lae=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/incident/"}findIncidentsByProject(e,i,a,d,h,m){let x=this.hostUrl+"project/"+e,R=Wf.getAgGridParams(i,a,d,h,m);return this.httpClient.get(x,{params:R})}getIncidentById(e){return this.httpClient.get(this.hostUrl+e)}getIncidentUpdatesByIncidentId(e){return this.httpClient.get(this.hostUrl+e+"/updates")}createIncident(e){return this.httpClient.post(this.hostUrl,e)}updateIncident(e){return this.httpClient.put(this.hostUrl,e)}disableIncident(e){return this.httpClient.delete(this.hostUrl+e)}createIncidentUpdate(e,i){return this.httpClient.post(this.hostUrl+e+"/update",i)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ce(t,n,e,i){var h,a=arguments.length,d=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(t,n,e,i);else for(var m=t.length-1;m>=0;m--)(h=t[m])&&(d=(a<3?h(d):a>3?h(n,e,d):h(n,e))||d);return a>3&&d&&Object.defineProperty(n,e,d),d}function ue(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)}var yk,Th=J(564);let Ke=yk=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let n=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(n.children=this.getChildColDefs(this.childColumns)),n}getChildColDefs(n){return n.filter(e=>!e.hasChildColumns()).map(e=>e.toColDef())}createColDefFromGridColumn(n){return function cae(t,n){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(t);a<i.length;a++)n.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(e[i[a]]=t[i[a]])}return e}(n,["childColumns"])}};Ke.\u0275fac=function(n){return new(n||Ke)},Ke.\u0275cmp=zt({type:Ke,selectors:[["ag-grid-column"]],contentQueries:function(n,e,i){if(1&n&&Oi(i,yk,4),2&n){let a;qt(a=Xt())&&(e.childColumns=a)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",defaultAggFunc:"defaultAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(n,e){},encapsulation:2}),ce([Pg(yk),ue("design:type",a_)],Ke.prototype,"childColumns",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"filterFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"filterParams",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"floatingFilterComponent",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"floatingFilterComponentParams",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"floatingFilterComponentFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"floatingFilterFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"filter",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"headerName",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerValueGetter",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"headerTooltip",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerClass",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"suppressHeaderKeyboardEvent",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"columnGroupShow",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"toolPanelClass",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"suppressColumnsToolPanel",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"suppressFiltersToolPanel",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"tooltipComponent",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"tooltipComponentFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"tooltipComponentParams",void 0),ce([pe(),ue("design:type",Array)],Ke.prototype,"children",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"groupId",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"openByDefault",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"marryChildren",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerGroupComponent",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerGroupComponentFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerGroupComponentParams",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"colId",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"field",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"type",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"valueGetter",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"valueFormatter",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"refData",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"keyCreator",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"equals",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"tooltipField",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"tooltipValueGetter",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"checkboxSelection",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"icons",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"suppressNavigable",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"suppressKeyboardEvent",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"suppressPaste",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"suppressFillHandle",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"hide",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"initialHide",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"lockVisible",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"lockPosition",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"suppressMovable",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"editable",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"valueSetter",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"valueParser",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellEditor",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellEditorFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellEditorParams",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"cellEditorSelector",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"singleClickEdit",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"newValueHandler",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"cellEditorPopup",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"cellEditorPopupPosition",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"onCellValueChanged",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"onCellClicked",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"onCellDoubleClicked",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"onCellContextMenu",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"getQuickFilterText",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"filterValueGetter",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"floatingFilter",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerComponent",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerComponentFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerComponentParams",void 0),ce([pe(),ue("design:type",Array)],Ke.prototype,"menuTabs",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"columnsMenuParams",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"suppressMenu",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"headerCheckboxSelection",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"headerCheckboxSelectionFilteredOnly",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"chartDataType",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"pinned",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"initialPinned",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"lockPinned",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"pinnedRowCellRenderer",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"pinnedRowCellRendererFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"pinnedRowCellRendererParams",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"pinnedRowValueFormatter",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"pivot",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"initialPivot",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"pivotIndex",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"initialPivotIndex",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"pivotComparator",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"enablePivot",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellStyle",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellClass",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellClassRules",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellRenderer",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellRendererFramework",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"cellRendererParams",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"cellRendererSelector",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"autoHeight",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"wrapText",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"enableCellChangeFlash",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"suppressCellFlash",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"rowDrag",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"rowDragText",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"dndSource",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"dndSourceOnRowDrag",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"rowGroup",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"initialRowGroup",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"rowGroupIndex",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"initialRowGroupIndex",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"enableRowGroup",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"enableValue",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"aggFunc",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"initialAggFunc",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"defaultAggFunc",void 0),ce([pe(),ue("design:type",Array)],Ke.prototype,"allowedAggFuncs",void 0),ce([pe(),ue("design:type",Object)],Ke.prototype,"showRowGroup",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"sortable",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"sort",void 0),ce([pe(),ue("design:type",String)],Ke.prototype,"initialSort",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"sortIndex",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"initialSortIndex",void 0),ce([pe(),ue("design:type",Array)],Ke.prototype,"sortingOrder",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"comparator",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"unSortIcon",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"sortedAt",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"colSpan",void 0),ce([pe(),ue("design:type",Function)],Ke.prototype,"rowSpan",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"width",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"initialWidth",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"minWidth",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"maxWidth",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"flex",void 0),ce([pe(),ue("design:type",Number)],Ke.prototype,"initialFlex",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"resizable",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"suppressSizeToFit",void 0),ce([pe(),ue("design:type",Boolean)],Ke.prototype,"suppressAutoSize",void 0);let Ck=(()=>{let t=class extends Th.vA3{constructor(e){super(),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,i){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},i)}):window.setTimeout(()=>{e()},i)}setInterval(e,i){return new Th.j_S(a=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{a(window.setInterval(()=>{e()},i))}):a(window.setInterval(()=>{e()},i))})}addEventListener(e,i,a,d){this.isOutsideAngular(i)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(i,a,d)}):e.addEventListener(i,a,d)}dispatchEvent(e,i,a=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(i):i():(this.isEmitterUsed(e)||a)&&(!Un.isInAngularZone()&&this._ngZone?this._ngZone.run(i):i())}isFrameworkComponent(e){if(!e)return!1;const i=e.prototype;return i&&"agInit"in i}};return t.\u0275fac=function(e){return new(e||t)(Qe(Un))},t.\u0275prov=xt({token:t,factory:function(n){return t.\u0275fac(n)}}),t=ce([ue("design:paramtypes",[Un])],t),t})(),bk=(()=>{let t=class extends Th.Nk3{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let i=this,d=new class a extends class dae{init(n){this._params=n,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(m){super.init(m),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return i.createComponent(e)}hasMethod(m){return null!=d.getFrameworkComponentInstance()[m]}callMethod(m,x){const R=this.getFrameworkComponentInstance();return d.getFrameworkComponentInstance()[m].apply(R,x)}addMethod(m,x){d[m]=x}};return d}createComponent(e){let i=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(i)}};return t.\u0275fac=function(){let n;return function(i){return(n||(n=mr(t)))(i||t)}}(),t.\u0275prov=xt({token:t,factory:function(n){return t.\u0275fac(n)}}),t})(),xv=(()=>{let t=class{constructor(e,i,a,d,h){this.viewContainerRef=i,this.angularFrameworkOverrides=a,this.frameworkComponentWrapper=d,this.componentFactoryResolver=h,this._initialised=!1,this._destroyed=!1,this._fullyReady=Th.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new Ae,this.pasteStart=new Ae,this.pasteEnd=new Ae,this.columnVisible=new Ae,this.columnPinned=new Ae,this.columnResized=new Ae,this.columnMoved=new Ae,this.columnValueChanged=new Ae,this.columnPivotModeChanged=new Ae,this.columnPivotChanged=new Ae,this.columnGroupOpened=new Ae,this.newColumnsLoaded=new Ae,this.gridColumnsChanged=new Ae,this.displayedColumnsChanged=new Ae,this.virtualColumnsChanged=new Ae,this.columnEverythingChanged=new Ae,this.componentStateChanged=new Ae,this.cellValueChanged=new Ae,this.cellEditRequest=new Ae,this.rowValueChanged=new Ae,this.cellEditingStarted=new Ae,this.cellEditingStopped=new Ae,this.rowEditingStarted=new Ae,this.rowEditingStopped=new Ae,this.filterOpened=new Ae,this.filterChanged=new Ae,this.filterModified=new Ae,this.chartCreated=new Ae,this.chartRangeSelectionChanged=new Ae,this.chartOptionsChanged=new Ae,this.chartDestroyed=new Ae,this.cellKeyDown=new Ae,this.cellKeyPress=new Ae,this.gridReady=new Ae,this.firstDataRendered=new Ae,this.gridSizeChanged=new Ae,this.modelUpdated=new Ae,this.virtualRowRemoved=new Ae,this.viewportChanged=new Ae,this.bodyScroll=new Ae,this.bodyScrollEnd=new Ae,this.dragStarted=new Ae,this.dragStopped=new Ae,this.paginationChanged=new Ae,this.rowDragEnter=new Ae,this.rowDragMove=new Ae,this.rowDragLeave=new Ae,this.rowDragEnd=new Ae,this.columnRowGroupChanged=new Ae,this.rowGroupOpened=new Ae,this.expandOrCollapseAll=new Ae,this.pinnedRowDataChanged=new Ae,this.rowDataChanged=new Ae,this.rowDataUpdated=new Ae,this.asyncTransactionsFlushed=new Ae,this.cellClicked=new Ae,this.cellDoubleClicked=new Ae,this.cellFocused=new Ae,this.cellMouseOver=new Ae,this.cellMouseOut=new Ae,this.cellMouseDown=new Ae,this.rowClicked=new Ae,this.rowDoubleClicked=new Ae,this.rowSelected=new Ae,this.selectionChanged=new Ae,this.cellContextMenu=new Ae,this.rangeSelectionChanged=new Ae,this.sortChanged=new Ae,this.columnRowGroupChangeRequest=new Ae,this.columnPivotChangeRequest=new Ae,this.columnValueChangeRequest=new Ae,this.columnAggFuncChangeRequest=new Ae,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=Th.plv.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(e=>e.toColDef())),new Th.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,e=>e)}ngOnChanges(e){this._initialised&&Th.plv.processOnChange(e,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(e){const i=this[e],a=!!i&&i.observers&&i.observers.length>0,d=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return a||!!this.gridOptions&&!!this.gridOptions[d]}globalEventListener(e,i){if(this._destroyed)return;const a=this[e];a&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(d=>{a.emit(i)}):a.emit(i))}};return t.\u0275fac=function(e){return new(e||t)(Ce(Bn),Ce(ho),Ce(Ck),Ce(bk),Ce(ul))},t.\u0275cmp=zt({type:t,selectors:[["ag-grid-angular"]],contentQueries:function(e,i,a){if(1&e&&Oi(a,Ke,4),2&e){let d;qt(d=Xt())&&(i.columns=d)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[si([Ck,bk]),$n],decls:0,vars:0,template:function(e,i){},encapsulation:2}),ce([Pg(Ke),ue("design:type",a_)],t.prototype,"columns",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"gridOptions",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"modules",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"statusBar",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"sideBar",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressContextMenu",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"preventDefaultOnContextMenu",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"allowContextMenuWithControlKey",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMenuHide",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableBrowserTooltips",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"tooltipShowDelay",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"tooltipHideDelay",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"tooltipMouseTrack",void 0),ce([pe(),ue("design:type",HTMLElement)],t.prototype,"popupParent",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"copyHeadersToClipboard",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"copyGroupHeadersToClipboard",void 0),ce([pe(),ue("design:type",String)],t.prototype,"clipboardDelimiter",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressCopyRowsToClipboard",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressCopySingleCellRanges",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressLastEmptyLineOnPaste",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressClipboardPaste",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressClipboardApi",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"columnDefs",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"defaultColDef",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"defaultColGroupDef",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"columnTypes",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"maintainColumnOrder",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressFieldDotNotation",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"deltaColumnMode",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"applyColumnDefOrder",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"immutableColumns",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressSetColumnStateEvents",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressColumnStateEvents",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"colWidth",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"minColWidth",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"maxColWidth",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"headerHeight",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"groupHeaderHeight",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"floatingFiltersHeight",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"pivotHeaderHeight",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"pivotGroupHeaderHeight",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"allowDragFromColumnsToolPanel",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMovableColumns",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressColumnMoveAnimation",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressDragLeaveHidesColumns",void 0),ce([pe(),ue("design:type",String)],t.prototype,"colResizeDefault",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressAutoSize",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"autoSizePadding",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"skipHeaderOnAutoSize",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"components",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"frameworkComponents",void 0),ce([pe(),ue("design:type",String)],t.prototype,"editType",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"singleClickEdit",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressClickEdit",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"readOnlyEdit",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"stopEditingWhenCellsLoseFocus",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enterMovesDown",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enterMovesDownAfterEdit",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"undoRedoCellEditing",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"undoRedoCellEditingLimit",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"stopEditingWhenGridLosesFocus",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"defaultCsvExportParams",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressCsvExport",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"defaultExcelExportParams",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressExcelExport",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"excelStyles",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"defaultExportParams",void 0),ce([pe(),ue("design:type",String)],t.prototype,"quickFilterText",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"cacheQuickFilter",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableCharts",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"chartThemes",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"customChartThemes",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"chartThemeOverrides",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"loadingCellRenderer",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"loadingCellRendererFramework",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"loadingCellRendererParams",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"loadingCellRendererSelector",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"localeText",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"masterDetail",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"keepDetailRows",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"keepDetailRowsCount",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"detailCellRenderer",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"detailCellRendererFramework",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"detailCellRendererParams",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"detailRowHeight",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"detailRowAutoHeight",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"context",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"alignedGrids",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"tabIndex",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"rowBuffer",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"valueCache",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"valueCacheNeverExpires",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableCellExpressions",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressParentsInRowNodes",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressTouch",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressFocusAfterRefresh",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressAsyncEvents",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressBrowserResizeObserver",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressPropertyNamesCheck",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressChangeDetection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"debug",void 0),ce([pe(),ue("design:type",String)],t.prototype,"overlayLoadingTemplate",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"loadingOverlayComponent",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"loadingOverlayComponentFramework",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"loadingOverlayComponentParams",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressLoadingOverlay",void 0),ce([pe(),ue("design:type",String)],t.prototype,"overlayNoRowsTemplate",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"noRowsOverlayComponent",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"noRowsOverlayComponentFramework",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"noRowsOverlayComponentParams",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressNoRowsOverlay",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"pagination",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"paginationPageSize",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"paginationAutoPageSize",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"paginateChildRows",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressPaginationPanel",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"pivotMode",void 0),ce([pe(),ue("design:type",String)],t.prototype,"pivotPanelShow",void 0),ce([pe(),ue("design:type",String)],t.prototype,"pivotColumnGroupTotals",void 0),ce([pe(),ue("design:type",String)],t.prototype,"pivotRowTotals",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"pivotSuppressAutoColumn",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressExpandablePivotGroups",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"functionsReadOnly",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"aggFuncs",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressAggFuncInHeader",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressAggAtRootLevel",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"aggregateOnlyChangedColumns",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressAggFilteredOnly",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"removePivotHeaderRowWhenSingleValueColumn",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"animateRows",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableCellChangeFlash",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"cellFlashDelay",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"cellFadeDelay",void 0),ce([pe(),ue("design:type",String)],t.prototype,"domLayout",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"ensureDomOrder",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableRtl",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressColumnVirtualisation",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMaxRenderedRowRestriction",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressRowVirtualisation",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"rowDragManaged",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressRowDrag",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMoveWhenRowDragging",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"rowDragEntireRow",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"rowDragMultiRow",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"fullWidthCellRenderer",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"fullWidthCellRendererFramework",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"fullWidthCellRendererParams",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"embedFullWidthRows",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"deprecatedEmbedFullWidthRows",void 0),ce([pe(),ue("design:type",String)],t.prototype,"groupDisplayType",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"groupDefaultExpanded",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"autoGroupColumnDef",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupMaintainOrder",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupSelectsChildren",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"groupAggFiltering",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupIncludeFooter",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupIncludeTotalFooter",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupSuppressBlankHeader",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupSelectsFiltered",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"showOpenedGroup",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupRemoveSingleChildren",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupRemoveLowestSingleChildren",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupHideOpenParents",void 0),ce([pe(),ue("design:type",String)],t.prototype,"rowGroupPanelShow",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"groupRowRenderer",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"groupRowRendererFramework",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"groupRowRendererParams",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"treeData",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"groupRowInnerRenderer",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"groupRowInnerRendererFramework",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupMultiAutoColumn",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupUseEntireRow",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"groupSuppressAutoColumn",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"rememberGroupStateWhenNewData",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"pinnedTopRowData",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"pinnedBottomRowData",void 0),ce([pe(),ue("design:type",String)],t.prototype,"rowModelType",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"rowData",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"immutableData",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"asyncTransactionWaitMillis",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"deltaRowDataMode",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"batchUpdateWaitMillis",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"datasource",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"cacheOverflowSize",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"infiniteInitialRowCount",void 0),ce([pe(),ue("design:type",String)],t.prototype,"serverSideStoreType",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"cacheBlockSize",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"maxBlocksInCache",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"maxConcurrentDatasourceRequests",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"blockLoadDebounceMillis",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"purgeClosedRowNodes",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"serverSideDatasource",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"serverSideSortingAlwaysResets",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"serverSideFilteringAlwaysResets",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressEnterpriseResetOnNewColumns",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"viewportDatasource",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"viewportRowModelPageSize",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"viewportRowModelBufferSize",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"alwaysShowHorizontalScroll",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"alwaysShowVerticalScroll",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"debounceVerticalScrollbar",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressHorizontalScroll",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressScrollOnNewData",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressScrollWhenPopupsAreOpen",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressAnimationFrame",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMiddleClickScrolls",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressPreventDefaultOnMouseWheel",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"scrollbarWidth",void 0),ce([pe(),ue("design:type",String)],t.prototype,"rowSelection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"rowMultiSelectWithClick",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressRowDeselection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressRowClickSelection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressCellSelection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressCellFocus",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMultiRangeSelection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableCellTextSelection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableRangeSelection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableRangeHandle",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableFillHandle",void 0),ce([pe(),ue("design:type",String)],t.prototype,"fillHandleDirection",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressClearOnFillReduction",void 0),ce([pe(),ue("design:type",Array)],t.prototype,"sortingOrder",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"accentedSort",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"unSortIcon",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMultiSort",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"alwaysMultiSort",void 0),ce([pe(),ue("design:type",String)],t.prototype,"multiSortKey",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressMaintainUnsortedOrder",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"icons",void 0),ce([pe(),ue("design:type",Number)],t.prototype,"rowHeight",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"rowStyle",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"rowClass",void 0),ce([pe(),ue("design:type",Object)],t.prototype,"rowClassRules",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressRowHoverHighlight",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"suppressRowTransform",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"columnHoverHighlight",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"deltaSort",void 0),ce([pe(),ue("design:type",String)],t.prototype,"treeDataDisplayType",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"angularCompileRows",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"angularCompileFilters",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"functionsPassive",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"enableGroupEdit",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getContextMenuItems",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getMainMenuItems",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"postProcessPopup",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"processCellForClipboard",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"processHeaderForClipboard",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"processGroupHeaderForClipboard",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"processCellFromClipboard",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"sendToClipboard",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"processDataFromClipboard",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isExternalFilterPresent",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"doesExternalFilterPass",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getChartToolbarItems",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"createChartContainer",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"navigateToNextHeader",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"tabToNextHeader",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"navigateToNextCell",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"tabToNextCell",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"suppressKeyboardEvent",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"localeTextFunc",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getLocaleText",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getDocument",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"paginationNumberFormatter",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"groupRowAggNodes",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getGroupRowAgg",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isGroupOpenByDefault",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"initialGroupOrderComparator",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"defaultGroupOrderComparator",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"processSecondaryColDef",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"processSecondaryColGroupDef",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getDataPath",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"defaultGroupSortComparator",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getChildCount",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getServerSideStoreParams",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isServerSideGroupOpenByDefault",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isApplyServerSideTransaction",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isServerSideGroup",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getServerSideGroupKey",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getBusinessKeyForNode",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getRowNodeId",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getRowId",void 0),ce([pe(),ue("design:type",Boolean)],t.prototype,"resetRowDataOnUpdate",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"processRowPostCreate",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isRowSelectable",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isRowMaster",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"fillOperation",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"postSort",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"postSortRows",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getRowStyle",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getRowClass",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"getRowHeight",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isFullWidthCell",void 0),ce([pe(),ue("design:type",Function)],t.prototype,"isFullWidthRow",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"toolPanelVisibleChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"pasteStart",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"pasteEnd",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnVisible",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnPinned",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnResized",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnMoved",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnValueChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnPivotModeChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnPivotChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnGroupOpened",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"newColumnsLoaded",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"gridColumnsChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"displayedColumnsChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"virtualColumnsChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnEverythingChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"componentStateChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellValueChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellEditRequest",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowValueChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellEditingStarted",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellEditingStopped",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowEditingStarted",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowEditingStopped",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"filterOpened",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"filterChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"filterModified",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"chartCreated",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"chartRangeSelectionChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"chartOptionsChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"chartDestroyed",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellKeyDown",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellKeyPress",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"gridReady",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"firstDataRendered",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"gridSizeChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"modelUpdated",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"virtualRowRemoved",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"viewportChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"bodyScroll",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"bodyScrollEnd",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"dragStarted",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"dragStopped",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"paginationChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowDragEnter",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowDragMove",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowDragLeave",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowDragEnd",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnRowGroupChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowGroupOpened",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"expandOrCollapseAll",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"pinnedRowDataChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowDataChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowDataUpdated",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"asyncTransactionsFlushed",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellClicked",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellDoubleClicked",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellFocused",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellMouseOver",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellMouseOut",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellMouseDown",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowClicked",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowDoubleClicked",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rowSelected",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"selectionChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"cellContextMenu",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"rangeSelectionChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"sortChanged",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnRowGroupChangeRequest",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnPivotChangeRequest",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnValueChangeRequest",void 0),ce([Ht(),ue("design:type",Ae)],t.prototype,"columnAggFuncChangeRequest",void 0),t=ce([ue("design:paramtypes",[Bn,ho,Ck,bk,ul])],t),t})();var wk;let Uf=wk=class{static withComponents(n){return{ngModule:wk,providers:[{provide:lp,useValue:n,multi:!0}]}}static forRoot(n){return{ngModule:wk,providers:[{provide:lp,useValue:n,multi:!0}]}}};Uf.\u0275fac=function(n){return new(n||Uf)},Uf.\u0275mod=en({type:Uf}),Uf.\u0275inj=on({imports:[[]]});const hae=["openViewModal"],pae=["closebuttonModalView"];function fae(t,n){if(1&t&&(M(0,"option",34),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function gae(t,n){if(1&t){const e=Tt();M(0,"div",30),_e(1,"em",31),M(2,"select",32),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,fae,2,4,"option",33),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function mae(t,n){if(1&t){const e=Tt();M(0,"a",35),Ve("click",function(){return Xe(e),ae().newIncident()}),_e(1,"em",36),N()}2&t&&U("openDelay",300)}function _ae(t,n){if(1&t&&(M(0,"div",37),K(1),N()),2&t){const e=ae();V(1),Gt(e.messageError)}}function vae(t,n){1&t&&(M(0,"div",38),K(1,"New incident "),N())}function yae(t,n){if(1&t&&(M(0,"div",38),K(1),N()),2&t){const e=ae();V(1),Li(" #",e.selectedIncident.code,": ",e.selectedIncident.title,"")}}function Cae(t,n){if(1&t&&(M(0,"div",39),K(1),N()),2&t){const e=ae();V(1),it(" ",e.incidentMessageError," ")}}function bae(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function wae(t,n){if(1&t&&(M(0,"div",51),ie(1,bae,2,0,"div",52),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formIncident.get("title"))||null==i.errors?null:i.errors.maxlength)}}function xae(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function Sae(t,n){if(1&t&&(M(0,"div",51),ie(1,xae,2,0,"div",52),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formIncident.get("description"))||null==i.errors?null:i.errors.maxlength)}}function Tae(t,n){1&t&&(M(0,"div"),K(1," Only 30 characters are allowed "),N())}function Eae(t,n){if(1&t&&(M(0,"div",51),ie(1,Tae,2,0,"div",52),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formIncident.get("reported"))||null==i.errors?null:i.errors.maxlength)}}function Dae(t,n){if(1&t){const e=Tt();M(0,"div",40)(1,"form",41),Ve("ngSubmit",function(){return Xe(e),ae().uploadIncident()}),M(2,"div",42)(3,"p",43),K(4,"Title"),N(),_e(5,"input",44),ie(6,wae,2,1,"div",45),N(),M(7,"div",42)(8,"p",43),K(9,"Description"),N(),M(10,"textarea",46),K(11,"                                                "),N(),ie(12,Sae,2,1,"div",45),N(),M(13,"div",42)(14,"p",43),K(15,"Reported by"),N(),_e(16,"input",47),ie(17,Eae,2,1,"div",45),N(),M(18,"div",48)(19,"button",49),Ve("click",function(){return Xe(e),ae().editable()}),K(20,"Close"),N(),M(21,"button",50),K(22),N()()()()}if(2&t){const e=ae();let i,a,d;V(1),U("formGroup",e.formIncident),V(4),dt("form-control ",e.inputClass(e.formIncident,"title"),""),V(1),U("ngIf",(null==(i=e.formIncident.get("title"))?null:i.touched)&&(null==(i=e.formIncident.get("title"))?null:i.invalid)),V(4),dt("form-control ",e.inputClass(e.formIncident,"description"),""),V(2),U("ngIf",(null==(a=e.formIncident.get("description"))?null:a.touched)&&(null==(a=e.formIncident.get("description"))?null:a.invalid)),V(4),dt("form-control ",e.inputClass(e.formIncident,"reported"),""),V(1),U("ngIf",(null==(d=e.formIncident.get("reported"))?null:d.touched)&&(null==(d=e.formIncident.get("reported"))?null:d.invalid)),V(4),U("disabled",!e.formIncident.valid),V(1),Gt(null==e.selectedIncident?"Create":"Edit")}}function Aae(t,n){if(1&t&&(M(0,"div",40)(1,"div",53),_e(2,"em",54),M(3,"div",55),K(4,"Description:"),N()(),M(5,"div",56),K(6),N(),M(7,"div",53),_e(8,"em",57),M(9,"div",58),K(10),N()()()),2&t){const e=ae();V(6),it(" ",e.selectedIncident.description,""),V(4),it("Reported by: ",e.selectedIncident.reported," ")}}function kae(t,n){if(1&t&&(M(0,"div",59),_e(1,"em",60),M(2,"div",58),K(3),N()()),2&t){const e=ae();V(3),it("Creation date: ",e.getFormatedDate(e.selectedIncident.date,"HH:mm:ss dd/MM/yyyy"),"")}}function Rae(t,n){if(1&t&&(M(0,"div",59),_e(1,"em",60),M(2,"div",58),K(3),N()()),2&t){const e=ae();V(3),it("Last update: ",e.getFormatedDate(e.selectedIncident.lastModification,"HH:mm:ss dd/MM/yyyy")," ")}}function Oae(t,n){if(1&t&&(M(0,"div",61),_e(1,"em",60),M(2,"div",58),K(3),N()()),2&t){const e=ae();V(3),it("Assigned: @",e.selectedIncident.assignedUsername,"")}}function Pae(t,n){if(1&t&&(M(0,"div",61),_e(1,"em",62),M(2,"div",58),K(3),N()()),2&t){const e=ae();V(3),it("Creator: @",e.selectedIncident.username,"")}}function Iae(t,n){if(1&t&&(M(0,"div",61),_e(1,"em",63),M(2,"div",58),K(3),N()()),2&t){const e=ae();V(3),it("Estimated time: ",e.selectedIncident.estimatedTime," ")}}function Mae(t,n){if(1&t&&(M(0,"div",61),_e(1,"em",64),M(2,"div",58),K(3),N()()),2&t){const e=ae();V(3),it("Priority: ",e.getPriority(e.selectedIncident.priority)," ")}}function Nae(t,n){if(1&t&&(M(0,"div",61),_e(1,"em",65),M(2,"div",58),K(3),N()()),2&t){const e=ae();V(3),it("Affects: ",e.selectedIncident.affects,"")}}function Fae(t,n){if(1&t&&(M(0,"div",61),_e(1,"em",66),M(2,"div",58),K(3),N()()),2&t){const e=ae();V(3),it("Status: ",e.selectedIncident.status,"")}}function Lae(t,n){if(1&t){const e=Tt();M(0,"div",67)(1,"button",68),Ve("click",function(){return Xe(e),ae().editable()}),_e(2,"em",69),M(3,"div",28),K(4,"Edit"),N()()()}}function Vae(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function Gae(t,n){if(1&t&&(M(0,"div",51),ie(1,Vae,2,0,"div",52),N()),2&t){const e=ae(3);let i;V(1),U("ngIf",null==(i=e.formIncidentUpdate.get("description"))||null==i.errors?null:i.errors.maxlength)}}function Bae(t,n){1&t&&(M(0,"div"),K(1," Cannot be negative time "),N())}function Hae(t,n){if(1&t&&(M(0,"div",51),ie(1,Bae,2,0,"div",52),N()),2&t){const e=ae(3);let i;V(1),U("ngIf",null==(i=e.formIncidentUpdate.get("estimatedTime"))||null==i.errors?null:i.errors.min)}}function jae(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function $ae(t,n){if(1&t&&(M(0,"div",51),ie(1,jae,2,0,"div",52),N()),2&t){const e=ae(3);let i;V(1),U("ngIf",null==(i=e.formIncidentUpdate.get("affects"))||null==i.errors?null:i.errors.maxlength)}}function Wae(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function Uae(t,n){if(1&t&&(M(0,"div",51),ie(1,Wae,2,0,"div",52),N()),2&t){const e=ae(3);let i;V(1),U("ngIf",null==(i=e.formIncidentUpdate.get("status"))||null==i.errors?null:i.errors.maxlength)}}function zae(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty"),N())}function Yae(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters"),N())}function Kae(t,n){if(1&t&&(M(0,"div",51),ie(1,zae,2,0,"div",52),ie(2,Yae,2,0,"div",52),N()),2&t){const e=ae(3);let i,a;V(1),U("ngIf",null==(i=e.formIncidentUpdate.get("assignedUsername"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formIncidentUpdate.get("assignedUsername"))||null==a.errors?null:a.errors.minlength)}}function qae(t,n){1&t&&(M(0,"div"),K(1," Only 30 characters are allowed"),N())}function Xae(t,n){if(1&t&&(M(0,"option"),K(1),N()),2&t){const e=n.$implicit;V(1),it("",e.username," ")}}function Qae(t,n){if(1&t){const e=Tt();M(0,"div",73)(1,"div",74)(2,"h2",75)(3,"button",76),K(4," Create update "),N()(),M(5,"div",77)(6,"form",78),Ve("ngSubmit",function(){return Xe(e),ae(2).createNewIncidentUpdate()}),M(7,"div",79)(8,"div",28),K(9,"Description "),N(),M(10,"textarea",46),K(11,"                                                        "),N(),ie(12,Gae,2,1,"div",45),N(),M(13,"div",61),_e(14,"em",63),M(15,"div",58),K(16,"Estimated time: "),N(),_e(17,"input",80),ie(18,Hae,2,1,"div",45),N(),M(19,"div",61),_e(20,"em",64),M(21,"div",58),K(22,"Priority: "),N(),M(23,"select",81)(24,"option",82),K(25,"Critical"),N(),M(26,"option",83),K(27,"High"),N(),M(28,"option",84),K(29,"Medium"),N(),M(30,"option",85),K(31,"Low"),N()()(),M(32,"div",61),_e(33,"em",66),M(34,"div",58),K(35,"Affects: "),N(),_e(36,"input",86),ie(37,$ae,2,1,"div",45),M(38,"datalist",87)(39,"option"),K(40,"Scope"),N(),M(41,"option"),K(42,"\u20ac"),N(),M(43,"option"),K(44,"Scope & \u20ac"),N()()(),M(45,"div",61),_e(46,"em",65),M(47,"div",58),K(48,"Status: "),N(),_e(49,"input",88),ie(50,Uae,2,1,"div",45),M(51,"datalist",89)(52,"option"),K(53,"To do"),N(),M(54,"option"),K(55,"In progress"),N(),M(56,"option"),K(57,"Done"),N(),M(58,"option"),K(59,"Re-open"),N()()(),M(60,"div",61),_e(61,"em",60),M(62,"div",58),K(63,"Assigned: "),N(),_e(64,"input",90),ie(65,Kae,3,2,"div",45),ie(66,qae,2,0,"div",52),M(67,"datalist",91),ie(68,Xae,2,1,"option",92),N()(),M(69,"div",93)(70,"button",94),K(71,"Upload"),N()()()()()()}if(2&t){const e=ae(2);let i,a,d,h,m,x;V(6),U("formGroup",e.formIncidentUpdate),V(4),dt("form-control ",e.inputClass(e.formIncidentUpdate,"description"),""),V(2),U("ngIf",(null==(i=e.formIncidentUpdate.get("description"))?null:i.touched)&&(null==(i=e.formIncidentUpdate.get("description"))?null:i.invalid)),V(5),dt("form-control ",e.inputClass(e.formIncidentUpdate,"estimatedTime"),""),V(1),U("ngIf",(null==(a=e.formIncidentUpdate.get("estimatedTime"))?null:a.touched)&&(null==(a=e.formIncidentUpdate.get("estimatedTime"))?null:a.invalid)),V(5),dt("form-select my-auto ",e.inputClass(e.formIncidentUpdate,"priority"),""),V(13),dt("form-control ",e.inputClass(e.formIncidentUpdate,"affects"),""),V(1),U("ngIf",(null==(d=e.formIncidentUpdate.get("affects"))?null:d.touched)&&(null==(d=e.formIncidentUpdate.get("affects"))?null:d.invalid)),V(12),dt("form-control ",e.inputClass(e.formIncidentUpdate,"status"),""),V(1),U("ngIf",(null==(h=e.formIncidentUpdate.get("status"))?null:h.touched)&&(null==(h=e.formIncidentUpdate.get("status"))?null:h.invalid)),V(14),dt("form-control ",e.inputClass(e.formIncidentUpdate,"assignedUsername"),""),V(1),U("ngIf",(null==(m=e.formIncidentUpdate.get("assignedUsername"))?null:m.touched)&&(null==(m=e.formIncidentUpdate.get("assignedUsername"))?null:m.invalid)),V(1),U("ngIf",null==(x=e.formIncidentUpdate.get("assignedUsername"))||null==x.errors?null:x.errors.maxlength),V(2),U("ngForOf",e.usersInProject),V(2),U("disabled",!e.formIncident.valid)}}function Zae(t,n){if(1&t&&(Tr(0),_e(1,"img",107),Hi()),2&t){const e=ae().$implicit,i=ae(3);V(1),qn("src",i.getProfileImageUrlFromUser(e.user),Ks),U("openDelay",300)}}function Jae(t,n){1&t&&_e(0,"em",108),2&t&&U("openDelay",300)}function ele(t,n){if(1&t&&(M(0,"div",109),_e(1,"em",63),M(2,"div",58),K(3),N()()),2&t){const e=ae().$implicit;V(3),it("Estimated time: ",e.estimatedTime,"")}}function tle(t,n){if(1&t&&(M(0,"div",109),_e(1,"em",64),M(2,"div",58),K(3),N()()),2&t){const e=ae().$implicit,i=ae(3);V(3),it("Priority: ",i.getPriority(e.priority),"")}}function nle(t,n){if(1&t&&(M(0,"div",109),_e(1,"em",65),M(2,"div",58),K(3),N()()),2&t){const e=ae().$implicit;V(3),it("Affects: ",e.affects,"")}}function ile(t,n){if(1&t&&(M(0,"div",109),_e(1,"em",66),M(2,"div",58),K(3),N()()),2&t){const e=ae().$implicit;V(3),it("Status: ",e.status,"")}}function rle(t,n){if(1&t&&(Tr(0),_e(1,"img",112),Hi()),2&t){const e=ae(2).$implicit,i=ae(3);V(1),qn("src",i.getProfileImageUrlFromUser(e.assignedUser),Ks),U("openDelay",300)}}function ole(t,n){1&t&&_e(0,"em",113),2&t&&U("openDelay",300)}function sle(t,n){if(1&t&&(M(0,"div",110),_e(1,"em",60),M(2,"div",58),K(3,"Assigned: "),N(),ie(4,rle,2,2,"ng-container",100),ie(5,ole,1,1,"ng-template",null,101,_r),M(7,"div",111),K(8),N()()),2&t){const e=qi(6),i=ae().$implicit,a=ae(3);V(4),U("ngIf",null!=a.getProfileImageUrlFromUser(i.assignedUser)&&""!=a.getProfileImageUrlFromUser(i.assignedUser))("ngIfElse",e),V(3),U("openDelay",300),V(1),it("@",i.assignedUser.username,"")}}function ale(t,n){if(1&t&&(M(0,"div",97)(1,"div",23)(2,"div",98),K(3),N(),M(4,"div",99),ie(5,Zae,2,2,"ng-container",100),ie(6,Jae,1,1,"ng-template",null,101,_r),M(8,"div",102),K(9),N()(),M(10,"div",15),_e(11,"em",103),M(12,"div",28),K(13),N()()(),M(14,"div",104),K(15),N(),M(16,"div",23),ie(17,ele,4,1,"div",105),ie(18,tle,4,1,"div",105),ie(19,nle,4,1,"div",105),ie(20,ile,4,1,"div",105),ie(21,sle,9,4,"div",106),N()()),2&t){const e=n.$implicit,i=n.index,a=qi(7),d=ae(3);V(3),it("#",d.selectedIncident.updates.length-i," "),V(2),U("ngIf",null!=d.getProfileImageUrlFromUser(e.user)&&""!=d.getProfileImageUrlFromUser(e.user))("ngIfElse",a),V(3),U("openDelay",300),V(1),it("@",e.user.username,""),V(2),U("openDelay",300),V(2),it("",d.getFormatedDate(e.date,"HH:mm:ss dd/MM/yyyy")," "),V(2),Gt(e.description),V(2),U("ngIf",e.estimatedTime),V(1),U("ngIf",null!=e.priority),V(1),U("ngIf",e.affects),V(1),U("ngIf",e.status),V(1),U("ngIf",e.assignedUser)}}function lle(t,n){if(1&t&&(M(0,"div",95),ie(1,ale,22,13,"div",96),N()),2&t){const e=ae(2);V(1),U("ngForOf",e.selectedIncident.updates)}}function cle(t,n){if(1&t&&(M(0,"div",70),ie(1,Qae,72,27,"div",71),ie(2,lle,2,1,"div",72),N()),2&t){const e=ae();V(1),U("ngIf",e.memberAccess),V(1),U("ngIf",e.selectedIncident)}}let ule=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x,R){super(e,i,a,d,h,m),this.effortService=e,this.kanbanService=i,this.sprintService=a,this.projectService=d,this.formBuilder=h,this.tokenService=m,this.incidentService=x,this.userService=R,this.incCol=[{headerName:"Code",field:"code",sortable:!0,filter:!0,maxWidth:120,unSortIcon:!0,pinned:"left",valueFormatter:L=>null!=L.data&&null!=L.data.code?"#"+L.data.code:""},{headerName:"Title",field:"title",sortable:!0,filter:!0,resizable:!0},{headerName:"Description",field:"description",sortable:!0,filter:!0,resizable:!0},{headerName:"Reported",field:"reported",sortable:!0,filter:!0,resizable:!0},{headerName:"Estimated time",field:"estimatedTime",sortable:!0,filter:!0,resizable:!0},{headerName:"Creation",field:"date",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>this.formatCreationDate(L.data)},{headerName:"Last modification",field:"lastModification",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>this.formatLastModification(L.data)},{headerName:"Priority",field:"priority",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>this.formatPriority(L.data)},{headerName:"Affects",field:"affects",sortable:!0,filter:!0,resizable:!0},{headerName:"Status",field:"status",sortable:!0,filter:!0,resizable:!0},{headerName:"Creator",field:"username",filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatUsername(L.data.username):""},{headerName:"Assigned",field:"assignedUsername",filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatUsername(L.data.assignedUsername):""}],this.pageSize=25,this.pageNumber=1,this.totalElements=0,this.incidents=[],this.isEditable=!1,this.incidentContainError=!1,this.dataSource={getRows:L=>{this.getRows(L)}},this.formIncident=h.group({title:["",[Jt.required]],description:["",[]],reported:["",[]]}),this.formIncidentUpdate=h.group({description:["",[]],estimatedTime:["",[]],affects:["",[]],priority:["",[]],status:["",[]],assignedUsername:["",[]]})}ngOnInit(){this.loadProject=!0,this.loadMyProjects()}editable(){this.isEditable=!this.isEditable}loadAfterProject(){this.reloadGridTable()}loadSelectedData(e){this.incidentService.getIncidentById(e.id).subscribe(i=>{this.containError=!1,this.selectedIncident=i,this.isEditable=!1,this.buildIncidentForm()},i=>{this.returnPrincipalError(i)})}buildIncidentForm(){this.formIncident.reset(),this.formIncidentUpdate.reset(),null!=this.selectedIncident&&(this.formIncident=this.formBuilder.group({title:[this.selectedIncident.title,[Jt.required]],description:[this.selectedIncident.description,[]],reported:[this.selectedIncident.reported,[]]}))}newIncident(){this.isEditable=!0,this.selectedIncident=void 0,this.incidentContainError=!1,this.buildIncidentForm(),this.openViewModal.nativeElement.click()}formatPriority(e){return null!=e&&null!=e.priority?this.getPriority(e.priority):""}formatCreationDate(e){return null!=e&&null!=e.date&&this.getFormatedDate(e.date,"HH:mm:ss dd/MM/yyyy")||""}formatLastModification(e){return null!=e&&null!=e.lastModification&&this.getFormatedDate(e.lastModification,"HH:mm:ss dd/MM/yyyy")||""}formatUsername(e){return null!=e?"@"+e:""}uploadIncident(){if(this.selectedIncident){let e=new sae(this.selectedIncident.id,this.formIncident.value.title,this.formIncident.value.description,this.formIncident.value.reported);this.incidentService.updateIncident(e).subscribe(i=>{this.loadSelectedData(this.selectedIncident),this.reloadGridTable(),this.isEditable=!1},i=>{let a=i.error.text;null==a&&(a="Error produced"),this.incidentMessageError=a,this.incidentContainError=!0})}else if(null!=this.projectSelectedId){let e=new oae(this.projectSelectedId,this.formIncident.value.title,this.formIncident.value.description,this.formIncident.value.reported);this.incidentService.createIncident(e).subscribe(i=>{this.reloadGridTable(),this.closebuttonModalView.nativeElement.click()},i=>{let a=i.error.text;null==a&&(a="Error produced"),this.incidentMessageError=a,this.incidentContainError=!0})}}createNewIncidentUpdate(){if(null!=this.selectedIncident){let e=new aae(this.formIncidentUpdate.value.description,this.formIncidentUpdate.value.estimatedTime,this.formIncidentUpdate.value.affects,this.formIncidentUpdate.value.priority,this.formIncidentUpdate.value.status,this.formIncidentUpdate.value.assignedUsername);this.incidentService.createIncidentUpdate(this.selectedIncident.id,e).subscribe(i=>{this.loadSelectedData(this.selectedIncident),this.formIncidentUpdate.reset(),this.reloadGridTable()},i=>{let a=i.error.text;null==a&&(a="Error produced"),this.incidentMessageError=a,this.incidentContainError=!0})}}reloadGridTable(){this.gridApi.setDatasource(this.dataSource)}loadSelectedRow(e){this.loadSelectedData(e.data),this.openViewModal.nativeElement.click()}getRows(e){this.projectSelectedId&&(this.pageSize=this.gridApi.paginationGetPageSize(),this.pageNumber=this.gridApi.paginationGetCurrentPage()+1,this.incidentService.findIncidentsByProject(this.projectSelectedId,this.pageNumber,this.pageSize,e.sortModel,e.filterModel,this.incCol).subscribe(i=>{this.containError=!1,this.incidents=i.content,this.pageNumber=i.pageable.pageNumber+1,this.pageSize=i.pageable.pageSize,this.totalElements=i.totalElements,e.successCallback(this.incidents,this.totalElements)},i=>{this.returnPrincipalError(i),e.failCallback()}))}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.setDatasource(this.dataSource)}getProfileImageUrlFromUser(e){return this.userService.getUrlFromProfile(e.imageUid)}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po),Ce(lae),Ce(pc))},t.\u0275cmp=zt({type:t,selectors:[["iMan-incident"]],viewQuery:function(e,i){if(1&e&&(ni(hae,5),ni(pae,5)),2&e){let a;qt(a=Xt())&&(i.openViewModal=a.first),qt(a=Xt())&&(i.closebuttonModalView=a.first)}},features:[On],decls:40,vars:31,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add incident","placement","left",3,"openDelay","click",4,"ngIf"],[2,"height","2px"],["class","alert alert-danger mt-3 mb-3",4,"ngIf"],[1,"overflow-auto","scrollable-content"],[1,"ag-theme-alpine-dark",2,"width","100%","height","100%",3,"rowData","columnDefs","cacheBlockSize","pagination","paginationPageSize","enableRangeSelection","rowModelType","gridReady","rowDoubleClicked"],["hidden","","type","button","data-bs-target","#viewModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openViewModal",""],["id","viewModal","tabindex","-1","aria-labelledby","viewModalLabel","aria-hidden","false",1,"modal","fade"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],["class","flex-grow-1 card-title mt-2 ms-3",4,"ngIf"],["data-bs-dismiss","modal",1,"close-card-button"],["closebuttonModalView",""],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],[1,"container"],[1,"row"],[1,"d-flex","flex-wrap"],["class","w-100",4,"ngIf"],["class","w-100 d-flex p-2",4,"ngIf"],["class","w-50 d-flex p-2",4,"ngIf"],["class","w-100 d-flex p-2 mt-2",4,"ngIf"],[1,"my-auto"],["class","col-lg-7",4,"ngIf"],[1,"d-flex","mx-3"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Add incident","placement","left",3,"openDelay","click"],[1,"bi","bi-plus-lg"],[1,"alert","alert-danger","mt-3","mb-3"],[1,"flex-grow-1","card-title","mt-2","ms-3"],[1,"alert","alert-danger","mt-5"],[1,"w-100"],[1,"w-100","mb-3",3,"formGroup","ngSubmit"],[1,"form-group","mb-4","mt-3"],[1,"mb-0"],["id","formIncidentTitle","type","text","formControlName","title","maxlength","50","minlength","2"],["class","invalid-feedback",4,"ngIf"],["formControlName","description","maxlength","255","rows","3"],["type","text","formControlName","reported","maxlength","50"],[1,"form-group","d-flex","flex-row-reverse"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","p-2"],[1,"bi","bi-card-text","my-auto",2,"font-size","20px !important"],[1,"text-break","my-auto","mx-2"],[1,"text-break","mb-3",2,"margin-left","2.4rem !important"],[1,"bi","bi-person-bounding-box","my-auto",2,"font-size","20px !important"],[1,"my-auto","mx-2"],[1,"w-100","d-flex","p-2"],[1,"bi","bi-person-check","my-auto",2,"font-size","20px !important"],[1,"w-50","d-flex","p-2"],[1,"bi","bi-person-plus","my-auto",2,"font-size","20px !important"],[1,"bi","bi-hourglass-top","my-auto",2,"font-size","20px !important"],[1,"bi","bi-stoplights","my-auto",2,"font-size","20px !important"],[1,"bi","bi-shield-exclamation","my-auto",2,"font-size","20px !important"],[1,"bi","bi-activity","my-auto",2,"font-size","20px !important"],[1,"w-100","d-flex","p-2","mt-2"],["type","button",1,"btn","btn-secondary","ms-auto","d-flex",3,"click"],[1,"bi","bi-sm","bi-pencil-fill","ms-auto","me-2"],[1,"col-lg-7"],["class","accordion mt-1 mb-3","id","accordionIncidentUpdateCreate",4,"ngIf"],["class","overflow-auto",4,"ngIf"],["id","accordionIncidentUpdateCreate",1,"accordion","mt-1","mb-3"],[1,"accordion-item"],["id","headingOne",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"accordion-button","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionIncidentUpdateCreate",1,"accordion-collapse","collapse"],[1,"d-flex","flex-wrap","p-2",3,"formGroup","ngSubmit"],[1,"w-100","form-group","p-2","mt-2"],["type","number","step","0.5","formControlName","estimatedTime","min","0","value","0"],["formControlName","priority"],["value","0"],["value","1"],["value","2"],["selected","","value","3"],["type","text","formControlName","affects","list","lsAffects","maxlength","50"],["id","lsAffects"],["type","text","formControlName","status","list","lsStatus","maxlength","50"],["id","lsStatus"],["type","text","formControlName","assignedUsername","maxlength","30","list","usersInProject","minlength","2"],["id","usersInProject"],[4,"ngFor","ngForOf"],[1,"w-100","form-group","d-flex","flex-row-reverse"],["type","submit",1,"m-2","btn","btn-success",2,"margin-left","auto !important",3,"disabled"],[1,"overflow-auto"],["class","card inc-upd-card p-3 mb-3",4,"ngFor","ngForOf"],[1,"card","inc-upd-card","p-3","mb-3"],[1,"m-text","me-3","my-auto"],[1,"d-flex","flex-grow-1"],[4,"ngIf","ngIfElse"],["showIconProfile",""],["ngbTooltip","Author","placement","right",1,"my-auto",3,"openDelay"],["ngbTooltip","Date","placement","right",1,"bi","bi-calendar-date","me-3","my-auto",2,"font-size","20px !important",3,"openDelay"],[1,"text-break","my-2"],["class","d-flex me-3 my-1",4,"ngIf"],["class","d-flex flex-grow-1 me-3 my-1",4,"ngIf"],["alt","Author","ngbTooltip","Author","placement","right",1,"profile-image","me-2","my-auto",3,"src","openDelay"],["ngbTooltip","Author","placement","right",1,"bi","bi-person-circle","me-2","my-auto",2,"font-size","25px !important",3,"openDelay"],[1,"d-flex","me-3","my-1"],[1,"d-flex","flex-grow-1","me-3","my-1"],["ngbTooltip","Assigned user","placement","right",1,"my-auto",3,"openDelay"],["alt","Assigned user","ngbTooltip","Author","placement","right",1,"profile-image","me-2","my-auto",2,"height","30px !important","width","30px !important",3,"src","openDelay"],["ngbTooltip","Assigned user","placement","right",1,"bi","bi-person-circle","me-2","my-auto",2,"font-size","20px !important",3,"openDelay"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1),ie(2,gae,4,2,"div",2),N(),M(3,"div",3),ie(4,mae,2,1,"a",4),N()(),_e(5,"hr",5),ie(6,_ae,2,1,"div",6),M(7,"div",7)(8,"ag-grid-angular",8),Ve("gridReady",function(d){return i.onGridReady(d)})("rowDoubleClicked",function(d){return i.loadSelectedRow(d)}),N()(),_e(9,"button",9,10),M(11,"div",11)(12,"div")(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15),ie(17,vae,2,0,"div",16),ie(18,yae,2,2,"div",16),M(19,"div",17,18),_e(21,"em",19),N()(),ie(22,Cae,2,1,"div",20),M(23,"div",21)(24,"div",22)(25,"div")(26,"div",23),ie(27,Dae,23,15,"div",24),ie(28,Aae,11,2,"div",24),ie(29,kae,4,1,"div",25),ie(30,Rae,4,1,"div",25),ie(31,Oae,4,1,"div",26),ie(32,Pae,4,1,"div",26),ie(33,Iae,4,1,"div",26),ie(34,Mae,4,1,"div",26),ie(35,Nae,4,1,"div",26),ie(36,Fae,4,1,"div",26),ie(37,Lae,5,0,"div",27),N(),_e(38,"div",28),N(),ie(39,cle,3,2,"div",29),N()()()()()()()),2&e&&(V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length),V(2),U("ngIf",i.adminAccess),V(2),U("ngIf",i.containError),V(2),U("rowData",i.incidents)("columnDefs",i.incCol)("cacheBlockSize",i.pageSize)("pagination",!0)("paginationPageSize",i.pageSize)("enableRangeSelection",!0)("rowModelType","infinite"),V(4),dt("modal-dialog ",null!=i.selectedIncident?"modal-xl":"",""),V(5),U("ngIf",null==i.selectedIncident),V(1),U("ngIf",null!=i.selectedIncident),V(4),U("ngIf",i.incidentContainError),V(3),dt("",null!=i.selectedIncident?"col-lg-5":"col-lg-12"," mt-2"),V(2),U("ngIf",i.isEditable&&i.adminAccess),V(1),U("ngIf",!(i.isEditable&&i.adminAccess)&&null!=i.selectedIncident),V(1),U("ngIf",null!=i.selectedIncident&&null!=i.selectedIncident.date),V(1),U("ngIf",null!=i.selectedIncident&&null!=i.selectedIncident.lastModification),V(1),U("ngIf",null!=i.selectedIncident&&null!=i.selectedIncident.assignedUsername),V(1),U("ngIf",null!=i.selectedIncident&&null!=i.selectedIncident.username),V(1),U("ngIf",null!=i.selectedIncident&&null!=i.selectedIncident.estimatedTime),V(1),U("ngIf",null!=i.selectedIncident&&null!=i.selectedIncident.priority),V(1),U("ngIf",null!=i.selectedIncident&&null!=i.selectedIncident.affects),V(1),U("ngIf",null!=i.selectedIncident&&null!=i.selectedIncident.status),V(1),U("ngIf",!(i.isEditable&&i.adminAccess)&&null!=i.selectedIncident),V(2),U("ngIf",null!=i.selectedIncident))},directives:[Zn,_o,_i,Zr,Jr,xv,ss,os,mo,fo,rs,Bo,Ho,ia,nh,rh,gl],styles:[".inc-upd-card[_ngcontent-%COMP%]{background-color:var(--dark-pallete-2)!important;border-radius:10px!important}"]}),t})(),Uw=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/security/actives/"}findActivesByProject(e,i,a,d,h,m){let x=this.hostUrl+"project/"+e,R=Wf.getAgGridParams(i,a,d,h,m);return this.httpClient.get(x,{params:R})}getActiveById(e){return this.httpClient.get(this.hostUrl+e)}createActive(e){return this.httpClient.post(this.hostUrl,e)}updateActive(e){return this.httpClient.put(this.hostUrl,e)}disableActive(e){return this.httpClient.delete(this.hostUrl+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class dle{constructor(n,e,i,a,d,h,m,x,R,L,W,X,re,ge,be,ve,De,Ee,Me){this.name=n,this.description=e,this.type=i,this.company=a,this.product=d,this.version=h,this.cpeType=m,this.cpe=x,this.importance=R,this.startAdquisition=L,this.endAdquisition=W,this.endOfLife=X,this.cost=re,this.periodicity=ge,this.subscriptionType=be,this.location=ve,this.children=De,this.activeUsers=Ee,this.projectId=Me}}class hle{constructor(n,e,i,a,d,h,m,x,R,L,W,X,re,ge,be,ve,De,Ee,Me){this.id=n,this.name=e,this.description=i,this.type=a,this.company=d,this.product=h,this.version=m,this.cpeType=x,this.cpe=R,this.importance=L,this.startAdquisition=W,this.endAdquisition=X,this.endOfLife=re,this.cost=ge,this.periodicity=be,this.subscriptionType=ve,this.location=De,this.children=Ee,this.activeUsers=Me}}class ple{constructor(n,e,i,a,d){this.status=n,this.serial=e,this.notes=i,this.ips=a,this.username=d}}class fle{constructor(n,e,i,a,d,h){this.id=n,this.status=e,this.serial=i,this.notes=a,this.ips=d,this.user=h}}const gle=["closeModalActive"];function mle(t,n){if(1&t&&(M(0,"div",13),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageError," ")}}function _le(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("Type: ",e.selectedActive.type,"")}}function vle(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("Company: ",e.selectedActive.company,"")}}function yle(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("Product: ",e.selectedActive.product,"")}}function Cle(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("Version: ",e.selectedActive.version,"")}}function ble(t,n){if(1&t&&(M(0,"div",34)(1,"div",35),K(2),N(),M(3,"div",39),K(4),N()()),2&t){const e=ae(2);V(2),it("",e.selectedActive.cpeType,":"),V(2),Gt(e.selectedActive.cpe)}}function wle(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("Importance: ",e.selectedActive.importance,"")}}function xle(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("Location: ",e.selectedActive.location,"")}}function Sle(t,n){if(1&t&&(M(0,"div"),K(1),N()),2&t){const e=ae(2);V(1),Gt(e.selectedActive.cost)}}function Tle(t,n){1&t&&(M(0,"div"),K(1,"/"),N())}function Ele(t,n){if(1&t&&(M(0,"div"),K(1),N()),2&t){const e=ae(2);V(1),Gt(e.selectedActive.periodicity)}}function Dle(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("Start adquisition: ",e.getFormatedDate(e.selectedActive.startAdquisition,"HH:mm:ss dd/MM/yyyy"),"")}}function Ale(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("End adquisition: ",e.getFormatedDate(e.selectedActive.endAdquisition,"HH:mm:ss dd/MM/yyyy"),"")}}function kle(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("End of life: ",e.getFormatedDate(e.selectedActive.endOfLife,"HH:mm:ss dd/MM/yyyy"),"")}}function Rle(t,n){if(1&t&&(M(0,"div",34)(1,"div"),K(2),N()()),2&t){const e=ae(2);V(2),it("Subscription type: ",e.selectedActive.subscriptionType,"")}}function Ole(t,n){if(1&t&&(M(0,"div",48),_e(1,"show-user",30),N()),2&t){const e=ae().$implicit;V(1),U("user",e.user)}}function Ple(t,n){if(1&t&&(M(0,"div",49)(1,"div"),K(2),N()()),2&t){const e=ae().$implicit;V(2),it("Status: ",e.status,"")}}function Ile(t,n){if(1&t&&(M(0,"div",49)(1,"div"),K(2),N()()),2&t){const e=ae().$implicit;V(2),it("Serial: ",e.serial,"")}}function Mle(t,n){if(1&t&&(M(0,"div",49)(1,"div"),K(2),N()()),2&t){const e=ae().$implicit;V(2),it("IPs: ",e.ips,"")}}function Nle(t,n){if(1&t&&(M(0,"div",50)(1,"div"),K(2,"Notes:"),N(),M(3,"div",39),K(4),N()()),2&t){const e=ae().$implicit;V(4),Gt(e.notes)}}function Fle(t,n){if(1&t&&(M(0,"div",43),ie(1,Ole,2,1,"div",44),M(2,"div",45),ie(3,Ple,3,1,"div",46),ie(4,Ile,3,1,"div",46),ie(5,Mle,3,1,"div",46),ie(6,Nle,5,1,"div",47),N()()),2&t){const e=n.$implicit;V(1),U("ngIf",e.status),V(2),U("ngIf",e.status),V(1),U("ngIf",e.serial),V(1),U("ngIf",e.ips),V(1),U("ngIf",e.notes)}}function Lle(t,n){if(1&t&&(M(0,"div",40)(1,"div",32),_e(2,"em",41),M(3,"div",24),K(4,"User assignations"),N()(),ie(5,Fle,7,5,"div",42),N()),2&t){const e=ae(2);V(5),U("ngForOf",e.selectedActive.activeUsers)}}function Vle(t,n){if(1&t&&(M(0,"div",55)(1,"div"),K(2),N()()),2&t){const e=ae().$implicit;V(2),Li("#",e.code,": ",e.name,"")}}function Gle(t,n){if(1&t&&(M(0,"div",53),ie(1,Vle,3,2,"div",54),N()),2&t){const e=n.$implicit;V(1),U("ngIf",null!=e.code&&null!=e.name)}}function Ble(t,n){if(1&t&&(M(0,"div",40)(1,"div",32),_e(2,"em",51),M(3,"div",24),K(4,"Childrens"),N()(),ie(5,Gle,2,1,"div",52),N()),2&t){const e=ae(2);V(5),U("ngForOf",e.selectedActive.children)}}function Hle(t,n){if(1&t){const e=Tt();M(0,"div",56)(1,"button",57),Ve("click",function(){return Xe(e),ae(2).edit()}),_e(2,"em",58),M(3,"div",59),K(4,"Edit"),N()()()}}function jle(t,n){if(1&t&&(M(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17),_e(4,"em",18),M(5,"div",19),K(6,"Description"),N()(),M(7,"div",20),K(8),N()(),M(9,"div",21)(10,"div",22),_e(11,"em",23),M(12,"div",24),K(13,"Product"),N()(),ie(14,_le,3,1,"div",25),ie(15,vle,3,1,"div",25),ie(16,yle,3,1,"div",25),ie(17,Cle,3,1,"div",25),ie(18,ble,5,2,"div",25),ie(19,wle,3,1,"div",25),ie(20,xle,3,1,"div",25),M(21,"div",26),_e(22,"em",27),M(23,"div",24),K(24,"History"),N()(),M(25,"div",28)(26,"div",29),K(27,"Creation: "),N(),_e(28,"show-user",30),M(29,"div",31),K(30),N()(),M(31,"div",28)(32,"div",29),K(33,"Modified: "),N(),_e(34,"show-user",30),M(35,"div",31),K(36),N()(),M(37,"div",32),_e(38,"em",33),M(39,"div",24),K(40,"Adquisition"),N()(),M(41,"div",34)(42,"div",35),K(43,"Cost:"),N(),ie(44,Sle,2,1,"div",36),ie(45,Tle,2,0,"div",36),ie(46,Ele,2,1,"div",36),N(),ie(47,Dle,3,1,"div",25),ie(48,Ale,3,1,"div",25),ie(49,kle,3,1,"div",25),ie(50,Rle,3,1,"div",25),N(),ie(51,Lle,6,1,"div",37),ie(52,Ble,6,1,"div",37),ie(53,Hle,5,0,"div",38),N()()),2&t){const e=ae();V(8),Gt(e.selectedActive.description),V(6),U("ngIf",e.selectedActive.type),V(1),U("ngIf",e.selectedActive.company),V(1),U("ngIf",e.selectedActive.product),V(1),U("ngIf",e.selectedActive.version),V(1),U("ngIf",e.selectedActive.cpeType&&e.selectedActive.cpe),V(1),U("ngIf",e.selectedActive.importance),V(1),U("ngIf",e.selectedActive.location),V(8),U("user",e.selectedActive.createdBy),V(2),it("(",e.getFormatedDate(e.selectedActive.creationDate,"HH:mm:ss dd/MM/yyyy"),")"),V(4),U("user",e.selectedActive.modifiedBy),V(2),it("(",e.getFormatedDate(e.selectedActive.lastModification,"HH:mm:ss dd/MM/yyyy"),")"),V(8),U("ngIf",e.selectedActive.cost),V(1),U("ngIf",e.selectedActive.cost&&e.selectedActive.periodicity),V(1),U("ngIf",e.selectedActive.periodicity),V(1),U("ngIf",null!=e.selectedActive.startAdquisition),V(1),U("ngIf",null!=e.selectedActive.endAdquisition),V(1),U("ngIf",null!=e.selectedActive.endOfLife),V(1),U("ngIf",e.selectedActive.subscriptionType),V(1),U("ngIf",null!=e.selectedActive.activeUsers&&0!=e.selectedActive.activeUsers.length),V(1),U("ngIf",null!=e.selectedActive.children&&0!=e.selectedActive.children.length),V(1),U("ngIf",e.isEditable&&null!=e.selectedActive)}}function $le(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Wle(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters "),N())}function Ule(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function zle(t,n){if(1&t&&(M(0,"div",114),ie(1,$le,2,0,"div",36),ie(2,Wle,2,0,"div",36),ie(3,Ule,2,0,"div",36),N()),2&t){const e=ae(2);let i,a,d;V(1),U("ngIf",null==(i=e.formActive.get("name"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formActive.get("name"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formActive.get("name"))||null==d.errors?null:d.errors.maxlength)}}function Yle(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function Kle(t,n){if(1&t&&(M(0,"div",114),ie(1,Yle,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("description"))||null==i.errors?null:i.errors.maxlength)}}function qle(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function Xle(t,n){if(1&t&&(M(0,"div",114),ie(1,qle,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("type"))||null==i.errors?null:i.errors.maxlength)}}function Qle(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function Zle(t,n){if(1&t&&(M(0,"div",114),ie(1,Qle,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("company"))||null==i.errors?null:i.errors.maxlength)}}function Jle(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function ece(t,n){if(1&t&&(M(0,"div",114),ie(1,Jle,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("product"))||null==i.errors?null:i.errors.maxlength)}}function tce(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function nce(t,n){if(1&t&&(M(0,"div",114),ie(1,tce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("version"))||null==i.errors?null:i.errors.maxlength)}}function ice(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function rce(t,n){if(1&t&&(M(0,"div",114),ie(1,ice,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("cpe"))||null==i.errors?null:i.errors.maxlength)}}function oce(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function sce(t,n){if(1&t&&(M(0,"div",114),ie(1,oce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("importance"))||null==i.errors?null:i.errors.maxlength)}}function ace(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function lce(t,n){if(1&t&&(M(0,"div",114),ie(1,ace,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("location"))||null==i.errors?null:i.errors.maxlength)}}function cce(t,n){1&t&&(M(0,"div"),K(1,"Cannot be negative"),N())}function uce(t,n){if(1&t&&(M(0,"div",114),ie(1,cce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("cost"))||null==i.errors?null:i.errors.min)}}function dce(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function hce(t,n){if(1&t&&(M(0,"div",114),ie(1,dce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("periodicity"))||null==i.errors?null:i.errors.maxlength)}}function pce(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function fce(t,n){if(1&t&&(M(0,"div",114),ie(1,pce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formActive.get("subscriptionType"))||null==i.errors?null:i.errors.maxlength)}}function gce(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function mce(t,n){if(1&t&&(M(0,"div",114),ie(1,gce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formAddUserAssignation.get("username"))||null==i.errors?null:i.errors.maxlength)}}function _ce(t,n){if(1&t&&(M(0,"option"),K(1),N()),2&t){const e=n.$implicit;V(1),Gt(e.username)}}function vce(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function yce(t,n){if(1&t&&(M(0,"div",114),ie(1,vce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formAddUserAssignation.get("status"))||null==i.errors?null:i.errors.maxlength)}}function Cce(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function bce(t,n){if(1&t&&(M(0,"div",114),ie(1,Cce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formAddUserAssignation.get("serial"))||null==i.errors?null:i.errors.maxlength)}}function wce(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function xce(t,n){if(1&t&&(M(0,"div",114),ie(1,wce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formAddUserAssignation.get("ips"))||null==i.errors?null:i.errors.maxlength)}}function Sce(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function Tce(t,n){if(1&t&&(M(0,"div",114),ie(1,Sce,2,0,"div",36),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formAddUserAssignation.get("notes"))||null==i.errors?null:i.errors.maxlength)}}function Ece(t,n){if(1&t){const e=Tt();M(0,"div",120),_e(1,"show-user",121),M(2,"em",122),Ve("click",function(){Xe(e);const a=ae().index;return ae(2).removeActiveUserForm(a)}),N()()}if(2&t){const e=ae().index,i=ae(2);V(1),U("username",i.activeUsers.controls[e].value.username)("imageUrl",i.activeUsers.controls[e].value.imageUid)}}function Dce(t,n){if(1&t&&(M(0,"div",123)(1,"div",59),K(2),N()()),2&t){const e=ae().index,i=ae(2);V(2),it("Status: ",i.activeUsers.controls[e].value.status,"")}}function Ace(t,n){if(1&t&&(M(0,"div",123)(1,"div",59),K(2),N()()),2&t){const e=ae().index,i=ae(2);V(2),it("Serial: ",i.activeUsers.controls[e].value.serial,"")}}function kce(t,n){if(1&t&&(M(0,"div",123)(1,"div",59),K(2),N()()),2&t){const e=ae().index,i=ae(2);V(2),it("IPs: ",i.activeUsers.controls[e].value.ips,"")}}function Rce(t,n){if(1&t&&(M(0,"div",124)(1,"div",59),K(2,"Notes:"),N(),M(3,"div",39),K(4),N()()),2&t){const e=ae().index,i=ae(2);V(4),Gt(i.activeUsers.controls[e].value.notes)}}function Oce(t,n){1&t&&_e(0,"hr",125)}function Pce(t,n){if(1&t&&(M(0,"div",115),ie(1,Ece,3,2,"div",116),M(2,"div",45),ie(3,Dce,3,1,"div",117),ie(4,Ace,3,1,"div",117),ie(5,kce,3,1,"div",117),ie(6,Rce,5,1,"div",118),N(),ie(7,Oce,1,0,"hr",119),N()),2&t){const e=n.index,i=ae(2);V(1),U("ngIf",i.activeUsers.controls[e].value.username),V(2),U("ngIf",i.activeUsers.controls[e].value.status),V(1),U("ngIf",i.activeUsers.controls[e].value.serial),V(1),U("ngIf",i.activeUsers.controls[e].value.ips),V(1),U("ngIf",i.activeUsers.controls[e].value.notes),V(1),U("ngIf",i.activeUsers.controls.length>e+1)}}function Ice(t,n){if(1&t&&(M(0,"option"),K(1),N()),2&t){const e=n.$implicit;kt("data-value",e.id+","+e.code+","+e.name),V(1),it(" ",e.name+" (#"+e.code+")"," ")}}function Mce(t,n){if(1&t){const e=Tt();M(0,"div",126)(1,"div",59),K(2),N(),M(3,"em",127),Ve("click",function(){const d=Xe(e).index;return ae(2).removeChildrenForm(d)}),N()()}if(2&t){const e=n.index,i=ae(2);V(2),Li("#",i.childrens.controls[e].value.code,": ",i.childrens.controls[e].value.name," ")}}function Nce(t,n){if(1&t){const e=Tt();M(0,"button",128),Ve("click",function(){return Xe(e),ae(2).disableActive()}),K(1,"Disable"),N()}}function Fce(t,n){if(1&t){const e=Tt();M(0,"div",60)(1,"form",61),Ve("ngSubmit",function(){return Xe(e),ae().uploadTask()}),M(2,"div",62)(3,"div",29),K(4,"Name:"),N(),_e(5,"input",63),ie(6,zle,4,3,"div",64),N(),M(7,"div",65)(8,"div",29),K(9,"Description:"),N(),_e(10,"textarea",66),ie(11,Kle,2,1,"div",64),N(),M(12,"div",67),_e(13,"em",23),M(14,"div",24),K(15,"Product"),N()(),M(16,"div",68)(17,"div",29),K(18,"Type:"),N(),_e(19,"input",69),ie(20,Xle,2,1,"div",64),M(21,"datalist",70)(22,"option"),K(23,"Hardware"),N(),M(24,"option"),K(25,"Hardware/Desktop computer"),N(),M(26,"option"),K(27,"Hardware/Laptop"),N(),M(28,"option"),K(29,"Hardware/IoT"),N(),M(30,"option"),K(31,"Hardware/Network"),N(),M(32,"option"),K(33,"Hardware/Server"),N(),M(34,"option"),K(35,"Hardware/Screen"),N(),M(36,"option"),K(37,"Hardware/Printer"),N(),M(38,"option"),K(39,"Hardware/Speakers"),N(),M(40,"option"),K(41,"Hardware/Mouse"),N(),M(42,"option"),K(43,"Hardware/Keyboard"),N(),M(44,"option"),K(45,"Hardware/Storage device"),N(),M(46,"option"),K(47,"Software"),N(),M(48,"option"),K(49,"Software/Operating system"),N(),M(50,"option"),K(51,"Software/BIOS"),N(),M(52,"option"),K(53,"Software/Application"),N(),M(54,"option"),K(55,"Software/Website"),N(),M(56,"option"),K(57,"Cloud"),N(),M(58,"option"),K(59,"Cloud/Server"),N(),M(60,"option"),K(61,"Cloud/SaaS"),N(),M(62,"option"),K(63,"Cloud/PaaS"),N(),M(64,"option"),K(65,"Service"),N(),M(66,"option"),K(67,"Other"),N()()(),M(68,"div",68)(69,"div",29),K(70,"Company:"),N(),_e(71,"input",71),ie(72,Zle,2,1,"div",64),N(),M(73,"div",68)(74,"div",29),K(75,"Product:"),N(),_e(76,"input",72),ie(77,ece,2,1,"div",64),N(),M(78,"div",68)(79,"div",29),K(80,"Version:"),N(),_e(81,"input",73),ie(82,nce,2,1,"div",64),N(),M(83,"div",68)(84,"div",74),K(85,"CPE type:"),N(),M(86,"select",75)(87,"option"),K(88,"CPE 2.2"),N(),M(89,"option"),K(90,"CPE 2.3"),N()()(),M(91,"div",68)(92,"div",29),K(93,"CPE:"),N(),_e(94,"input",76),ie(95,rce,2,1,"div",64),N(),M(96,"div",68)(97,"div",29),K(98,"Importance:"),N(),_e(99,"input",77),ie(100,sce,2,1,"div",64),M(101,"datalist",78)(102,"option"),K(103,"Very high"),N(),M(104,"option"),K(105,"High"),N(),M(106,"option"),K(107,"Medium"),N(),M(108,"option"),K(109,"Low"),N(),M(110,"option"),K(111,"Very low"),N()()(),M(112,"div",68)(113,"div",29),K(114,"Location:"),N(),_e(115,"input",79),ie(116,lce,2,1,"div",64),N(),M(117,"div",67),_e(118,"em",33),M(119,"div",24),K(120,"Adquisition"),N()(),M(121,"div",68)(122,"div",29),K(123,"Cost:"),N(),_e(124,"input",80),ie(125,uce,2,1,"div",64),N(),M(126,"div",68)(127,"div",29),K(128,"Periodicity:"),N(),_e(129,"input",81),ie(130,hce,2,1,"div",64),M(131,"datalist",82)(132,"option"),K(133,"Once"),N(),M(134,"option"),K(135,"Per year"),N(),M(136,"option"),K(137,"Per month"),N(),M(138,"option"),K(139,"Per day"),N()()(),M(140,"div",68)(141,"div",74),K(142,"Start adquisition:"),N(),_e(143,"input",83),N(),M(144,"div",68)(145,"div",74),K(146,"End adquisition:"),N(),_e(147,"input",84),N(),M(148,"div",68)(149,"div",74),K(150,"End of life:"),N(),_e(151,"input",85),N(),M(152,"div",68)(153,"div",74),K(154,"Subscription type:"),N(),_e(155,"input",86),ie(156,fce,2,1,"div",64),M(157,"datalist",87)(158,"option"),K(159,"Open Source"),N(),M(160,"option"),K(161,"Free"),N(),M(162,"option"),K(163,"Freemium"),N(),M(164,"option"),K(165,"Basic"),N(),M(166,"option"),K(167,"Premium"),N(),M(168,"option"),K(169,"Pro"),N(),M(170,"option"),K(171,"Ultimate"),N(),M(172,"option"),K(173,"Monthly"),N(),M(174,"option"),K(175,"Annually"),N()()(),M(176,"div",88)(177,"div",89),_e(178,"em",41),M(179,"div",24),K(180,"User assignations"),N()(),M(181,"form",90),Ve("ngSubmit",function(){return Xe(e),ae().addActiveUserFormInput()}),M(182,"div",91)(183,"div",29),K(184,"User (username):"),N(),_e(185,"input",92),ie(186,mce,2,1,"div",64),M(187,"datalist",93),ie(188,_ce,2,1,"option",94),N()(),M(189,"div",91)(190,"div",29),K(191,"Status:"),N(),_e(192,"input",95),ie(193,yce,2,1,"div",64),M(194,"datalist",96)(195,"option"),K(196,"Very high"),N(),M(197,"option"),K(198,"High"),N(),M(199,"option"),K(200,"Medium"),N(),M(201,"option"),K(202,"Low"),N(),M(203,"option"),K(204,"Very low"),N()()(),M(205,"div",91)(206,"div",29),K(207,"Serial:"),N(),_e(208,"input",97),ie(209,bce,2,1,"div",64),N(),M(210,"div",91)(211,"div",29),K(212,"IPs:"),N(),_e(213,"input",98),ie(214,xce,2,1,"div",64),N(),M(215,"div",65)(216,"div",29),K(217,"Notes:"),N(),_e(218,"textarea",99),ie(219,Tce,2,1,"div",64),N(),M(220,"div",100)(221,"button",101),K(222," Add "),N()()(),ie(223,Pce,8,6,"div",102),N(),M(224,"div",40)(225,"div",89),_e(226,"em",51),M(227,"div",24),K(228,"Childrens"),N()(),M(229,"form",103),Ve("ngSubmit",function(){return Xe(e),ae().addChildrenFormInput()}),_e(230,"em",104),M(231,"input",105),Ve("keyup",function(a){return Xe(e),ae().searchChildrenByName(a.target)}),N(),M(232,"datalist",106),ie(233,Ice,2,2,"option",94),N(),M(234,"button",107),K(235," Add "),N()(),M(236,"div",108),ie(237,Mce,4,2,"div",109),N()(),M(238,"div",110)(239,"button",111),Ve("click",function(){return Xe(e),ae().edit()}),K(240,"Close"),N(),ie(241,Nce,2,0,"button",112),M(242,"button",113),K(243),N()()()()}if(2&t){const e=ae();let i,a,d,h,m,x,R,L,W,X,re,ge,be,ve,De,Ee,Me;V(1),U("formGroup",e.formActive),V(4),dt("form-control ",e.inputClass(e.formActive,"name"),""),V(1),U("ngIf",(null==(i=e.formActive.get("name"))?null:i.touched)&&(null==(i=e.formActive.get("name"))?null:i.invalid)),V(4),dt("form-control ",e.inputClass(e.formActive,"description"),""),V(1),U("ngIf",(null==(a=e.formActive.get("description"))?null:a.touched)&&(null==(a=e.formActive.get("description"))?null:a.invalid)),V(8),dt("form-control ",e.inputClass(e.formActive,"type"),""),V(1),U("ngIf",(null==(d=e.formActive.get("type"))?null:d.touched)&&(null==(d=e.formActive.get("type"))?null:d.invalid)),V(51),dt("form-control ",e.inputClass(e.formActive,"company"),""),V(1),U("ngIf",(null==(h=e.formActive.get("company"))?null:h.touched)&&(null==(h=e.formActive.get("company"))?null:h.invalid)),V(4),dt("form-control ",e.inputClass(e.formActive,"product"),""),V(1),U("ngIf",(null==(m=e.formActive.get("product"))?null:m.touched)&&(null==(m=e.formActive.get("product"))?null:m.invalid)),V(4),dt("form-control ",e.inputClass(e.formActive,"version"),""),V(1),U("ngIf",(null==(x=e.formActive.get("version"))?null:x.touched)&&(null==(x=e.formActive.get("version"))?null:x.invalid)),V(4),dt("form-control ",e.inputClass(e.formActive,"cpeType"),""),V(8),dt("form-control ",e.inputClass(e.formActive,"cpe"),""),V(1),U("ngIf",(null==(R=e.formActive.get("cpe"))?null:R.touched)&&(null==(R=e.formActive.get("cpe"))?null:R.invalid)),V(4),dt("form-control ",e.inputClass(e.formActive,"importance"),""),V(1),U("ngIf",(null==(L=e.formActive.get("importance"))?null:L.touched)&&(null==(L=e.formActive.get("importance"))?null:L.invalid)),V(15),dt("form-control ",e.inputClass(e.formActive,"location"),""),V(1),U("ngIf",(null==(W=e.formActive.get("location"))?null:W.touched)&&(null==(W=e.formActive.get("location"))?null:W.invalid)),V(8),dt("form-control ",e.inputClass(e.formActive,"cost"),""),V(1),U("ngIf",(null==(X=e.formActive.get("cost"))?null:X.touched)&&(null==(X=e.formActive.get("cost"))?null:X.invalid)),V(4),dt("form-control ",e.inputClass(e.formActive,"periodicity"),""),V(1),U("ngIf",(null==(re=e.formActive.get("periodicity"))?null:re.touched)&&(null==(re=e.formActive.get("periodicity"))?null:re.invalid)),V(13),dt("form-control ",e.inputClass(e.formActive,"startAdquisition"),""),V(4),dt("form-control ",e.inputClass(e.formActive,"endAdquisition"),""),qn("min",e.getFormatedDateTimeLikeInput(e.formActive.value.startAdquisition)),V(4),dt("form-control ",e.inputClass(e.formActive,"endOfLife"),""),V(4),dt("form-control ",e.inputClass(e.formActive,"subscriptionType"),""),V(1),U("ngIf",(null==(ge=e.formActive.get("subscriptionType"))?null:ge.touched)&&(null==(ge=e.formActive.get("subscriptionType"))?null:ge.invalid)),V(25),U("formGroup",e.formAddUserAssignation),V(4),dt("form-control ",e.inputClass(e.formAddUserAssignation,"username"),""),V(1),U("ngIf",(null==(be=e.formAddUserAssignation.get("username"))?null:be.touched)&&(null==(be=e.formAddUserAssignation.get("username"))?null:be.invalid)),V(2),U("ngForOf",e.usersInProject),V(4),dt("form-control ",e.inputClass(e.formAddUserAssignation,"status"),""),V(1),U("ngIf",(null==(ve=e.formAddUserAssignation.get("status"))?null:ve.touched)&&(null==(ve=e.formAddUserAssignation.get("status"))?null:ve.invalid)),V(15),dt("form-control ",e.inputClass(e.formAddUserAssignation,"serial"),""),V(1),U("ngIf",(null==(De=e.formAddUserAssignation.get("serial"))?null:De.touched)&&(null==(De=e.formAddUserAssignation.get("serial"))?null:De.invalid)),V(4),dt("form-control ",e.inputClass(e.formAddUserAssignation,"ips"),""),V(1),U("ngIf",(null==(Ee=e.formAddUserAssignation.get("ips"))?null:Ee.touched)&&(null==(Ee=e.formAddUserAssignation.get("ips"))?null:Ee.invalid)),V(4),dt("form-control ",e.inputClass(e.formAddUserAssignation,"notes"),""),V(1),U("ngIf",(null==(Me=e.formAddUserAssignation.get("notes"))?null:Me.touched)&&(null==(Me=e.formAddUserAssignation.get("notes"))?null:Me.invalid)),V(2),U("disabled",!e.formAddChild.valid),V(2),U("ngForOf",e.activeUsers.controls),V(6),U("formGroup",e.formAddChild),V(4),U("ngForOf",e.searchChildren),V(1),U("disabled",!e.formAddChild.valid),V(3),U("ngForOf",e.childrens.controls),V(4),U("ngIf",null!=e.selectedActive&&0==e.selectedActive.children.length),V(1),U("disabled",!e.formActive.valid),V(1),Gt(null==e.selectedActive?"Create":"Edit")}}let Lce=(()=>{class t{constructor(e,i,a){this.userService=e,this.formBuilder=i,this.activeService=a,this.isEditable=!1,this.isEditing=!1,this.reload=new Ae,this.containError=!1,this.searchChildren=[],this.assignedChildrens=[],this.usersInProject=[],this.formActive=this.formBuilder.group({name:["",[Jt.required]],description:["",[]],type:["",[]],company:["",[]],product:["",[]],version:["",[]],cpeType:["",[]],cpe:["",[]],importance:["",[]],startAdquisition:["",[]],endAdquisition:["",[]],endOfLife:["",[]],cost:["",[]],periodicity:["",[]],subscriptionType:["",[]],location:["",[]],children:this.formBuilder.array([]),activeUsers:this.formBuilder.array([])}),this.formAddChild=this.formBuilder.group({children:["",[]]}),this.formAddUserAssignation=this.formBuilder.group({username:["",[]],imageUid:["",[]],status:["",[]],serial:["",[]],notes:["",[]],ips:["",[]]})}ngOnInit(){}inputClass(e,i){var a,d,h,m;return(null===(a=null==e?void 0:e.get(i))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(i))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(i))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(i))||void 0===m?void 0:m.invalid)?"is-invalid":""}edit(){this.isEditing=!this.isEditing,this.isEditing&&this.buildForm()}buildForm(){this.formActive.reset(),null!=this.selectedActive&&(this.formActive=this.formBuilder.group({name:[this.selectedActive.name,[]],description:[this.selectedActive.description,[]],type:[this.selectedActive.type,[]],company:[this.selectedActive.company,[]],product:[this.selectedActive.product,[]],version:[this.selectedActive.version,[]],cpeType:[this.selectedActive.cpeType,[]],cpe:[this.selectedActive.cpe,[]],importance:[this.selectedActive.importance,[]],startAdquisition:[this.getFormatedDateTimeLikeInput(this.selectedActive.startAdquisition),[]],endAdquisition:[this.getFormatedDateTimeLikeInput(this.selectedActive.endAdquisition),[]],endOfLife:[this.getFormatedDateTimeLikeInput(this.selectedActive.endOfLife),[]],cost:[this.selectedActive.cost,[]],periodicity:[this.selectedActive.periodicity,[]],subscriptionType:[this.selectedActive.subscriptionType,[]],location:[this.selectedActive.location,[]],children:this.formBuilder.array([]),activeUsers:this.formBuilder.array([])}),null!=this.selectedActive.children&&this.selectedActive.children.forEach(e=>this.addChildrenForm(e)),null!=this.selectedActive.activeUsers&&this.selectedActive.activeUsers.forEach(e=>this.addActiveUserForm(e)))}clearForms(){this.formActive.reset(),this.formAddChild.reset(),this.formAddUserAssignation.reset()}handleNext(e){this.selectedActive=e,this.clearForms(),this.reload.emit(!0),this.containError=!1,this.edit()}handleError(e){let i=e.error.text;null==i&&(i="Error produced"),this.messageError=i,this.containError=!0}uploadTask(){null==this.selectedActive?this.newActive():this.editActive()}childrensToSave(){return this.childrens.controls.map(e=>e.value.id)}activeUsersToSave(){return this.activeUsers?this.activeUsers.controls.map(e=>new ple(e.value.status,e.value.serial,e.value.notes,e.value.ips,e.value.username)):[]}newActive(){if(this.projectId){let e=new dle(this.formActive.value.name,this.formActive.value.description,this.formActive.value.type,this.formActive.value.company,this.formActive.value.product,this.formActive.value.version,this.formActive.value.cpeType,this.formActive.value.cpe,this.formActive.value.importance,new Date(this.formActive.value.startAdquisition),new Date(this.formActive.value.endAdquisition),new Date(this.formActive.value.endOfLife),this.formActive.value.cost,this.formActive.value.periodicity,this.formActive.value.subscriptionType,this.formActive.value.location,this.childrensToSave(),this.activeUsersToSave(),this.projectId);this.activeService.createActive(e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}editActive(){if(this.projectId&&this.selectedActive){let e=new hle(this.selectedActive.id,this.formActive.value.name,this.formActive.value.description,this.formActive.value.type,this.formActive.value.company,this.formActive.value.product,this.formActive.value.version,this.formActive.value.cpeType,this.formActive.value.cpe,this.formActive.value.importance,new Date(this.formActive.value.startAdquisition),new Date(this.formActive.value.endAdquisition),new Date(this.formActive.value.endOfLife),this.formActive.value.cost,this.formActive.value.periodicity,this.formActive.value.subscriptionType,this.formActive.value.location,this.childrensToSave(),this.activeUsersToSave());this.activeService.updateActive(e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}disableActive(){this.selectedActive&&this.activeService.disableActive(this.selectedActive.id).subscribe({next:e=>{this.handleNext(void 0),this.closeModalActive.nativeElement.click()},error:e=>{this.handleError(e)}})}getFormatedDateTimeLikeInput(e){return this.getFormatedDate(e,"yyyy-MM-ddTHH:mm:ss")}getFormatedDate(e,i){return new Tu("en-US").transform(e,i)}getProfileImageUrlFromUser(e){return this.userService.getUrlFromProfile(e.imageUid)}searchChildrenByName(e){this.projectId&&this.activeService.findActivesByProject(this.projectId,0,5,[],{name:{filterType:"text",type:"contains",filter:e.value}},[{field:"name"}]).subscribe(i=>{this.searchChildren=i.content})}get childrens(){return this.formActive.get("children")}addChildrenFormInput(){if(this.projectId){let i=this.formAddChild.value.children.split("#")[1].split(")")[0];this.activeService.findActivesByProject(this.projectId,0,1,[],{code:{filterType:"text",type:"contains",filter:i}},[{field:"code"}]).subscribe(a=>{this.addChildrenForm(a.content[0])})}}addChildrenForm(e){if(e){let i=this.formBuilder.group({id:[e.id,[]],code:[e.code,[]],name:[e.name,[]]});this.childrens.push(i)}}removeChildrenForm(e){this.childrens.removeAt(e)}get activeUsers(){return this.formActive.get("activeUsers")}addActiveUserFormInput(){let e=this.usersInProject.filter(a=>a.username==this.formAddUserAssignation.value.username)[0],i=new fle(0,this.formAddUserAssignation.value.status,this.formAddUserAssignation.value.serial,this.formAddUserAssignation.value.notes,this.formAddUserAssignation.value.ips,e);this.addActiveUserForm(i),this.formAddUserAssignation.reset()}addActiveUserForm(e){let i=this.formBuilder.group({username:[e.user?e.user.username:"",[]],imageUid:[e.user?e.user.imageUid:"",[]],status:[e.status,[]],serial:[e.serial,[]],notes:[e.notes,[]],ips:[e.ips,[]]});this.activeUsers.push(i)}removeActiveUserForm(e){this.activeUsers.removeAt(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(pc),Ce(Ar),Ce(Uw))},t.\u0275cmp=zt({type:t,selectors:[["active-modal-view"]],viewQuery:function(e,i){if(1&e&&ni(gle,5),2&e){let a;qt(a=Xt())&&(i.closeModalActive=a.first)}},inputs:{isEditable:"isEditable",selectedActive:"selectedActive",projectId:"projectId",isEditing:"isEditing",usersInProject:"usersInProject"},outputs:{reload:"reload"},decls:14,vars:4,consts:[["id","activeModal","tabindex","-1","aria-labelledby","activeModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],["closeModalActive",""],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],["class","container",4,"ngIf"],["class","container p-3",4,"ngIf"],[1,"alert","alert-danger","mt-5"],[1,"container"],[1,"row"],[1,"col-lg-12","p-3"],[1,"d-flex","flex-wrap"],[1,"bi","bi-card-text","my-auto",2,"font-size","20px !important"],[1,"text-break","my-auto","mx-2"],[1,"text-break","my-auto","mt-2"],[1,"col-lg-12","d-flex","flex-wrap"],[1,"d-flex","w-100","mt-3","mb-2"],[1,"bi","bi-laptop","my-auto","me-3"],[1,"m-text","my-auto"],["class","w-50 d-flex p-2",4,"ngIf"],[1,"d-flex","w-100","mt-4","mb-1"],[1,"bi","bi-clock-history","my-auto","me-3"],[1,"w-50","p-2","d-flex","flex-wrap"],[1,"my-auto","me-2"],[3,"user"],[1,"my-auto","ms-2"],[1,"d-flex","w-100","mt-4","mb-2"],[1,"bi","bi-cart","my-auto","me-3"],[1,"w-50","d-flex","p-2"],[1,"me-2"],[4,"ngIf"],["class","col-lg-6",4,"ngIf"],["class","w-100 d-flex p-2 mt-2",4,"ngIf"],[1,"text-break"],[1,"col-lg-6"],[1,"bi","bi-people","my-auto","me-3"],["class","my-2",4,"ngFor","ngForOf"],[1,"my-2"],["class","w-100",4,"ngIf"],[1,"d-flex","flex-wrap","ms-5"],["class","w-50 d-flex",4,"ngIf"],["class","w-100 mt-2",4,"ngIf"],[1,"w-100"],[1,"w-50","d-flex"],[1,"w-100","mt-2"],[1,"bi","bi-diagram-2","my-auto","me-3"],["class","d-flex flex-wrap my-2 ms-5",4,"ngFor","ngForOf"],[1,"d-flex","flex-wrap","my-2","ms-5"],["class","w-100 d-flex",4,"ngIf"],[1,"w-100","d-flex"],[1,"w-100","d-flex","p-2","mt-2"],["type","button",1,"btn","btn-secondary","ms-auto","d-flex",3,"click"],[1,"bi","bi-sm","bi-pencil-fill","ms-auto","me-2"],[1,"my-auto"],[1,"container","p-3"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-12","my-3","d-flex"],["type","text","formControlName","name","maxlength","50","minlength","2"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12","my-3"],["formControlName","description","maxlength","255","rows","2"],[1,"col-lg-12","d-flex","mt-4","mb-2"],[1,"col-lg-12","d-flex","my-3"],["type","text","formControlName","type","list","typeLs","maxlength","50"],["id","typeLs"],["type","text","formControlName","company","maxlength","50"],["type","text","formControlName","product","maxlength","50"],["type","text","formControlName","version","maxlength","50"],[1,"my-auto","me-2","text-nowrap"],["formControlName","cpeType"],["type","text","formControlName","cpe","maxlength","255"],["type","text","formControlName","importance","list","importanceLs","maxlength","50"],["id","importanceLs"],["type","text","formControlName","location","maxlength","50"],["type","number","formControlName","cost","step","5","min","0","value","0"],["type","text","formControlName","periodicity","list","periodicityLs","maxlength","50"],["id","periodicityLs"],["type","datetime-local","formControlName","startAdquisition","min","1971-01-01"],["type","datetime-local","formControlName","endAdquisition",3,"min"],["type","datetime-local","formControlName","endOfLife","min","1971-01-01"],["type","text","formControlName","subscriptionType","list","subscriptionTypeLs","maxlength","50"],["id","subscriptionTypeLs"],["formArrayName","activeUsers",1,"col-lg-6"],[1,"d-flex","mt-4","mb-2"],[1,"my-4",3,"formGroup","ngSubmit"],[1,"d-flex","my-3"],["type","text","formControlName","username","list","usernameLs","maxlength","50"],["id","usernameLs"],[4,"ngFor","ngForOf"],["type","text","formControlName","status","list","statusLs","maxlength","50"],["id","statusLs"],["type","text","formControlName","serial","maxlength","255"],["type","text","formControlName","ips","maxlength","255"],["formControlName","notes","maxlength","255","rows","2"],[1,"my-auto","ms-auto","flex-row-reverse","d-flex"],[1,"btn","btn-success",3,"disabled"],["class","my-3",4,"ngFor","ngForOf"],[1,"d-flex","mt-4","mb-2",3,"formGroup","ngSubmit"],[1,"bi","bi-search","bi-sm","my-auto","me-3"],["list","searchChildren","type","text","formControlName","children",1,"form-control",3,"keyup"],["id","searchChildren"],[1,"btn","btn-success","my-auto","ms-3",3,"disabled"],["formArrayName","children"],["class","d-flex mt-3",4,"ngFor","ngForOf"],[1,"col-lg-12","form-group","d-flex","flex-row-reverse","mt-3"],["type","button",1,"btn","btn-danger",3,"click"],["type","button","class","btn btn-danger me-2",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],[1,"invalid-feedback"],[1,"my-3"],["class","d-flex my-2",4,"ngIf"],["class","w-50 d-flex my-2",4,"ngIf"],["class","w-100 mt-2 my-2",4,"ngIf"],["style","height: 2px;",4,"ngIf"],[1,"d-flex","my-2"],[3,"username","imageUrl"],[1,"bi","bi-sm","bi-trash-fill","ms-auto","my-auto",3,"click"],[1,"w-50","d-flex","my-2"],[1,"w-100","mt-2","my-2"],[2,"height","2px"],[1,"d-flex","mt-3"],[1,"bi","bi-sm","bi-trash-fill","ms-auto",3,"click"],["type","button",1,"btn","btn-danger","me-2",3,"click"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),K(7),N(),M(8,"div",7,8),_e(10,"em",9),N()(),ie(11,mle,2,1,"div",10),ie(12,jle,54,22,"div",11),ie(13,Fce,244,93,"div",12),N()()()()()),2&e&&(V(7),Gt(null!=i.selectedActive?i.isEditing?"Update active":"#"+i.selectedActive.code+": "+i.selectedActive.name:"New active"),V(4),U("ngIf",i.containError),V(1),U("ngIf",null!=i.selectedActive&&!i.isEditing),V(1),U("ngIf",null==i.selectedActive||i.isEditable&&i.isEditing))},directives:[Zn,nv,_i,ss,os,mo,fo,rs,Bo,Ho,ia,Zr,Jr,gl,nh,rh,Pu],styles:[""]}),t})();const Vce=["openActiveViewModal"];function Gce(t,n){if(1&t&&(M(0,"option",15),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function Bce(t,n){if(1&t){const e=Tt();M(0,"div",11),_e(1,"em",12),M(2,"select",13),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,Gce,2,4,"option",14),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function Hce(t,n){if(1&t){const e=Tt();M(0,"a",16),Ve("click",function(){return Xe(e),ae().newActive()}),_e(1,"em",17),N()}2&t&&U("openDelay",300)}let jce=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x,R){super(e,i,a,d,h,m),this.userService=x,this.activeService=R,this.incCol=[{headerName:"Code",field:"code",sortable:!0,filter:!0,maxWidth:120,unSortIcon:!0,pinned:"left",valueFormatter:L=>null!=L.data&&null!=L.data.code?"#"+L.data.code:""},{headerName:"Name",field:"name",sortable:!0,filter:!0,resizable:!0},{headerName:"Description",field:"description",sortable:!0,filter:!0,resizable:!0},{headerName:"Creation date",field:"creationDate",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatDateAgGrid(L.data.creationDate):""},{headerName:"Created by",field:"createdBy",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatUsernameAgGrid(L.data.createdBy):""},{headerName:"Last update",field:"lastModification",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatDateAgGrid(L.data.lastModification):""},{headerName:"Modified by",field:"modifiedBy",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatUsernameAgGrid(L.data.modifiedBy):""},{headerName:"Type",field:"type",sortable:!0,filter:!0,resizable:!0},{headerName:"Company",field:"company",sortable:!0,filter:!0,resizable:!0},{headerName:"Product",field:"product",sortable:!0,filter:!0,resizable:!0},{headerName:"Version",field:"version",sortable:!0,filter:!0,resizable:!0},{headerName:"CPE type",field:"cpeType",sortable:!0,filter:!0,resizable:!0},{headerName:"CPE",field:"cpe",sortable:!0,filter:!0,resizable:!0},{headerName:"Importance",field:"importance",sortable:!0,filter:!0,resizable:!0},{headerName:"Start adquisition",field:"startAdquisition",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatDateAgGrid(L.data.startAdquisition):""},{headerName:"End adquisition",field:"endAdquisition",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatDateAgGrid(L.data.endAdquisition):""},{headerName:"End of life",field:"endOfLife",sortable:!0,filter:!0,resizable:!0,valueFormatter:L=>null!=L.data?this.formatDateAgGrid(L.data.endOfLife):""},{headerName:"Cost",field:"cost",sortable:!0,filter:!0,resizable:!0},{headerName:"Periodicity",field:"periodicity",sortable:!0,filter:!0,resizable:!0},{headerName:"Subscription type",field:"subscriptionType",sortable:!0,filter:!0,resizable:!0},{headerName:"Location",field:"location",sortable:!0,filter:!0,resizable:!0}],this.pageSize=25,this.pageNumber=1,this.totalElements=0,this.actives=[],this.isEditing=!1,this.dataSource={getRows:L=>{this.getRows(L)}}}ngOnInit(){this.loadProject=!0,this.loadMyProjects()}loadAfterProject(){this.reloadGridTable()}loadSelectedData(e){this.activeService.getActiveById(e.id).subscribe({next:i=>{this.containError=!1,this.selectedActive=i,this.isEditing=!1},error:i=>{this.returnPrincipalError(i)}})}newActive(){this.selectedActive=void 0,this.isEditing=!0,this.openActiveViewModal.nativeElement.click()}formatDateAgGrid(e){return null!=parent&&null!=e&&this.getFormatedDate(e,"HH:mm:ss dd/MM/yyyy")||""}formatUsernameAgGrid(e){return null!=parent&&null!=e&&null!=e.username?"@"+e.username:""}reloadGridTable(){this.gridApi.setDatasource(this.dataSource)}loadSelectedRow(e){this.loadSelectedData(e.data),this.openActiveViewModal.nativeElement.click()}getRows(e){this.projectSelectedId&&(this.pageSize=this.gridApi.paginationGetPageSize(),this.pageNumber=this.gridApi.paginationGetCurrentPage()+1,this.activeService.findActivesByProject(this.projectSelectedId,this.pageNumber,this.pageSize,e.sortModel,e.filterModel,this.incCol).subscribe({next:i=>{this.containError=!1,this.actives=i.content,this.pageNumber=i.pageable.pageNumber+1,this.pageSize=i.pageable.pageSize,this.totalElements=i.totalElements,e.successCallback(this.actives,this.totalElements)},error:i=>{this.returnPrincipalError(i),e.failCallback()}}))}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.setDatasource(this.dataSource)}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po),Ce(pc),Ce(Uw))},t.\u0275cmp=zt({type:t,selectors:[["iMan-active"]],viewQuery:function(e,i){if(1&e&&ni(Vce,5),2&e){let a;qt(a=Xt())&&(i.openActiveViewModal=a.first)}},features:[On],decls:11,vars:14,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3 my-auto",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add active","placement","left",3,"openDelay","click",4,"ngIf"],[2,"height","2px"],[1,"overflow-auto","scrollable-content"],[1,"ag-theme-alpine-dark",2,"width","100%","height","100%",3,"rowData","columnDefs","cacheBlockSize","pagination","paginationPageSize","enableRangeSelection","rowModelType","gridReady","rowDoubleClicked"],["hidden","","type","button","data-bs-target","#activeModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openActiveViewModal",""],[3,"isEditable","isEditing","selectedActive","projectId","usersInProject","reload"],[1,"d-flex","mx-3","my-auto"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Add active","placement","left",3,"openDelay","click"],[1,"bi","bi-plus-lg"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1),ie(2,Bce,4,2,"div",2),N(),M(3,"div",3),ie(4,Hce,2,1,"a",4),N()(),_e(5,"hr",5),M(6,"div",6)(7,"ag-grid-angular",7),Ve("gridReady",function(d){return i.onGridReady(d)})("rowDoubleClicked",function(d){return i.loadSelectedRow(d)}),N()(),_e(8,"button",8,9),M(10,"active-modal-view",10),Ve("reload",function(){return i.reloadGridTable()}),N()),2&e&&(V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length),V(2),U("ngIf",i.adminAccess&&null!=i.projectSelectedId&&0!=i.projectSelectedId),V(3),U("rowData",i.actives)("columnDefs",i.incCol)("cacheBlockSize",i.pageSize)("pagination",!0)("paginationPageSize",i.pageSize)("enableRangeSelection",!0)("rowModelType","infinite"),V(3),U("isEditable",i.adminAccess)("isEditing",i.isEditing)("selectedActive",i.selectedActive)("projectId",i.projectSelectedId)("usersInProject",i.usersInProject))},directives:[Zn,_o,_i,Zr,Jr,xv,Lce],styles:[""]}),t})(),xk=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/security/vulnlib/"}findStandardVulnLibs(e,i,a,d,h){let m=this.hostUrl,x=Wf.getAgGridParams(e,i,a,d,h);return this.httpClient.get(m,{params:x})}findVulnLibsByProject(e,i,a,d,h,m){let x=this.hostUrl+"project/"+e,R=Wf.getAgGridParams(i,a,d,h,m);return this.httpClient.get(x,{params:R})}getVulnLibById(e){return this.httpClient.get(this.hostUrl+e)}createVulnLib(e,i){return this.httpClient.post(this.hostUrl+"project/"+e,i)}updateVulnLib(e){return this.httpClient.put(this.hostUrl,e)}disableVulnLib(e){return this.httpClient.delete(this.hostUrl+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class TG{constructor(n,e,i,a,d,h,m,x,R,L){this.name=n,this.description=e,this.company=i,this.product=a,this.affectedVersions=d,this.cweType=h,this.cvss=m,this.cvssVector=x,this.lang=R,this.vulnlinks=L}}class $ce extends TG{constructor(n,e,i,a,d,h,m,x,R,L,W){super(e,i,a,d,h,m,x,R,L,W),this.id=n}}class Wce{constructor(n,e){this.websiteName=n,this.url=e}}const Uce=["closeButtonVulnLib"];function zce(t,n){if(1&t&&(M(0,"div",13),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageError," ")}}function Yce(t,n){if(1&t&&(M(0,"div",22)(1,"div",23),_e(2,"em",24),M(3,"div",25),K(4,"Description"),N()(),M(5,"div",26),K(6),N()()),2&t){const e=ae(2);V(6),Gt(e.selectedVulnLib.description)}}function Kce(t,n){if(1&t&&(M(0,"div",27)(1,"div",28),K(2,"Company:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedVulnLib.company)}}function qce(t,n){if(1&t&&(M(0,"div",27)(1,"div",28),K(2,"Product:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedVulnLib.product)}}function Xce(t,n){if(1&t&&(M(0,"div",29)(1,"div",28),K(2,"Affected versions:"),N(),M(3,"div",30),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedVulnLib.affectedVersions)}}function Qce(t,n){if(1&t&&(M(0,"div",27)(1,"div",28),K(2,"CWE:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedVulnLib.cweType)}}function Zce(t,n){if(1&t&&(M(0,"div",31)(1,"div",28),K(2,"CVSS:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedVulnLib.cvss)}}function Jce(t,n){if(1&t&&(M(0,"div",31)(1,"div",28),K(2,"CVSS vector:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedVulnLib.cvssVector)}}function eue(t,n){if(1&t&&(M(0,"div",31)(1,"div",28),K(2,"Creation date:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.getFormatedDate(e.selectedVulnLib.creationDate,"HH:mm:ss dd/MM/yyyy"))}}function tue(t,n){if(1&t&&(M(0,"div",31)(1,"div",28),K(2,"Modification date:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),it("",e.getFormatedDate(e.selectedVulnLib.modificationDate,"HH:mm:ss dd/MM/yyyy")," ")}}function nue(t,n){if(1&t&&(M(0,"div",35)(1,"a",36),K(2),N()()),2&t){const e=n.$implicit;V(1),qn("href",e.url,Ks),V(1),Li("",e.websiteName,": ",e.url,"")}}function iue(t,n){if(1&t&&(M(0,"div",32)(1,"div",33),K(2,"Links"),N(),ie(3,nue,3,3,"div",34),N()),2&t){const e=ae(2);V(3),U("ngForOf",e.selectedVulnLib.vulnlinks)}}function rue(t,n){if(1&t){const e=Tt();M(0,"div",37)(1,"button",38),Ve("click",function(){return Xe(e),ae(2).edit()}),_e(2,"em",39),M(3,"div",40),K(4,"Edit"),N()()()}}function oue(t,n){if(1&t&&(M(0,"div",14)(1,"div",15)(2,"div"),ie(3,Yce,7,1,"div",16),ie(4,Kce,5,1,"div",17),ie(5,qce,5,1,"div",17),ie(6,Xce,5,1,"div",18),ie(7,Qce,5,1,"div",17),ie(8,Zce,5,1,"div",19),ie(9,Jce,5,1,"div",19),ie(10,eue,5,1,"div",19),ie(11,tue,5,1,"div",19),N(),ie(12,iue,4,1,"div",20),ie(13,rue,5,0,"div",21),N()()),2&t){const e=ae();V(2),dt("d-flex flex-wrap ",0!=e.selectedVulnLib.vulnlinks.length?"col-lg-6":"col-lg-12"," p-3"),V(1),U("ngIf",e.selectedVulnLib.description),V(1),U("ngIf",e.selectedVulnLib.company),V(1),U("ngIf",e.selectedVulnLib.product),V(1),U("ngIf",e.selectedVulnLib.affectedVersions),V(1),U("ngIf",e.selectedVulnLib.cweType),V(1),U("ngIf",e.selectedVulnLib.cvss),V(1),U("ngIf",e.selectedVulnLib.cvssVector),V(1),U("ngIf",e.selectedVulnLib.creationDate),V(1),U("ngIf",e.selectedVulnLib.modificationDate),V(1),U("ngIf",e.selectedVulnLib.vulnlinks&&0!=e.selectedVulnLib.vulnlinks.length),V(1),U("ngIf",e.isEditable&&null!=e.selectedVulnLib&&!e.selectedVulnLib.standard)}}function sue(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function aue(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters "),N())}function lue(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function cue(t,n){if(1&t&&(M(0,"div",64),ie(1,sue,2,0,"div",65),ie(2,aue,2,0,"div",65),ie(3,lue,2,0,"div",65),N()),2&t){const e=ae(2);let i,a,d;V(1),U("ngIf",null==(i=e.formVulnLib.get("name"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVulnLib.get("name"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formVulnLib.get("name"))||null==d.errors?null:d.errors.maxlength)}}function uue(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function due(t,n){if(1&t&&(M(0,"div",64),ie(1,uue,2,0,"div",65),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formVulnLib.get("description"))||null==i.errors?null:i.errors.maxlength)}}function hue(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function pue(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function fue(t,n){if(1&t&&(M(0,"div",64),ie(1,hue,2,0,"div",65),ie(2,pue,2,0,"div",65),N()),2&t){const e=ae(2);let i,a;V(1),U("ngIf",null==(i=e.formVulnLib.get("company"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVulnLib.get("company"))||null==a.errors?null:a.errors.maxlength)}}function gue(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function mue(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function _ue(t,n){if(1&t&&(M(0,"div",64),ie(1,gue,2,0,"div",65),ie(2,mue,2,0,"div",65),N()),2&t){const e=ae(2);let i,a;V(1),U("ngIf",null==(i=e.formVulnLib.get("product"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVulnLib.get("product"))||null==a.errors?null:a.errors.maxlength)}}function vue(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function yue(t,n){if(1&t&&(M(0,"div",64),ie(1,vue,2,0,"div",65),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formVulnLib.get("affectedVersions"))||null==i.errors?null:i.errors.maxlength)}}function Cue(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function bue(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function wue(t,n){if(1&t&&(M(0,"div",64),ie(1,Cue,2,0,"div",65),ie(2,bue,2,0,"div",65),N()),2&t){const e=ae(2);let i,a;V(1),U("ngIf",null==(i=e.formVulnLib.get("cweType"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVulnLib.get("cweType"))||null==a.errors?null:a.errors.maxlength)}}function xue(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Sue(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function Tue(t,n){if(1&t&&(M(0,"div",64),ie(1,xue,2,0,"div",65),ie(2,Sue,2,0,"div",65),N()),2&t){const e=ae(2);let i,a;V(1),U("ngIf",null==(i=e.formVulnLib.get("cvss"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVulnLib.get("cvss"))||null==a.errors?null:a.errors.maxlength)}}function Eue(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Due(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function Aue(t,n){if(1&t&&(M(0,"div",64),ie(1,Eue,2,0,"div",65),ie(2,Due,2,0,"div",65),N()),2&t){const e=ae(2);let i,a;V(1),U("ngIf",null==(i=e.formVulnLib.get("cvssVector"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVulnLib.get("cvssVector"))||null==a.errors?null:a.errors.maxlength)}}function kue(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Rue(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function Oue(t,n){if(1&t&&(M(0,"div",64),ie(1,kue,2,0,"div",65),ie(2,Rue,2,0,"div",65),N()),2&t){const e=ae().index,i=ae(2);let a,d;V(1),U("ngIf",null==(a=i.formVulnLib.get("websiteName"+e))||null==a.errors?null:a.errors.required),V(1),U("ngIf",null==(d=i.formVulnLib.get("websiteName"+e))||null==d.errors?null:d.errors.maxlength)}}function Pue(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Iue(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function Mue(t,n){if(1&t&&(M(0,"div",64),ie(1,Pue,2,0,"div",65),ie(2,Iue,2,0,"div",65),N()),2&t){const e=ae().index,i=ae(2);let a,d;V(1),U("ngIf",null==(a=i.formVulnLib.get("url"+e))||null==a.errors?null:a.errors.required),V(1),U("ngIf",null==(d=i.formVulnLib.get("url"+e))||null==d.errors?null:d.errors.maxlength)}}function Nue(t,n){if(1&t){const e=Tt();M(0,"div",66)(1,"div",67)(2,"div",5)(3,"div",68),K(4,"Website name:"),N(),_e(5,"input",69),ie(6,Oue,3,2,"div",46),N(),M(7,"div",70)(8,"div",44),K(9,"URL:"),N(),_e(10,"input",71),ie(11,Mue,3,2,"div",46),N()(),M(12,"em",72),Ve("click",function(){const d=Xe(e).index;return ae(2).removeVulnLinkForm(d)}),N()()}if(2&t){const e=n.index,i=ae(2);let a,d;V(1),U("formGroupName",e),V(4),dt("form-control ",i.inputClass(i.formVulnLib,"websiteName"+e),""),V(1),U("ngIf",(null==(a=i.formVulnLib.get("websiteName"+e))?null:a.touched)&&(null==(a=i.formVulnLib.get("websiteName"+e))?null:a.invalid)),V(4),dt("form-control ",i.inputClass(i.formVulnLib,"url"+e),""),V(1),U("ngIf",(null==(d=i.formVulnLib.get("url"+e))?null:d.touched)&&(null==(d=i.formVulnLib.get("url"+e))?null:d.invalid))}}function Fue(t,n){if(1&t){const e=Tt();M(0,"button",73),Ve("click",function(){return Xe(e),ae(2).disableVulnLib()}),K(1,"Disable"),N()}}function Lue(t,n){if(1&t){const e=Tt();M(0,"div",41)(1,"form",42),Ve("ngSubmit",function(){return Xe(e),ae().uploadVulnLib()}),M(2,"div",43)(3,"div",44),K(4,"Name:"),N(),_e(5,"input",45),ie(6,cue,4,3,"div",46),N(),M(7,"div",47)(8,"div",44),K(9,"Description:"),N(),_e(10,"textarea",48),ie(11,due,2,1,"div",46),N(),M(12,"div",43)(13,"div",44),K(14,"Company:"),N(),_e(15,"input",49),ie(16,fue,3,2,"div",46),N(),M(17,"div",43)(18,"div",44),K(19,"Product:"),N(),_e(20,"input",50),ie(21,_ue,3,2,"div",46),N(),M(22,"div",47)(23,"div",44),K(24,"Affected versions:"),N(),_e(25,"textarea",51),ie(26,yue,2,1,"div",46),N(),M(27,"div",43)(28,"div",44),K(29,"CWE:"),N(),_e(30,"input",52),ie(31,wue,3,2,"div",46),N(),M(32,"div",43)(33,"div",44),K(34,"CVSS:"),N(),_e(35,"input",53),ie(36,Tue,3,2,"div",46),N(),M(37,"div",43)(38,"div",44),K(39,"CVSS vector:"),N(),_e(40,"input",54),ie(41,Aue,3,2,"div",46),N(),M(42,"div",47)(43,"div",55)(44,"div",56),K(45,"Vulnlib links"),N(),M(46,"button",57),Ve("click",function(){return Xe(e),ae().addVulnLinkForm(void 0)}),K(47," Add "),N()(),M(48,"div",58),ie(49,Nue,13,9,"div",59),N()(),M(50,"div",60)(51,"button",61),Ve("click",function(){return Xe(e),ae().edit()}),K(52,"Close"),N(),ie(53,Fue,2,0,"button",62),M(54,"button",63),K(55),N()()()()}if(2&t){const e=ae();let i,a,d,h,m,x,R,L;V(1),U("formGroup",e.formVulnLib),V(4),dt("form-control ",e.inputClass(e.formVulnLib,"name"),""),V(1),U("ngIf",(null==(i=e.formVulnLib.get("name"))?null:i.touched)&&(null==(i=e.formVulnLib.get("name"))?null:i.invalid)),V(4),dt("form-control ",e.inputClass(e.formVulnLib,"description"),""),V(1),U("ngIf",(null==(a=e.formVulnLib.get("description"))?null:a.touched)&&(null==(a=e.formVulnLib.get("description"))?null:a.invalid)),V(4),dt("form-control ",e.inputClass(e.formVulnLib,"company"),""),V(1),U("ngIf",(null==(d=e.formVulnLib.get("company"))?null:d.touched)&&(null==(d=e.formVulnLib.get("company"))?null:d.invalid)),V(4),dt("form-control ",e.inputClass(e.formVulnLib,"product"),""),V(1),U("ngIf",(null==(h=e.formVulnLib.get("product"))?null:h.touched)&&(null==(h=e.formVulnLib.get("product"))?null:h.invalid)),V(4),dt("form-control ",e.inputClass(e.formVulnLib,"affectedVersions"),""),V(1),U("ngIf",(null==(m=e.formVulnLib.get("affectedVersions"))?null:m.touched)&&(null==(m=e.formVulnLib.get("affectedVersions"))?null:m.invalid)),V(4),dt("form-control ",e.inputClass(e.formVulnLib,"cweType"),""),V(1),U("ngIf",(null==(x=e.formVulnLib.get("cweType"))?null:x.touched)&&(null==(x=e.formVulnLib.get("cweType"))?null:x.invalid)),V(4),dt("form-control ",e.inputClass(e.formVulnLib,"cvss"),""),V(1),U("ngIf",(null==(R=e.formVulnLib.get("cvss"))?null:R.touched)&&(null==(R=e.formVulnLib.get("cvss"))?null:R.invalid)),V(4),dt("form-control ",e.inputClass(e.formVulnLib,"cvssVector"),""),V(1),U("ngIf",(null==(L=e.formVulnLib.get("cvssVector"))?null:L.touched)&&(null==(L=e.formVulnLib.get("cvssVector"))?null:L.invalid)),V(8),U("ngForOf",e.vulnlinks.controls),V(4),U("ngIf",null!=e.selectedVulnLib),V(1),U("disabled",!e.formVulnLib.valid),V(1),Gt(null==e.selectedVulnLib?"Create":"Edit")}}let Vue=(()=>{class t{constructor(e,i){this.formBuilder=e,this.vulnLibService=i,this.isEditable=!1,this.isEditing=!1,this.reload=new Ae,this.containError=!1,this.formVulnLib=this.formBuilder.group({name:["",[Jt.required]],description:["",[]],company:["",[]],product:["",[]],affectedVersions:["",[]],cweType:["",[]],cvss:["",[]],cvssVector:["",[]],vulnlinks:this.formBuilder.array([])})}ngOnInit(){}inputClass(e,i){var a,d,h,m;return(null===(a=null==e?void 0:e.get(i))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(i))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(i))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(i))||void 0===m?void 0:m.invalid)?"is-invalid":""}edit(){this.isEditing=!this.isEditing,this.isEditing&&this.buildForm()}buildForm(){this.formVulnLib.reset(),null!=this.selectedVulnLib&&(this.formVulnLib=this.formBuilder.group({name:[this.selectedVulnLib.name,[Jt.required]],description:[this.selectedVulnLib.description,[]],company:[this.selectedVulnLib.company,[]],product:[this.selectedVulnLib.product,[]],affectedVersions:[this.selectedVulnLib.affectedVersions,[]],cweType:[this.selectedVulnLib.cweType,[]],cvss:[this.selectedVulnLib.cvss,[]],cvssVector:[this.selectedVulnLib.cvssVector,[]],vulnlinks:this.formBuilder.array([])}),null!=this.selectedVulnLib.vulnlinks&&this.selectedVulnLib.vulnlinks.forEach(e=>this.addVulnLinkForm(e)))}clearForms(){this.formVulnLib.reset()}handleNext(e){this.selectedVulnLib=e,this.clearForms(),this.reload.emit(!0),this.containError=!1,this.edit()}handleError(e){let i=e.error.text;null==i&&(i="Error produced"),this.messageError=i,this.containError=!0}uploadVulnLib(){null==this.selectedVulnLib?this.newVulnLib():this.editVulnLib()}vulnlinkToSave(){return this.vulnlinks.controls.map(e=>new Wce(e.value.websiteName,e.value.url))}newVulnLib(){if(this.projectId){let e=new TG(this.formVulnLib.value.name,this.formVulnLib.value.description,this.formVulnLib.value.company,this.formVulnLib.value.product,this.formVulnLib.value.affectedVersions,this.formVulnLib.value.cweType,this.formVulnLib.value.cvss,this.formVulnLib.value.cvssVector,this.formVulnLib.value.lang,this.vulnlinkToSave());this.vulnLibService.createVulnLib(this.projectId,e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}editVulnLib(){if(this.projectId&&this.selectedVulnLib){let e=new $ce(this.selectedVulnLib.id,this.formVulnLib.value.name,this.formVulnLib.value.description,this.formVulnLib.value.company,this.formVulnLib.value.product,this.formVulnLib.value.affectedVersions,this.formVulnLib.value.cweType,this.formVulnLib.value.cvss,this.formVulnLib.value.cvssVector,this.formVulnLib.value.lang,this.vulnlinkToSave());this.vulnLibService.updateVulnLib(e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}disableVulnLib(){this.selectedVulnLib&&this.vulnLibService.disableVulnLib(this.selectedVulnLib.id).subscribe({next:e=>{this.handleNext(void 0),this.closeButtonVulnLib.nativeElement.click()},error:e=>{this.handleError(e)}})}getFormatedDate(e,i){return new Tu("en-US").transform(e,i)}get vulnlinks(){return this.formVulnLib.get("vulnlinks")}addVulnLinkForm(e){if(e){let i=this.formBuilder.group({websiteName:[e.websiteName,[]],url:[e.url,[]]});this.vulnlinks.push(i)}else{let i=this.formBuilder.group({websiteName:["",[]],url:["",[]]});this.vulnlinks.push(i)}}removeVulnLinkForm(e){this.vulnlinks.removeAt(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Ar),Ce(xk))},t.\u0275cmp=zt({type:t,selectors:[["vulnlib-modal-view"]],viewQuery:function(e,i){if(1&e&&ni(Uce,5),2&e){let a;qt(a=Xt())&&(i.closeButtonVulnLib=a.first)}},inputs:{isEditable:"isEditable",isEditing:"isEditing",selectedVulnLib:"selectedVulnLib",projectId:"projectId"},outputs:{reload:"reload"},decls:14,vars:4,consts:[["id","vulnLibModal","tabindex","-1","aria-labelledby","vulnLibModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],["closeButtonVulnLib",""],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],["class","container",4,"ngIf"],["class","container p-3",4,"ngIf"],[1,"alert","alert-danger","mt-5"],[1,"container"],[1,"row"],["class","w-100",4,"ngIf"],["class","w-50 d-flex flex-wrap my-3",4,"ngIf"],["class","w-100 my-2",4,"ngIf"],["class","w-100 d-flex flex-wrap my-3",4,"ngIf"],["class","col-lg-6 p-3",4,"ngIf"],["class","w-100 d-flex p-2 mt-2",4,"ngIf"],[1,"w-100"],[1,"d-flex","flex-wrap","my-3"],[1,"bi","bi-card-text","my-auto",2,"font-size","20px !important"],[1,"text-break","my-auto","mx-2"],[1,"text-break","my-auto","mt-2"],[1,"w-50","d-flex","flex-wrap","my-3"],[1,"me-2"],[1,"w-100","my-2"],[1,"text-break","my-auto","mt-1"],[1,"w-100","d-flex","flex-wrap","my-3"],[1,"col-lg-6","p-3"],[1,"m-text"],["class","m-3",4,"ngFor","ngForOf"],[1,"m-3"],["target","_blank",1,"my-auto",3,"href"],[1,"w-100","d-flex","p-2","mt-2"],["type","button",1,"btn","btn-secondary","ms-auto","d-flex",3,"click"],[1,"bi","bi-sm","bi-pencil-fill","ms-auto","me-2"],[1,"my-auto"],[1,"container","p-3"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-12","my-3","d-flex"],[1,"my-auto","me-2"],["type","text","formControlName","name","maxlength","50","minlength","2"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12","my-3"],["formControlName","description","maxlength","255","rows","2"],["type","text","formControlName","company","maxlength","50"],["type","text","formControlName","product","maxlength","50"],["formControlName","affectedVersions","maxlength","255","rows","2"],["type","text","formControlName","cweType","maxlength","50"],["type","text","formControlName","cvss","maxlength","50"],["type","text","formControlName","cvssVector","maxlength","50"],[1,"d-flex","flex-wrap"],[1,"m-text","me-auto"],["type","button",1,"btn","btn-success","my-auto","ms-3",3,"click"],["formArrayName","vulnlinks"],["class","d-flex mt-3",4,"ngFor","ngForOf"],[1,"col-lg-12","form-group","d-flex","flex-row-reverse","mt-3"],["type","button",1,"btn","btn-danger",3,"click"],["type","button","class","btn btn-danger me-2",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","mt-3"],[1,"d-flex",3,"formGroupName"],[1,"my-auto","me-2","text-nowrap"],["type","text","formControlName","websiteName","maxlength","50","required",""],[1,"d-flex","ms-2"],["type","text","formControlName","url","maxlength","255","required",""],[1,"bi","bi-sm","bi-trash-fill","my-auto","ms-auto",3,"click"],["type","button",1,"btn","btn-danger","me-2",3,"click"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),K(7),N(),M(8,"div",7,8),_e(10,"em",9),N()(),ie(11,zce,2,1,"div",10),ie(12,oue,14,14,"div",11),ie(13,Lue,56,37,"div",12),N()()()()()),2&e&&(V(7),Gt(null!=i.selectedVulnLib?i.isEditing?"Update vulnlib":i.selectedVulnLib.name:"New vulnlib"),V(4),U("ngIf",i.containError),V(1),U("ngIf",null!=i.selectedVulnLib&&!i.isEditing),V(1),U("ngIf",null==i.selectedVulnLib||i.isEditable&&i.isEditing&&!i.selectedVulnLib.standard))},directives:[Zn,_i,ss,os,mo,fo,rs,Bo,Ho,ia,Pu,yf,oh],styles:[""]}),t})();const Gue=["openVulnLibViewModal"];function Bue(t,n){if(1&t&&(M(0,"option",15),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function Hue(t,n){if(1&t){const e=Tt();M(0,"div",11),_e(1,"em",12),M(2,"select",13),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,Bue,2,4,"option",14),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function jue(t,n){if(1&t){const e=Tt();M(0,"a",16),Ve("click",function(){return Xe(e),ae().newVulnLib()}),_e(1,"em",17),N()}2&t&&U("openDelay",300)}let $ue=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x){super(e,i,a,d,h,m),this.vulnLibService=x,this.incCol=[{headerName:"Name",field:"name",sortable:!0,filter:!0,maxWidth:150,unSortIcon:!0,pinned:"left"},{headerName:"Company",field:"company",sortable:!0,filter:!0,width:150,resizable:!0},{headerName:"Product",field:"product",sortable:!0,filter:!0,width:250,resizable:!0},{headerName:"Affected versions",field:"affectedVersions",sortable:!0,filter:!0,resizable:!0},{headerName:"Standard",field:"standard",sortable:!0,filter:!0,width:120,resizable:!0,valueFormatter:R=>null!=R.data?R.data.standard?"Yes":"No":""},{headerName:"Creation date",field:"creationDate",sortable:!0,filter:!0,width:170,resizable:!0,valueFormatter:R=>null!=R.data?this.formatDateAgGrid(R.data.creationDate):""},{headerName:"Modification date",field:"modificationDate",sortable:!0,filter:!0,width:170,resizable:!0,valueFormatter:R=>null!=R.data?this.formatDateAgGrid(R.data.modificationDate):""},{headerName:"CWE type",field:"cweType",sortable:!0,filter:!0,resizable:!0},{headerName:"CVSS",field:"cvss",sortable:!0,filter:!0,width:90,resizable:!0},{headerName:"CVSS vector",field:"cvssVector",sortable:!0,filter:!0,width:330,resizable:!0}],this.pageSize=25,this.pageNumber=1,this.totalElements=0,this.vulnlib=[],this.isEditing=!1,this.dataSource={getRows:R=>{this.getRows(R)}}}ngOnInit(){this.loadProject=!0,this.loadMyProjects()}loadAfterProject(){this.reloadGridTable()}loadSelectedData(e){this.vulnLibService.getVulnLibById(e.id).subscribe({next:i=>{this.containError=!1,this.selectedVulnLib=i,this.isEditing=!1},error:i=>{this.returnPrincipalError(i)}})}newVulnLib(){this.selectedVulnLib=void 0,this.isEditing=!0,this.openVulnLibViewModal.nativeElement.click()}formatDateAgGrid(e){return null!=parent&&null!=e&&this.getFormatedDate(e,"HH:mm:ss dd/MM/yyyy")||""}formatUsernameAgGrid(e){return null!=parent&&null!=e&&null!=e.username?"@"+e.username:""}reloadGridTable(){this.gridApi.setDatasource(this.dataSource)}loadSelectedRow(e){this.loadSelectedData(e.data),this.openVulnLibViewModal.nativeElement.click()}getRows(e){this.projectSelectedId&&(this.pageSize=this.gridApi.paginationGetPageSize(),this.pageNumber=this.gridApi.paginationGetCurrentPage()+1,this.vulnLibService.findVulnLibsByProject(this.projectSelectedId,this.pageNumber,this.pageSize,e.sortModel,e.filterModel,this.incCol).subscribe({next:i=>{this.containError=!1,this.vulnlib=i.content,this.pageNumber=i.pageable.pageNumber+1,this.pageSize=i.pageable.pageSize,this.totalElements=i.totalElements,e.successCallback(this.vulnlib,this.totalElements)},error:i=>{this.returnPrincipalError(i),e.failCallback()}}))}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.setDatasource(this.dataSource)}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po),Ce(xk))},t.\u0275cmp=zt({type:t,selectors:[["iMan-vulnlib"]],viewQuery:function(e,i){if(1&e&&ni(Gue,5),2&e){let a;qt(a=Xt())&&(i.openVulnLibViewModal=a.first)}},features:[On],decls:11,vars:13,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3 my-auto",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add active","placement","left",3,"openDelay","click",4,"ngIf"],[2,"height","2px"],[1,"overflow-auto","scrollable-content"],[1,"ag-theme-alpine-dark",2,"width","100%","height","100%",3,"rowData","columnDefs","cacheBlockSize","pagination","paginationPageSize","enableRangeSelection","rowModelType","gridReady","rowDoubleClicked"],["hidden","","type","button","data-bs-target","#vulnLibModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openVulnLibViewModal",""],[3,"isEditable","isEditing","selectedVulnLib","projectId","reload"],[1,"d-flex","mx-3","my-auto"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Add active","placement","left",3,"openDelay","click"],[1,"bi","bi-plus-lg"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1),ie(2,Hue,4,2,"div",2),N(),M(3,"div",3),ie(4,jue,2,1,"a",4),N()(),_e(5,"hr",5),M(6,"div",6)(7,"ag-grid-angular",7),Ve("gridReady",function(d){return i.onGridReady(d)})("rowDoubleClicked",function(d){return i.loadSelectedRow(d)}),N()(),_e(8,"button",8,9),M(10,"vulnlib-modal-view",10),Ve("reload",function(){return i.reloadGridTable()}),N()),2&e&&(V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length),V(2),U("ngIf",i.adminAccess&&null!=i.projectSelectedId&&0!=i.projectSelectedId),V(3),U("rowData",i.vulnlib)("columnDefs",i.incCol)("cacheBlockSize",i.pageSize)("pagination",!0)("paginationPageSize",i.pageSize)("enableRangeSelection",!0)("rowModelType","infinite"),V(3),U("isEditable",i.adminAccess)("isEditing",i.isEditing)("selectedVulnLib",i.selectedVulnLib)("projectId",i.projectSelectedId))},directives:[Zn,_o,_i,Zr,Jr,xv,Vue],styles:[""]}),t})(),Sk=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/security/vuln/"}findVulnsByProject(e,i,a,d,h,m){let x=this.hostUrl+"project/"+e,R=Wf.getAgGridParams(i,a,d,h,m);return this.httpClient.get(x,{params:R})}getVulnById(e){return this.httpClient.get(this.hostUrl+e)}createVuln(e,i){return this.httpClient.post(this.hostUrl+"project/"+e,i)}updateVuln(e){return this.httpClient.put(this.hostUrl,e)}disableVuln(e){return this.httpClient.delete(this.hostUrl+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class EG{constructor(n,e,i,a,d,h,m,x,R,L,W,X){this.name=n,this.description=e,this.creationDate=i,this.affectedVersion=a,this.newVersion=d,this.affects=h,this.notified=m,this.fixed=x,this.patchType=R,this.patchDate=L,this.relActiveId=W,this.vulnlibIdLs=X}}class Wue extends EG{constructor(n,e,i,a,d,h,m,x,R,L,W,X,re){super(e,i,a,d,h,m,x,R,L,W,X,re),this.id=n}}const Uue=["closeButtonVuln"];function zue(t,n){if(1&t&&(M(0,"div",13),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageError," ")}}function Yue(t,n){if(1&t&&(M(0,"div",32)(1,"div",33),_e(2,"em",34),M(3,"div",35),K(4,"Description"),N()(),M(5,"div",36),K(6),N()()),2&t){const e=ae(2);V(6),Gt(e.selectedVuln.description)}}function Kue(t,n){if(1&t&&(M(0,"div",37)(1,"div",38),K(2,"Affected version:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedVuln.affectedVersion)}}function que(t,n){if(1&t&&(M(0,"div",37)(1,"div",38),K(2,"New version:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedVuln.newVersion)}}function Xue(t,n){if(1&t&&(M(0,"div",39)(1,"div",40),K(2,"Affects"),N(),_e(3,"em"),N()),2&t){const e=ae(2);V(3),dt("bi ",e.selectedVuln.affects?"bi-check-square":"bi-square","")}}function Que(t,n){if(1&t&&(M(0,"div",39)(1,"div",40),K(2,"Notified"),N(),_e(3,"em"),N()),2&t){const e=ae(2);V(3),dt("bi ",e.selectedVuln.notified?"bi-check-square":"bi-square","")}}function Zue(t,n){if(1&t&&(M(0,"div",39)(1,"div",40),K(2,"Fixed"),N(),_e(3,"em"),N()),2&t){const e=ae(2);V(3),dt("bi ",e.selectedVuln.fixed?"bi-check-square":"bi-square","")}}function Jue(t,n){if(1&t&&(M(0,"div"),K(1),N()),2&t){const e=ae(3);V(1),it(": ",e.selectedVuln.patchType,"")}}function ede(t,n){if(1&t&&(M(0,"div"),K(1),N()),2&t){const e=ae(3);V(1),it(": ",e.getFormatedDate(e.selectedVuln.patchDate,"HH:mm:ss dd/MM/yyyy"),"")}}function tde(t,n){if(1&t&&(M(0,"div",37)(1,"div"),K(2,"Patch"),N(),ie(3,Jue,2,1,"div",41),ie(4,ede,2,1,"div",41),N()),2&t){const e=ae(2);V(3),U("ngIf",e.selectedVuln.patchType),V(1),U("ngIf",e.selectedVuln.patchDate)}}function nde(t,n){if(1&t&&(M(0,"div",37)(1,"div",38),K(2,"Active:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Li("(#",e.selectedVuln.relActive.code,") ",e.selectedVuln.relActive.name,"")}}function ide(t,n){if(1&t&&(M(0,"tr")(1,"td"),K(2),N(),M(3,"td"),K(4),N(),M(5,"td"),K(6),N(),M(7,"td"),K(8),N()()),2&t){const e=n.$implicit;V(2),Gt(e.name),V(2),Gt(e.cweType),V(2),Gt(e.cvss),V(2),Gt(e.cvssVector)}}function rde(t,n){if(1&t){const e=Tt();M(0,"div",42)(1,"button",43),Ve("click",function(){return Xe(e),ae(2).edit()}),_e(2,"em",44),M(3,"div",45),K(4,"Edit"),N()()()}}function ode(t,n){if(1&t&&(M(0,"div",14)(1,"div",15)(2,"div",16),ie(3,Yue,7,1,"div",17),M(4,"div",18),_e(5,"em",19),M(6,"div",20),K(7,"Versions"),N()(),ie(8,Kue,5,1,"div",21),ie(9,que,5,1,"div",21),M(10,"div",18),_e(11,"em",19),M(12,"div",20),K(13,"Status"),N()(),ie(14,Xue,4,3,"div",22),ie(15,Que,4,3,"div",22),ie(16,Zue,4,3,"div",22),ie(17,tde,5,2,"div",21),M(18,"div",23)(19,"div",24),K(20,"Creation: "),N(),_e(21,"show-user",25),M(22,"div",26),K(23),N()(),ie(24,nde,5,2,"div",21),M(25,"div",27),_e(26,"em",28),M(27,"div",20),K(28,"Vulnerability library"),N()(),M(29,"table",29)(30,"thead")(31,"th"),K(32,"Name"),N(),M(33,"th"),K(34,"CWE"),N(),M(35,"th"),K(36,"CVSS"),N(),M(37,"th"),K(38,"CVSS Vector"),N()(),M(39,"tbody"),ie(40,ide,9,4,"tr",30),N()()(),ie(41,rde,5,0,"div",31),N()()),2&t){const e=ae();V(3),U("ngIf",e.selectedVuln.description),V(5),U("ngIf",e.selectedVuln.affectedVersion),V(1),U("ngIf",e.selectedVuln.newVersion),V(5),U("ngIf",null!=e.selectedVuln.affects),V(1),U("ngIf",null!=e.selectedVuln.notified),V(1),U("ngIf",null!=e.selectedVuln.fixed),V(1),U("ngIf",e.selectedVuln.patchType||e.selectedVuln.patchDate),V(4),U("user",e.selectedVuln.createdBy),V(2),it("( ",e.getFormatedDate(e.selectedVuln.creationDate,"HH:mm:ss dd/MM/yyyy"),") "),V(1),U("ngIf",e.selectedVuln.relActive),V(16),U("ngForOf",e.selectedVuln.vulnlib),V(1),U("ngIf",e.isEditable&&null!=e.selectedVuln)}}function sde(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function ade(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters "),N())}function lde(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function cde(t,n){if(1&t&&(M(0,"div",88),ie(1,sde,2,0,"div",41),ie(2,ade,2,0,"div",41),ie(3,lde,2,0,"div",41),N()),2&t){const e=ae(2);let i,a,d;V(1),U("ngIf",null==(i=e.formVuln.get("name"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVuln.get("name"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formVuln.get("name"))||null==d.errors?null:d.errors.maxlength)}}function ude(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function dde(t,n){if(1&t&&(M(0,"div",88),ie(1,ude,2,0,"div",41),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formVuln.get("description"))||null==i.errors?null:i.errors.maxlength)}}function hde(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function pde(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function fde(t,n){if(1&t&&(M(0,"div",88),ie(1,hde,2,0,"div",41),ie(2,pde,2,0,"div",41),N()),2&t){const e=ae(2);let i,a;V(1),U("ngIf",null==(i=e.formVuln.get("affectedVersion"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVuln.get("affectedVersion"))||null==a.errors?null:a.errors.maxlength)}}function gde(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function mde(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function _de(t,n){if(1&t&&(M(0,"div",88),ie(1,gde,2,0,"div",41),ie(2,mde,2,0,"div",41),N()),2&t){const e=ae(2);let i,a;V(1),U("ngIf",null==(i=e.formVuln.get("newVersion"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formVuln.get("newVersion"))||null==a.errors?null:a.errors.maxlength)}}function vde(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function yde(t,n){if(1&t&&(M(0,"div",88),ie(1,vde,2,0,"div",41),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formVuln.get("patchType"))||null==i.errors?null:i.errors.maxlength)}}function Cde(t,n){if(1&t&&(M(0,"option"),K(1),N()),2&t){const e=n.$implicit;kt("data-value",e.code),V(1),it(" ",e.code," ")}}function bde(t,n){if(1&t&&(M(0,"option",89),K(1),N()),2&t){const e=n.$implicit;U("ngValue",e),kt("data-value",e.name),V(1),it(" ",e.name," ")}}function wde(t,n){if(1&t&&(M(0,"option"),K(1),N()),2&t){const e=n.$implicit;V(1),Gt(e.name)}}function xde(t,n){if(1&t){const e=Tt();M(0,"tr")(1,"td"),K(2),N(),M(3,"td"),K(4),N(),M(5,"td"),K(6),N(),M(7,"td"),K(8),N(),M(9,"td")(10,"em",91),Ve("click",function(){const d=Xe(e).index;return ae(3).removeVulnLibForm(d)}),N()()()}if(2&t){const e=n.$implicit;V(2),Gt(e.value.name),V(2),Gt(e.value.cweType),V(2),Gt(e.value.cvss),V(2),Gt(e.value.cvssVector)}}function Sde(t,n){if(1&t&&(M(0,"div",90)(1,"table",29)(2,"thead")(3,"th"),K(4,"Name"),N(),M(5,"th"),K(6,"CWE"),N(),M(7,"th"),K(8,"CVSS"),N(),M(9,"th"),K(10,"CVSS Vector"),N(),M(11,"th"),K(12,"Actions"),N()(),M(13,"tbody"),ie(14,xde,11,4,"tr",30),N()()()),2&t){const e=ae(2);V(14),U("ngForOf",e.vulnlibs.controls)}}function Tde(t,n){if(1&t){const e=Tt();M(0,"button",92),Ve("click",function(){return Xe(e),ae(2).disableVuln()}),K(1,"Disable"),N()}}function Ede(t,n){if(1&t){const e=Tt();M(0,"div",46)(1,"form",47),Ve("ngSubmit",function(){return Xe(e),ae().uploadVuln()}),M(2,"div",48)(3,"div",24),K(4,"Name:"),N(),_e(5,"input",49),ie(6,cde,4,3,"div",50),N(),M(7,"div",51)(8,"div",24),K(9,"Description:"),N(),_e(10,"textarea",52),ie(11,dde,2,1,"div",50),N(),M(12,"div",48)(13,"div",24),K(14,"Affected version:"),N(),_e(15,"input",53),ie(16,fde,3,2,"div",50),N(),M(17,"div",48)(18,"div",24),K(19,"New version:"),N(),_e(20,"input",54),ie(21,_de,3,2,"div",50),N(),M(22,"div",55),_e(23,"input",56),M(24,"label",57),K(25," Affects "),N(),_e(26,"input",58),M(27,"label",59),K(28," Notified "),N(),_e(29,"input",60),M(30,"label",61),K(31," Fixed "),N()(),M(32,"div",62)(33,"div",24),K(34,"Patch type:"),N(),_e(35,"input",63),ie(36,yde,2,1,"div",50),M(37,"datalist",64)(38,"option"),K(39,"To fix"),N(),M(40,"option"),K(41,"No fix"),N(),M(42,"option"),K(43,"No solution exists"),N(),M(44,"option"),K(45,"Waiting for patch"),N(),M(46,"option"),K(47,"Mitigation"),N(),M(48,"option"),K(49,"Workaround"),N(),M(50,"option"),K(51,"Vendor patch"),N()()(),M(52,"div",62)(53,"div",65),K(54,"Patch date:"),N(),_e(55,"input",66),N(),M(56,"div",27),_e(57,"em",67),M(58,"div",20),K(59,"Active"),N()(),M(60,"form",68),_e(61,"em",69)(62,"input",70),M(63,"div",20),K(64,"#"),N(),M(65,"input",71),Ve("keyup",function(a){return Xe(e),ae().searchActiveByCode(a.target)})("mouseleave",function(){return Xe(e),ae().addActiveFormInput()}),N(),M(66,"datalist",72),ie(67,Cde,2,2,"option",30),N(),M(68,"div",73),K(69,"Name:"),N(),M(70,"input",74),Ve("keyup",function(a){return Xe(e),ae().searchActiveByName(a.target)})("mouseleave",function(){return Xe(e),ae().addActiveFormInput()}),N(),M(71,"datalist",75),ie(72,bde,2,3,"option",76),N(),M(73,"em",77),Ve("click",function(){return Xe(e),ae().deleteActiveFormInput()}),N()(),M(74,"div",78),_e(75,"em",67),M(76,"div",20),K(77,"Vulnlibs"),N()(),M(78,"form",79),Ve("ngSubmit",function(){return Xe(e),ae().addVulnLibFormInput()}),_e(79,"em",69),M(80,"input",80),Ve("keyup",function(a){return Xe(e),ae().searchVulnLibByName(a.target)}),N(),M(81,"datalist",81),ie(82,wde,2,1,"option",30),N(),M(83,"button",82),K(84," Add "),N()(),ie(85,Sde,15,1,"div",83),M(86,"div",84)(87,"button",85),Ve("click",function(){return Xe(e),ae().edit()}),K(88,"Close"),N(),ie(89,Tde,2,0,"button",86),M(90,"button",87),K(91),N()()()()}if(2&t){const e=ae();let i,a,d,h,m;V(1),U("formGroup",e.formVuln),V(4),dt("form-control ",e.inputClass(e.formVuln,"name"),""),V(1),U("ngIf",(null==(i=e.formVuln.get("name"))?null:i.touched)&&(null==(i=e.formVuln.get("name"))?null:i.invalid)),V(4),dt("form-control ",e.inputClass(e.formVuln,"description"),""),V(1),U("ngIf",(null==(a=e.formVuln.get("description"))?null:a.touched)&&(null==(a=e.formVuln.get("description"))?null:a.invalid)),V(4),dt("form-control ",e.inputClass(e.formVuln,"affectedVersion"),""),V(1),U("ngIf",(null==(d=e.formVuln.get("affectedVersion"))?null:d.touched)&&(null==(d=e.formVuln.get("affectedVersion"))?null:d.invalid)),V(4),dt("form-control ",e.inputClass(e.formVuln,"newVersion"),""),V(1),U("ngIf",(null==(h=e.formVuln.get("newVersion"))?null:h.touched)&&(null==(h=e.formVuln.get("newVersion"))?null:h.invalid)),V(14),dt("form-control ",e.inputClass(e.formVuln,"patchType"),""),V(1),U("ngIf",(null==(m=e.formVuln.get("patchType"))?null:m.touched)&&(null==(m=e.formVuln.get("patchType"))?null:m.invalid)),V(19),dt("form-control ",e.inputClass(e.formVuln,"patchDate"),""),V(5),U("formGroup",e.formAddActive),V(7),U("ngForOf",e.searchActives),V(5),U("ngForOf",e.searchActives),V(6),U("formGroup",e.formAddVulnLib),V(4),U("ngForOf",e.searchVulnlibs),V(1),U("disabled",!e.formAddVulnLib.valid),V(2),U("ngIf",e.vulnlibs&&0!=e.vulnlibs.length),V(4),U("ngIf",null!=e.selectedVuln),V(1),U("disabled",!e.formVuln.valid),V(1),Gt(null==e.selectedVuln?"Create":"Edit")}}let Dde=(()=>{class t{constructor(e,i,a,d){this.formBuilder=e,this.vulnService=i,this.activeService=a,this.vulnLibService=d,this.isEditable=!1,this.isEditing=!1,this.reload=new Ae,this.containError=!1,this.searchActives=[],this.searchVulnlibs=[],this.formVuln=this.formBuilder.group({name:["",[Jt.required]],description:["",[]],creationDate:["",[]],affectedVersion:["",[]],newVersion:["",[]],affects:[!1,[]],notified:[!1,[]],fixed:[!1,[]],patchType:["",[]],patchDate:["",[]],relActiveId:["",[]],vulnlibs:this.formBuilder.array([])}),this.formAddActive=this.formBuilder.group({id:["",[]],code:["",[]],name:["",[]]}),this.formAddVulnLib=this.formBuilder.group({id:["",[]],name:["",[]]})}ngOnInit(){}inputClass(e,i){var a,d,h,m;return(null===(a=null==e?void 0:e.get(i))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(i))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(i))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(i))||void 0===m?void 0:m.invalid)?"is-invalid":""}edit(){this.isEditing=!this.isEditing,this.isEditing&&this.buildForm()}buildForm(){this.clearForms(),null!=this.selectedVuln&&(this.formVuln=this.formBuilder.group({name:[this.selectedVuln.name,[Jt.required]],description:[this.selectedVuln.description,[]],creationDate:[this.selectedVuln.creationDate,[]],affectedVersion:[this.selectedVuln.affectedVersion,[]],newVersion:[this.selectedVuln.newVersion,[]],affects:[this.selectedVuln.affects,[]],notified:[this.selectedVuln.notified,[]],fixed:[this.selectedVuln.fixed,[]],patchType:[this.selectedVuln.patchType,[]],patchDate:[this.getFormatedDateTimeLikeInput(this.selectedVuln.patchDate),[]],relActiveId:[this.selectedVuln.relActive?this.selectedVuln.relActive.id:"",[]],vulnlibs:this.formBuilder.array([])}),this.selectedVuln.relActive&&(this.formAddActive=this.formBuilder.group({id:["",[]],code:[this.selectedVuln.relActive.code,[]],name:[this.selectedVuln.relActive.name,[]]})),this.selectedVuln.vulnlib&&this.selectedVuln.vulnlib.forEach(e=>this.addVulnLibForm(e)))}clearForms(){this.formVuln.reset(),this.formAddActive.reset(),this.formAddVulnLib.reset()}handleNext(e){this.selectedVuln=e,this.clearForms(),this.reload.emit(!0),this.containError=!1,this.edit()}handleError(e){let i=e.error.text;null==i&&(i="Error produced"),this.messageError=i,this.containError=!0}uploadVuln(){null==this.selectedVuln?this.newVuln():this.editVuln()}vulnlibsToSave(){return this.vulnlibs?this.vulnlibs.controls.map(e=>e.value.id):[]}newVuln(){if(this.projectId){let e=new EG(this.formVuln.value.name,this.formVuln.value.description,this.formVuln.value.creationDate,this.formVuln.value.affectedVersion,this.formVuln.value.newVersion,this.formVuln.value.affects,this.formVuln.value.notified,this.formVuln.value.fixed,this.formVuln.value.patchType,this.formVuln.value.patchDate,this.formVuln.value.relActiveId,this.vulnlibsToSave());this.vulnService.createVuln(this.projectId,e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}editVuln(){if(this.projectId&&this.selectedVuln){let e=new Wue(this.selectedVuln.id,this.formVuln.value.name,this.formVuln.value.description,this.formVuln.value.creationDate,this.formVuln.value.affectedVersion,this.formVuln.value.newVersion,this.formVuln.value.affects,this.formVuln.value.notified,this.formVuln.value.fixed,this.formVuln.value.patchType,this.formVuln.value.patchDate,this.formVuln.value.relActiveId,this.vulnlibsToSave());this.vulnService.updateVuln(e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}disableVuln(){this.selectedVuln&&this.vulnService.disableVuln(this.selectedVuln.id).subscribe({next:e=>{this.handleNext(void 0),this.closeButtonVuln.nativeElement.click()},error:e=>{this.handleError(e)}})}getFormatedDateTimeLikeInput(e){return this.getFormatedDate(e,"yyyy-MM-ddTHH:mm:ss")}getFormatedDate(e,i){return new Tu("en-US").transform(e,i)}get vulnlibs(){return this.formVuln.get("vulnlibs")}addVulnLibForm(e){if(e){let i=this.formBuilder.group({id:[e.id,[]],name:[e.name,[]],description:[e.description,[]],company:[e.company,[]],product:[e.product,[]],affectedVersions:[e.affectedVersions,[]],standard:[e.standard,[]],creationDate:[e.creationDate,[]],modificationDate:[e.modificationDate,[]],cweType:[e.cweType,[]],cvss:[e.cvss,[]],cvssVector:[e.cvssVector,[]]});this.vulnlibs.push(i)}}removeVulnLibForm(e){this.vulnlibs.removeAt(e)}searchVulnLibByName(e){this.projectId&&this.vulnLibService.findVulnLibsByProject(this.projectId,0,5,[],{name:{filterType:"text",type:"contains",filter:e.value}},[{field:"name"}]).subscribe(i=>{this.searchVulnlibs=i.content})}addVulnLibFormInput(){if(this.searchVulnlibs){let e=this.searchVulnlibs.filter(i=>i.name==this.formAddVulnLib.value.name)[0];e&&this.addVulnLibForm(e)}}searchActiveByName(e){this.projectId&&this.activeService.findActivesByProject(this.projectId,0,5,[],{name:{filterType:"text",type:"contains",filter:e.value}},[{field:"name"}]).subscribe(i=>{this.searchActives=i.content})}searchActiveByCode(e){this.projectId&&this.activeService.findActivesByProject(this.projectId,0,5,[],{code:{filterType:"text",type:"contains",filter:e.value}},[{field:"code"}]).subscribe(i=>{this.searchActives=i.content})}addActiveFormInput(){let e,i=this.searchActives.filter(d=>d.code==this.formAddActive.value.code)[0],a=this.searchActives.filter(d=>d.name==this.formAddActive.value.name)[0];this.searchActives&&null!=i?(e=i,this.formAddActive.controls.name.setValue(e.name)):this.searchActives&&null!=a&&(e=a,this.formAddActive.controls.code.setValue(e.code)),null!=e&&this.formVuln.controls.relActiveId.setValue(e?e.id:void 0)}deleteActiveFormInput(){this.formVuln.controls.relActiveId.setValue(void 0),this.formAddActive.controls.code.setValue(""),this.formAddActive.controls.name.setValue("")}}return t.\u0275fac=function(e){return new(e||t)(Ce(Ar),Ce(Sk),Ce(Uw),Ce(xk))},t.\u0275cmp=zt({type:t,selectors:[["vuln-modal-view"]],viewQuery:function(e,i){if(1&e&&ni(Uue,5),2&e){let a;qt(a=Xt())&&(i.closeButtonVuln=a.first)}},inputs:{isEditable:"isEditable",isEditing:"isEditing",selectedVuln:"selectedVuln",projectId:"projectId"},outputs:{reload:"reload"},decls:14,vars:4,consts:[["id","vulnModal","tabindex","-1","aria-labelledby","vulnModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],["closeButtonVuln",""],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],["class","container",4,"ngIf"],["class","container p-3",4,"ngIf"],[1,"alert","alert-danger","mt-5"],[1,"container"],[1,"row"],[1,"d-flex","flex-wrap","col-lg-12","p-3"],["class","w-100",4,"ngIf"],[1,"d-flex","w-100","mt-4","mb-1"],[1,"bi","bi-clock-history","my-auto","me-3"],[1,"m-text","my-auto"],["class","w-100 d-flex flex-wrap my-3",4,"ngIf"],["class","w-25 d-flex flex-wrap my-3",4,"ngIf"],[1,"w-100","d-flex","flex-wrap"],[1,"my-auto","me-2"],[3,"user"],[1,"my-auto","ms-2"],[1,"d-flex","mt-4","mb-2"],[1,"bi","bi-people","my-auto","me-3"],[1,"table","table-dark","table-sm","table-responsive"],[4,"ngFor","ngForOf"],["class","w-100 d-flex p-2 mt-2",4,"ngIf"],[1,"w-100"],[1,"d-flex","flex-wrap","my-3"],[1,"bi","bi-card-text","my-auto",2,"font-size","20px !important"],[1,"text-break","my-auto","mx-2"],[1,"text-break","my-auto","mt-2"],[1,"w-100","d-flex","flex-wrap","my-3"],[1,"me-2"],[1,"w-25","d-flex","flex-wrap","my-3"],[1,"me-2","my-auto"],[4,"ngIf"],[1,"w-100","d-flex","p-2","mt-2"],["type","button",1,"btn","btn-secondary","ms-auto","d-flex",3,"click"],[1,"bi","bi-sm","bi-pencil-fill","ms-auto","me-2"],[1,"my-auto"],[1,"container","p-3"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-12","my-3","d-flex"],["type","text","formControlName","name","maxlength","50","minlength","2","required",""],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12","my-3"],["formControlName","description","maxlength","255","rows","2"],["type","text","formControlName","affectedVersion","maxlength","50"],["type","text","formControlName","newVersion","maxlength","50"],[1,"col-lg-12","my-3","d-flex","flex-wrap"],["type","checkbox","formControlName","affects","id","flexAffects",1,"me-2"],["for","flexAffects",1,"me-3"],["type","checkbox","formControlName","notified","id","flexNotified",1,"me-2"],["for","flexNotified",1,"me-3"],["type","checkbox","formControlName","fixed","id","flexFixed",1,"me-2"],["for","flexFixed",1,"me-3"],[1,"col-lg-12","d-flex","my-3"],["type","text","formControlName","patchType","list","patchTypeLs","maxlength","50"],["id","patchTypeLs"],[1,"my-auto","me-2","text-nowrap"],["type","datetime-local","formControlName","patchDate","name","patchDate","min","1971-01-01"],[1,"bi","bi-diagram-2","my-auto","me-3"],[1,"d-flex","mt-1","mb-2",3,"formGroup"],[1,"bi","bi-search","bi-sm","my-auto","me-3"],["type","text","formControlName","id","hidden","",1,"form-control","me-2"],["list","searchChildrenByCode","type","text","formControlName","code",1,"form-control","me-2",2,"width","100px",3,"keyup","mouseleave"],["id","searchChildrenByCode"],[1,"ms-2","s-text","my-auto"],["list","searchChildrenByName","type","text","formControlName","name",1,"form-control",3,"keyup","mouseleave"],["id","searchChildrenByName"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"bi","bi-sm","bi-trash-fill","my-auto","ms-auto",3,"click"],[1,"d-flex","mt-5","mb-2"],[1,"d-flex","mt-1","mb-2",3,"formGroup","ngSubmit"],["list","searchVulnlibByName","type","text","formControlName","name","maxlength","50",1,"form-control",3,"keyup"],["id","searchVulnlibByName"],[1,"btn","btn-success","my-auto","ms-3",3,"disabled"],["formArrayName","vulnlibs","class","mt-3",4,"ngIf"],[1,"col-lg-12","form-group","d-flex","flex-row-reverse","mt-3"],["type","button",1,"btn","btn-danger",3,"click"],["type","button","class","btn btn-danger me-2",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],[1,"invalid-feedback"],[3,"ngValue"],["formArrayName","vulnlibs",1,"mt-3"],[1,"bi","bi-sm","bi-trash-fill","ms-auto",3,"click"],["type","button",1,"btn","btn-danger","me-2",3,"click"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),K(7),N(),M(8,"div",7,8),_e(10,"em",9),N()(),ie(11,zue,2,1,"div",10),ie(12,ode,42,12,"div",11),ie(13,Ede,92,34,"div",12),N()()()()()),2&e&&(V(7),Gt(null!=i.selectedVuln?i.isEditing?"Update vuln":i.selectedVuln.name:"New vuln"),V(4),U("ngIf",i.containError),V(1),U("ngIf",null!=i.selectedVuln&&!i.isEditing),V(1),U("ngIf",null==i.selectedVuln||i.isEditable&&i.isEditing))},directives:[Zn,nv,_i,ss,os,mo,fo,rs,Bo,Ho,ia,oh,Ob,Zr,Jr,Pu],styles:[""]}),t})();const Ade=["openVulnViewModal"];function kde(t,n){if(1&t&&(M(0,"option",15),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function Rde(t,n){if(1&t){const e=Tt();M(0,"div",11),_e(1,"em",12),M(2,"select",13),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,kde,2,4,"option",14),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function Ode(t,n){if(1&t){const e=Tt();M(0,"a",16),Ve("click",function(){return Xe(e),ae().newVuln()}),_e(1,"em",17),N()}2&t&&U("openDelay",300)}let Pde=(()=>{class t extends Va{constructor(e,i,a,d,h,m,x){super(e,i,a,d,h,m),this.vulnService=x,this.incCol=[{headerName:"Code",field:"code",sortable:!0,filter:!0,maxWidth:120,unSortIcon:!0,pinned:"left"},{headerName:"Name",field:"name",sortable:!0,filter:!0,resizable:!0},{headerName:"Creation date",field:"creationDate",sortable:!0,filter:!0,resizable:!0,valueFormatter:R=>null!=R.data?this.formatDateAgGrid(R.data.creationDate):""},{headerName:"Affected version",field:"affectedVersion",sortable:!0,filter:!0,resizable:!0},{headerName:"New version",field:"version",sortable:!0,filter:!0,resizable:!0},{headerName:"Affects",field:"affects",sortable:!0,filter:!0,resizable:!0},{headerName:"Notified",field:"notified",sortable:!0,filter:!0,resizable:!0},{headerName:"Fixed",field:"fixed",sortable:!0,filter:!0,resizable:!0},{headerName:"Patch type",field:"patchType",sortable:!0,filter:!0,resizable:!0},{headerName:"Patch date",field:"patchDate",sortable:!0,filter:!0,resizable:!0,valueFormatter:R=>null!=R.data?this.formatDateAgGrid(R.data.patchDate):""},{headerName:"Created by",field:"createdBy",sortable:!0,filter:!0,resizable:!0,valueFormatter:R=>null!=R.data?this.formatUsernameAgGrid(R.data.createdBy):""}],this.pageSize=25,this.pageNumber=1,this.totalElements=0,this.vulns=[],this.isEditing=!1,this.dataSource={getRows:R=>{this.getRows(R)}}}ngOnInit(){this.loadProject=!0,this.loadMyProjects()}loadAfterProject(){this.reloadGridTable()}loadSelectedData(e){this.vulnService.getVulnById(e.id).subscribe({next:i=>{this.containError=!1,this.selectedVuln=i,this.isEditing=!1}})}newVuln(){this.selectedVuln=void 0,this.isEditing=!0,this.openVulnViewModal.nativeElement.click()}formatDateAgGrid(e){return null!=parent&&null!=e&&this.getFormatedDate(e,"HH:mm:ss dd/MM/yyyy")||""}formatUsernameAgGrid(e){return null!=parent&&null!=e&&null!=e.username?"@"+e.username:""}reloadGridTable(){this.gridApi.setDatasource(this.dataSource)}loadSelectedRow(e){this.loadSelectedData(e.data),this.openVulnViewModal.nativeElement.click()}getRows(e){this.projectSelectedId&&(this.pageSize=this.gridApi.paginationGetPageSize(),this.pageNumber=this.gridApi.paginationGetCurrentPage()+1,this.vulnService.findVulnsByProject(this.projectSelectedId,this.pageNumber,this.pageSize,e.sortModel,e.filterModel,this.incCol).subscribe({next:i=>{this.containError=!1,this.vulns=i.content,this.pageNumber=i.pageable.pageNumber+1,this.pageSize=i.pageable.pageSize,this.totalElements=i.totalElements,e.successCallback(this.vulns,this.totalElements)},error:i=>{this.returnPrincipalError(i),e.failCallback()}}))}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.setDatasource(this.dataSource)}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po),Ce(Sk))},t.\u0275cmp=zt({type:t,selectors:[["iMan-vuln"]],viewQuery:function(e,i){if(1&e&&ni(Ade,5),2&e){let a;qt(a=Xt())&&(i.openVulnViewModal=a.first)}},features:[On],decls:11,vars:13,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3 my-auto",4,"ngIf"],[1,"mx-3"],["ngbTooltip","Add vuln","placement","left",3,"openDelay","click",4,"ngIf"],[2,"height","2px"],[1,"overflow-auto","scrollable-content"],[1,"ag-theme-alpine-dark",2,"width","100%","height","100%",3,"rowData","columnDefs","cacheBlockSize","pagination","paginationPageSize","enableRangeSelection","rowModelType","gridReady","rowDoubleClicked"],["hidden","","type","button","data-bs-target","#vulnModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openVulnViewModal",""],[3,"isEditable","isEditing","selectedVuln","projectId","reload"],[1,"d-flex","mx-3","my-auto"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],["ngbTooltip","Add vuln","placement","left",3,"openDelay","click"],[1,"bi","bi-plus-lg"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1),ie(2,Rde,4,2,"div",2),N(),M(3,"div",3),ie(4,Ode,2,1,"a",4),N()(),_e(5,"hr",5),M(6,"div",6)(7,"ag-grid-angular",7),Ve("gridReady",function(d){return i.onGridReady(d)})("rowDoubleClicked",function(d){return i.loadSelectedRow(d)}),N()(),_e(8,"button",8,9),M(10,"vuln-modal-view",10),Ve("reload",function(){return i.reloadGridTable()}),N()),2&e&&(V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length),V(2),U("ngIf",i.adminAccess&&null!=i.projectSelectedId&&0!=i.projectSelectedId),V(3),U("rowData",i.vulns)("columnDefs",i.incCol)("cacheBlockSize",i.pageSize)("pagination",!0)("paginationPageSize",i.pageSize)("enableRangeSelection",!0)("rowModelType","infinite"),V(3),U("isEditable",i.adminAccess)("isEditing",i.isEditing)("selectedVuln",i.selectedVuln)("projectId",i.projectSelectedId))},directives:[Zn,_o,_i,Zr,Jr,xv,Dde],styles:[""]}),t})(),Tk=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/security/risks/"}findRisksByProject(e,i,a,d,h,m){let x=this.hostUrl+"project/"+e,R=Wf.getAgGridParams(i,a,d,h,m);return this.httpClient.get(x,{params:R})}getRiskById(e){return this.httpClient.get(this.hostUrl+e)}createRisk(e,i){return this.httpClient.post(this.hostUrl+"project/"+e,i)}updateRisk(e){return this.httpClient.put(this.hostUrl,e)}disableRisk(e){return this.httpClient.delete(this.hostUrl+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Mde extends class Ide{constructor(n,e){this.abbreviation=n,this.name=e}}{constructor(n,e,i){super(e,i),this.id=n}}class Fde extends class Nde{constructor(n,e){this.name=n,this.quantity=e}}{constructor(n,e,i){super(e,i),this.id=n}}let DG=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/security/risks/freq/"}getRiskFreqByProjectId(e){return this.httpClient.get(this.hostUrl+"project/"+e)}createRiskFreq(e,i){return this.httpClient.post(this.hostUrl+"project/"+e,i)}updateRiskFreq(e){return this.httpClient.put(this.hostUrl,e)}updateAllRiskFreq(e,i){return this.httpClient.put(this.hostUrl+"all/project/"+e,i)}deleteRiskFreq(e){return this.httpClient.delete(this.hostUrl+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),AG=(()=>{class t{constructor(e){this.httpClient=e,this.hostUrl=Zi_backendEndpoint+"/security/risks/dimension/"}getRiskDimByProjectId(e){return this.httpClient.get(this.hostUrl+"project/"+e)}createRiskDim(e,i){return this.httpClient.post(this.hostUrl+"project/"+e,i)}updateRiskDim(e){return this.httpClient.put(this.hostUrl,e)}updateAllRiskDim(e,i){return this.httpClient.put(this.hostUrl+"all/project/"+e,i)}deleteRiskDim(e){return this.httpClient.delete(this.hostUrl+e)}}return t.\u0275fac=function(e){return new(e||t)(Qe(jo))},t.\u0275prov=xt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Lde=["closeButtonRiskConfig"];function Vde(t,n){if(1&t&&(M(0,"div",13),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageError," ")}}function Gde(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Bde(t,n){1&t&&(M(0,"div"),K(1," Only 1 character is allowed "),N())}function Hde(t,n){if(1&t&&(M(0,"div",34),ie(1,Gde,2,0,"div",35),ie(2,Bde,2,0,"div",35),N()),2&t){const e=ae().index,i=ae(2);let a,d;V(1),U("ngIf",null==(a=i.formRiskConfig.get("abbreviation"+e))||null==a.errors?null:a.errors.required),V(1),U("ngIf",null==(d=i.formRiskConfig.get("abbreviation"+e))||null==d.errors?null:d.errors.maxlength)}}function jde(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function $de(t,n){1&t&&(M(0,"div"),K(1," Only 50 character is allowed "),N())}function Wde(t,n){if(1&t&&(M(0,"div",34),ie(1,jde,2,0,"div",35),ie(2,$de,2,0,"div",35),N()),2&t){const e=ae().index,i=ae(2);let a,d;V(1),U("ngIf",null==(a=i.formRiskConfig.get("name_d"+e))||null==a.errors?null:a.errors.required),V(1),U("ngIf",null==(d=i.formRiskConfig.get("name_d"+e))||null==d.errors?null:d.errors.maxlength)}}function Ude(t,n){if(1&t){const e=Tt();M(0,"em",36),Ve("click",function(){Xe(e);const a=ae().index;return ae(2).removeRiskDimForm(a)}),N()}}function zde(t,n){if(1&t&&(M(0,"div")(1,"div",27)(2,"div",28)(3,"div",29),K(4,"Char:"),N(),_e(5,"input",30),ie(6,Hde,3,2,"div",31),N(),M(7,"div",28)(8,"div",29),K(9,"Name:"),N(),_e(10,"input",32),ie(11,Wde,3,2,"div",31),N(),ie(12,Ude,1,0,"em",33),N()()),2&t){const e=n.index,i=ae(2);let a,d;V(1),U("formGroupName",e),V(4),dt("form-control ",i.inputClass(i.formRiskConfig,"abbreviation"+e),""),V(1),U("ngIf",(null==(a=i.formRiskConfig.get("abbreviation"+e))?null:a.touched)&&(null==(a=i.formRiskConfig.get("abbreviation"+e))?null:a.invalid)),V(4),dt("form-control ",i.inputClass(i.formRiskConfig,"name_d"+e),""),V(1),U("ngIf",(null==(d=i.formRiskConfig.get("name_d"+e))?null:d.touched)&&(null==(d=i.formRiskConfig.get("name_d"+e))?null:d.invalid)),V(1),U("ngIf",i.isRemovable)}}function Yde(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Kde(t,n){1&t&&(M(0,"div"),K(1," Only 50 character is allowed "),N())}function qde(t,n){if(1&t&&(M(0,"div",34),ie(1,Yde,2,0,"div",35),ie(2,Kde,2,0,"div",35),N()),2&t){const e=ae().index,i=ae(2);let a,d;V(1),U("ngIf",null==(a=i.formRiskConfig.get("name_f"+e))||null==a.errors?null:a.errors.required),V(1),U("ngIf",null==(d=i.formRiskConfig.get("name_f"+e))||null==d.errors?null:d.errors.maxlength)}}function Xde(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Qde(t,n){1&t&&(M(0,"div"),K(1," Minimum is 0 "),N())}function Zde(t,n){1&t&&(M(0,"div"),K(1," Maximum is 1 "),N())}function Jde(t,n){if(1&t&&(M(0,"div",34),ie(1,Xde,2,0,"div",35),ie(2,Qde,2,0,"div",35),ie(3,Zde,2,0,"div",35),N()),2&t){const e=ae().index,i=ae(2);let a,d,h;V(1),U("ngIf",null==(a=i.formRiskConfig.get("quantity"+e))||null==a.errors?null:a.errors.required),V(1),U("ngIf",null==(d=i.formRiskConfig.get("quantity"+e))||null==d.errors?null:d.errors.min),V(1),U("ngIf",null==(h=i.formRiskConfig.get("quantity"+e))||null==h.errors?null:h.errors.max)}}function ehe(t,n){if(1&t){const e=Tt();M(0,"em",36),Ve("click",function(){Xe(e);const a=ae().index;return ae(2).removeRiskFreqForm(a)}),N()}}function the(t,n){if(1&t&&(M(0,"div")(1,"div",27)(2,"div",28)(3,"div",29),K(4,"Name:"),N(),_e(5,"input",32),ie(6,qde,3,2,"div",31),N(),M(7,"div",28)(8,"div",29),K(9,"Quantity:"),N(),_e(10,"input",37),ie(11,Jde,4,3,"div",31),N(),ie(12,ehe,1,0,"em",33),N()()),2&t){const e=n.index,i=ae(2);let a,d;V(1),U("formGroupName",e),V(4),dt("form-control ",i.inputClass(i.formRiskConfig,"name_f"+e),""),V(1),U("ngIf",(null==(a=i.formRiskConfig.get("name_f"+e))?null:a.touched)&&(null==(a=i.formRiskConfig.get("name_f"+e))?null:a.invalid)),V(4),dt("form-control ",i.inputClass(i.formRiskConfig,"quantity"+e),""),V(1),U("ngIf",(null==(d=i.formRiskConfig.get("quantity"+e))?null:d.touched)&&(null==(d=i.formRiskConfig.get("quantity"+e))?null:d.invalid)),V(1),U("ngIf",i.isRemovable)}}function nhe(t,n){if(1&t){const e=Tt();M(0,"div",14)(1,"form",15),Ve("ngSubmit",function(){return Xe(e),ae().uploadRiskConfig()}),M(2,"div",16)(3,"div",5)(4,"div",17),K(5,"Dimensions"),N(),M(6,"a",18),Ve("click",function(){return Xe(e),ae().addRiskDimForm(void 0)}),_e(7,"em",19),N()(),M(8,"div",20),ie(9,zde,13,10,"div",21),N()(),M(10,"div",16)(11,"div",5)(12,"div",17),K(13,"Frequency"),N(),M(14,"a",22),Ve("click",function(){return Xe(e),ae().addRiskFreqForm(void 0)}),_e(15,"em",19),N()(),M(16,"div",23),ie(17,the,13,10,"div",21),N()(),M(18,"div",24)(19,"button",25),K(20,"Close"),N(),M(21,"button",26),K(22,"Save"),N()()()()}if(2&t){const e=ae();V(1),U("formGroup",e.formRiskConfig),V(5),U("openDelay",300),V(3),U("ngForOf",e.riskDimForm.controls),V(5),U("openDelay",300),V(3),U("ngForOf",e.riskFreqForm.controls),V(4),U("disabled",!e.formRiskConfig.valid)}}let ihe=(()=>{class t{constructor(e,i,a,d){this.formBuilder=e,this.riskFreqService=i,this.riskDimService=a,this.riskService=d,this.reload=new Ae,this.containError=!1,this.isRemovable=!0,this.formRiskConfig=this.formBuilder.group({riskDim:this.formBuilder.array([]),riskFreq:this.formBuilder.array([])})}ngOnChanges(){this.buildForm()}inputClass(e,i){var a,d,h,m;return(null===(a=null==e?void 0:e.get(i))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(i))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(i))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(i))||void 0===m?void 0:m.invalid)?"is-invalid":""}buildForm(){this.formRiskConfig.reset(),this.getRiskFreq(),this.getRiskDim(),this.getIsRemovable()}getIsRemovable(){this.projectId&&this.riskService.findRisksByProject(this.projectId,0,1,[],{},[]).subscribe(e=>{this.isRemovable=0==e.content.length})}getRiskFreq(){this.projectId&&this.riskFreqService.getRiskFreqByProjectId(this.projectId).subscribe({next:e=>{e&&e.forEach(a=>this.addRiskFreqForm(a))},error:e=>{this.handleError(e)}})}getRiskDim(){this.projectId&&this.riskDimService.getRiskDimByProjectId(this.projectId).subscribe({next:e=>{e&&e.forEach(a=>this.addRiskDimForm(a))},error:e=>{this.handleError(e)}})}uploadRiskConfig(){this.uploadRiskDim(),this.uploadRiskFreq()}uploadRiskFreq(){if(this.projectId){let e=this.riskFreqForm.controls.map(i=>new Fde(i.value.id,i.value.name,i.value.quantity));this.riskFreqService.updateAllRiskFreq(this.projectId,e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}uploadRiskDim(){if(this.projectId){let e=this.riskDimForm.controls.map(i=>new Mde(i.value.id,i.value.abbreviation,i.value.name));this.riskDimService.updateAllRiskDim(this.projectId,e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}handleNext(e){this.reload.emit(!0),this.containError=!1}handleError(e){let i=e.error.text;null==i&&(i="Error produced"),this.messageError=i,this.containError=!0}get riskFreqForm(){return this.formRiskConfig.get("riskFreq")}addRiskFreqForm(e){if(e){let i=this.formBuilder.group({id:[e.id,[]],name:[e.name,[]],quantity:[e.quantity,[]]});this.riskFreqForm.push(i)}else{let i=this.formBuilder.group({id:[void 0,[]],name:["",[]],quantity:[1,[]]});this.riskFreqForm.push(i)}}removeRiskFreqForm(e){this.riskFreqForm.removeAt(e)}get riskDimForm(){return this.formRiskConfig.get("riskDim")}addRiskDimForm(e){if(e){let i=this.formBuilder.group({id:[void 0,[]],name:[e.name,[]],abbreviation:[e.abbreviation,[]]});this.riskDimForm.push(i)}else{let i=this.formBuilder.group({id:[null,[]],name:["",[]],abbreviation:["",[]]});this.riskDimForm.push(i)}}removeRiskDimForm(e){this.riskDimForm.removeAt(e)}}return t.\u0275fac=function(e){return new(e||t)(Ce(Ar),Ce(DG),Ce(AG),Ce(Tk))},t.\u0275cmp=zt({type:t,selectors:[["risk-config-modal-view"]],viewQuery:function(e,i){if(1&e&&ni(Lde,5),2&e){let a;qt(a=Xt())&&(i.closeButtonRiskConfig=a.first)}},inputs:{projectId:"projectId"},outputs:{reload:"reload"},features:[$n],decls:14,vars:2,consts:[["id","riskConfigModal","tabindex","-1","aria-labelledby","riskConfigModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],["hidden","","type","button",1,"btn","btn-danger",3,"click"],["reloadRiskConfigViewModal",""],["class","container",4,"ngIf"],[1,"alert","alert-danger","mt-5"],[1,"container"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-6","my-3","px-3"],[1,"m-text","me-auto","my-auto"],["ngbTooltip","Add dimension","placement","left",3,"openDelay","click"],[1,"bi","bi-plus-lg"],["formArrayName","riskDim"],[4,"ngFor","ngForOf"],["ngbTooltip","Add frequency","placement","left",3,"openDelay","click"],["formArrayName","riskFreq"],[1,"col-lg-12","form-group","d-flex","flex-row-reverse","mt-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],[1,"d-flex",3,"formGroupName"],[1,"d-flex","me-3"],[1,"my-auto","me-2","text-nowrap"],["type","text","formControlName","abbreviation","maxlength","1","required","",2,"width","35px"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","name","maxlength","50","required",""],["class","bi bi-sm bi-trash-fill my-auto ms-auto",3,"click",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"bi","bi-sm","bi-trash-fill","my-auto","ms-auto",3,"click"],["value","1","type","number","step","0.1","formControlName","quantity","required","","min","0","max","1"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),K(7,"Risk config"),N(),M(8,"div",7),_e(9,"em",8),N()(),ie(10,Vde,2,1,"div",9),M(11,"button",10,11),Ve("click",function(){return i.buildForm()}),N(),ie(13,nhe,23,6,"div",12),N()()()()()),2&e&&(V(10),U("ngIf",i.containError),V(3),U("ngIf",null!=i.projectId))},directives:[Zn,ss,os,mo,_o,Pu,_i,yf,fo,rs,Bo,Ho,oh,nh,rh,$b],styles:[""]}),t})();class kG{constructor(n,e,i,a,d,h,m){this.name=n,this.description=e,this.activeId=i,this.vulnId=a,this.riskType=d,this.riskCalc=h,this.riskSfg=m}}class rhe extends kG{constructor(n,e,i,a,d,h,m,x){super(e,i,a,d,h,m,x),this.id=n}}class ohe{constructor(n,e,i,a,d,h,m){this.id=n,this.value=e,this.degradation=i,this.totalWoSfg=a,this.total=d,this.riskFreq=h,this.riskDimension=m}}class she{constructor(n,e,i,a,d){this.id=n,this.value=e,this.degradation=i,this.riskFreqId=a,this.riskDimensionId=d}}class ahe{constructor(n,e,i,a,d){this.id=n,this.name=e,this.description=i,this.active=a,this.riskSfgReduction=d}}class lhe{constructor(n,e,i,a,d){this.id=n,this.name=e,this.description=i,this.active=a,this.riskSfgReduction=d}}class che{constructor(n,e,i,a){this.id=n,this.reduction=e,this.cost=i,this.riskDimension=a}}class uhe{constructor(n,e,i,a){this.id=n,this.reduction=e,this.cost=i,this.riskDimensionId=a}}const dhe=["closeButtonRisk"];function hhe(t,n){if(1&t&&(M(0,"div",12),K(1),N()),2&t){const e=ae();V(1),it(" ",e.messageError," ")}}function phe(t,n){if(1&t&&(M(0,"div",25)(1,"div",26),_e(2,"em",27),M(3,"div",28),K(4,"Description"),N()(),M(5,"div",29),K(6),N()()),2&t){const e=ae(2);V(6),Gt(e.selectedRisk.description)}}function fhe(t,n){if(1&t&&(M(0,"div",30)(1,"div",31),K(2,"Risk type:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Gt(e.selectedRisk.riskType)}}function ghe(t,n){if(1&t&&(M(0,"div",32)(1,"div",31),K(2,"Active:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Li("(#",e.selectedRisk.assignedActive.code,") ",e.selectedRisk.assignedActive.name," ")}}function mhe(t,n){if(1&t&&(M(0,"div",32)(1,"div",31),K(2,"Vulnerability:"),N(),M(3,"div"),K(4),N()()),2&t){const e=ae(2);V(4),Li("(#",e.selectedRisk.assignedVuln.code,") ",e.selectedRisk.assignedVuln.name,"")}}function _he(t,n){if(1&t&&(M(0,"tr")(1,"td"),K(2),N(),M(3,"td"),K(4),N(),M(5,"td"),K(6),N(),M(7,"td"),K(8),N(),M(9,"td"),K(10),N(),M(11,"td"),K(12),N()()),2&t){const e=n.$implicit,i=ae(3);V(2),Li("",e.riskDimension.name," (",e.riskDimension.abbreviation,")"),V(2),Gt(i.transformNumberToString(e.value,1,2)),V(2),Gt(i.transformNumberToString(e.degradation,1,2)),V(2),Gt(e.riskFreq.name),V(2),Gt(i.transformNumberToString(e.totalWoSfg,1,2)),V(2),Gt(i.transformNumberToString(e.total,1,2))}}function vhe(t,n){if(1&t&&(M(0,"table",33)(1,"thead")(2,"th"),K(3,"Dimension"),N(),M(4,"th"),K(5,"Value"),N(),M(6,"th"),K(7,"Deg."),N(),M(8,"th"),K(9,"Freq."),N(),M(10,"th"),K(11,"Total wo sfg"),N(),M(12,"th"),K(13,"Total"),N()(),M(14,"tbody"),ie(15,_he,13,7,"tr",34),M(16,"tr"),_e(17,"td")(18,"td")(19,"td")(20,"td"),M(21,"td"),K(22),N(),M(23,"td"),K(24),N()()()()),2&t){const e=ae(2);V(15),U("ngForOf",e.selectedRisk.riskCalc),V(7),Gt(e.transformNumberToString(e.selectedRisk.totalWoSfg,1,2)),V(2),Gt(e.transformNumberToString(e.selectedRisk.total,1,2))}}function yhe(t,n){if(1&t&&(M(0,"tr")(1,"td"),K(2),N(),M(3,"td"),K(4),N(),M(5,"td"),K(6),N()()),2&t){const e=n.$implicit,i=ae(5);V(2),Li("",e.riskDimension.name," (",e.riskDimension.abbreviation,")"),V(2),Gt(i.transformNumberToString(e.reduction,1,2)),V(2),Gt(i.transformNumberToString(e.cost,1,2))}}function Che(t,n){if(1&t&&(M(0,"table",33)(1,"thead")(2,"th"),K(3,"Dimension"),N(),M(4,"th"),K(5,"Red."),N(),M(6,"th"),K(7,"Cost"),N()(),M(8,"tbody"),ie(9,yhe,7,4,"tr",34),N()()),2&t){const e=ae().$implicit;V(9),U("ngForOf",e.riskSfgReduction)}}function bhe(t,n){if(1&t&&(M(0,"div",38)(1,"div",39)(2,"div",40),K(3),N(),_e(4,"em"),N(),M(5,"div",29),K(6),N(),ie(7,Che,10,1,"table",22),N()),2&t){const e=n.$implicit;V(3),Gt(e.name),V(1),dt("bi ",e.active?"bi-check-square":"bi-square"," ms-auto"),V(2),Gt(e.description),V(1),U("ngIf",e.riskSfgReduction&&0!=e.riskSfgReduction.length)}}function whe(t,n){if(1&t&&(M(0,"div",35)(1,"div",36),K(2,"Safeguards"),N(),ie(3,bhe,8,6,"div",37),N()),2&t){const e=ae(2);V(3),U("ngForOf",e.selectedRisk.riskSfg)}}function xhe(t,n){if(1&t){const e=Tt();M(0,"div",41)(1,"button",42),Ve("click",function(){return Xe(e),ae(2).edit()}),_e(2,"em",43),M(3,"div",44),K(4,"Edit"),N()()()}}function She(t,n){if(1&t&&(M(0,"div",13)(1,"div",14)(2,"div"),ie(3,phe,7,1,"div",15),ie(4,fhe,5,1,"div",16),M(5,"div",17)(6,"div",18),K(7,"Creation: "),N(),_e(8,"show-user",19),M(9,"div",20),K(10),N()(),M(11,"div",17)(12,"div",18),K(13,"Last update: "),N(),_e(14,"show-user",19),M(15,"div",20),K(16),N()(),ie(17,ghe,5,2,"div",21),ie(18,mhe,5,2,"div",21),ie(19,vhe,25,3,"table",22),N(),ie(20,whe,4,1,"div",23),ie(21,xhe,5,0,"div",24),N()()),2&t){const e=ae();V(2),dt("d-flex flex-wrap ",0!=e.selectedRisk.riskSfg.length?"col-lg-8":"col-lg-12"," p-3"),V(1),U("ngIf",e.selectedRisk.description),V(1),U("ngIf",e.selectedRisk.riskType),V(4),U("user",e.selectedRisk.createdBy),V(2),it("( ",e.getFormatedDate(e.selectedRisk.creationDate,"HH:mm:ss dd/MM/yyyy"),") "),V(4),U("user",e.selectedRisk.modifiedBy),V(2),it("( ",e.getFormatedDate(e.selectedRisk.lastModification,"HH:mm:ss dd/MM/yyyy"),") "),V(1),U("ngIf",e.selectedRisk.assignedActive),V(1),U("ngIf",e.selectedRisk.assignedVuln),V(1),U("ngIf",e.selectedRisk.riskCalc&&0!=e.selectedRisk.riskCalc.length),V(1),U("ngIf",e.selectedRisk.riskSfg&&0!=e.selectedRisk.riskSfg.length),V(1),U("ngIf",e.isEditable&&null!=e.selectedRisk)}}function The(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Ehe(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters "),N())}function Dhe(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function Ahe(t,n){if(1&t&&(M(0,"div",81),ie(1,The,2,0,"div",82),ie(2,Ehe,2,0,"div",82),ie(3,Dhe,2,0,"div",82),N()),2&t){const e=ae(2);let i,a,d;V(1),U("ngIf",null==(i=e.formRisk.get("name"))||null==i.errors?null:i.errors.required),V(1),U("ngIf",null==(a=e.formRisk.get("name"))||null==a.errors?null:a.errors.minlength),V(1),U("ngIf",null==(d=e.formRisk.get("name"))||null==d.errors?null:d.errors.maxlength)}}function khe(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function Rhe(t,n){if(1&t&&(M(0,"div",81),ie(1,khe,2,0,"div",82),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formRisk.get("description"))||null==i.errors?null:i.errors.maxlength)}}function Ohe(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function Phe(t,n){if(1&t&&(M(0,"div",81),ie(1,Ohe,2,0,"div",82),N()),2&t){const e=ae(2);let i;V(1),U("ngIf",null==(i=e.formRisk.get("riskType"))||null==i.errors?null:i.errors.maxlength)}}function Ihe(t,n){if(1&t&&(M(0,"option"),K(1),N()),2&t){const e=n.$implicit;kt("data-value",e.code),V(1),it(" ",e.code," ")}}function Mhe(t,n){if(1&t&&(M(0,"option",83),K(1),N()),2&t){const e=n.$implicit;U("ngValue",e),kt("data-value",e.name),V(1),it(" ",e.name," ")}}function Nhe(t,n){if(1&t&&(M(0,"option"),K(1),N()),2&t){const e=n.$implicit;kt("data-value",e.code),V(1),it(" ",e.code," ")}}function Fhe(t,n){if(1&t&&(M(0,"option",83),K(1),N()),2&t){const e=n.$implicit;U("ngValue",e),kt("data-value",e.name),V(1),it(" ",e.name," ")}}function Lhe(t,n){if(1&t&&(M(0,"option",89),K(1),N()),2&t){const e=n.$implicit,i=ae().$implicit;qn("selected",e.id===i.value.freq?"true":"false"),qn("value",e.id),V(1),it(" ",e.name,"")}}function Vhe(t,n){if(1&t&&(M(0,"tr",84)(1,"td",44),K(2),N(),M(3,"td"),_e(4,"input",85),N(),M(5,"td"),_e(6,"input",86),N(),M(7,"td",44)(8,"select",87),ie(9,Lhe,2,3,"option",88),N()()()),2&t){const e=n.$implicit,i=n.index,a=ae(2);U("formGroupName",i),V(2),Gt(a.getDimension(e.value.dim)),V(2),dt("form-control ",a.inputClass(a.formRisk,"rc_calc"+i),""),V(2),dt("form-control ",a.inputClass(a.formRisk,"rc_calc"+i),""),V(3),U("ngForOf",a.riskFreqLs)}}function Ghe(t,n){if(1&t){const e=Tt();M(0,"button",90),Ve("click",function(){return Xe(e),ae(2).disableRisk()}),K(1,"Disable"),N()}}function Bhe(t,n){1&t&&(M(0,"div"),K(1," Cannot be empty "),N())}function Hhe(t,n){1&t&&(M(0,"div"),K(1," Must containt at least 2 characters "),N())}function jhe(t,n){1&t&&(M(0,"div"),K(1," Only 50 characters are allowed "),N())}function $he(t,n){if(1&t&&(M(0,"div",81),ie(1,Bhe,2,0,"div",82),ie(2,Hhe,2,0,"div",82),ie(3,jhe,2,0,"div",82),N()),2&t){const e=ae().index,i=ae(2);let a,d,h;V(1),U("ngIf",null==(a=i.formRisk.get("name_sfg_"+e))||null==a.errors?null:a.errors.required),V(1),U("ngIf",null==(d=i.formRisk.get("name_sfg_"+e))||null==d.errors?null:d.errors.minlength),V(1),U("ngIf",null==(h=i.formRisk.get("name_sfg_"+e))||null==h.errors?null:h.errors.maxlength)}}function Whe(t,n){1&t&&(M(0,"div"),K(1," Only 255 characters are allowed "),N())}function Uhe(t,n){if(1&t&&(M(0,"div",81),ie(1,Whe,2,0,"div",82),N()),2&t){const e=ae().index,i=ae(2);let a;V(1),U("ngIf",null==(a=i.formRisk.get("description_sfg_"+e))||null==a.errors?null:a.errors.maxlength)}}function zhe(t,n){if(1&t&&(M(0,"tr",84)(1,"td",44),K(2),N(),M(3,"td"),_e(4,"input",95),N(),M(5,"td"),_e(6,"input",96),N()()),2&t){const e=n.$implicit,i=n.index,a=ae().index,d=ae(2);U("formGroupName",i),V(2),it("",d.getDimension(e.value.dim)," "),V(2),dt("form-control ",d.inputClass(d.formRisk,"red_sfg_red"+a+"_"+i),""),V(2),dt("form-control ",d.inputClass(d.formRisk,"red_sfg_cost"+a+"_"+i),"")}}function Yhe(t,n){if(1&t){const e=Tt();M(0,"div",91)(1,"div",39),_e(2,"input",92),M(3,"div",93),_e(4,"input",48),ie(5,$he,4,3,"div",49),N(),M(6,"em",67),Ve("click",function(){const d=Xe(e).index;return ae(2).removeRiskSfgForm(d)}),N()(),_e(7,"textarea",52),ie(8,Uhe,2,1,"div",49),M(9,"div",94)(10,"table",70)(11,"thead")(12,"th"),K(13,"Dim."),N(),M(14,"th"),K(15,"Red."),N(),M(16,"th"),K(17,"Cost"),N()(),M(18,"tbody"),ie(19,zhe,7,8,"tr",71),N()()()()}if(2&t){const e=n.index,i=ae(2);let a,d;U("formGroupName",e),V(4),dt("form-control ",i.inputClass(i.formRisk,"name_sfg_"+e),""),V(1),U("ngIf",(null==(a=i.formRisk.get("name_sfg_"+e))?null:a.touched)&&(null==(a=i.formRisk.get("name_sfg_"+e))?null:a.invalid)),V(2),dt("form-control ",i.inputClass(i.formRisk,"description_sfg_"+e),""),V(1),U("ngIf",(null==(d=i.formRisk.get("description_sfg_"+e))?null:d.touched)&&(null==(d=i.formRisk.get("description_sfg_"+e))?null:d.invalid)),V(11),U("ngForOf",i.riskSfgRedForm(e).controls)}}function Khe(t,n){if(1&t){const e=Tt();M(0,"div",13)(1,"form",45),Ve("ngSubmit",function(){return Xe(e),ae().uploadRisk()}),M(2,"div",46)(3,"div",47)(4,"div",18),K(5,"Name:"),N(),_e(6,"input",48),ie(7,Ahe,4,3,"div",49),N(),M(8,"div",50)(9,"div",51),K(10,"Description:"),N(),_e(11,"textarea",52),ie(12,Rhe,2,1,"div",49),N(),M(13,"div",53)(14,"div",18),K(15,"Risk type:"),N(),_e(16,"input",54),ie(17,Phe,2,1,"div",49),M(18,"datalist",55)(19,"option"),K(20,"Natural disaster"),N(),M(21,"option"),K(22,"Industrial"),N(),M(23,"option"),K(24,"Unintentional errors & mistakes"),N(),M(25,"option"),K(26,"Deliberate attacks"),N()()(),M(27,"div",56),_e(28,"em",57),M(29,"div",40),K(30,"Vulnerability"),N()(),M(31,"form",58),_e(32,"em",59)(33,"input",60),M(34,"div",40),K(35,"#"),N(),M(36,"input",61),Ve("keyup",function(a){return Xe(e),ae().searchVulnByCode(a.target)})("mouseleave",function(){return Xe(e),ae().addVulnFormInput()}),N(),M(37,"datalist",62),ie(38,Ihe,2,2,"option",34),N(),M(39,"div",63),K(40,"Name:"),N(),M(41,"input",64),Ve("keyup",function(a){return Xe(e),ae().searchVulnByName(a.target)})("mouseleave",function(){return Xe(e),ae().addVulnFormInput()}),N(),M(42,"datalist",65),ie(43,Mhe,2,3,"option",66),N(),M(44,"em",67),Ve("click",function(){return Xe(e),ae().deleteVulnFormInput()}),N()(),M(45,"div",56),_e(46,"em",68),M(47,"div",40),K(48,"Active"),N()(),M(49,"form",58),_e(50,"em",59)(51,"input",60),M(52,"div",40),K(53,"#"),N(),M(54,"input",61),Ve("keyup",function(a){return Xe(e),ae().searchActiveByCode(a.target)})("mouseleave",function(){return Xe(e),ae().addActiveFormInput()}),N(),M(55,"datalist",62),ie(56,Nhe,2,2,"option",34),N(),M(57,"div",63),K(58,"Name:"),N(),M(59,"input",64),Ve("keyup",function(a){return Xe(e),ae().searchActiveByName(a.target)})("mouseleave",function(){return Xe(e),ae().addActiveFormInput()}),N(),M(60,"datalist",65),ie(61,Fhe,2,3,"option",66),N(),M(62,"em",67),Ve("click",function(){return Xe(e),ae().deleteActiveFormInput()}),N()(),M(63,"div",69)(64,"table",70)(65,"thead")(66,"th"),K(67,"Dimension"),N(),M(68,"th"),K(69,"Value"),N(),M(70,"th"),K(71,"Deg."),N(),M(72,"th"),K(73,"Freq."),N()(),M(74,"tbody"),ie(75,Vhe,10,9,"tr",71),N()()(),M(76,"div",72)(77,"button",73),Ve("click",function(){return Xe(e),ae().edit()}),K(78,"Close"),N(),ie(79,Ghe,2,0,"button",74),M(80,"button",75),K(81),N()()(),M(82,"div",76)(83,"div",39)(84,"div",77),K(85,"Safeguards"),N(),M(86,"a",78),Ve("click",function(){return Xe(e),ae().addRiskSfgEmpty()}),_e(87,"em",79),N()(),ie(88,Yhe,20,10,"div",80),N()()()}if(2&t){const e=ae();let i,a,d;V(1),U("formGroup",e.formRisk),V(5),dt("form-control ",e.inputClass(e.formRisk,"name"),""),V(1),U("ngIf",(null==(i=e.formRisk.get("name"))?null:i.touched)&&(null==(i=e.formRisk.get("name"))?null:i.invalid)),V(4),dt("form-control ",e.inputClass(e.formRisk,"description"),""),V(1),U("ngIf",(null==(a=e.formRisk.get("description"))?null:a.touched)&&(null==(a=e.formRisk.get("description"))?null:a.invalid)),V(4),dt("form-control ",e.inputClass(e.formRisk,"riskType"),""),V(1),U("ngIf",(null==(d=e.formRisk.get("riskType"))?null:d.touched)&&(null==(d=e.formRisk.get("riskType"))?null:d.invalid)),V(14),U("formGroup",e.formAddVuln),V(7),U("ngForOf",e.searchVulns),V(5),U("ngForOf",e.searchVulns),V(6),U("formGroup",e.formAddActive),V(7),U("ngForOf",e.searchActives),V(5),U("ngForOf",e.searchActives),V(14),U("ngForOf",e.riskCalcs.controls),V(4),U("ngIf",null!=e.selectedRisk),V(1),U("disabled",!e.formRisk.valid),V(1),Gt(null==e.selectedRisk?"Create":"Edit"),V(5),U("openDelay",300),V(2),U("ngForOf",e.riskSfg.controls)}}let qhe=(()=>{class t{constructor(e,i,a,d,h,m){this.formBuilder=e,this.vulnService=i,this.activeService=a,this.riskService=d,this.riskFreqService=h,this.riskDimService=m,this.isEditable=!1,this.isEditing=!1,this.reload=new Ae,this.containError=!1,this.riskFreqLs=[],this.riskDimLs=[],this.searchActives=[],this.searchVulns=[],this.formRisk=this.formBuilder.group({name:["",[Jt.required]],description:["",[]],riskType:["",[]],riskCalc:this.formBuilder.array([]),riskSfg:this.formBuilder.array([])}),this.formAddActive=this.formBuilder.group({id:["",[]],code:["",[]],name:["",[]]}),this.formAddVuln=this.formBuilder.group({id:["",[]],code:["",[]],name:["",[]]})}ngOnChanges(){this.getRiskFreq(),this.getRiskDim(),this.buildForm()}getRiskFreq(){this.projectId&&this.riskFreqService.getRiskFreqByProjectId(this.projectId).subscribe({next:e=>{this.riskFreqLs=e,this.containError=!1},error:e=>{this.handleError(e)}})}getRiskDim(){this.projectId&&this.riskDimService.getRiskDimByProjectId(this.projectId).subscribe({next:e=>{this.riskDimLs=e,this.containError=!1},error:e=>{this.handleError(e)}})}inputClass(e,i){var a,d,h,m;return(null===(a=null==e?void 0:e.get(i))||void 0===a?void 0:a.touched)&&(null===(d=null==e?void 0:e.get(i))||void 0===d?void 0:d.valid)?"is-valid":(null===(h=null==e?void 0:e.get(i))||void 0===h?void 0:h.touched)&&(null===(m=null==e?void 0:e.get(i))||void 0===m?void 0:m.invalid)?"is-invalid":""}edit(){this.isEditing=!this.isEditing,this.isEditing&&this.buildForm()}clearForms(){this.riskCalcs.clear(),this.riskSfg.clear(),this.formRisk.reset(),this.formAddActive.reset(),this.formAddVuln.reset()}buildForm(){this.clearForms(),null!=this.selectedRisk?(this.formRisk=this.formBuilder.group({name:[this.selectedRisk.name,[]],description:[this.selectedRisk.description,[]],riskType:[this.selectedRisk.riskType,[]],riskCalc:this.formBuilder.array([]),riskSfg:this.formBuilder.array([])}),this.selectedRisk.assignedActive&&(this.formAddActive=this.formBuilder.group({id:[this.selectedRisk.assignedActive.id,[]],code:[this.selectedRisk.assignedActive.code,[]],name:[this.selectedRisk.assignedActive.name,[]]})),this.selectedRisk.assignedVuln&&(this.formAddVuln=this.formBuilder.group({id:[this.selectedRisk.assignedVuln.id,[]],code:[this.selectedRisk.assignedVuln.code,[]],name:[this.selectedRisk.assignedVuln.name,[]]})),this.selectedRisk.riskCalc?this.selectedRisk.riskCalc.forEach(e=>this.addRiskCalcForm(e)):this.riskDimLs&&this.riskDimLs.forEach(e=>this.addRiskCalcEmpty(e)),this.selectedRisk.riskSfg&&this.selectedRisk.riskSfg.forEach(e=>this.addRiskSfgForm(e))):this.riskDimLs.forEach(e=>this.addRiskCalcEmpty(e))}handleNext(e){this.selectedRisk=e,this.clearForms(),this.reload.emit(!0),this.containError=!1,this.edit()}handleError(e){let i=e.error.text;null==i&&(i="Error produced"),this.messageError=i,this.containError=!0}uploadRisk(){null==this.selectedRisk?this.newRisk():this.editRisk()}newRisk(){if(this.projectId){let e=new kG(this.formRisk.value.name,this.formRisk.value.description,this.formAddActive.value.id,this.formAddVuln.value.id,this.formRisk.value.riskType,this.getRiskCalcUpdateLs(),this.getRiskSfgUpdateLs());this.riskService.createRisk(this.projectId,e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}getRiskCalcUpdateLs(){return this.riskCalcs.controls.map(e=>new she(e.value.id,e.value.value,e.value.degradation,e.value.freq,e.value.dim))}getRiskSfgUpdateLs(){return this.riskSfg.controls.map(e=>new lhe(e.value.id,e.value.name,e.value.description,e.value.active,e.value.riskSfgReduction.map(i=>new uhe(i.id,i.reduction,i.cost,i.dim))))}editRisk(){if(this.projectId&&this.selectedRisk){let e=new rhe(this.selectedRisk.id,this.formRisk.value.name,this.formRisk.value.description,this.formAddActive.value.id,this.formAddVuln.value.id,this.formRisk.value.riskType,this.getRiskCalcUpdateLs(),this.getRiskSfgUpdateLs());this.riskService.updateRisk(e).subscribe({next:i=>{this.handleNext(i)},error:i=>{this.handleError(i)}})}}disableRisk(){this.selectedRisk&&this.riskService.disableRisk(this.selectedRisk.id).subscribe({next:e=>{this.handleNext(void 0),this.closeButtonRisk.nativeElement.click()},error:e=>{this.handleError(e)}})}getFormatedDate(e,i){return new Tu("en-US").transform(e,i)}transformNumberToString(e,i,a){return e.toLocaleString("en-US",{minimumIntegerDigits:i,maximumFractionDigits:a})}searchActiveByName(e){this.projectId&&this.activeService.findActivesByProject(this.projectId,0,5,[],{name:{filterType:"text",type:"contains",filter:e.value}},[{field:"name"}]).subscribe(i=>{this.searchActives=i.content})}searchActiveByCode(e){this.projectId&&this.activeService.findActivesByProject(this.projectId,0,5,[],{code:{filterType:"text",type:"contains",filter:e.value}},[{field:"code"}]).subscribe(i=>{this.searchActives=i.content})}addActiveFormInput(){let e,i=this.searchActives.filter(d=>d.code==this.formAddActive.value.code)[0],a=this.searchActives.filter(d=>d.name==this.formAddActive.value.name)[0];this.searchActives&&null!=i?(e=i,this.formAddActive.controls.name.setValue(e.name)):this.searchActives&&null!=a&&(e=a,this.formAddActive.controls.code.setValue(e.code)),null!=e&&this.formAddActive.controls.id.setValue(e?e.id:void 0)}deleteActiveFormInput(){this.formAddActive.controls.id.setValue(""),this.formAddActive.controls.code.setValue(""),this.formAddActive.controls.name.setValue("")}searchVulnByName(e){this.projectId&&this.vulnService.findVulnsByProject(this.projectId,0,5,[],{name:{filterType:"text",type:"contains",filter:e.value}},[{field:"name"}]).subscribe(i=>{this.searchVulns=i.content})}searchVulnByCode(e){this.projectId&&this.vulnService.findVulnsByProject(this.projectId,0,5,[],{code:{filterType:"text",type:"contains",filter:e.value}},[{field:"code"}]).subscribe(i=>{this.searchVulns=i.content})}addVulnFormInput(){let e,i=this.searchVulns.filter(d=>d.code==this.formAddVuln.value.code)[0],a=this.searchVulns.filter(d=>d.name==this.formAddVuln.value.name)[0];if(this.searchVulns&&null!=i?(e=i,this.formAddVuln.controls.name.setValue(e.name)):this.searchVulns&&null!=a&&(e=a,this.formAddVuln.controls.code.setValue(e.code)),null!=e){let d=e?e.id:void 0;this.formAddVuln.controls.id.setValue(d),d&&this.formAddActive.controls.code&&this.vulnService.getVulnById(d).subscribe({next:h=>{let m=h.relActive;m&&(this.formAddActive.controls.id.setValue(m.id),this.formAddActive.controls.code.setValue(m.code),this.formAddActive.controls.name.setValue(m.name))}})}}deleteVulnFormInput(){this.formAddVuln.controls.id.setValue(""),this.formAddVuln.controls.code.setValue(""),this.formAddVuln.controls.name.setValue("")}get riskCalcs(){return this.formRisk.get("riskCalc")}addRiskCalcForm(e){if(e){let i=this.formBuilder.group({id:[e.id,[]],dim:[e.riskDimension.id,[]],value:[e.value,[]],degradation:[e.degradation,[]],freq:[e.riskFreq.id,[]],totalWoSfg:[e.totalWoSfg,[]],sfgRed:["",[]],sfgCost:["",[]],total:[e.total,[]]});this.riskCalcs.push(i)}}removeRiskCalcForm(e){this.riskCalcs.removeAt(e)}addRiskCalcEmpty(e){let i=new ohe(0,0,0,0,0,this.riskFreqLs[0],e);this.addRiskCalcForm(i)}get riskSfg(){return this.formRisk.get("riskSfg")}addRiskSfgForm(e){if(e){let i=this.formBuilder.group({id:[e.id,[]],name:[e.name,[]],description:[e.description,[]],active:[e.active,[]],riskSfgReduction:this.formBuilder.array(e.riskSfgReduction.map(a=>this.formBuilder.group({id:[a.id,[]],reduction:[a.reduction,[]],cost:[a.cost,[]],dim:[a.riskDimension.id,[]]})))});this.riskSfg.push(i)}}removeRiskSfgForm(e){this.riskSfg.removeAt(e)}addRiskSfgEmpty(){let e=[];this.riskDimLs.forEach(a=>e.push(new che(0,0,0,a)));let i=new ahe(0,"","",!0,e);this.addRiskSfgForm(i)}riskSfgRedForm(e){return this.riskSfg.at(e).get("riskSfgReduction")}getDimension(e){let i=this.riskDimLs.filter(a=>a.id==e)[0];return i.name+" ("+i.abbreviation+")"}}return t.\u0275fac=function(e){return new(e||t)(Ce(Ar),Ce(Sk),Ce(Uw),Ce(Tk),Ce(DG),Ce(AG))},t.\u0275cmp=zt({type:t,selectors:[["risk-modal-view"]],viewQuery:function(e,i){if(1&e&&ni(dhe,5),2&e){let a;qt(a=Xt())&&(i.closeButtonRisk=a.first)}},inputs:{isEditable:"isEditable",isEditing:"isEditing",selectedRisk:"selectedRisk",projectId:"projectId"},outputs:{reload:"reload"},features:[$n],decls:14,vars:4,consts:[["id","riskModal","tabindex","-1","aria-labelledby","riskModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content","bg-dark-5"],[1,"modal-body"],[1,"card","overflow-auto"],[1,"d-flex"],[1,"flex-grow-1","card-title","mt-2"],["data-bs-dismiss","modal",1,"close-card-button"],["closeButtonRisk",""],[1,"bi","bi-x"],["class","alert alert-danger mt-5",4,"ngIf"],["class","container",4,"ngIf"],[1,"alert","alert-danger","mt-5"],[1,"container"],[1,"row"],["class","w-100",4,"ngIf"],["class","w-100 d-flex flex-wrap my-3 mt-4",4,"ngIf"],[1,"w-100","d-flex","flex-wrap"],[1,"my-auto","me-2"],[3,"user"],[1,"my-auto","ms-2"],["class","w-100 d-flex flex-wrap my-3",4,"ngIf"],["class","table table-dark table-sm table-responsive mt-3",4,"ngIf"],["class","col-lg-4 p-3",4,"ngIf"],["class","w-100 d-flex p-2 mt-2",4,"ngIf"],[1,"w-100"],[1,"d-flex","flex-wrap","my-3"],[1,"bi","bi-card-text","my-auto",2,"font-size","20px !important"],[1,"text-break","my-auto","mx-2"],[1,"text-break","my-auto","mt-2"],[1,"w-100","d-flex","flex-wrap","my-3","mt-4"],[1,"me-2"],[1,"w-100","d-flex","flex-wrap","my-3"],[1,"table","table-dark","table-sm","table-responsive","mt-3"],[4,"ngFor","ngForOf"],[1,"col-lg-4","p-3"],[1,"b-text"],["class","card inc-upd-card p-3 mt-3",4,"ngFor","ngForOf"],[1,"card","inc-upd-card","p-3","mt-3"],[1,"d-flex","flex-wrap"],[1,"m-text","my-auto"],[1,"w-100","d-flex","p-2","mt-2"],["type","button",1,"btn","btn-secondary","ms-auto","d-flex",3,"click"],[1,"bi","bi-sm","bi-pencil-fill","ms-auto","me-2"],[1,"my-auto"],[1,"row",3,"formGroup","ngSubmit"],[1,"d-flex","flex-wrap","col-lg-8","p-3"],[1,"col-lg-12","my-3","d-flex"],["type","text","formControlName","name","maxlength","50","minlength","2","required",""],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-12","my-3"],[1,"my-auto","me-2","text-nowrap"],["formControlName","description","maxlength","255","rows","2"],[1,"col-lg-12","d-flex","my-3"],["type","text","formControlName","riskType","list","riskTypeLs","maxlength","50"],["id","riskTypeLs"],[1,"col-lg-12","d-flex","mt-4","mb-2"],[1,"bi","bi-incognito","my-auto","me-3"],[1,"col-lg-12","d-flex","mt-1","mb-2",3,"formGroup"],[1,"bi","bi-search","bi-sm","my-auto","me-3"],["type","text","formControlName","id","hidden","",1,"form-control","me-2"],["list","searchChildrenByCode","type","text","formControlName","code",1,"form-control","me-2",2,"width","100px",3,"keyup","mouseleave"],["id","searchChildrenByCode"],[1,"ms-2","s-text","my-auto"],["list","searchChildrenByName","type","text","formControlName","name",1,"form-control",3,"keyup","mouseleave"],["id","searchChildrenByName"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"bi","bi-sm","bi-trash-fill","my-auto","ms-auto",3,"click"],[1,"bi","bi-laptop","my-auto","me-3"],["formArrayName","riskCalc",1,"mt-3"],[1,"table","table-dark","table-sm","table-responsive"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-lg-12","form-group","d-flex","flex-row-reverse","mt-3"],["type","button",1,"btn","btn-danger",3,"click"],["type","button","class","btn btn-danger me-2",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["formArrayName","riskSfg",1,"col-lg-4","p-3"],[1,"b-text","my-auto","me-auto"],["ngbTooltip","Add safeguard","placement","left",3,"openDelay","click"],[1,"bi","bi-plus-lg"],["class","card inc-upd-card p-3 mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[4,"ngIf"],[3,"ngValue"],[3,"formGroupName"],["value","0","type","number","step","100","formControlName","value","required","","min","0","max","1000000000"],["value","1","type","number","step","0.1","formControlName","degradation","required","","min","0","max","1"],["formControlName","freq",1,"m-auto"],["class","dark-text",3,"selected","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"selected","value"],["type","button",1,"btn","btn-danger","me-2",3,"click"],[1,"card","inc-upd-card","p-3","mt-3",3,"formGroupName"],["type","checkbox","formControlName","active",1,"me-2"],[1,"my-3","d-flex"],["formArrayName","riskSfgReduction",1,"mt-3"],["value","1","type","number","step","0.1","formControlName","reduction","required","","min","0","max","1"],["value","1","type","number","step","0.1","formControlName","cost","required","","min","0","max","1000000000"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),K(7),N(),M(8,"div",7,8),_e(10,"em",9),N()(),ie(11,hhe,2,1,"div",10),ie(12,She,22,14,"div",11),ie(13,Khe,89,25,"div",11),N()()()()()),2&e&&(V(7),Gt(null!=i.selectedRisk?i.isEditing?"Update risk":"#"+i.selectedRisk.code+": "+i.selectedRisk.name:"New risk"),V(4),U("ngIf",i.containError),V(1),U("ngIf",null!=i.selectedRisk&&!i.isEditing),V(1),U("ngIf",i.isEditing))},directives:[Zn,nv,_i,ss,os,mo,fo,rs,Bo,Ho,ia,oh,Zr,Jr,Pu,yf,nh,rh,$b,gl,_o,Ob],styles:[".inc-upd-card[_ngcontent-%COMP%]{background-color:var(--dark-pallete-2)!important;border-radius:10px!important}"]}),t})();const Xhe=["openRiskViewModal"],Qhe=["openRiskConfigViewModal"];function Zhe(t,n){if(1&t&&(M(0,"option",16),K(1),N()),2&t){const e=n.$implicit,i=ae(2);qn("value",e.id),U("ngValue",e),kt("selected",e.id==i.projectSelectedId||null),V(1),it(" ",e.name,"")}}function Jhe(t,n){if(1&t){const e=Tt();M(0,"div",12),_e(1,"em",13),M(2,"select",14),Ve("change",function(a){return Xe(e),ae().loadProjectByIdEvent(a.target)}),ie(3,Zhe,2,4,"option",15),N()()}if(2&t){const e=ae();V(1),U("openDelay",300),V(2),U("ngForOf",e.myProjects)}}function epe(t,n){if(1&t){const e=Tt();M(0,"div",17)(1,"a",18),Ve("click",function(){return Xe(e),ae().newRisk()}),_e(2,"em",19),N()()}2&t&&(V(1),U("openDelay",300))}function tpe(t,n){if(1&t){const e=Tt();M(0,"div",17)(1,"a",20),Ve("click",function(){return Xe(e),ae().openRiskConfig()}),_e(2,"em",21),N()()}2&t&&(V(1),U("openDelay",300))}const npe=[{path:"",component:MM},{path:"login",component:dY},{path:"app",component:DY,children:[{path:"projects",component:nQ},{path:"effort",component:dse},{path:"kanban",component:aX},{path:"user",component:Kse},{path:"sprint",component:Boe},{path:"gantt",component:rae},{path:"incidents",component:ule},{path:"actives",component:jce},{path:"vulnlib",component:$ue},{path:"vulns",component:Pde},{path:"risks",component:(()=>{class t extends Va{constructor(e,i,a,d,h,m,x){super(e,i,a,d,h,m),this.riskService=x,this.incCol=[{headerName:"Code",field:"code",sortable:!0,filter:!0,maxWidth:120,unSortIcon:!0,pinned:"left"},{headerName:"Name",field:"name",sortable:!0,filter:!0,resizable:!0},{headerName:"Creation date",field:"creationDate",sortable:!0,filter:!0,resizable:!0,valueFormatter:R=>null!=R.data?this.formatDateAgGrid(R.data.creationDate):""},{headerName:"Created by",field:"createdBy",sortable:!0,filter:!0,resizable:!0,valueFormatter:R=>null!=R.data?this.formatUsernameAgGrid(R.data.createdBy):""},{headerName:"Last modification",field:"lastModification",sortable:!0,filter:!0,resizable:!0,valueFormatter:R=>null!=R.data?this.formatDateAgGrid(R.data.lastModification):""},{headerName:"Modified by",field:"modifiedBy",sortable:!0,filter:!0,resizable:!0,valueFormatter:R=>null!=R.data?this.formatUsernameAgGrid(R.data.modifiedBy):""},{headerName:"Risk type",field:"riskType",sortable:!0,filter:!0,resizable:!0},{headerName:"Total - sfg",field:"totalWoSfg",sortable:!0,filter:!0,resizable:!0},{headerName:"Total",field:"total",sortable:!0,filter:!0,resizable:!0}],this.pageSize=25,this.pageNumber=1,this.totalElements=0,this.risks=[],this.isEditing=!1,this.dataSource={getRows:R=>{this.getRows(R)}}}ngOnInit(){this.loadProject=!0,this.loadMyProjects()}loadAfterProject(){this.reloadGridTable()}loadSelectedData(e){this.riskService.getRiskById(e.id).subscribe({next:i=>{this.containError=!1,this.selectedRisk=i,this.isEditing=!1}})}newRisk(){this.selectedRisk=void 0,this.isEditing=!0,this.openRiskViewModal.nativeElement.click()}openRiskConfig(){this.openRiskConfigViewModal.nativeElement.click()}formatDateAgGrid(e){return null!=parent&&null!=e&&this.getFormatedDate(e,"HH:mm:ss dd/MM/yyyy")||""}formatUsernameAgGrid(e){return null!=parent&&null!=e&&null!=e.username?"@"+e.username:""}reloadGridTable(){this.gridApi.setDatasource(this.dataSource)}loadSelectedRow(e){this.loadSelectedData(e.data),this.openRiskViewModal.nativeElement.click()}getRows(e){this.projectSelectedId&&(this.pageSize=this.gridApi.paginationGetPageSize(),this.pageNumber=this.gridApi.paginationGetCurrentPage()+1,this.riskService.findRisksByProject(this.projectSelectedId,this.pageNumber,this.pageSize,e.sortModel,e.filterModel,this.incCol).subscribe({next:i=>{this.containError=!1,this.risks=i.content,this.pageNumber=i.pageable.pageNumber+1,this.pageSize=i.pageable.pageSize,this.totalElements=i.totalElements,e.successCallback(this.risks,this.totalElements)},error:i=>{this.returnPrincipalError(i),e.failCallback()}}))}onGridReady(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.setDatasource(this.dataSource)}}return t.\u0275fac=function(e){return new(e||t)(Ce(oa),Ce(ks),Ce(sa),Ce(aa),Ce(Ar),Ce(po),Ce(Tk))},t.\u0275cmp=zt({type:t,selectors:[["risk-component"]],viewQuery:function(e,i){if(1&e&&(ni(Xhe,5),ni(Qhe,5)),2&e){let a;qt(a=Xt())&&(i.openRiskViewModal=a.first),qt(a=Xt())&&(i.openRiskConfigViewModal=a.first)}},features:[On],decls:13,vars:15,consts:[[1,"d-flex","mb-3","mr-3","flex-wrap"],[1,"flex-grow-1","center","d-flex","flex-wrap"],["class","d-flex mx-3 my-auto",4,"ngIf"],["class","mx-3",4,"ngIf"],[1,"overflow-auto","scrollable-content"],[1,"ag-theme-alpine-dark",2,"width","100%","height","100%",3,"rowData","columnDefs","cacheBlockSize","pagination","paginationPageSize","enableRangeSelection","rowModelType","gridReady","rowDoubleClicked"],["hidden","","type","button","data-bs-target","#riskConfigModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openRiskConfigViewModal",""],[3,"projectId","reload"],["hidden","","type","button","data-bs-target","#riskModal","data-bs-toggle","modal",1,"btn","btn-danger"],["openRiskViewModal",""],[3,"isEditable","isEditing","selectedRisk","projectId","reload"],[1,"d-flex","mx-3","my-auto"],["ngbTooltip","Project","placement","bottom",1,"bi","bi-md","bi-folder2","me-2",3,"openDelay"],[1,"m-auto",3,"change"],["class","dark-text",3,"ngValue","value",4,"ngFor","ngForOf"],[1,"dark-text",3,"ngValue","value"],[1,"mx-3"],["ngbTooltip","Add risk","placement","left",3,"openDelay","click"],[1,"bi","bi-plus-lg"],["ngbTooltip","Configuration","placement","left",3,"openDelay","click"],[1,"bi","bi-gear-fill"]],template:function(e,i){1&e&&(M(0,"div",0)(1,"div",1),ie(2,Jhe,4,2,"div",2),N(),ie(3,epe,3,1,"div",3),ie(4,tpe,3,1,"div",3),N(),M(5,"div",4)(6,"ag-grid-angular",5),Ve("gridReady",function(d){return i.onGridReady(d)})("rowDoubleClicked",function(d){return i.loadSelectedRow(d)}),N()(),_e(7,"button",6,7),M(9,"risk-config-modal-view",8),Ve("reload",function(){return i.reloadGridTable()}),N(),_e(10,"button",9,10),M(12,"risk-modal-view",11),Ve("reload",function(){return i.reloadGridTable()}),N()),2&e&&(V(2),U("ngIf",i.myProjects&&0!=i.myProjects.length),V(1),U("ngIf",i.adminAccess&&null!=i.projectSelectedId&&0!=i.projectSelectedId),V(1),U("ngIf",i.adminAccess&&null!=i.projectSelectedId&&0!=i.projectSelectedId),V(2),U("rowData",i.risks)("columnDefs",i.incCol)("cacheBlockSize",i.pageSize)("pagination",!0)("paginationPageSize",i.pageSize)("enableRangeSelection",!0)("rowModelType","infinite"),V(3),U("projectId",i.projectSelectedId),V(3),U("isEditable",i.adminAccess)("isEditing",i.isEditing)("selectedRisk",i.selectedRisk)("projectId",i.projectSelectedId))},directives:[Zn,_o,_i,Zr,Jr,xv,ihe,qhe],styles:[""]}),t})()}]}];let ipe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({imports:[[SM.forRoot(npe)],SM]}),t})();const ei=!1;function RG(t){return new $t(3e3,ei)}function Lpe(){return"undefined"!=typeof window&&void 0!==window.document}function Ek(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lu(t){switch(t.length){case 0:return new k_;case 1:return t[0];default:return new RM(t)}}function OG(t,n,e,i,a={},d={}){const h=[],m=[];let x=-1,R=null;if(i.forEach(L=>{const W=L.offset,X=W==x,re=X&&R||{};Object.keys(L).forEach(ge=>{let be=ge,ve=L[ge];if("offset"!==ge)switch(be=n.normalizePropertyName(be,h),ve){case"!":ve=a[ge];break;case lc:ve=d[ge];break;default:ve=n.normalizeStyleValue(ge,be,ve,h)}re[be]=ve}),X||m.push(re),R=re,x=W}),h.length)throw function Epe(t){return new $t(3502,ei)}();return m}function Dk(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&Ak(e,"start",t)));break;case"done":t.onDone(()=>i(e&&Ak(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&Ak(e,"destroy",t)))}}function Ak(t,n,e){const i=e.totalTime,d=kk(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,null==i?t.totalTime:i,!!e.disabled),h=t._data;return null!=h&&(d._data=h),d}function kk(t,n,e,i,a="",d=0,h){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:a,totalTime:d,disabled:!!h}}function Is(t,n,e){let i;return t instanceof Map?(i=t.get(n),i||t.set(n,i=e)):(i=t[n],i||(i=t[n]=e)),i}function PG(t){const n=t.indexOf(":");return[t.substring(1,n),t.substr(n+1)]}let Rk=(t,n)=>!1,IG=(t,n,e)=>[],MG=null;function Ok(t){const n=t.parentNode||t.host;return n===MG?null:n}(Ek()||"undefined"!=typeof Element)&&(Lpe()?(MG=(()=>document.documentElement)(),Rk=(t,n)=>{for(;n;){if(n===t)return!0;n=Ok(n)}return!1}):Rk=(t,n)=>t.contains(n),IG=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]});let Eh=null,NG=!1;function FG(t){Eh||(Eh=function Gpe(){return"undefined"!=typeof document?document.body:null}()||{},NG=!!Eh.style&&"WebkitAppearance"in Eh.style);let n=!0;return Eh.style&&!function Vpe(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Eh.style,!n&&NG&&(n="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Eh.style)),n}const LG=Rk,VG=IG;let GG=(()=>{class t{validateStyleProperty(e){return FG(e)}matchesElement(e,i){return!1}containsElement(e,i){return LG(e,i)}getParentElement(e){return Ok(e)}query(e,i,a){return VG(e,i,a)}computeStyle(e,i,a){return a||""}animate(e,i,a,d,h,m=[],x){return new k_(a,d)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),Pk=(()=>{class t{}return t.NOOP=new GG,t})();const Ik="ng-enter",Yw="ng-leave",Kw="ng-trigger",qw=".ng-trigger",HG="ng-animating",Mk=".ng-animating";function Dh(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Nk(parseFloat(n[1]),n[2])}function Nk(t,n){return"s"===n?1e3*t:t}function Xw(t,n,e){return t.hasOwnProperty("duration")?t:function jpe(t,n,e){let a,d=0,h="";if("string"==typeof t){const m=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return n.push(RG()),{duration:0,delay:0,easing:""};a=Nk(parseFloat(m[1]),m[2]);const x=m[3];null!=x&&(d=Nk(parseFloat(x),m[4]));const R=m[5];R&&(h=R)}else a=t;if(!e){let m=!1,x=n.length;a<0&&(n.push(function rpe(){return new $t(3100,ei)}()),m=!0),d<0&&(n.push(function ope(){return new $t(3101,ei)}()),m=!0),m&&n.splice(x,0,RG())}return{duration:a,delay:d,easing:h}}(t,n,e)}function zf(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function Vu(t,n,e={}){if(n)for(let i in t)e[i]=t[i];else zf(t,e);return e}function $G(t,n,e){return e?n+":"+e+";":""}function WG(t){let n="";for(let e=0;e<t.style.length;e++){const i=t.style.item(e);n+=$G(0,i,t.style.getPropertyValue(i))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=$G(0,Upe(e),t.style[e]));t.setAttribute("style",n)}function xl(t,n,e){t.style&&(Object.keys(n).forEach(i=>{const a=Lk(i);e&&!e.hasOwnProperty(i)&&(e[i]=t.style[a]),t.style[a]=n[i]}),Ek()&&WG(t))}function Ah(t,n){t.style&&(Object.keys(n).forEach(e=>{const i=Lk(e);t.style[i]=""}),Ek()&&WG(t))}function Sv(t){return Array.isArray(t)?1==t.length?t[0]:AM(t):t}const Fk=new RegExp("{{\\s*(.+?)\\s*}}","g");function UG(t){let n=[];if("string"==typeof t){let e;for(;e=Fk.exec(t);)n.push(e[1]);Fk.lastIndex=0}return n}function Qw(t,n,e){const i=t.toString(),a=i.replace(Fk,(d,h)=>{let m=n[h];return n.hasOwnProperty(h)||(e.push(function ape(t){return new $t(3003,ei)}()),m=""),m.toString()});return a==i?t:a}function Zw(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const Wpe=/-+([a-z0-9])/g;function Lk(t){return t.replace(Wpe,(...n)=>n[1].toUpperCase())}function Upe(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ms(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function lpe(t){return new $t(3004,ei)}()}}function zG(t,n){return window.getComputedStyle(t)[n]}function Qpe(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Zpe(t,n,e){if(":"==t[0]){const x=function Jpe(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function wpe(t){return new $t(3016,ei)}()),"* => *"}}(t,e);if("function"==typeof x)return void n.push(x);t=x}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function bpe(t){return new $t(3015,ei)}()),n;const a=i[1],d=i[2],h=i[3];n.push(YG(a,h));"<"==d[0]&&!("*"==a&&"*"==h)&&n.push(YG(h,a))}(i,e,n)):e.push(t),e}const nx=new Set(["true","1"]),ix=new Set(["false","0"]);function YG(t,n){const e=nx.has(t)||ix.has(t),i=nx.has(n)||ix.has(n);return(a,d)=>{let h="*"==t||t==a,m="*"==n||n==d;return!h&&e&&"boolean"==typeof a&&(h=a?nx.has(t):ix.has(t)),!m&&i&&"boolean"==typeof d&&(m=d?nx.has(n):ix.has(n)),h&&m}}const efe=new RegExp("s*:selfs*,?","g");function Vk(t,n,e,i){return new tfe(t).build(n,e,i)}class tfe{constructor(n){this._driver=n}build(n,e,i){const a=new rfe(e);this._resetContextStyleTimingState(a);const d=Ms(this,Sv(n),a);return a.unsupportedCSSPropertiesFound.size&&a.unsupportedCSSPropertiesFound.keys(),d}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,a=e.depCount=0;const d=[],h=[];return"@"==n.name.charAt(0)&&e.errors.push(function upe(){return new $t(3006,ei)}()),n.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const x=m,R=x.name;R.toString().split(/\s*,\s*/).forEach(L=>{x.name=L,d.push(this.visitState(x,e))}),x.name=R}else if(1==m.type){const x=this.visitTransition(m,e);i+=x.queryCount,a+=x.depCount,h.push(x)}else e.errors.push(function dpe(){return new $t(3007,ei)}())}),{type:7,name:n.name,states:d,transitions:h,queryCount:i,depCount:a,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),a=n.options&&n.options.params||null;if(i.containsDynamicStyles){const d=new Set,h=a||{};i.styles.forEach(m=>{if(rx(m)){const x=m;Object.keys(x).forEach(R=>{UG(x[R]).forEach(L=>{h.hasOwnProperty(L)||d.add(L)})})}}),d.size&&(Zw(d.values()),e.errors.push(function hpe(t,n){return new $t(3008,ei)}()))}return{type:0,name:n.name,style:i,options:a?{params:a}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Ms(this,Sv(n.animation),e);return{type:1,matchers:Qpe(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:kh(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Ms(this,i,e)),options:kh(n.options)}}visitGroup(n,e){const i=e.currentTime;let a=0;const d=n.steps.map(h=>{e.currentTime=i;const m=Ms(this,h,e);return a=Math.max(a,e.currentTime),m});return e.currentTime=a,{type:3,steps:d,options:kh(n.options)}}visitAnimate(n,e){const i=function sfe(t,n){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return Gk(Xw(t,n).duration,0,"");const i=t;if(i.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=Gk(0,0,"");return d.dynamic=!0,d.strValue=i,d}return e=e||Xw(i,n),Gk(e.duration,e.delay,e.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let a,d=n.styles?n.styles:Ia({});if(5==d.type)a=this.visitKeyframes(d,e);else{let h=n.styles,m=!1;if(!h){m=!0;const R={};i.easing&&(R.easing=i.easing),h=Ia(R)}e.currentTime+=i.duration+i.delay;const x=this.visitStyle(h,e);x.isEmptyStep=m,a=x}return e.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[];Array.isArray(n.styles)?n.styles.forEach(h=>{"string"==typeof h?h==lc?i.push(h):e.errors.push(function ppe(t){return new $t(3002,ei)}()):i.push(h)}):i.push(n.styles);let a=!1,d=null;return i.forEach(h=>{if(rx(h)){const m=h,x=m.easing;if(x&&(d=x,delete m.easing),!a)for(let R in m)if(m[R].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:i,easing:d,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let a=e.currentTime,d=e.currentTime;i&&d>0&&(d-=i.duration+i.delay),n.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete h[m],void e.unsupportedCSSPropertiesFound.add(m);const x=e.collectedStyles[e.currentQuerySelector],R=x[m];let L=!0;R&&(d!=a&&d>=R.startTime&&a<=R.endTime&&(e.errors.push(function fpe(t,n,e,i,a){return new $t(3010,ei)}()),L=!1),d=R.startTime),L&&(x[m]={startTime:d,endTime:a}),e.options&&function $pe(t,n,e){const i=n.params||{},a=UG(t);a.length&&a.forEach(d=>{i.hasOwnProperty(d)||e.push(function spe(t){return new $t(3001,ei)}())})}(h[m],e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function gpe(){return new $t(3011,ei)}()),i;let d=0;const h=[];let m=!1,x=!1,R=0;const L=n.steps.map(De=>{const Ee=this._makeStyleAst(De,e);let Me=null!=Ee.offset?Ee.offset:function ofe(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(rx(e)&&e.hasOwnProperty("offset")){const i=e;n=parseFloat(i.offset),delete i.offset}});else if(rx(t)&&t.hasOwnProperty("offset")){const e=t;n=parseFloat(e.offset),delete e.offset}return n}(Ee.styles),He=0;return null!=Me&&(d++,He=Ee.offset=Me),x=x||He<0||He>1,m=m||He<R,R=He,h.push(He),Ee});x&&e.errors.push(function mpe(){return new $t(3012,ei)}()),m&&e.errors.push(function _pe(){return new $t(3200,ei)}());const W=n.steps.length;let X=0;d>0&&d<W?e.errors.push(function vpe(){return new $t(3202,ei)}()):0==d&&(X=1/(W-1));const re=W-1,ge=e.currentTime,be=e.currentAnimateTimings,ve=be.duration;return L.forEach((De,Ee)=>{const Me=X>0?Ee==re?1:X*Ee:h[Ee],He=Me*ve;e.currentTime=ge+be.delay+He,be.duration=He,this._validateStyleAst(De,e),De.offset=Me,i.styles.push(De)}),i}visitReference(n,e){return{type:8,animation:Ms(this,Sv(n.animation),e),options:kh(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:kh(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:kh(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,a=n.options||{};e.queryCount++,e.currentQuery=n;const[d,h]=function nfe(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(efe,"")),t=t.replace(/@\*/g,qw).replace(/@\w+/g,e=>qw+"-"+e.substr(1)).replace(/:animating/g,Mk),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+d:d,Is(e.collectedStyles,e.currentQuerySelector,{});const m=Ms(this,Sv(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:m,originalSelector:n.selector,options:kh(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function ype(){return new $t(3013,ei)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Xw(n.timings,e.errors,!0);return{type:12,animation:Ms(this,Sv(n.animation),e),timings:i,options:null}}}class rfe{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rx(t){return!Array.isArray(t)&&"object"==typeof t}function kh(t){return t?(t=zf(t)).params&&(t.params=function ife(t){return t?zf(t):null}(t.params)):t={},t}function Gk(t,n,e){return{duration:t,delay:n,easing:e}}function Bk(t,n,e,i,a,d,h=null,m=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:a,delay:d,totalTime:a+d,easing:h,subTimeline:m}}class ox{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const cfe=new RegExp(":enter","g"),dfe=new RegExp(":leave","g");function Hk(t,n,e,i,a,d={},h={},m,x,R=[]){return(new hfe).buildKeyframes(t,n,e,i,a,d,h,m,x,R)}class hfe{buildKeyframes(n,e,i,a,d,h,m,x,R,L=[]){R=R||new ox;const W=new jk(n,e,R,a,d,L,[]);W.options=x,W.currentTimeline.setStyles([h],null,W.errors,x),Ms(this,i,W);const X=W.timelines.filter(re=>re.containsAnimation());if(Object.keys(m).length){let re;for(let ge=X.length-1;ge>=0;ge--){const be=X[ge];if(be.element===e){re=be;break}}re&&!re.allowOnlyTimelineStyles()&&re.setStyles([m],null,W.errors,x)}return X.length?X.map(re=>re.buildKeyframes()):[Bk(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const a=e.createSubContext(n.options),d=e.currentTimeline.currentTime,h=this._visitSubInstructions(i,a,a.options);d!=h&&e.transformIntoNewTimeline(h)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,i){let d=e.currentTimeline.currentTime;const h=null!=i.duration?Dh(i.duration):null,m=null!=i.delay?Dh(i.delay):null;return 0!==h&&n.forEach(x=>{const R=e.appendInstructionToTimeline(x,h,m);d=Math.max(d,R.duration+R.delay)}),d}visitReference(n,e){e.updateOptions(n.options,!0),Ms(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let a=e;const d=n.options;if(d&&(d.params||d.delay)&&(a=e.createSubContext(d),a.transformIntoNewTimeline(),null!=d.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=sx);const h=Dh(d.delay);a.delayNextStep(h)}n.steps.length&&(n.steps.forEach(h=>Ms(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let a=e.currentTimeline.currentTime;const d=n.options&&n.options.delay?Dh(n.options.delay):0;n.steps.forEach(h=>{const m=e.createSubContext(n.options);d&&m.delayNextStep(d),Ms(this,h,m),a=Math.max(a,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(a),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Xw(e.params?Qw(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),a=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),a.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(i.duration),this.visitStyle(d,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,a=e.currentAnimateTimings;!a&&i.getCurrentStyleProperties().length&&i.forwardFrame();const d=a&&a.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(d):i.setStyles(n.styles,d,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,a=e.currentTimeline.duration,d=i.duration,m=e.createSubContext().currentTimeline;m.easing=i.easing,n.styles.forEach(x=>{m.forwardTime((x.offset||0)*d),m.setStyles(x.styles,x.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(a+d),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,a=n.options||{},d=a.delay?Dh(a.delay):0;d&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sx);let h=i;const m=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=m.length;let x=null;m.forEach((R,L)=>{e.currentQueryIndex=L;const W=e.createSubContext(n.options,R);d&&W.delayNextStep(d),R===e.element&&(x=W.currentTimeline),Ms(this,n.animation,W),W.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,W.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),x&&(e.currentTimeline.mergeTimelineCollectedStyles(x),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,a=e.currentTimeline,d=n.timings,h=Math.abs(d.duration),m=h*(e.currentQueryTotal-1);let x=h*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":x=m-x;break;case"full":x=i.currentStaggerTime}const L=e.currentTimeline;x&&L.delayNextStep(x);const W=L.currentTime;Ms(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=a.currentTime-W+(a.startTime-i.currentTimeline.startTime)}}const sx={};class jk{constructor(n,e,i,a,d,h,m,x){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=d,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=x||new ax(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let a=this.options;null!=i.duration&&(a.duration=Dh(i.duration)),null!=i.delay&&(a.delay=Dh(i.delay));const d=i.params;if(d){let h=a.params;h||(h=this.options.params={}),Object.keys(d).forEach(m=>{(!e||!h.hasOwnProperty(m))&&(h[m]=Qw(d[m],h,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(a=>{i[a]=e[a]})}}return n}createSubContext(n=null,e,i){const a=e||this.element,d=new jk(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=sx,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const a={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+n.delay,easing:""},d=new pfe(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,a,n.stretchStartingKeyframe);return this.timelines.push(d),a}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,a,d,h){let m=[];if(a&&m.push(this.element),n.length>0){n=(n=n.replace(cfe,"."+this._enterClassName)).replace(dfe,"."+this._leaveClassName);let R=this._driver.query(this.element,n,1!=i);0!==i&&(R=i<0?R.slice(R.length+i,R.length):R.slice(0,i)),m.push(...R)}return!d&&0==m.length&&h.push(function Cpe(t){return new $t(3014,ei)}()),m}}class ax{constructor(n,e,i,a){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new ax(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||lc,this._currentKeyframe[e]=lc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,a){e&&(this._previousKeyframe.easing=e);const d=a&&a.params||{},h=function ffe(t,n){const e={};let i;return t.forEach(a=>{"*"===a?(i=i||Object.keys(n),i.forEach(d=>{e[d]=lc})):Vu(a,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const x=Qw(h[m],d,i);this._pendingStyles[m]=x,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:lc),this._updateStyle(m,x)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=n[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const i=this._styleSummary[e],a=n._styleSummary[e];(!i||a.time>i.time)&&this._updateStyle(e,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((m,x)=>{const R=Vu(m,!0);Object.keys(R).forEach(L=>{const W=R[L];"!"==W?n.add(L):W==lc&&e.add(L)}),i||(R.offset=x/this.duration),a.push(R)});const d=n.size?Zw(n.values()):[],h=e.size?Zw(e.values()):[];if(i){const m=a[0],x=zf(m);m.offset=0,x.offset=1,a=[m,x]}return Bk(this.element,a,d,h,this.duration,this.startTime,this.easing,!1)}}class pfe extends ax{constructor(n,e,i,a,d,h,m=!1){super(n,e,h.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=d,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],h=i+e,m=e/h,x=Vu(n[0],!1);x.offset=0,d.push(x);const R=Vu(n[0],!1);R.offset=XG(m),d.push(R);const L=n.length-1;for(let W=1;W<=L;W++){let X=Vu(n[W],!1);X.offset=XG((e+X.offset*i)/h),d.push(X)}i=h,e=0,a="",n=d}return Bk(this.element,n,this.preStyleProps,this.postStyleProps,i,e,a,!0)}}function XG(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class $k{}class gfe extends $k{normalizePropertyName(n,e){return Lk(n)}normalizeStyleValue(n,e,i,a){let d="";const h=i.toString().trim();if(mfe[e]&&0!==i&&"0"!==i)if("number"==typeof i)d="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&a.push(function cpe(t,n){return new $t(3005,ei)}())}return h+d}}const mfe=(()=>function _fe(t){const n={};return t.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QG(t,n,e,i,a,d,h,m,x,R,L,W,X){return{type:0,element:t,triggerName:n,isRemovalTransition:a,fromState:e,fromStyles:d,toState:i,toStyles:h,timelines:m,queriedElements:x,preStyleProps:R,postStyleProps:L,totalTime:W,errors:X}}const Wk={};class ZG{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,a){return function vfe(t,n,e,i,a){return t.some(d=>d(n,e,i,a))}(this.ast.matchers,n,e,i,a)}buildStyles(n,e,i){const a=this._stateStyles["*"],d=this._stateStyles[n],h=a?a.buildStyles(e,i):{};return d?d.buildStyles(e,i):h}build(n,e,i,a,d,h,m,x,R,L){const W=[],X=this.ast.options&&this.ast.options.params||Wk,ge=this.buildStyles(i,m&&m.params||Wk,W),be=x&&x.params||Wk,ve=this.buildStyles(a,be,W),De=new Set,Ee=new Map,Me=new Map,He="void"===a,Ye={params:Object.assign(Object.assign({},X),be)},et=L?[]:Hk(n,e,this.ast.animation,d,h,ge,ve,Ye,R,W);let Dt=0;if(et.forEach(Qt=>{Dt=Math.max(Qt.duration+Qt.delay,Dt)}),W.length)return QG(e,this._triggerName,i,a,He,ge,ve,[],[],Ee,Me,Dt,W);et.forEach(Qt=>{const Wt=Qt.element,Ct=Is(Ee,Wt,{});Qt.preStyleProps.forEach(At=>Ct[At]=!0);const It=Is(Me,Wt,{});Qt.postStyleProps.forEach(At=>It[At]=!0),Wt!==e&&De.add(Wt)});const Rt=Zw(De.values());return QG(e,this._triggerName,i,a,He,ge,ve,et,Rt,Ee,Me,Dt)}}class yfe{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i={},a=zf(this.defaultParams);return Object.keys(n).forEach(d=>{const h=n[d];null!=h&&(a[d]=h)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const h=d;Object.keys(h).forEach(m=>{let x=h[m];x.length>1&&(x=Qw(x,a,e));const R=this.normalizer.normalizePropertyName(m,e);x=this.normalizer.normalizeStyleValue(m,R,x,e),i[R]=x})}}),i}}class bfe{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(a=>{this.states[a.name]=new yfe(a.style,a.options&&a.options.params||{},i)}),JG(this.states,"true","1"),JG(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new ZG(n,a,this.states))}),this.fallbackTransition=function wfe(t,n,e){return new ZG(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,a){return this.transitionFactories.find(h=>h.match(n,e,i,a))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function JG(t,n,e){t.hasOwnProperty(n)?t.hasOwnProperty(e)||(t[e]=t[n]):t.hasOwnProperty(e)&&(t[n]=t[e])}const xfe=new ox;class Sfe{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(n,e){const i=[],d=Vk(this._driver,e,i,[]);if(i.length)throw function Dpe(t){return new $t(3503,ei)}();this._animations[n]=d}_buildPlayer(n,e,i){const a=n.element,d=OG(0,this._normalizer,0,n.keyframes,e,i);return this._driver.animate(a,d,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const a=[],d=this._animations[n];let h;const m=new Map;if(d?(h=Hk(this._driver,e,d,Ik,Yw,{},{},i,xfe,a),h.forEach(L=>{const W=Is(m,L.element,{});L.postStyleProps.forEach(X=>W[X]=null)})):(a.push(function Ape(){return new $t(3300,ei)}()),h=[]),a.length)throw function kpe(t){return new $t(3504,ei)}();m.forEach((L,W)=>{Object.keys(L).forEach(X=>{L[X]=this._driver.computeStyle(W,X,lc)})});const R=Lu(h.map(L=>{const W=m.get(L.element);return this._buildPlayer(L,{},W)}));return this._playersById[n]=R,R.onDestroy(()=>this.destroy(n)),this.players.push(R),R}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw function Rpe(t){return new $t(3301,ei)}();return e}listen(n,e,i,a){const d=kk(e,"","","");return Dk(this._getPlayer(n),i,d,a),()=>{}}command(n,e,i,a){if("register"==i)return void this.register(n,a[0]);if("create"==i)return void this.create(n,e,a[0]||{});const d=this._getPlayer(n);switch(i){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(n)}}}const eB="ng-animate-queued",Uk="ng-animate-disabled",kfe=[],tB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ua="__ng_removed";class zk{constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function Mfe(t){return null!=t?t:null}(i?n.value:n),i){const d=zf(n);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(a=>{null==i[a]&&(i[a]=e[a])})}}}const Tv="void",Yk=new zk(Tv);class Ofe{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,da(e,this._hostClassName)}listen(n,e,i,a){if(!this._triggers.hasOwnProperty(e))throw function Ope(t,n){return new $t(3302,ei)}();if(null==i||0==i.length)throw function Ppe(t){return new $t(3303,ei)}();if(!function Nfe(t){return"start"==t||"done"==t}(i))throw function Ipe(t,n){return new $t(3400,ei)}();const d=Is(this._elementListeners,n,[]),h={name:e,phase:i,callback:a};d.push(h);const m=Is(this._engine.statesByElement,n,{});return m.hasOwnProperty(e)||(da(n,Kw),da(n,Kw+"-"+e),m[e]=Yk),()=>{this._engine.afterFlush(()=>{const x=d.indexOf(h);x>=0&&d.splice(x,1),this._triggers[e]||delete m[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw function Mpe(t){return new $t(3401,ei)}();return e}trigger(n,e,i,a=!0){const d=this._getTrigger(e),h=new Kk(this.id,e,n);let m=this._engine.statesByElement.get(n);m||(da(n,Kw),da(n,Kw+"-"+e),this._engine.statesByElement.set(n,m={}));let x=m[e];const R=new zk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&x&&R.absorbOptions(x.options),m[e]=R,x||(x=Yk),R.value!==Tv&&x.value===R.value){if(!function Vfe(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let a=0;a<e.length;a++){const d=e[a];if(!n.hasOwnProperty(d)||t[d]!==n[d])return!1}return!0}(x.params,R.params)){const be=[],ve=d.matchStyles(x.value,x.params,be),De=d.matchStyles(R.value,R.params,be);be.length?this._engine.reportError(be):this._engine.afterFlush(()=>{Ah(n,ve),xl(n,De)})}return}const X=Is(this._engine.playersByElement,n,[]);X.forEach(be=>{be.namespaceId==this.id&&be.triggerName==e&&be.queued&&be.destroy()});let re=d.matchTransition(x.value,R.value,n,R.params),ge=!1;if(!re){if(!a)return;re=d.fallbackTransition,ge=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:re,fromState:x,toState:R,player:h,isFallbackTransition:ge}),ge||(da(n,eB),h.onStart(()=>{Yf(n,eB)})),h.onDone(()=>{let be=this.players.indexOf(h);be>=0&&this.players.splice(be,1);const ve=this._engine.playersByElement.get(n);if(ve){let De=ve.indexOf(h);De>=0&&ve.splice(De,1)}}),this.players.push(h),X.push(h),h}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,i)=>{delete e[n]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(a=>a.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,qw,!0);i.forEach(a=>{if(a[ua])return;const d=this._engine.fetchNamespacesByElement(a);d.size?d.forEach(h=>h.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(n,e,i,a){const d=this._engine.statesByElement.get(n),h=new Map;if(d){const m=[];if(Object.keys(d).forEach(x=>{if(h.set(x,d[x].value),this._triggers[x]){const R=this.trigger(n,x,Tv,a);R&&m.push(R)}}),m.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,h),i&&Lu(m).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const a=new Set;e.forEach(d=>{const h=d.name;if(a.has(h))return;a.add(h);const x=this._triggers[h].fallbackTransition,R=i[h]||Yk,L=new zk(Tv),W=new Kk(this.id,h,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:h,transition:x,fromState:R,toState:L,player:W,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let a=!1;if(i.totalAnimations){const d=i.players.length?i.playersByQueriedElement.get(n):[];if(d&&d.length)a=!0;else{let h=n;for(;h=h.parentNode;)if(i.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(n),a)i.markElementAsRemoved(this.id,n,!1,e);else{const d=n[ua];(!d||d===tB)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){da(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const d=i.element,h=this._elementListeners.get(d);h&&h.forEach(m=>{if(m.name==i.triggerName){const x=kk(d,i.triggerName,i.fromState.value,i.toState.value);x._data=n,Dk(i.player,m.phase,x,m.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(i)}),this._queue=[],e.sort((i,a)=>{const d=i.transition.ast.depCount,h=a.transition.ast.depCount;return 0==d||0==h?d-h:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(i=>i.element===n)||e,e}}class Pfe{constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,d)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new Ofe(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,a=this.namespacesByHostElement,d=i.length-1;if(d>=0){let h=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(e);for(;m;){const x=a.get(m);if(x){const R=i.indexOf(x);i.splice(R+1,0,n),h=!0;break}m=this.driver.getParentElement(m)}}else for(let m=d;m>=0;m--)if(this.driver.containsElement(i[m].hostElement,e)){i.splice(m+1,0,n),h=!0;break}h||i.unshift(n)}else i.push(n);return a.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let a=this._namespaceLookup[n];a&&a.register(e,i)&&this.totalAnimations++}destroy(n,e){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i){const a=Object.keys(i);for(let d=0;d<a.length;d++){const h=i[a[d]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&e.add(m)}}}return e}trigger(n,e,i,a){if(lx(e)){const d=this._fetchNamespace(n);if(d)return d.trigger(e,i,a),!0}return!1}insertNode(n,e,i,a){if(!lx(e))return;const d=e[ua];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(n){const h=this._fetchNamespace(n);h&&h.insertNode(e,i)}a&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),da(n,Uk)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Yf(n,Uk))}removeNode(n,e,i,a){if(lx(e)){const d=n?this._fetchNamespace(n):null;if(d?d.removeNode(e,a):this.markElementAsRemoved(n,e,!1,a),i){const h=this.namespacesByHostElement.get(e);h&&h.id!==n&&h.removeNode(e,a)}}else this._onRemovalComplete(e,a)}markElementAsRemoved(n,e,i,a,d){this.collectedLeaveElements.push(e),e[ua]={namespaceId:n,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:d}}listen(n,e,i,a,d){return lx(e)?this._fetchNamespace(n).listen(e,i,a,d):()=>{}}_buildInstruction(n,e,i,a,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,a,n.fromState.options,n.toState.options,e,d)}destroyInnerAnimations(n){let e=this.driver.query(n,qw,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,Mk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return Lu(this.players).onDone(()=>n());n()})}processLeaveNode(n){var e;const i=n[ua];if(i&&i.setForRemoval){if(n[ua]=tB,i.namespaceId){this.destroyInnerAnimations(n);const a=this._fetchNamespace(i.namespaceId);a&&a.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}(null===(e=n.classList)||void 0===e?void 0:e.contains(Uk))&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)da(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Lu(e).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(n){throw function Npe(t){return new $t(3402,ei)}()}_flushAnimations(n,e){const i=new ox,a=[],d=new Map,h=[],m=new Map,x=new Map,R=new Map,L=new Set;this.disabledNodes.forEach(pt=>{L.add(pt);const _t=this.driver.query(pt,".ng-animate-queued",!0);for(let Vt=0;Vt<_t.length;Vt++)L.add(_t[Vt])});const W=this.bodyNode,X=Array.from(this.statesByElement.keys()),re=rB(X,this.collectedEnterElements),ge=new Map;let be=0;re.forEach((pt,_t)=>{const Vt=Ik+be++;ge.set(_t,Vt),pt.forEach(Lt=>da(Lt,Vt))});const ve=[],De=new Set,Ee=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const _t=this.collectedLeaveElements[pt],Vt=_t[ua];Vt&&Vt.setForRemoval&&(ve.push(_t),De.add(_t),Vt.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(Lt=>De.add(Lt)):Ee.add(_t))}const Me=new Map,He=rB(X,Array.from(De));He.forEach((pt,_t)=>{const Vt=Yw+be++;Me.set(_t,Vt),pt.forEach(Lt=>da(Lt,Vt))}),n.push(()=>{re.forEach((pt,_t)=>{const Vt=ge.get(_t);pt.forEach(Lt=>Yf(Lt,Vt))}),He.forEach((pt,_t)=>{const Vt=Me.get(_t);pt.forEach(Lt=>Yf(Lt,Vt))}),ve.forEach(pt=>{this.processLeaveNode(pt)})});const Ye=[],et=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(e).forEach(Vt=>{const Lt=Vt.player,_n=Vt.element;if(Ye.push(Lt),this.collectedEnterElements.length){const Gn=_n[ua];if(Gn&&Gn.setForMove){if(Gn.previousTriggersValues&&Gn.previousTriggersValues.has(Vt.triggerName)){const $i=Gn.previousTriggersValues.get(Vt.triggerName),Ot=this.statesByElement.get(Vt.element);Ot&&Ot[Vt.triggerName]&&(Ot[Vt.triggerName].value=$i)}return void Lt.destroy()}}const Vn=!W||!this.driver.containsElement(W,_n),kn=Me.get(_n),er=ge.get(_n),bn=this._buildInstruction(Vt,i,er,kn,Vn);if(bn.errors&&bn.errors.length)return void et.push(bn);if(Vn)return Lt.onStart(()=>Ah(_n,bn.fromStyles)),Lt.onDestroy(()=>xl(_n,bn.toStyles)),void a.push(Lt);if(Vt.isFallbackTransition)return Lt.onStart(()=>Ah(_n,bn.fromStyles)),Lt.onDestroy(()=>xl(_n,bn.toStyles)),void a.push(Lt);const or=[];bn.timelines.forEach(Gn=>{Gn.stretchStartingKeyframe=!0,this.disabledNodes.has(Gn.element)||or.push(Gn)}),bn.timelines=or,i.append(_n,bn.timelines),h.push({instruction:bn,player:Lt,element:_n}),bn.queriedElements.forEach(Gn=>Is(m,Gn,[]).push(Lt)),bn.preStyleProps.forEach((Gn,$i)=>{const Ot=Object.keys(Gn);if(Ot.length){let sn=x.get($i);sn||x.set($i,sn=new Set),Ot.forEach(Pn=>sn.add(Pn))}}),bn.postStyleProps.forEach((Gn,$i)=>{const Ot=Object.keys(Gn);let sn=R.get($i);sn||R.set($i,sn=new Set),Ot.forEach(Pn=>sn.add(Pn))})});if(et.length){const pt=[];et.forEach(_t=>{pt.push(function Fpe(t,n){return new $t(3505,ei)}())}),Ye.forEach(_t=>_t.destroy()),this.reportError(pt)}const Dt=new Map,Rt=new Map;h.forEach(pt=>{const _t=pt.element;i.has(_t)&&(Rt.set(_t,_t),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,Dt))}),a.forEach(pt=>{const _t=pt.element;this._getPreviousPlayers(_t,!1,pt.namespaceId,pt.triggerName,null).forEach(Lt=>{Is(Dt,_t,[]).push(Lt),Lt.destroy()})});const Qt=ve.filter(pt=>sB(pt,x,R)),Wt=new Map;iB(Wt,this.driver,Ee,R,lc).forEach(pt=>{sB(pt,x,R)&&Qt.push(pt)});const It=new Map;re.forEach((pt,_t)=>{iB(It,this.driver,new Set(pt),x,"!")}),Qt.forEach(pt=>{const _t=Wt.get(pt),Vt=It.get(pt);Wt.set(pt,Object.assign(Object.assign({},_t),Vt))});const At=[],Cn=[],ii={};h.forEach(pt=>{const{element:_t,player:Vt,instruction:Lt}=pt;if(i.has(_t)){if(L.has(_t))return Vt.onDestroy(()=>xl(_t,Lt.toStyles)),Vt.disabled=!0,Vt.overrideTotalTime(Lt.totalTime),void a.push(Vt);let _n=ii;if(Rt.size>1){let kn=_t;const er=[];for(;kn=kn.parentNode;){const bn=Rt.get(kn);if(bn){_n=bn;break}er.push(kn)}er.forEach(bn=>Rt.set(bn,_n))}const Vn=this._buildAnimation(Vt.namespaceId,Lt,Dt,d,It,Wt);if(Vt.setRealPlayer(Vn),_n===ii)At.push(Vt);else{const kn=this.playersByElement.get(_n);kn&&kn.length&&(Vt.parentPlayer=Lu(kn)),a.push(Vt)}}else Ah(_t,Lt.fromStyles),Vt.onDestroy(()=>xl(_t,Lt.toStyles)),Cn.push(Vt),L.has(_t)&&a.push(Vt)}),Cn.forEach(pt=>{const _t=d.get(pt.element);if(_t&&_t.length){const Vt=Lu(_t);pt.setRealPlayer(Vt)}}),a.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<ve.length;pt++){const _t=ve[pt],Vt=_t[ua];if(Yf(_t,Yw),Vt&&Vt.hasAnimation)continue;let Lt=[];if(m.size){let Vn=m.get(_t);Vn&&Vn.length&&Lt.push(...Vn);let kn=this.driver.query(_t,Mk,!0);for(let er=0;er<kn.length;er++){let bn=m.get(kn[er]);bn&&bn.length&&Lt.push(...bn)}}const _n=Lt.filter(Vn=>!Vn.destroyed);_n.length?Ffe(this,_t,_n):this.processLeaveNode(_t)}return ve.length=0,At.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const _t=this.players.indexOf(pt);this.players.splice(_t,1)}),pt.play()}),At}elementContainsData(n,e){let i=!1;const a=e[ua];return a&&a.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(n).elementContainsData(e)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,a,d){let h=[];if(e){const m=this.playersByQueriedElement.get(n);m&&(h=m)}else{const m=this.playersByElement.get(n);if(m){const x=!d||d==Tv;m.forEach(R=>{R.queued||!x&&R.triggerName!=a||h.push(R)})}}return(i||a)&&(h=h.filter(m=>!(i&&i!=m.namespaceId||a&&a!=m.triggerName))),h}_beforeAnimationBuild(n,e,i){const d=e.element,h=e.isRemovalTransition?void 0:n,m=e.isRemovalTransition?void 0:e.triggerName;for(const x of e.timelines){const R=x.element,L=R!==d,W=Is(i,R,[]);this._getPreviousPlayers(R,L,h,m,e.toState).forEach(re=>{const ge=re.getRealPlayer();ge.beforeDestroy&&ge.beforeDestroy(),re.destroy(),W.push(re)})}Ah(d,e.fromStyles)}_buildAnimation(n,e,i,a,d,h){const m=e.triggerName,x=e.element,R=[],L=new Set,W=new Set,X=e.timelines.map(ge=>{const be=ge.element;L.add(be);const ve=be[ua];if(ve&&ve.removedBeforeQueried)return new k_(ge.duration,ge.delay);const De=be!==x,Ee=function Lfe(t){const n=[];return oB(t,n),n}((i.get(be)||kfe).map(Dt=>Dt.getRealPlayer())).filter(Dt=>!!Dt.element&&Dt.element===be),Me=d.get(be),He=h.get(be),Ye=OG(0,this._normalizer,0,ge.keyframes,Me,He),et=this._buildPlayer(ge,Ye,Ee);if(ge.subTimeline&&a&&W.add(be),De){const Dt=new Kk(n,m,be);Dt.setRealPlayer(et),R.push(Dt)}return et});R.forEach(ge=>{Is(this.playersByQueriedElement,ge.element,[]).push(ge),ge.onDone(()=>function Ife(t,n,e){let i;if(t instanceof Map){if(i=t.get(n),i){if(i.length){const a=i.indexOf(e);i.splice(a,1)}0==i.length&&t.delete(n)}}else if(i=t[n],i){if(i.length){const a=i.indexOf(e);i.splice(a,1)}0==i.length&&delete t[n]}return i}(this.playersByQueriedElement,ge.element,ge))}),L.forEach(ge=>da(ge,HG));const re=Lu(X);return re.onDestroy(()=>{L.forEach(ge=>Yf(ge,HG)),xl(x,e.toStyles)}),W.forEach(ge=>{Is(a,ge,[]).push(re)}),re}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new k_(n.duration,n.delay)}}class Kk{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new k_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Dk(n,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Is(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function lx(t){return t&&1===t.nodeType}function nB(t,n){const e=t.style.display;return t.style.display=null!=n?n:"none",e}function iB(t,n,e,i,a){const d=[];e.forEach(x=>d.push(nB(x)));const h=[];i.forEach((x,R)=>{const L={};x.forEach(W=>{const X=L[W]=n.computeStyle(R,W,a);(!X||0==X.length)&&(R[ua]=Rfe,h.push(R))}),t.set(R,L)});let m=0;return e.forEach(x=>nB(x,d[m++])),h}function rB(t,n){const e=new Map;if(t.forEach(m=>e.set(m,[])),0==n.length)return e;const a=new Set(n),d=new Map;function h(m){if(!m)return 1;let x=d.get(m);if(x)return x;const R=m.parentNode;return x=e.has(R)?R:a.has(R)?1:h(R),d.set(m,x),x}return n.forEach(m=>{const x=h(m);1!==x&&e.get(x).push(m)}),e}function da(t,n){var e;null===(e=t.classList)||void 0===e||e.add(n)}function Yf(t,n){var e;null===(e=t.classList)||void 0===e||e.remove(n)}function Ffe(t,n,e){Lu(e).onDone(()=>t.processLeaveNode(n))}function oB(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof RM?oB(i.players,n):n.push(i)}}function sB(t,n,e){const i=e.get(t);if(!i)return!1;let a=n.get(t);return a?i.forEach(d=>a.add(d)):n.set(t,i),e.delete(t),!0}class cx{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,d)=>{},this._transitionEngine=new Pfe(n,e,i),this._timelineEngine=new Sfe(n,e,i),this._transitionEngine.onRemovalComplete=(a,d)=>this.onRemovalComplete(a,d)}registerTrigger(n,e,i,a,d){const h=n+"-"+a;let m=this._triggerCache[h];if(!m){const x=[],L=Vk(this._driver,d,x,[]);if(x.length)throw function Tpe(t,n){return new $t(3404,ei)}();m=function Cfe(t,n,e){return new bfe(t,n,e)}(a,L,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(e,a,m)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,a){this._transitionEngine.insertNode(n,e,i,a)}onRemove(n,e,i,a){this._transitionEngine.removeNode(n,e,a||!1,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,a){if("@"==i.charAt(0)){const[d,h]=PG(i);this._timelineEngine.command(d,e,h,a)}else this._transitionEngine.trigger(n,e,i,a)}listen(n,e,i,a,d){if("@"==i.charAt(0)){const[h,m]=PG(i);return this._timelineEngine.listen(h,e,m,d)}return this._transitionEngine.listen(n,e,i,a,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Bfe=(()=>{class t{constructor(e,i,a){this._element=e,this._startStyles=i,this._endStyles=a,this._state=0;let d=t.initialStylesByElement.get(e);d||t.initialStylesByElement.set(e,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&xl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xl(this._element,this._initialStyles),this._endStyles&&(xl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ah(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ah(this._element,this._endStyles),this._endStyles=null),xl(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qk(t){let n=null;const e=Object.keys(t);for(let i=0;i<e.length;i++){const a=e[i];Hfe(a)&&(n=n||{},n[a]=t[a])}return n}function Hfe(t){return"display"===t||"position"===t}class aB{constructor(n,e,i,a){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,i){return n.animate(e,i)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(n[i]=this._finished?e[i]:zG(this.element,i))})}this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class jfe{validateStyleProperty(n){return FG(n)}matchesElement(n,e){return!1}containsElement(n,e){return LG(n,e)}getParentElement(n){return Ok(n)}query(n,e,i){return VG(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,a,d,h=[]){const x={duration:i,delay:a,fill:0==a?"both":"forwards"};d&&(x.easing=d);const R={},L=h.filter(X=>X instanceof aB);(function zpe(t,n){return 0===t||0===n})(i,a)&&L.forEach(X=>{let re=X.currentSnapshot;Object.keys(re).forEach(ge=>R[ge]=re[ge])}),e=function Ype(t,n,e){const i=Object.keys(e);if(i.length&&n.length){let d=n[0],h=[];if(i.forEach(m=>{d.hasOwnProperty(m)||h.push(m),d[m]=e[m]}),h.length)for(var a=1;a<n.length;a++){let m=n[a];h.forEach(function(x){m[x]=zG(t,x)})}}return n}(n,e=e.map(X=>Vu(X,!1)),R);const W=function Gfe(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=qk(n[0]),n.length>1&&(i=qk(n[n.length-1]))):n&&(e=qk(n)),e||i?new Bfe(t,e,i):null}(n,e);return new aB(n,e,x,W)}}let $fe=(()=>{class t extends DM{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:To.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?AM(e):e;return lB(this._renderer,null,i,"register",[a]),new Wfe(i,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Qe(nf),Qe(hi))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();class Wfe extends class q5{}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new Ufe(this._id,n,e||{},this._renderer)}}class Ufe{constructor(n,e,i,a){this.id=n,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return lB(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function lB(t,n,e,i,a){return t.setProperty(n,`@@${e}:${i}`,a)}const cB="@.disabled";let zfe=(()=>{class t{constructor(e,i,a){this.delegate=e,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(d,h)=>{const m=null==h?void 0:h.parentNode(d);m&&h.removeChild(m,d)}}createRenderer(e,i){const d=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let L=this._rendererCache.get(d);return L||(L=new uB("",d,this.engine),this._rendererCache.set(d,L)),L}const h=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const x=L=>{Array.isArray(L)?L.forEach(x):this.engine.registerTrigger(h,m,e,L.name,L)};return i.data.animation.forEach(x),new Yfe(this,m,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,a){e>=0&&e<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[h,m]=d;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Qe(nf),Qe(cx),Qe(Un))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();class uB{constructor(n,e,i){this.namespaceId=n,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?a=>e.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,a=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,a)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,a){this.delegate.setAttribute(n,e,i,a)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,a){this.delegate.setStyle(n,e,i,a)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==cB?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Yfe extends uB{constructor(n,e,i,a){super(e,i,a),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==cB?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.substr(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const a=function Kfe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let d=e.substr(1),h="";return"@"!=d.charAt(0)&&([d,h]=function qfe(t){const n=t.indexOf(".");return[t.substring(0,n),t.substr(n+1)]}(d)),this.engine.listen(this.namespaceId,a,d,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(n,e,i)}}let Xfe=(()=>{class t extends cx{constructor(e,i,a){super(e.body,i,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(Qe(hi),Qe(Pk),Qe($k))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})();const dB=new Zt("AnimationModuleType"),hB=[{provide:DM,useClass:$fe},{provide:$k,useFactory:function Qfe(){return new gfe}},{provide:cx,useClass:Xfe},{provide:nf,useFactory:function Zfe(t,n,e){return new zfe(t,n,e)},deps:[db,cx,Un]}],pB=[{provide:Pk,useFactory:()=>new jfe},{provide:dB,useValue:"BrowserAnimations"},...hB],Jfe=[{provide:Pk,useClass:GG},{provide:dB,useValue:"NoopAnimations"},...hB];let ege=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Jfe:pB}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t}),t.\u0275inj=on({providers:pB,imports:[hI]}),t})(),tge=(()=>{class t{constructor(e){this.tokenService=e}intercept(e,i){let a=e;const d=this.tokenService.getToken();return null!=d&&(a=e.clone({headers:e.headers.set("Authorization","Bearer "+d)})),i.handle(a)}}return t.\u0275fac=function(e){return new(e||t)(Qe(po))},t.\u0275prov=xt({token:t,factory:t.\u0275fac}),t})(),nge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=en({type:t,bootstrap:[MM]}),t.\u0275inj=on({providers:[{provide:AD,useClass:tge,multi:!0}],imports:[[MK,hI,ipe,ege,PN,Dz,IN,v4.forRoot({preventDuplicates:!0}),R9,doe,Uf]]}),t})();(function lj(){SP=!1})(),yW().bootstrapModule(nge).catch(t=>console.error(t))},564:(Rr,z)=>{"use strict";function k(u){return null==u||""===u?null:u}function I(u,o){return void 0===o&&(o=!1),null!=u&&(""!==u||o)}function O(u){return!I(u)}function S(u){return null==u||0===u.length}function D(u){return null!=u&&"function"==typeof u.toString?u.toString():null}function C(u){if(void 0!==u){if(null===u||""===u)return null;if("number"==typeof u)return isNaN(u)?void 0:u;var o=parseInt(u,10);return isNaN(o)?void 0:o}}function _(u){if(void 0!==u)return null!==u&&""!==u&&("boolean"==typeof u?u:/true/i.test(u))}function b(u){if(u instanceof Set||u instanceof Map){var o=[];return u.forEach(function(r){return o.push(r)}),o}return Object.values(u)}var T=Object.freeze({makeNull:k,exists:I,missing:O,missingOrEmpty:S,toStringOrNull:D,attrToNumber:C,attrToBoolean:_,attrToString:function y(u){if(null!=u&&""!==u)return u},referenceCompare:function f(u,o){return null==u&&null==o||!(null==u&&null!=o||null!=u&&null==o)&&u===o},jsonEquals:function g(u,o){return(u?JSON.stringify(u):null)===(o?JSON.stringify(o):null)},defaultComparator:function w(u,o,r){void 0===r&&(r=!1);var s=null==u,l=null==o;if(u&&u.toNumber&&(u=u.toNumber()),o&&o.toNumber&&(o=o.toNumber()),s&&l)return 0;if(s)return-1;if(l)return 1;function c(p,v){return p>v?1:p<v?-1:0}if("string"!=typeof u||!r)return c(u,o);try{return u.localeCompare(o)}catch(p){return c(u,o)}},values:b}),P=function(){function u(){this.existingKeys={}}return u.prototype.addExistingKeys=function(o){for(var r=0;r<o.length;r++)this.existingKeys[o[r]]=!0},u.prototype.getUniqueKey=function(o,r){o=D(o);for(var s=0;;){var l=void 0;if(o?(l=o,0!==s&&(l+="_"+s)):r?(l=r,0!==s&&(l+="_"+s)):l=""+s,!this.existingKeys[l])return this.existingKeys[l]=!0,l;s++}},u}();function E(u,o){null!=u&&(Array.isArray(u)?u.forEach(function(r,s){return o(""+s,r)}):Object.keys(u).forEach(function(r){return o(r,u[r])}))}function G(u){for(var o={},r=Object.keys(u),s=0;s<r.length;s++){var l=r[s];o[l]=u[l]}return o}function $(u,o){if(u){var r=u,s={};return Object.keys(r).forEach(function(l){if(!(o&&o.indexOf(l)>=0)){var c=r[l],p=Ne(c)&&c.constructor===Object;s[l]=p?$(c):c}}),s}}function j(u,o){return u[o]}function Q(u,o,r){u[o]=r}function ne(u,o,r,s){var l=j(u,r);void 0!==l&&Q(o,r,s?s(l):l)}function oe(u){var o={};return u.filter(function(r){return null!=r}).forEach(function(r){Object.keys(r).forEach(function(s){return o[s]=null})}),Object.keys(o)}function te(u){if(!u)return[];var o=Object;if("function"==typeof o.values)return o.values(u);var r=[];for(var s in u)u.hasOwnProperty(s)&&u.propertyIsEnumerable(s)&&r.push(u[s]);return r}function ee(u,o,r,s){void 0===r&&(r=!0),void 0===s&&(s=!1),I(o)&&E(o,function(l,c){var p=u[l];p!==c&&(s&&null==p&&null!=c&&"object"==typeof c&&c.constructor===Object&&(u[l]=p={}),Ne(c)&&Ne(p)&&!Array.isArray(p)?ee(p,c,r,s):(r||void 0!==c)&&(u[l]=c))})}function Se(u,o,r){if(o&&u){if(!r)return u[o];for(var s=o.split("."),l=u,c=0;c<s.length;c++){if(null==l)return;l=l[s[c]]}return l}}function Oe(u,o){Object.keys(u).forEach(function(l){"object"==typeof u[l]&&(u[l]=void 0)});var r=Object.getPrototypeOf(u),s={};Object.keys(r).forEach(function(l){"function"==typeof r[l]&&(s[l]={value:function(){console.warn("AG Grid: "+o+" function "+l+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(u,s)}function Ne(u){return"object"==typeof u&&null!==u}var ke=Object.freeze({iterateObject:E,cloneObject:G,deepCloneObject:function H(u){return JSON.parse(JSON.stringify(u))},deepCloneDefinition:$,getProperty:j,setProperty:Q,copyPropertiesIfPresent:function Y(u,o){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];r.forEach(function(l){return ne(u,o,l)})},copyPropertyIfPresent:ne,getAllKeysInObjects:oe,getAllValuesInObject:te,mergeDeep:ee,missingOrEmptyObject:function le(u){return O(u)||0===Object.keys(u).length},get:function he(u,o,r){if(null==u)return r;for(var s=o.split("."),l=u;s.length>1;)if(null==(l=l[s.shift()]))return r;var c=l[s[0]];return null!=c?c:r},set:function me(u,o,r){if(null!=u){for(var s=o.split("."),l=u;s.length>1;)if(null==(l=l[s.shift()]))return;l[s[0]]=r}},deepFreeze:function ye(u){return Object.freeze(u),b(u).forEach(function(o){(Ne(o)||"function"==typeof o)&&ye(o)}),u},getValueUsingField:Se,removeAllReferences:Oe,isNonNullObject:Ne}),Ge=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,je=/([^\s,]+)/g,rt={};function ze(u,o){rt[o]||(u(),rt[o]=!0)}function qe(u){if(u.name)return u.name;var o=/function\s+([^\(]+)/.exec(u.toString());return o&&2===o.length?o[1].trim():null}function bt(u){return!!(u&&u.constructor&&u.call&&u.apply)}function Re(u){Fe(u,400)}var Nt=[],jn=!1;function yt(u){Nt.push(u),!jn&&(jn=!0,window.setTimeout(function(){var o=Nt.slice();Nt.length=0,jn=!1,o.forEach(function(r){return r()})},0))}function Fe(u,o){void 0===o&&(o=0),u.length>0&&window.setTimeout(function(){return u.forEach(function(r){return r()})},o)}function $e(u,o,r){var s;return void 0===r&&(r=!1),function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var p=this,v=r&&!s;window.clearTimeout(s),s=window.setTimeout(function(){s=null,r||u.apply(p,l)},o),v&&u.apply(p,l)}}function nt(u,o){var r=0;return function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=this,p=(new Date).getTime();p-r<o||(r=p,u.apply(c,s))}}function wt(u,o,r,s){void 0===r&&(r=100);var l=(new Date).getTime(),c=null,p=!1,v=function(){var F=(new Date).getTime()-l>r;(u()||F)&&(o(),p=!0,null!=c&&(window.clearInterval(c),c=null),F&&s&&console.warn(s))};v(),p||(c=window.setInterval(v,10))}function nn(u){u&&u()}var Ti=Object.freeze({doOnce:ze,getFunctionName:qe,getFunctionParameters:function mt(u){var o=u.toString().replace(Ge,"");return o.slice(o.indexOf("(")+1,o.indexOf(")")).match(je)||[]},isFunction:bt,executeInAWhile:Re,executeNextVMTurn:yt,executeAfter:Fe,debounce:$e,throttle:nt,waitUntil:wt,compose:function jt(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];return function(r){return u.reduce(function(s,l){return l(s)},r)}},callIfPresent:nn}),Ei=function(){function u(o,r){if(this.beanWrappers={},this.destroyed=!1,o&&o.beanClasses){this.contextParams=o,this.logger=r,this.logger.log(">> creating ag-Application Context"),this.createBeans();var s=this.getBeanInstances();this.wireBeans(s),this.logger.log(">> ag-Application Context ready - component is alive")}}return u.prototype.getBeanInstances=function(){return b(this.beanWrappers).map(function(o){return o.beanInstance})},u.prototype.createBean=function(o,r){if(!o)throw Error("Can't wire to bean since it is null");return this.wireBeans([o],r),o},u.prototype.wireBeans=function(o,r){this.autoWireBeans(o),this.methodWireBeans(o),this.callLifeCycleMethods(o,"preConstructMethods"),I(r)&&o.forEach(r),this.callLifeCycleMethods(o,"postConstructMethods")},u.prototype.createBeans=function(){var o=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),E(this.beanWrappers,function(s,l){var c;l.bean.__agBeanMetaData&&l.bean.__agBeanMetaData.autowireMethods&&l.bean.__agBeanMetaData.autowireMethods.agConstructor&&(c=l.bean.__agBeanMetaData.autowireMethods.agConstructor);var p=o.getBeansForParameters(c,l.bean.name),v=function st(u,o){var r=[null].concat(o);return new(u.bind.apply(u,r))}(l.bean,p);l.beanInstance=v});var r=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+r)},u.prototype.createBeanWrapper=function(o){var r=o.__agBeanMetaData;if(!r){var s;return s=o.prototype.constructor?qe(o.prototype.constructor):""+o,void console.error("Context item "+s+" is not a bean")}this.beanWrappers[r.beanName]={bean:o,beanInstance:null,beanName:r.beanName}},u.prototype.autoWireBeans=function(o){var r=this;o.forEach(function(s){r.forEachMetaDataInHierarchy(s,function(l,c){var p=l.agClassAttributes;!p||p.forEach(function(v){var F=r.lookupBeanInstance(c,v.beanName,v.optional);s[v.attributeName]=F})})})},u.prototype.methodWireBeans=function(o){var r=this;o.forEach(function(s){r.forEachMetaDataInHierarchy(s,function(l,c){E(l.autowireMethods,function(p,v){if("agConstructor"!==p){var F=r.getBeansForParameters(v,c);s[p].apply(s,F)}})})})},u.prototype.forEachMetaDataInHierarchy=function(o,r){for(var s=Object.getPrototypeOf(o);null!=s;){var l=s.constructor;l.hasOwnProperty("__agBeanMetaData")&&r(l.__agBeanMetaData,this.getBeanName(l)),s=Object.getPrototypeOf(s)}},u.prototype.getBeanName=function(o){if(o.__agBeanMetaData&&o.__agBeanMetaData.beanName)return o.__agBeanMetaData.beanName;var r=o.toString();return r.substring(9,r.indexOf("("))},u.prototype.getBeansForParameters=function(o,r){var s=this,l=[];return o&&E(o,function(c,p){var v=s.lookupBeanInstance(r,p);l[Number(c)]=v}),l},u.prototype.lookupBeanInstance=function(o,r,s){if(void 0===s&&(s=!1),"context"===r)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(r))return this.contextParams.providedBeanInstances[r];var l=this.beanWrappers[r];return l?l.beanInstance:(s||console.error("AG Grid: unable to find bean reference "+r+" while initialising "+o),null)},u.prototype.callLifeCycleMethods=function(o,r){var s=this;o.forEach(function(l){return s.callLifeCycleMethodsOnBean(l,r)})},u.prototype.callLifeCycleMethodsOnBean=function(o,r,s){var l={};this.forEachMetaDataInHierarchy(o,function(p){var v=p[r];v&&v.forEach(function(F){F!=s&&(l[F]=!0)})}),Object.keys(l).forEach(function(p){return o[p]()})},u.prototype.getBean=function(o){return this.lookupBeanInstance("getBean",o,!0)},u.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var o=this.getBeanInstances();this.destroyBeans(o),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},u.prototype.destroyBean=function(o){!o||this.destroyBeans([o])},u.prototype.destroyBeans=function(o){var r=this;return o?(o.forEach(function(s){r.callLifeCycleMethodsOnBean(s,"preDestroyMethods","destroy"),"function"==typeof s.destroy&&s.destroy()}),[]):[]},u}();function rn(u,o,r){var s=no(u.constructor);s.preConstructMethods||(s.preConstructMethods=[]),s.preConstructMethods.push(o)}function tt(u,o,r){var s=no(u.constructor);s.postConstructMethods||(s.postConstructMethods=[]),s.postConstructMethods.push(o)}function Kt(u,o,r){var s=no(u.constructor);s.preDestroyMethods||(s.preDestroyMethods=[]),s.preDestroyMethods.push(o)}function ut(u){return function(o){no(o).beanName=u}}function de(u){return function(o,r,s){wo(o,u,!1,0,r,null)}}function gn(u){return function(o,r,s){wo(o,u,!0,0,r,null)}}function wo(u,o,r,s,l,c){if(null!==o)if("number"!=typeof c){var p=no(u.constructor);p.agClassAttributes||(p.agClassAttributes=[]),p.agClassAttributes.push({attributeName:l,beanName:o,optional:r})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function oi(u){return function(o,r,s){var c,l="function"==typeof o?o:o.constructor;if("number"==typeof s){var p=void 0;r?(c=no(l),p=r):(c=no(l),p="agConstructor"),c.autowireMethods||(c.autowireMethods={}),c.autowireMethods[p]||(c.autowireMethods[p]={}),c.autowireMethods[p][s]=u}}}function no(u){return u.hasOwnProperty("__agBeanMetaData")||(u.__agBeanMetaData={}),u.__agBeanMetaData}var u,ha=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},xo=function(u,o){return function(r,s){o(r,s,u)}},ds=function(){function u(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return u.prototype.setBeans=function(o,r,s,l){if(void 0===l&&(l=null),this.frameworkOverrides=s,l){var c=r.useAsyncEvents();this.addGlobalListener(l,c)}},u.prototype.getListeners=function(o,r,s){var l=r?this.allAsyncListeners:this.allSyncListeners,c=l.get(o);return!c&&s&&l.set(o,c=new Set),c},u.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},u.prototype.addEventListener=function(o,r,s){void 0===s&&(s=!1),this.getListeners(o,s,!0).add(r)},u.prototype.removeEventListener=function(o,r,s){void 0===s&&(s=!1);var l=this.getListeners(o,s,!1);l&&(l.delete(r),0===l.size)&&(s?this.allAsyncListeners:this.allSyncListeners).delete(o)},u.prototype.addGlobalListener=function(o,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).add(o)},u.prototype.removeGlobalListener=function(o,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).delete(o)},u.prototype.dispatchEvent=function(o){this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0},u.prototype.dispatchEventOnce=function(o){this.firedEvents[o.type]||this.dispatchEvent(o)},u.prototype.dispatchToListeners=function(o,r){var s=this,l=o.type,p=this.getListeners(l,r,!1);p&&p.forEach(function(B){r?s.dispatchAsync(function(){return B(o)}):B(o)}),(r?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(F){r?s.dispatchAsync(function(){return s.frameworkOverrides.dispatchEvent(l,function(){return F(l,o)},!0)}):s.frameworkOverrides.dispatchEvent(l,function(){return F(l,o)},!0)})},u.prototype.dispatchAsync=function(o){this.asyncFunctionsQueue.push(o),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},u.prototype.flushAsyncQueue=function(){this.scheduled=!1;var o=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],o.forEach(function(r){return r()})},ha([xo(0,oi("loggerFactory")),xo(1,oi("gridOptionsWrapper")),xo(2,oi("frameworkOverrides")),xo(3,oi("globalEventListener"))],u.prototype,"setBeans",null),ha([ut("eventService")],u)}(),Ie=function(){function u(){}return u.ROW_BUFFER_SIZE=10,u.LAYOUT_INTERVAL=500,u.BATCH_WAIT_MILLIS=50,u.EXPORT_TYPE_DRAG_COPY="dragCopy",u.EXPORT_TYPE_CLIPBOARD="clipboard",u.EXPORT_TYPE_EXCEL="excel",u.EXPORT_TYPE_CSV="csv",u.ROW_MODEL_TYPE_INFINITE="infinite",u.ROW_MODEL_TYPE_VIEWPORT="viewport",u.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",u.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",u.ALWAYS="always",u.ONLY_WHEN_GROUPING="onlyWhenGrouping",u.PINNED_TOP="top",u.PINNED_BOTTOM="bottom",u.DOM_LAYOUT_NORMAL="normal",u.DOM_LAYOUT_PRINT="print",u.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",u.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",u.SOURCE_PASTE="paste",u.PINNED_RIGHT="right",u.PINNED_LEFT="left",u.SORT_ASC="asc",u.SORT_DESC="desc",u.INPUT_SELECTOR="input, select, button, textarea",u.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",u.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",u}();(u=z.GXE||(z.GXE={})).CommunityCoreModule="@ag-grid-community/core",u.CommunityAllModules="@ag-grid-community/all",u.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",u.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",u.CsvExportModule="@ag-grid-community/csv-export",u.EnterpriseCoreModule="@ag-grid-enterprise/core",u.EnterpriseAllModules="@ag-grid-enterprise/all",u.RowGroupingModule="@ag-grid-enterprise/row-grouping",u.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",u.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",u.MenuModule="@ag-grid-enterprise/menu",u.SetFilterModule="@ag-grid-enterprise/set-filter",u.MultiFilterModule="@ag-grid-enterprise/multi-filter",u.StatusBarModule="@ag-grid-enterprise/status-bar",u.SideBarModule="@ag-grid-enterprise/side-bar",u.RangeSelectionModule="@ag-grid-enterprise/range-selection",u.MasterDetailModule="@ag-grid-enterprise/master-detail",u.RichSelectModule="@ag-grid-enterprise/rich-select",u.GridChartsModule="@ag-grid-enterprise/charts",u.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",u.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",u.ExcelExportModule="@ag-grid-enterprise/excel-export",u.ClipboardModule="@ag-grid-enterprise/clipboard",u.SparklinesModule="@ag-grid-enterprise/sparklines",u.AngularModule="@ag-grid-community/angular",u.ReactModule="@ag-grid-community/react",u.VueModule="@ag-grid-community/vue",u.PolymerModule="@ag-grid-community/polymer";var Le=function(){function u(){}return u.register=function(o,r){void 0===r&&(r=!0),u.modulesMap[o.moduleName]=o,void 0===u.moduleBased?u.moduleBased=r:u.moduleBased!==r&&ze(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},u.registerModules=function(o,r){void 0===r&&(r=!0),o&&o.forEach(function(s){return u.register(s,r)})},u.assertRegistered=function(o,r){return!!this.isRegistered(o)||(l=u.moduleBased?"AG Grid: unable to use "+r+" as module "+o+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+r+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",ze(function(){console.warn(l)},r+o),!1);var l},u.isRegistered=function(o){return!!u.modulesMap[o]},u.getRegisteredModules=function(){return b(u.modulesMap)},u.isPackageBased=function(){return!u.moduleBased},u.modulesMap={},u}(),ot=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Pt=0,at=function(){function u(o,r,s,l){this.instanceId=Pt++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new ds,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=o,this.userProvidedColDef=r,this.colId=s,this.primary=l,this.setState(o)}return u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.setState=function(o){void 0!==o.sort?(o.sort===Ie.SORT_ASC||o.sort===Ie.SORT_DESC)&&(this.sort=o.sort):(o.initialSort===Ie.SORT_ASC||o.initialSort===Ie.SORT_DESC)&&(this.sort=o.initialSort);var r=C(o.sortIndex),s=C(o.initialSortIndex);void 0!==r?null!==r&&(this.sortIndex=r):null!==s&&(this.sortIndex=s);var l=_(o.hide),c=_(o.initialHide);this.visible=void 0!==l?!l:!c,this.setPinned(void 0!==o.pinned?o.pinned:o.initialPinned);var p=C(o.flex),v=C(o.initialFlex);void 0!==p?this.flex=p:void 0!==v&&(this.flex=v)},u.prototype.setColDef=function(o,r){this.colDef=o,this.userProvidedColDef=r,this.initMinAndMaxWidths(),this.initDotNotation()},u.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},u.prototype.setParent=function(o){this.parent=o},u.prototype.getParent=function(){return this.parent},u.prototype.setOriginalParent=function(o){this.originalParent=o},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},u.prototype.initDotNotation=function(){var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=I(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=I(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o},u.prototype.initMinAndMaxWidths=function(){var o=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(o),this.maxWidth=this.columnUtils.calculateColMaxWidth(o)},u.prototype.resetActualWidth=function(o){void 0===o&&(o="api");var r=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(r,o,!0)},u.prototype.isEmptyGroup=function(){return!1},u.prototype.isRowGroupDisplayed=function(o){return!(O(this.colDef)||O(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==o)},u.prototype.isPrimary=function(){return this.primary},u.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},u.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},u.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},u.prototype.validate=function(){var o=this.colDef;function r(p,v,F){ze(function(){F?console.warn(p,F):ze(function(){return console.warn(p)},v)},v)}this.gridOptionsWrapper.isRowModelDefault()&&!Le.isRegistered(z.GXE.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(p){I(o[p])&&(Le.isPackageBased()?r("AG Grid: "+p+" is only valid in ag-grid-enterprise, your column definition should not have "+p,"ColumnRowGroupingMissing"+p):r("AG Grid: "+p+" is only valid with AG Grid Enterprise Module "+z.GXE.RowGroupingModule+" - your column definition should not have "+p,"ColumnRowGroupingMissing"+p))}),Le.isRegistered(z.GXE.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(Le.isPackageBased()?r("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):r("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+z.GXE.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(p){I(o[p])&&r("AG Grid: "+p+" is not possible when doing tree data, your column definition should not have "+p,"TreeDataCannotRowGroup")}),I(this.colDef.width)&&"number"!=typeof this.colDef.width&&r("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),o.pinnedRowCellRenderer&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererParams&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowCellRendererFramework&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),o.pinnedRowValueGetter&&r("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},u.prototype.addEventListener=function(o,r){this.eventService.addEventListener(o,r)},u.prototype.removeEventListener=function(o,r){this.eventService.removeEventListener(o,r)},u.prototype.createColumnFunctionCallbackParams=function(o){return{node:o,data:o.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},u.prototype.isSuppressNavigable=function(o){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var r=this.createColumnFunctionCallbackParams(o);return(0,this.colDef.suppressNavigable)(r)}return!1},u.prototype.isCellEditable=function(o){return!(o.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(o,this.colDef.editable)},u.prototype.isSuppressFillHandle=function(){return!!_(this.colDef.suppressFillHandle)},u.prototype.isAutoHeight=function(){return!!_(this.colDef.autoHeight)},u.prototype.isRowDrag=function(o){return this.isColumnFunc(o,this.colDef.rowDrag)},u.prototype.isDndSource=function(o){return this.isColumnFunc(o,this.colDef.dndSource)},u.prototype.isCellCheckboxSelection=function(o){return this.isColumnFunc(o,this.colDef.checkboxSelection)},u.prototype.isSuppressPaste=function(o){return this.isColumnFunc(o,this.colDef?this.colDef.suppressPaste:null)},u.prototype.isResizable=function(){return!!_(this.colDef.resizable)},u.prototype.isColumnFunc=function(o,r){return"boolean"==typeof r?r:"function"==typeof r&&r(this.createColumnFunctionCallbackParams(o))},u.prototype.setMoving=function(o,r){void 0===r&&(r="api"),this.moving=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MOVING_CHANGED,r))},u.prototype.createColumnEvent=function(o,r){return{api:this.gridApi,columnApi:this.columnApi,type:o,column:this,columns:[this],source:r}},u.prototype.isMoving=function(){return this.moving},u.prototype.getSort=function(){return this.sort},u.prototype.setSort=function(o,r){void 0===r&&(r="api"),this.sort!==o&&(this.sort=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_SORT_CHANGED,r)))},u.prototype.setMenuVisible=function(o,r){void 0===r&&(r="api"),this.menuVisible!==o&&(this.menuVisible=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_MENU_VISIBLE_CHANGED,r)))},u.prototype.isMenuVisible=function(){return this.menuVisible},u.prototype.isSortAscending=function(){return this.sort===Ie.SORT_ASC},u.prototype.isSortDescending=function(){return this.sort===Ie.SORT_DESC},u.prototype.isSortNone=function(){return O(this.sort)},u.prototype.isSorting=function(){return I(this.sort)},u.prototype.getSortIndex=function(){return this.sortIndex},u.prototype.setSortIndex=function(o){this.sortIndex=o},u.prototype.setAggFunc=function(o){this.aggFunc=o},u.prototype.getAggFunc=function(){return this.aggFunc},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.getRight=function(){return this.left+this.actualWidth},u.prototype.setLeft=function(o,r){void 0===r&&(r="api"),this.oldLeft=this.left,this.left!==o&&(this.left=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LEFT_CHANGED,r)))},u.prototype.isFilterActive=function(){return this.filterActive},u.prototype.setFilterActive=function(o,r,s){void 0===r&&(r="api"),this.filterActive!==o&&(this.filterActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FILTER_ACTIVE_CHANGED,r)));var l=this.createColumnEvent(u.EVENT_FILTER_CHANGED,r);s&&ee(l,s),this.eventService.dispatchEvent(l)},u.prototype.setPinned=function(o){this.pinned=!0===o||o===Ie.PINNED_LEFT?Ie.PINNED_LEFT:o===Ie.PINNED_RIGHT?Ie.PINNED_RIGHT:null},u.prototype.setFirstRightPinned=function(o,r){void 0===r&&(r="api"),this.firstRightPinned!==o&&(this.firstRightPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_FIRST_RIGHT_PINNED_CHANGED,r)))},u.prototype.setLastLeftPinned=function(o,r){void 0===r&&(r="api"),this.lastLeftPinned!==o&&(this.lastLeftPinned=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_LAST_LEFT_PINNED_CHANGED,r)))},u.prototype.isFirstRightPinned=function(){return this.firstRightPinned},u.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},u.prototype.isPinned=function(){return this.pinned===Ie.PINNED_LEFT||this.pinned===Ie.PINNED_RIGHT},u.prototype.isPinnedLeft=function(){return this.pinned===Ie.PINNED_LEFT},u.prototype.isPinnedRight=function(){return this.pinned===Ie.PINNED_RIGHT},u.prototype.getPinned=function(){return this.pinned},u.prototype.setVisible=function(o,r){void 0===r&&(r="api");var s=!0===o;this.visible!==s&&(this.visible=s,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VISIBLE_CHANGED,r)))},u.prototype.isVisible=function(){return this.visible},u.prototype.getColDef=function(){return this.colDef},u.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},u.prototype.getColId=function(){return this.colId},u.prototype.getId=function(){return this.getColId()},u.prototype.getUniqueId=function(){return this.getId()},u.prototype.getDefinition=function(){return this.colDef},u.prototype.getActualWidth=function(){return this.actualWidth},u.prototype.createBaseColDefParams=function(o){return{node:o,data:o.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},u.prototype.getColSpan=function(o){if(O(this.colDef.colSpan))return 1;var r=this.createBaseColDefParams(o),s=this.colDef.colSpan(r);return Math.max(s,1)},u.prototype.getRowSpan=function(o){if(O(this.colDef.rowSpan))return 1;var r=this.createBaseColDefParams(o),s=this.colDef.rowSpan(r);return Math.max(s,1)},u.prototype.setActualWidth=function(o,r,s){void 0===r&&(r="api"),void 0===s&&(s=!1),null!=this.minWidth&&(o=Math.max(o,this.minWidth)),null!=this.maxWidth&&(o=Math.min(o,this.maxWidth)),this.actualWidth!==o&&(this.actualWidth=o,this.flex&&"flex"!==r&&"gridInitializing"!==r&&(this.flex=null),s||this.fireColumnWidthChangedEvent(r))},u.prototype.fireColumnWidthChangedEvent=function(o){this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_WIDTH_CHANGED,o))},u.prototype.isGreaterThanMax=function(o){return null!=this.maxWidth&&o>this.maxWidth},u.prototype.getMinWidth=function(){return this.minWidth},u.prototype.getMaxWidth=function(){return this.maxWidth},u.prototype.getFlex=function(){return this.flex||0},u.prototype.setFlex=function(o){this.flex!==o&&(this.flex=o)},u.prototype.setMinimum=function(o){void 0===o&&(o="api"),I(this.minWidth)&&this.setActualWidth(this.minWidth,o)},u.prototype.setRowGroupActive=function(o,r){void 0===r&&(r="api"),this.rowGroupActive!==o&&(this.rowGroupActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_ROW_GROUP_CHANGED,r)))},u.prototype.isRowGroupActive=function(){return this.rowGroupActive},u.prototype.setPivotActive=function(o,r){void 0===r&&(r="api"),this.pivotActive!==o&&(this.pivotActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_PIVOT_CHANGED,r)))},u.prototype.isPivotActive=function(){return this.pivotActive},u.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},u.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},u.prototype.setValueActive=function(o,r){void 0===r&&(r="api"),this.aggregationActive!==o&&(this.aggregationActive=o,this.eventService.dispatchEvent(this.createColumnEvent(u.EVENT_VALUE_CHANGED,r)))},u.prototype.isValueActive=function(){return this.aggregationActive},u.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},u.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},u.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},u.prototype.getMenuTabs=function(o){var r=this.getColDef().menuTabs;return null==r&&(r=o),r},u.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},u.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},u.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},u.EVENT_MOVING_CHANGED="movingChanged",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_WIDTH_CHANGED="widthChanged",u.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",u.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",u.EVENT_VISIBLE_CHANGED="visibleChanged",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",u.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_PIVOT_CHANGED="columnPivotChanged",u.EVENT_VALUE_CHANGED="columnValueChanged",ot([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),ot([de("columnUtils")],u.prototype,"columnUtils",void 0),ot([de("columnApi")],u.prototype,"columnApi",void 0),ot([de("gridApi")],u.prototype,"gridApi",void 0),ot([de("context")],u.prototype,"context",void 0),ot([tt],u.prototype,"initialise",null),u}();function cn(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];for(var r=0;r<u.length;r++){var s=u[r];if(I(s))return s}return null}function St(u){if(u&&u.length)return u[u.length-1]}function Fn(u,o,r){return null==u&&null==o||null!=u&&null!=o&&u.length===o.length&&u.every(function(s,l){return r?r(s,o[l]):o[l]===s})}function Ns(u){return u.sort(function(o,r){return o-r})}function fi(u,o){var r=u.indexOf(o);r>=0&&u.splice(r,1)}function ja(u,o){o.forEach(function(r){return fi(u,r)})}function Cc(u,o,r){u.splice(r,0,o)}function Kf(u,o,r){ja(u,o),o.slice().reverse().forEach(function(s){return Cc(u,s,r)})}function So(u,o){return u.indexOf(o)>-1}function qf(u,o){null==o||null==u||o.forEach(function(r){return u.push(r)})}var fx=Object.freeze({firstExistingValue:cn,existsAndNotEmpty:function tn(u){return null!=u&&u.length>0},last:St,areEqual:Fn,compareArrays:function Ni(u,o){return Fn(u,o)},shallowCompare:function vi(u,o){return Fn(u,o)},sortNumerically:Ns,removeRepeatsFromArray:function Wr(u,o){if(u)for(var r=u.length-2;r>=0;r--)u[r]===o&&u[r+1]===o&&u.splice(r+1,1)},removeFromArray:fi,removeAllFromArray:ja,insertIntoArray:Cc,insertArrayIntoArray:function dr(u,o,r){if(null!=u&&null!=o)for(var s=o.length-1;s>=0;s--)Cc(u,o[s],r)},moveInArray:Kf,includes:So,flatten:function hx(u){return[].concat.apply([],u)},pushAll:qf,toStrings:function Ev(u){return u.map(D)},forEachReverse:function px(u,o){if(null!=u)for(var r=u.length-1;r>=0;r--)o(u[r],r)}}),br=function(){function u(o,r,s,l){this.displayedChildren=[],this.localEventService=new ds,this.groupId=r,this.instanceId=s,this.providedColumnGroup=o,this.pinned=l}return u.createUniqueId=function(o,r){return o+"_"+r},u.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},u.prototype.getParent=function(){return this.parent},u.prototype.setParent=function(o){this.parent=o},u.prototype.getUniqueId=function(){return u.createUniqueId(this.groupId,this.instanceId)},u.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},u.prototype.isMoving=function(){var o=this.getProvidedColumnGroup().getLeafColumns();return!(!o||0===o.length)&&o.every(function(r){return r.isMoving()})},u.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(l){l instanceof u&&l.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var r=St(this.displayedChildren).getLeft();this.setLeft(r)}else{var s=this.displayedChildren[0].getLeft();this.setLeft(s)}else this.setLeft(null)},u.prototype.getLeft=function(){return this.left},u.prototype.getOldLeft=function(){return this.oldLeft},u.prototype.setLeft=function(o){this.oldLeft=o,this.left!==o&&(this.left=o,this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_LEFT_CHANGED)))},u.prototype.getPinned=function(){return this.pinned},u.prototype.createAgEvent=function(o){return{type:o}},u.prototype.addEventListener=function(o,r){this.localEventService.addEventListener(o,r)},u.prototype.removeEventListener=function(o,r){this.localEventService.removeEventListener(o,r)},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getInstanceId=function(){return this.instanceId},u.prototype.isChildInThisGroupDeepSearch=function(o){var r=!1;return this.children.forEach(function(s){o===s&&(r=!0),s instanceof u&&s.isChildInThisGroupDeepSearch(o)&&(r=!0)}),r},u.prototype.getActualWidth=function(){var o=0;return this.displayedChildren&&this.displayedChildren.forEach(function(r){o+=r.getActualWidth()}),o},u.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var o=!1;return this.displayedChildren.forEach(function(r){r.isResizable()&&(o=!0)}),o},u.prototype.getMinWidth=function(){var o=0;return this.displayedChildren.forEach(function(r){o+=r.getMinWidth()||0}),o},u.prototype.addChild=function(o){this.children||(this.children=[]),this.children.push(o)},u.prototype.getDisplayedChildren=function(){return this.displayedChildren},u.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},u.prototype.getDisplayedLeafColumns=function(){var o=[];return this.addDisplayedLeafColumns(o),o},u.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},u.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},u.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},u.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},u.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},u.prototype.setExpanded=function(o){this.providedColumnGroup.setExpanded(o)},u.prototype.addDisplayedLeafColumns=function(o){this.displayedChildren.forEach(function(r){r instanceof at?o.push(r):r instanceof u&&r.addDisplayedLeafColumns(o)})},u.prototype.addLeafColumns=function(o){this.children.forEach(function(r){r instanceof at?o.push(r):r instanceof u&&r.addLeafColumns(o)})},u.prototype.getChildren=function(){return this.children},u.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},u.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},u.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},u.prototype.getPaddingLevel=function(){var o=this.getParent();return this.isPadding()&&o&&o.isPadding()?1+o.getPaddingLevel():0},u.prototype.calculateDisplayedColumns=function(){var o=this;this.displayedChildren=[];for(var r=this;null!=r&&r.isPadding();)r=r.getParent();if(!r||!r.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(l){if(!(l instanceof u)||l.displayedChildren&&l.displayedChildren.length)switch(l.getColumnGroupShow()){case u.HEADER_GROUP_SHOW_OPEN:r.providedColumnGroup.isExpanded()&&o.displayedChildren.push(l);break;case u.HEADER_GROUP_SHOW_CLOSED:r.providedColumnGroup.isExpanded()||o.displayedChildren.push(l);break;default:o.displayedChildren.push(l)}}),this.localEventService.dispatchEvent(this.createAgEvent(u.EVENT_DISPLAYED_CHILDREN_CHANGED))},u.HEADER_GROUP_SHOW_OPEN="open",u.HEADER_GROUP_SHOW_CLOSED="closed",u.EVENT_LEFT_CHANGED="leftChanged",u.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),Tn=function(){function u(o,r,s,l){this.localEventService=new ds,this.expandable=!1,this.colGroupDef=o,this.groupId=r,this.expanded=!!o&&!!o.openByDefault,this.padding=s,this.level=l}return u.prototype.setOriginalParent=function(o){this.originalParent=o},u.prototype.getOriginalParent=function(){return this.originalParent},u.prototype.getLevel=function(){return this.level},u.prototype.isVisible=function(){return!!this.children&&this.children.some(function(o){return o.isVisible()})},u.prototype.isPadding=function(){return this.padding},u.prototype.setExpanded=function(o){this.expanded=void 0!==o&&o,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDED_CHANGED})},u.prototype.isExpandable=function(){return this.expandable},u.prototype.isExpanded=function(){return this.expanded},u.prototype.getGroupId=function(){return this.groupId},u.prototype.getId=function(){return this.getGroupId()},u.prototype.setChildren=function(o){this.children=o},u.prototype.getChildren=function(){return this.children},u.prototype.getColGroupDef=function(){return this.colGroupDef},u.prototype.getLeafColumns=function(){var o=[];return this.addLeafColumns(o),o},u.prototype.addLeafColumns=function(o){!this.children||this.children.forEach(function(r){r instanceof at?o.push(r):r instanceof u&&r.addLeafColumns(o)})},u.prototype.getColumnGroupShow=function(){var o=this.colGroupDef;if(o)return o.columnGroupShow},u.prototype.setupExpandable=function(){var o=this;this.setExpandable(),this.getLeafColumns().forEach(function(r){return r.addEventListener(at.EVENT_VISIBLE_CHANGED,o.onColumnVisibilityChanged.bind(o))})},u.prototype.setExpandable=function(){if(!this.isPadding()){for(var o=!1,r=!1,s=!1,l=this.findChildrenRemovingPadding(),c=0,p=l.length;c<p;c++){var v=l[c];if(v.isVisible()){var F=v.getColumnGroupShow();F===br.HEADER_GROUP_SHOW_OPEN?(o=!0,s=!0):F===br.HEADER_GROUP_SHOW_CLOSED?(r=!0,s=!0):(o=!0,r=!0)}}var B=o&&r&&s;this.expandable!==B&&(this.expandable=B,this.localEventService.dispatchEvent({type:u.EVENT_EXPANDABLE_CHANGED}))}},u.prototype.findChildrenRemovingPadding=function(){var o=[],r=function(s){s.forEach(function(l){l instanceof u&&l.isPadding()?r(l.children):o.push(l)})};return r(this.children),o},u.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},u.prototype.addEventListener=function(o,r){this.localEventService.addEventListener(o,r)},u.prototype.removeEventListener=function(o,r){this.localEventService.removeEventListener(o,r)},u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_EXPANDABLE_CHANGED="expandableChanged",u}(),Gu={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Uo="__ag_Grid_Stop_Propagation",Qk=["touchstart","touchend","touchmove","touchcancel"],Xf={};function Sl(u){u[Uo]=!0}function zo(u){return!0===u[Uo]}var bc=function(){var u={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(r){if("boolean"==typeof Xf[r])return Xf[r];var s=document.createElement(u[r]||"div");return Xf[r="on"+r]=r in s}}();function $a(u,o,r){for(var s=o.target;s;){var l=u.getDomData(s,r);if(l)return l;s=s.parentElement}return null}function Bu(u,o){return!(!o||!u)&&Zf(o).indexOf(u)>=0}function Qf(u){for(var o=[],r=u.target;r;)o.push(r),r=r.parentElement;return o}function Zf(u){var o=u;return o.path?o.path:o.composedPath?o.composedPath():o.__agGridEventPath?o.__agGridEventPath:Qf(u)}function Dv(u,o,r,s){var l=So(Qk,r);u&&u.addEventListener&&u.addEventListener(o,r,s,l?{passive:!0}:void 0)}var _x=Object.freeze({stopPropagationForAgGrid:Sl,isStopPropagationForAgGrid:zo,isEventSupported:bc,getCtrlForEvent:$a,addChangeListener:function gx(u,o){u.addEventListener("changed",o),u.addEventListener("paste",o),u.addEventListener("input",o)},isElementInEventPath:Bu,createEventPath:Qf,addAgGridEventPath:function mx(u){u.__agGridEventPath=Zf(u)},getEventPath:Zf,addSafePassiveEventListener:Dv}),wc=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},ft=function(){function u(){var o=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!o.destroyed}}return u.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},u.prototype.getContext=function(){return this.context},u.prototype.destroy=function(){this.destroyFunctions.forEach(function(o){return o()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:u.EVENT_DESTROYED})},u.prototype.addEventListener=function(o,r){this.localEventService||(this.localEventService=new ds),this.localEventService.addEventListener(o,r)},u.prototype.removeEventListener=function(o,r){this.localEventService&&this.localEventService.removeEventListener(o,r)},u.prototype.dispatchEventAsync=function(o){var r=this;window.setTimeout(function(){return r.dispatchEvent(o)},0)},u.prototype.dispatchEvent=function(o){this.localEventService&&this.localEventService.dispatchEvent(o)},u.prototype.addManagedListener=function(o,r,s){var l=this;if(!this.destroyed){o instanceof HTMLElement?Dv(this.getFrameworkOverrides(),o,r,s):o.addEventListener(r,s);var c=function(){return o.removeEventListener(r,s),l.destroyFunctions=l.destroyFunctions.filter(function(p){return p!==c}),null};return this.destroyFunctions.push(c),c}},u.prototype.addDestroyFunc=function(o){this.isAlive()?this.destroyFunctions.push(o):o()},u.prototype.createManagedBean=function(o,r){var s=this.createBean(o,r);return this.addDestroyFunc(this.destroyBean.bind(this,o,r)),s},u.prototype.createBean=function(o,r,s){return(r||this.getContext()).createBean(o,s)},u.prototype.destroyBean=function(o,r){return(r||this.getContext()).destroyBean(o)},u.prototype.destroyBeans=function(o,r){var s=this;return o&&o.forEach(function(l){return s.destroyBean(l,r)}),[]},u.EVENT_DESTROYED="destroyed",wc([de("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),wc([de("context")],u.prototype,"context",void 0),wc([de("eventService")],u.prototype,"eventService",void 0),wc([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),wc([Kt],u.prototype,"destroy",null),u}(),vx=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),sr=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Oh=function(u,o){return function(r,s){o(r,s,u)}},Jf=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return vx(o,u),o.prototype.setBeans=function(r){this.logger=r.create("ColumnFactory")},o.prototype.createColumnTree=function(r,s,l){var c=new P,p=this.extractExistingTreeData(l),v=p.existingCols,F=p.existingGroups;c.addExistingKeys(p.existingColKeys);var q=this.recursivelyCreateColumns(r,0,s,v,c,F),se=this.findMaxDept(q,0);this.logger.log("Number of levels for grouped columns is "+se);var fe=this.balanceColumnTree(q,0,se,c);return this.columnUtils.depthFirstOriginalTreeSearch(null,fe,function(xe,Pe){xe instanceof Tn&&xe.setupExpandable(),xe.setOriginalParent(Pe)}),{columnTree:fe,treeDept:se}},o.prototype.extractExistingTreeData=function(r){var s=[],l=[],c=[];return r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(p){if(p instanceof Tn)l.push(p);else{var F=p;c.push(F.getId()),s.push(F)}}),{existingCols:s,existingGroups:l,existingColKeys:c}},o.prototype.createForAutoGroups=function(r,s){var l=this;return r.map(function(c){return l.createAutoGroupTreeItem(s,c)})},o.prototype.createAutoGroupTreeItem=function(r,s){for(var c=s,p=this.findDepth(r)-1;p>=0;p--){var v=new Tn(null,"FAKE_PATH_"+s.getId()+"}_"+p,!0,p);this.context.createBean(v),v.setChildren([c]),c.setOriginalParent(v),c=v}return c},o.prototype.findDepth=function(r){for(var s=0,l=r;l&&l[0]&&l[0]instanceof Tn;)s++,l=l[0].getChildren();return s},o.prototype.balanceColumnTree=function(r,s,l,c){for(var p=[],v=0;v<r.length;v++){var F=r[v];if(F instanceof Tn){var B=F,q=this.balanceColumnTree(B.getChildren(),s+1,l,c);B.setChildren(q),p.push(B)}else{for(var se=void 0,fe=void 0,we=l-1;we>=s;we--){var xe=c.getUniqueKey(null,null),Pe=this.createMergedColGroupDef(null),Be=new Tn(Pe,xe,!0,s);this.context.createBean(Be),fe&&fe.setChildren([Be]),fe=Be,se||(se=fe)}if(se&&fe){if(p.push(se),r.some(function(Ue){return Ue instanceof Tn})){fe.setChildren([F]);continue}fe.setChildren(r);break}p.push(F)}}return p},o.prototype.findMaxDept=function(r,s){for(var l=s,c=0;c<r.length;c++){var p=r[c];if(p instanceof Tn){var F=this.findMaxDept(p.getChildren(),s+1);l<F&&(l=F)}}return l},o.prototype.recursivelyCreateColumns=function(r,s,l,c,p,v){var F=this;return(r||[]).map(function(B){return F.isColumnGroup(B)?F.createColumnGroup(l,B,s,c,p,v):F.createColumn(l,B,c,p)})},o.prototype.createColumnGroup=function(r,s,l,c,p,v){var F=this.createMergedColGroupDef(s),B=p.getUniqueKey(F.groupId||null,null),q=new Tn(F,B,!1,l);this.context.createBean(q);var se=this.findExistingGroup(s,v);se&&fi(v,se),se&&se.isExpanded()&&q.setExpanded(!0);var fe=this.recursivelyCreateColumns(F.children,l+1,r,c,p,v);return q.setChildren(fe),q},o.prototype.createMergedColGroupDef=function(r){var s={};return Object.assign(s,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(s,r),this.checkForDeprecatedItems(s),s},o.prototype.createColumn=function(r,s,l,c){var p=this.mergeColDefs(s);this.checkForDeprecatedItems(p);var v=this.findExistingColumn(s,l);if(l&&v&&fi(l,v),v)v.setColDef(p,s),this.applyColumnState(v,p);else{var F=c.getUniqueKey(p.colId,p.field);v=new at(p,s,F,r),this.context.createBean(v)}return v},o.prototype.applyColumnState=function(r,s){var l=C(s.flex);if(void 0!==l&&r.setFlex(l),r.getFlex()<=0){var p=C(s.width);if(null!=p)r.setActualWidth(p);else{var v=r.getActualWidth();r.setActualWidth(v)}}void 0!==s.sort&&r.setSort(s.sort==Ie.SORT_ASC||s.sort==Ie.SORT_DESC?s.sort:void 0);var F=C(s.sortIndex);void 0!==F&&r.setSortIndex(F);var B=_(s.hide);void 0!==B&&r.setVisible(!B),void 0!==s.pinned&&r.setPinned(s.pinned)},o.prototype.findExistingColumn=function(r,s){return(s||[]).find(function(l){var c=l.getUserProvidedColDef();if(!c)return!1;var v=null!=r.field;return null!=r.colId?l.getId()===r.colId:v?c.field===r.field:c===r})},o.prototype.findExistingGroup=function(r,s){return s.find(function(l){return!(!l.getColGroupDef()||null==r.groupId||l.getId()!==r.groupId)})},o.prototype.mergeColDefs=function(r){var s={},l=this.gridOptionsWrapper.getDefaultColDef();ee(s,l,!1,!0);var c=r.type;return c||(c=l&&l.type),c&&this.assignColumnTypes(c,s),ee(s,r,!1,!0),s},o.prototype.assignColumnTypes=function(r,s){var l=[];if(r instanceof Array)r.some(function(F){return"string"!=typeof F})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):l=r;else{if("string"!=typeof r)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");l=r.split(",")}var p=Object.assign({},Gu);E(this.gridOptionsWrapper.getColumnTypes()||{},function(F,B){F in p?console.warn("AG Grid: the column type '"+F+"' is a default column type and cannot be overridden."):p[F]=B}),l.forEach(function(F){var B=p[F.trim()];B?ee(s,B,!1,!0):console.warn("AG Grid: colDef.type '"+F+"' does not correspond to defined gridOptions.columnTypes")})},o.prototype.checkForDeprecatedItems=function(r){if(r){var s=r;void 0!==s.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==s.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==s.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(s.suppressRowGroup||s.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),s.displayName&&(console.warn("AG Grid: Found displayName "+s.displayName+", please use headerName instead, displayName is deprecated."),s.headerName=s.displayName)}},o.prototype.isColumnGroup=function(r){return void 0!==r.children},sr([de("columnUtils")],o.prototype,"columnUtils",void 0),sr([Oh(0,oi("loggerFactory"))],o.prototype,"setBeans",null),sr([ut("columnFactory")],o)}(ft),Te=function(){function u(){}return u.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",u.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",u.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",u.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",u.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",u.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",u.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",u.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",u.EVENT_COLUMN_MOVED="columnMoved",u.EVENT_COLUMN_VISIBLE="columnVisible",u.EVENT_COLUMN_PINNED="columnPinned",u.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",u.EVENT_COLUMN_RESIZED="columnResized",u.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",u.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",u.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",u.EVENT_ROW_GROUP_OPENED="rowGroupOpened",u.EVENT_ROW_DATA_CHANGED="rowDataChanged",u.EVENT_ROW_DATA_UPDATED="rowDataUpdated",u.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",u.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",u.EVENT_CHART_CREATED="chartCreated",u.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",u.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",u.EVENT_CHART_DESTROYED="chartDestroyed",u.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",u.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",u.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",u.EVENT_MODEL_UPDATED="modelUpdated",u.EVENT_PASTE_START="pasteStart",u.EVENT_PASTE_END="pasteEnd",u.EVENT_FILL_START="fillStart",u.EVENT_FILL_END="fillEnd",u.EVENT_CELL_CLICKED="cellClicked",u.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",u.EVENT_CELL_MOUSE_DOWN="cellMouseDown",u.EVENT_CELL_CONTEXT_MENU="cellContextMenu",u.EVENT_CELL_VALUE_CHANGED="cellValueChanged",u.EVENT_CELL_EDIT_REQUEST="cellEditRequest",u.EVENT_ROW_VALUE_CHANGED="rowValueChanged",u.EVENT_CELL_FOCUSED="cellFocused",u.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_SELECTION_CHANGED="selectionChanged",u.EVENT_CELL_KEY_DOWN="cellKeyDown",u.EVENT_CELL_KEY_PRESS="cellKeyPress",u.EVENT_CELL_MOUSE_OVER="cellMouseOver",u.EVENT_CELL_MOUSE_OUT="cellMouseOut",u.EVENT_FILTER_CHANGED="filterChanged",u.EVENT_FILTER_MODIFIED="filterModified",u.EVENT_FILTER_OPENED="filterOpened",u.EVENT_SORT_CHANGED="sortChanged",u.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",u.EVENT_ROW_CLICKED="rowClicked",u.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",u.EVENT_GRID_READY="gridReady",u.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",u.EVENT_VIEWPORT_CHANGED="viewportChanged",u.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",u.EVENT_FIRST_DATA_RENDERED="firstDataRendered",u.EVENT_DRAG_STARTED="dragStarted",u.EVENT_DRAG_STOPPED="dragStopped",u.EVENT_CHECKBOX_CHANGED="checkboxChanged",u.EVENT_ROW_EDITING_STARTED="rowEditingStarted",u.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",u.EVENT_CELL_EDITING_STARTED="cellEditingStarted",u.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",u.EVENT_BODY_SCROLL="bodyScroll",u.EVENT_BODY_SCROLL_END="bodyScrollEnd",u.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",u.EVENT_PAGINATION_CHANGED="paginationChanged",u.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",u.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",u.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",u.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",u.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",u.EVENT_FLASH_CELLS="flashCells",u.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",u.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",u.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",u.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",u.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",u.EVENT_ROW_DRAG_ENTER="rowDragEnter",u.EVENT_ROW_DRAG_MOVE="rowDragMove",u.EVENT_ROW_DRAG_LEAVE="rowDragLeave",u.EVENT_ROW_DRAG_END="rowDragEnd",u.EVENT_POPUP_TO_FRONT="popupToFront",u.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",u.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",u.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",u.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",u.EVENT_KEYBOARD_FOCUS="keyboardFocus",u.EVENT_MOUSE_FOCUS="mouseFocus",u.EVENT_STORE_UPDATED="storeUpdated",u}(),li=function(){function u(){this.existingIds={}}return u.prototype.getInstanceIdForKey=function(o){var s,r=this.existingIds[o];return this.existingIds[o]=s="number"!=typeof r?0:r+1,s},u}(),eg=/[&<>"']/g,ci={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Av(u){return null==u?null:u.replace(/([A-Z])/g,function(o){return"-"+o[0].toLowerCase()})}function Qn(u){return null==u?null:u.replace(/-([a-z])/g,function(o){return o[1].toUpperCase()})}function En(u){return u[0].toUpperCase()+u.substr(1).toLowerCase()}function hs(u){return null==u?null:u.toString().toString().replace(eg,function(o){return ci[o]})}function kv(u){return u&&null!=u?u.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(s){return s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")}).join(" "):null}var $t=Object.freeze({utf8_encode:function tg(u){var o=String.fromCharCode;function l(se,fe){return o(se>>fe&63|128)}function c(se){if(se>=0&&se<=31&&10!==se)return"_x"+se.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&se))return o(se);var xe="";return 0==(4294965248&se)?xe=o(se>>6&31|192):0==(4294901760&se)?(function s(se){if(se>=55296&&se<=57343)throw Error("Lone surrogate U+"+se.toString(16).toUpperCase()+" is not a scalar value")}(se),xe=o(se>>12&15|224),xe+=l(se,6)):0==(4292870144&se)&&(xe=o(se>>18&7|240),xe+=l(se,12),xe+=l(se,6)),xe+o(63&se|128)}for(var p=function r(se){var fe=[];if(!se)return[];for(var Pe,Be,we=se.length,xe=0;xe<we;)(Pe=se.charCodeAt(xe++))>=55296&&Pe<=56319&&xe<we?56320==(64512&(Be=se.charCodeAt(xe++)))?fe.push(((1023&Pe)<<10)+(1023&Be)+65536):(fe.push(Pe),xe--):fe.push(Pe);return fe}(u),v=p.length,F=-1,q="";++F<v;)q+=c(p[F]);return q},camelCaseToHyphen:Av,hyphenToCamelCase:Qn,capitalise:En,escapeString:hs,camelCaseToHumanText:kv});function Fs(u){var o=new Map;return u.forEach(function(r){return o.set(r[0],r[1])}),o}var yx=Object.freeze({convertToMap:Fs,mapById:function xn(u,o){var r=new Map;return u.forEach(function(s){return r.set(o(s),s)}),r},keys:function Ur(u){var o=[];return u.forEach(function(r,s){return o.push(s)}),o}}),Zk=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),hr=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ph=function(u,o){return function(r,s){o(r,s,u)}},io=function(u){var o="function"==typeof Symbol&&Symbol.iterator,r=o&&u[o],s=0;if(r)return r.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},Jk=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},Hu=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(Jk(arguments[o]));return u},Cx=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.primaryHeaderRowCount=0,r.secondaryHeaderRowCount=0,r.gridHeaderRowCount=0,r.displayedColumnsLeft=[],r.displayedColumnsRight=[],r.displayedColumnsCenter=[],r.displayedColumns=[],r.displayedColumnsAndGroupsMap={},r.viewportColumns=[],r.viewportColumnsCenter=[],r.autoHeightActiveAtLeastOnce=!1,r.rowGroupColumns=[],r.valueColumns=[],r.pivotColumns=[],r.ready=!1,r.autoGroupsNeedBuilding=!1,r.forceRecreateAutoGroups=!1,r.pivotMode=!1,r.bodyWidth=0,r.leftWidth=0,r.rightWidth=0,r.bodyWidthDirty=!0,r.colDefVersion=0,r.flexColsCalculatedAtLestOnce=!1,r}return Zk(o,u),o.prototype.init=function(){var r=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var s=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(s)&&(this.pivotMode=s),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return r.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return r.onDefaultColDefChanged()})},o.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},o.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},o.prototype.getColDefVersion=function(){return this.colDefVersion},o.prototype.setColumnDefs=function(r,s){void 0===s&&(s="api");var l=!!this.columnDefs;this.colDefVersion++,this.columnDefs=r,this.createColumnsFromColumnDefs(l,s)},o.prototype.createColumnsFromColumnDefs=function(r,s){var l=this;void 0===s&&(s="api");var c=r?this.compareColumnStatesAndRaiseEvents(s):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var p=this.primaryColumns,F=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=F.columnTree,this.primaryHeaderRowCount=F.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(se){return l.primaryColumnsMap[se.getId()]=se}),this.extractRowGroupColumns(s,p),this.extractPivotColumns(s,p),this.extractValueColumns(s,p),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),r&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(s),this.checkViewportColumns()),this.dispatchEverythingChanged(s),c&&c(),this.dispatchNewColumnsLoaded()},o.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:Te.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.dispatchEverythingChanged=function(r){void 0===r&&(r="api"),this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:r})},o.prototype.orderGridColumnsLikePrimary=function(){var r=this,s=this.primaryColumns;!s||this.gridColumns.sort(function(l,c){var p=s.indexOf(l),v=s.indexOf(c),F=p>=0,B=v>=0;return F&&B?p-v:F?1:B?-1:r.gridColumns.indexOf(l)-r.gridColumns.indexOf(c)})},o.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},o.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},o.prototype.getDisplayedColumnsStartingAt=function(r){for(var s=r,l=[];null!=s;)l.push(s),s=this.getDisplayedColAfter(s);return l},o.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var r=this.viewportColumns.map(function(c){return c.getId()}).join("#");this.extractViewport(),r!==this.viewportColumns.map(function(c){return c.getId()}).join("#")&&this.eventService.dispatchEvent({type:Te.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},o.prototype.setViewportPosition=function(r,s){(r!==this.scrollWidth||s!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=r,this.scrollPosition=s,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},o.prototype.isPivotMode=function(){return this.pivotMode},o.prototype.isPivotSettingAllowed=function(r){return!r||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},o.prototype.setPivotMode=function(r,s){void 0===s&&(s="api"),r!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=r,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(s),this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getSecondaryPivotColumn=function(r,s){if(O(this.secondaryColumns))return null;var l=this.getPrimaryColumn(s),c=null;return this.secondaryColumns.forEach(function(p){var v=p.getColDef().pivotKeys,F=p.getColDef().pivotValueColumn;Fn(v,r)&&F===l&&(c=p)}),c},o.prototype.setBeans=function(r){this.logger=r.create("columnModel")},o.prototype.setFirstRightAndLastLeftPinned=function(r){var s,l;this.gridOptionsWrapper.isEnableRtl()?(s=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,l=this.displayedColumnsRight?St(this.displayedColumnsRight):null):(s=this.displayedColumnsLeft?St(this.displayedColumnsLeft):null,l=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(c){c.setLastLeftPinned(c===s,r),c.setFirstRightPinned(c===l,r)})},o.prototype.autoSizeColumns=function(r){var s=this,l=r.columns,c=r.skipHeader,p=r.skipHeaderGroups,v=r.stopAtGroup,F=r.source,B=void 0===F?"api":F;this.animationFrameService.flushAllFrames();for(var q=[],se=-1,fe=null!=c?c:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),we=null!=p?p:fe;0!==se;)se=0,this.actionOnGridColumns(l,function(xe){if(q.indexOf(xe)>=0)return!1;var Pe=s.autoWidthCalculator.getPreferredWidthForColumn(xe,fe);if(Pe>0){var Be=s.normaliseColumnWidth(xe,Pe);xe.setActualWidth(Be,B),q.push(xe),se++}return!0},B);we||this.autoSizeColumnGroupsByColumns(l,v),this.fireColumnResizedEvent(q,!0,"autosizeColumns")},o.prototype.fireColumnResizedEvent=function(r,s,l,c){void 0===c&&(c=null),r&&r.length&&this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_RESIZED,columns:r,column:1===r.length?r[0]:null,flexColumns:c,finished:s,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.autoSizeColumn=function(r,s,l){void 0===l&&(l="api"),r&&this.autoSizeColumns({columns:[r],skipHeader:s,skipHeaderGroups:!0,source:l})},o.prototype.autoSizeColumnGroupsByColumns=function(r,s){var l,c,p,v,q,F=new Set;this.getGridColumns(r).forEach(function(Ue){for(var Ze=Ue.getParent();Ze&&Ze!=s;)Ze.isPadding()||F.add(Ze),Ze=Ze.getParent()});try{for(var fe=io(F),we=fe.next();!we.done;we=fe.next()){var xe=we.value;try{for(var Pe=(p=void 0,io(this.ctrlsService.getHeaderRowContainerCtrls())),Be=Pe.next();!Be.done&&!(q=Be.value.getHeaderCtrlForColumn(xe));Be=Pe.next());}catch(Ue){p={error:Ue}}finally{try{Be&&!Be.done&&(v=Pe.return)&&v.call(Pe)}finally{if(p)throw p.error}}q&&q.resizeLeafColumnsToFit()}}catch(Ue){l={error:Ue}}finally{try{we&&!we.done&&(c=fe.return)&&c.call(fe)}finally{if(l)throw l.error}}return[]},o.prototype.autoSizeAllColumns=function(r,s){void 0===s&&(s="api");var l=this.getAllDisplayedColumns();this.autoSizeColumns({columns:l,skipHeader:r,source:s})},o.prototype.getColumnsFromTree=function(r){var s=[],l=function(c){for(var p=0;p<c.length;p++){var v=c[p];v instanceof at?s.push(v):v instanceof Tn&&l(v.getChildren())}};return l(r),s},o.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},o.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},o.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},o.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},o.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},o.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},o.prototype.isColumnDisplayed=function(r){return this.getAllDisplayedColumns().indexOf(r)>=0},o.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},o.prototype.getViewportColumns=function(){return this.viewportColumns},o.prototype.getDisplayedLeftColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsLeft):this.displayedColumnsLeft},o.prototype.getDisplayedRightColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsRight):this.displayedColumnsRight},o.prototype.getDisplayedColumnsForRow=function(r,s,l,c){for(var B,p=[],v=null,F=function(se){var Ue,fe=s[se],we=s.length-se,xe=Math.min(fe.getColSpan(r),we),Pe=[fe];if(xe>1){for(var Be=xe-1,We=1;We<=Be;We++)Pe.push(s[se+We]);se+=Be}l?(Ue=!1,Pe.forEach(function(gt){l(gt)&&(Ue=!0)})):Ue=!0,Ue&&(0===p.length&&v&&c&&c(fe)&&p.push(v),p.push(fe)),v=fe,B=se},q=0;q<s.length;q++)F(q),q=B;return p},o.prototype.getViewportCenterColumnsForRow=function(r){var s=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var c=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(r,this.displayedColumnsCenter,c,function(p){var v=p.getLeft();return I(v)&&v>s.viewportLeft})},o.prototype.getAriaColumnIndex=function(r){return this.getAllGridColumns().indexOf(r)+1},o.prototype.isColumnInViewport=function(r){if(r.isAutoHeight())return!0;var s=r.getLeft()||0,l=s+r.getActualWidth(),c=this.viewportLeft-200,p=this.viewportRight+200;return!(s<c&&l<c||s>p&&l>p)},o.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},o.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},o.prototype.updatePrimaryColumnList=function(r,s,l,c,p,v){var F=this;if(void 0===v&&(v="api"),r&&!S(r)){var B=!1;r.forEach(function(se){var fe=F.getPrimaryColumn(se);if(fe){if(l){if(s.indexOf(fe)>=0)return;s.push(fe)}else{if(s.indexOf(fe)<0)return;fi(s,fe)}c(fe),B=!0}}),B&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(v),this.eventService.dispatchEvent({type:p,columns:s,column:1===s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:v}))}},o.prototype.setRowGroupColumns=function(r,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(r,this.rowGroupColumns,Te.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),s)},o.prototype.setRowGroupActive=function(r,s,l){r!==s.isRowGroupActive()&&(s.setRowGroupActive(r,l),!r&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&s.setVisible(!0,l))},o.prototype.addRowGroupColumn=function(r,s){void 0===s&&(s="api"),r&&this.addRowGroupColumns([r],s)},o.prototype.addRowGroupColumns=function(r,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Te.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},o.prototype.removeRowGroupColumns=function(r,s){void 0===s&&(s="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Te.EVENT_COLUMN_ROW_GROUP_CHANGED,s)},o.prototype.removeRowGroupColumn=function(r,s){void 0===s&&(s="api"),r&&this.removeRowGroupColumns([r],s)},o.prototype.addPivotColumns=function(r,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!0,function(l){return l.setPivotActive(!0,s)},Te.EVENT_COLUMN_PIVOT_CHANGED,s)},o.prototype.setPivotColumns=function(r,s){void 0===s&&(s="api"),this.setPrimaryColumnList(r,this.pivotColumns,Te.EVENT_COLUMN_PIVOT_CHANGED,function(l,c){c.setPivotActive(l,s)},s)},o.prototype.addPivotColumn=function(r,s){void 0===s&&(s="api"),this.addPivotColumns([r],s)},o.prototype.removePivotColumns=function(r,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!1,function(l){return l.setPivotActive(!1,s)},Te.EVENT_COLUMN_PIVOT_CHANGED,s)},o.prototype.removePivotColumn=function(r,s){void 0===s&&(s="api"),this.removePivotColumns([r],s)},o.prototype.setPrimaryColumnList=function(r,s,l,c,p){var v=this;s.length=0,I(r)&&r.forEach(function(F){var B=v.getPrimaryColumn(F);B&&s.push(B)}),(this.primaryColumns||[]).forEach(function(F){var B=s.indexOf(F)>=0;c(B,F)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(p),this.fireColumnEvent(l,s,p)},o.prototype.setValueColumns=function(r,s){void 0===s&&(s="api"),this.setPrimaryColumnList(r,this.valueColumns,Te.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),s)},o.prototype.setValueActive=function(r,s,l){if(r!==s.isValueActive()&&(s.setValueActive(r,l),r&&!s.getAggFunc())){var c=this.aggFuncService.getDefaultAggFunc(s);s.setAggFunc(c)}},o.prototype.addValueColumns=function(r,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(r,this.valueColumns,!0,this.setValueActive.bind(this,!0),Te.EVENT_COLUMN_VALUE_CHANGED,s)},o.prototype.addValueColumn=function(r,s){void 0===s&&(s="api"),r&&this.addValueColumns([r],s)},o.prototype.removeValueColumn=function(r,s){void 0===s&&(s="api"),this.removeValueColumns([r],s)},o.prototype.removeValueColumns=function(r,s){void 0===s&&(s="api"),this.updatePrimaryColumnList(r,this.valueColumns,!1,this.setValueActive.bind(this,!1),Te.EVENT_COLUMN_VALUE_CHANGED,s)},o.prototype.normaliseColumnWidth=function(r,s){var l=r.getMinWidth();I(l)&&s<l&&(s=l);var c=r.getMaxWidth();return I(c)&&r.isGreaterThanMax(s)&&(s=c),s},o.prototype.getPrimaryOrGridColumn=function(r){return this.getPrimaryColumn(r)||this.getGridColumn(r)},o.prototype.setColumnWidths=function(r,s,l,c){var p=this;void 0===c&&(c="api");var v=[];r.forEach(function(F){var B=p.getPrimaryOrGridColumn(F.key);if(B&&(v.push({width:F.newWidth,ratios:[1],columns:[B]}),"shift"===p.gridOptionsWrapper.getColResizeDefault()&&(s=!s),s)){var se=p.getDisplayedColAfter(B);if(!se)return;var fe=B.getActualWidth()-F.newWidth,we=se.getActualWidth()+fe;v.push({width:we,ratios:[1],columns:[se]})}}),0!==v.length&&this.resizeColumnSets({resizeSets:v,finished:l,source:c})},o.prototype.checkMinAndMaxWidthsForSet=function(r){var l=r.width,c=0,p=0,v=!0;return r.columns.forEach(function(q){var se=q.getMinWidth();c+=se||0;var fe=q.getMaxWidth();I(fe)&&fe>0?p+=fe:v=!1}),l>=c&&(!v||l<=p)},o.prototype.resizeColumnSets=function(r){var s=this,l=r.resizeSets,c=r.finished,p=r.source;if(!l||l.every(function(xe){return s.checkMinAndMaxWidthsForSet(xe)})){var B=[],q=[];l.forEach(function(xe){var Pe=xe.width,Be=xe.columns,We=xe.ratios,Ue={},Ze={};Be.forEach(function(Yt){return q.push(Yt)});for(var gt=!0,Ut=0,Sn=function(){if(++Ut>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";gt=!1;var Yt=[],Mn=0,Nn=Pe;Be.forEach(function(Si,Es){Ze[Si.getId()]?Nn-=Ue[Si.getId()]:(Yt.push(Si),Mn+=We[Es])});var Ii=1/Mn;Yt.forEach(function(Si,Es){var Mo;Es===Yt.length-1?Mo=Nn:(Mo=Math.round(We[Es]*Pe*Ii),Nn-=Mo);var tc=Si.getMinWidth(),cl=Si.getMaxWidth();I(tc)&&Mo<tc?(Mo=tc,Ze[Si.getId()]=!0,gt=!0):I(cl)&&cl>0&&Mo>cl&&(Mo=cl,Ze[Si.getId()]=!0,gt=!0),Ue[Si.getId()]=Mo})};gt&&"break"!==Sn(););Be.forEach(function(Yt){var Mn=Ue[Yt.getId()];Yt.getActualWidth()!==Mn&&(Yt.setActualWidth(Mn,p),B.push(Yt))})});var se=B.length>0,fe=[];se&&(fe=this.refreshFlexedColumns({resizingCols:q,skipSetLeft:!0}),this.setLeftValues(p),this.updateBodyWidths(),this.checkViewportColumns());var we=q.concat(fe);(se||c)&&this.fireColumnResizedEvent(we,c,p,fe)}else c&&this.fireColumnResizedEvent(l&&l.length>0?l[0].columns:null,c,p)},o.prototype.setColumnAggFunc=function(r,s,l){if(void 0===l&&(l="api"),r){var c=this.getPrimaryColumn(r);!c||(c.setAggFunc(s),this.fireColumnEvent(Te.EVENT_COLUMN_VALUE_CHANGED,[c],l))}},o.prototype.fireColumnEvent=function(r,s,l){this.eventService.dispatchEvent({type:r,columns:s,column:s&&1==s.length?s[0]:null,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.moveRowGroupColumn=function(r,s,l){void 0===l&&(l="api");var c=this.rowGroupColumns[r];this.rowGroupColumns.splice(r,1),this.rowGroupColumns.splice(s,0,c),this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:l})},o.prototype.moveColumns=function(r,s,l){if(void 0===l&&(l="api"),this.columnAnimationService.start(),s>this.gridColumns.length-r.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+s),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var c=this.getGridColumns(r);!this.doesMovePassRules(c,s)||(Kf(this.gridColumns,c,s),this.updateDisplayedColumns(l),this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_MOVED,columns:c,column:1===c.length?c[0]:null,toIndex:s,api:this.gridApi,columnApi:this.columnApi,source:l}),this.columnAnimationService.finish())},o.prototype.doesMovePassRules=function(r,s){var l=this.gridColumns.slice();return Kf(l,r,s),!(!this.doesMovePassMarryChildren(l)||!this.doesMovePassLockedPositions(l))},o.prototype.sortColumnsLikeGridColumns=function(r){var s=this;!r||r.length<=1||r.filter(function(c){return s.gridColumns.indexOf(c)<0}).length>0||r.sort(function(c,p){return s.gridColumns.indexOf(c)-s.gridColumns.indexOf(p)})},o.prototype.doesMovePassLockedPositions=function(r){var s=0,l=!0;return r.forEach(function(p){var v=function(p){return p?!0===p||"left"===p?0:2:1}(p.getColDef().lockPosition);v<s&&(l=!1),s=v}),l},o.prototype.doesMovePassMarryChildren=function(r){var s=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(l){if(l instanceof Tn){var c=l,p=c.getColGroupDef();if(p&&p.marryChildren){var F=[];c.getLeafColumns().forEach(function(we){var xe=r.indexOf(we);F.push(xe)}),Math.max.apply(Math,F)-Math.min.apply(Math,F)>c.getLeafColumns().length-1&&(s=!1)}}}),s},o.prototype.moveColumn=function(r,s,l){void 0===l&&(l="api"),this.moveColumns([r],s,l)},o.prototype.moveColumnByIndex=function(r,s,l){void 0===l&&(l="api"),this.moveColumn(this.gridColumns[r],s,l)},o.prototype.getColumnDefs=function(){var r=this;if(this.primaryColumns){var s=this.primaryColumns.slice();return this.gridColsArePrimary?s.sort(function(l,c){return r.gridColumns.indexOf(l)-r.gridColumns.indexOf(c)}):this.lastPrimaryOrder&&s.sort(function(l,c){return r.lastPrimaryOrder.indexOf(l)-r.lastPrimaryOrder.indexOf(c)}),this.columnDefFactory.buildColumnDefs(s,this.rowGroupColumns,this.pivotColumns)}},o.prototype.getBodyContainerWidth=function(){return this.bodyWidth},o.prototype.getContainerWidth=function(r){switch(r){case Ie.PINNED_LEFT:return this.leftWidth;case Ie.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},o.prototype.updateBodyWidths=function(){var r=this.getWidthOfColsInList(this.displayedColumnsCenter),s=this.getWidthOfColsInList(this.displayedColumnsLeft),l=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==r,(this.bodyWidth!==r||this.leftWidth!==s||this.rightWidth!==l)&&(this.bodyWidth=r,this.leftWidth=s,this.rightWidth=l,this.eventService.dispatchEvent({type:Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},o.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},o.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},o.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},o.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},o.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},o.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},o.prototype.getDisplayedColumns=function(r){switch(r){case Ie.PINNED_LEFT:return this.getDisplayedLeftColumns();case Ie.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},o.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},o.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},o.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},o.prototype.getAllGridColumns=function(){return this.gridColumns},o.prototype.isEmpty=function(){return S(this.gridColumns)},o.prototype.isRowGroupEmpty=function(){return S(this.rowGroupColumns)},o.prototype.setColumnVisible=function(r,s,l){void 0===l&&(l="api"),this.setColumnsVisible([r],s,l)},o.prototype.setColumnsVisible=function(r,s,l){var c=this;void 0===s&&(s=!1),void 0===l&&(l="api"),this.columnAnimationService.start(),this.actionOnGridColumns(r,function(p){return p.isVisible()!==s&&(p.setVisible(s,l),!0)},l,function(){return{type:Te.EVENT_COLUMN_VISIBLE,visible:s,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:l}}),this.columnAnimationService.finish()},o.prototype.setColumnPinned=function(r,s,l){void 0===l&&(l="api"),r&&this.setColumnsPinned([r],s,l)},o.prototype.setColumnsPinned=function(r,s,l){var p,c=this;void 0===l&&(l="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),p=!0===s||s===Ie.PINNED_LEFT?Ie.PINNED_LEFT:s===Ie.PINNED_RIGHT?Ie.PINNED_RIGHT:null,this.actionOnGridColumns(r,function(v){return v.getPinned()!==p&&(v.setPinned(p),!0)},l,function(){return{type:Te.EVENT_COLUMN_PINNED,pinned:p,column:null,columns:null,api:c.gridApi,columnApi:c.columnApi,source:l}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},o.prototype.actionOnGridColumns=function(r,s,l,c){var p=this;if(!S(r)){var v=[];if(r.forEach(function(B){var q=p.getGridColumn(B);q&&!1!==s(q)&&v.push(q)}),v.length&&(this.updateDisplayedColumns(l),I(c)&&c)){var F=c();F.columns=v,F.column=1===v.length?v[0]:null,this.eventService.dispatchEvent(F)}}},o.prototype.getDisplayedColBefore=function(r){var s=this.getAllDisplayedColumns(),l=s.indexOf(r);return l>0?s[l-1]:null},o.prototype.getDisplayedColAfter=function(r){var s=this.getAllDisplayedColumns(),l=s.indexOf(r);return l<s.length-1?s[l+1]:null},o.prototype.getDisplayedGroupAfter=function(r){return this.getDisplayedGroupAtDirection(r,"After")},o.prototype.getDisplayedGroupBefore=function(r){return this.getDisplayedGroupAtDirection(r,"Before")},o.prototype.getDisplayedGroupAtDirection=function(r,s){for(var l=r.getProvidedColumnGroup().getLevel()+r.getPaddingLevel(),c=r.getDisplayedLeafColumns(),p="After"===s?St(c):c[0],v="getDisplayedCol"+s;;){var F=this[v](p);if(!F)return null;var B=this.getColumnGroupAtLevel(F,l);if(B!==r)return B}},o.prototype.getColumnGroupAtLevel=function(r,s){for(var l=r.getParent();!(l.getProvidedColumnGroup().getLevel()+l.getPaddingLevel()<=s);)l=l.getParent();return l},o.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},o.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},o.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var r;return(r=[]).concat.apply(r,Hu([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},o.prototype.getPrimaryAndAutoGroupCols=function(){var r;return(r=[]).concat.apply(r,Hu([this.primaryColumns||[],this.groupAutoColumns||[]]))},o.prototype.getPrimaryAndSecondaryColumns=function(){var r;return(r=[]).concat.apply(r,Hu([this.primaryColumns||[],this.secondaryColumns||[]]))},o.prototype.createStateItemFromColumn=function(r){var s=r.isRowGroupActive()?this.rowGroupColumns.indexOf(r):null,l=r.isPivotActive()?this.pivotColumns.indexOf(r):null,c=r.isValueActive()?r.getAggFunc():null,p=null!=r.getSort()?r.getSort():null,v=null!=r.getSortIndex()?r.getSortIndex():null,F=null!=r.getFlex()&&r.getFlex()>0?r.getFlex():null;return{colId:r.getColId(),width:r.getActualWidth(),hide:!r.isVisible(),pinned:r.getPinned(),sort:p,sortIndex:v,aggFunc:c,rowGroup:r.isRowGroupActive(),rowGroupIndex:s,pivot:r.isPivotActive(),pivotIndex:l,flex:F}},o.prototype.getColumnState=function(){if(O(this.primaryColumns)||!this.isAlive())return[];var s=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(s),s},o.prototype.orderColumnStateList=function(r){var s=Fs(this.gridColumns.map(function(l,c){return[l.getColId(),c]}));r.sort(function(l,c){return(s.has(l.colId)?s.get(l.colId):-1)-(s.has(c.colId)?s.get(c.colId):-1)})},o.prototype.resetColumnState=function(r){void 0===r&&(r="api");var s=this.getColumnsFromTree(this.primaryColumnTree),l=[],c=1e3,p=1e3,v=[];this.groupAutoColumns&&(v=v.concat(this.groupAutoColumns)),s&&(v=v.concat(s)),v.forEach(function(F){var B=function(An,Yt){return null!=An?An:null!=Yt?Yt:null},q=F.getColDef(),se=B(q.sort,q.initialSort),fe=B(q.sortIndex,q.initialSortIndex),we=B(q.hide,q.initialHide),xe=B(q.pinned,q.initialPinned),Pe=B(q.width,q.initialWidth),Be=B(q.flex,q.initialFlex),We=B(q.rowGroupIndex,q.initialRowGroupIndex),Ue=B(q.rowGroup,q.initialRowGroup);null==We&&(null==Ue||0==Ue)&&(We=null,Ue=null);var Ze=B(q.pivotIndex,q.initialPivotIndex),gt=B(q.pivot,q.initialPivot);null==Ze&&(null==gt||0==gt)&&(Ze=null,gt=null);var Ut=B(q.aggFunc,q.initialAggFunc),Sn={colId:F.getColId(),sort:se,sortIndex:fe,hide:we,pinned:xe,width:Pe,flex:Be,rowGroup:Ue,rowGroupIndex:We,pivot:gt,pivotIndex:Ze,aggFunc:Ut};O(We)&&Ue&&(Sn.rowGroupIndex=c++),O(Ze)&&gt&&(Sn.pivotIndex=p++),l.push(Sn)}),this.applyColumnState({state:l,applyOrder:!0},r)},o.prototype.applyColumnState=function(r,s){var l=this;if(void 0===s&&(s="api"),S(this.primaryColumns))return!1;if(r&&r.state&&!r.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var c=function(B,q,se){var fe=l.compareColumnStatesAndRaiseEvents(s);l.autoGroupsNeedBuilding=!0;var we=q.slice(),xe={},Pe={},Be=[],We=[],Ue=0,Ze=l.rowGroupColumns.slice(),gt=l.pivotColumns.slice();B.forEach(function(Yt){var Mn=Yt.colId||"";if(Mn.startsWith(Ie.GROUP_AUTO_COLUMN_ID))return Be.push(Yt),void We.push(Yt);var Ii=se(Mn);Ii?(l.syncColumnWithStateItem(Ii,Yt,r.defaultState,xe,Pe,!1,s),fi(we,Ii)):(We.push(Yt),Ue+=1)});var Ut=function(Yt){return l.syncColumnWithStateItem(Yt,null,r.defaultState,xe,Pe,!1,s)};we.forEach(Ut);var Sn=function(Yt,Mn,Nn,Ii){var Si=Yt[Nn.getId()],Es=Yt[Ii.getId()],ns=null!=Si,Mo=null!=Es;if(ns&&Mo)return Si-Es;if(ns)return-1;if(Mo)return 1;var tc=Mn.indexOf(Nn),cl=Mn.indexOf(Ii),zd=tc>=0;return zd&&cl>=0?tc-cl:zd?-1:1};l.rowGroupColumns.sort(Sn.bind(l,xe,Ze)),l.pivotColumns.sort(Sn.bind(l,Pe,gt)),l.updateGridColumns();var An=l.groupAutoColumns?l.groupAutoColumns.slice():[];return Be.forEach(function(Yt){var Mn=l.getAutoColumn(Yt.colId);fi(An,Mn),l.syncColumnWithStateItem(Mn,Yt,r.defaultState,null,null,!0,s)}),An.forEach(Ut),l.applyOrderAfterApplyState(r),l.updateDisplayedColumns(s),l.dispatchEverythingChanged(s),fe(),{unmatchedAndAutoStates:We,unmatchedCount:Ue}};this.columnAnimationService.start();var p=c(r.state||[],this.primaryColumns||[],function(B){return l.getPrimaryColumn(B)}),v=p.unmatchedAndAutoStates,F=p.unmatchedCount;return(v.length>0||I(r.defaultState))&&(F=c(v,this.secondaryColumns||[],function(B){return l.getSecondaryColumn(B)}).unmatchedCount),this.columnAnimationService.finish(),0===F},o.prototype.applyOrderAfterApplyState=function(r){var s=this;if(r.applyOrder&&r.state){var l=[],c={};r.state.forEach(function(v){if(v.colId&&!c[v.colId]){var F=s.gridColumnsMap[v.colId];F&&(l.push(F),c[v.colId]=!0)}});var p=0;if(this.gridColumns.forEach(function(v){var F=v.getColId();null!=c[F]||(F.startsWith(Ie.GROUP_AUTO_COLUMN_ID)?Cc(l,v,p++):l.push(v))}),l=this.placeLockedColumns(l),!this.doesMovePassMarryChildren(l))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=l}},o.prototype.compareColumnStatesAndRaiseEvents=function(r){var s=this,l={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},c=this.getColumnState(),p={};return c.forEach(function(v){p[v.colId]=v}),function(){if(!s.gridOptionsWrapper.isSuppressColumnStateEvents()){var v=s.getPrimaryAndSecondaryAndAutoColumns(),F=function(We,Ue,Ze,gt){Fn(Ue.map(gt),Ze.map(gt))||s.eventService.dispatchEvent({type:We,columns:Ze,column:1===Ze.length?Ze[0]:null,api:s.gridApi,columnApi:s.columnApi,source:r})},B=function(We){var Ue=[];return v.forEach(function(Ze){var gt=p[Ze.getColId()];gt&&We(gt,Ze)&&Ue.push(Ze)}),Ue},q=function(We){return We.getColId()};F(Te.EVENT_COLUMN_ROW_GROUP_CHANGED,l.rowGroupColumns,s.rowGroupColumns,q),F(Te.EVENT_COLUMN_PIVOT_CHANGED,l.pivotColumns,s.pivotColumns,q),B(function(We,Ue){var Ze=null!=We.aggFunc,gt=Ze!=Ue.isValueActive(),Ut=Ze&&We.aggFunc!=Ue.getAggFunc();return gt||Ut}).length>0&&s.fireColumnEvent(Te.EVENT_COLUMN_VALUE_CHANGED,s.valueColumns,r),s.fireColumnResizedEvent(B(function(We,Ue){return We.width!=Ue.getActualWidth()}),!0,r),s.raiseColumnPinnedEvent(B(function(We,Ue){return We.pinned!=Ue.getPinned()}),r),s.raiseColumnVisibleEvent(B(function(We,Ue){return We.hide==Ue.isVisible()}),r),B(function(We,Ue){return We.sort!=Ue.getSort()||We.sortIndex!=Ue.getSortIndex()}).length>0&&s.sortController.dispatchSortChangedEvents(r),s.raiseColumnMovedEvent(c,r)}}},o.prototype.raiseColumnPinnedEvent=function(r,s){if(r.length){var l=1===r.length?r[0]:null,c=this.getCommonValue(r,function(v){return v.getPinned()});this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_PINNED,pinned:null!=c?c:null,columns:r,column:l,api:this.gridApi,columnApi:this.columnApi,source:s})}},o.prototype.getCommonValue=function(r,s){if(r&&0!=r.length){for(var l=s(r[0]),c=1;c<r.length;c++)if(l!==s(r[c]))return;return l}},o.prototype.raiseColumnVisibleEvent=function(r,s){if(r.length){var l=1===r.length?r[0]:null,c=this.getCommonValue(r,function(v){return v.isVisible()});this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_VISIBLE,visible:c,columns:r,column:l,api:this.gridApi,columnApi:this.columnApi,source:s})}},o.prototype.raiseColumnMovedEvent=function(r,s){var l=this,c=this.getColumnState(),p={};c.forEach(function(fe){return p[fe.colId]=fe});var v={};r.forEach(function(fe){p[fe.colId]&&(v[fe.colId]=!0)});var F=r.filter(function(fe){return v[fe.colId]}),B=c.filter(function(fe){return v[fe.colId]}),q=[];B.forEach(function(fe,we){var xe=F&&F[we];if(xe&&xe.colId!==fe.colId){var Pe=l.getGridColumn(xe.colId);Pe&&q.push(Pe)}}),q.length&&this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_MOVED,columns:q,column:null,api:this.gridApi,columnApi:this.columnApi,source:s})},o.prototype.syncColumnWithStateItem=function(r,s,l,c,p,v,F){if(r){var B=function(Mn,Nn){var Ii={value1:void 0,value2:void 0},Si=!1;return s&&(void 0!==s[Mn]&&(Ii.value1=s[Mn],Si=!0),I(Nn)&&void 0!==s[Nn]&&(Ii.value2=s[Nn],Si=!0)),!Si&&l&&(void 0!==l[Mn]&&(Ii.value1=l[Mn]),I(Nn)&&void 0!==l[Nn]&&(Ii.value2=l[Nn])),Ii},q=B("hide").value1;void 0!==q&&r.setVisible(!q,F);var se=B("pinned").value1;void 0!==se&&r.setPinned(se);var fe=this.columnUtils.calculateColMinWidth(r.getColDef()),we=B("flex").value1;if(void 0!==we&&r.setFlex(we),r.getFlex()<=0){var Pe=B("width").value1;null!=Pe&&null!=fe&&Pe>=fe&&r.setActualWidth(Pe,F)}var Be=B("sort").value1;void 0!==Be&&r.setSort(Be===Ie.SORT_DESC||Be===Ie.SORT_ASC?Be:void 0,F);var We=B("sortIndex").value1;if(void 0!==We&&r.setSortIndex(We),!v&&r.isPrimary()){var Ue=B("aggFunc").value1;void 0!==Ue&&("string"==typeof Ue?(r.setAggFunc(Ue),r.isValueActive()||(r.setValueActive(!0,F),this.valueColumns.push(r))):(I(Ue)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),r.isValueActive()&&(r.setValueActive(!1,F),fi(this.valueColumns,r))));var Ze=B("rowGroup","rowGroupIndex"),gt=Ze.value1,Ut=Ze.value2;(void 0!==gt||void 0!==Ut)&&("number"==typeof Ut||gt?(r.isRowGroupActive()||(r.setRowGroupActive(!0,F),this.rowGroupColumns.push(r)),c&&"number"==typeof Ut&&(c[r.getId()]=Ut)):r.isRowGroupActive()&&(r.setRowGroupActive(!1,F),fi(this.rowGroupColumns,r)));var Sn=B("pivot","pivotIndex"),An=Sn.value1,Yt=Sn.value2;(void 0!==An||void 0!==Yt)&&("number"==typeof Yt||An?(r.isPivotActive()||(r.setPivotActive(!0,F),this.pivotColumns.push(r)),p&&"number"==typeof Yt&&(p[r.getId()]=Yt)):r.isPivotActive()&&(r.setPivotActive(!1,F),fi(this.pivotColumns,r)))}}},o.prototype.getGridColumns=function(r){return this.getColumns(r,this.getGridColumn.bind(this))},o.prototype.getColumns=function(r,s){var l=[];return r&&r.forEach(function(c){var p=s(c);p&&l.push(p)}),l},o.prototype.getColumnWithValidation=function(r){if(null==r)return null;var s=this.getGridColumn(r);return s||console.warn("AG Grid: could not find column "+r),s},o.prototype.getPrimaryColumn=function(r){return this.primaryColumns?this.getColumn(r,this.primaryColumns,this.primaryColumnsMap):null},o.prototype.getGridColumn=function(r){return this.getColumn(r,this.gridColumns,this.gridColumnsMap)},o.prototype.getSecondaryColumn=function(r){return this.secondaryColumns?this.getColumn(r,this.secondaryColumns,this.secondaryColumnsMap):null},o.prototype.getColumn=function(r,s,l){if(!r)return null;if("string"==typeof r&&l[r])return l[r];for(var c=0;c<s.length;c++)if(this.columnsMatch(s[c],r))return s[c];return this.getAutoColumn(r)},o.prototype.getAutoColumn=function(r){var s=this;return this.groupAutoColumns&&I(this.groupAutoColumns)&&!O(this.groupAutoColumns)&&this.groupAutoColumns.find(function(l){return s.columnsMatch(l,r)})||null},o.prototype.columnsMatch=function(r,s){var l=r===s,c=r.getColDef()===s,p=r.getColId()==s;return l||c||p},o.prototype.getDisplayNameForColumn=function(r,s,l){if(void 0===l&&(l=!1),!r)return null;var c=this.getHeaderName(r.getColDef(),r,null,null,s);return l?this.wrapHeaderNameWithAggFunc(r,c):c},o.prototype.getDisplayNameForProvidedColumnGroup=function(r,s,l){var c=s?s.getColGroupDef():null;return c?this.getHeaderName(c,null,r,s,l):null},o.prototype.getDisplayNameForColumnGroup=function(r,s){return this.getDisplayNameForProvidedColumnGroup(r,r.getProvidedColumnGroup(),s)},o.prototype.getHeaderName=function(r,s,l,c,p){var v=r.headerValueGetter;if(v){var F={colDef:r,column:s,columnGroup:l,providedColumnGroup:c,location:p,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof v?v(F):"string"==typeof v?this.expressionService.evaluate(v,F):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=r.headerName?r.headerName:r.field?kv(r.field):""},o.prototype.wrapHeaderNameWithAggFunc=function(r,s){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return s;var v,l=r.getColDef().pivotValueColumn,p=null;if(I(l)){var F=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,B=void 0!==r.getColDef().pivotTotalColumnIds;if(F&&!B)return s;p=l?l.getAggFunc():null,v=!0}else{var q=r.isValueActive(),se=this.pivotMode||!this.isRowGroupEmpty();q&&se?(p=r.getAggFunc(),v=!0):v=!1}if(v){var fe="string"==typeof p?p:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(fe,fe)+"("+s+")"}return s},o.prototype.getColumnGroup=function(r,s){if(!r)return null;if(r instanceof br)return r;var l=this.getAllDisplayedTrees(),c="number"==typeof s,p=null;return this.columnUtils.depthFirstAllColumnTreeSearch(l,function(v){if(v instanceof br){var F=v;(c?r===F.getGroupId()&&s===F.getInstanceId():r===F.getGroupId())&&(p=F)}}),p},o.prototype.isReady=function(){return this.ready},o.prototype.extractValueColumns=function(r,s){this.valueColumns=this.extractColumns(s,this.valueColumns,function(l,c){return l.setValueActive(c,r)},function(){},function(){},function(l){var c=l.aggFunc;return null===c||""===c?null:void 0!==c?!!c:void 0},function(l){return null!=l.initialAggFunc&&""!=l.initialAggFunc}),this.valueColumns.forEach(function(l){var c=l.getColDef();null!=c.aggFunc&&""!=c.aggFunc?l.setAggFunc(c.aggFunc):l.getAggFunc()||l.setAggFunc(c.initialAggFunc)})},o.prototype.extractRowGroupColumns=function(r,s){this.rowGroupColumns=this.extractColumns(s,this.rowGroupColumns,function(l,c){return l.setRowGroupActive(c,r)},function(l){return l.rowGroupIndex},function(l){return l.initialRowGroupIndex},function(l){return l.rowGroup},function(l){return l.initialRowGroup})},o.prototype.extractColumns=function(r,s,l,c,p,v,F){void 0===r&&(r=[]),void 0===s&&(s=[]);var B=[],q=[];(this.primaryColumns||[]).forEach(function(we){var xe=r.indexOf(we)<0,Pe=we.getColDef(),Be=_(v(Pe)),We=_(F(Pe)),Ue=C(c(Pe)),Ze=C(p(Pe));(void 0!==Be?Be:void 0!==Ue?null!==Ue&&Ue>=0:xe?void 0!==We?We:void 0!==Ze&&null!=Ze&&Ze>=0:s.indexOf(we)>=0)&&((xe?null!=Ue||null!=Ze:null!=Ue)?B.push(we):q.push(we))});var se=function(we){var xe=c(we.getColDef()),Pe=p(we.getColDef());return null!=xe?xe:Pe};B.sort(function(we,xe){var Pe=se(we),Be=se(xe);return Pe===Be?0:Pe<Be?-1:1});var fe=[].concat(B);return s.forEach(function(we){q.indexOf(we)>=0&&fe.push(we)}),q.forEach(function(we){fe.indexOf(we)<0&&fe.push(we)}),s.forEach(function(we){fe.indexOf(we)<0&&l(we,!1)}),fe.forEach(function(we){s.indexOf(we)<0&&l(we,!0)}),fe},o.prototype.extractPivotColumns=function(r,s){this.pivotColumns=this.extractColumns(s,this.pivotColumns,function(l,c){return l.setPivotActive(c,r)},function(l){return l.pivotIndex},function(l){return l.initialPivotIndex},function(l){return l.pivot},function(l){return l.initialPivot})},o.prototype.resetColumnGroupState=function(r){void 0===r&&(r="api");var s=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(l){if(l instanceof Tn){var c=l.getColGroupDef(),p={groupId:l.getGroupId(),open:c?c.openByDefault:void 0};s.push(p)}}),this.setColumnGroupState(s,r)},o.prototype.getColumnGroupState=function(){var r=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(s){s instanceof Tn&&r.push({groupId:s.getGroupId(),open:s.isExpanded()})}),r},o.prototype.setColumnGroupState=function(r,s){var l=this;void 0===s&&(s="api"),this.columnAnimationService.start();var c=[];r.forEach(function(p){var F=p.open,B=l.getProvidedColumnGroup(p.groupId);!B||B.isExpanded()!==F&&(l.logger.log("columnGroupOpened("+B.getGroupId()+","+F+")"),B.setExpanded(F),c.push(B))}),this.updateGroupsAndDisplayedColumns(s),this.setFirstRightAndLastLeftPinned(s),c.forEach(function(p){l.eventService.dispatchEvent({type:Te.EVENT_COLUMN_GROUP_OPENED,columnGroup:p,api:l.gridApi,columnApi:l.columnApi})}),this.columnAnimationService.finish()},o.prototype.setColumnGroupOpened=function(r,s,l){var c;void 0===l&&(l="api"),c=r instanceof Tn?r.getId():r||"",this.setColumnGroupState([{groupId:c,open:s}],l)},o.prototype.getProvidedColumnGroup=function(r){"string"!=typeof r&&console.error("AG Grid: group key must be a string");var s=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(l){l instanceof Tn&&l.getId()===r&&(s=l)}),s},o.prototype.calculateColumnsForDisplay=function(){var r=this;return this.pivotMode&&O(this.secondaryColumns)?this.gridColumns.filter(function(l){var c=r.groupAutoColumns&&So(r.groupAutoColumns,l),p=r.valueColumns&&So(r.valueColumns,l);return c||p}):this.gridColumns.filter(function(l){return r.groupAutoColumns&&So(r.groupAutoColumns,l)||l.isVisible()})},o.prototype.checkColSpanActiveInCols=function(r){var s=!1;return r.forEach(function(l){I(l.getColDef().colSpan)&&(s=!0)}),s},o.prototype.calculateColumnsForGroupDisplay=function(){var r=this;this.groupDisplayColumns=[];var s=function(l){var c=l.getColDef();c&&I(c.showRowGroup)&&r.groupDisplayColumns.push(l)};this.gridColumns.forEach(s),this.groupAutoColumns&&this.groupAutoColumns.forEach(s)},o.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},o.prototype.updateDisplayedColumns=function(r){var s=this.calculateColumnsForDisplay();this.buildDisplayedTrees(s),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r)},o.prototype.isSecondaryColumnsPresent=function(){return I(this.secondaryColumns)},o.prototype.setSecondaryColumns=function(r,s){var l=this;void 0===s&&(s="api");var c=r&&r.length>0;if(c||!O(this.secondaryColumns)){if(c){this.processSecondaryColumnDefinitions(r);var p=this.columnFactory.createColumnTree(r,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=p.columnTree,this.secondaryHeaderRowCount=p.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(v){return l.secondaryColumnsMap[v.getId()]=v}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(s)}},o.prototype.processSecondaryColumnDefinitions=function(r){var s=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),l=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(s||l){var c=function(p){p.forEach(function(v){if(I(v.children)){var B=v;l&&l(B),c(B.children)}else s&&s(v)})};r&&c(r)}},o.prototype.updateGridColumns=function(){var r=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.every(function(c){return void 0!==r.gridColumnsMap[c.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(c){return r.gridColumnsMap[c.getId()]=c}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:Te.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(c){return c.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var r=this.rowModel.getType();r!==Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&r!==Ie.ROW_MODEL_TYPE_SERVER_SIDE&&ze(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},o.prototype.orderGridColsLike=function(r){if(!O(r)){var s=Fs(r.map(function(q,se){return[q,se]})),l=!0;if(this.gridColumns.forEach(function(q){s.has(q)&&(l=!1)}),!l){var c=Fs(this.gridColumns.map(function(q){return[q,!0]})),p=r.filter(function(q){return c.has(q)}),v=Fs(p.map(function(q){return[q,!0]})),F=this.gridColumns.filter(function(q){return!v.has(q)}),B=p.slice();F.forEach(function(q){var se=q.getOriginalParent();if(se){for(var fe=[];!fe.length&&se;)se.getLeafColumns().forEach(function(Be){var We=B.indexOf(Be)>=0,Ue=fe.indexOf(Be)<0;We&&Ue&&fe.push(Be)}),se=se.getOriginalParent();if(fe.length){var xe=fe.map(function(Be){return B.indexOf(Be)}),Pe=Math.max.apply(Math,Hu(xe));Cc(B,q,Pe+1)}else B.push(q)}else B.push(q)}),this.gridColumns=B}}},o.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},o.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},o.prototype.placeLockedColumns=function(r){var s=[],l=[],c=[];return r.forEach(function(p){var v=p.getColDef().lockPosition;"right"===v?c.push(p):"left"===v||!0===v?s.push(p):l.push(p)}),Hu(s,l,c)},o.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!O(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var r=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=r.concat(this.gridBalancedTree)}},o.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},o.prototype.updateGroupsAndDisplayedColumns=function(r){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(r),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:Te.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.deriveDisplayedColumns=function(r){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(r),this.displayedAutoHeightCols=this.displayedColumns.filter(function(s){return s.isAutoHeight()})},o.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},o.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},o.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},o.prototype.setLeftValues=function(r){this.setLeftValuesOfColumns(r),this.setLeftValuesOfGroups()},o.prototype.setLeftValuesOfColumns=function(r){var s=this;if(this.primaryColumns){var l=this.primaryColumns.slice(0),c=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(p){if(c){var v=s.getWidthOfColsInList(p);p.forEach(function(B){v-=B.getActualWidth(),B.setLeft(v,r)})}else{var F=0;p.forEach(function(B){B.setLeft(F,r),F+=B.getActualWidth()})}ja(l,p)}),l.forEach(function(p){p.setLeft(null,r)})}},o.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(r){r.forEach(function(s){s instanceof br&&s.checkLeft()})})},o.prototype.derivedDisplayedColumnsFromDisplayedTree=function(r,s){s.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(r,function(l){l instanceof at&&s.push(l)})},o.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},o.prototype.getVirtualHeaderGroupRow=function(r,s){var l;switch(r){case Ie.PINNED_LEFT:l=this.viewportRowLeft[s];break;case Ie.PINNED_RIGHT:l=this.viewportRowRight[s];break;default:l=this.viewportRowCenter[s]}return O(l)&&(l=[]),l},o.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var r={};this.viewportColumns.forEach(function(l){return r[l.getId()]=!0});var s=function(l,c,p){for(var v=!1,F=0;F<l.length;F++){var B=l[F],q=!1;if(B instanceof at)q=!0===r[B.getId()];else{var fe=B.getDisplayedChildren();fe&&(q=s(fe,c,p+1))}q&&(v=!0,c[p]||(c[p]=[]),c[p].push(B))}return v};s(this.displayedTreeLeft,this.viewportRowLeft,0),s(this.displayedTreeRight,this.viewportRowRight,0),s(this.displayedTreeCentre,this.viewportRowCenter,0)},o.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},o.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},o.prototype.refreshFlexedColumns=function(r){var s=this;void 0===r&&(r={});var l=r.source?r.source:"flex";if(null!=r.viewportWidth&&(this.flexViewportWidth=r.viewportWidth),!this.flexViewportWidth)return[];var c=-1;r.resizingCols&&r.resizingCols.forEach(function(gt){var Ut=s.displayedColumnsCenter.indexOf(gt);c<Ut&&(c=Ut)});var p=function(gt){var Ut=s.displayedColumnsCenter.indexOf(gt)>c;return gt.getFlex()&&Ut},v=this.displayedColumnsCenter.filter(function(gt){return!p(gt)}),F=this.displayedColumnsCenter.filter(function(gt){return p(gt)}),B=[];if(!F.length)return[];var se,q=[];e:for(;;){var fe=F.reduce(function(gt,Ut){return gt+Ut.getFlex()},0);se=this.flexViewportWidth-this.getWidthOfColsInList(v);for(var we=0;we<F.length;we++){var xe=F[we],Pe=se*xe.getFlex()/fe,Be=0,We=xe.getMinWidth(),Ue=xe.getMaxWidth();if(I(We)&&Pe<We?Be=We:I(Ue)&&Pe>Ue&&(Be=Ue),Be){xe.setActualWidth(Be,l),fi(F,xe),B.push(xe),v.push(xe);continue e}q[we]=Math.round(Pe)}break}var Ze=se;return F.forEach(function(gt,Ut){gt.setActualWidth(Math.min(q[Ut],Ze),l),B.push(gt),Ze-=q[Ut]}),r.skipSetLeft||this.setLeftValues(l),r.updateBodyWidths&&this.updateBodyWidths(),r.fireResizedEvent&&this.fireColumnResizedEvent(B,!0,l,F),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),F},o.prototype.sizeColumnsToFit=function(r,s,l){void 0===s&&(s="sizeColumnsToFit");var c=this.getAllDisplayedColumns();if(!(r<=0)&&c.length){var p=[],v=[];c.forEach(function(Ze){!0===Ze.getColDef().suppressSizeToFit?v.push(Ze):p.push(Ze)});var F=p.slice(0),B=!1,q=function(Ze){fi(p,Ze),v.push(Ze)};for(p.forEach(function(Ze){return Ze.resetActualWidth(s)});!B;){B=!0;var se=r-this.getWidthOfColsInList(v);if(se<=0)p.forEach(function(Ze){Ze.setMinimum(s)});else for(var fe=se/this.getWidthOfColsInList(p),we=se,xe=p.length-1;xe>=0;xe--){var Pe=p[xe],Be=Pe.getMinWidth(),We=Pe.getMaxWidth(),Ue=Math.round(Pe.getActualWidth()*fe);I(Be)&&Ue<Be?(Ue=Be,q(Pe),B=!1):I(We)&&Pe.isGreaterThanMax(Ue)?(Ue=We,q(Pe),B=!1):0===xe&&(Ue=we),Pe.setActualWidth(Ue,s,!0),we-=Ue}}F.forEach(function(Ze){Ze.fireColumnWidthChangedEvent(s)}),this.setLeftValues(s),this.updateBodyWidths(),!l&&this.fireColumnResizedEvent(F,!0,s)}},o.prototype.buildDisplayedTrees=function(r){var s=[],l=[],c=[];r.forEach(function(v){switch(v.getPinned()){case"left":s.push(v);break;case"right":l.push(v);break;default:c.push(v)}});var p=new li;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(s,this.gridBalancedTree,p,Ie.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(l,this.gridBalancedTree,p,Ie.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,p,null,this.displayedTreeCentre),this.updateDisplayedMap()},o.prototype.updateDisplayedMap=function(){var r=this;this.displayedColumnsAndGroupsMap={};var s=function(l){r.displayedColumnsAndGroupsMap[l.getUniqueId()]=l};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,s),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,s)},o.prototype.isDisplayed=function(r){return this.displayedColumnsAndGroupsMap[r.getUniqueId()]===r},o.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var r=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(r,function(s){s instanceof br&&s.calculateDisplayedColumns()})},o.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},o.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),s=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||s||r)this.groupAutoColumns=null;else{var v=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(v,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=v)}}},o.prototype.autoColsEqual=function(r,s){return Fn(r,s,function(l,c){return l.getColId()===c.getColId()})},o.prototype.getWidthOfColsInList=function(r){return r.reduce(function(s,l){return s+l.getActualWidth()},0)},o.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},o.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(s){return s.getColDef().floatingFilter})},o.prototype.getFirstDisplayedColumn=function(){var r=this.gridOptionsWrapper.isEnableRtl(),s=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];r&&s.reverse();for(var l=0;l<s.length;l++){var c=this[s[l]]();if(c.length)return r?St(c):c[0]}return null},hr([de("expressionService")],o.prototype,"expressionService",void 0),hr([de("columnFactory")],o.prototype,"columnFactory",void 0),hr([de("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),hr([de("ctrlsService")],o.prototype,"ctrlsService",void 0),hr([de("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),hr([de("columnUtils")],o.prototype,"columnUtils",void 0),hr([de("columnAnimationService")],o.prototype,"columnAnimationService",void 0),hr([de("autoGroupColService")],o.prototype,"autoGroupColService",void 0),hr([gn("aggFuncService")],o.prototype,"aggFuncService",void 0),hr([gn("valueCache")],o.prototype,"valueCache",void 0),hr([gn("animationFrameService")],o.prototype,"animationFrameService",void 0),hr([de("rowModel")],o.prototype,"rowModel",void 0),hr([de("columnApi")],o.prototype,"columnApi",void 0),hr([de("gridApi")],o.prototype,"gridApi",void 0),hr([de("sortController")],o.prototype,"sortController",void 0),hr([de("columnDefFactory")],o.prototype,"columnDefFactory",void 0),hr([tt],o.prototype,"init",null),hr([Ph(0,oi("loggerFactory"))],o.prototype,"setBeans",null),hr([ut("columnModel")],o)}(ft),fa=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),bx=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return fa(o,u),o.prototype.calculateColMinWidth=function(r){return null!=r.minWidth?r.minWidth:this.gridOptionsWrapper.getMinColWidth()},o.prototype.calculateColMaxWidth=function(r){return null!=r.maxWidth?r.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},o.prototype.calculateColInitialWidth=function(r){var c,s=this.calculateColMinWidth(r),l=this.calculateColMaxWidth(r),p=C(r.width),v=C(r.initialWidth);return c=null!=p?p:null!=v?v:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(c,l),s)},o.prototype.getOriginalPathForColumn=function(r,s){var l=[],c=!1,p=function(v,F){for(var B=0;B<v.length;B++){if(c)return;var q=v[B];q instanceof Tn?(p(q.getChildren(),F+1),l[F]=q):q===r&&(c=!0)}};return p(s,0),c?l:null},o.prototype.depthFirstOriginalTreeSearch=function(r,s,l){var c=this;!s||s.forEach(function(p){p instanceof Tn&&c.depthFirstOriginalTreeSearch(p,p.getChildren(),l),l(p,r)})},o.prototype.depthFirstAllColumnTreeSearch=function(r,s){var l=this;!r||r.forEach(function(c){c instanceof br&&l.depthFirstAllColumnTreeSearch(c.getChildren(),s),s(c)})},o.prototype.depthFirstDisplayedColumnTreeSearch=function(r,s){var l=this;!r||r.forEach(function(c){c instanceof br&&l.depthFirstDisplayedColumnTreeSearch(c.getDisplayedChildren(),s),s(c)})},o=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut("columnUtils")],o),o}(ft),tR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Rv=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return tR(o,u),o.prototype.createDisplayedGroups=function(r,s,l,c,p){var B,q,v=this,F=[],se=this.mapOldGroupsById(p);return r.forEach(function(fe){for(var we=v.getOriginalPathForColumn(s,fe),xe=[],Pe=!q,Be=0;Be<we.length;Be++)if(Pe||we[Be]!==q[Be]){var We=v.createColumnGroup(we[Be],l,se,c);xe[Be]=We,0==Be?F.push(We):xe[Be-1].addChild(We)}else xe[Be]=B[Be];0===xe.length?F.push(fe):St(xe).addChild(fe),B=xe,q=we}),this.setupParentsIntoColumns(F,null),F},o.prototype.createColumnGroup=function(r,s,l,c){var p=r.getGroupId(),v=s.getInstanceIdForKey(p),B=l[br.createUniqueId(p,v)];return B&&B.getProvidedColumnGroup()!==r&&(B=null),I(B)?B.reset():(B=new br(r,p,v,c),this.context.createBean(B)),B},o.prototype.mapOldGroupsById=function(r){var s={},l=function(c){c.forEach(function(p){if(p instanceof br){var v=p;s[p.getUniqueId()]=v,l(v.getChildren())}})};return r&&l(r),s},o.prototype.setupParentsIntoColumns=function(r,s){var l=this;r.forEach(function(c){if(c.setParent(s),c instanceof br){var p=c;l.setupParentsIntoColumns(p.getChildren(),p)}})},o.prototype.getOriginalPathForColumn=function(r,s){var l=[],c=!1,p=function(v,F){for(var B=0;B<v.length;B++){if(c)return;var q=v[B];q instanceof Tn?(p(q.getChildren(),F+1),l[F]=q):q===s&&(c=!0)}};return p(r,0),c?l:(console.warn("AG Grid: could not get path"),null)},o=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut("displayedGroupCreator")],o),o}(ft),iR=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},ga=function(){function u(){}return u.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],u.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],u.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],u.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],u.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges"],u.ALL_PROPERTIES=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(iR(arguments[o]));return u}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),zr=function(){return zr=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},zr.apply(this,arguments)},Di=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},xx=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(Di(arguments[o]));return u},Tl=function(){function u(){}return u.getEventCallbacks=function(){return u.EVENT_CALLBACKS||(u.EVENT_CALLBACKS=u.EVENTS.map(function(o){return u.getCallbackForEvent(o)})),u.EVENT_CALLBACKS},u.copyAttributesToGridOptions=function(o,r,s){"object"!=typeof o&&(o={});var l=o,c=function(p){return void 0!==r[p]};return c("groupAggFiltering")&&"function"!=typeof r.groupAggFiltering&&(l.groupAggFiltering=u.toBoolean(r.groupAggFiltering),delete r.groupAggFiltering),xx(u.ARRAY_PROPERTIES,u.STRING_PROPERTIES,u.OBJECT_PROPERTIES,u.FUNCTION_PROPERTIES,u.getEventCallbacks()).filter(c).forEach(function(p){return l[p]=r[p]}),u.BOOLEAN_PROPERTIES.filter(c).forEach(function(p){return l[p]=u.toBoolean(r[p])}),u.NUMBER_PROPERTIES.filter(c).forEach(function(p){return l[p]=u.toNumber(r[p])}),o},u.getCallbackForEvent=function(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substr(1)},u.processOnChange=function(o,r,s,l){if(o){var c=zr({},o),p=r,v=function(q){return c[q]};v("groupAggFiltering")&&(p.groupAggFiltering="function"==typeof c.groupAggFiltering?c.groupAggFiltering:u.toBoolean(c.groupAggFiltering),delete c.groupAggFiltering),c.rowClass&&(s.setRowClass(c.rowClass.currentValue),delete c.rowClass),xx(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.getEventCallbacks()).filter(v).forEach(function(q){return p[q]=c[q].currentValue}),u.BOOLEAN_PROPERTIES.filter(v).forEach(function(q){return p[q]=u.toBoolean(c[q].currentValue)}),u.NUMBER_PROPERTIES.filter(v).forEach(function(q){return p[q]=u.toNumber(c[q].currentValue)}),c.enableCellTextSelection&&(s.setEnableCellTextSelection(u.toBoolean(c.enableCellTextSelection.currentValue)),delete c.enableCellTextSelection),c.quickFilterText&&(s.setQuickFilter(c.quickFilterText.currentValue),delete c.quickFilterText),c.autoGroupColumnDef&&(s.setAutoGroupColumnDef(c.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete c.autoGroupColumnDef),c.columnDefs&&(s.setColumnDefs(c.columnDefs.currentValue,"gridOptionsChanged"),delete c.columnDefs),c.defaultColDef&&(s.setDefaultColDef(c.defaultColDef.currentValue,"gridOptionsChanged"),delete c.defaultColDef),c.paginationPageSize&&(s.paginationSetPageSize(u.toNumber(c.paginationPageSize.currentValue)),delete c.paginationPageSize),c.pivotMode&&(l.setPivotMode(u.toBoolean(c.pivotMode.currentValue)),delete c.pivotMode),c.groupRemoveSingleChildren&&(s.setGroupRemoveSingleChildren(u.toBoolean(c.groupRemoveSingleChildren.currentValue)),delete c.groupRemoveSingleChildren),c.suppressRowDrag&&(s.setSuppressRowDrag(u.toBoolean(c.suppressRowDrag.currentValue)),delete c.suppressRowDrag),c.suppressMoveWhenRowDragging&&(s.setSuppressMoveWhenRowDragging(u.toBoolean(c.suppressMoveWhenRowDragging.currentValue)),delete c.suppressMoveWhenRowDragging),c.suppressRowClickSelection&&(s.setSuppressRowClickSelection(u.toBoolean(c.suppressRowClickSelection.currentValue)),delete c.suppressRowClickSelection),c.suppressClipboardPaste&&(s.setSuppressClipboardPaste(u.toBoolean(c.suppressClipboardPaste.currentValue)),delete c.suppressClipboardPaste),c.headerHeight&&(s.setHeaderHeight(u.toNumber(c.headerHeight.currentValue)),delete c.headerHeight);var F=s;Object.keys(c).forEach(function(q){var se="set"+q.charAt(0).toUpperCase()+q.substring(1);F[se]&&F[se](o[q].currentValue)});var B={type:Te.EVENT_COMPONENT_STATE_CHANGED,api:r.api,columnApi:r.columnApi};E(o,function(q,se){B[q]=se}),s.dispatchEvent(B)}},u.toBoolean=function(o){return"boolean"==typeof o?o:"string"==typeof o&&("TRUE"===o.toUpperCase()||""==o)},u.toNumber=function(o){return"number"==typeof o?o:"string"==typeof o?Number(o):void 0},u.EVENTS=[],u.PUBLIC_EVENTS=[],u.EXCLUDED_INTERNAL_EVENTS=[],u.STRING_PROPERTIES=ga.STRING_PROPERTIES,u.OBJECT_PROPERTIES=ga.OBJECT_PROPERTIES,u.ARRAY_PROPERTIES=ga.ARRAY_PROPERTIES,u.NUMBER_PROPERTIES=ga.NUMBER_PROPERTIES,u.BOOLEAN_PROPERTIES=ga.BOOLEAN_PROPERTIES,u.FUNCTION_PROPERTIES=ga.FUNCTION_PROPERTIES,u.ALL_PROPERTIES=ga.ALL_PROPERTIES,u}();Tl.EVENTS=b(Te),Tl.EXCLUDED_INTERNAL_EVENTS=[Te.EVENT_SCROLLBAR_WIDTH_CHANGED,Te.EVENT_CHECKBOX_CHANGED,Te.EVENT_HEIGHT_SCALE_CHANGED,Te.EVENT_BODY_HEIGHT_CHANGED,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Te.EVENT_SCROLL_VISIBILITY_CHANGED,Te.EVENT_COLUMN_HOVER_CHANGED,Te.EVENT_FLASH_CELLS,Te.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Te.EVENT_DISPLAYED_ROWS_CHANGED,Te.EVENT_LEFT_PINNED_WIDTH_CHANGED,Te.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Te.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Te.EVENT_POPUP_TO_FRONT,Te.EVENT_KEYBOARD_FOCUS,Te.EVENT_MOUSE_FOCUS,Te.EVENT_STORE_UPDATED,Te.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Te.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Te.EVENT_FILL_START,Te.EVENT_FILL_END,Te.EVENT_FULL_WIDTH_ROW_FOCUSED],Tl.PUBLIC_EVENTS=Tl.EVENTS.filter(function(u){return!So(Tl.EXCLUDED_INTERNAL_EVENTS,u)});var rR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Sx=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.componentsMappedByName={},r}return rR(o,u),o.prototype.setupComponents=function(r){var s=this;r&&r.forEach(function(l){return s.addComponent(l)})},o.prototype.addComponent=function(r){var l=r.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[l]=r.componentClass},o.prototype.getComponentClass=function(r){return this.componentsMappedByName[r]},o=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut("agStackComponentsRegistry")],o),o}(ft),on=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},Ih=function(){function u(){}return u.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],u.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],u.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],u.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],u.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],u.ALL_PROPERTIES=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(on(arguments[o]));return u}(u.ARRAY_PROPERTIES,u.OBJECT_PROPERTIES,u.STRING_PROPERTIES,u.NUMBER_PROPERTIES,u.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],u.BOOLEAN_PROPERTIES),u.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],u}(),Ov=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},xc=function(){function u(o,r,s,l){void 0===l&&(l=1),this.r=Math.min(1,Math.max(0,o||0)),this.g=Math.min(1,Math.max(0,r||0)),this.b=Math.min(1,Math.max(0,s||0)),this.a=Math.min(1,Math.max(0,l||0))}return u.fromString=function(o){if(o.indexOf("#")>=0)return u.fromHexString(o);var r=u.nameToHex[o];if(r)return u.fromHexString(r);if(o.indexOf("rgb")>=0)return u.fromRgbaString(o);throw new Error("Invalid color string: '"+o+"'")},u.parseHex=function(o){var r;switch((o=o.replace(/ /g,"").slice(1)).length){case 6:case 8:r=[];for(var s=0;s<o.length;s+=2)r.push(parseInt(""+o[s]+o[s+1],16));break;case 3:case 4:r=o.split("").map(function(l){return parseInt(l,16)}).map(function(l){return l+16*l})}if(r.length>=3&&r.every(function(l){return l>=0}))return 3===r.length&&r.push(255),r},u.fromHexString=function(o){var r=u.parseHex(o);if(r){var s=Ov(r,4);return new u(s[0]/255,s[1]/255,s[2]/255,s[3]/255)}throw new Error("Malformed hexadecimal color string: '"+o+"'")},u.stringToRgba=function(o){for(var r=Ov([NaN,NaN],2),s=r[0],l=r[1],c=0;c<o.length;c++){var p=o[c];if(s||"("!==p){if(")"===p){l=c;break}}else s=c}var v=s&&l&&o.substring(s+1,l);if(v){var F=v.split(","),B=[];for(c=0;c<F.length;c++){var q=F[c],se=parseFloat(q);if(isNaN(se))return;q.indexOf("%")>=0?(se=Math.max(0,Math.min(100,se)),se/=100):3===c?se=Math.max(0,Math.min(1,se)):(se=Math.max(0,Math.min(255,se)),se/=255),B.push(se)}return B}},u.fromRgbaString=function(o){var r=u.stringToRgba(o);if(r){if(3===r.length)return new u(r[0],r[1],r[2]);if(4===r.length)return new u(r[0],r[1],r[2],r[3])}throw new Error("Malformed rgb/rgba color string: '"+o+"'")},u.fromArray=function(o){if(4===o.length)return new u(o[0],o[1],o[2],o[3]);if(3===o.length)return new u(o[0],o[1],o[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},u.fromHSB=function(o,r,s,l){void 0===l&&(l=1);var c=u.HSBtoRGB(o,r,s);return new u(c[0],c[1],c[2],l)},u.padHex=function(o){return 1===o.length?"0"+o:o},u.prototype.toHexString=function(){var o="#"+u.padHex(Math.round(255*this.r).toString(16))+u.padHex(Math.round(255*this.g).toString(16))+u.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(o+=u.padHex(Math.round(255*this.a).toString(16))),o},u.prototype.toRgbaString=function(o){void 0===o&&(o=3);var r=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],s=Math.pow(10,o);return 1!==this.a?(r.push(Math.round(this.a*s)/s),"rgba("+r.join(", ")+")"):"rgb("+r.join(", ")+")"},u.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},u.prototype.toHSB=function(){return u.RGBtoHSB(this.r,this.g,this.b)},u.RGBtoHSB=function(o,r,s){var l=Math.min(o,r,s),c=Math.max(o,r,s),v=NaN;if(l!==c){var F=c-l,B=(c-o)/F,q=(c-r)/F,se=(c-s)/F;v=o===c?se-q:r===c?2+B-se:4+q-B,(v/=6)<0&&(v+=1)}return[360*v,0!==c?(c-l)/c:0,c]},u.HSBtoRGB=function(o,r,s){isNaN(o)&&(o=0),o=(o%360+360)%360/360;var l=0,c=0,p=0;if(0===r)l=c=p=s;else{var v=6*(o-Math.floor(o)),F=v-Math.floor(v),B=s*(1-r),q=s*(1-r*F),se=s*(1-r*(1-F));switch(v>>0){case 0:l=s,c=se,p=B;break;case 1:l=q,c=s,p=B;break;case 2:l=B,c=s,p=se;break;case 3:l=B,c=q,p=s;break;case 4:l=se,c=B,p=s;break;case 5:l=s,c=B,p=q}}return[l,c,p]},u.prototype.derive=function(o,r,s,l){var c=u.RGBtoHSB(this.r,this.g,this.b),p=c[2];0==p&&s>1&&(p=.05);var v=((c[0]+o)%360+360)%360,F=Math.max(Math.min(c[1]*r,1),0);p=Math.max(Math.min(p*s,1),0);var B=Math.max(Math.min(this.a*l,1),0),q=u.HSBtoRGB(v,F,p);return q.push(B),u.fromArray(q)},u.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},u.prototype.darker=function(){return this.derive(0,1,.7,1)},u.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),u}();var Nh,og,pn,ju,sg,Ls,Fh,Pv,Mh=Object.freeze({stringToArray:function ig(u,o){void 0===o&&(o=",");var r=[],s=function(fe){return"\r"===fe||"\n"===fe},l=!1;if(""===u)return[[""]];for(var p,v,F,c=function(fe,we,xe){var Pe=u[xe-1],Be=u[xe],We=u[xe+1],Ue=function(){r[fe]||(r[fe]=[]),r[fe][we]||(r[fe][we]="")};if(Ue(),'"'===Be){if(l)return'"'===We?(r[fe][we]+='"',xe++):l=!1,p=fe,v=we,F=xe,"continue";if(void 0===Pe||Pe===o||s(Pe))return l=!0,p=fe,v=we,F=xe,"continue"}if(!l){if(Be===o)return we++,Ue(),p=fe,v=we,F=xe,"continue";if(s(Be))return we=0,fe++,Ue(),"\r"===Be&&"\n"===We&&xe++,p=fe,v=we,F=xe,"continue"}r[fe][we]+=Be,p=fe,v=we,F=xe},B=0,q=0,se=0;se<u.length;se++)c(B,q,se),B=p,q=v,se=F;return r}});function ro(){return void 0===pn&&(pn=!function Wa(){return void 0===og&&(og=!!document.documentMode),og}()&&!!window.StyleMedia),pn}function Lh(){return void 0===Nh&&(Nh=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Nh}function Vh(){if(void 0===ju){var u=window;ju=!!u.chrome&&(!!u.chrome.webstore||!!u.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return ju}function To(){if(void 0===sg){var u=window;sg=void 0!==u.InstallTrigger}return sg}function Sc(){return void 0===Ls&&(Ls=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Ls}function Gh(u){if(!u)return null;var o=u.tabIndex,r=u.getAttribute("tabIndex");return-1!==o||null!==r&&(""!==r||To())?o.toString():null}function Iv(){if(!document.body)return-1;var u=1e6,o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){var s=2*u;if(r.style.height=s+"px",s>o||r.clientHeight!==s)break;u=s}return document.body.removeChild(r),u}function Tx(){return null==Pv&&ui(),Pv}function ui(){var u=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",u.appendChild(o);var r=o.offsetWidth-o.clientWidth;0===r&&0===o.clientWidth&&(r=null),o.parentNode&&o.parentNode.removeChild(o),null!=r&&(Pv=r,Fh=0===r)}function Ex(){return null==Fh&&ui(),Fh}function El(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function gi(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var Tc,Bh=Object.freeze({isBrowserEdge:ro,isBrowserSafari:Lh,isBrowserChrome:Vh,isBrowserFirefox:To,isIOSUserAgent:Sc,getTabIndex:Gh,getMaxDivHeight:Iv,getScrollbarWidth:Tx,isInvisibleScrollbar:Ex,hasOverflowScrolling:function oR(){var u,o,r=["webkit","moz","o","ms"],s=document.createElement("div"),c=!1;document.getElementsByTagName("body")[0].appendChild(s),s.setAttribute("style",r.map(function(q){return"-"+q+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var v=window.getComputedStyle(s);if("touch"===v.overflowScrolling&&(c=!0),!c)try{for(var F=function(u){var o="function"==typeof Symbol&&Symbol.iterator,r=o&&u[o],s=0;if(r)return r.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),B=F.next();!B.done;B=F.next())if("touch"===v[B.value+"OverflowScrolling"]){c=!0;break}}catch(q){u={error:q}}finally{try{B&&!B.done&&(o=F.return)&&o.call(F)}finally{if(u)throw u.error}}return s.parentNode&&s.parentNode.removeChild(s),c},getBodyWidth:El,getBodyHeight:gi});function lg(u){var o=Element.prototype.matches||Element.prototype.msMatchesSelector,r=o.call(u,Ie.INPUT_SELECTOR),s=o.call(u,Ie.FOCUSABLE_EXCLUDE),l=Yo(u);return r&&!s&&l}function Kn(u,o){u.classList.toggle("ag-hidden",!o)}function Ec(u,o){u.classList.toggle("ag-invisible",!o)}function Dc(u,o){var r="disabled",s=o?function(l){return l.setAttribute(r,"")}:function(l){return l.removeAttribute(r)};s(u),Ir(u.querySelectorAll("input"),function(l){return s(l)})}function zt(u,o,r){for(var s=0;u;){if(u.classList.contains(o))return!0;if(u=u.parentElement,r&&++s>r)break}return!1}function Ac(u){var o=window.getComputedStyle(u),s=o.width,l=o.paddingTop,c=o.paddingRight,p=o.paddingBottom,v=o.paddingLeft,F=o.marginTop,B=o.marginRight,q=o.marginBottom,se=o.marginLeft,fe=o.boxSizing;return{height:parseFloat(o.height),width:parseFloat(s),paddingTop:parseFloat(l),paddingRight:parseFloat(c),paddingBottom:parseFloat(p),paddingLeft:parseFloat(v),marginTop:parseFloat(F),marginRight:parseFloat(B),marginBottom:parseFloat(q),marginLeft:parseFloat(se),boxSizing:fe}}function kc(u){var o=Ac(u);return"border-box"===o.boxSizing?o.height-o.paddingTop-o.paddingBottom:o.height}function $u(u){var o=Ac(u);return"border-box"===o.boxSizing?o.width-o.paddingLeft-o.paddingRight:o.width}function Hh(u){var o=Ac(u);return Math.ceil(u.offsetHeight+(o.marginBottom+o.marginTop))}function en(u){var o=Ac(u);return Math.ceil(u.offsetWidth+(o.marginLeft+o.marginRight))}function Wu(){if("boolean"==typeof Tc)return Tc;var u=document.createElement("div");return u.style.direction="rtl",u.style.width="1px",u.style.height="1px",u.style.position="fixed",u.style.top="0px",u.style.overflow="hidden",u.dir="rtl",u.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(u),u.scrollLeft=1,Tc=0===Math.floor(u.scrollLeft),document.body.removeChild(u),Tc}function Rc(u,o){var r=u.scrollLeft;return o&&(r=Math.abs(r),Vh()&&!Wu()&&(r=u.scrollWidth-u.clientWidth-r)),r}function Et(u,o,r){r&&(Wu()?o*=-1:(Lh()||Vh())&&(o=u.scrollWidth-u.clientWidth-o)),u.scrollLeft=o}function bi(u){for(;u&&u.firstChild;)u.removeChild(u.firstChild)}function pr(u){u&&u.parentNode&&u.parentNode.removeChild(u)}function Yo(u){return null!==u.offsetParent}function di(u){if(null!==DOMParser)return(new DOMParser).parseFromString(u,"text/html").body.firstChild;var s=document.createElement("div");return s.innerHTML=(u||"").trim(),s.firstChild}function Dl(u){return u&&u.clientHeight?u.clientHeight:0}function Oc(u){return u&&u.clientWidth?u.clientWidth:0}function ma(u,o,r){r&&r.nextSibling===o||(r?r.nextSibling?u.insertBefore(o,r.nextSibling):u.appendChild(o):u.firstChild&&u.firstChild!==o&&u.insertAdjacentElement("afterbegin",o))}function fr(u,o){for(var r=0;r<o.length;r++){var s=o[r],l=u.children[r];l!==s&&u.insertBefore(s,l)}}function Mv(u,o,r){r?r.insertAdjacentElement("afterend",o):u.firstChild?u.insertAdjacentElement("afterbegin",o):u.appendChild(o)}function Ft(u,o){!o||Object.keys(o).forEach(function(r){var s=Qn(r);s&&(u.style[s]=o[r])})}function In(u){return u.clientWidth<u.scrollWidth}function Ai(u){return u.clientHeight<u.scrollHeight}function wr(u,o){"flex"===o?(u.style.removeProperty("width"),u.style.removeProperty("minWidth"),u.style.removeProperty("maxWidth"),u.style.flex="1 1 auto"):Pr(u,o)}function Pr(u,o){o=Fi(o),u.style.width=o.toString(),u.style.maxWidth=o.toString(),u.style.minWidth=o.toString()}function Eo(u,o){o=Fi(o),u.style.height=o.toString(),u.style.maxHeight=o.toString(),u.style.minHeight=o.toString()}function Fi(u){return"number"==typeof u?u+"px":u}function Pc(u){return"function"==typeof Node?u instanceof Node:u&&"object"==typeof u&&"number"==typeof u.nodeType&&"string"==typeof u.nodeName}function Al(u){return"function"==typeof HTMLElement?u instanceof HTMLElement:u&&Ne(u)&&1===u.nodeType&&"string"==typeof u.nodeName}function vn(u){return Pc(u)||Al(u)}function Uu(u){if(null==u)return[];var o=[];return Ir(u,function(r){return o.push(r)}),o}function kl(u,o){if(u)for(var r=0;r<u.length;r++){var s=u[r];o(s.name,s.value)}}function Vs(u,o,r){null==r?u.removeAttribute(o):u.setAttribute(o,r.toString())}function Ir(u,o){if(null!=u)for(var r=0;r<u.length;r++)o(u[r])}var zu=Object.freeze({radioCssClass:function ag(u,o,r){for(var s=u.parentElement,l=s&&s.firstChild;l;)o&&l.classList.toggle(o,l===u),r&&l.classList.toggle(r,l!==u),l=l.nextSibling},isFocusableFormField:lg,setDisplayed:Kn,setVisible:Ec,setDisabled:Dc,isElementChildOfClass:zt,getElementSize:Ac,getInnerHeight:kc,getInnerWidth:$u,getAbsoluteHeight:Hh,getAbsoluteWidth:en,isRtlNegativeScroll:Wu,getScrollLeft:Rc,setScrollLeft:Et,clearElement:bi,removeElement:function Or(u,o){pr(u.querySelector(o))},removeFromParent:pr,isVisible:Yo,loadTemplate:di,appendHtml:function jh(u,o){u.lastChild?u.insertAdjacentHTML("afterbegin",o):u.innerHTML=o},getElementAttribute:function cg(u,o){return u.attributes&&u.attributes[o]?u.attributes[o].value:null},offsetHeight:Dl,offsetWidth:Oc,ensureDomOrder:ma,setDomChildOrder:fr,insertWithDomOrder:Mv,prependDC:function Ko(u,o){I(u.firstChild)?u.insertBefore(o,u.firstChild):u.appendChild(o)},addStylesToElement:Ft,isHorizontalScrollShowing:In,isVerticalScrollShowing:Ai,setElementWidth:wr,setFixedWidth:Pr,setElementHeight:function gr(u,o){"flex"===o?(u.style.removeProperty("height"),u.style.removeProperty("minHeight"),u.style.removeProperty("maxHeight"),u.style.flex="1 1 auto"):Eo(u,o)},setFixedHeight:Eo,formatSize:Fi,isNode:Pc,isElement:Al,isNodeOrElement:vn,copyNodeList:Uu,iterateNamedNodeMap:kl,setCheckboxState:function ug(u,o){"boolean"==typeof o?(u.checked=o,u.indeterminate=!1):u.indeterminate=!0},addOrRemoveAttribute:Vs,nodeListForEach:Ir}),Gs=Object.freeze({getNameOfClass:function Ic(u){var r=u.toString(),s=/function (.{1,})\(/.exec(r);return s&&s.length>1?s[1]:""},findLineByLeastSquares:function ps(u){var o=u.length,r=0;if(o<=1)return u;for(var s=0;s<u.length;s++){var l=u[s],c=l.toString().split("e-");c.length>1?r=Math.max(r,parseInt(c[1],10)):Math.floor(l)!==l&&(r=Math.max(r,l.toString().split(".")[1].length))}for(var p=0,v=0,F=0,B=0,q=0,se=0;se<o;se++)p+=se,v+=q=u[se],B+=se*se,F+=se*q;var fe=(o*F-p*v)/(o*B-p*p),we=v/o-fe*p/o,xe=[];for(se=0;se<=o;se++)xe.push(parseFloat((se*fe+we).toFixed(r)));return xe},cssStyleObjectToMarkup:function wi(u){if(!u)return"";var o=[];return E(u,function(r,s){var l=Av(r);o.push(l+": "+s+";")}),o.join(" ")},message:function Dx(u){var o=document.createElement("div"),r=document.querySelector("#__ag__message");o.innerHTML=u,r||(r=di('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(r)),r.insertBefore(o,r.children[0])},bindCellRendererToHtmlElement:function Ax(u,o){u.then(function(r){var s=r.getGui();null!=s&&("object"==typeof s?o.appendChild(s):o.innerHTML=s)})}});function mi(u,o,r){u.setAttribute(Yu(o),r.toString())}function _a(u,o){u.removeAttribute(Yu(o))}function Yu(u){return"aria-"+u}function ar(u,o){o?u.setAttribute("role",o):u.removeAttribute("role")}function qo(u){return u.isSortAscending()?"ascending":u.isSortDescending()?"descending":"none"}function Nv(u){return parseInt(u.getAttribute("aria-level"),10)}function kx(u){return parseInt(u.getAttribute("aria-posinset"),10)}function Rl(u,o){var r="label";o?mi(u,r,o):_a(u,r)}function Fv(u,o){var r="labelledby";o?mi(u,r,o):_a(u,r)}function Ox(u,o){var r="description";o?mi(u,r,o):_a(u,r)}function Lv(u,o){var r="describedby";o?mi(u,r,o):_a(u,r)}function Px(u,o){mi(u,"level",o)}function Vv(u,o){mi(u,"disabled",o)}function Xo(u,o){mi(u,"expanded",o)}function Ix(u){_a(u,"expanded")}function Gv(u,o){mi(u,"setsize",o)}function Bv(u,o){mi(u,"posinset",o)}function Mx(u,o){mi(u,"multiselectable",o)}function Nx(u,o){mi(u,"rowcount",o)}function Hv(u,o){mi(u,"rowindex",o)}function Fx(u,o){mi(u,"colcount",o)}function jv(u,o){mi(u,"colindex",o)}function dg(u,o){mi(u,"colspan",o)}function $h(u,o){mi(u,"sort",o)}function Lx(u){_a(u,"sort")}function Ku(u,o){var r="selected";o?mi(u,r,o):_a(u,r)}function Vx(u,o){mi(u,"checked",void 0===o?"mixed":o)}var Ol=Object.freeze({setAriaRole:ar,getAriaSortState:qo,getAriaLevel:Nv,getAriaPosInSet:kx,getAriaDescribedBy:function Rx(u){return u.getAttribute("aria-describedby")||""},setAriaLabel:Rl,setAriaLabelledBy:Fv,setAriaDescription:Ox,setAriaDescribedBy:Lv,setAriaLevel:Px,setAriaDisabled:Vv,setAriaExpanded:Xo,removeAriaExpanded:Ix,setAriaSetSize:Gv,setAriaPosInSet:Bv,setAriaMultiSelectable:Mx,setAriaRowCount:Nx,setAriaRowIndex:Hv,setAriaColCount:Fx,setAriaColIndex:jv,setAriaColSpan:dg,setAriaSort:$h,removeAriaSort:Lx,setAriaSelected:Ku,setAriaChecked:Vx});function hg(u,o){return u.toString().padStart(o,"0")}function $n(u,o){for(var r=[],s=u;s<=o;s++)r.push(s);return r}function qu(u){return""!==u&&!isNaN(parseFloat(u))&&isFinite(u)}function Wh(u,o,r){return"number"!=typeof u?"":u.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o)}var pg=Object.freeze({padStartWidthZeros:hg,createArrayOfNumbers:$n,isNumeric:qu,cleanNumber:function Gx(u){return"string"==typeof u&&(u=parseInt(u,10)),"number"==typeof u?Math.floor(u):null},decToHex:function Bx(u,o){for(var r="",s=0;s<o;s++)r+=String.fromCharCode(255&u),u>>>=8;return r},formatNumberTwoDecimalPlacesAndCommas:function $v(u,o,r){return"number"!=typeof u?"":Wh(Math.round(100*u)/100,o,r)},formatNumberCommas:Wh,sum:function Hx(u){return null==u?null:u.reduce(function(o,r){return o+r},0)}}),fg=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c};function lr(u,o,r){if(void 0===o&&(o=!0),void 0===r&&(r="-"),!u)return null;var s=[u.getFullYear(),u.getMonth()+1,u.getDate()].map(function(l){return hg(l,2)}).join(r);return o&&(s+=" "+[u.getHours(),u.getMinutes(),u.getSeconds()].map(function(l){return hg(l,2)}).join(":")),s}function Bs(u){if(!u)return null;var o=fg(u.split(" "),2),r=o[0],s=o[1];if(!r)return null;var l=r.split("-").map(function(xe){return parseInt(xe,10)});if(3!==l.filter(function(xe){return!isNaN(xe)}).length)return null;var c=fg(l,3),p=c[0],v=c[1],F=c[2],B=new Date(p,v-1,F);if(B.getFullYear()!==p||B.getMonth()!==v-1||B.getDate()!==F)return null;if(!s||"00:00:00"===s)return B;var q=fg(s.split(":").map(function(xe){return parseInt(xe,10)}),3),se=q[0],fe=q[1],we=q[2];return se>=0&&se<24&&B.setHours(se),fe>=0&&fe<60&&B.setMinutes(fe),we>=0&&we<60&&B.setSeconds(we),B}var jx=Object.freeze({serialiseDate:lr,parseDateTimeFromString:Bs});function Uh(u,o,r){var s={},l=u.filter(function(c){return!o.some(function(p){return p===c})});return l.length>0&&l.forEach(function(c){return s[c]=Wv(c,r)}),s}function Wv(u,o,r,s){var l=s?Uv:zh,c=o.map(function(p){return{value:p,relevance:l(u.toLowerCase(),p.toLocaleLowerCase())}});return c.sort(function(p,v){return v.relevance-p.relevance}),r&&(c=c.filter(function(p){return 0!==p.relevance})),c.map(function(p){return p.value})}function gg(u){var s,l,c,o=u.toLowerCase(),r=new Array(o.length-1);for(s=l=0,c=r.length;l<=c;s=l+=1)r[s]=o.slice(s,s+2);return r}function zh(u,o){if(0===u.length&&0===o.length)return 0;var p,v,r=gg(u),s=gg(o),l=r.length+s.length,c=0;for(p=0,v=r.length;p<v;p++){var q,F=r[p],B=void 0;for(B=0,q=s.length;B<q;B++)F===s[B]&&c++}return c>0?2*c/l:0}function Uv(u,o){for(var r=u.replace(/\s/g,""),s=o.replace(/\s/g,""),l=0,c=0,p=0;p<r.length;p++){var v=s.indexOf(r[p],c);-1!==v&&(l+=100-100*(c=v)/1e4*100)}return l}var mg=Object.freeze({fuzzyCheckStrings:Uh,fuzzySuggestions:Wv,get_bigrams:gg,string_distances:zh,string_weighted_distances:Uv}),$x={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function ti(u,o,r){var s=Ui(u,o,r);if(s&&s.className.indexOf("ag-icon")>-1)return s;var l=document.createElement("span");return l.appendChild(s),l}function Ui(u,o,r,s){var l=null,c=r&&r.getColDef().icons;if(c&&(l=c[u]),o&&!l){var p=o.getIcons();p&&(l=p[u])}if(!l){var F=document.createElement("span"),B=$x[u];return B||(s?B=u:(console.warn("AG Grid: Did not find icon "+u),B="")),F.setAttribute("class","ag-icon ag-icon-"+B),F.setAttribute("unselectable","on"),ar(F,"presentation"),F}var v=void 0;if("function"==typeof l)v=l();else{if("string"!=typeof l)throw new Error("icon from grid options needs to be a string or a function");v=l}return"string"==typeof v?di(v):vn(v)?v:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Wx=Object.freeze({iconNameClassMap:$x,createIcon:ti,createIconNoSpan:Ui});function zx(u){if(u.altKey||u.ctrlKey||u.metaKey)return!1;var o=1===u.key.length,r=function Yx(u){return ro()&&"Del"===u.key&&46===u.charCode}(u);return o||r}function Pl(u,o,r,s,l){var c=u.getSuppressKeyboardEventFunc(),p=s?s.getColDef().suppressKeyboardEvent:void 0;if(!c&&!p)return!1;var v={event:o,editing:l,column:s,api:u.getApi(),node:r,data:r.data,colDef:s.getColDef(),context:u.getContext(),columnApi:u.getColumnApi()};return!(!p||!p(v))||!!c&&c(v)}function Do(u,o,r,s){var l=s.getDefinition(),c=l&&l.suppressHeaderKeyboardEvent;return!!I(c)&&!!c({api:u.getApi(),columnApi:u.getColumnApi(),context:u.getContext(),colDef:l,column:s,headerRowIndex:r,event:o})}var _g=Object.freeze({isEventFromPrintableCharacter:zx,isUserSuppressingKeyboardEvent:Pl,isUserSuppressingHeaderKeyboardEvent:Do});function Ua(u,o,r){if(0===r)return!1;var s=Math.abs(u.clientX-o.clientX),l=Math.abs(u.clientY-o.clientY);return Math.max(s,l)<=r}var Ao=Object.freeze({areEventsNear:Ua}),Kx=Object.freeze({sortRowNodesByOrder:function zv(u,o){if(u){for(var r=function(v,F){var B=o[v.id],q=o[F.id],se=void 0!==B,fe=void 0!==q;return se&&fe?B-q:se||fe?se?1:-1:v.__objectId-F.__objectId},c=!1,p=0;p<u.length-1;p++)if(r(u[p],u[p+1])>0){c=!0;break}c&&u.sort(r)}},traverseNodesWithKey:function vg(u,o){var r=[];!function s(l){!l||l.forEach(function(c){if(c.group||c.hasChildren()){r.push(c.key);var p=r.join("|");o(c,p),s(c.childrenAfterGroup),r.pop()}})}(u)}});function Hs(u){var o=new Set;return u.forEach(function(r){return o.add(r)}),o}var Yv=Object.freeze({convertToSet:Hs}),Pi=function(){return Pi=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Pi.apply(this,arguments)},an=Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi(Pi({},Gs),Ol),fx),Bh),Mh),jx),zu),_x),Ti),mg),T),Wx),_g),yx),Ao),pg),ke),Kx),Yv),$t),Il=function(){function u(o,r){void 0===o&&(o=0),void 0===r&&(r=1),this.nextValue=o,this.step=r}return u.prototype.next=function(){var o=this.nextValue;return this.nextValue+=this.step,o},u.prototype.peek=function(){return this.nextValue},u.prototype.skip=function(o){this.nextValue+=o},u}();!function(u){u[u.IN_PROGRESS=0]="IN_PROGRESS",u[u.RESOLVED=1]="RESOLVED"}(z.Ws0||(z.Ws0={}));var oo=function(){function u(o){var r=this;this.status=z.Ws0.IN_PROGRESS,this.resolution=null,this.waiters=[],o(function(s){return r.onDone(s)},function(s){return r.onReject(s)})}return u.all=function(o){return new u(function(r){var s=o.length,l=new Array(s);o.forEach(function(c,p){c.then(function(v){l[p]=v,0==--s&&r(l)})})})},u.resolve=function(o){return void 0===o&&(o=null),new u(function(r){return r(o)})},u.prototype.then=function(o){var r=this;return new u(function(s){r.status===z.Ws0.RESOLVED?s(o(r.resolution)):r.waiters.push(function(l){return s(o(l))})})},u.prototype.resolveNow=function(o,r){return this.status===z.Ws0.RESOLVED?r(this.resolution):o},u.prototype.onDone=function(o){this.status=z.Ws0.RESOLVED,this.resolution=o,this.waiters.forEach(function(r){return r(o)})},u.prototype.onReject=function(o){console.warn("TBI")},u}(),Kv=(function(){function u(){this.timestamp=(new Date).getTime()}u.prototype.print=function(o){var r=(new Date).getTime()-this.timestamp;console.info(o+" = "+r),this.timestamp=(new Date).getTime()}}(),function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}()),yg=function(){return yg=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},yg.apply(this,arguments)},Xu=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},lt=(()=>(function(u){u[u.NOTHING=0]="NOTHING",u[u.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",u[u.SHOWING=2]="SHOWING"}(lt||(lt={})),lt))(),Wn=function(u){function o(r){var s=u.call(this)||this;return s.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,s.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,s.SHOW_QUICK_TOOLTIP_DIFF=1e3,s.FADE_OUT_TOOLTIP_TIMEOUT=1e3,s.state=lt.NOTHING,s.tooltipInstanceCount=0,s.tooltipMouseTrack=!1,s.parentComp=r,s}return Kv(o,u),o.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var r=this.parentComp.getGui();this.addManagedListener(r,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(r,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this))},o.prototype.destroy=function(){this.setToDoNothing(),u.prototype.destroy.call(this)},o.prototype.onMouseEnter=function(r){if(!Sc()&&this.state==lt.NOTHING){var s=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),s),this.lastMouseEvent=r,this.state=lt.WAITING_TO_SHOW}},o.prototype.onMouseLeave=function(){this.setToDoNothing()},o.prototype.onKeyDown=function(){this.setToDoNothing()},o.prototype.setToDoNothing=function(){this.state===lt.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=lt.NOTHING},o.prototype.onMouseMove=function(r){this.lastMouseEvent=r,this.tooltipMouseTrack&&this.state===lt.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},o.prototype.onMouseDown=function(){this.setToDoNothing()},o.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),o.lastTooltipHideTime=(new Date).getTime()),this.state=lt.NOTHING},o.prototype.destroyTooltipComp=function(){var r=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var s=this.tooltipPopupDestroyFunc,l=this.tooltipComp;window.setTimeout(function(){s(),r.getContext().destroyBean(l)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},o.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-o.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},o.prototype.showTooltip=function(){var r=yg({},this.parentComp.getTooltipParams());if(I(r.value)){this.state=lt.SHOWING,this.tooltipInstanceCount++;var s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(r).newAgStackInstance().then(s)}else this.setToDoNothing()},o.prototype.newTooltipComponentCallback=function(r,s){if(this.state!==lt.SHOWING||this.tooltipInstanceCount!==r)this.getContext().destroyBean(s);else{var c=s.getGui();this.tooltipComp=s,c.classList.contains("ag-tooltip")||c.classList.add("ag-tooltip-custom");var p=this.gridOptionsWrapper.getLocaleTextFunc(),v=this.popupService.addPopup({eChild:c,ariaLabel:p("ariaLabelTooltip","Tooltip")});v&&(this.tooltipPopupDestroyFunc=v.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},o.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},o.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Xu([de("popupService")],o.prototype,"popupService",void 0),Xu([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Xu([de("columnApi")],o.prototype,"columnApi",void 0),Xu([de("gridApi")],o.prototype,"gridApi",void 0),Xu([tt],o.prototype,"postConstruct",null),o}(ft),Xe=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),zi=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},qv=new Il,Mc=function(){function u(o){this.cssClassStates={},this.getGui=o}return u.prototype.addCssClass=function(o){var r=this,s=(o||"").split(" ");s.length>1?s.forEach(function(c){return r.addCssClass(c)}):!0!==this.cssClassStates[o]&&o.length&&(this.getGui().classList.add(o),this.cssClassStates[o]=!0)},u.prototype.removeCssClass=function(o){var r=this,s=(o||"").split(" ");s.length>1?s.forEach(function(c){return r.removeCssClass(c)}):!1!==this.cssClassStates[o]&&o.length&&(this.getGui().classList.remove(o),this.cssClassStates[o]=!1)},u.prototype.containsCssClass=function(o){return this.getGui().classList.contains(o)},u.prototype.addOrRemoveCssClass=function(o,r){var s=this,l=(o||"").split(" ");l.length>1?l.forEach(function(p){return s.addOrRemoveCssClass(p,r)}):this.cssClassStates[o]!==r&&o.length&&(this.getGui().classList.toggle(o,r),this.cssClassStates[o]=r)},u}(),ln=function(u){function o(r){var s=u.call(this)||this;return s.displayed=!0,s.visible=!0,s.compId=qv.next(),s.cssClassManager=new Mc(function(){return s.eGui}),r&&s.setTemplate(r),s}return Xe(o,u),o.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},o.prototype.getCompId=function(){return this.compId},o.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},o.prototype.setTooltip=function(r){var s=this;this.tooltipText!=r&&(this.tooltipText&&(s.usingBrowserTooltips?s.getGui().removeAttribute("title"):s.tooltipFeature=s.destroyBean(s.tooltipFeature)),null!=r&&(this.tooltipText=r,this.tooltipText&&(s.usingBrowserTooltips?s.getGui().setAttribute("title",s.tooltipText):s.tooltipFeature=s.createBean(new Wn(s)))))},o.prototype.createChildComponentsFromTags=function(r,s){var l=this;Uu(r.childNodes).forEach(function(p){if(p instanceof HTMLElement){var v=l.createComponentFromElement(p,function(B){B.getGui()&&l.copyAttributesFromNode(p,B.getGui())},s);if(v){if(v.addItems&&p.children.length){l.createChildComponentsFromTags(p,s);var F=Array.prototype.slice.call(p.children);v.addItems(F)}l.swapComponentForNode(v,r,p)}else p.childNodes&&l.createChildComponentsFromTags(p,s)}})},o.prototype.createComponentFromElement=function(r,s,l){var c=r.nodeName,p=l?l[r.getAttribute("ref")]:void 0,v=this.agStackComponentsRegistry.getComponentClass(c);if(v){o.elementGettingCreated=r;var F=new v(p);return F.setParentComponent(this),this.createBean(F,null,s),F}return null},o.prototype.copyAttributesFromNode=function(r,s){kl(r.attributes,function(l,c){return s.setAttribute(l,c)})},o.prototype.swapComponentForNode=function(r,s,l){var c=r.getGui();s.replaceChild(c,l),s.insertBefore(document.createComment(l.nodeName),c),this.addDestroyFunc(this.destroyBean.bind(this,r)),this.swapInComponentForQuerySelectors(r,l)},o.prototype.swapInComponentForQuerySelectors=function(r,s){var l=this;this.iterateOverQuerySelectors(function(c){l[c.attributeName]===s&&(l[c.attributeName]=r)})},o.prototype.iterateOverQuerySelectors=function(r){for(var s=Object.getPrototypeOf(this);null!=s;){var l=s.__agComponentMetaData,c=qe(s.constructor);l&&l[c]&&l[c].querySelectors&&l[c].querySelectors.forEach(function(p){return r(p)}),s=Object.getPrototypeOf(s)}},o.prototype.setTemplate=function(r,s){var l=di(r);this.setTemplateFromElement(l,s)},o.prototype.setTemplateFromElement=function(r,s){this.eGui=r,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),s)},o.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},o.prototype.wireQuerySelectors=function(){var r=this;if(this.eGui){var s=this;this.iterateOverQuerySelectors(function(l){var c=function(F){return s[l.attributeName]=F};if(l.refSelector&&r.eGui.getAttribute("ref")===l.refSelector)c(r.eGui);else{var v=r.eGui.querySelector(l.querySelector);v&&c(v.__agComponent||v)}})}},o.prototype.getGui=function(){return this.eGui},o.prototype.getFocusableElement=function(){return this.eGui},o.prototype.setParentComponent=function(r){this.parentComponent=r},o.prototype.getParentComponent=function(){return this.parentComponent},o.prototype.setGui=function(r){this.eGui=r},o.prototype.queryForHtmlElement=function(r){return this.eGui.querySelector(r)},o.prototype.queryForHtmlInputElement=function(r){return this.eGui.querySelector(r)},o.prototype.appendChild=function(r,s){if(s||(s=this.eGui),null!=r)if(vn(r))s.appendChild(r);else{var l=r;s.appendChild(l.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,l))}},o.prototype.isDisplayed=function(){return this.displayed},o.prototype.setVisible=function(r){r!==this.visible&&(this.visible=r,Ec(this.eGui,r))},o.prototype.setDisplayed=function(r){r!==this.displayed&&(this.displayed=r,Kn(this.eGui,r),this.dispatchEvent({type:o.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},o.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),u.prototype.destroy.call(this)},o.prototype.addGuiEventListener=function(r,s){var l=this;this.eGui.addEventListener(r,s),this.addDestroyFunc(function(){return l.eGui.removeEventListener(r,s)})},o.prototype.addCssClass=function(r){this.cssClassManager.addCssClass(r)},o.prototype.removeCssClass=function(r){this.cssClassManager.removeCssClass(r)},o.prototype.containsCssClass=function(r){return this.cssClassManager.containsCssClass(r)},o.prototype.addOrRemoveCssClass=function(r,s){this.cssClassManager.addOrRemoveCssClass(r,s)},o.prototype.getAttribute=function(r){var s=this.eGui;return s?s.getAttribute(r):null},o.prototype.getRefElement=function(r){return this.queryForHtmlElement('[ref="'+r+'"]')},o.EVENT_DISPLAYED_CHANGED="displayedChanged",zi([de("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),zi([rn],o.prototype,"preConstructOnComponent",null),zi([rn],o.prototype,"createChildComponentsPreConstruct",null),o}(ft);function ct(u){return Xx.bind(this,"[ref="+u+"]",u)}function Xx(u,o,r,s,l){null!==u?"number"!=typeof l?function Qx(u,o,r){var s=function Yh(u,o){return u.__agComponentMetaData||(u.__agComponentMetaData={}),u.__agComponentMetaData[o]||(u.__agComponentMetaData[o]={}),u.__agComponentMetaData[o]}(u,qe(u.constructor));s[o]||(s[o]=[]),s[o].push(r)}(r,"querySelectors",{attributeName:s,querySelector:u,refSelector:o}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var Kh=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Mr=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},va=function(u){function o(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Kh(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(r){this.params=r;var s=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),l=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(s+" "+l("ariaFilterInput","Filter Input"))},o.prototype.onParentModelChanged=function(r){var s=this;r?this.params.parentFilterInstance(function(l){if(l.getModelAsString){var c=l.getModelAsString(r);s.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")},Mr([ct("eFloatingFilterText")],o.prototype,"eFloatingFilterText",void 0),Mr([de("columnModel")],o.prototype,"columnModel",void 0),o}(ln),bg=function(){function u(o,r,s,l){var c=this;this.alive=!0,this.context=o,this.eParent=l,r.getDateCompDetails(s).newAgStackInstance().then(function(F){c.alive?(c.dateComp=F,F&&(l.appendChild(F.getGui()),F.afterGuiAttached&&F.afterGuiAttached(),c.tempValue&&F.setDate(c.tempValue),null!=c.disabled&&c.setDateCompDisabled(c.disabled))):o.destroyBean(F)})}return u.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},u.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},u.prototype.setDate=function(o){this.dateComp?this.dateComp.setDate(o):this.tempValue=o},u.prototype.setDisabled=function(o){this.dateComp?this.setDateCompDisabled(o):this.disabled=o},u.prototype.setDisplayed=function(o){Kn(this.eParent,o)},u.prototype.setInputPlaceholder=function(o){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(o)},u.prototype.setInputAriaLabel=function(o){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(o)},u.prototype.afterGuiAttached=function(o){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(o)},u.prototype.setDateCompDisabled=function(o){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(o)},u}(),za=function(){return za=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},za.apply(this,arguments)},js=function(){function u(){this.customFilterOptions={}}return u.prototype.init=function(o,r){this.filterOptions=o.filterOptions||r,this.mapCustomOptions(),this.selectDefaultItem(o),this.checkForDeprecatedParams()},u.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(o){return"string"!=typeof o&&null!=o.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(o){return"string"!=typeof o&&null!=o.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},u.prototype.getFilterOptions=function(){return this.filterOptions},u.prototype.mapCustomOptions=function(){var o=this;!this.filterOptions||this.filterOptions.forEach(function(r){if("string"!=typeof r){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(v){return!!v.some(function(F){return null!=r[F]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+v+"'"),!1)}))return void(o.filterOptions=o.filterOptions.filter(function(v){return v===r})||[]);var c=r.test,p=za({},r);null!=c&&null==r.predicate&&(p.predicate=function(v,F){return c(v[0],F)},delete p.test),p.hideFilterInput&&null==p.numberOfInputs&&(p.numberOfInputs=0,delete p.hideFilterInput),o.customFilterOptions[r.displayKey]=p}})},u.prototype.selectDefaultItem=function(o){if(o.defaultOption)this.defaultOption=o.defaultOption;else if(this.filterOptions.length>=1){var r=this.filterOptions[0];"string"==typeof r?this.defaultOption=r:r.displayKey?this.defaultOption=r.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},u.prototype.getDefaultOption=function(){return this.defaultOption},u.prototype.getCustomOption=function(o){return this.customFilterOptions[o]},u}(),Zx={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},ht=function(){function u(){}return u.BACKSPACE="Backspace",u.TAB="Tab",u.ENTER="Enter",u.ESCAPE="Escape",u.SPACE=" ",u.LEFT="ArrowLeft",u.UP="ArrowUp",u.RIGHT="ArrowRight",u.DOWN="ArrowDown",u.DELETE="Delete",u.F2="F2",u.PAGE_UP="PageUp",u.PAGE_DOWN="PageDown",u.PAGE_HOME="Home",u.PAGE_END="End",u.A="KeyA",u.C="KeyC",u.V="KeyV",u.D="KeyD",u.Z="KeyZ",u.Y="KeyY",u}(),Jx=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),wg=function(){return wg=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},wg.apply(this,arguments)},qh=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},fs=function(u){function o(r,s){void 0===s&&(s={});var l=u.call(this)||this;return l.eFocusableElement=r,l.callbacks=s,l.callbacks=wg({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(c){if(!c.defaultPrevented){var p=l.focusService.findNextFocusableElement(l.eFocusableElement,!1,c.shiftKey);!p||(p.focus(),c.preventDefault())}}},s),l}return Jx(o,u),o.prototype.postConstruct=function(){this.eFocusableElement.classList.add(o.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},o.prototype.addKeyDownListeners=function(r){var s=this;this.addManagedListener(r,"keydown",function(l){if(!l.defaultPrevented&&!zo(l)){if(s.callbacks.shouldStopEventPropagation(l))return void Sl(l);l.key===ht.TAB?s.callbacks.onTabKeyDown(l):s.callbacks.handleKeyDown&&s.callbacks.handleKeyDown(l)}})},o.FOCUS_MANAGED_CLASS="ag-focus-managed",qh([de("focusService")],o.prototype,"focusService",void 0),qh([tt],o.prototype,"postConstruct",null),o}(ft),Xv=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Qu=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Zu=function(u){function o(r){var s=u.call(this)||this;return s.filterNameKey=r,s.applyActive=!1,s.hidePopup=null,s.appliedModel=null,s}return Xv(o,u),o.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new fs(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},o.prototype.handleKeyDown=function(r){},o.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},o.prototype.isFilterActive=function(){return!!this.appliedModel},o.prototype.resetTemplate=function(r){var s='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(s,r)},o.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},o.prototype.init=function(r){var s=this;this.setParams(r),this.resetUiToDefaults(!0).then(function(){s.updateUiVisibility(),s.setupOnBtApplyDebounce()})},o.prototype.setParams=function(r){this.providedFilterParams=r,this.applyActive=o.isUseApplyButton(r),this.createButtonPanel()},o.prototype.createButtonPanel=function(){var r=this,s=this.providedFilterParams.buttons;if(!(!s||s.length<1||this.isReadOnly())){var l=document.createElement("div");l.classList.add("ag-filter-apply-panel"),Hs(s).forEach(function(p){return function(p){var v,F;switch(p){case"apply":v=r.translate("applyFilter"),F=function(q){return r.onBtApply(!1,!1,q)};break;case"clear":v=r.translate("clearFilter"),F=function(){return r.onBtClear()};break;case"reset":v=r.translate("resetFilter"),F=function(){return r.onBtReset()};break;case"cancel":v=r.translate("cancelFilter"),F=function(q){r.onBtCancel(q)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var B=di('<button\n                    type="button"\n                    ref="'+p+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+v+"\n                </button>");l.appendChild(B),r.addManagedListener(B,"click",F)}(p)}),this.getGui().appendChild(l)}},o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.setupOnBtApplyDebounce=function(){var r=o.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=$e(this.onBtApply.bind(this),r)},o.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},o.prototype.setModel=function(r){var s=this;return(null!=r?this.setModelIntoUi(r):this.resetUiToDefaults()).then(function(){s.updateUiVisibility(),s.applyModel()})},o.prototype.onBtCancel=function(r){var s=this,l=this.getModel(),c=function(){s.onUiChanged(!1,"prevent"),s.providedFilterParams.closeOnApply&&s.close(r)};null!=l?this.setModelIntoUi(l).then(c):this.resetUiToDefaults().then(c)},o.prototype.onBtClear=function(){var r=this;this.resetUiToDefaults().then(function(){return r.onUiChanged()})},o.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},o.prototype.applyModel=function(){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var s=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(s,r)},o.prototype.isModelValid=function(r){return!0},o.prototype.onBtApply=function(r,s,l){void 0===r&&(r=!1),void 0===s&&(s=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:r,afterDataChange:s}),this.providedFilterParams.closeOnApply&&this.applyActive&&!r&&!s&&this.close(l)},o.prototype.onNewRowsLoaded=function(){},o.prototype.close=function(r){if(this.hidePopup){var c,l=r&&r.key;("Enter"===l||"Space"===l)&&(c={keyboardEvent:r}),this.hidePopup(c),this.hidePopup=null}},o.prototype.onUiChanged=function(r,s){if(void 0===r&&(r=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var l=this.isModelValid(this.getModelFromUi());Dc(this.getRefElement("applyFilterButton"),!l)}r&&!s||"immediately"===s?this.onBtApply(r):(!this.applyActive&&!s||"debounce"===s)&&this.onBtApplyDebounce()},o.prototype.afterGuiAttached=function(r){null!=r&&(this.hidePopup=r.hidePopup)},o.getDebounceMs=function(r,s){return o.isUseApplyButton(r)?(null!=r.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=r.debounceMs?r.debounceMs:s},o.isUseApplyButton=function(r){return!!r.buttons&&r.buttons.indexOf("apply")>=0},o.prototype.destroy=function(){this.hidePopup=null,u.prototype.destroy.call(this)},o.prototype.translate=function(r){return this.gridOptionsWrapper.getLocaleTextFunc()(r,Zx[r])},o.prototype.getCellValue=function(r){var s=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:s.api,colDef:s.colDef,column:s.column,columnApi:s.columnApi,context:s.context,data:r.data,getValue:function(B){return r.data[B]},node:r})},Qu([de("rowModel")],o.prototype,"rowModel",void 0),Qu([de("valueService")],o.prototype,"valueService",void 0),Qu([tt],o.prototype,"postConstruct",null),o}(ln),Qv=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Qh=function(u){function o(r,s){var l=u.call(this,s)||this;return l.labelSeparator="",l.labelAlignment="left",l.label="",l.config=r||{},l}return Qv(o,u),o.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var r=this.config,s=r.labelSeparator,l=r.label,c=r.labelWidth,p=r.labelAlignment;null!=s&&this.setLabelSeparator(s),null!=l&&this.setLabel(l),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(p||this.labelAlignment),this.refreshLabel()},o.prototype.refreshLabel=function(){bi(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),ar(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),ar(this.eLabel,null))},o.prototype.setLabelSeparator=function(r){return this.labelSeparator===r||(this.labelSeparator=r,null!=this.label&&this.refreshLabel()),this},o.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},o.prototype.getLabel=function(){return this.label},o.prototype.setLabel=function(r){return this.label===r||(this.label=r,this.refreshLabel()),this},o.prototype.setLabelAlignment=function(r){var l=this.getGui().classList;return l.toggle("ag-label-align-left","left"===r),l.toggle("ag-label-align-right","right"===r),l.toggle("ag-label-align-top","top"===r),this},o.prototype.setLabelWidth=function(r){return null==this.label||wr(this.eLabel,r),this},function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([tt],o.prototype,"postConstruct",null),o}(ln),Zv=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),gs=function(u){function o(r,s,l){var c=u.call(this,r,s)||this;return c.className=l,c.disabled=!1,c}return Zv(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},o.prototype.onValueChange=function(r){var s=this;return this.addManagedListener(this,o.EVENT_CHANGED,function(){return r(s.getValue())}),this},o.prototype.getWidth=function(){return this.getGui().clientWidth},o.prototype.setWidth=function(r){return Pr(this.getGui(),r),this},o.prototype.getPreviousValue=function(){return this.previousValue},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(r,s){return this.value===r||(this.previousValue=this.value,this.value=r,s||this.dispatchEvent({type:o.EVENT_CHANGED})),this},o.prototype.setDisabled=function(r){r=!!r;var s=this.getGui();return Dc(s,r),s.classList.toggle("ag-disabled",r),this.disabled=r,this},o.prototype.isDisabled=function(){return!!this.disabled},o.EVENT_CHANGED="valueChange",o}(Qh),Jv=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ml=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},ey=function(u){function o(r,s,l,c){var p=u.call(this,r,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(c?'role="'+c+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',s)||this;return p.pickerIcon=l,p.isPickerDisplayed=!1,p.isDestroyingPicker=!1,p.skipClick=!1,p}return Jv(o,u),o.prototype.postConstruct=function(){var r=this;u.prototype.postConstruct.call(this);var s=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",s),Lv(this.eWrapper,s);var l=function(){r.skipClick?r.skipClick=!1:r.isDisabled()||(r.pickerComponent=r.showPicker())},c=this.getGui();if(this.addManagedListener(c,"mousedown",function(v){!r.skipClick&&r.pickerComponent&&r.pickerComponent.isAlive()&&Yo(r.pickerComponent.getGui())&&c.contains(v.target)&&(r.skipClick=!0)}),this.addManagedListener(c,"keydown",function(v){switch(v.key){case ht.UP:case ht.DOWN:case ht.ENTER:case ht.SPACE:l();case ht.ESCAPE:r.isPickerDisplayed&&v.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",l),this.addManagedListener(this.eLabel,"click",l),this.pickerIcon){var p=Ui(this.pickerIcon,this.gridOptionsWrapper);p&&this.eIcon.appendChild(p)}},o.prototype.refreshLabel=function(){I(this.getLabel())?Fv(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},o.prototype.setAriaLabel=function(r){return Rl(this.eWrapper,r),this},o.prototype.setInputWidth=function(r){return wr(this.eWrapper,r),this},o.prototype.getFocusableElement=function(){return this.eWrapper},Ml([ct("eLabel")],o.prototype,"eLabel",void 0),Ml([ct("eWrapper")],o.prototype,"eWrapper",void 0),Ml([ct("eDisplayField")],o.prototype,"eDisplayField",void 0),Ml([ct("eIcon")],o.prototype,"eIcon",void 0),o}(gs),e1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ya=function(u){function o(r){void 0===r&&(r="default");var s=u.call(this,'<div class="ag-list ag-'+r+'-list" role="listbox"></div>')||this;return s.cssIdentifier=r,s.options=[],s.itemEls=[],s}return e1(o,u),o.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},o.prototype.handleKeyDown=function(r){var s=r.key;switch(s){case ht.ENTER:if(this.highlightedEl){var l=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(l)}else this.setValue(this.getValue());break;case ht.DOWN:case ht.UP:var c=s===ht.DOWN,p=void 0;if(r.preventDefault(),this.highlightedEl){var F=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);F=Math.min(Math.max(F,0),this.itemEls.length-1),p=this.itemEls[F]}else p=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(p)}},o.prototype.addOptions=function(r){var s=this;return r.forEach(function(l){return s.addOption(l)}),this},o.prototype.addOption=function(r){var s=r.value,c=hs(r.text||s);return this.options.push({value:s,text:c}),this.renderOption(s,c),this.updateIndices(),this},o.prototype.updateIndices=function(){var r=this.getGui().querySelectorAll(".ag-list-item");r.forEach(function(s,l){Bv(s,l+1),Gv(s,r.length)})},o.prototype.renderOption=function(r,s){var l=this,c=document.createElement("div");ar(c,"option"),c.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),c.innerHTML="<span>"+s+"</span>",c.tabIndex=-1,this.itemEls.push(c),this.addManagedListener(c,"mouseover",function(){return l.highlightItem(c)}),this.addManagedListener(c,"mouseleave",function(){return l.clearHighlighted()}),this.addManagedListener(c,"click",function(){return l.setValue(r)}),this.getGui().appendChild(c)},o.prototype.setValue=function(r,s){if(this.value===r)return this.fireItemSelected(),this;if(null==r)return this.reset(),this;var l=this.options.findIndex(function(p){return p.value===r});if(-1!==l){var c=this.options[l];this.value=c.value,this.displayValue=null!=c.text?c.text:c.value,this.highlightItem(this.itemEls[l]),s||this.fireChangeEvent()}return this},o.prototype.setValueByIndex=function(r){return this.setValue(this.options[r].value)},o.prototype.getValue=function(){return this.value},o.prototype.getDisplayValue=function(){return this.displayValue},o.prototype.refreshHighlighted=function(){var r=this;this.clearHighlighted();var s=this.options.findIndex(function(l){return l.value===r.value});-1!==s&&this.highlightItem(this.itemEls[s])},o.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},o.prototype.highlightItem=function(r){!r.offsetParent||(this.clearHighlighted(),this.highlightedEl=r,this.highlightedEl.classList.add(o.ACTIVE_CLASS),Ku(this.highlightedEl,!0),this.highlightedEl.focus())},o.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(o.ACTIVE_CLASS),Ku(this.highlightedEl,!1),this.highlightedEl=null)},o.prototype.fireChangeEvent=function(){this.dispatchEvent({type:gs.EVENT_CHANGED}),this.fireItemSelected()},o.prototype.fireItemSelected=function(){this.dispatchEvent({type:o.EVENT_ITEM_SELECTED})},o.EVENT_ITEM_SELECTED="selectedItem",o.ACTIVE_CLASS="ag-active-item",function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([tt],o.prototype,"init",null),o}(ln),Gi=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xi=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},xg=function(u){function o(r){return u.call(this,r,"ag-select","smallDown","listbox")||this}return Gi(o,u),o.prototype.init=function(){var r=this;this.listComponent=this.createBean(new ya("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,ya.EVENT_ITEM_SELECTED,function(){r.hideList&&r.hideList()}),this.listComponent.addManagedListener(this.listComponent,gs.EVENT_CHANGED,function(){r.setValue(r.listComponent.getValue(),!1,!0),r.hideList&&r.hideList()})},o.prototype.showPicker=function(){var r=this,s=this.listComponent.getGui(),l=this.gridOptionsWrapper.getDocument(),c=this.addManagedListener(l.body,"wheel",function(B){!s.contains(B.target)&&r.hideList&&r.hideList()}),p=this.addManagedListener(s,"focusout",function(B){!s.contains(B.relatedTarget)&&r.hideList&&r.hideList()}),v=this.gridOptionsWrapper.getLocaleTextFunc(),F=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:function(){r.hideList=null,r.isPickerDisplayed=!1,p(),c(),r.isAlive()&&(Xo(r.eWrapper,!1),r.getFocusableElement().focus())},ariaLabel:v("ariaLabelSelectField","Select Field")});return F&&(this.hideList=F.hideFunc),this.isPickerDisplayed=!0,wr(s,en(this.eWrapper)),Xo(this.eWrapper,!0),s.style.maxHeight=kc(this.popupService.getPopupParent())+"px",s.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:s,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},o.prototype.addOptions=function(r){var s=this;return r.forEach(function(l){return s.addOption(l)}),this},o.prototype.addOption=function(r){return this.listComponent.addOption(r),this},o.prototype.setValue=function(r,s,l){return this.value===r?this:(l||this.listComponent.setValue(r,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),u.prototype.setValue.call(this,r,s)))},o.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),u.prototype.destroy.call(this)},xi([de("popupService")],o.prototype,"popupService",void 0),xi([tt],o.prototype,"init",null),o}(ey),Zh=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Sg=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ca=function(u){function o(r,s,l,c){void 0===l&&(l="text"),void 0===c&&(c="input");var p=u.call(this,r,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+c+' ref="eInput" class="ag-input-field-input"></'+c+">\n                </div>\n            </div>",s)||this;return p.inputType=l,p.displayFieldTag=c,p}return Zh(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var r=this.config,s=r.width,l=r.value;null!=s&&this.setWidth(s),null!=l&&this.setValue(l),this.addInputListeners()},o.prototype.refreshLabel=function(){I(this.getLabel())?Fv(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),u.prototype.refreshLabel.call(this)},o.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(s){return r.setValue(s.target.value)})},o.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},o.prototype.getInputElement=function(){return this.eInput},o.prototype.setInputWidth=function(r){return wr(this.eWrapper,r),this},o.prototype.setInputName=function(r){return this.getInputElement().setAttribute("name",r),this},o.prototype.getFocusableElement=function(){return this.eInput},o.prototype.setMaxLength=function(r){return this.eInput.maxLength=r,this},o.prototype.setInputPlaceholder=function(r){return Vs(this.eInput,"placeholder",r),this},o.prototype.setInputAriaLabel=function(r){return Rl(this.eInput,r),this},o.prototype.setDisabled=function(r){return Dc(this.eInput,r),u.prototype.setDisabled.call(this,r)},Sg([ct("eLabel")],o.prototype,"eLabel",void 0),Sg([ct("eWrapper")],o.prototype,"eWrapper",void 0),Sg([ct("eInput")],o.prototype,"eInput",void 0),o}(gs),t1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),$s=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},nr=(()=>(function(u){u[u.One=0]="One",u[u.Two=1]="Two"}(nr||(nr={})),nr))(),ki=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return t1(o,u),o.prototype.getNumberOfInputs=function(r){var s=this.optionsFactory.getCustomOption(r);if(s){var l=s.numberOfInputs;return null!=l?l:1}return r&&[o.EMPTY,o.NOT_BLANK,o.BLANK].indexOf(r)>=0?0:r===o.IN_RANGE?2:1},o.prototype.onFloatingFilterChanged=function(r,s){this.setTypeFromFloatingFilter(r),this.setValueFromFloatingFilter(s),this.onUiChanged(!0)},o.prototype.setTypeFromFloatingFilter=function(r){this.eType1.setValue(r),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},o.prototype.getModelFromUi=function(){return this.isConditionUiComplete(nr.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(nr.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(nr.One),condition2:this.createCondition(nr.Two)}:this.createCondition(nr.One):null},o.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},o.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},o.prototype.areModelsEqual=function(r,s){if(!r&&!s)return!0;if(!r&&s||r&&!s)return!1;var v,l=!r.operator,c=!s.operator;if(!l&&c||l&&!c)return!1;if(l)v=this.areSimpleModelsEqual(r,s);else{var q=r,se=s;v=q.operator===se.operator&&this.areSimpleModelsEqual(q.condition1,se.condition1)&&this.areSimpleModelsEqual(q.condition2,se.condition2)}return v},o.prototype.setModelIntoUi=function(r){if(r.operator){var l=r,c="OR"===l.operator;this.eJoinOperatorAnd.setValue(!c),this.eJoinOperatorOr.setValue(c),this.eType1.setValue(l.condition1.type),this.eType2.setValue(l.condition2.type),this.setConditionIntoUi(l.condition1,nr.One),this.setConditionIntoUi(l.condition2,nr.Two)}else{var p=r;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(p.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(p,nr.One),this.setConditionIntoUi(null,nr.Two)}return oo.resolve()},o.prototype.doesFilterPass=function(r){var s=this,l=this.getModel();if(null==l)return!0;var c=l.operator,p=[];return c?p.push(l.condition1,l.condition2):p.push(l),p[c&&"OR"===c?"some":"every"](function(B){return s.individualConditionPasses(r,B)})},o.prototype.setParams=function(r){u.prototype.setParams.call(this,r),this.optionsFactory=new js,this.optionsFactory.init(r,this.getDefaultFilterOptions()),this.allowTwoConditions=!r.suppressAndOrCondition,this.alwaysShowBothConditions=!!r.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(r.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},o.prototype.getDefaultJoinOperator=function(r){return So(["AND","OR"],r)?r:"AND"},o.prototype.putOptionsIntoDropdown=function(){var r=this,s=this.optionsFactory.getFilterOptions(),l=[this.eType1,this.eType2];s.forEach(function(c){var p="string"==typeof c?r.createBoilerplateListOption(c):r.createCustomListOption(c);l.forEach(function(v){return v.addOption(p)})}),l.forEach(function(c){return c.setDisabled(s.length<=1)})},o.prototype.createBoilerplateListOption=function(r){return{value:r,text:this.translate(r)}},o.prototype.createCustomListOption=function(r){var s=r.displayKey,l=this.optionsFactory.getCustomOption(r.displayKey);return{value:s,text:l?this.gridOptionsWrapper.getLocaleTextFunc()(l.displayKey,l.displayName):this.translate(s)}},o.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},o.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(nr.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(nr.Two)},o.prototype.getCssIdentifier=function(){return"simple-filter"},o.prototype.updateUiVisibility=function(){var r=this,l=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(c,p){var v=r.isConditionVisible(p),F=r.isConditionDisabled(p);c.forEach(function(B){B instanceof Ca||B instanceof xg?(B.setDisabled(F),B.setDisplayed(v)):(Dc(B,F),Kn(B,v))})}),l.forEach(function(c,p){Kn(c,r.isConditionBodyVisible(p))}),this.forEachInput(function(c,p,v,F){r.setElementDisplayed(c,p<F),r.setElementDisabled(c,r.isConditionDisabled(v))}),this.resetPlaceholder()},o.prototype.afterGuiAttached=function(r){if(u.prototype.afterGuiAttached.call(this,r),this.resetPlaceholder(),!r||!r.suppressFocus&&!this.isReadOnly()){var s=this.getInputs()[0][0];if(!s)return;s instanceof Ca&&s.getInputElement().focus()}},o.prototype.resetPlaceholder=function(){var r=this,s=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(l,c,p,v){if(l instanceof Ca){var F=0===c&&v>1?"inRangeStart":0===c?"filterOoo":"inRangeEnd",B=0===c&&v>1?s("ariaFilterFromValue","Filter from value"):0===c?s("ariaFilterValue","Filter Value"):s("ariaFilterToValue","Filter to Value");l.setInputPlaceholder(r.translate(F)),l.setInputAriaLabel(B)}})},o.prototype.setElementValue=function(r,s,l){r instanceof Ca&&r.setValue(null!=s?String(s):null,l)},o.prototype.setElementDisplayed=function(r,s){r instanceof ln&&Kn(r.getGui(),s)},o.prototype.setElementDisabled=function(r,s){r instanceof ln&&Dc(r.getGui(),s)},o.prototype.attachElementOnChange=function(r,s){r instanceof Ca&&r.onValueChange(s)},o.prototype.forEachInput=function(r){var s=this,l=this.getInputs();this.getConditionTypes().forEach(function(c,p){for(var v=s.getNumberOfInputs(c),F=0;F<l[p].length;F++){var B=l[p][F];null!=B&&r(B,F,p,v)}})},o.prototype.isConditionVisible=function(r){return 0===r||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(r):!!this.alwaysShowBothConditions||this.isConditionUiComplete(r-1))},o.prototype.isConditionDisabled=function(r){return!(!this.isReadOnly()&&this.isConditionVisible(r))||0!==r&&!this.isConditionUiComplete(r-1)},o.prototype.isConditionBodyVisible=function(r){if(!this.isConditionVisible(r))return!1;var s=this.getConditionTypes()[r];return this.getNumberOfInputs(s)>0},o.prototype.isConditionUiComplete=function(r){return!(this.getConditionTypes()[r]===o.EMPTY||this.getValues(r).some(function(l){return null==l}))},o.prototype.resetUiToDefaults=function(r){var s=this,c=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),p="ag-simple-filter-and-or-"+this.getCompId(),v=this.optionsFactory.getDefaultOption();return this.eType1.setValue(v,r).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),r).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),r).setName(p).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),r).setName(p).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(F){s.setElementValue(F,null,r),s.setElementDisabled(F,s.isReadOnly())}),this.resetPlaceholder(),oo.resolve()},o.prototype.setConditionIntoUi=function(r,s){var l=this,c=this.mapValuesFromModel(r);this.forEachInput(function(p,v,F,B){F===s&&l.setElementValue(p,null!=c[v]?c[v]:null)})},o.prototype.setValueFromFloatingFilter=function(r){var s=this;this.forEachInput(function(l,c,p,v){s.setElementValue(l,0===c&&0===p?r:null)})},o.prototype.isDefaultOperator=function(r){return r===this.defaultJoinOperator},o.prototype.addChangedListeners=function(){var r=this;if(!this.isReadOnly()){var s=function(){return r.onUiChanged()};this.eType1.onValueChange(s),this.eType2.onValueChange(s),this.eJoinOperatorOr.onValueChange(s),this.eJoinOperatorAnd.onValueChange(s),this.forEachInput(function(l){r.attachElementOnChange(l,s)})}},o.prototype.individualConditionPasses=function(r,s){var l=this.getCellValue(r.node),c=this.mapValuesFromModel(s),p=this.optionsFactory.getCustomOption(s.type),v=this.evaluateCustomFilter(p,c,l);return null!=v?v:null==l?this.evaluateNullValue(s.type):this.evaluateNonNullValue(c,l,s,r)},o.prototype.evaluateCustomFilter=function(r,s,l){if(null!=r){var c=r.predicate;if(null!=c&&!s.some(function(p){return null==p}))return c(s,l)}},o.prototype.isBlank=function(r){return null==r||"string"==typeof r&&0===r.trim().length},o.EMPTY="empty",o.BLANK="blank",o.NOT_BLANK="notBlank",o.EQUALS="equals",o.NOT_EQUAL="notEqual",o.LESS_THAN="lessThan",o.LESS_THAN_OR_EQUAL="lessThanOrEqual",o.GREATER_THAN="greaterThan",o.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",o.IN_RANGE="inRange",o.CONTAINS="contains",o.NOT_CONTAINS="notContains",o.STARTS_WITH="startsWith",o.ENDS_WITH="endsWith",$s([ct("eOptions1")],o.prototype,"eType1",void 0),$s([ct("eOptions2")],o.prototype,"eType2",void 0),$s([ct("eJoinOperatorPanel")],o.prototype,"eJoinOperatorPanel",void 0),$s([ct("eJoinOperatorAnd")],o.prototype,"eJoinOperatorAnd",void 0),$s([ct("eJoinOperatorOr")],o.prototype,"eJoinOperatorOr",void 0),$s([ct("eCondition1Body")],o.prototype,"eCondition1Body",void 0),$s([ct("eCondition2Body")],o.prototype,"eCondition2Body",void 0),o}(Zu),Tg=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ir=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Tg(o,u),o.prototype.setParams=function(r){u.prototype.setParams.call(this,r),this.scalarFilterParams=r},o.prototype.evaluateNullValue=function(r){switch(r){case o.EQUALS:case o.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case o.GREATER_THAN:case o.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case o.LESS_THAN:case o.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case o.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case o.BLANK:return!0;case o.NOT_BLANK:return!1}return!1},o.prototype.evaluateNonNullValue=function(r,s,l){var c=this.comparator(),p=null!=r[0]?c(r[0],s):0;switch(l.type){case o.EQUALS:return 0===p;case o.NOT_EQUAL:return 0!==p;case o.GREATER_THAN:return p>0;case o.GREATER_THAN_OR_EQUAL:return p>=0;case o.LESS_THAN:return p<0;case o.LESS_THAN_OR_EQUAL:return p<=0;case o.IN_RANGE:var v=c(r[1],s);return this.scalarFilterParams.inRangeInclusive?p>=0&&v<=0:p>0&&v<0;case o.BLANK:return this.isBlank(s);case o.NOT_BLANK:return!this.isBlank(s);default:return console.warn('AG Grid: Unexpected type of filter "'+l.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},o}(ki),n1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ws=function(){return Ws=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Ws.apply(this,arguments)},ba=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Nl=function(u){function o(){var r=u.call(this,"dateFilter")||this;return r.minValidYear=1e3,r.maxValidYear=1/0,r}return n1(o,u),o.prototype.afterGuiAttached=function(r){u.prototype.afterGuiAttached.call(this,r),this.dateCondition1FromComp.afterGuiAttached(r)},o.prototype.mapValuesFromModel=function(r){var s=r||{},l=s.dateFrom,c=s.dateTo,p=s.type;return[l&&Bs(l)||null,c&&Bs(c)||null].slice(0,this.getNumberOfInputs(p))},o.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},o.prototype.defaultComparator=function(r,s){return null==s||s<r?-1:s>r?1:0},o.prototype.setParams=function(r){u.prototype.setParams.call(this,r),this.dateFilterParams=r;var s=function(l,c){if(null!=r[l]){if(!isNaN(r[l]))return null==r[l]?c:Number(r[l]);console.warn("AG Grid: DateFilter "+l+" is not a number")}return c};this.minValidYear=s("minValidYear",1e3),this.maxValidYear=s("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},o.prototype.createDateComponents=function(){var r=this,s=function(l){return new bg(r.getContext(),r.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:r.dateFilterParams},l)};this.dateCondition1FromComp=s(this.eCondition1PanelFrom),this.dateCondition1ToComp=s(this.eCondition1PanelTo),this.dateCondition2FromComp=s(this.eCondition2PanelFrom),this.dateCondition2ToComp=s(this.eCondition2PanelTo),this.addDestroyFunc(function(){r.forEachInput(function(l){return l.destroy()})})},o.prototype.setElementValue=function(r,s,l){r.setDate(s)},o.prototype.setElementDisplayed=function(r,s){r.setDisplayed(s)},o.prototype.setElementDisabled=function(r,s){r.setDisabled(s)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var s=r===nr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+s+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+s+'PanelTo"></div>\n            </div>'},o.prototype.isConditionUiComplete=function(r){var s=this;if(!u.prototype.isConditionUiComplete.call(this,r))return!1;var c=!0;return this.forEachInput(function(p,v,F,B){F!==r||!c||v>=B||(c=c&&function(p){return null!=p&&p.getUTCFullYear()>=s.minValidYear&&p.getUTCFullYear()<=s.maxValidYear}(p.getDate()))}),c},o.prototype.areSimpleModelsEqual=function(r,s){return r.dateFrom===s.dateFrom&&r.dateTo===s.dateTo&&r.type===s.type},o.prototype.getFilterType=function(){return"date"},o.prototype.createCondition=function(r){var s=this.getConditionTypes()[r],l={},c=this.getValues(r);return c.length>0&&(l.dateFrom=lr(c[0])),c.length>1&&(l.dateTo=lr(c[1])),Ws({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:s},l)},o.prototype.resetPlaceholder=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.translate("dateFormatOoo"),l=r("ariaFilterValue","Filter Value");this.forEachInput(function(c){c.setInputPlaceholder(s),c.setInputAriaLabel(l)})},o.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},o.prototype.getValues=function(r){var s=[];return this.forEachInput(function(l,c,p,v){r===p&&c<v&&s.push(l.getDate())}),s},o.DEFAULT_FILTER_OPTIONS=[ir.EQUALS,ir.GREATER_THAN,ir.LESS_THAN,ir.NOT_EQUAL,ir.IN_RANGE,ir.BLANK,ir.NOT_BLANK],ba([ct("eCondition1PanelFrom")],o.prototype,"eCondition1PanelFrom",void 0),ba([ct("eCondition1PanelTo")],o.prototype,"eCondition1PanelTo",void 0),ba([ct("eCondition2PanelFrom")],o.prototype,"eCondition2PanelFrom",void 0),ba([ct("eCondition2PanelTo")],o.prototype,"eCondition2PanelTo",void 0),ba([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),o}(ir),Eg=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),iy=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Eg(o,u),o.prototype.getDefaultDebounceMs=function(){return 0},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.getTextFromModel=function(r){if(!r)return null;if(null!=r.operator){var l=r,c=l||{},p=c.condition1,v=c.condition2,F=this.optionsFactory.getCustomOption(p.type),B=this.optionsFactory.getCustomOption(v.type);return[this.conditionToString(p,F),l.operator,this.conditionToString(v,B)].join(" ")}var q=r,se=this.optionsFactory.getCustomOption(q.type),fe=se||{},we=fe.displayKey,xe=fe.displayName;return we&&xe&&0===fe.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(we,xe),xe):this.conditionToString(q,se)},o.prototype.isEventFromFloatingFilter=function(r){return r&&r.afterFloatingFilter},o.prototype.getLastType=function(){return this.lastType},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setLastTypeFromModel=function(r){r?this.lastType=(r.operator?r.condition1:r).type:this.lastType=this.optionsFactory.getDefaultOption()},o.prototype.canWeEditAfterModelFromParentFilter=function(r){return r?!r.operator&&this.isTypeEditable(r.type):this.isTypeEditable(this.lastType)},o.prototype.init=function(r){this.optionsFactory=new js,this.optionsFactory.init(r.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!r.filterParams.readOnly;var s=this.isTypeEditable(this.lastType);this.setEditable(s)},o.prototype.doesFilterHaveSingleInput=function(r){var l=(this.optionsFactory.getCustomOption(r)||{}).numberOfInputs;return null==l||1==l},o.prototype.isTypeEditable=function(r){var s=[ki.IN_RANGE,ki.EMPTY,ki.BLANK,ki.NOT_BLANK];return!!r&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(r)&&s.indexOf(r)<0},o}(ln),r1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ry=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},sR=function(u){function o(){return u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return r1(o,u),o.prototype.getDefaultFilterOptions=function(){return Nl.DEFAULT_FILTER_OPTIONS},o.prototype.conditionToString=function(r,s){var l=r.type,p=l==ki.IN_RANGE||2===(s||{}).numberOfInputs,v=Bs(r.dateFrom),F=Bs(r.dateTo);return p?lr(v,!1)+"-"+lr(F,!1):null!=v?""+lr(v,!1):""+l},o.prototype.init=function(r){u.prototype.init.call(this,r),this.params=r,this.createDateComponent();var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(s("ariaDateFilterInput","Date Filter Input"))},o.prototype.setEditable=function(r){Kn(this.eDateWrapper,r),Kn(this.eReadOnlyText.getGui(),!r)},o.prototype.onParentModelChanged=function(r,s){if(!this.isEventFromFloatingFilter(s)){u.prototype.setLastTypeFromModel.call(this,r);var l=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(r);this.setEditable(l),l?(this.dateComp.setDate(r?Bs(r.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(r)),this.dateComp.setDate(null))}},o.prototype.onDateChanged=function(){var r=this,l=lr(this.dateComp.getDate());this.params.parentFilterInstance(function(c){if(c){var p=Bs(l);c.onFloatingFilterChanged(r.getLastType()||null,p)}})},o.prototype.createDateComponent=function(){var r=this,s=Zu.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),l={onDateChanged:$e(this.onDateChanged.bind(this),s),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new bg(this.getContext(),this.userComponentFactory,l,this.eDateWrapper),this.addDestroyFunc(function(){return r.dateComp.destroy()})},ry([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),ry([ct("eReadOnlyText")],o.prototype,"eReadOnlyText",void 0),ry([ct("eDateWrapper")],o.prototype,"eDateWrapper",void 0),o}(iy),Jh=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Dg=function(u){function o(){return u.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Jh(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(r){var s=this,l=this.gridOptionsWrapper.getDocument(),c=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(r)&&(c.type="date"),this.addManagedListener(c,"mousedown",function(){s.eDateInput.isDisabled()||c.focus()}),this.addManagedListener(c,"input",function(B){B.target===l.activeElement&&(s.eDateInput.isDisabled()||r.onDateChanged())});var p=r.filterParams||{},v=p.minValidYear,F=p.maxValidYear;v&&(c.min=v+"-01-01"),F&&(c.max=F+"-12-31")},o.prototype.getDate=function(){return Bs(this.eDateInput.getValue())},o.prototype.setDate=function(r){this.eDateInput.setValue(lr(r,!1))},o.prototype.setInputPlaceholder=function(r){this.eDateInput.setInputPlaceholder(r)},o.prototype.setDisabled=function(r){this.eDateInput.setDisabled(r)},o.prototype.afterGuiAttached=function(r){(!r||!r.suppressFocus)&&this.eDateInput.getInputElement().focus()},o.prototype.shouldUseBrowserDatePicker=function(r){return r.filterParams&&null!=r.filterParams.browserDatePicker?r.filterParams.browserDatePicker:Vh()||To()},function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([ct("eDateInput")],o.prototype,"eDateInput",void 0),o}(ln),ep=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ju=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},tp=function(u){function o(){return u.call(this,"numberFilter")||this}return ep(o,u),o.prototype.mapValuesFromModel=function(r){var s=r||{},l=s.filter,c=s.filterTo;return[null==l?null:l,null==c?null:c].slice(0,this.getNumberOfInputs(s.type))},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.comparator=function(){return function(r,s){return r===s?0:r<s?1:-1}},o.prototype.setParams=function(r){this.numberFilterParams=r;var s=this.getAllowedCharPattern();if(s){var l={allowedCharPattern:s};this.resetTemplate({"eValue-index0-1":l,"eValue-index1-1":l,"eValue-index0-2":l,"eValue-index1-2":l})}u.prototype.setParams.call(this,r)},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var s=r===nr.One?"1":"2",c=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <'+c+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></'+c+">\n                <"+c+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></'+c+">\n            </div>"},o.prototype.getValues=function(r){var s=this,l=[];return this.forEachInput(function(c,p,v,F){r===v&&p<F&&l.push(s.stringToFloat(c.getValue()))}),l},o.prototype.areSimpleModelsEqual=function(r,s){return r.filter===s.filter&&r.filterTo===s.filterTo&&r.type===s.type},o.prototype.getFilterType=function(){return"number"},o.prototype.stringToFloat=function(r){if("number"==typeof r)return r;var s=k(r);return null!=s&&""===s.trim()&&(s=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(s):null==s||"-"===s.trim()?null:parseFloat(s)},o.prototype.createCondition=function(r){var s=this.getConditionTypes()[r],l={filterType:this.getFilterType(),type:s},c=this.getValues(r);return c.length>0&&(l.filter=c[0]),c.length>1&&(l.filterTo=c[1]),l},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Vh()||ro()?null:"\\d\\-\\.")},o.DEFAULT_FILTER_OPTIONS=[ir.EQUALS,ir.NOT_EQUAL,ir.LESS_THAN,ir.LESS_THAN_OR_EQUAL,ir.GREATER_THAN,ir.GREATER_THAN_OR_EQUAL,ir.IN_RANGE,ir.BLANK,ir.NOT_BLANK],Ju([ct("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),Ju([ct("eValue-index1-1")],o.prototype,"eValueTo1",void 0),Ju([ct("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),Ju([ct("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(ir),Nc=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),np=function(){return np=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},np.apply(this,arguments)},wa=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Fc=function(u){function o(){return u.call(this,"textFilter")||this}return Nc(o,u),o.trimInput=function(r){var s=r&&r.trim();return""===s?r:s},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.setParams=function(r){u.prototype.setParams.call(this,r),this.textFilterParams=r,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?o.DEFAULT_FORMATTER:o.DEFAULT_LOWERCASE_FORMATTER)},o.prototype.getTextMatcher=function(){var r=this.textFilterParams.textCustomComparator;return r?(an.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(s){return r(s.filterOption,s.value,s.filterText)}):this.textFilterParams.textMatcher||o.DEFAULT_MATCHER},o.prototype.createCondition=function(r){var s=this.getConditionTypes()[r],l={filterType:this.getFilterType(),type:s},c=this.getValues(r);return c.length>0&&(l.filter=c[0]),c.length>1&&(l.filterTo=c[1]),l},o.prototype.getFilterType=function(){return"text"},o.prototype.areSimpleModelsEqual=function(r,s){return r.filter===s.filter&&r.filterTo===s.filterTo&&r.type===s.type},o.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},o.prototype.getValues=function(r){var s=this,l=[];return this.forEachInput(function(c,p,v,F){if(r===v&&p<F){var B=k(c.getValue()),q=(s.textFilterParams.trimInput?o.trimInput(B):B)||null;l.push(q),c.setValue(q,!0)}}),l},o.prototype.getDefaultFilterOptions=function(){return o.DEFAULT_FILTER_OPTIONS},o.prototype.createValueTemplate=function(r){var s=r===nr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+s+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+s+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+s+'"></ag-input-text-field>\n            </div>'},o.prototype.mapValuesFromModel=function(r){var s=r||{};return[s.filter||null,s.filterTo||null].slice(0,this.getNumberOfInputs(s.type))},o.prototype.evaluateNullValue=function(r){return!!r&&[ki.NOT_EQUAL,ki.NOT_CONTAINS,ki.BLANK].indexOf(r)>=0},o.prototype.evaluateNonNullValue=function(r,s,l,c){var p=this,v=r.map(function(We){return p.formatter(We)})||[],F=this.formatter(s),B=this.textFilterParams,q=B.api,se=B.colDef,fe=B.column,we=B.columnApi,xe=B.context,Pe=B.textFormatter;if(l.type===ki.BLANK)return this.isBlank(s);if(l.type===ki.NOT_BLANK)return!this.isBlank(s);var Be={api:q,colDef:se,column:fe,columnApi:we,context:xe,node:c.node,data:c.data,filterOption:l.type,value:F,textFormatter:Pe};return v.some(function(We){return p.matcher(np(np({},Be),{filterText:We}))})},o.DEFAULT_FILTER_OPTIONS=[ki.CONTAINS,ki.NOT_CONTAINS,ki.EQUALS,ki.NOT_EQUAL,ki.STARTS_WITH,ki.ENDS_WITH,ki.BLANK,ki.NOT_BLANK],o.DEFAULT_FORMATTER=function(r){return r},o.DEFAULT_LOWERCASE_FORMATTER=function(r){return null==r?null:r.toString().toLowerCase()},o.DEFAULT_MATCHER=function(r){var l=r.value,c=r.filterText;if(null==c)return!1;switch(r.filterOption){case o.CONTAINS:return l.indexOf(c)>=0;case o.NOT_CONTAINS:return l.indexOf(c)<0;case o.EQUALS:return l===c;case o.NOT_EQUAL:return l!=c;case o.STARTS_WITH:return 0===l.indexOf(c);case o.ENDS_WITH:var p=l.lastIndexOf(c);return p>=0&&p===l.length-c.length;default:return!1}},wa([ct("eValue-index0-1")],o.prototype,"eValueFrom1",void 0),wa([ct("eValue-index1-1")],o.prototype,"eValueTo1",void 0),wa([ct("eValue-index0-2")],o.prototype,"eValueFrom2",void 0),wa([ct("eValue-index1-2")],o.prototype,"eValueTo2",void 0),o}(ki),ip=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),sy=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ag=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ip(o,u),o.prototype.postConstruct=function(){this.resetTemplate()},o.prototype.resetTemplate=function(r){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',r)},o.prototype.getDefaultDebounceMs=function(){return 500},o.prototype.onParentModelChanged=function(r,s){this.isEventFromFloatingFilter(s)||(this.setLastTypeFromModel(r),this.eFloatingFilterInput.setValue(this.getTextFromModel(r)),this.setEditable(this.canWeEditAfterModelFromParentFilter(r)))},o.prototype.init=function(r){u.prototype.init.call(this,r),this.params=r,this.applyActive=Zu.isUseApplyButton(this.params.filterParams);var s=this.params.filterParams.allowedCharPattern;if(null!=s&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:s}}),!this.isReadOnly()){var l=Zu.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c=$e(this.syncUpWithParentFilter.bind(this),l),p=this.eFloatingFilterInput.getGui();this.addManagedListener(p,"input",c),this.addManagedListener(p,"keypress",c),this.addManagedListener(p,"keydown",c)}var v=r.column.getDefinition();(this.isReadOnly()||v.filterParams&&v.filterParams.filterOptions&&1===v.filterParams.filterOptions.length&&"inRange"===v.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var F=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),B=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(F+" "+B("ariaFilterInput","Filter Input"))},o.prototype.syncUpWithParentFilter=function(r){var s=this;if(!this.applyActive||r.key===ht.ENTER){var c=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(c=Fc.trimInput(c),this.eFloatingFilterInput.setValue(c,!0)),this.params.parentFilterInstance(function(p){p&&p.onFloatingFilterChanged(s.getLastType()||null,c||null)})}},o.prototype.conditionToString=function(r,s){return r.type==ki.IN_RANGE||2===(s||{}).numberOfInputs?r.filter+"-"+r.filterTo:null!=r.filter?""+r.filter:""+r.type},o.prototype.setEditable=function(r){this.eFloatingFilterInput.setDisabled(!r)},sy([de("columnModel")],o.prototype,"columnModel",void 0),sy([ct("eFloatingFilterInput")],o.prototype,"eFloatingFilterInput",void 0),sy([tt],o.prototype,"postConstruct",null),o}(iy),ay=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),o1=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ay(o,u),o.prototype.getDefaultFilterOptions=function(){return tp.DEFAULT_FILTER_OPTIONS},o}(Ag),s1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Lc=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return s1(o,u),o.prototype.getDefaultFilterOptions=function(){return Fc.DEFAULT_FILTER_OPTIONS},o}(Ag),so=function(){function u(o,r){var s=this;void 0===r&&(r=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new ds,this.eElement=o,this.preventMouseClick=r;var l=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),p=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",l,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",p,{passive:!1}),this.destroyFuncs.push(function(){s.eElement.removeEventListener("touchstart",l,{passive:!0}),s.eElement.removeEventListener("touchmove",c,{passive:!0}),s.eElement.removeEventListener("touchend",p,{passive:!1})})}return u.prototype.getActiveTouch=function(o){for(var r=0;r<o.length;r++)if(o[r].identifier===this.touchStart.identifier)return o[r];return null},u.prototype.addEventListener=function(o,r){this.eventService.addEventListener(o,r)},u.prototype.removeEventListener=function(o,r){this.eventService.removeEventListener(o,r)},u.prototype.onTouchStart=function(o){var r=this;if(!this.touching){this.touchStart=o.touches[0],this.touching=!0,this.moved=!1;var s=this.touchStart;window.setTimeout(function(){r.touching&&r.touchStart===s&&!r.moved&&(r.moved=!0,r.eventService.dispatchEvent({type:u.EVENT_LONG_TAP,touchStart:r.touchStart,touchEvent:o}))},500)}},u.prototype.onTouchMove=function(o){if(this.touching){var r=this.getActiveTouch(o.touches);r&&!Ua(r,this.touchStart,4)&&(this.moved=!0)}},u.prototype.onTouchEnd=function(o){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:u.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&o.preventDefault(),this.touching=!1)},u.prototype.checkForDoubleTap=function(){var o=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&o-this.lastTapTime>u.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:u.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=o},u.prototype.destroy=function(){this.destroyFuncs.forEach(function(o){return o()})},u.EVENT_TAP="tap",u.EVENT_DOUBLE_TAP="doubleTap",u.EVENT_LONG_TAP="longTap",u.DOUBLE_TAP_MILLIS=500,u}(),kg=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ko=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},rp=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.lastMovingChanged=0,r}return kg(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.refresh=function(r){return this.params=r,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(r),!0)},o.prototype.workOutTemplate=function(){var r=cn(this.params.template,o.TEMPLATE);return r&&r.trim?r.trim():r},o.prototype.init=function(r){this.params=r,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(r.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(r)},o.prototype.setDisplayName=function(r){if(this.currentDisplayName!=r.displayName){this.currentDisplayName=r.displayName;var s=hs(this.currentDisplayName);this.eText&&(this.eText.innerHTML=s)}},o.prototype.setupIcons=function(r){this.addInIcon("sortAscending",this.eSortAsc,r),this.addInIcon("sortDescending",this.eSortDesc,r),this.addInIcon("sortUnSort",this.eSortNone,r),this.addInIcon("menu",this.eMenu,r),this.addInIcon("filter",this.eFilter,r)},o.prototype.addInIcon=function(r,s,l){if(null!=s){var c=Ui(r,this.gridOptionsWrapper,l);c&&s.appendChild(c)}},o.prototype.setupTap=function(){var r=this,s=this.gridOptionsWrapper;if(!s.isSuppressTouch()){var l=new so(this.getGui(),!0),c=s.isSuppressMenuHide(),p=c&&I(this.eMenu),v=p?new so(this.eMenu,!0):l;this.params.enableMenu&&this.addManagedListener(v,so[p?"EVENT_TAP":"EVENT_LONG_TAP"],function(se){s.getApi().showColumnMenuAfterMouseClick(r.params.column,se.touchStart)}),this.params.enableSorting&&this.addManagedListener(l,so.EVENT_TAP,function(se){c&&r.eMenu.contains(se.touchStart.target)||r.sortController.progressSort(r.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return l.destroy()}),p&&this.addDestroyFunc(function(){return v.destroy()})}},o.prototype.workOutShowMenu=function(){var r=!this.gridOptionsWrapper.isSuppressMenuHide(),s=Sc()&&r;return this.params.enableMenu&&!s},o.prototype.setMenu=function(){var r=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void pr(this.eMenu);var s=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return r.showMenu(r.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",s)}},o.prototype.showMenu=function(r){r||(r=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,r,"columnMenu")},o.prototype.removeSortIcons=function(){pr(this.eSortAsc),pr(this.eSortDesc),pr(this.eSortNone),pr(this.eSortOrder)},o.prototype.workOutSort=function(){return this.params.enableSorting},o.prototype.setupSort=function(){var r=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var s=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,at.EVENT_MOVING_CHANGED,function(){r.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(l){var c=r.params.column.isMoving(),p=(new Date).getTime();c||p-r.lastMovingChanged<50||r.params.progressSort(s?l.ctrlKey||l.metaKey:l.shiftKey)}),this.addManagedListener(this.params.column,at.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,Te.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},o.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var r=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",r||!this.params.column.isSortNone())}},o.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var r=this.params.column,s=this.sortController.getColumnsWithSortingOrdered(),l=s.indexOf(r),c=s.length>1,p=r.isSorting()&&c;Kn(this.eSortOrder,p),l>=0?this.eSortOrder.innerHTML=(l+1).toString():bi(this.eSortOrder)}},o.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,at.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},o.prototype.onFilterChanged=function(){var r=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!r)},o.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',ko([de("sortController")],o.prototype,"sortController",void 0),ko([de("menuFactory")],o.prototype,"menuFactory",void 0),ko([ct("eFilter")],o.prototype,"eFilter",void 0),ko([ct("eSortAsc")],o.prototype,"eSortAsc",void 0),ko([ct("eSortDesc")],o.prototype,"eSortDesc",void 0),ko([ct("eSortNone")],o.prototype,"eSortNone",void 0),ko([ct("eSortOrder")],o.prototype,"eSortOrder",void 0),ko([ct("eMenu")],o.prototype,"eMenu",void 0),ko([ct("eLabel")],o.prototype,"eLabel",void 0),ko([ct("eText")],o.prototype,"eText",void 0),o}(ln),a1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),op=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},ly=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return a1(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(r){this.params=r,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},o.prototype.checkWarnings=function(){this.params.template&&ze(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},o.prototype.setupExpandIcons=function(){var r=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var s=function(p){if(!zo(p)){var v=!r.params.columnGroup.isExpanded();r.columnModel.setColumnGroupOpened(r.params.columnGroup.getProvidedColumnGroup(),v,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,s),this.addTouchAndClickListeners(this.eOpenIcon,s);var l=function(p){Sl(p)};this.addManagedListener(this.eCloseIcon,"dblclick",l),this.addManagedListener(this.eOpenIcon,"dblclick",l),this.addManagedListener(this.getGui(),"dblclick",s),this.updateIconVisibility();var c=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(c,Tn.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(c,Tn.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},o.prototype.addTouchAndClickListeners=function(r,s){var l=new so(r,!0);this.addManagedListener(l,so.EVENT_TAP,s),this.addDestroyFunc(function(){return l.destroy()}),this.addManagedListener(r,"click",s)},o.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var s=this.params.columnGroup.isExpanded();Kn(this.eOpenIcon,s),Kn(this.eCloseIcon,!s)}else Kn(this.eOpenIcon,!1),Kn(this.eCloseIcon,!1)},o.prototype.addInIcon=function(r,s){var l=Ui(r,this.gridOptionsWrapper,null);l&&this.getRefElement(s).appendChild(l)},o.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Kn(this.eOpenIcon,!1),void Kn(this.eCloseIcon,!1)},o.prototype.setupLabel=function(){var r=this.params.displayName;if(I(r)){var s=hs(r);this.getRefElement("agLabel").innerHTML=s}},o.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',op([de("columnModel")],o.prototype,"columnModel",void 0),op([ct("agOpened")],o.prototype,"eOpenIcon",void 0),op([ct("agClosed")],o.prototype,"eCloseIcon",void 0),o}(ln),cy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Fl=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return cy(o,u),o.prototype.isPopup=function(){return!0},o.prototype.setParentComponent=function(r){r.addCssClass("ag-has-popup"),u.prototype.setParentComponent.call(this,r)},o.prototype.destroy=function(){var r=this.parentComponent;r&&r.isAlive()&&r.getGui().classList.remove("ag-has-popup"),u.prototype.destroy.call(this)},o}(ln),l1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ed=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return l1(o,u),o.prototype.init=function(r){this.params=r,this.focusAfterAttached=r.cellStartedEdit,this.eTextArea.setMaxLength(r.maxLength||200).setCols(r.cols||60).setRows(r.rows||10),I(r.value)&&this.eTextArea.setValue(r.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},o.prototype.onKeyDown=function(r){var s=r.key;(s===ht.LEFT||s===ht.UP||s===ht.RIGHT||s===ht.DOWN||r.shiftKey&&s===ht.ENTER)&&r.stopPropagation()},o.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},o.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},o.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([ct("eTextArea")],o.prototype,"eTextArea",void 0),o}(Fl),td=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),uy=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},sp=function(u){function o(){var r=u.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return r.startedByEnter=!1,r}return td(o,u),o.prototype.init=function(r){var s=this;if(this.focusAfterAttached=r.cellStartedEdit,O(r.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=r.eventKey&&r.eventKey===ht.ENTER;var l=!1;r.values.forEach(function(c){var p={value:c},v=s.valueFormatterService.formatValue(r.column,null,null,c);p.text=null!=v?v:c,s.eSelect.addOption(p),l=l||r.value===c}),l?this.eSelect.setValue(r.value,!0):r.values.length&&this.eSelect.setValue(r.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return r.stopEditing()})}},o.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},o.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},o.prototype.getValue=function(){return this.eSelect.getValue()},o.prototype.isPopup=function(){return!1},uy([de("valueFormatterService")],o.prototype,"valueFormatterService",void 0),uy([ct("eSelect")],o.prototype,"eSelect",void 0),o}(Fl),dy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ll=function(u){function o(){var r=u.call(this)||this;return ze(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),r}return dy(o,u),o.prototype.isPopup=function(){return!0},o}(sp),mr=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Us=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return mr(o,u),o.prototype.init=function(r){this.params=r;var l,s=this.eInput;r.cellStartedEdit?(this.focusAfterAttached=!0,r.eventKey===ht.BACKSPACE||r.eventKey===ht.DELETE?l="":r.charPress?l=r.charPress:(l=this.getStartValue(r),r.eventKey!==ht.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=this.getStartValue(r)),null!=l&&s.setValue(l,!0),this.addManagedListener(s.getGui(),"keydown",function(c){var p=c.key;(p===ht.PAGE_UP||p===ht.PAGE_DOWN)&&c.preventDefault()})},o.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.eInput;if(s.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached){Lh()||s.getFocusableElement().focus();var l=s.getInputElement();if(this.highlightAllOnFocus)l.select();else{var c=s.getValue(),p=I(c)&&c.length||0;p&&l.setSelectionRange(p,p)}}},o.prototype.focusIn=function(){var r=this.eInput,s=r.getFocusableElement(),l=r.getInputElement();s.focus(),l.select()},o.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},o.prototype.getStartValue=function(r){return r.useFormatter||r.column.getColDef().refData?r.formatValue(r.value):r.value},o.prototype.isPopup=function(){return!1},o.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([ct("eInput")],o.prototype,"eInput",void 0),o}(Fl),Vc=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Vl=function(u){function o(){var r=u.call(this)||this;return ze(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),r}return Vc(o,u),o.prototype.isPopup=function(){return!0},o}(Us),Gc=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ap=function(u){function o(){var r=u.call(this,o.TEMPLATE)||this;return r.refreshCount=0,r}return Gc(o,u),o.prototype.init=function(r){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(r)},o.prototype.showDelta=function(r,s){var l=Math.abs(s),c=r.formatValue(l),p=I(c)?c:l,v=s>=0;this.eDelta.innerHTML=v?"\u2191"+p:"\u2193"+p,this.eDelta.classList.toggle("ag-value-change-delta-up",v),this.eDelta.classList.toggle("ag-value-change-delta-down",!v)},o.prototype.setTimerToRemoveDelta=function(){var r=this;this.refreshCount++;var s=this.refreshCount;window.setTimeout(function(){s===r.refreshCount&&r.hideDeltaValue()},2e3)},o.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),bi(this.eDelta)},o.prototype.refresh=function(r){var s=r.value;return s!==this.lastValue&&(I(r.valueFormatted)?this.eValue.innerHTML=r.valueFormatted:I(r.value)?this.eValue.innerHTML=s:bi(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof s&&"number"==typeof this.lastValue&&this.showDelta(r,s-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=s,!0)},o.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([de("filterManager")],o.prototype,"filterManager",void 0),o}(ln),u1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),lp=function(u){function o(){var r=u.call(this,o.TEMPLATE)||this;return r.refreshCount=0,r.eCurrent=r.queryForHtmlElement(".ag-value-slide-current"),r}return u1(o,u),o.prototype.init=function(r){this.refresh(r)},o.prototype.addSlideAnimation=function(){var r=this;this.refreshCount++;var s=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=di('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){s===r.refreshCount&&r.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){s===r.refreshCount&&(r.getGui().removeChild(r.ePrevious),r.ePrevious=null)},3e3)},o.prototype.refresh=function(r){var s=r.value;return O(s)&&(s=""),s!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=s,I(r.valueFormatted)?this.eCurrent.innerHTML=r.valueFormatted:I(r.value)?this.eCurrent.innerHTML=s:bi(this.eCurrent),!0)},o.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([de("filterManager")],o.prototype,"filterManager",void 0),o}(ln);!function(u){u[u.Above=0]="Above",u[u.Below=1]="Below"}(z.oh5||(z.oh5={}));var Dn=function(){function u(o){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=u.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=$e(this.onRowHeightChanged.bind(this),100),this.beans=o}return u.prototype.setData=function(o){this.setDataCommon(o,!1)},u.prototype.updateData=function(o){this.setDataCommon(o,!0)},u.prototype.setDataCommon=function(o,r){var s=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var l=this.createDataChangedEvent(o,s,r);this.dispatchLocalEvent(l)},u.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},u.prototype.createDataChangedEvent=function(o,r,s){return{type:u.EVENT_DATA_CHANGED,node:this,oldData:r,newData:o,update:s}},u.prototype.createLocalRowEvent=function(o){return{type:o,node:this}},u.prototype.getRowIndexString=function(){return this.rowPinned===Ie.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===Ie.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},u.prototype.createDaemonNode=function(){var o=new u(this.beans);return o.id=this.id,o.data=this.data,o.daemon=!0,o.selected=this.selected,o.level=this.level,o},u.prototype.setDataAndId=function(o,r){var s=I(this.id)?this.createDaemonNode():null,l=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(r),this.beans.selectionService.syncInRowNode(this,s),this.checkRowSelectable();var c=this.createDataChangedEvent(o,l,!1);this.dispatchLocalEvent(c)},u.prototype.checkRowSelectable=function(){var o=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!o||o(this))},u.prototype.setRowSelectable=function(o){this.selectable!==o&&(this.selectable=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_SELECTABLE_CHANGED)))},u.prototype.setId=function(o){var r=this.beans.gridOptionsWrapper.getRowIdFunc();if(r)if(this.data){var s=this.getGroupKeys(!0);this.id=r({data:this.data,parentKeys:s.length>0?s:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(u.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+u.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=o},u.prototype.getGroupKeys=function(o){void 0===o&&(o=!1);var r=[],s=this;for(o&&(s=s.parent);s&&s.level>=0;)r.push(s.key),s=s.parent;return r.reverse(),r},u.prototype.isPixelInRange=function(o){return!(!I(this.rowTop)||!I(this.rowHeight))&&o>=this.rowTop&&o<this.rowTop+this.rowHeight},u.prototype.setFirstChild=function(o){this.firstChild!==o&&(this.firstChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_FIRST_CHILD_CHANGED)))},u.prototype.setLastChild=function(o){this.lastChild!==o&&(this.lastChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_LAST_CHILD_CHANGED)))},u.prototype.setChildIndex=function(o){this.childIndex!==o&&(this.childIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_CHILD_INDEX_CHANGED)))},u.prototype.setRowTop=function(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_TOP_CHANGED)),this.setDisplayed(null!==o))},u.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},u.prototype.setDisplayed=function(o){this.displayed!==o&&(this.displayed=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DISPLAYED_CHANGED)))},u.prototype.setDragging=function(o){this.dragging!==o&&(this.dragging=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_DRAGGING_CHANGED)))},u.prototype.setHighlighted=function(o){o!==this.highlighted&&(this.highlighted=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HIGHLIGHT_CHANGED)))},u.prototype.setAllChildrenCount=function(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},u.prototype.setMaster=function(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_MASTER_CHANGED)))},u.prototype.setGroup=function(o){this.group!==o&&(this.group&&!o&&(this.expanded=!1),this.group=o,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_GROUP_CHANGED)))},u.prototype.setRowHeight=function(o,r){void 0===r&&(r=!1),this.rowHeight=o,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HEIGHT_CHANGED))},u.prototype.setRowAutoHeight=function(o,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=o,null!=o&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=$e(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},u.prototype.checkAutoHeights=function(){var o=!1,r=!0,s=0,l=this.__autoHeights;null!=l&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(p){var v=l[p.getId()];null!=v?(r=!1,v>s&&(s=v)):o=!0}),!o&&((r||s<10)&&(s=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),s!=this.rowHeight&&(this.setRowHeight(s),this.onRowHeightChangedDebounced())))},u.prototype.onRowHeightChanged=function(){var o=this.beans.rowModel;o.onRowHeightChanged&&o.onRowHeightChanged()},u.prototype.setRowIndex=function(o){this.rowIndex!==o&&(this.rowIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_ROW_INDEX_CHANGED)))},u.prototype.setUiLevel=function(o){this.uiLevel!==o&&(this.uiLevel=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_UI_LEVEL_CHANGED)))},u.prototype.setExpanded=function(o,r){if(this.expanded!==o){this.expanded=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_EXPANDED_CHANGED));var s=Object.assign({},this.createGlobalRowEvent(Te.EVENT_ROW_GROUP_OPENED),{expanded:o,event:r||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},u.prototype.createGlobalRowEvent=function(o){return{type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},u.prototype.dispatchLocalEvent=function(o){this.eventService&&this.eventService.dispatchEvent(o)},u.prototype.setDataValue=function(o,r,s){var l=this.beans.columnModel.getPrimaryColumn(o),c=this.beans.valueService.getValue(l,this),p=this.beans.valueService.setValue(this,l,r,s);return this.dispatchCellChangedEvent(l,r,c),p},u.prototype.setGroupValue=function(o,r){var s=this.beans.columnModel.getGridColumn(o);O(this.groupData)&&(this.groupData={});var l=s.getColId(),c=this.groupData[l];c!==r&&(this.groupData[l]=r,this.dispatchCellChangedEvent(s,r,c))},u.prototype.setAggData=function(o){var r=this,s=oe([this.aggData,o]),l=this.aggData;this.aggData=o,this.eventService&&s.forEach(function(c){var p=r.beans.columnModel.getGridColumn(c);r.dispatchCellChangedEvent(p,r.aggData?r.aggData[c]:void 0,l?l[c]:void 0)})},u.prototype.updateHasChildren=function(){var o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;o!==this.__hasChildren&&(this.__hasChildren=!!o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(u.EVENT_HAS_CHILDREN_CHANGED)))},u.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},u.prototype.isEmptyRowGroupNode=function(){return this.group&&S(this.childrenAfterGroup)},u.prototype.dispatchCellChangedEvent=function(o,r,s){this.dispatchLocalEvent({type:u.EVENT_CELL_CHANGED,node:this,column:o,newValue:r,oldValue:s})},u.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},u.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},u.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},u.prototype.depthFirstSearch=function(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(r){return r.depthFirstSearch(o)}),o(this)},u.prototype.calculateSelectedFromChildren=function(){var o,r=!1,s=!1,l=!1;if(null===(o=this.childrenAfterGroup)||void 0===o?void 0:o.length){for(var p=0;p<this.childrenAfterGroup.length;p++){var v=this.childrenAfterGroup[p];if(v.selectable)switch(v.isSelected()){case!0:r=!0;break;case!1:s=!0;break;default:l=!0}}this.selectThisNode(l?void 0:!(!r||s)||!(!r&&s)&&void 0)}},u.prototype.setSelectedInitialValue=function(o){this.selected=o},u.prototype.setSelected=function(o,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),this.setSelectedParams({newValue:o,clearSelection:r,suppressFinishActions:s,rangeSelect:!1})},u.prototype.isRowPinned=function(){return this.rowPinned===Ie.PINNED_TOP||this.rowPinned===Ie.PINNED_BOTTOM},u.prototype.setSelectedParams=function(o){var r,s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),l=!0===o.newValue,c=!0===o.clearSelection,p=!0===o.suppressFinishActions,v=!0===o.rangeSelect,F=s&&!0===o.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(o);if(v&&this.beans.selectionService.getLastSelectedNode()){var B=this.beans.selectionService.getLastSelectedNode()!==this,q=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(B&&q){var se=this.doRowRangeSelection(o.newValue);return this.beans.selectionService.setLastSelectedNode(this),se}}var fe=0;return F&&this.group||this.selectThisNode(l)&&fe++,s&&(null===(r=this.childrenAfterGroup)||void 0===r?void 0:r.length)&&(fe+=this.selectChildNodes(l,F)),p||(l&&(c||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(fe+=this.beans.selectionService.clearOtherNodes(this)),fe>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:Te.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),l&&this.beans.selectionService.setLastSelectedNode(this)),fe},u.prototype.doRowRangeSelection=function(o){var r=this;void 0===o&&(o=!0);var s=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),l=this.beans.selectionService.getLastSelectedNode(),c=this.beans.rowModel.getNodesInRangeForSelection(this,l),p=0;return c.forEach(function(F){F.group&&s||!1===o&&r===F||F.selectThisNode(o)&&p++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:Te.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),p},u.prototype.isParentOfNode=function(o){for(var r=this.parent;r;){if(r===o)return!0;r=r.parent}return!1},u.prototype.selectThisNode=function(o){if(!this.selectable&&o||this.selected===o)return!1;this.selected=o,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_ROW_SELECTED));var l=this.createGlobalRowEvent(Te.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(l),!0},u.prototype.selectChildNodes=function(o,r){var s=r?this.childrenAfterAggFilter:this.childrenAfterGroup;if(O(s))return 0;for(var l=0,c=0;c<s.length;c++)l+=s[c].setSelectedParams({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r});return l},u.prototype.addEventListener=function(o,r){this.eventService||(this.eventService=new ds),this.eventService.addEventListener(o,r)},u.prototype.removeEventListener=function(o,r){!this.eventService||(this.eventService.removeEventListener(o,r),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},u.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_ENTER))},u.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(u.EVENT_MOUSE_LEAVE))},u.prototype.getFirstChildOfFirstChild=function(o){for(var r=this,s=!0,l=!1,c=null;s&&!l;){var p=r.parent;I(p)&&r.firstChild?p.rowGroupColumn===o&&(l=!0,c=p):s=!1,r=p}return l?c:null},u.prototype.isFullWidthCell=function(){var o=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!o&&o({rowNode:this})},u.prototype.getRoute=function(){if(null!=this.key){for(var o=[],r=this;null!=r.key;)o.push(r.key),r=r.parent;return o.reverse()}},u.ID_PREFIX_ROW_GROUP="row-group-",u.ID_PREFIX_TOP_PINNED="t-",u.ID_PREFIX_BOTTOM_PINNED="b-",u.OBJECT_ID_SEQUENCE=0,u.EVENT_ROW_SELECTED="rowSelected",u.EVENT_DATA_CHANGED="dataChanged",u.EVENT_CELL_CHANGED="cellChanged",u.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",u.EVENT_MASTER_CHANGED="masterChanged",u.EVENT_GROUP_CHANGED="groupChanged",u.EVENT_MOUSE_ENTER="mouseEnter",u.EVENT_MOUSE_LEAVE="mouseLeave",u.EVENT_HEIGHT_CHANGED="heightChanged",u.EVENT_TOP_CHANGED="topChanged",u.EVENT_DISPLAYED_CHANGED="displayedChanged",u.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",u.EVENT_LAST_CHILD_CHANGED="lastChildChanged",u.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",u.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",u.EVENT_EXPANDED_CHANGED="expandedChanged",u.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",u.EVENT_SELECTABLE_CHANGED="selectableChanged",u.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",u.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",u.EVENT_DRAGGING_CHANGED="draggingChanged",u}(),d1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Pg=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},py=function(u){function o(){return u.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return d1(o,u),o.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},o.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},o.prototype.onDataChanged=function(){this.onSelectionChanged()},o.prototype.onSelectableChanged=function(){this.showOrHideSelect()},o.prototype.onSelectionChanged=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),s=this.rowNode.isSelected(),l=void 0===s?r("ariaIndeterminate","indeterminate"):!0===s?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),c=r("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(s,!0),this.eCheckbox.setInputAriaLabel(c+" ("+l+")")},o.prototype.onCheckedClicked=function(r){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:s})},o.prototype.onUncheckedClicked=function(r){var s=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:r.shiftKey,groupSelectsFiltered:s})},o.prototype.init=function(r){var s=this;if(this.rowNode=r.rowNode,this.column=r.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(v){return Sl(v)}),this.addGuiEventListener("dblclick",function(v){return Sl(v)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(v){var F=s.eCheckbox.getValue();void 0===s.eCheckbox.getPreviousValue()||void 0===F?0===s.onUncheckedClicked(v||{})&&s.onCheckedClicked(v):F?s.onCheckedClicked(v):s.onUncheckedClicked(v||{})}),this.addManagedListener(this.rowNode,Dn.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var p=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,p),this.addManagedListener(this.rowNode,Dn.EVENT_DATA_CHANGED,p),this.addManagedListener(this.rowNode,Dn.EVENT_CELL_CHANGED,p),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},o.prototype.showOrHideSelect=function(){var r=this.rowNode.selectable;r&&this.checkboxCallbackExists()&&(r=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(r)},o.prototype.checkboxCallbackExists=function(){var r=this.column?this.column.getColDef():null;return!!r&&"function"==typeof r.checkboxSelection},Pg([ct("eCheckbox")],o.prototype,"eCheckbox",void 0),Pg([tt],o.prototype,"postConstruct",null),o}(ln),aR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Hc=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},jc=function(u){var o="function"==typeof Symbol&&Symbol.iterator,r=o&&u[o],s=0;if(r)return r.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(u){u[u.ToolPanel=0]="ToolPanel",u[u.HeaderCell=1]="HeaderCell",u[u.RowDrag=2]="RowDrag",u[u.ChartPanel=3]="ChartPanel"})(z.rvo||(z.rvo={})),function(u){u[u.Up=0]="Up",u[u.Down=1]="Down"}(z.HO_||(z.HO_={})),function(u){u[u.Left=0]="Left",u[u.Right=1]="Right"}(z.poj||(z.poj={}));var ao=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.dragSourceAndParamsList=[],s.dropTargets=[],s}var r;return aR(o,u),r=o,o.prototype.init=function(){this.ePinnedIcon=ti("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=ti("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=ti("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=ti("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=ti("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=ti("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=ti("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=ti("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=ti("dropNotAllowed",this.gridOptionsWrapper,null)},o.prototype.addDragSource=function(s,l){void 0===l&&(l=!1);var c={eElement:s.eElement,dragStartPixels:s.dragStartPixels,onDragStart:this.onDragStart.bind(this,s),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:c,dragSource:s}),this.dragService.addDragSource(c,l)},o.prototype.removeDragSource=function(s){var l=this.dragSourceAndParamsList.find(function(c){return c.dragSource===s});l&&(this.dragService.removeDragSource(l.params),fi(this.dragSourceAndParamsList,l))},o.prototype.clearDragSourceParamsList=function(){var s=this;this.dragSourceAndParamsList.forEach(function(l){return s.dragService.removeDragSource(l.params)}),this.dragSourceAndParamsList.length=0},o.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},o.prototype.onDragStart=function(s,l){this.dragging=!0,this.dragSource=s,this.eventLastTime=l,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},o.prototype.onDragStop=function(s){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var l=this.createDropTargetEvent(this.lastDropTarget,s,null,null,!1);this.lastDropTarget.onDragStop(l)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},o.prototype.onDragging=function(s,l){var c=this,p=this.getHorizontalDirection(s),v=this.getVerticalDirection(s);this.eventLastTime=s,this.positionGhost(s);var F=this.dropTargets.filter(function(fe){return c.isMouseOnDropTarget(s,fe)}),B=F.length,q=null;if(B>0&&(q=1===B?F[0]:F.reduce(function(fe,we){if(!fe)return we;var xe=fe.getContainer(),Pe=we.getContainer();return xe.contains(Pe)?we:fe})),q!==this.lastDropTarget)this.leaveLastTargetIfExists(s,p,v,l),this.enterDragTargetIfExists(q,s,p,v,l),this.lastDropTarget=q;else if(q&&q.onDragging){var se=this.createDropTargetEvent(q,s,p,v,l);q.onDragging(se)}},o.prototype.enterDragTargetIfExists=function(s,l,c,p,v){if(s){if(s.onDragEnter){var F=this.createDropTargetEvent(s,l,c,p,v);s.onDragEnter(F)}this.setGhostIcon(s.getIconName?s.getIconName():null)}},o.prototype.leaveLastTargetIfExists=function(s,l,c,p){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var v=this.createDropTargetEvent(this.lastDropTarget,s,l,c,p);this.lastDropTarget.onDragLeave(v)}this.setGhostIcon(null)}},o.prototype.getAllContainersFromDropTarget=function(s){var l=s.getSecondaryContainers?s.getSecondaryContainers():null,c=[[s.getContainer()]];return l?c.concat(l):c},o.prototype.allContainersIntersect=function(s,l){var c,p;try{for(var v=jc(l),F=v.next();!F.done;F=v.next()){var q=F.value.getBoundingClientRect();if(0===q.width||0===q.height)return!1;if(!(s.clientX>=q.left&&s.clientX<q.right&&s.clientY>=q.top&&s.clientY<q.bottom))return!1}}catch(we){c={error:we}}finally{try{F&&!F.done&&(p=v.return)&&p.call(v)}finally{if(c)throw c.error}}return!0},o.prototype.isMouseOnDropTarget=function(s,l){var c,p,v=this.getAllContainersFromDropTarget(l),F=!1;try{for(var B=jc(v),q=B.next();!q.done;q=B.next())if(this.allContainersIntersect(s,q.value)){F=!0;break}}catch(fe){c={error:fe}}finally{try{q&&!q.done&&(p=B.return)&&p.call(B)}finally{if(c)throw c.error}}return!(l.targetContainsSource&&!l.getContainer().contains(this.dragSource.eElement))&&F&&l.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},o.prototype.addDropTarget=function(s){this.dropTargets.push(s)},o.prototype.removeDropTarget=function(s){this.dropTargets=this.dropTargets.filter(function(l){return l.getContainer()!==s.getContainer()})},o.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(s){return s.external})},o.prototype.findExternalZone=function(s){return this.dropTargets.filter(function(c){return c.external}).find(function(c){return c.getContainer()===s.getContainer()})||null},o.prototype.getHorizontalDirection=function(s){var l=this.eventLastTime&&this.eventLastTime.clientX,c=s.clientX;return l===c?null:l>c?z.poj.Left:z.poj.Right},o.prototype.getVerticalDirection=function(s){var l=this.eventLastTime&&this.eventLastTime.clientY,c=s.clientY;return l===c?null:l>c?z.HO_.Up:z.HO_.Down},o.prototype.createDropTargetEvent=function(s,l,c,p,v){var F=s.getContainer(),B=F.getBoundingClientRect(),q=this;return{event:l,x:l.clientX-B.left,y:l.clientY-B.top,vDirection:p,hDirection:c,dragSource:q.dragSource,fromNudge:v,dragItem:q.dragItem,api:q.gridApi,columnApi:q.columnApi,dropZoneTarget:F}},o.prototype.positionGhost=function(s){var l=this.eGhost;if(l){var p=l.getBoundingClientRect().height,v=El()-2,F=gi()-2,B=s.pageY-p/2,q=s.pageX-10,se=this.gridOptionsWrapper.getDocument(),fe=se.defaultView||window,we=fe.pageYOffset||se.documentElement.scrollTop,xe=fe.pageXOffset||se.documentElement.scrollLeft;v>0&&q+l.clientWidth>v+xe&&(q=v+xe-l.clientWidth),q<0&&(q=0),F>0&&B+l.clientHeight>F+we&&(B=F+we-l.clientHeight),B<0&&(B=0),l.style.left=q+"px",l.style.top=B+"px"}},o.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},o.prototype.createGhost=function(){this.eGhost=di(r.GHOST_TEMPLATE);var s=this.environment.getTheme().theme;s&&this.eGhost.classList.add(s),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var l=this.eGhost.querySelector(".ag-dnd-ghost-label"),c=this.dragSource.dragItemName;bt(c)&&(c=c()),l.innerHTML=hs(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var p=this.gridOptionsWrapper.getDocument(),v=null;try{v=p.fullscreenElement}catch(F){}finally{v||(v=p.querySelector("body"))}this.eGhostParent=v,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},o.prototype.setGhostIcon=function(s,l){void 0===l&&(l=!1),bi(this.eGhostIcon);var c=null;switch(s||(s=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),s){case r.ICON_PINNED:c=this.ePinnedIcon;break;case r.ICON_MOVE:c=this.eMoveIcon;break;case r.ICON_LEFT:c=this.eLeftIcon;break;case r.ICON_RIGHT:c=this.eRightIcon;break;case r.ICON_GROUP:c=this.eGroupIcon;break;case r.ICON_AGGREGATE:c=this.eAggregateIcon;break;case r.ICON_PIVOT:c=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:c=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",l),(c!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&c&&this.eGhostIcon.appendChild(c)},o.ICON_PINNED="pinned",o.ICON_MOVE="move",o.ICON_LEFT="left",o.ICON_RIGHT="right",o.ICON_GROUP="group",o.ICON_AGGREGATE="aggregate",o.ICON_PIVOT="pivot",o.ICON_NOT_ALLOWED="notAllowed",o.ICON_HIDE="hide",o.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Hc([de("dragService")],o.prototype,"dragService",void 0),Hc([de("environment")],o.prototype,"environment",void 0),Hc([de("columnApi")],o.prototype,"columnApi",void 0),Hc([de("gridApi")],o.prototype,"gridApi",void 0),Hc([tt],o.prototype,"init",null),Hc([Kt],o.prototype,"clearDragSourceParamsList",null),r=Hc([ut("dragAndDropService")],o)}(ft),Bi=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Gl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ya=function(u){function o(r,s,l,c,p,v){var F=u.call(this)||this;return F.cellValueFn=r,F.rowNode=s,F.column=l,F.customGui=c,F.dragStartPixels=p,F.suppressVisibilityChange=v,F.dragSource=null,F}return Bi(o,u),o.prototype.isCustomGui=function(){return null!=this.customGui},o.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Ui("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var r=this.beans.gridOptionsWrapper.isRowDragManaged()?new Qo(this,this.beans,this.rowNode,this.column):new p1(this,this.beans,this.rowNode,this.column);this.createManagedBean(r,this.beans.context)}},o.prototype.setDragElement=function(r,s){this.setTemplateFromElement(r),this.addDragSource(s)},o.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var s=this.beans.selectionService.getSelectedNodes();return-1!==s.indexOf(this.rowNode)?s.length:1},o.prototype.checkCompatibility=function(){var r=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&r&&ze(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},o.prototype.addDragSource=function(r){var s=this;void 0===r&&(r=4),this.dragSource&&this.removeDragSource();var l={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},c=this.column&&this.column.getColDef().rowDragText,p=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:z.rvo.RowDrag,eElement:this.getGui(),dragItemName:function(){var v=s.getSelectedCount();return c?c(l,v):1===v?s.cellValueFn():v+" "+p("rowDragRows","rows")},getDragItem:function(){return l},dragStartPixels:r,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},o.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Gl([de("beans")],o.prototype,"beans",void 0),Gl([tt],o.prototype,"postConstruct",null),Gl([Kt],o.prototype,"removeDragSource",null),o}(ln),h1=function(u){function o(r,s,l){var c=u.call(this)||this;return c.parent=r,c.rowNode=s,c.column=l,c}return Bi(o,u),o.prototype.setDisplayedOrVisible=function(r){if(r)this.parent.setDisplayed(!1);else{var s=!0,l=!1;this.column&&(s=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),l=bt(this.column.getColDef().rowDrag)),l?(this.parent.setDisplayed(!0),this.parent.setVisible(s)):(this.parent.setDisplayed(s),this.parent.setVisible(!0))}},o}(ft),p1=function(u){function o(r,s,l,c){var p=u.call(this,r,l,c)||this;return p.beans=s,p}return Bi(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var r=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(r)},Gl([tt],o.prototype,"postConstruct",null),o}(h1),Qo=function(u){function o(r,s,l,c){var p=u.call(this,r,l,c)||this;return p.beans=s,p}return Bi(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Te.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Te.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Te.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},o.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},o.prototype.workOutVisibility=function(){var s=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),l=s&&s.shouldPreventRowMove(),c=this.beans.gridOptionsWrapper.isSuppressRowDrag(),p=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(l&&!p||c)},Gl([tt],o.prototype,"postConstruct",null),o}(h1),zs=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),nd=function(){return nd=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},nd.apply(this,arguments)},Ka=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},$c=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return zs(o,u),o.prototype.init=function(r,s,l,c,p,v,F){this.params=F,this.eGui=s,this.eCheckbox=l,this.eExpanded=c,this.eContracted=p,this.comp=r,this.compClass=v;var B=this.isTopLevelFooter(),q=this.isEmbeddedRowMismatch(),se=null==F.value,fe=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var we=F.node;we.footer&&(fe=(F.colDef&&F.colDef.showRowGroup)!==(we.rowGroupColumn&&we.rowGroupColumn.getColId()))}this.cellIsBlank=!B&&(q||se||fe),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.expandListener=null},o.prototype.refreshAriaExpanded=function(){var r=this.params,s=r.node,l=r.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var c=function(){Xo(l,!!s.expanded)};this.expandListener=this.addManagedListener(s,Dn.EVENT_EXPANDED_CHANGED,c)||null,c()}else Ix(l)},o.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var r=this.params.colDef;if(null==r||!0===r.showRowGroup)return!0;var l=this.columnModel.getRowGroupColumns();return!l||0===l.length||l[0].getId()===r.showRowGroup},o.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var r=this.params.pinned===Ie.PINNED_LEFT,s=this.params.pinned===Ie.PINNED_RIGHT,l=!r&&!s;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!s:!l:this.columnModel.isPinningLeft()?!r:!l},o.prototype.findDisplayedGroupNode=function(){var r=this.params.column,s=this.params.node;if(this.showingValueForOpenedParent)for(var l=s.parent;null!=l;){if(l.rowGroupColumn&&r.isRowGroupDisplayed(l.rowGroupColumn.getId())){this.displayedGroupNode=l;break}l=l.parent}O(this.displayedGroupNode)&&(this.displayedGroupNode=s)},o.prototype.setupShowingValueForOpenedParent=function(){var r=this.params.node,s=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(r.groupData){if(null!=r.rowGroupColumn){var c=r.rowGroupColumn.getId();if(s.isRowGroupDisplayed(c))return void(this.showingValueForOpenedParent=!1)}var v=null!=r.groupData[s.getId()];this.showingValueForOpenedParent=v}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},o.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},o.prototype.addGroupValue=function(){var r=this.adjustParamsWithDetailsFromRelatedColumn(),s=this.getInnerCompDetails(r),l=r.valueFormatted;this.comp.setInnerRenderer(s,null!=l?l:r.value)},o.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var r=this.displayedGroupNode.rowGroupColumn,s=this.params.column;if(!r)return this.params;if(null!=s&&!s.isRowGroupDisplayed(r.getId()))return this.params;var p=this.params,v=this.params,q=this.valueFormatterService.formatValue(r,v.node,v.value);return nd(nd({},p),{valueFormatted:q})},o.prototype.addFooterValue=function(){var r=this.params.footerValueGetter,s="";if(r){var l=G(this.params);l.value=this.params.value,"function"==typeof r?s=r(l):"string"==typeof r?s=this.expressionService.evaluate(r,l):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else s="Total "+(null!=this.params.value?this.params.value:"");var c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,s)},o.prototype.getInnerCompDetails=function(r){var s=this;if(r.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,r);var l=this.userComponentFactory.getInnerRendererDetails(r,r),c=function(q){return q&&q.componentClass==s.compClass};if(l&&!c(l))return l;var p=this.displayedGroupNode.rowGroupColumn,v=p?p.getColDef():void 0;if(v){var F=this.userComponentFactory.getCellRendererDetails(v,r);if(F&&!c(F))return F;if(c(F)&&v.cellRendererParams&&v.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(v.cellRendererParams,r)}},o.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Dn.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},o.prototype.updateChildCount=function(){var r=this.displayedGroupNode.allChildrenCount,s=this.isShowRowGroupForThisRow();this.comp.setChildCount(s&&null!=r&&r>=0?"("+r+")":"")},o.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var r=this.displayedGroupNode.rowGroupColumn;if(!r)return!1;var s=this.params.column;return null==s||s.isRowGroupDisplayed(r.getId())},o.prototype.addExpandAndContract=function(){var r=this.params,s=Ui("groupExpanded",this.gridOptionsWrapper,null),l=Ui("groupContracted",this.gridOptionsWrapper,null);s&&this.eExpanded.appendChild(s),l&&this.eContracted.appendChild(l);var c=r.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(c,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(c,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,Dn.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var p=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Dn.EVENT_ALL_CHILDREN_COUNT_CHANGED,p),this.addManagedListener(this.displayedGroupNode,Dn.EVENT_MASTER_CHANGED,p),this.addManagedListener(this.displayedGroupNode,Dn.EVENT_GROUP_CHANGED,p),this.addManagedListener(this.displayedGroupNode,Dn.EVENT_HAS_CHILDREN_CHANGED,p)},o.prototype.onExpandClicked=function(r){zo(r)||(Sl(r),this.onExpandOrContract(r))},o.prototype.onExpandOrContract=function(r){var s=this.displayedGroupNode;s.setExpanded(!s.expanded,r)},o.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var r=this.displayedGroupNode,s=this.columnModel.isPivotMode()&&r.leafGroup;if(!r.isExpandable()||r.footer||s)return!1;var c=this.params.column;return null==c||"string"!=typeof c.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},o.prototype.showExpandAndContractIcons=function(){var r=this,l=r.displayedGroupNode,c=r.columnModel,p=r.params.node,v=this.isExpandable();if(v){var F=!!this.showingValueForOpenedParent||p.expanded;this.comp.setExpandedDisplayed(F),this.comp.setContractedDisplayed(!F)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var B=c.isPivotMode(),q=B&&l.leafGroup,se=v&&!q,fe=p.footer&&-1===p.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",se),this.comp.addOrRemoveCssClass("ag-row-group",se),B?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",q):fe||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!se)},o.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},o.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Dn.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},o.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var r=this.params,s=r.node,l=!!r.colDef,c=this.gridOptionsWrapper.isTreeData(),v=!l||c||!0===r.colDef.showRowGroup?s.uiLevel:0;r.padding>=0&&ze(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+v,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},o.prototype.addFullWidthRowDraggerIfNeeded=function(){var r=this;if(this.params.fullWidth&&this.params.rowDrag){var s=new Ya(function(){return r.params.value},this.params.node);this.createManagedBean(s,this.context),this.eGui.insertAdjacentElement("afterbegin",s.getGui())}},o.prototype.isUserWantsSelected=function(){var r=this.params.checkbox;return"function"==typeof r?r(this.params):!0===r},o.prototype.addCheckboxIfNeeded=function(){var r=this,s=this.displayedGroupNode,l=this.isUserWantsSelected()&&!s.footer&&!s.rowPinned&&!s.detail;if(l){var c=new py;this.getContext().createBean(c),c.init({rowNode:s,column:this.params.column}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(function(){return r.getContext().destroyBean(c)})}this.comp.setCheckboxVisible(l)},o.prototype.onKeyDown=function(r){r.key!==ht.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(r)},o.prototype.onCellDblClicked=function(r){zo(r)||Bu(this.eExpanded,r)||Bu(this.eContracted,r)||this.onExpandOrContract(r)},Ka([de("expressionService")],o.prototype,"expressionService",void 0),Ka([de("valueFormatterService")],o.prototype,"valueFormatterService",void 0),Ka([de("columnModel")],o.prototype,"columnModel",void 0),Ka([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Ka([de("gridOptions")],o.prototype,"gridOptions",void 0),o}(ft),fy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),id=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ig=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return fy(o,u),o.prototype.init=function(r){var s=this,l={setInnerRenderer:function(F,B){return s.setRenderDetails(F,B)},setChildCount:function(F){return s.eChildCount.innerHTML=F},addOrRemoveCssClass:function(F,B){return s.addOrRemoveCssClass(F,B)},setContractedDisplayed:function(F){return Kn(s.eContracted,F)},setExpandedDisplayed:function(F){return Kn(s.eExpanded,F)},setCheckboxVisible:function(F){return s.eCheckbox.classList.toggle("ag-invisible",!F)}},c=this.createManagedBean(new $c),p=!r.colDef,v=this.getGui();c.init(l,v,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,r),p&&ar(v,"gridcell")},o.prototype.setRenderDetails=function(r,s){var l=this;if(r){var c=r.newAgStackInstance();if(!c)return;c.then(function(p){if(p){var v=function(){return l.context.destroyBean(p)};l.isAlive()?(l.eValue.appendChild(p.getGui()),l.addDestroyFunc(v)):v()}})}else this.eValue.innerText=s},o.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),u.prototype.destroy.call(this)},o.prototype.refresh=function(){return!1},o.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',id([ct("eExpanded")],o.prototype,"eExpanded",void 0),id([ct("eContracted")],o.prototype,"eContracted",void 0),id([ct("eCheckbox")],o.prototype,"eCheckbox",void 0),id([ct("eValue")],o.prototype,"eValue",void 0),id([ct("eChildCount")],o.prototype,"eChildCount",void 0),o}(ln),lR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),f1=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},gy=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return lR(o,u),o.prototype.init=function(r){r.node.failedLoad?this.setupFailed():this.setupLoading()},o.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},o.prototype.setupLoading=function(){var r=Ui("groupLoading",this.gridOptionsWrapper,null);r&&this.eLoadingIcon.appendChild(r);var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=s("loadingOoo","Loading")},o.prototype.refresh=function(r){return!1},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',f1([ct("eLoadingIcon")],o.prototype,"eLoadingIcon",void 0),f1([ct("eLoadingText")],o.prototype,"eLoadingText",void 0),o}(ln),Ro=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Mg=function(u){function o(){return u.call(this)||this}return Ro(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(r){var s=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():o.DEFAULT_LOADING_OVERLAY_TEMPLATE,l=this.gridOptionsWrapper.getLocaleTextFunc(),c=s.replace("[LOADING...]",l("loadingOoo","Loading..."));this.setTemplate(c)},o.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',o}(ln),Wc=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),cR=function(u){function o(){return u.call(this)||this}return Wc(o,u),o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.init=function(r){var s=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():o.DEFAULT_NO_ROWS_TEMPLATE,l=this.gridOptionsWrapper.getLocaleTextFunc(),c=s.replace("[NO_ROWS_TO_SHOW]",l("noRowsToShow","No Rows To Show"));this.setTemplate(c)},o.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',o}(ln),my=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),g1=function(u){function o(){return u.call(this,'<div class="ag-tooltip"></div>')||this}return my(o,u),o.prototype.init=function(r){var s=r.value;this.getGui().innerHTML=hs(s)},o}(Fl),m1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),cp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},_y=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.agGridDefaults={agDateInput:Dg,agColumnHeader:rp,agColumnGroupHeader:ly,agTextColumnFloatingFilter:Lc,agNumberColumnFloatingFilter:o1,agDateColumnFloatingFilter:sR,agReadOnlyFloatingFilter:va,agAnimateShowChangeCellRenderer:ap,agAnimateSlideCellRenderer:lp,agGroupCellRenderer:Ig,agGroupRowRenderer:Ig,agLoadingCellRenderer:gy,agCellEditor:Us,agTextCellEditor:Us,agSelectCellEditor:sp,agPopupTextCellEditor:Vl,agPopupSelectCellEditor:Ll,agLargeTextCellEditor:ed,agTextColumnFilter:Fc,agNumberColumnFilter:tp,agDateColumnFilter:Nl,agLoadingOverlay:Mg,agNoRowsOverlay:cR,agTooltipComponent:g1},r.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},r.jsComps={},r.fwComps={},r}return m1(o,u),o.prototype.init=function(){var r=this;null!=this.gridOptions.components&&E(this.gridOptions.components,function(s,l){return r.registerJsComponent(s,l)}),null!=this.gridOptions.frameworkComponents&&E(this.gridOptions.frameworkComponents,function(s,l){return r.registerFwComponent(s,l)})},o.prototype.registerDefaultComponent=function(r,s){var l=this.translateIfDeprecated(r);this.agGridDefaults[l]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[l]=s},o.prototype.registerJsComponent=function(r,s){var l=this.translateIfDeprecated(r);this.fwComps[l]?console.error("Trying to register a component that you have already registered for frameworks: "+l):this.jsComps[l]=s},o.prototype.registerFwComponent=function(r,s){ze(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var c=this.translateIfDeprecated(r);this.fwComps[c]=s},o.prototype.retrieve=function(r){var s=this.translateIfDeprecated(r),l=function(q,se){return{componentFromFramework:se,component:q}},c=this.getFrameworkOverrides().frameworkComponent(s);if(null!=c)return l(c,!0);var p=this.fwComps[s];if(p)return l(p,!0);var v=this.jsComps[s];if(v)return l(v,this.getFrameworkOverrides().isFrameworkComponent(v));var B=this.agGridDefaults[s];return B?l(B,!1):(Object.keys(this.agGridDefaults).indexOf(s)<0&&console.warn("AG Grid: Looking for component ["+s+"] but it wasn't found."),null)},o.prototype.translateIfDeprecated=function(r){var s=this.agDeprecatedNames[r];return null!=s?(ze(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+s.propertyHolder+":"+r+" to "+s.propertyHolder+":"+s.newComponentName)},"DEPRECATE_COMPONENT_"+r),s.newComponentName):r},cp([de("gridOptions")],o.prototype,"gridOptions",void 0),cp([de("agComponentUtils")],o.prototype,"agComponentUtils",void 0),cp([tt],o.prototype,"init",null),cp([ut("userComponentRegistry")],o)}(ft),_1={propertyName:"dateComponent",cellRenderer:!1},vy={propertyName:"headerComponent",cellRenderer:!1},Ng={propertyName:"headerGroupComponent",cellRenderer:!1},rd={propertyName:"cellRenderer",cellRenderer:!0},uR={propertyName:"cellEditor",cellRenderer:!1},Uc={propertyName:"innerRenderer",cellRenderer:!0},Fg={propertyName:"loadingOverlayComponent",cellRenderer:!1},up={propertyName:"noRowsOverlayComponent",cellRenderer:!1},v1={propertyName:"tooltipComponent",cellRenderer:!1},Lg={propertyName:"filter",cellRenderer:!1},y1={propertyName:"floatingFilterComponent",cellRenderer:!1},yy={propertyName:"toolPanel",cellRenderer:!1},C1={propertyName:"statusPanel",cellRenderer:!1},od={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Cy={propertyName:"loadingCellRenderer",cellRenderer:!0},b1={propertyName:"groupRowRenderer",cellRenderer:!0},Qe={propertyName:"detailCellRenderer",cellRenderer:!0},Vg=function(){function u(){}return u.getFloatingFilterType=function(o){return this.filterToFloatingFilterMapping[o]},u.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},u}(),by=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),qa=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},zc=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return by(o,u),o.prototype.getHeaderCompDetails=function(r,s){return this.getCompDetails(r,vy,"agColumnHeader",s)},o.prototype.getHeaderGroupCompDetails=function(r){var s=r.columnGroup.getColGroupDef();return this.getCompDetails(s,Ng,"agColumnGroupHeader",r)},o.prototype.getFullWidthCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,od,null,r,!0)},o.prototype.getFullWidthLoadingCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,Cy,"agLoadingCellRenderer",r,!0)},o.prototype.getFullWidthGroupCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,b1,"agGroupRowRenderer",r,!0)},o.prototype.getFullWidthDetailCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,Qe,"agDetailCellRenderer",r,!0)},o.prototype.getInnerRendererDetails=function(r,s){return this.getCompDetails(r,Uc,null,s)},o.prototype.getFullWidthGroupRowInnerCellRenderer=function(r,s){return this.getCompDetails(r,Uc,null,s)},o.prototype.getCellRendererDetails=function(r,s){return this.getCompDetails(r,rd,null,s)},o.prototype.getCellEditorDetails=function(r,s){return this.getCompDetails(r,uR,"agCellEditor",s,!0)},o.prototype.getFilterDetails=function(r,s,l){return this.getCompDetails(r,Lg,l,s,!0)},o.prototype.getDateCompDetails=function(r){return this.getCompDetails(this.gridOptions,_1,"agDateInput",r,!0)},o.prototype.getLoadingOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,Fg,"agLoadingOverlay",r,!0)},o.prototype.getNoRowsOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,up,"agNoRowsOverlay",r,!0)},o.prototype.getTooltipCompDetails=function(r){return this.getCompDetails(r.colDef,v1,"agTooltipComponent",r,!0)},o.prototype.getSetFilterCellRendererDetails=function(r,s){return this.getCompDetails(r,rd,null,s)},o.prototype.getFloatingFilterCompDetails=function(r,s,l){return this.getCompDetails(r,y1,l,s)},o.prototype.getToolPanelCompDetails=function(r,s){return this.getCompDetails(r,yy,null,s,!0)},o.prototype.getStatusPanelCompDetails=function(r,s){return this.getCompDetails(r,C1,null,s,!0)},o.prototype.getCompDetails=function(r,s,l,c,p){var v=this;void 0===p&&(p=!1);var F=s.propertyName,B=s.cellRenderer,q=this.getCompKeys(r,s,c),se=q.compName,fe=q.jsComp,we=q.fwComp,xe=q.paramsFromSelector,Pe=q.popupFromSelector,Be=q.popupPositionFromSelector,We=function(Ut){var Sn=v.userComponentRegistry.retrieve(Ut);Sn&&(fe=Sn.componentFromFramework?void 0:Sn.component,we=Sn.componentFromFramework?Sn.component:void 0)};if(null!=se&&We(se),null==fe&&null==we&&null!=l&&We(l),fe&&B&&!this.agComponentUtils.doesImplementIComponent(fe)&&(fe=this.agComponentUtils.adaptFunction(F,fe)),fe||we){var Ue=this.mergeParamsWithApplicationProvidedParams(r,s,c,xe),Ze=null==fe,gt=fe||we;return{componentFromFramework:Ze,componentClass:gt,params:Ue,type:s,popupFromSelector:Pe,popupPositionFromSelector:Be,newAgStackInstance:function(){return v.newAgStackInstance(gt,Ze,Ue,s)}}}p&&console.error("Could not find component "+se+", did you forget to configure this component?")},o.prototype.getCompKeys=function(r,s,l){var v,F,B,q,se,fe,c=this,p=s.propertyName;if(r){var we=r,xe=we[p+"Selector"],Pe=xe?xe(l):null,Be=function(Ue,Ze){var gt=function(){var Sn="AG Grid: As of v27, the property "+p+"Framework is deprecated. The property "+p+" can now be used for JavaScript AND Framework Components.";ze(function(){return console.warn(Sn)},"UserComponentFactory."+p+"FrameworkDeprecated")};"string"==typeof Ue?v=Ue:"string"==typeof Ze?(gt(),v=Ze):null!=Ue&&!0!==Ue?c.getFrameworkOverrides().isFrameworkComponent(Ue)?B=Ue:F=Ue:null!=Ze&&(gt(),B=Ze)};if(Pe){if(null!=Pe.frameworkComponent){var We="AG Grid: As of v27, the return for "+p+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";ze(function(){return console.warn(We)},"UserComponentFactory."+p+"FrameworkSelectorDeprecated"),Be(Pe.frameworkComponent,void 0)}else Be(Pe.component,void 0);q=Pe.params,se=Pe.popup,fe=Pe.popupPosition}else Be(we[p],we[p+"Framework"])}return{compName:v,jsComp:F,fwComp:B,paramsFromSelector:q,popupFromSelector:se,popupPositionFromSelector:fe}},o.prototype.newAgStackInstance=function(r,s,l,c){var F;if(s){var B=this.componentMetadataProvider.retrieve(c.propertyName);F=this.frameworkComponentWrapper.wrap(r,B.mandatoryMethodList,B.optionalMethodList,c)}else F=new r;var q=this.initComponent(F,l);return null==q?oo.resolve(F):q.then(function(){return F})},o.prototype.mergeParamsWithApplicationProvidedParams=function(r,s,l,c){void 0===c&&(c=null);var p={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};ee(p,l);var F=r&&r[s.propertyName+"Params"];return"function"==typeof F?ee(p,F(l)):"object"==typeof F&&ee(p,F),ee(p,c),p},o.prototype.initComponent=function(r,s){if(this.context.createBean(r),null!=r.init)return r.init(s)},o.prototype.getDefaultFloatingFilterType=function(r){if(null==r)return null;var s=null,l=this.getCompKeys(r,Lg),c=l.compName,p=l.jsComp,v=l.fwComp;return c?s=Vg.getFloatingFilterType(c):null==p&&null==v&&!0===r.filter&&(s=Le.isRegistered(z.GXE.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),s},qa([de("gridOptions")],o.prototype,"gridOptions",void 0),qa([de("agComponentUtils")],o.prototype,"agComponentUtils",void 0),qa([de("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),qa([de("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),qa([gn("frameworkComponentWrapper")],o.prototype,"frameworkComponentWrapper",void 0),qa([ut("userComponentFactory")],o)}(ft);!function(u){u[u.SINGLE_SHEET=0]="SINGLE_SHEET",u[u.MULTI_SHEET=1]="MULTI_SHEET"}(z.nPL||(z.nPL={}));var w1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Bl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},wy=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.dragEndFunctions=[],r.dragSources=[],r}return w1(o,u),o.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},o.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},o.prototype.removeListener=function(r){var s=r.dragSource.eElement;s.removeEventListener("mousedown",r.mouseDownListener),r.touchEnabled&&s.removeEventListener("touchstart",r.touchStartListener,{passive:!0})},o.prototype.removeDragSource=function(r){var s=this.dragSources.find(function(l){return l.dragSource===r});!s||(this.removeListener(s),fi(this.dragSources,s))},o.prototype.isDragging=function(){return this.dragging},o.prototype.addDragSource=function(r,s){var l=this;void 0===s&&(s=!1);var c=this.onMouseDown.bind(this,r);r.eElement.addEventListener("mousedown",c);var p=null,v=this.gridOptionsWrapper.isSuppressTouch();s&&!v&&r.eElement.addEventListener("touchstart",p=function(F){F.cancelable&&F.preventDefault(),l.onTouchStart(r,F)},{passive:!0}),this.dragSources.push({dragSource:r,mouseDownListener:c,touchStartListener:p,touchEnabled:s})},o.prototype.onTouchStart=function(r,s){var l=this;this.currentDragParams=r,this.dragging=!1;var c=s.touches[0];this.touchLastTime=c,this.touchStart=c;var v=function(se){return l.onTouchUp(se,r.eElement)},B=r.eElement,q=[{target:document,type:"touchmove",listener:function(se){se.cancelable&&se.preventDefault()},options:{passive:!1}},{target:B,type:"touchmove",listener:function(se){return l.onTouchMove(se,r.eElement)},options:{passive:!0}},{target:B,type:"touchend",listener:v,options:{passive:!0}},{target:B,type:"touchcancel",listener:v,options:{passive:!0}}];this.addTemporaryEvents(q),0===r.dragStartPixels&&this.onCommonMove(c,this.touchStart,r.eElement)},o.prototype.onMouseDown=function(r,s){var l=this,c=s;if(!(r.skipMouseEvent&&r.skipMouseEvent(s)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==s.button))){this.currentDragParams=r,this.dragging=!1,this.mouseStartEvent=s;var p=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:p,type:"mousemove",listener:function(fe){return l.onMouseMove(fe,r.eElement)}},{target:p,type:"mouseup",listener:function(fe){return l.onMouseUp(fe,r.eElement)}},{target:p,type:"contextmenu",listener:function(fe){return fe.preventDefault()}}]),0===r.dragStartPixels&&this.onMouseMove(s,r.eElement)}},o.prototype.addTemporaryEvents=function(r){r.forEach(function(s){s.target.addEventListener(s.type,s.listener,s.options)}),this.dragEndFunctions.push(function(){r.forEach(function(s){s.target.removeEventListener(s.type,s.listener,s.options)})})},o.prototype.isEventNearStartEvent=function(r,s){var l=this.currentDragParams.dragStartPixels;return Ua(r,s,I(l)?l:4)},o.prototype.getFirstActiveTouch=function(r){for(var s=0;s<r.length;s++)if(r[s].identifier===this.touchStart.identifier)return r[s];return null},o.prototype.onCommonMove=function(r,s,l){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(r,s))return;this.dragging=!0,this.eventService.dispatchEvent({type:Te.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:l}),this.currentDragParams.onDragStart(s),this.currentDragParams.onDragging(s)}this.currentDragParams.onDragging(r)},o.prototype.onTouchMove=function(r,s){var l=this.getFirstActiveTouch(r.touches);!l||this.onCommonMove(l,this.touchStart,s)},o.prototype.onMouseMove=function(r,s){Lh()&&"mousemove"===r.type&&r.cancelable&&this.mouseEventService.isEventFromThisGrid(r)&&!this.isOverFormFieldElement(r)&&r.preventDefault(),this.onCommonMove(r,this.mouseStartEvent,s)},o.prototype.isOverFormFieldElement=function(r){var s,l;return!!(null===(l=null===(s=r.target)||void 0===s?void 0:s.tagName.toLocaleLowerCase())||void 0===l?void 0:l.match("^a$|textarea|input|select|button"))},o.prototype.onTouchUp=function(r,s){var l=this.getFirstActiveTouch(r.changedTouches);l||(l=this.touchLastTime),this.onUpCommon(l,s)},o.prototype.onMouseUp=function(r,s){this.onUpCommon(r,s)},o.prototype.onUpCommon=function(r,s){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(r),this.eventService.dispatchEvent({type:Te.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:s})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(c){return c()}),this.dragEndFunctions.length=0},Bl([de("loggerFactory")],o.prototype,"loggerFactory",void 0),Bl([de("columnApi")],o.prototype,"columnApi",void 0),Bl([de("gridApi")],o.prototype,"gridApi",void 0),Bl([de("mouseEventService")],o.prototype,"mouseEventService",void 0),Bl([tt],o.prototype,"init",null),Bl([Kt],o.prototype,"removeAllListeners",null),Bl([ut("dragService")],o)}(ft),dp=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ms=function(){return ms=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},ms.apply(this,arguments)},_s=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Yc=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.allColumnFilters=new Map,s.activeAggregateFilters=[],s.activeColumnFilters=[],s.quickFilter=null,s.quickFilterParts=null,s.processingFilterChange=!1,s}var r;return dp(o,u),r=o,o.prototype.init=function(){var s=this;this.addManagedListener(this.eventService,Te.EVENT_GRID_COLUMNS_CHANGED,function(){return s.onColumnsChanged()}),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_VALUE_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PIVOT_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return s.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},o.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},o.prototype.setFilterModel=function(s){var l=this,c=[],p=this.getFilterModel();if(s){var v=Hs(Object.keys(s));this.allColumnFilters.forEach(function(F,B){c.push(l.setModelOnFilterWrapper(F.filterPromise,s[B])),v.delete(B)}),v.forEach(function(F){var B=l.columnModel.getPrimaryColumn(F)||l.columnModel.getGridColumn(F);if(B)if(B.isFilterAllowed()){var q=l.getOrCreateFilterWrapper(B,"NO_UI");q?c.push(l.setModelOnFilterWrapper(q.filterPromise,s[F])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+F)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+F);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+F)})}else this.allColumnFilters.forEach(function(F){c.push(l.setModelOnFilterWrapper(F.filterPromise,null))});oo.all(c).then(function(){var F=l.getFilterModel(),B=[];l.allColumnFilters.forEach(function(q,se){an.jsonEquals(p?p[se]:null,F?F[se]:null)||B.push(q.column)}),B.length>0&&l.onFilterChanged({columns:B})})},o.prototype.setModelOnFilterWrapper=function(s,l){return new oo(function(c){s.then(function(p){"function"!=typeof p.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),c()),(p.setModel(l)||oo.resolve()).then(function(){return c()})})})},o.prototype.getFilterModel=function(){var s={};return this.allColumnFilters.forEach(function(l,c){var v=l.filterPromise.resolveNow(null,function(B){return B});if(null==v)return null;if("function"==typeof v.getModel){var F=v.getModel();I(F)&&(s[c]=F)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),s},o.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},o.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},o.prototype.doAggregateFiltersPass=function(s,l){return this.doColumnFiltersPass(s,l,!0)},o.prototype.updateActiveFilters=function(){var s=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var l=function(v){return!!v&&(v.isFilterActive?v.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},c=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(v){if(v.filterPromise.resolveNow(!1,l)){var F=v.filterPromise.resolveNow(null,function(B){return B});!function(v){if(!v.isPrimary())return!0;var B=!s.columnModel.isPivotActive();return!(!v.isValueActive()||!B)&&(!!s.columnModel.isPivotMode()||c)}(v.column)?s.activeColumnFilters.push(F):s.activeAggregateFilters.push(F)}})},o.prototype.updateFilterFlagInColumns=function(s,l){this.allColumnFilters.forEach(function(c){var p=c.filterPromise.resolveNow(!1,function(v){return v.isFilterActive()});c.column.setFilterActive(p,s,l)})},o.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},o.prototype.doColumnFiltersPass=function(s,l,c){for(var F=c?this.activeAggregateFilters:this.activeColumnFilters,B=c?s.aggData:s.data,q=0;q<F.length;q++){var se=F[q];if(null!=se&&se!==l){if("function"!=typeof se.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!se.doesFilterPass({node:s,data:B}))return!1}}return!0},o.prototype.parseQuickFilter=function(s){return I(s)?this.gridOptionsWrapper.isRowModelDefault()?s.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},o.prototype.setQuickFilter=function(s){if(null==s||"string"==typeof s){var l=this.parseQuickFilter(s);this.quickFilter!==l&&(this.quickFilter=l,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof s)},o.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},o.prototype.callOnFilterChangedOutsideRenderCycle=function(s){var l=this;void 0===s&&(s={});var c=function(){return l.onFilterChanged(s)};this.rowRenderer.isRefreshInProgress()?setTimeout(c,0):c()},o.prototype.onFilterChanged=function(s){void 0===s&&(s={});var l=s.filterInstance,c=s.additionalEventAttributes,p=s.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",c),this.allColumnFilters.forEach(function(F){!F.filterPromise||F.filterPromise.then(function(B){B&&B!==l&&B.onAnyFilterChanged&&B.onAnyFilterChanged()})});var v={type:Te.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:p||[]};c&&ee(v,c),this.processingFilterChange=!0,this.eventService.dispatchEvent(v),this.processingFilterChange=!1},o.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},o.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},o.prototype.doesRowPassOtherFilters=function(s,l){return this.doesRowPassFilter({rowNode:l,filterInstanceToSkip:s})},o.prototype.doesRowPassQuickFilterNoCache=function(s,l){var c=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(v){var F=c.getQuickFilterTextForColumn(v,s);return I(F)&&F.indexOf(l)>=0})},o.prototype.doesRowPassQuickFilterCache=function(s,l){return s.quickFilterAggregateText||this.aggregateRowForQuickFilter(s),s.quickFilterAggregateText.indexOf(l)>=0},o.prototype.doesRowPassQuickFilter=function(s){var l=this,c=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(p){return c?l.doesRowPassQuickFilterCache(s,p):l.doesRowPassQuickFilterNoCache(s,p)})},o.prototype.doesRowPassAggregateFilters=function(s){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(s.rowNode,s.filterInstanceToSkip))},o.prototype.doesRowPassFilter=function(s){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(s.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(s.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(s.rowNode,s.filterInstanceToSkip))},o.prototype.getQuickFilterTextForColumn=function(s,l){var c=this.valueService.getValue(s,l,!0),p=s.getColDef();if(p.getQuickFilterText){var v={value:c,node:l,data:l.data,column:s,colDef:p,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};c=p.getQuickFilterText(v)}return I(c)?c.toString().toUpperCase():null},o.prototype.aggregateRowForQuickFilter=function(s){var l=this,c=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(v){var F=l.getQuickFilterTextForColumn(v,s);I(F)&&c.push(F)}),s.quickFilterAggregateText=c.join(r.QUICK_FILTER_SEPARATOR)},o.prototype.onNewRowsLoaded=function(s){this.allColumnFilters.forEach(function(l){l.filterPromise.then(function(c){c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(s),this.updateActiveFilters()},o.prototype.createValueGetter=function(s){var l=this;return function(c){return l.valueService.getValue(s,c.node,!0)}},o.prototype.getFilterComponent=function(s,l,c){var p;if(void 0===c&&(c=!0),c)return(null===(p=this.getOrCreateFilterWrapper(s,l))||void 0===p?void 0:p.filterPromise)||null;var v=this.cachedFilter(s);return v?v.filterPromise:null},o.prototype.isFilterActive=function(s){var l=this.cachedFilter(s);return!!l&&l.filterPromise.resolveNow(!1,function(c){return c.isFilterActive()})},o.prototype.getOrCreateFilterWrapper=function(s,l){if(!s.isFilterAllowed())return null;var c=this.cachedFilter(s);return c?"NO_UI"!==l&&this.putIntoGui(c,l):(c=this.createFilterWrapper(s,l),this.allColumnFilters.set(s.getColId(),c)),c},o.prototype.cachedFilter=function(s){return this.allColumnFilters.get(s.getColId())},o.prototype.createFilterInstance=function(s){var v,l=this,c=Le.isRegistered(z.GXE.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",p=s.getColDef(),F=ms(ms({},this.createFilterParams(s,p)),{filterModifiedCallback:function(){l.eventService.dispatchEvent({type:Te.EVENT_FILTER_MODIFIED,api:l.gridApi,columnApi:l.columnApi,column:s,filterInstance:v})},filterChangedCallback:function(se){l.callOnFilterChangedOutsideRenderCycle({filterInstance:v,additionalEventAttributes:se,columns:[s]})},doesRowPassOtherFilter:function(se){return l.doesRowPassOtherFilters(v,se)}}),B=this.userComponentFactory.getFilterDetails(p,F,c);if(!B)return null;var q=B.newAgStackInstance();return q&&q.then(function(se){return v=se}),q},o.prototype.createFilterParams=function(s,l){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:s,colDef:G(l),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(s),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},o.prototype.createFilterWrapper=function(s,l){var c={column:s,filterPromise:null,compiledElement:null,guiPromise:oo.resolve(null)};return c.filterPromise=this.createFilterInstance(s),c.filterPromise&&this.putIntoGui(c,l),c},o.prototype.putIntoGui=function(s,l){var c=this,p=document.createElement("div");p.className="ag-filter",s.guiPromise=new oo(function(v){s.filterPromise.then(function(F){var B=F.getGui();I(B)||console.warn("AG Grid: getGui method from filter returned "+B+", it should be a DOM element or an HTML template string."),"string"==typeof B&&(B=di(B)),p.appendChild(B),v(p),c.eventService.dispatchEvent({type:Te.EVENT_FILTER_OPENED,column:s.column,source:l,eGui:p,api:c.gridApi,columnApi:c.columnApi})})})},o.prototype.onColumnsChanged=function(){var s=this,l=[];this.allColumnFilters.forEach(function(c,p){!(c.column.isPrimary()?s.columnModel.getPrimaryColumn(p):s.columnModel.getGridColumn(p))&&(l.push(c.column),s.disposeFilterWrapper(c,"filterDestroyed"))}),l.length>0&&this.onFilterChanged({columns:l})},o.prototype.destroyFilter=function(s,l){void 0===l&&(l="api");var c=this.allColumnFilters.get(s.getColId());c&&(this.disposeFilterWrapper(c,l),this.onFilterChanged({columns:[s]}))},o.prototype.disposeFilterWrapper=function(s,l){var c=this;s.filterPromise.then(function(p){(p.setModel(null)||oo.resolve()).then(function(){c.getContext().destroyBean(p),s.column.setFilterActive(!1,l),c.allColumnFilters.delete(s.column.getColId())})})},o.prototype.destroy=function(){var s=this;u.prototype.destroy.call(this),this.allColumnFilters.forEach(function(l){return s.disposeFilterWrapper(l,"filterDestroyed")})},o.QUICK_FILTER_SEPARATOR="\n",_s([de("valueService")],o.prototype,"valueService",void 0),_s([de("columnModel")],o.prototype,"columnModel",void 0),_s([de("rowModel")],o.prototype,"rowModel",void 0),_s([de("columnApi")],o.prototype,"columnApi",void 0),_s([de("gridApi")],o.prototype,"gridApi",void 0),_s([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),_s([de("rowRenderer")],o.prototype,"rowRenderer",void 0),_s([tt],o.prototype,"init",null),_s([Kt],o.prototype,"destroy",null),r=_s([ut("filterManager")],o)}(ft),x1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),hp=function(u){function o(r,s){var l=u.call(this,r)||this;return l.ctrl=s,l}return x1(o,u),o.prototype.getCtrl=function(){return this.ctrl},o}(ln),Gg=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Hl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Bg=function(u){function o(r){return u.call(this,o.TEMPLATE,r)||this}return Gg(o,u),o.prototype.postConstruct=function(){var r=this,s=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(c,p){return r.addOrRemoveCssClass(c,p)},addOrRemoveBodyCssClass:function(c,p){return r.eFloatingFilterBody.classList.toggle(c,p)},addOrRemoveButtonWrapperCssClass:function(c,p){return r.eButtonWrapper.classList.toggle(c,p)},setCompDetails:function(c){return r.setCompDetails(c)},getFloatingFilterComp:function(){return r.compPromise},setWidth:function(c){return s.style.width=c},setMenuIcon:function(c){return r.eButtonShowMainFilter.appendChild(c)}},s,this.eButtonShowMainFilter,this.eFloatingFilterBody)},o.prototype.setCompDetails=function(r){var s=this;this.compPromise=r.newAgStackInstance(),this.compPromise.then(function(l){return s.afterCompCreated(l)})},o.prototype.afterCompCreated=function(r){var s=this;!r||(this.addDestroyFunc(function(){return s.context.destroyBean(r)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(r.getGui()),r.afterGuiAttached&&r.afterGuiAttached()))},o.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Hl([ct("eFloatingFilterBody")],o.prototype,"eFloatingFilterBody",void 0),Hl([ct("eButtonWrapper")],o.prototype,"eButtonWrapper",void 0),Hl([ct("eButtonShowMainFilter")],o.prototype,"eButtonShowMainFilter",void 0),Hl([tt],o.prototype,"postConstruct",null),o}(hp),xy=function(){function u(){}return u.parse=function(o){if(!o)return null;if(!0===o)return{toolPanels:[u.DEFAULT_COLUMN_COMP,u.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof o)return u.parse([o]);if(Array.isArray(o)){var r=[];return o.forEach(function(l){var c=u.DEFAULT_BY_KEY[l];c?r.push(c):console.warn("AG Grid: the key "+l+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","))}),0===r.length?null:{toolPanels:r,defaultToolPanel:r[0].id}}return{toolPanels:u.parseComponents(o.toolPanels),defaultToolPanel:o.defaultToolPanel,hiddenByDefault:o.hiddenByDefault,position:o.position}},u.parseComponents=function(o){var r=[];return o&&o.forEach(function(s){var l=null;if("string"==typeof s){var c=u.DEFAULT_BY_KEY[s];if(!c)return void console.warn("AG Grid: the key "+s+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(u.DEFAULT_BY_KEY).join(","));l=c}else l=s;r.push(l)}),r},u.DEFAULT_BY_KEY={columns:u.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:u.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},u}(),pp=function(){return pp=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},pp.apply(this,arguments)},Oo=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Kc=function(u,o){return function(r,s){o(r,s,u)}},S1=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},Sy=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(S1(arguments[o]));return u};function Je(u){return!0===u||"true"===u}function qc(u){return"number"==typeof u?u:"string"==typeof u?parseInt(u,10):void 0}function jl(u,o){var r=parseInt(u,10);return qu(r)&&r>0?r:o}var Mt=function(){function u(){this.propertyEventService=new ds,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var o;return o=u,u.prototype.agWire=function(r,s){this.gridOptions.api=r,this.gridOptions.columnApi=s,this.checkForDeprecated(),this.checkForViolations()},u.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},u.prototype.init=function(){var r=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=xy.parse(this.gridOptions.sideBar));var s=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),s),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var l=function(p){return"AG Grid: '"+p+"' is not supported on the Server-Side Row Model"};I(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupDefaultExpanded")),I(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupIncludeFooter")),I(this.gridOptions.groupDefaultExpanded)&&console.warn(l("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&Le.assertRegistered(z.GXE.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var c=function(p){r.gridOptions.icons&&r.gridOptions.icons[p]&&console.warn("gridOptions.icons."+p+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};c("radioButtonOff"),c("radioButtonOn"),c("checkboxChecked"),c("checkboxUnchecked"),c("checkboxIndeterminate"),this.getScrollbarWidth()},u.prototype.checkColumnDefProperties=function(){var r=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(s){var l=Object.getOwnPropertyNames(s),c=Sy(Ih.ALL_PROPERTIES,Ih.FRAMEWORK_PROPERTIES);r.checkProperties(l,c,c,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},u.prototype.checkGridOptionsProperties=function(){var r=Object.getOwnPropertyNames(this.gridOptions),s=Sy(ga.ALL_PROPERTIES,ga.FRAMEWORK_PROPERTIES,b(Te).map(function(c){return Tl.getCallbackForEvent(c)})),l=Sy(s,["api","columnApi"]);this.checkProperties(r,l,s,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},u.prototype.checkProperties=function(r,s,l,c,p){var v=Uh(r,s,l);E(v,function(F,B){console.warn("ag-grid: invalid "+c+" property '"+F+"' did you mean any of these: "+B.slice(0,8).join(", "))}),Object.keys(v).length>0&&console.warn("ag-grid: to see all the valid "+c+" properties please check: "+p)},u.prototype.mergeGridCommonParams=function(r){var s=this;return r?function(c){var p=pp(pp({},c),{api:s.getApi(),columnApi:s.getColumnApi(),context:s.getContext()});return r(p)}:r},u.prototype.getDomDataKey=function(){return this.domDataKey},u.prototype.getDomData=function(r,s){var l=r[this.getDomDataKey()];return l?l[s]:void 0},u.prototype.setDomData=function(r,s,l){var c=this.getDomDataKey(),p=r[c];O(p)&&(r[c]=p={}),p[s]=l},u.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},u.prototype.isSuppressRowDeselection=function(){return Je(this.gridOptions.suppressRowDeselection)},u.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},u.prototype.isRowMultiSelectWithClick=function(){return Je(this.gridOptions.rowMultiSelectWithClick)},u.prototype.getContext=function(){return this.gridOptions.context},u.prototype.isPivotMode=function(){return Je(this.gridOptions.pivotMode)},u.prototype.isSuppressExpandablePivotGroups=function(){return Je(this.gridOptions.suppressExpandablePivotGroups)},u.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},u.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},u.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===Ie.ROW_MODEL_TYPE_INFINITE},u.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===Ie.ROW_MODEL_TYPE_VIEWPORT},u.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===Ie.ROW_MODEL_TYPE_SERVER_SIDE},u.prototype.isRowModelDefault=function(){return O(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===Ie.ROW_MODEL_TYPE_CLIENT_SIDE},u.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},u.prototype.isSuppressFocusAfterRefresh=function(){return Je(this.gridOptions.suppressFocusAfterRefresh)},u.prototype.isSuppressBrowserResizeObserver=function(){return Je(this.gridOptions.suppressBrowserResizeObserver)},u.prototype.isSuppressMaintainUnsortedOrder=function(){return Je(this.gridOptions.suppressMaintainUnsortedOrder)},u.prototype.isSuppressClearOnFillReduction=function(){return Je(this.gridOptions.suppressClearOnFillReduction)},u.prototype.isShowToolPanel=function(){return Je(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},u.prototype.getSideBar=function(){return this.gridOptions.sideBar},u.prototype.isSuppressTouch=function(){return Je(this.gridOptions.suppressTouch)},u.prototype.isMaintainColumnOrder=function(){return Je(this.gridOptions.maintainColumnOrder)},u.prototype.isSuppressRowTransform=function(){return Je(this.gridOptions.suppressRowTransform)},u.prototype.isSuppressColumnStateEvents=function(){return Je(this.gridOptions.suppressColumnStateEvents)},u.prototype.isAllowDragFromColumnsToolPanel=function(){return Je(this.gridOptions.allowDragFromColumnsToolPanel)},u.prototype.useAsyncEvents=function(){return!Je(this.gridOptions.suppressAsyncEvents)},u.prototype.isEnableCellChangeFlash=function(){return Je(this.gridOptions.enableCellChangeFlash)},u.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},u.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},u.prototype.isGroupSelectsChildren=function(){return Je(this.gridOptions.groupSelectsChildren)},u.prototype.isSuppressRowHoverHighlight=function(){return Je(this.gridOptions.suppressRowHoverHighlight)},u.prototype.isColumnHoverHighlight=function(){return Je(this.gridOptions.columnHoverHighlight)},u.prototype.isGroupSelectsFiltered=function(){return Je(this.gridOptions.groupSelectsFiltered)},u.prototype.isGroupHideOpenParents=function(){return Je(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupMaintainOrder=function(){return Je(this.gridOptions.groupMaintainOrder)},u.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},u.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Je(this.gridOptions.groupHideOpenParents)},u.prototype.isGroupUseEntireRow=function(r){return!r&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},u.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},u.prototype.isGroupRemoveSingleChildren=function(){return Je(this.gridOptions.groupRemoveSingleChildren)},u.prototype.isGroupRemoveLowestSingleChildren=function(){return Je(this.gridOptions.groupRemoveLowestSingleChildren)},u.prototype.isGroupIncludeFooter=function(){return Je(this.gridOptions.groupIncludeFooter)},u.prototype.isGroupIncludeTotalFooter=function(){return Je(this.gridOptions.groupIncludeTotalFooter)},u.prototype.isGroupSuppressBlankHeader=function(){return Je(this.gridOptions.groupSuppressBlankHeader)},u.prototype.isSuppressRowClickSelection=function(){return Je(this.gridOptions.suppressRowClickSelection)},u.prototype.isSuppressCellFocus=function(){return Je(this.gridOptions.suppressCellFocus)},u.prototype.isSuppressMultiSort=function(){return Je(this.gridOptions.suppressMultiSort)},u.prototype.isAlwaysMultiSort=function(){return Je(this.gridOptions.alwaysMultiSort)},u.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},u.prototype.isPivotSuppressAutoColumn=function(){return Je(this.gridOptions.pivotSuppressAutoColumn)},u.prototype.isSuppressDragLeaveHidesColumns=function(){return Je(this.gridOptions.suppressDragLeaveHidesColumns)},u.prototype.isSuppressScrollOnNewData=function(){return Je(this.gridOptions.suppressScrollOnNewData)},u.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Je(this.gridOptions.suppressScrollWhenPopupsAreOpen)},u.prototype.isRowDragEntireRow=function(){return Je(this.gridOptions.rowDragEntireRow)},u.prototype.isSuppressRowDrag=function(){return Je(this.gridOptions.suppressRowDrag)},u.prototype.isRowDragManaged=function(){return Je(this.gridOptions.rowDragManaged)},u.prototype.isSuppressMoveWhenRowDragging=function(){return Je(this.gridOptions.suppressMoveWhenRowDragging)},u.prototype.isRowDragMultiRow=function(){return Je(this.gridOptions.rowDragMultiRow)},u.prototype.getDomLayout=function(){var r=this.gridOptions.domLayout||Ie.DOM_LAYOUT_NORMAL;return-1===[Ie.DOM_LAYOUT_PRINT,Ie.DOM_LAYOUT_AUTO_HEIGHT,Ie.DOM_LAYOUT_NORMAL].indexOf(r)?(ze(function(){return console.warn("AG Grid: "+r+" is not valid for DOM Layout, valid values are "+Ie.DOM_LAYOUT_NORMAL+", "+Ie.DOM_LAYOUT_AUTO_HEIGHT+" and "+Ie.DOM_LAYOUT_PRINT)},"warn about dom layout values"),Ie.DOM_LAYOUT_NORMAL):r},u.prototype.isSuppressHorizontalScroll=function(){return Je(this.gridOptions.suppressHorizontalScroll)},u.prototype.isSuppressMaxRenderedRowRestriction=function(){return Je(this.gridOptions.suppressMaxRenderedRowRestriction)},u.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Je(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},u.prototype.isAlwaysShowHorizontalScroll=function(){return Je(this.gridOptions.alwaysShowHorizontalScroll)},u.prototype.isAlwaysShowVerticalScroll=function(){return Je(this.gridOptions.alwaysShowVerticalScroll)},u.prototype.isDebounceVerticalScrollbar=function(){return Je(this.gridOptions.debounceVerticalScrollbar)},u.prototype.isSuppressLoadingOverlay=function(){return Je(this.gridOptions.suppressLoadingOverlay)},u.prototype.isSuppressNoRowsOverlay=function(){return Je(this.gridOptions.suppressNoRowsOverlay)},u.prototype.isSuppressFieldDotNotation=function(){return Je(this.gridOptions.suppressFieldDotNotation)},u.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},u.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},u.prototype.isFunctionsPassive=function(){return Je(this.gridOptions.functionsPassive)},u.prototype.isSuppressChangeDetection=function(){return Je(this.gridOptions.suppressChangeDetection)},u.prototype.isSuppressAnimationFrame=function(){return Je(this.gridOptions.suppressAnimationFrame)},u.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},u.prototype.isCacheQuickFilter=function(){return Je(this.gridOptions.cacheQuickFilter)},u.prototype.isUnSortIcon=function(){return Je(this.gridOptions.unSortIcon)},u.prototype.isSuppressMenuHide=function(){return Je(this.gridOptions.suppressMenuHide)},u.prototype.isEnterMovesDownAfterEdit=function(){return Je(this.gridOptions.enterMovesDownAfterEdit)},u.prototype.isEnterMovesDown=function(){return Je(this.gridOptions.enterMovesDown)},u.prototype.isUndoRedoCellEditing=function(){return Je(this.gridOptions.undoRedoCellEditing)},u.prototype.getUndoRedoCellEditingLimit=function(){return qc(this.gridOptions.undoRedoCellEditingLimit)},u.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},u.prototype.getRowClass=function(){return this.gridOptions.rowClass},u.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},u.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},u.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},u.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},u.prototype.getServerSideStoreParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideStoreParams)},u.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},u.prototype.getPopupParent=function(){return this.gridOptions.popupParent},u.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},u.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},u.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},u.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},u.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},u.prototype.getInitialGroupOrderComparator=function(){var r=this.gridOptions,s=r.initialGroupOrderComparator,l=r.defaultGroupOrderComparator;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.nodeA,c.nodeB)}:void 0},u.prototype.getIsFullWidthCellFunc=function(){var r=this.gridOptions,s=r.isFullWidthRow,l=r.isFullWidthCell;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.rowNode)}:void 0},u.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},u.prototype.isEmbedFullWidthRows=function(){return Je(this.gridOptions.embedFullWidthRows)||Je(this.gridOptions.deprecatedEmbedFullWidthRows)},u.prototype.isDetailRowAutoHeight=function(){return Je(this.gridOptions.detailRowAutoHeight)},u.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},u.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},u.prototype.getApi=function(){return this.gridOptions.api},u.prototype.getColumnApi=function(){return this.gridOptions.columnApi},u.prototype.isReadOnlyEdit=function(){return Je(this.gridOptions.readOnlyEdit)},u.prototype.isImmutableData=function(){var r=null!=this.gridOptions.getRowId,s=Je(this.gridOptions.immutableData);return!Je(this.gridOptions.resetRowDataOnUpdate)&&(r||s)},u.prototype.isEnsureDomOrder=function(){return Je(this.gridOptions.ensureDomOrder)},u.prototype.isEnableCharts=function(){return!!Je(this.gridOptions.enableCharts)&&Le.assertRegistered(z.GXE.GridChartsModule,"enableCharts")},u.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},u.prototype.isSingleClickEdit=function(){return Je(this.gridOptions.singleClickEdit)},u.prototype.isSuppressClickEdit=function(){return Je(this.gridOptions.suppressClickEdit)},u.prototype.isStopEditingWhenCellsLoseFocus=function(){return Je(this.gridOptions.stopEditingWhenCellsLoseFocus)},u.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},u.prototype.getMaxConcurrentDatasourceRequests=function(){var r=qc(this.gridOptions.maxConcurrentDatasourceRequests);return null==r?2:r<=0?void 0:r},u.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},u.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},u.prototype.getPaginationPageSize=function(){return qc(this.gridOptions.paginationPageSize)},u.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Je(this.gridOptions.paginateChildRows)},u.prototype.getCacheBlockSize=function(){return jl(this.gridOptions.cacheBlockSize)},u.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},u.prototype.isPurgeClosedRowNodes=function(){return Je(this.gridOptions.purgeClosedRowNodes)},u.prototype.isSuppressPaginationPanel=function(){return Je(this.gridOptions.suppressPaginationPanel)},u.prototype.getRowData=function(){return this.gridOptions.rowData},u.prototype.isEnableRtl=function(){return Je(this.gridOptions.enableRtl)},u.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},u.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},u.prototype.isAngularCompileRows=function(){return Je(this.gridOptions.angularCompileRows)},u.prototype.isAngularCompileFilters=function(){return Je(this.gridOptions.angularCompileFilters)},u.prototype.isDebug=function(){return Je(this.gridOptions.debug)},u.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},u.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},u.prototype.getDatasource=function(){return this.gridOptions.datasource},u.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},u.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},u.prototype.isAccentedSort=function(){return Je(this.gridOptions.accentedSort)},u.prototype.isEnableBrowserTooltips=function(){return Je(this.gridOptions.enableBrowserTooltips)},u.prototype.isEnableCellExpressions=function(){return Je(this.gridOptions.enableCellExpressions)},u.prototype.isEnableGroupEdit=function(){return Je(this.gridOptions.enableGroupEdit)},u.prototype.isSuppressMiddleClickScrolls=function(){return Je(this.gridOptions.suppressMiddleClickScrolls)},u.prototype.isPreventDefaultOnContextMenu=function(){return Je(this.gridOptions.preventDefaultOnContextMenu)},u.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Je(this.gridOptions.suppressPreventDefaultOnMouseWheel)},u.prototype.isSuppressColumnVirtualisation=function(){return Je(this.gridOptions.suppressColumnVirtualisation)},u.prototype.isSuppressRowVirtualisation=function(){return Je(this.gridOptions.suppressRowVirtualisation)},u.prototype.isSuppressContextMenu=function(){return Je(this.gridOptions.suppressContextMenu)},u.prototype.isAllowContextMenuWithControlKey=function(){return Je(this.gridOptions.allowContextMenuWithControlKey)},u.prototype.isSuppressCopyRowsToClipboard=function(){return Je(this.gridOptions.suppressCopyRowsToClipboard)},u.prototype.isSuppressCopySingleCellRanges=function(){return Je(this.gridOptions.suppressCopySingleCellRanges)},u.prototype.isCopyHeadersToClipboard=function(){return Je(this.gridOptions.copyHeadersToClipboard)},u.prototype.isCopyGroupHeadersToClipboard=function(){return Je(this.gridOptions.copyGroupHeadersToClipboard)},u.prototype.isSuppressClipboardPaste=function(){return Je(this.gridOptions.suppressClipboardPaste)},u.prototype.isSuppressLastEmptyLineOnPaste=function(){return Je(this.gridOptions.suppressLastEmptyLineOnPaste)},u.prototype.isPagination=function(){return Je(this.gridOptions.pagination)},u.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Je(this.gridOptions.suppressEnterpriseResetOnNewColumns)},u.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},u.prototype.getAsyncTransactionWaitMillis=function(){return I(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:Ie.BATCH_WAIT_MILLIS},u.prototype.isSuppressMovableColumns=function(){return Je(this.gridOptions.suppressMovableColumns)},u.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Je(this.gridOptions.animateRows)},u.prototype.isSuppressColumnMoveAnimation=function(){return Je(this.gridOptions.suppressColumnMoveAnimation)},u.prototype.isSuppressAggFuncInHeader=function(){return Je(this.gridOptions.suppressAggFuncInHeader)},u.prototype.isSuppressAggAtRootLevel=function(){return Je(this.gridOptions.suppressAggAtRootLevel)},u.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||Je(this.gridOptions.suppressAggFilteredOnly)},u.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return Je(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},u.prototype.isShowOpenedGroup=function(){return Je(this.gridOptions.showOpenedGroup)},u.prototype.isReactUi=function(){return Je(this.gridOptions.reactUi)},u.prototype.isSuppressReactUi=function(){return Je(this.gridOptions.suppressReactUi)},u.prototype.isEnableRangeSelection=function(){return Le.isRegistered(z.GXE.RangeSelectionModule)&&Je(this.gridOptions.enableRangeSelection)},u.prototype.isEnableRangeHandle=function(){return Je(this.gridOptions.enableRangeHandle)},u.prototype.isEnableFillHandle=function(){return Je(this.gridOptions.enableFillHandle)},u.prototype.getFillHandleDirection=function(){var r=this.gridOptions.fillHandleDirection;return r?"x"!==r&&"y"!==r&&"xy"!==r?(ze(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):r:"xy"},u.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},u.prototype.isSuppressMultiRangeSelection=function(){return Je(this.gridOptions.suppressMultiRangeSelection)},u.prototype.isPaginationAutoPageSize=function(){return Je(this.gridOptions.paginationAutoPageSize)},u.prototype.isRememberGroupStateWhenNewData=function(){return Je(this.gridOptions.rememberGroupStateWhenNewData)},u.prototype.getIcons=function(){return this.gridOptions.icons},u.prototype.getGroupAggFiltering=function(){var r=this.gridOptions.groupAggFiltering;return"function"==typeof r?this.mergeGridCommonParams(r):Je(r)?function(){return!0}:void 0},u.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},u.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},u.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},u.prototype.isMasterDetail=function(){return!!Je(this.gridOptions.masterDetail)&&Le.assertRegistered(z.GXE.MasterDetailModule,"masterDetail")},u.prototype.isKeepDetailRows=function(){return Je(this.gridOptions.keepDetailRows)},u.prototype.getKeepDetailRowsCount=function(){var r=this.gridOptions.keepDetailRowsCount;return I(r)&&r>0?this.gridOptions.keepDetailRowsCount:10},u.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},u.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},u.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},u.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},u.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},u.prototype.isSuppressAutoSize=function(){return Je(this.gridOptions.suppressAutoSize)},u.prototype.isEnableCellTextSelection=function(){return Je(this.gridOptions.enableCellTextSelection)},u.prototype.isSuppressParentsInRowNodes=function(){return Je(this.gridOptions.suppressParentsInRowNodes)},u.prototype.isSuppressClipboardApi=function(){return Je(this.gridOptions.suppressClipboardApi)},u.prototype.isFunctionsReadOnly=function(){return Je(this.gridOptions.functionsReadOnly)},u.prototype.isEnableCellTextSelect=function(){return Je(this.gridOptions.enableCellTextSelection)},u.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},u.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},u.prototype.getDefaultExportParams=function(r){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+En(r)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===r&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===r&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},u.prototype.isSuppressCsvExport=function(){return Je(this.gridOptions.suppressCsvExport)},u.prototype.isAllowShowChangeAfterFilter=function(){return Je(this.gridOptions.allowShowChangeAfterFilter)},u.prototype.isSuppressExcelExport=function(){return Je(this.gridOptions.suppressExcelExport)},u.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Je(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},u.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},u.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},u.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},u.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},u.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},u.prototype.getGroupRowAggFunc=function(){var r=this.gridOptions,s=r.getGroupRowAgg,l=r.groupRowAggNodes;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.nodes)}:void 0},u.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},u.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},u.prototype.getRowIdFunc=function(){var r=this.gridOptions,s=r.getRowId,l=r.getRowNodeId;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.data)}:void 0},u.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},u.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},u.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},u.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},u.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},u.prototype.isTreeData=function(){return!!Je(this.gridOptions.treeData)&&Le.assertRegistered(z.GXE.RowGroupingModule,"Tree Data")},u.prototype.isValueCache=function(){return Je(this.gridOptions.valueCache)},u.prototype.isValueCacheNeverExpires=function(){return Je(this.gridOptions.valueCacheNeverExpires)},u.prototype.isDeltaSort=function(){return Je(this.gridOptions.deltaSort)},u.prototype.isAggregateOnlyChangedColumns=function(){return Je(this.gridOptions.aggregateOnlyChangedColumns)},u.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},u.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},u.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},u.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},u.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},u.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},u.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},u.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},u.prototype.getViewportRowModelPageSize=function(){return jl(this.gridOptions.viewportRowModelPageSize,5)},u.prototype.getViewportRowModelBufferSize=function(){return function Hg(u,o){return u>=0?u:o}(this.gridOptions.viewportRowModelBufferSize,5)},u.prototype.isServerSideSortingAlwaysResets=function(){return Je(this.gridOptions.serverSideSortingAlwaysResets)},u.prototype.isServerSideFilteringAlwaysResets=function(){return Je(this.gridOptions.serverSideFilteringAlwaysResets)},u.prototype.getPostSortFunc=function(){var r=this.gridOptions,s=r.postSortRows,l=r.postSort;return s?this.mergeGridCommonParams(s):l?function(c){return l(c.nodes)}:void 0},u.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},u.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},u.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},u.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},u.prototype.getClipboardDelimiter=function(){return I(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},u.prototype.setProperty=function(r,s,l){void 0===l&&(l=!1);var c=this.gridOptions,p=c[r];(l||p!==s)&&(c[r]=s,this.propertyEventService.dispatchEvent({type:r,currentValue:s,previousValue:p}))},u.prototype.addEventListener=function(r,s){this.propertyEventService.addEventListener(r,s)},u.prototype.removeEventListener=function(r,s){this.propertyEventService.removeEventListener(r,s)},u.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},u.prototype.getAutoSizePadding=function(){var r=this.gridOptions.autoSizePadding;return null!=r&&r>=0?r:20},u.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},u.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},u.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},u.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},u.prototype.doesExternalFilterPass=function(r){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(r)},u.prototype.getTooltipDelay=function(r){var s=this.gridOptions,p="show"===r?s.tooltipShowDelay:s.tooltipHideDelay,v=En(r);return I(p)?(p<0&&ze(function(){return console.warn("ag-grid: tooltip"+v+"Delay should not be lower than 0")},"tooltip"+v+"DelayWarn"),Math.max(200,p)):null},u.prototype.isTooltipMouseTrack=function(){return Je(this.gridOptions.tooltipMouseTrack)},u.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Je(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},u.prototype.getDocument=function(){var r=null;return this.gridOptions.getDocument&&I(this.gridOptions.getDocument)?r=this.gridOptions.getDocument():this.eGridDiv&&(r=this.eGridDiv.ownerDocument),r&&I(r)?r:document},u.prototype.getMinColWidth=function(){var r=this.gridOptions.minColWidth;if(I(r)&&r>o.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var s=this.getFromTheme(null,"headerCellMinWidth");return I(s)?Math.max(s,o.MIN_COL_WIDTH):o.MIN_COL_WIDTH},u.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>o.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},u.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},u.prototype.getRowBuffer=function(){var r=this.gridOptions.rowBuffer;return"number"==typeof r?r<0&&(ze(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=r=0):r=Ie.ROW_BUFFER_SIZE,r},u.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},u.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var s="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Tx();null!=s&&(this.scrollbarWidth=s,this.eventService.dispatchEvent({type:Te.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},u.prototype.checkForDeprecated=function(){var r=this.gridOptions;r.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),r.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),r.enableMultiRowDragging&&(r.rowDragMultiRow=!0,delete r.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var s=function(p,v,F){null!=r[p]&&(console.warn("AG Grid: since version "+F+", '"+p+"' is deprecated / renamed, please use the new property name '"+v+"' instead."),null==r[v]&&(r[v]=r[p]))};if(s("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),s("deltaRowDataMode","immutableData","23.1.x"),(r.immutableColumns||r.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),s("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),r.groupRowInnerRenderer||r.groupRowInnerRendererParams||r.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),r.groupRowRendererParams||(r.groupRowRendererParams={});var l=r.groupRowRendererParams;r.groupRowInnerRenderer&&(l.innerRenderer=r.groupRowInnerRenderer),r.groupRowInnerRendererParams&&(l.innerRendererParams=r.groupRowInnerRendererParams),r.groupRowInnerRendererFramework&&(l.innerRendererFramework=r.groupRowInnerRendererFramework)}r.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),r.detailCellRendererParams&&r.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),r.detailRowAutoHeight=!0),r.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),r.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),r.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),r.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),r.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),r.stopEditingWhenCellsLoseFocus=!0),r.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),r.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),r.groupDisplayType="multipleColumns"),r.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),r.groupDisplayType="groupRows"),r.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(r.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),r.groupDisplayType="custom"),r.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),r.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),r.defaultGroupOrderComparator=r.defaultGroupSortComparator),r.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),r.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),r.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),r.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),r.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),r.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),r.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),r.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),r.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),r.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),r.suppressCellFocus=r.suppressCellSelection),r.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),r.immutableData&&(r.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),r.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),r.clipboardDelimiter=r.clipboardDeliminator)},u.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},u.prototype.treeDataViolations=function(){this.isRowModelDefault()&&O(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(O(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),O(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},u.prototype.getLocaleTextFunc=function(){var r=this,s=this.gridOptions,l=s.localeText,c=s.getLocaleText;return c?function(v,F,B){var q={key:v,defaultValue:F,variableValues:B,api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext()};return c(q)}:s.localeTextFunc||function(v,F,B){var q=l&&l[v];if(q&&B&&B.length)for(var se=0;!(se>=B.length)&&-1!==q.indexOf("${variable}");)q=q.replace("${variable}",B[se++]);return null!=q?q:F}},u.prototype.globalEventHandler=function(r,s){if(!this.destroyed){var l=Tl.getCallbackForEvent(r);"function"==typeof this.gridOptions[l]&&this.gridOptions[l](s)}},u.prototype.setRowHeightVariable=function(r){var l=r+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=l&&this.eGridDiv.style.setProperty("--ag-line-height",l)},u.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||O(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var r=this.gridOptions.rowHeight;return r&&this.isNumeric(r)?(this.setRowHeightVariable(r),r):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},u.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getRowHeightForNode=function(r,s,l){if(void 0===s&&(s=!1),null==l&&(l=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(s)return{height:l,estimated:!0};var c={node:r,data:r.data},p=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(c);if(this.isNumeric(p))return 0===p&&ze(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,p),estimated:!1}}return r.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:l,estimated:!1}},u.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},u.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},u.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},u.prototype.isNumeric=function(r){return!isNaN(r)&&"number"==typeof r&&isFinite(r)},u.prototype.getFromTheme=function(r,s){var l=this.environment.getTheme().theme;return l&&0===l.indexOf("ag-theme")?this.environment.getSassVariable(l,s):r},u.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},u.prototype.matchesGroupDisplayType=function(r,s){var l=["groupRows","multipleColumns","custom","singleColumn"];return l.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid groupDisplayType value - possible values are: '"+l.join("', '")+"'"),!1):s===r},u.prototype.matchesTreeDataDisplayType=function(r,s){var l=["auto","custom"];return l.indexOf(s)<0?(console.warn("AG Grid: '"+s+"' is not a valid treeDataDisplayType value - possible values are: '"+l.join("', '")+"'"),!1):s===r},u.MIN_COL_WIDTH=10,u.PROP_HEADER_HEIGHT="headerHeight",u.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",u.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",u.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",u.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",u.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",u.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",u.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",u.PROP_TAB_TO_NEXT_CELL="tabToNextCell",u.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",u.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",u.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",u.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",u.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",u.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",u.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",u.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",u.PROP_GET_ROW_CLASS="getRowClass",u.PROP_GET_ROW_STYLE="getRowStyle",u.PROP_GET_ROW_HEIGHT="getRowHeight",u.PROP_POPUP_PARENT="popupParent",u.PROP_DOM_LAYOUT="domLayout",u.PROP_ROW_CLASS="rowClass",u.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",u.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",u.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",u.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",u.PROP_GET_CHILD_COUNT="getChildCount",u.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",u.PROP_GET_ROW_NODE_ID="getRowNodeId",u.PROP_GET_ROW_ID="getRowId",u.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",u.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",u.PROP_IS_ROW_SELECTABLE="isRowSelectable",u.PROP_IS_ROW_MASTER="isRowMaster",u.PROP_POST_SORT="postSort",u.PROP_POST_SORT_ROWS="postSortRows",u.PROP_GET_DOCUMENT="getDocument",u.PROP_POST_PROCESS_POPUP="postProcessPopup",u.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",u.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",u.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",u.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",u.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",u.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",u.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",u.PROP_SEND_TO_CLIPBOARD="sendToClipboard",u.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",u.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",u.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",u.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",u.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",u.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",u.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",u.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Oo([de("gridOptions")],u.prototype,"gridOptions",void 0),Oo([de("eventService")],u.prototype,"eventService",void 0),Oo([de("environment")],u.prototype,"environment",void 0),Oo([de("eGridDiv")],u.prototype,"eGridDiv",void 0),Oo([Kc(0,oi("gridApi")),Kc(1,oi("columnApi"))],u.prototype,"agWire",null),Oo([Kt],u.prototype,"destroy",null),Oo([tt],u.prototype,"init",null),o=Oo([ut("gridOptionsWrapper")],u)}(),A1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),k1=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c};!function(u){u.AUTO_HEIGHT="ag-layout-auto-height",u.NORMAL="ag-layout-normal",u.PRINT="ag-layout-print"}(z.LBn||(z.LBn={}));var Xc=function(u){function o(r){var s=u.call(this)||this;return s.view=r,s}return A1(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},o.prototype.updateLayoutClasses=function(){var r=this.gridOptionsWrapper.getDomLayout(),s={autoHeight:r===Ie.DOM_LAYOUT_AUTO_HEIGHT,normal:r===Ie.DOM_LAYOUT_NORMAL,print:r===Ie.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(s.autoHeight?z.LBn.AUTO_HEIGHT:s.print?z.LBn.PRINT:z.LBn.NORMAL,s)},k1([de("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),k1([tt],o.prototype,"postConstruct",null),o}(ft),jg=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),vs=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ey=function(u){function o(r){var s=u.call(this)||this;return s.scrollLeft=-1,s.nextScrollTop=-1,s.scrollTop=-1,s.eBodyViewport=r,s.resetLastHorizontalScrollElementDebounced=$e(s.resetLastHorizontalScrollElement.bind(s),500),s}return jg(o,u),o.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(s){r.centerRowContainerCtrl=s.centerRowContainerCtrl,r.onDisplayedColumnsWidthChanged(),r.addScrollListener()})},o.prototype.addScrollListener=function(){var r=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(r.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var s=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?$e(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",s)},o.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},o.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(r){if(null!=this.centerRowContainerCtrl){void 0===r&&(r=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var l=this.enableRtl?r:-r,c=this.ctrlsService.getTopCenterRowContainerCtrl(),p=this.ctrlsService.getBottomCenterRowContainerCtrl(),v=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(l),p.setContainerTranslateX(l),c.setContainerTranslateX(l),Et(this.lastHorizontalScrollElement===this.centerRowContainerCtrl.getViewportElement()?v.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(r),this.enableRtl)}},o.prototype.isControllingScroll=function(r){return this.lastHorizontalScrollElement?r===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=r,!0)},o.prototype.onFakeHorizontalScroll=function(){var r=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},o.prototype.onCenterViewportScroll=function(){var r=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},o.prototype.onBodyHorizontalScroll=function(r){var s=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",s.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Rc(r,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},o.prototype.onVerticalScroll=function(){var r=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",r,!0)||(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},o.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},o.prototype.doHorizontalScroll=function(r){var l=Rc(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===r&&r===l||(this.scrollLeft=r,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(r),this.onHorizontalViewportChanged())},o.prototype.fireScrollEvent=function(r){var s=this,l={type:Te.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:r,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(l),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var c=Object.assign({},l,{type:Te.EVENT_BODY_SCROLL_END});s.eventService.dispatchEvent(c)},100)},o.prototype.shouldBlockScrollUpdate=function(r,s,l){if(void 0===l&&(l=!1),l&&!Sc())return!1;if("vertical"===r){var c=kc(this.eBodyViewport);if(s<0||s+c>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===r){var v=this.centerRowContainerCtrl.getCenterWidth(),F=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Wu()){if(s>0)return!0}else if(s<0)return!0;if(Math.abs(s)+v>F)return!0}return!1},o.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},o.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},o.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},o.prototype.executeAnimationFrameScroll=function(){var r=this.scrollTop!=this.nextScrollTop;return r&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),r},o.prototype.setHorizontalScrollPosition=function(r){var l=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",r)&&(r=this.enableRtl&&Wu()?r>0?0:l:Math.min(Math.max(r,0),l)),Et(this.centerRowContainerCtrl.getViewportElement(),Math.abs(r),this.enableRtl),this.doHorizontalScroll(r)},o.prototype.setVerticalScrollPosition=function(r){this.eBodyViewport.scrollTop=r},o.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},o.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},o.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},o.prototype.scrollHorizontally=function(r){var s=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(s+r),this.centerRowContainerCtrl.getViewportElement().scrollLeft-s},o.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},o.prototype.ensureNodeVisible=function(r,s){void 0===s&&(s=null);for(var l=this.rowModel.getRowCount(),c="function"==typeof r,p=-1,v=0;v<l;v++){var F=this.rowModel.getRow(v);if(c){if(r(F)){p=v;break}}else if(r===F||r===F.data){p=v;break}}p>=0&&this.ensureIndexVisible(p,s)},o.prototype.ensureIndexVisible=function(r,s){if(this.gridOptionsWrapper.getDomLayout()!==Ie.DOM_LAYOUT_PRINT){var l=this.paginationProxy.getRowCount();if("number"!=typeof r||r<0||r>=l)return void console.warn("invalid row index for ensureIndexVisible: "+r);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(r);var F,v=this.paginationProxy.getRow(r);do{var B=v.rowTop,q=v.rowHeight,se=this.paginationProxy.getPixelOffset(),fe=v.rowTop-se,we=fe+v.rowHeight,xe=this.getVScrollPosition(),Pe=this.heightScaler.getDivStretchOffset(),Be=xe.top+Pe,We=xe.bottom+Pe,Ue=We-Be,Ze=this.heightScaler.getScrollPositionForPixel(fe),gt=this.heightScaler.getScrollPositionForPixel(we-Ue),Ut=Math.min((Ze+gt)/2,fe),Yt=null;"top"===s?Yt=Ze:"bottom"===s?Yt=gt:"middle"===s?Yt=Ut:Be>fe?Yt=Ze:We<we&&(Yt=gt),null!==Yt&&(this.eBodyViewport.scrollTop=Yt,this.rowRenderer.redrawAfterScroll()),F=B!==v.rowTop||q!==v.rowHeight}while(F);this.animationFrameService.flushAllFrames()}},o.prototype.ensureColumnVisible=function(r,s){void 0===s&&(s="auto");var l=this.columnModel.getGridColumn(r);if(l&&!l.isPinned()&&this.columnModel.isColumnDisplayed(l)){var c=this.getPositionedHorizontalScroll(l,s);null!==c&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(c),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},o.prototype.getPositionedHorizontalScroll=function(r,s){var l=this.isColumnOutsideViewport(r),c=l.columnBeforeStart,p=l.columnAfterEnd,v=this.centerRowContainerCtrl.getCenterWidth()<r.getActualWidth(),F=this.centerRowContainerCtrl.getCenterWidth(),B=this.enableRtl,q=(B?c:p)||v,se=B?p:c;"auto"!==s&&(q="start"===s,se="end"===s);var fe="middle"===s;if(q||se||fe){var we=this.getColumnBounds(r),xe=we.colLeft,Be=we.colRight;return fe?we.colMiddle-F/2:q?B?Be:xe:B?xe-F:Be-F}return null},o.prototype.isColumnOutsideViewport=function(r){var s=this.getViewportBounds(),l=s.start,c=s.end,p=this.getColumnBounds(r),v=p.colLeft,F=p.colRight,B=this.enableRtl;return{columnBeforeStart:B?l>F:c<F,columnAfterEnd:B?c<v:l>v}},o.prototype.getColumnBounds=function(r){var s=this.enableRtl,l=this.columnModel.getBodyContainerWidth(),c=r.getActualWidth(),p=r.getLeft(),v=s?-1:1,F=s?l-p:p;return{colLeft:F,colMiddle:F+c/2*v,colRight:F+c*v}},o.prototype.getViewportBounds=function(){var r=this.centerRowContainerCtrl.getCenterWidth(),s=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:s,end:r+s,width:r}},vs([de("ctrlsService")],o.prototype,"ctrlsService",void 0),vs([de("animationFrameService")],o.prototype,"animationFrameService",void 0),vs([de("columnApi")],o.prototype,"columnApi",void 0),vs([de("gridApi")],o.prototype,"gridApi",void 0),vs([de("paginationProxy")],o.prototype,"paginationProxy",void 0),vs([de("rowModel")],o.prototype,"rowModel",void 0),vs([de("rowContainerHeightService")],o.prototype,"heightScaler",void 0),vs([de("rowRenderer")],o.prototype,"rowRenderer",void 0),vs([de("columnModel")],o.prototype,"columnModel",void 0),vs([tt],o.prototype,"postConstruct",null),o}(ft),$g=function(){function u(o){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=o.scrollContainer,this.scrollHorizontally=-1!==o.scrollAxis.indexOf("x"),this.scrollVertically=-1!==o.scrollAxis.indexOf("y"),this.scrollByTick=null!=o.scrollByTick?o.scrollByTick:20,o.onScrollCallback&&(this.onScrollCallback=o.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=o.getVerticalPosition,this.setVerticalPosition=o.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=o.getHorizontalPosition,this.setHorizontalPosition=o.setHorizontalPosition),this.shouldSkipVerticalScroll=o.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=o.shouldSkipHorizontalScroll||function(){return!1}}return u.prototype.check=function(o,r){void 0===r&&(r=!1);var s=r||this.shouldSkipVerticalScroll();if(!s||!this.shouldSkipHorizontalScroll()){var l=this.scrollContainer.getBoundingClientRect(),c=this.scrollByTick;this.tickLeft=o.clientX<l.left+c,this.tickRight=o.clientX>l.right-c,this.tickUp=o.clientY<l.top+c&&!s,this.tickDown=o.clientY>l.bottom-c&&!s,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},u.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},u.prototype.doTick=function(){var o;if(this.tickCount++,o=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var r=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(r-o),this.tickDown&&this.setVerticalPosition(r+o)}if(this.scrollHorizontally){var s=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(s-o),this.tickRight&&this.setHorizontalPosition(s+o)}this.onScrollCallback&&this.onScrollCallback()},u.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},u}(),$l=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Wg=function(){return Wg=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Wg.apply(this,arguments)},lo=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},R1=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},P1=function(u){function o(r){var s=u.call(this)||this;return s.isMultiRowDrag=!1,s.isGridSorted=!1,s.isGridFiltered=!1,s.isRowGroupActive=!1,s.eContainer=r,s}return $l(o,u),o.prototype.postConstruct=function(){var r=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var s=function(){r.onSortChanged(),r.onFilterChanged(),r.onRowGroupChanged()};this.addManagedListener(this.eventService,Te.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_MODEL_UPDATED,function(){s()}),s(),this.ctrlsService.whenReady(function(){var l=r.ctrlsService.getGridBodyCtrl();r.autoScrollService=new $g({scrollContainer:l.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return l.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(c){return l.getScrollFeature().setVerticalScrollPosition(c)},onScrollCallback:function(){r.onDragging(r.lastDraggingEvent)}})})},o.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},o.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},o.prototype.onRowGroupChanged=function(){var r=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!S(r)},o.prototype.getContainer=function(){return this.eContainer},o.prototype.isInterestedIn=function(r){return r===z.rvo.RowDrag},o.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?ao.ICON_NOT_ALLOWED:ao.ICON_MOVE},o.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},o.prototype.getRowNodes=function(r){var s=this;if(!this.isFromThisGrid(r))return r.dragItem.rowNodes||[];var l=this.gridOptionsWrapper.isRowDragMultiRow(),c=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(R1(arguments[o]));return u}(this.selectionService.getSelectedNodes()).sort(function(v,F){return s.getRowIndexNumber(v)-s.getRowIndexNumber(F)}),p=r.dragItem.rowNode;return l&&-1!==c.indexOf(p)?(this.isMultiRowDrag=!0,c):(this.isMultiRowDrag=!1,[p])},o.prototype.onDragEnter=function(r){r.dragItem.rowNodes=this.getRowNodes(r),this.dispatchGridEvent(Te.EVENT_ROW_DRAG_ENTER,r),this.getRowNodes(r).forEach(function(s){s.setDragging(!0)}),this.onEnterOrDragging(r)},o.prototype.onDragging=function(r){this.onEnterOrDragging(r)},o.prototype.isFromThisGrid=function(r){return r.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},o.prototype.isDropZoneWithinThisGrid=function(r){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(r.dropZoneTarget)},o.prototype.onEnterOrDragging=function(r){this.dispatchGridEvent(Te.EVENT_ROW_DRAG_MOVE,r),this.lastDraggingEvent=r;var s=this.mouseEventService.getNormalisedPosition(r).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(r,s),this.autoScrollService.check(r.event)},o.prototype.doManagedDrag=function(r,s){var l=this.isFromThisGrid(r),c=this.gridOptionsWrapper.isRowDragManaged(),p=r.dragItem.rowNodes;c&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!l?this.isDropZoneWithinThisGrid(r)||this.clientSideRowModel.highlightRowAtPixel(p[0],s):this.moveRows(p,s))},o.prototype.getRowIndexNumber=function(r){return parseInt(St(r.getRowIndexString().split("-")),10)},o.prototype.moveRowAndClearHighlight=function(r){var s=this,l=this.clientSideRowModel.getLastHighlightedRowNode(),c=l&&l.highlighted===z.oh5.Below,p=this.mouseEventService.getNormalisedPosition(r).y,v=r.dragItem.rowNodes,F=c?1:0;if(this.isFromThisGrid(r))v.forEach(function(se){se.rowTop<p&&(F-=1)}),this.moveRows(v,p,F);else{var B=this.gridOptionsWrapper.getRowIdFunc(),q=this.clientSideRowModel.getRowIndexAtPixel(p)+1;this.clientSideRowModel.getHighlightPosition(p)===z.oh5.Above&&q--,this.clientSideRowModel.updateRowData({add:v.map(function(se){return se.data}).filter(function(se){return!s.clientSideRowModel.getRowNode(B?B({data:se,level:0}):se.id)}),addIndex:q})}this.clearRowHighlight()},o.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},o.prototype.moveRows=function(r,s,l){void 0===l&&(l=0),this.clientSideRowModel.ensureRowsAtPixel(r,s,l)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},o.prototype.addRowDropZone=function(r){var s=this;if(r.getContainer())if(this.dragAndDropService.findExternalZone(r))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var l={getContainer:r.getContainer};r.fromGrid?(r.fromGrid=void 0,l=r):(r.onDragEnter&&(l.onDragEnter=function(c){r.onDragEnter(s.draggingToRowDragEvent(Te.EVENT_ROW_DRAG_ENTER,c))}),r.onDragLeave&&(l.onDragLeave=function(c){r.onDragLeave(s.draggingToRowDragEvent(Te.EVENT_ROW_DRAG_LEAVE,c))}),r.onDragging&&(l.onDragging=function(c){r.onDragging(s.draggingToRowDragEvent(Te.EVENT_ROW_DRAG_MOVE,c))}),r.onDragStop&&(l.onDragStop=function(c){r.onDragStop(s.draggingToRowDragEvent(Te.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(Wg({isInterestedIn:function(c){return c===z.rvo.RowDrag},getIconName:function(){return ao.ICON_MOVE},external:!0},l))}else ze(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},o.prototype.getRowDropZone=function(r){var s=this,l=this.getContainer.bind(this),c=this.onDragEnter.bind(this),p=this.onDragLeave.bind(this),v=this.onDragging.bind(this),F=this.onDragStop.bind(this);return r?{getContainer:l,onDragEnter:r.onDragEnter?function(B){c(B),r.onDragEnter(s.draggingToRowDragEvent(Te.EVENT_ROW_DRAG_ENTER,B))}:c,onDragLeave:r.onDragLeave?function(B){p(B),r.onDragLeave(s.draggingToRowDragEvent(Te.EVENT_ROW_DRAG_LEAVE,B))}:p,onDragging:r.onDragging?function(B){v(B),r.onDragging(s.draggingToRowDragEvent(Te.EVENT_ROW_DRAG_MOVE,B))}:v,onDragStop:r.onDragStop?function(B){F(B),r.onDragStop(s.draggingToRowDragEvent(Te.EVENT_ROW_DRAG_END,B))}:F,fromGrid:!0}:{getContainer:l,onDragEnter:c,onDragLeave:p,onDragging:v,onDragStop:F,fromGrid:!0}},o.prototype.draggingToRowDragEvent=function(r,s){var v,F,l=this.mouseEventService.getNormalisedPosition(s).y,p=-1;switch(l>this.paginationProxy.getCurrentPageHeight()||(p=this.rowModel.getRowIndexAtPixel(l),v=this.rowModel.getRow(p)),s.vDirection){case z.HO_.Down:F="down";break;case z.HO_.Up:F="up";break;default:F=null}return{type:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:s.event,node:s.dragItem.rowNode,nodes:s.dragItem.rowNodes,overIndex:p,overNode:v,y:l,vDirection:F}},o.prototype.dispatchGridEvent=function(r,s){var l=this.draggingToRowDragEvent(r,s);this.eventService.dispatchEvent(l)},o.prototype.onDragLeave=function(r){this.dispatchGridEvent(Te.EVENT_ROW_DRAG_LEAVE,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(r)&&(this.isMultiRowDrag=!1)},o.prototype.onDragStop=function(r){this.dispatchGridEvent(Te.EVENT_ROW_DRAG_END,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(r))&&!this.isDropZoneWithinThisGrid(r)&&this.moveRowAndClearHighlight(r)},o.prototype.stopDragging=function(r){this.autoScrollService.ensureCleared(),this.getRowNodes(r).forEach(function(s){s.setDragging(!1)})},lo([de("dragAndDropService")],o.prototype,"dragAndDropService",void 0),lo([de("rowModel")],o.prototype,"rowModel",void 0),lo([de("paginationProxy")],o.prototype,"paginationProxy",void 0),lo([de("columnModel")],o.prototype,"columnModel",void 0),lo([de("focusService")],o.prototype,"focusService",void 0),lo([de("sortController")],o.prototype,"sortController",void 0),lo([de("filterManager")],o.prototype,"filterManager",void 0),lo([de("selectionService")],o.prototype,"selectionService",void 0),lo([de("mouseEventService")],o.prototype,"mouseEventService",void 0),lo([de("ctrlsService")],o.prototype,"ctrlsService",void 0),lo([gn("rangeService")],o.prototype,"rangeService",void 0),lo([de("columnApi")],o.prototype,"columnApi",void 0),lo([de("gridApi")],o.prototype,"gridApi",void 0),lo([tt],o.prototype,"postConstruct",null),o}(ft),Po=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Yi=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c};!function(u){u.ANIMATION_ON="ag-row-animation",u.ANIMATION_OFF="ag-row-no-animation"}(z.SJN||(z.SJN={}));var Ug="ag-selectable",Dy="ag-force-vertical-scroll",Ay="ag-column-moving",ky=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Po(o,u),o.prototype.getScrollFeature=function(){return this.bodyScrollFeature},o.prototype.getBodyViewportElement=function(){return this.eBodyViewport},o.prototype.setComp=function(r,s,l,c,p){this.comp=r,this.eGridBody=s,this.eBodyViewport=l,this.eTop=c,this.eBottom=p,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Xc(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Ey(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([c,l,p]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},o.prototype.getComp=function(){return this.comp},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Te.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},o.prototype.addFocusListeners=function(r){var s=this;r.forEach(function(l){s.addManagedListener(l,"focusin",function(){l.classList.add("ag-has-focus")}),s.addManagedListener(l,"focusout",function(c){l.contains(c.relatedTarget)||l.classList.remove("ag-has-focus")})})},o.prototype.setColumnMovingCss=function(r){this.comp.setColumnMovingCss(r?Ay:null,r)},o.prototype.setCellTextSelection=function(r){void 0===r&&(r=!1),this.comp.setCellSelectableCss(r?Ug:null,r)},o.prototype.onScrollVisibilityChanged=function(){var r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r)},o.prototype.onGridColumnsChanged=function(){var r=this.columnModel.getAllGridColumns();this.comp.setColumnCount(r?r.length:0)},o.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(r){if(r.target instanceof HTMLImageElement)return r.preventDefault(),!1})},o.prototype.addStopEditingWhenGridLosesFocus=function(){var r=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var s=function(c){var p=c.relatedTarget;if(null!==Gh(p)){var v=l.some(function(B){return B.contains(p)})&&r.mouseEventService.isElementInThisGrid(p);if(!v){var F=r.popupService;v=F.getActivePopups().some(function(B){return B.contains(p)})||F.isElementWithinCustomPopup(p)}v||r.rowRenderer.stopEditing()}else r.rowRenderer.stopEditing()},l=[this.eBodyViewport,this.eBottom,this.eTop];l.forEach(function(c){return r.addManagedListener(c,"focusout",s)})}},o.prototype.updateRowCount=function(){var r=this.headerNavigationService.getHeaderRowCount(),s=this.paginationProxy.getType(),l=-1;s===Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(l=0,this.paginationProxy.forEachNode(function(p){p.group||l++})),this.comp.setRowCount(-1===l?-1:r+l)},o.prototype.registerBodyViewportResizeListener=function(r){this.comp.registerBodyViewportResizeListener(r)},o.prototype.setVerticalScrollPaddingVisible=function(r){this.comp.setPinnedTopBottomOverflowY(r?"scroll":"hidden")},o.prototype.isVerticalScrollShowing=function(){var r=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(r?Dy:null,r),r||Ai(this.eBodyViewport)},o.prototype.setupRowAnimationCssClass=function(){var r=this,s=function(){var l=r.gridOptionsWrapper.isAnimateRows()&&!r.rowContainerHeightService.isStretching();r.comp.setRowAnimationCssOnBodyViewport(l?z.SJN.ANIMATION_ON:z.SJN.ANIMATION_OFF,l)};s(),this.addManagedListener(this.eventService,Te.EVENT_HEIGHT_SCALE_CHANGED,s)},o.prototype.getGridBodyElement=function(){return this.eGridBody},o.prototype.addBodyViewportListener=function(){var r=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(l){r.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&l.preventDefault();var c=l.target;(c===r.eBodyViewport||c===r.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&r.contextMenuFactory&&r.contextMenuFactory.onContextMenu(l,null,null,null,null,r.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},o.prototype.onWheel=function(r){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&r.preventDefault()},o.prototype.getGui=function(){return this.eGridBody},o.prototype.scrollVertically=function(r){var s=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(s+r),this.eBodyViewport.scrollTop-s},o.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new P1(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},o.prototype.getRowDragFeature=function(){return this.rowDragFeature},o.prototype.setFloatingHeights=function(){var r=this.pinnedRowModel,s=r.getPinnedTopTotalHeight();s&&(s+=1);var l=r.getPinnedBottomTotalHeight();l&&(l+=1),this.comp.setTopHeight(s),this.comp.setBottomHeight(l),this.comp.setTopDisplay(s?"inherit":"none"),this.comp.setBottomDisplay(l?"inherit":"none")},o.prototype.sizeColumnsToFit=function(r){var s=this,c=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,v=$u(this.eBodyViewport)-c;v>0?this.columnModel.sizeColumnsToFit(v,"sizeColumnsToFit"):void 0===r?window.setTimeout(function(){s.sizeColumnsToFit(100)},0):100===r?window.setTimeout(function(){s.sizeColumnsToFit(500)},100):500===r?window.setTimeout(function(){s.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},o.prototype.addScrollEventListener=function(r){this.eBodyViewport.addEventListener("scroll",r)},o.prototype.removeScrollEventListener=function(r){this.eBodyViewport.removeEventListener("scroll",r)},Yi([de("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),Yi([de("ctrlsService")],o.prototype,"ctrlsService",void 0),Yi([de("columnModel")],o.prototype,"columnModel",void 0),Yi([de("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Yi([gn("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),Yi([de("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Yi([de("paginationProxy")],o.prototype,"paginationProxy",void 0),Yi([de("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Yi([de("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Yi([de("rowRenderer")],o.prototype,"rowRenderer",void 0),Yi([de("popupService")],o.prototype,"popupService",void 0),Yi([de("mouseEventService")],o.prototype,"mouseEventService",void 0),o}(ft);(function(u){u[u.FILL=0]="FILL",u[u.RANGE=1]="RANGE"})(z.Lm6||(z.Lm6={})),function(u){u[u.VALUE=0]="VALUE",u[u.DIMENSION=1]="DIMENSION"}(z.StC||(z.StC={}));var sd="ag-cell-range-selected",ad=function(){function u(o,r){this.beans=o,this.cellCtrl=r}return u.prototype.setComp=function(o,r){this.cellComp=o,this.eGui=r,this.onRangeSelectionChanged()},u.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(sd,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(sd+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(sd+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(sd+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(sd+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Ku(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},u.prototype.updateRangeBorders=function(){var o=this.getRangeBorders(),r=this.isSingleCell(),l=!r&&o.right,c=!r&&o.bottom,p=!r&&o.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!r&&o.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",l),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",p)},u.prototype.isSingleCell=function(){var o=this.beans.rangeService;return 1===this.rangeCount&&o&&!o.isMoreThanOneCell()},u.prototype.getHasChartRange=function(){var o=this.beans.rangeService;if(!this.rangeCount||!o)return!1;var r=o.getCellRanges();return r.length>0&&r.every(function(s){return So([z.StC.DIMENSION,z.StC.VALUE],s.type)})},u.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},u.prototype.getRangeBorders=function(){var se,fe,o=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),s=!1,l=!1,c=!1,p=!1,v=this.cellCtrl.getCellPosition().column,F=this.beans,B=F.rangeService,q=F.columnModel;r?(se=q.getDisplayedColAfter(v),fe=q.getDisplayedColBefore(v)):(se=q.getDisplayedColBefore(v),fe=q.getDisplayedColAfter(v));var we=B.getCellRanges().filter(function(Ue){return B.isCellInSpecificRange(o.cellCtrl.getCellPosition(),Ue)});se||(p=!0),fe||(l=!0);for(var xe=0;xe<we.length&&!(s&&l&&c&&p);xe++){var Pe=we[xe],Be=B.getRangeStartRow(Pe),We=B.getRangeEndRow(Pe);!s&&this.beans.rowPositionUtils.sameRow(Be,this.cellCtrl.getCellPosition())&&(s=!0),!c&&this.beans.rowPositionUtils.sameRow(We,this.cellCtrl.getCellPosition())&&(c=!0),!p&&se&&Pe.columns.indexOf(se)<0&&(p=!0),!l&&fe&&Pe.columns.indexOf(fe)<0&&(l=!0)}return{top:s,right:l,bottom:c,left:p}},u.prototype.refreshHandle=function(){if(this.beans.rangeService){var o=this.shouldHaveSelectionHandle();this.selectionHandle&&!o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),o&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},u.prototype.shouldHaveSelectionHandle=function(){var o=this.beans,r=o.gridOptionsWrapper,s=o.rangeService,l=s.getCellRanges(),c=l.length;if(this.rangeCount<1||c<1)return!1;var p=St(l),v=this.cellCtrl.getCellPosition(),F=r.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),B=r.isEnableRangeHandle(),q=1===c&&!this.cellCtrl.isEditing()&&(F||B);if(this.hasChartRange){var fe=l[0].type===z.StC.DIMENSION&&s.isCellInSpecificRange(v,l[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",fe),q=p.type===z.StC.VALUE}return q&&null!=p.endRow&&s.isContiguousRange(p)&&s.isBottomRightCell(p,v)},u.prototype.addSelectionHandle=function(){var o=this.beans,r=o.gridOptionsWrapper,l=St(o.rangeService.getCellRanges()).type,p=r.isEnableFillHandle()&&O(l)?z.Lm6.FILL:z.Lm6.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==p&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(p)),this.selectionHandle.refresh(this.cellCtrl)},u.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},u}(),Oy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ys=function(u){function o(r,s){var l=u.call(this)||this;return l.cellCtrl=r,l.beans=s,l.column=r.getColumn(),l.rowNode=r.getRowNode(),l.setupColSpan(),l.setupRowSpan(),l}return Oy(o,u),o.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},o.prototype.setComp=function(r){this.eGui=r,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},o.prototype.onDisplayColumnsChanged=function(){var r=this.getColSpanningList();Fn(this.colsSpanning,r)||(this.colsSpanning=r,this.onWidthChanged(),this.onLeftChanged())},o.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},o.prototype.onWidthChanged=function(){if(this.eGui){var r=this.getCellWidth();this.eGui.style.width=r+"px"}},o.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(r,s){return r+s.getActualWidth()},0):this.column.getActualWidth()},o.prototype.getColSpanningList=function(){var r=this.column.getColSpan(this.rowNode),s=[];if(1===r)s.push(this.column);else for(var l=this.column,c=this.column.getPinned(),p=0;l&&p<r&&(s.push(l),(l=this.beans.columnModel.getDisplayedColAfter(l))&&!O(l)&&c===l.getPinned());p++);return s},o.prototype.onLeftChanged=function(){if(this.eGui){var r=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=r+"px"}},o.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?St(this.colsSpanning):this.column).getLeft()},o.prototype.modifyLeftForPrintLayout=function(r){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===Ie.PINNED_LEFT)return r;var s=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===Ie.PINNED_RIGHT?s+this.beans.columnModel.getBodyContainerWidth()+(r||0):s+(r||0)},o.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var r=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=r*this.rowSpan+"px",this.eGui.style.zIndex="1"}},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(ft),ld=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Py=function(u){function o(r,s){var l=u.call(this)||this;return l.staticClasses=[],l.cellCtrl=r,l.beans=s,l.column=r.getColumn(),l.rowNode=r.getRowNode(),l}return ld(o,u),o.prototype.setComp=function(r){this.cellComp=r,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},o.prototype.applyCellClassRules=function(){var r=this,s=this.column.getColDef(),l={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(s.cellClassRules,l,function(c){return r.cellComp.addOrRemoveCssClass(c,!0)},function(c){return r.cellComp.addOrRemoveCssClass(c,!1)})},o.prototype.applyUserStyles=function(){var r=this.column.getColDef();if(r.cellStyle){var s;if("function"==typeof r.cellStyle){var l={column:this.column,value:this.cellCtrl.getValue(),colDef:r,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};s=(0,r.cellStyle)(l)}else s=r.cellStyle;this.cellComp.setUserStyles(s)}},o.prototype.applyClassesFromColDef=function(){var r=this,s=this.column.getColDef(),l={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:s,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(c){return r.cellComp.addOrRemoveCssClass(c,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(s,l),this.staticClasses.length&&this.staticClasses.forEach(function(c){return r.cellComp.addOrRemoveCssClass(c,!0)})},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(ft),Iy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),fp=function(u){function o(r,s){var l=u.call(this)||this;return l.ctrl=r,l.beans=s,l}return Iy(o,u),o.prototype.setComp=function(r){this.comp=r,this.setupTooltip()},o.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},o.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},o.prototype.createTooltipFeatureIfNeeded=function(){var r=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Wn({getTooltipParams:function(){return r.getTooltipParams()},getGui:function(){return r.ctrl.getGui()}}),this.beans.context))},o.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},o.prototype.getTooltipParams=function(){var r=this.ctrl,s=r.getColumn?r.getColumn():void 0,l=r.getColDef?r.getColDef():void 0,c=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:l,column:s,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:c,data:c?c.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0}},o.prototype.getTooltipText=function(){return this.tooltip},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o}(ft),Rn=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},My=function(){function u(){}return u.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Rn([de("resizeObserverService")],u.prototype,"resizeObserverService",void 0),Rn([de("paginationProxy")],u.prototype,"paginationProxy",void 0),Rn([de("context")],u.prototype,"context",void 0),Rn([de("columnApi")],u.prototype,"columnApi",void 0),Rn([de("gridApi")],u.prototype,"gridApi",void 0),Rn([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Rn([de("expressionService")],u.prototype,"expressionService",void 0),Rn([de("rowRenderer")],u.prototype,"rowRenderer",void 0),Rn([de("templateService")],u.prototype,"templateService",void 0),Rn([de("valueService")],u.prototype,"valueService",void 0),Rn([de("eventService")],u.prototype,"eventService",void 0),Rn([de("columnModel")],u.prototype,"columnModel",void 0),Rn([de("headerNavigationService")],u.prototype,"headerNavigationService",void 0),Rn([de("navigationService")],u.prototype,"navigationService",void 0),Rn([de("columnAnimationService")],u.prototype,"columnAnimationService",void 0),Rn([gn("rangeService")],u.prototype,"rangeService",void 0),Rn([de("focusService")],u.prototype,"focusService",void 0),Rn([gn("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),Rn([de("popupService")],u.prototype,"popupService",void 0),Rn([de("valueFormatterService")],u.prototype,"valueFormatterService",void 0),Rn([de("stylingService")],u.prototype,"stylingService",void 0),Rn([de("columnHoverService")],u.prototype,"columnHoverService",void 0),Rn([de("userComponentFactory")],u.prototype,"userComponentFactory",void 0),Rn([de("userComponentRegistry")],u.prototype,"userComponentRegistry",void 0),Rn([de("animationFrameService")],u.prototype,"animationFrameService",void 0),Rn([de("dragAndDropService")],u.prototype,"dragAndDropService",void 0),Rn([de("sortController")],u.prototype,"sortController",void 0),Rn([de("filterManager")],u.prototype,"filterManager",void 0),Rn([de("rowContainerHeightService")],u.prototype,"rowContainerHeightService",void 0),Rn([de("frameworkOverrides")],u.prototype,"frameworkOverrides",void 0),Rn([de("cellPositionUtils")],u.prototype,"cellPositionUtils",void 0),Rn([de("rowPositionUtils")],u.prototype,"rowPositionUtils",void 0),Rn([de("selectionService")],u.prototype,"selectionService",void 0),Rn([gn("selectionHandleFactory")],u.prototype,"selectionHandleFactory",void 0),Rn([de("rowCssClassCalculator")],u.prototype,"rowCssClassCalculator",void 0),Rn([de("rowModel")],u.prototype,"rowModel",void 0),Rn([de("ctrlsService")],u.prototype,"ctrlsService",void 0),Rn([de("ctrlsFactory")],u.prototype,"ctrlsFactory",void 0),Rn([de("agStackComponentsRegistry")],u.prototype,"agStackComponentsRegistry",void 0),Rn([de("valueCache")],u.prototype,"valueCache",void 0),Rn([de("rowNodeEventThrottle")],u.prototype,"rowNodeEventThrottle",void 0),Rn([tt],u.prototype,"postConstruct",null),Rn([ut("beans")],u)}(),pR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),zg=function(u){function o(r,s,l){var c=u.call(this)||this;return c.cellCtrl=r,c.beans=s,c.column=l,c}return pR(o,u),o.prototype.onMouseEvent=function(r,s){if(!zo(s))switch(r){case"click":this.onCellClicked(s);break;case"mousedown":case"touchstart":this.onMouseDown(s);break;case"dblclick":this.onCellDoubleClicked(s);break;case"mouseout":this.onMouseOut(s);break;case"mouseover":this.onMouseOver(s)}},o.prototype.onCellClicked=function(r){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(r),void r.preventDefault();var s=this.beans,l=s.eventService,c=s.gridOptionsWrapper,p=this.cellCtrl.createEvent(r,Te.EVENT_CELL_CLICKED);l.dispatchEvent(p);var v=this.column.getColDef();v.onCellClicked&&window.setTimeout(function(){return v.onCellClicked(p)},0),(c.isSingleClickEdit()||v.singleClickEdit)&&!c.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},o.prototype.isDoubleClickOnIPad=function(){if(!Sc()||bc("dblclick"))return!1;var r=(new Date).getTime(),s=r-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=r,s},o.prototype.onCellDoubleClicked=function(r){var s=this.column.getColDef(),l=this.cellCtrl.createEvent(r,Te.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(l),"function"==typeof s.onCellDoubleClicked&&window.setTimeout(function(){return s.onCellDoubleClicked(l)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,r)},o.prototype.onMouseDown=function(r){var s=r.ctrlKey,l=r.metaKey,c=r.shiftKey,p=r.target,v=this.beans,F=v.eventService,B=v.rangeService;if(!this.isRightClickInExistingRange(r)){var q=B&&0!=B.getCellRanges().length;if(!c||!q){var se=ro()&&!this.cellCtrl.isEditing()&&!lg(p);this.cellCtrl.focusCell(se)}if(c&&q&&r.preventDefault(),!this.containsWidget(p)){if(B){var fe=this.cellCtrl.getCellPosition();c?B.extendLatestRangeToCell(fe):B.setRangeToCell(fe,s||l)}F.dispatchEvent(this.cellCtrl.createEvent(r,Te.EVENT_CELL_MOUSE_DOWN))}}},o.prototype.isRightClickInExistingRange=function(r){var s=this.beans.rangeService;return!(!s||!s.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==r.button)},o.prototype.containsWidget=function(r){return zt(r,"ag-selection-checkbox",3)},o.prototype.onMouseOut=function(r){if(!this.mouseStayingInsideCell(r)){var s=this.cellCtrl.createEvent(r,Te.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.clearMouseOver()}},o.prototype.onMouseOver=function(r){if(!this.mouseStayingInsideCell(r)){var s=this.cellCtrl.createEvent(r,Te.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(s),this.beans.columnHoverService.setMouseOver([this.column])}},o.prototype.mouseStayingInsideCell=function(r){if(!r.target||!r.relatedTarget)return!1;var s=this.cellCtrl.getGui(),l=s.contains(r.target),c=s.contains(r.relatedTarget);return l&&c},o.prototype.destroy=function(){},o}(My),Yg=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Kg=function(u){function o(r,s,l,c,p){var v=u.call(this)||this;return v.cellCtrl=r,v.beans=s,v.rowNode=c,v.rowCtrl=p,v}return Yg(o,u),o.prototype.setComp=function(r){this.eGui=r},o.prototype.onKeyDown=function(r){var s=r.key;switch(s){case ht.ENTER:this.onEnterKeyDown(r);break;case ht.F2:this.onF2KeyDown(r);break;case ht.ESCAPE:this.onEscapeKeyDown(r);break;case ht.TAB:this.onTabKeyDown(r);break;case ht.BACKSPACE:case ht.DELETE:this.onBackspaceOrDeleteKeyPressed(s,r);break;case ht.DOWN:case ht.UP:case ht.RIGHT:case ht.LEFT:this.onNavigationKeyPressed(r,s)}},o.prototype.onNavigationKeyPressed=function(r,s){this.cellCtrl.isEditing()||(r.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(r):this.beans.navigationService.navigateToNextCell(r,s,this.cellCtrl.getCellPosition(),!0),r.preventDefault())},o.prototype.onShiftRangeSelect=function(r){if(this.beans.rangeService){var s=this.beans.rangeService.extendLatestRangeInDirection(r);s&&this.beans.navigationService.ensureCellVisible(s)}},o.prototype.onTabKeyDown=function(r){this.beans.navigationService.onTabKeyDown(this.cellCtrl,r)},o.prototype.onBackspaceOrDeleteKeyPressed=function(r,s){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(r,void 0,s)},o.prototype.onEnterKeyDown=function(r){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,ht.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(ht.ENTER,void 0,r),this.cellCtrl.isEditing()&&r.preventDefault())},o.prototype.onF2KeyDown=function(r){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ht.F2,void 0,r)},o.prototype.onEscapeKeyDown=function(r){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},o.prototype.onKeyPress=function(r){if(r.target===this.eGui&&!this.cellCtrl.isEditing()){var c=String.fromCharCode(r.charCode);" "===c?this.onSpaceKeyPressed(r):zx(r)&&(this.cellCtrl.startRowOrCellEdit(null,c,r),r.preventDefault())}},o.prototype.onSpaceKeyPressed=function(r){var s=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&s.isRowSelection()){var l=this.rowNode.isSelected(),c=!l;if(c||!s.isSuppressRowDeselection()){var p=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),v=this.rowNode.setSelectedParams({newValue:c,rangeSelect:r.shiftKey,groupSelectsFiltered:p});void 0===l&&0===v&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:p})}}r.preventDefault()},o.prototype.destroy=function(){},o}(ft),fR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ny=function(u){function o(r,s,l,c){var p=u.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return p.rowNode=r,p.column=s,p.beans=l,p.eCell=c,p}return fR(o,u),o.prototype.postConstruct=function(){this.getGui().appendChild(Ui("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(s){s.stopPropagation()}),this.addDragSource(),this.checkVisibility()},o.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},o.prototype.onDragStart=function(r){var s=this,l=this.column.getColDef().dndSourceOnRowDrag;r.dataTransfer.setDragImage(this.eCell,0,0),l?l({rowNode:this.rowNode,dragEvent:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var v=JSON.stringify(s.rowNode.data);r.dataTransfer.setData("application/json",v),r.dataTransfer.setData("text/plain",v)}catch(F){}}()},o.prototype.checkVisibility=function(){var r=this.column.isDndSource(this.rowNode);this.setDisplayed(r)},function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([tt],o.prototype,"postConstruct",null),o}(ln),G1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),gp=function(){return gp=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},gp.apply(this,arguments)},Vy="ag-cell-not-inline-editing",Gy=0,Xa=function(u){function o(r,s,l,c){var p=u.call(this)||this;return p.suppressRefreshCell=!1,p.column=r,p.rowNode=s,p.beans=l,p.rowCtrl=c,p.instanceId=r.getId()+"-"+Gy++,p.createCellPosition(),p.addFeatures(),p}return G1(o,u),o.prototype.addFeatures=function(){var r=this;this.cellPositionFeature=new Ys(this,this.beans),this.addDestroyFunc(function(){return r.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new Py(this,this.beans),this.addDestroyFunc(function(){return r.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new zg(this,this.beans,this.column),this.addDestroyFunc(function(){return r.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new Kg(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return r.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new ad(this.beans,this),this.addDestroyFunc(function(){return r.cellRangeFeature.destroy()})),this.addTooltipFeature()},o.prototype.addTooltipFeature=function(){var r=this;this.tooltipFeature=new fp({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getRowIndex:function(){return r.cellPosition.rowIndex},getRowNode:function(){return r.rowNode},getGui:function(){return r.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var c=r.column.getColDef(),p=r.rowNode.data;if(c.tooltipField&&I(p))return Se(p,c.tooltipField,r.column.isTooltipFieldContainsDots());var v=c.tooltipValueGetter;return v?v({location:"cell",api:r.beans.gridOptionsWrapper.getApi(),columnApi:r.beans.gridOptionsWrapper.getColumnApi(),context:r.beans.gridOptionsWrapper.getContext(),colDef:r.column.getColDef(),column:r.column,rowIndex:r.cellPosition.rowIndex,node:r.rowNode,data:r.rowNode.data,value:r.value,valueFormatted:r.valueFormatted}):null},getValueFormatted:function(){return r.valueFormatted}},this.beans),this.addDestroyFunc(function(){return r.tooltipFeature.destroy()})},o.prototype.setComp=function(r,s,l,c,p){this.cellComp=r,this.gow=this.beans.gridOptionsWrapper,this.eGui=s,this.eCellWrapper=l,this.printLayout=c,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var v=hs(this.column.getId());this.cellComp.setColId(v),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(s),this.cellCustomStyleFeature.setComp(r),this.tooltipFeature.setComp(r),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(r,s),p&&this.isCellEditable()?this.startEditing():this.showValue()},o.prototype.setupAutoHeight=function(){var r=this;if(this.column.isAutoHeight()){var s=this.eCellWrapper,l=s.parentElement,c=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,p=function(B){if(!r.editing&&r.isAlive()){var q=Ac(l),xe=s.offsetHeight+q.paddingTop+q.paddingBottom;if(B<5){var Pe=r.beans.gridOptionsWrapper.getDocument();if(!Pe||!Pe.contains(s)||0==xe)return void r.beans.frameworkOverrides.setTimeout(function(){return p(B+1)},0)}var Ue=Math.max(xe,c);r.rowNode.setRowAutoHeight(Ue,r.column)}},v=function(){return p(0)};v();var F=this.beans.resizeObserverService.observeResize(s,v);this.addDestroyFunc(function(){F(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.showValue=function(r){void 0===r&&(r=!1);var s=null!=this.valueFormatted?this.valueFormatted:this.value,l=this.createCellRendererParams(),c=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),l);this.cellComp.setRenderDetails(c,s,r),this.refreshHandle()},o.prototype.setupControlComps=function(){var r=this.column.getColDef();this.includeSelection=this.isIncludeControl(r.checkboxSelection),this.includeRowDrag=this.isIncludeControl(r.rowDrag),this.includeDndSource=this.isIncludeControl(r.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},o.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},o.prototype.isIncludeControl=function(r){return!(null!=this.rowNode.rowPinned||"function"!=typeof r&&!0!==r)},o.prototype.refreshShouldDestroy=function(){var r=this.column.getColDef(),s=this.includeSelection!=this.isIncludeControl(r.checkboxSelection),l=this.includeRowDrag!=this.isIncludeControl(r.rowDrag),c=this.includeDndSource!=this.isIncludeControl(r.dndSource);return s||l||c},o.prototype.startEditing=function(r,s,l,c){var p,v;if(void 0===r&&(r=null),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===c&&(c=null),this.isCellEditable()&&!this.editing){var F=this.createCellEditorParams(r,s,l),B=this.column.getColDef(),q=this.beans.userComponentFactory.getCellEditorDetails(B,F),se=null!=(null===(p=q)||void 0===p?void 0:p.popupFromSelector)?q.popupFromSelector:!!B.cellEditorPopup,fe=null!=(null===(v=q)||void 0===v?void 0:v.popupPositionFromSelector)?q.popupPositionFromSelector:B.cellEditorPopupPosition;this.setEditing(!0,se),this.cellComp.setEditDetails(q,se,fe);var we=this.createEvent(c,Te.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(we)}},o.prototype.setEditing=function(r,s){void 0===s&&(s=!1),this.editing!==r&&(this.editing=r,this.editingInPopup=s,this.setInlineEditingClass())},o.prototype.stopRowOrCellEdit=function(r){void 0===r&&(r=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(r):this.stopEditing(r)},o.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},o.prototype.takeValueFromCellEditor=function(r){var s={newValueExists:!1};if(r)return s;var l=this.cellComp.getCellEditor();return l?l.isCancelAfterEnd&&l.isCancelAfterEnd()?s:{newValue:l.getValue(),newValueExists:!0}:s},o.prototype.saveNewValue=function(r,s){if(s===r)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(r,s),!1;this.suppressRefreshCell=!0;var l=this.rowNode.setDataValue(this.column,s);return this.suppressRefreshCell=!1,l},o.prototype.dispatchEventForSaveValueReadOnly=function(r,s){var l=this.rowNode,c={type:Te.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:l.rowIndex,rowPinned:l.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:l.data,node:l,oldValue:r,newValue:s,value:s,source:void 0};this.beans.eventService.dispatchEvent(c)},o.prototype.stopEditing=function(r){if(void 0===r&&(r=!1),!this.editing)return!1;var s=this.takeValueFromCellEditor(r),l=s.newValue,c=s.newValueExists,p=this.getValueFromValueService(),v=!1;return c&&(v=this.saveNewValue(p,l)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(p,l),v},o.prototype.dispatchEditingStoppedEvent=function(r,s){var l=gp(gp({},this.createEvent(null,Te.EVENT_CELL_EDITING_STOPPED)),{oldValue:r,newValue:s});this.beans.eventService.dispatchEvent(l)},o.prototype.setInlineEditingClass=function(){if(this.isAlive()){var r=this.editing&&!this.editingInPopup,s=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",r),this.cellComp.addOrRemoveCssClass(Vy,!r),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",s),this.rowCtrl.setInlineEditingCss(this.editing)}},o.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},o.prototype.createCellEditorParams=function(r,s,l){return{value:this.getValueFromValueService(),key:r,eventKey:r,charPress:s,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:l,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},o.prototype.createCellRendererParams=function(){var r=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(c){return r.beans.valueService.setValue(r.rowNode,r.column,c)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(c,p,v,F){return r.registerRowDragger(c,p,F)},addRowCompListener:function(c,p){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),r.rowCtrl.addEventListener(c,p)}}},o.prototype.parseValue=function(r){var s=this.column.getColDef(),l={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:r,colDef:s,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},c=s.valueParser;return I(c)?this.beans.expressionService.evaluate(c,l):r},o.prototype.setFocusOutOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusOut&&r.focusOut()}},o.prototype.setFocusInOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusIn?r.focusIn():this.focusCell(!0)}},o.prototype.onCellChanged=function(r){this.cellComp&&r.column===this.column&&this.refreshCell({})},o.prototype.refreshCell=function(r){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var s=this.column.getColDef(),l=null!=r&&!!r.newData,c=null!=r&&!!r.suppressFlash||!!s.suppressCellFlash,v=r&&r.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||l,F=this.updateAndFormatValue();if(v||F){this.showValue(l);var q=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!q&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||s.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},o.prototype.stopEditingAndFocus=function(r){void 0===r&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),r||this.navigateAfterEdit()},o.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,ht.DOWN,this.getCellPosition(),!1)},o.prototype.flashCell=function(r){this.animateCell("data-changed",r&&r.flashDelay,r&&r.fadeDelay)},o.prototype.animateCell=function(r,s,l){var c=this,p="ag-cell-"+r,v="ag-cell-"+r+"-animation",F=this.beans.gridOptionsWrapper;s||(s=F.getCellFlashDelay()),I(l)||(l=F.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(p,!0),this.cellComp.addOrRemoveCssClass(v,!1),window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(p,!1),c.cellComp.addOrRemoveCssClass(v,!0),c.eGui.style.transition="background-color "+l+"ms",window.setTimeout(function(){c.cellComp.addOrRemoveCssClass(v,!1),c.eGui.style.transition=""},l)},s)},o.prototype.onFlashCells=function(r){if(this.cellComp){var s=this.beans.cellPositionUtils.createId(this.getCellPosition());r.cells[s]&&this.animateCell("highlight")}},o.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},o.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},o.prototype.formatValue=function(r){var s=this.callValueFormatter(r);return null!=s?s:r},o.prototype.callValueFormatter=function(r){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,r)},o.prototype.updateAndFormatValue=function(r){void 0===r&&(r=!1);var s=this.value,l=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!r||!this.valuesAreEqual(s,this.value)||this.valueFormatted!=l},o.prototype.valuesAreEqual=function(r,s){var l=this.column.getColDef();return l.equals?l.equals(r,s):r===s},o.prototype.getComp=function(){return this.cellComp},o.prototype.getValueFromValueService=function(){var r=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),s=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!r,l=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),c=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,s&&l&&!c)},o.prototype.getValue=function(){return this.value},o.prototype.getValueFormatted=function(){return this.valueFormatted},o.prototype.addDomData=function(){var r=this,s=this.getGui();this.beans.gridOptionsWrapper.setDomData(s,o.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return r.beans.gridOptionsWrapper.setDomData(s,o.DOM_DATA_KEY_CELL_CTRL,null)})},o.prototype.createEvent=function(r,s){return{type:s,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:r,rowIndex:this.rowNode.rowIndex}},o.prototype.onKeyPress=function(r){this.cellKeyboardListenerFeature.onKeyPress(r)},o.prototype.onKeyDown=function(r){this.cellKeyboardListenerFeature.onKeyDown(r)},o.prototype.onMouseEvent=function(r,s){this.cellMouseListenerFeature.onMouseEvent(r,s)},o.prototype.getGui=function(){return this.eGui},o.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},o.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},o.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},o.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},o.prototype.setAriaColIndex=function(){var r=this.beans.columnModel.getAriaColumnIndex(this.column);jv(this.getGui(),r)},o.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},o.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},o.prototype.getColumn=function(){return this.column},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getBeans=function(){return this.beans},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.appendChild=function(r){this.eGui.appendChild(r)},o.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},o.prototype.getCellPosition=function(){return this.cellPosition},o.prototype.isEditing=function(){return this.editing},o.prototype.startRowOrCellEdit=function(r,s,l){void 0===l&&(l=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(r,s,this):this.startEditing(r,s,!0,l)},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},o.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},o.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},o.prototype.focusCell=function(r){void 0===r&&(r=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,r)},o.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},o.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var r=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",r)}},o.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var r=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",r)}},o.prototype.onCellFocused=function(r){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var s=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",s),s&&r&&r.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var c=this.beans.gridOptionsWrapper.isFullRowEdit();!s&&!c&&this.editing&&this.stopRowOrCellEdit()}},o.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:k(this.rowNode.rowPinned),column:this.column}},o.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Vy,!0);var r=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",r),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!r)},o.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var r=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",r)}},o.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},o.prototype.setWrapText=function(){var r=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",r)},o.prototype.dispatchCellContextMenuEvent=function(r){var s=this.column.getColDef(),l=this.createEvent(r,Te.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(l),s.onCellContextMenu&&window.setTimeout(function(){return s.onCellContextMenu(l)},0)},o.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},o.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},o.prototype.destroy=function(){u.prototype.destroy.call(this)},o.prototype.createSelectionCheckbox=function(){var r=new py;return this.beans.context.createBean(r),r.init({rowNode:this.rowNode,column:this.column}),r},o.prototype.createDndSource=function(){var r=new Ny(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(r),r},o.prototype.registerRowDragger=function(r,s,l){var c=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(r,s);else{var p=this.createRowDragComp(r,s,l);p&&(this.customRowDragComp=p,this.addDestroyFunc(function(){return c.beans.context.destroyBean(p)}))}},o.prototype.createRowDragComp=function(r,s,l){var c=this,p=this.beans.gridOptionsWrapper.isPagination(),v=this.beans.gridOptionsWrapper.isRowDragManaged(),F=this.beans.gridOptionsWrapper.isRowModelDefault();if(v){if(!F)return void ze(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(p)return void ze(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var B=new Ya(function(){return c.value},this.rowNode,this.column,r,s,l);return this.beans.context.createBean(B),B},o.DOM_DATA_KEY_CELL_CTRL="cellCtrl",o}(ft),$1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),W1=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},Kr=(()=>(function(u){u.Normal="Normal",u.FullWidth="FullWidth",u.FullWidthLoading="FullWidthLoading",u.FullWidthGroup="FullWidthGroup",u.FullWidthDetail="FullWidthDetail"}(Kr||(Kr={})),Kr))(),mR=0,Wl=function(u){function o(r,s,l,c,p){var v=u.call(this)||this;return v.allRowGuis=[],v.active=!0,v.centerCellCtrls={list:[],map:{}},v.leftCellCtrls={list:[],map:{}},v.rightCellCtrls={list:[],map:{}},v.lastMouseDownOnDragger=!1,v.updateColumnListsPending=!1,v.beans=s,v.rowNode=r,v.paginationPage=v.beans.paginationProxy.getCurrentPage(),v.useAnimationFrameForCreate=c,v.printLayout=p,v.instanceId=r.id+"-"+mR++,v.setAnimateFlags(l),v.rowFocused=v.beans.focusService.isRowFocused(v.rowNode.rowIndex,v.rowNode.rowPinned),v.rowLevel=v.beans.rowCssClassCalculator.calculateRowLevel(v.rowNode),v.setRowType(),v.addListeners(),v.setInitialRowTop(),v}return $1(o,u),o.prototype.getBeans=function(){return this.beans},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(r,s,l){var c={rowComp:r,element:s,containerType:l};this.allRowGuis.push(c),l===z.EDi.LEFT?this.leftGui=c:l===z.EDi.RIGHT?this.rightGui=c:l===z.EDi.FULL_WIDTH?this.fullWidthGui=c:this.centerGui=c,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},o.prototype.isCacheable=function(){return this.rowType===Kr.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},o.prototype.setCached=function(r){var s=r?"none":"";this.allRowGuis.forEach(function(l){return l.element.style.display=s})},o.prototype.initialiseRowComps=function(){var r=this,s=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),s.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&yt(this.onTopChanged.bind(this)),this.fadeRowIn&&yt(function(){r.allRowGuis.forEach(function(v){return v.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var l=this.getRowBusinessKey(),c=hs(this.rowNode.id),p=hs(l);this.allRowGuis.forEach(function(v){var F=v.rowComp;F.setRole("row"),r.getInitialRowClasses(v.containerType).forEach(function(q){return F.addOrRemoveCssClass(q,!0)}),r.rowNode.group&&Xo(v.element,1==r.rowNode.expanded),null!=c&&F.setRowId(c),null!=p&&F.setRowBusinessKey(p),r.isFullWidth()&&!r.beans.gridOptionsWrapper.isSuppressCellFocus()&&F.setTabIndex(-1),s.setDomData(v.element,o.DOM_DATA_KEY_ROW_CTRL,r),r.addDestroyFunc(function(){return s.setDomData(v.element,o.DOM_DATA_KEY_ROW_CTRL,null)}),r.useAnimationFrameForCreate?r.beans.animationFrameService.createTask(r.addHoverFunctionality.bind(r,v.element),r.rowNode.rowIndex,"createTasksP2"):r.addHoverFunctionality(v.element),r.isFullWidth()&&r.setupFullWidth(v),s.isRowDragEntireRow()&&r.addRowDraggerToRow(v),r.useAnimationFrameForCreate&&r.beans.animationFrameService.addDestroyTask(function(){!r.isAlive()||v.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},o.prototype.addRowDraggerToRow=function(r){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())ze(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var l=new Ya(function(){return"1 row"},this.rowNode,void 0,r.element,void 0,!0);this.createManagedBean(l,this.beans.context)}},o.prototype.setupFullWidth=function(r){var s=this.getPinnedForContainer(r.containerType),l=this.createFullWidthParams(r.element,s),c=Le.isRegistered(z.GXE.MasterDetailModule);if(this.rowType!=Kr.FullWidthDetail||c){var p;switch(this.rowType){case Kr.FullWidthDetail:p=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(l);break;case Kr.FullWidthGroup:p=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(l);break;case Kr.FullWidthLoading:p=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(l);break;default:p=this.beans.userComponentFactory.getFullWidthCellRendererDetails(l)}r.rowComp.showFullWidth(p)}else Le.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+z.GXE.MasterDetailModule)},o.prototype.isPrintLayout=function(){return this.printLayout},o.prototype.getCellElement=function(r){var s=this.getCellCtrl(r);return s?s.getGui():null},o.prototype.executeProcessRowPostCreateFunc=function(){var r=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();r&&r({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},o.prototype.setRowType=function(){var r=this.rowNode.stub,s=this.rowNode.isFullWidthCell(),l=this.beans.doingMasterDetail&&this.rowNode.detail,c=this.beans.columnModel.isPivotMode(),v=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(c);this.rowType=r?Kr.FullWidthLoading:l?Kr.FullWidthDetail:s?Kr.FullWidth:v?Kr.FullWidthGroup:Kr.Normal},o.prototype.updateColumnLists=function(r){var s=this;if(void 0===r&&(r=!1),!this.isFullWidth()){if(r||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!s.active||s.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},o.prototype.createCellCtrls=function(r,s,l){var c=this;void 0===l&&(l=null);var p={list:[],map:{}},v=function(F,B){p.list.push(B),p.map[F]=B};return s.forEach(function(F){var B=F.getInstanceId(),q=r.map[B];q||(q=new Xa(F,c.rowNode,c.beans,c)),v(B,q)}),r.list.forEach(function(F){if(null==p.map[F.getColumn().getInstanceId()]){if(!c.isCellEligibleToBeRemoved(F,l))return void v(F.getColumn().getInstanceId(),F);F.destroy()}}),p},o.prototype.updateColumnListsImpl=function(){var r=this;this.updateColumnListsPending=!1;var s=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var l=s.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,l);var c=s.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,c,Ie.PINNED_LEFT);var p=s.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,p,Ie.PINNED_RIGHT)}this.allRowGuis.forEach(function(v){v.rowComp.setCellCtrls((v.containerType===z.EDi.LEFT?r.leftCellCtrls:v.containerType===z.EDi.RIGHT?r.rightCellCtrls:r.centerCellCtrls).list)})},o.prototype.isCellEligibleToBeRemoved=function(r,s){var l=!0;if(r.getColumn().getPinned()!=s)return l;var v=r.isEditing(),F=this.beans.focusService.isCellFocused(r.getCellPosition());if(v||F){var q=r.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(q)>=0)&&l}return l},o.prototype.setAnimateFlags=function(r){if(r){var s=I(this.rowNode.oldRowTop);this.slideRowIn=s,this.fadeRowIn=!s}else this.slideRowIn=!1,this.fadeRowIn=!1},o.prototype.isEditing=function(){return this.editingRow},o.prototype.stopRowEditing=function(r){this.stopEditing(r)},o.prototype.isFullWidth=function(){return this.rowType!==Kr.Normal},o.prototype.getRowType=function(){return this.rowType},o.prototype.refreshFullWidth=function(){var r=this,s=function(B,q){if(!B)return!0;var se=B.rowComp.getFullWidthCellRenderer();if(!se||!se.refresh)return!1;var fe=r.createFullWidthParams(B.element,q);return se.refresh(fe)},l=s(this.fullWidthGui,null),c=s(this.centerGui,null),p=s(this.leftGui,Ie.PINNED_LEFT),v=s(this.rightGui,Ie.PINNED_RIGHT);return l&&c&&p&&v},o.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Dn.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Dn.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,Te.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,Te.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,Te.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,Te.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,Te.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,Te.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(r,Te.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},o.prototype.onColumnMoved=function(){this.updateColumnLists()},o.prototype.addListenersForCellComps=function(){var r=this;this.addManagedListener(this.rowNode,Dn.EVENT_ROW_INDEX_CHANGED,function(){r.getAllCellCtrls().forEach(function(s){return s.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Dn.EVENT_CELL_CHANGED,function(s){r.getAllCellCtrls().forEach(function(l){return l.onCellChanged(s)})})},o.prototype.onRowNodeDataChanged=function(r){this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!r.update,newData:!r.update})}),this.onRowSelected(),this.postProcessCss()},o.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},o.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},o.prototype.onRowNodeHighlightChanged=function(){var r=this.rowNode.highlighted;this.allRowGuis.forEach(function(s){var c=r===z.oh5.Below;s.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r===z.oh5.Above),s.rowComp.addOrRemoveCssClass("ag-row-highlight-below",c)})},o.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},o.prototype.postProcessRowDragging=function(){var r=this.rowNode.dragging;this.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass("ag-row-dragging",r)})},o.prototype.updateExpandedCss=function(){var r=this.rowNode.isExpandable(),s=1==this.rowNode.expanded;this.allRowGuis.forEach(function(l){l.rowComp.addOrRemoveCssClass("ag-row-group",r),l.rowComp.addOrRemoveCssClass("ag-row-group-expanded",r&&s),l.rowComp.addOrRemoveCssClass("ag-row-group-contracted",r&&!s),Xo(l.element,r&&s)})},o.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},o.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},o.prototype.getRowPosition=function(){return{rowPinned:k(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},o.prototype.onKeyboardNavigate=function(r){var s=this.allRowGuis.find(function(B){return B.element.contains(r.target)});if((s?s.element:null)===r.target){var p=this.rowNode,v=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(r,r.key,{rowIndex:p.rowIndex,rowPinned:p.rowPinned,column:v&&v.column},!0),r.preventDefault()}},o.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented&&!zo(r)){var s=this.allRowGuis.find(function(v){return v.element.contains(r.target)}),l=s?s.element:null,c=l===r.target,p=null;c||(p=this.beans.focusService.findNextFocusableElement(l,!1,r.shiftKey)),(this.isFullWidth()&&c||!p)&&this.beans.navigationService.onTabKeyDown(this,r)}},o.prototype.onFullWidthRowFocused=function(r){var s,l=this.rowNode,c=this.isFullWidth()&&r.rowIndex===l.rowIndex&&r.rowPinned==l.rowPinned,p=this.fullWidthGui?this.fullWidthGui.element:null===(s=this.centerGui)||void 0===s?void 0:s.element;!p||(p.classList.toggle("ag-full-width-focus",c),c&&p.focus({preventScroll:!0}))},o.prototype.refreshCell=function(r){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,r),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,r),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,r),this.updateColumnLists()},o.prototype.removeCellCtrl=function(r,s){var l={list:[],map:{}};return r.list.forEach(function(c){c!==s&&(l.list.push(c),l.map[c.getInstanceId()]=c)}),l},o.prototype.onMouseEvent=function(r,s){switch(r){case"dblclick":this.onRowDblClick(s);break;case"click":this.onRowClick(s);break;case"touchstart":case"mousedown":this.onRowMouseDown(s)}},o.prototype.createRowEvent=function(r,s){return{type:r,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:s}},o.prototype.createRowEventWithSource=function(r,s){var l=this.createRowEvent(r,s);return l.source=this,l},o.prototype.onRowDblClick=function(r){if(!zo(r)){var s=this.createRowEventWithSource(Te.EVENT_ROW_DOUBLE_CLICKED,r);this.beans.eventService.dispatchEvent(s)}},o.prototype.onRowMouseDown=function(r){if(this.lastMouseDownOnDragger=zt(r.target,"ag-row-drag",3),this.isFullWidth()){var s=this.rowNode;this.beans.focusService.setFocusedCell(s.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],s.rowPinned,!0)}},o.prototype.onRowClick=function(r){if(!zo(r)&&!this.lastMouseDownOnDragger){var l=this.createRowEventWithSource(Te.EVENT_ROW_CLICKED,r);this.beans.eventService.dispatchEvent(l);var c=r.ctrlKey||r.metaKey,p=r.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var F=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),B=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?F?this.rowNode.setSelectedParams({newValue:!1}):c?B&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!p,rangeSelect:p}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!F&&!c,rangeSelect:p})}}},o.prototype.setupDetailRowAutoHeight=function(r){var s=this;if(this.rowType===Kr.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var l=function(){var p=r.clientHeight;null!=p&&p>0&&s.beans.frameworkOverrides.setTimeout(function(){s.rowNode.setRowHeight(p),s.beans.clientSideRowModel?s.beans.clientSideRowModel.onRowHeightChanged():s.beans.serverSideRowModel&&s.beans.serverSideRowModel.onRowHeightChanged()},0)},c=this.beans.resizeObserverService.observeResize(r,l);this.addDestroyFunc(c),l()}},o.prototype.createFullWidthParams=function(r,s){var l=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:r,eParentOfValue:r,pinned:s,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(p,v,F,B){return l.addFullWidthRowDragging(p,v,F,B)}}},o.prototype.addFullWidthRowDragging=function(r,s,l,c){if(void 0===l&&(l=""),this.isFullWidth()){var p=new Ya(function(){return l},this.rowNode,void 0,r,s,c);this.createManagedBean(p,this.beans.context)}},o.prototype.onUiLevelChanged=function(){var r=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=r){var s="ag-row-level-"+r,l="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass(s,!0),c.rowComp.addOrRemoveCssClass(l,!1)})}this.rowLevel=r},o.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},o.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},o.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},o.prototype.refreshFirstAndLastRowStyles=function(){var r=this.isFirstRowOnPage(),s=this.isLastRowOnPage();this.firstRowOnPage!==r&&(this.firstRowOnPage=r,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-first",r)})),this.lastRowOnPage!==s&&(this.lastRowOnPage=s,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-last",s)}))},o.prototype.stopEditing=function(r){void 0===r&&(r=!1);var s=this.getAllCellCtrls().map(function(c){return c.stopEditing(r)});if(this.editingRow){if(!r&&s.some(function(c){return c})){var l=this.createRowEvent(Te.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(l)}this.setEditingRow(!1)}},o.prototype.setInlineEditingCss=function(r){this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-inline-editing",r),s.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!r)})},o.prototype.setEditingRow=function(r){this.editingRow=r,this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-row-editing",r)});var s=this.createRowEvent(r?Te.EVENT_ROW_EDITING_STARTED:Te.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(s)},o.prototype.startRowEditing=function(r,s,l,c){void 0===r&&(r=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(p){var v=p===l;v?p.startEditing(r,s,v,c):p.startEditing(null,null,v,c)}),this.setEditingRow(!0))},o.prototype.getAllCellCtrls=function(){var r=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(W1(arguments[o]));return u}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return r},o.prototype.postProcessClassesFromGridOptions=function(){var r=this,s=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!s||!s.length||s.forEach(function(l){r.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(l,!0)})})},o.prototype.postProcessRowClassRules=function(){var r=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(s){r.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass(s,!0)})},function(s){r.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass(s,!1)})})},o.prototype.setStylesFromGridOptions=function(){var r=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(s){return s.rowComp.setUserStyles(r)})},o.prototype.getRowBusinessKey=function(){var r=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof r)return r(this.rowNode)},o.prototype.getPinnedForContainer=function(r){return r===z.EDi.LEFT?Ie.PINNED_LEFT:r===z.EDi.RIGHT?Ie.PINNED_RIGHT:null},o.prototype.getInitialRowClasses=function(r){var s=this.getPinnedForContainer(r),l={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:s};return this.beans.rowCssClassCalculator.getInitialRowClasses(l)},o.prototype.processStylesFromGridOptions=function(){var r=this.beans.gridOptionsWrapper.getRowStyle();if(!r||"function"!=typeof r){var l,s=this.beans.gridOptionsWrapper.getRowStyleFunc();return s&&(l=s({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},r,l)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},o.prototype.onRowSelected=function(){var r=this,s=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(l){l.rowComp.addOrRemoveCssClass("ag-row-selected",s),Ku(l.element,!!s||void 0);var c=r.createAriaLabel();Rl(l.element,null==c?"":c)})},o.prototype.createAriaLabel=function(){var r=this.rowNode.isSelected();if(!r||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(r?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(r?"deselect":"select")+" this row.")},o.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},o.prototype.addHoverFunctionality=function(r){var s=this;!this.active||(this.addManagedListener(r,"mouseenter",function(){return s.rowNode.onMouseEnter()}),this.addManagedListener(r,"mouseleave",function(){return s.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Dn.EVENT_MOUSE_ENTER,function(){s.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||r.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,Dn.EVENT_MOUSE_LEAVE,function(){r.classList.remove("ag-row-hover")}))},o.prototype.roundRowTopToBounds=function(r){var l=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.applyPaginationOffset(l.top,!0)-100,p=this.applyPaginationOffset(l.bottom,!0)+100;return Math.min(Math.max(c,r),p)},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var r=this.rowNode.rowHeight,s=this.beans.gridOptionsWrapper.getDefaultRowHeight(),c=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,p=c?Math.min(s,c)-2+"px":void 0;this.allRowGuis.forEach(function(v){v.element.style.height=r+"px",p&&v.element.style.setProperty("--ag-line-height",p)})}},o.prototype.addEventListener=function(r,s){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=Te.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+Te.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.addEventListener.call(this,r,s)},o.prototype.removeEventListener=function(r,s){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=Te.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+Te.EVENT_VIRTUAL_ROW_REMOVED)),u.prototype.removeEventListener.call(this,r,s)},o.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var r=this.createRowEvent(Te.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(r),this.beans.eventService.dispatchEvent(r),u.prototype.destroy.call(this)},o.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(function(l){return l.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},o.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var r=function(s){return s.list.forEach(function(l){return l.destroy()}),{list:[],map:{}}};this.centerCellCtrls=r(this.centerCellCtrls),this.leftCellCtrls=r(this.leftCellCtrls),this.rightCellCtrls=r(this.rightCellCtrls)},o.prototype.setFocusedClasses=function(){var r=this;this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),s.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},o.prototype.onCellFocusChanged=function(){var r=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);r!==this.rowFocused&&(this.rowFocused=r,this.setFocusedClasses()),!r&&this.editingRow&&this.stopEditing(!1)},o.prototype.onPaginationChanged=function(){var r=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==r&&(this.paginationPage=r,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},o.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},o.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},o.prototype.applyPaginationOffset=function(r,s){return void 0===s&&(s=!1),this.rowNode.isRowPinned()?r:r+this.beans.paginationProxy.getPixelOffset()*(s?1:-1)},o.prototype.setRowTop=function(r){if(!this.printLayout&&I(r)){var s=this.applyPaginationOffset(r),l=this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s);this.setRowTopStyle(l+"px")}},o.prototype.getInitialRowTop=function(){return this.initialTop},o.prototype.getInitialTransform=function(){return this.initialTransform},o.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var r=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,s=this.applyPaginationOffset(r),c=(this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=c:this.initialTransform="translateY("+c+")"},o.prototype.setRowTopStyle=function(r){var s=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(l){return s?l.rowComp.setTop(r):l.rowComp.setTransform("translateY("+r+")")})},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getCellCtrl=function(r){var s=null;return this.getAllCellCtrls().forEach(function(l){l.getColumn()==r&&(s=l)}),null!=s||this.getAllCellCtrls().forEach(function(l){l.getColSpanningList().indexOf(r)>=0&&(s=l)}),s},o.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},o.prototype.updateRowIndexes=function(){var r=this.rowNode.getRowIndexString(),s=this.beans.headerNavigationService.getHeaderRowCount(),l=this.rowNode.rowIndex%2==0,c=s+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(p){p.rowComp.setRowIndex(r),p.rowComp.addOrRemoveCssClass("ag-row-even",l),p.rowComp.addOrRemoveCssClass("ag-row-odd",!l),Hv(p.element,c)})},o.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},o.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},o.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},o.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},o.DOM_DATA_KEY_ROW_CTRL="renderedRow",o}(ft),cd=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ci=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},By=function(u){function o(r){var s=u.call(this)||this;return s.element=r,s}return cd(o,u),o.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},o.prototype.addKeyboardEvents=function(){var r=this;["keydown","keypress"].forEach(function(l){var c=r.processKeyboardEvent.bind(r,l);r.addManagedListener(r.element,l,c)})},o.prototype.addMouseListeners=function(){var r=this;["dblclick","contextmenu","mouseover","mouseout","click",bc("touchstart")?"touchstart":"mousedown"].forEach(function(c){var p=r.processMouseEvent.bind(r,c);r.addManagedListener(r.element,c,p)})},o.prototype.processMouseEvent=function(r,s){if(this.mouseEventService.isEventFromThisGrid(s)&&!zo(s)){var l=this.getRowForEvent(s),c=this.mouseEventService.getRenderedCellForEvent(s);"contextmenu"===r?this.handleContextMenuMouseEvent(s,null,l,c):(c&&c.onMouseEvent(r,s),l&&l.onMouseEvent(r,s))}},o.prototype.mockContextMenuForIPad=function(){var r=this;if(Sc()){var s=new so(this.element);this.addManagedListener(s,so.EVENT_LONG_TAP,function(c){var p=r.getRowForEvent(c.touchEvent),v=r.mouseEventService.getRenderedCellForEvent(c.touchEvent);r.handleContextMenuMouseEvent(null,c.touchEvent,p,v)}),this.addDestroyFunc(function(){return s.destroy()})}},o.prototype.getRowForEvent=function(r){for(var s=r.target;s;){var l=this.gridOptionsWrapper.getDomData(s,Wl.DOM_DATA_KEY_ROW_CTRL);if(l)return l;s=s.parentElement}return null},o.prototype.handleContextMenuMouseEvent=function(r,s,l,c){var p=l?l.getRowNode():null,v=c?c.getColumn():null,F=null;v&&(c.dispatchCellContextMenuEvent(r||s),F=this.valueService.getValue(v,p));var q=this.ctrlsService.getGridBodyCtrl(),se=c?c.getGui():q.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(r,s,p,v,F,se)},o.prototype.processKeyboardEvent=function(r,s){var l=$a(this.gridOptionsWrapper,s,Xa.DOM_DATA_KEY_CELL_CTRL),c=$a(this.gridOptionsWrapper,s,Wl.DOM_DATA_KEY_ROW_CTRL);s.defaultPrevented||(l?this.processCellKeyboardEvent(l,r,s):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,r,s))},o.prototype.processCellKeyboardEvent=function(r,s,l){var c=r.getRowNode(),p=r.getColumn(),v=r.isEditing();if(!Pl(this.gridOptionsWrapper,l,c,p,v))switch(s){case"keydown":!v&&this.navigationService.handlePageScrollingKey(l)||r.onKeyDown(l),this.doGridOperations(l,r.isEditing());break;case"keypress":r.onKeyPress(l)}if("keydown"===s){var q=r.createEvent(l,Te.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(q)}if("keypress"===s){var se=r.createEvent(l,Te.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(se)}},o.prototype.processFullWidthRowKeyboardEvent=function(r,s,l){var c=r.getRowNode(),p=this.focusService.getFocusedCell();if(!Pl(this.gridOptionsWrapper,l,c,p&&p.column,!1)&&"keydown"===s)switch(l.key){case ht.UP:case ht.DOWN:r.onKeyboardNavigate(l);break;case ht.TAB:r.onTabKeyDown(l)}if("keydown"===s){var q=r.createRowEvent(Te.EVENT_CELL_KEY_DOWN,l);this.eventService.dispatchEvent(q)}if("keypress"===s){var se=r.createRowEvent(Te.EVENT_CELL_KEY_PRESS,l);this.eventService.dispatchEvent(se)}},o.prototype.doGridOperations=function(r,s){if((r.ctrlKey||r.metaKey)&&!s&&this.mouseEventService.isEventFromThisGrid(r))switch(r.code){case ht.A:return this.onCtrlAndA(r);case ht.C:return this.onCtrlAndC(r);case ht.V:return this.onCtrlAndV();case ht.D:return this.onCtrlAndD(r);case ht.Z:return r.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case ht.Y:return this.undoRedoService.redo()}},o.prototype.onCtrlAndA=function(r){var s=this,l=s.pinnedRowModel,p=s.rangeService,v=Ie.PINNED_BOTTOM,F=Ie.PINNED_TOP;if(p&&s.paginationProxy.isRowsToRender()){var B=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c}([l.isEmpty(F),l.isEmpty(v)],2),fe=B[0]?null:F,we=void 0,xe=void 0;B[1]?(we=null,xe=this.paginationProxy.getRowCount()-1):(we=v,xe=l.getPinnedBottomRowData().length-1);var Pe=this.columnModel.getAllDisplayedColumns();if(S(Pe))return;p.setCellRange({rowStartIndex:0,rowStartPinned:fe,rowEndIndex:xe,rowEndPinned:we,columnStart:Pe[0],columnEnd:St(Pe)})}r.preventDefault()},o.prototype.onCtrlAndC=function(r){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),r.preventDefault())},o.prototype.onCtrlAndV=function(){Le.isRegistered(z.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},o.prototype.onCtrlAndD=function(r){Le.isRegistered(z.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),r.preventDefault()},Ci([de("mouseEventService")],o.prototype,"mouseEventService",void 0),Ci([de("valueService")],o.prototype,"valueService",void 0),Ci([gn("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),Ci([de("ctrlsService")],o.prototype,"ctrlsService",void 0),Ci([de("navigationService")],o.prototype,"navigationService",void 0),Ci([de("focusService")],o.prototype,"focusService",void 0),Ci([de("undoRedoService")],o.prototype,"undoRedoService",void 0),Ci([de("columnModel")],o.prototype,"columnModel",void 0),Ci([de("paginationProxy")],o.prototype,"paginationProxy",void 0),Ci([de("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Ci([gn("rangeService")],o.prototype,"rangeService",void 0),Ci([gn("clipboardService")],o.prototype,"clipboardService",void 0),Ci([tt],o.prototype,"postConstruct",null),o}(ft),Hy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ki=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},ud=function(u){function o(r){var s=u.call(this)||this;return s.centerContainerCtrl=r,s}return Hy(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.listenForResize()}),this.addManagedListener(this.eventService,Te.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},o.prototype.listenForResize=function(){var r=this,s=function(){return r.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(s),this.gridBodyCtrl.registerBodyViewportResizeListener(s)},o.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},o.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var r=this.centerContainerCtrl.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},o.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},o.prototype.getBodyHeight=function(){return this.bodyHeight},o.prototype.checkBodyHeight=function(){var s=kc(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==s&&(this.bodyHeight=s,this.eventService.dispatchEvent({type:Te.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},o.prototype.updateScrollVisibleServiceImpl=function(){var r={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(r),this.gridBodyCtrl.setVerticalScrollPaddingVisible(r.verticalScrollShowing)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},o.prototype.onHorizontalViewportChanged=function(){var r=this.centerContainerCtrl.getCenterWidth(),s=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(r,s)},Ki([de("ctrlsService")],o.prototype,"ctrlsService",void 0),Ki([de("columnModel")],o.prototype,"columnModel",void 0),Ki([de("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Ki([de("columnApi")],o.prototype,"columnApi",void 0),Ki([de("gridApi")],o.prototype,"gridApi",void 0),Ki([tt],o.prototype,"postConstruct",null),o}(ft),Qg=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),jy=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},z1=function(u){function o(r){var s=u.call(this)||this;return s.element=r,s}return Qg(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Te.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},o.prototype.onPinnedLeftWidthChanged=function(){var r=this.pinnedWidthService.getPinnedLeftWidth(),s=r>0;Kn(this.element,s),s&&Pr(this.element,r)},jy([de("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),jy([tt],o.prototype,"postConstruct",null),o}(ft),$y=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Wy=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Uy=function(u){function o(r){var s=u.call(this)||this;return s.element=r,s}return $y(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Te.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},o.prototype.onPinnedRightWidthChanged=function(){var r=this.pinnedWidthService.getPinnedRightWidth(),s=r>0;Kn(this.element,s),s&&Pr(this.element,r)},Wy([de("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),Wy([tt],o.prototype,"postConstruct",null),o}(ft),Y1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Zg=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},K1=function(u){function o(r,s){var l=u.call(this)||this;return l.eContainer=r,l.eWrapper=s,l}return Y1(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Te.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},o.prototype.onHeightChanged=function(){var r=this.maxDivHeightScaler.getUiContainerHeight(),s=null!=r?r+"px":"";this.eContainer.style.height=s,this.eWrapper&&(this.eWrapper.style.height=s)},Zg([de("rowContainerHeightService")],o.prototype,"maxDivHeightScaler",void 0),Zg([tt],o.prototype,"postConstruct",null),o}(ft),q1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),dd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},X1=function(u){function o(r){var s=u.call(this)||this;return s.eContainer=r,s}return q1(o,u),o.prototype.postConstruct=function(){var r=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!O(this.rangeService)){var s={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(s),this.addDestroyFunc(function(){return r.dragService.removeDragSource(s)})}},dd([gn("rangeService")],o.prototype,"rangeService",void 0),dd([de("dragService")],o.prototype,"dragService",void 0),dd([tt],o.prototype,"postConstruct",null),o}(ft),Q1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),vp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Jg=function(u){function o(r){var s=u.call(this)||this;return s.callback=r,s}return Q1(o,u),o.prototype.postConstruct=function(){var r=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_DOM_LAYOUT,r),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.setWidth()},o.prototype.setWidth=function(){var r=this.columnModel,s=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,l=r.getBodyContainerWidth(),c=r.getDisplayedColumnsLeftWidth(),p=r.getDisplayedColumnsRightWidth();this.callback(s?l+c+p:l)},vp([de("columnModel")],o.prototype,"columnModel",void 0),vp([tt],o.prototype,"postConstruct",null),o}(ft),Z1=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ys=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},J1=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c};(function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth",u.TOP_LEFT="topLeft",u.TOP_RIGHT="topRight",u.TOP_CENTER="topCenter",u.TOP_FULL_WIDTH="topFullWidth",u.BOTTOM_LEFT="bottomLeft",u.BOTTOM_RIGHT="bottomRight",u.BOTTOM_CENTER="bottomCenter",u.BOTTOM_FULL_WIDTH="bottomFullWidth"})(z.hA6||(z.hA6={})),function(u){u.LEFT="left",u.RIGHT="right",u.CENTER="center",u.FULL_WIDTH="fullWidth"}(z.EDi||(z.EDi={}));var tS=Fs([[z.hA6.CENTER,"ag-center-cols-container"],[z.hA6.LEFT,"ag-pinned-left-cols-container"],[z.hA6.RIGHT,"ag-pinned-right-cols-container"],[z.hA6.FULL_WIDTH,"ag-full-width-container"],[z.hA6.TOP_CENTER,"ag-floating-top-container"],[z.hA6.TOP_LEFT,"ag-pinned-left-floating-top"],[z.hA6.TOP_RIGHT,"ag-pinned-right-floating-top"],[z.hA6.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[z.hA6.BOTTOM_CENTER,"ag-floating-bottom-container"],[z.hA6.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[z.hA6.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[z.hA6.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),nS=Fs([[z.hA6.CENTER,"ag-center-cols-viewport"],[z.hA6.TOP_CENTER,"ag-floating-top-viewport"],[z.hA6.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Yy=Fs([[z.hA6.CENTER,"ag-center-cols-clipper"]]),yp=function(u){function o(r){var s=u.call(this)||this;return s.name=r,s}return Z1(o,u),o.getRowContainerCssClasses=function(r){return{container:tS.get(r),viewport:nS.get(r),wrapper:Yy.get(r)}},o.getPinned=function(r){switch(r){case z.hA6.BOTTOM_LEFT:case z.hA6.TOP_LEFT:case z.hA6.LEFT:return Ie.PINNED_LEFT;case z.hA6.BOTTOM_RIGHT:case z.hA6.TOP_RIGHT:case z.hA6.RIGHT:return Ie.PINNED_RIGHT;default:return null}},o.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([z.hA6.CENTER],function(){return r.viewportSizeFeature=r.createManagedBean(new ud(r))})},o.prototype.registerWithCtrlsService=function(){switch(this.name){case z.hA6.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case z.hA6.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case z.hA6.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case z.hA6.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case z.hA6.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case z.hA6.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case z.hA6.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case z.hA6.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case z.hA6.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},o.prototype.forContainers=function(r,s){r.indexOf(this.name)>=0&&s()},o.prototype.getContainerElement=function(){return this.eContainer},o.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},o.prototype.setComp=function(r,s,l,c){var p=this;this.comp=r,this.eContainer=s,this.eViewport=l,this.eWrapper=c,this.createManagedBean(new By(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var q=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(J1(arguments[o]));return u}([z.hA6.TOP_CENTER,z.hA6.TOP_LEFT,z.hA6.TOP_RIGHT],[z.hA6.BOTTOM_CENTER,z.hA6.BOTTOM_LEFT,z.hA6.BOTTOM_RIGHT],[z.hA6.CENTER,z.hA6.LEFT,z.hA6.RIGHT]),se=[z.hA6.CENTER,z.hA6.LEFT,z.hA6.RIGHT,z.hA6.FULL_WIDTH],fe=[z.hA6.CENTER,z.hA6.TOP_CENTER,z.hA6.BOTTOM_CENTER],xe=[z.hA6.RIGHT,z.hA6.BOTTOM_RIGHT,z.hA6.TOP_RIGHT];this.forContainers([z.hA6.LEFT,z.hA6.BOTTOM_LEFT,z.hA6.TOP_LEFT],function(){return p.createManagedBean(new z1(p.eContainer))}),this.forContainers(xe,function(){return p.createManagedBean(new Uy(p.eContainer))}),this.forContainers(se,function(){return p.createManagedBean(new K1(p.eContainer,p.eWrapper))}),this.forContainers(q,function(){return p.createManagedBean(new X1(p.eContainer))}),this.forContainers(fe,function(){return p.createManagedBean(new Jg(function(Pe){return p.comp.setContainerWidth(Pe+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},o.prototype.addListeners=function(){var r=this;this.addManagedListener(this.eventService,Te.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return r.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return r.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return r.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_ROWS_CHANGED,function(){return r.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},o.prototype.listenOnDomOrder=function(){var r=this,s=function(){return r.comp.setDomOrder(r.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_DOM_LAYOUT,s),s()},o.prototype.stopHScrollOnPinnedRows=function(){var r=this;this.forContainers([z.hA6.TOP_CENTER,z.hA6.BOTTOM_CENTER],function(){r.addManagedListener(r.eViewport,"scroll",function(){return r.eViewport.scrollLeft=0})})},o.prototype.onDisplayedColumnsChanged=function(){var r=this;this.forContainers([z.hA6.CENTER],function(){return r.onHorizontalViewportChanged()})},o.prototype.onDisplayedColumnsWidthChanged=function(){var r=this;this.forContainers([z.hA6.CENTER],function(){return r.onHorizontalViewportChanged()})},o.prototype.onScrollVisibilityChanged=function(){if(this.name===z.hA6.CENTER){var s=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==s?"100%":"calc(100% + "+s+"px)")}},o.prototype.addPreventScrollWhileDragging=function(){var r=this,s=function(l){r.dragService.isDragging()&&l.cancelable&&l.preventDefault()};this.eContainer.addEventListener("touchmove",s,{passive:!1}),this.addDestroyFunc(function(){return r.eContainer.removeEventListener("touchmove",s)})},o.prototype.onHorizontalViewportChanged=function(){var r=this.getCenterWidth(),s=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,s)},o.prototype.getCenterWidth=function(){return $u(this.eViewport)},o.prototype.getCenterViewportScrollLeft=function(){return Rc(this.eViewport,this.enableRtl)},o.prototype.registerViewportResizeListener=function(r){var s=this.resizeObserverService.observeResize(this.eViewport,r);this.addDestroyFunc(function(){return s()})},o.prototype.isViewportVisible=function(){return Yo(this.eViewport)},o.prototype.isViewportHScrollShowing=function(){return In(this.eViewport)},o.prototype.getViewportScrollLeft=function(){return Rc(this.eViewport,this.enableRtl)},o.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||In(this.eViewport)},o.prototype.getViewportElement=function(){return this.eViewport},o.prototype.setContainerTranslateX=function(r){this.eContainer.style.transform="translateX("+r+"px)"},o.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},o.prototype.setCenterViewportScrollLeft=function(r){Et(this.eViewport,r,this.enableRtl)},o.prototype.onDisplayedRowsChanged=function(){var r=this,s=this.name===z.hA6.TOP_FULL_WIDTH||this.name===z.hA6.BOTTOM_FULL_WIDTH||this.name===z.hA6.FULL_WIDTH,p=this.getRowCtrls().filter(function(v){var F=v.isFullWidth(),B=r.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,q=r.embedFullWidthRows||B;return s?!q&&F:q||!F});this.comp.setRowCtrls(p)},o.prototype.getRowCtrls=function(){switch(this.name){case z.hA6.TOP_CENTER:case z.hA6.TOP_LEFT:case z.hA6.TOP_RIGHT:case z.hA6.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case z.hA6.BOTTOM_CENTER:case z.hA6.BOTTOM_LEFT:case z.hA6.BOTTOM_RIGHT:case z.hA6.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},ys([de("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),ys([de("dragService")],o.prototype,"dragService",void 0),ys([de("ctrlsService")],o.prototype,"ctrlsService",void 0),ys([de("columnModel")],o.prototype,"columnModel",void 0),ys([de("resizeObserverService")],o.prototype,"resizeObserverService",void 0),ys([de("rowRenderer")],o.prototype,"rowRenderer",void 0),ys([tt],o.prototype,"postConstruct",null),o}(ft),iS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ul=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},rS='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+z.hA6.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+z.hA6.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+z.hA6.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+z.hA6.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+z.hA6.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+z.hA6.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+z.hA6.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+z.hA6.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+z.hA6.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+z.hA6.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+z.hA6.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+z.hA6.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Ky=function(u){function o(){return u.call(this,rS)||this}return iS(o,u),o.prototype.init=function(){var r=this,s=function(c,p){var v=c+"px";p.style.minHeight=v,p.style.height=v},l={setRowAnimationCssOnBodyViewport:function(c,p){return r.setRowAnimationCssOnBodyViewport(c,p)},setColumnCount:function(c){return Fx(r.getGui(),c)},setRowCount:function(c){return Nx(r.getGui(),c)},setTopHeight:function(c){return s(c,r.eTop)},setBottomHeight:function(c){return s(c,r.eBottom)},setTopDisplay:function(c){return r.eTop.style.display=c},setBottomDisplay:function(c){return r.eBottom.style.display=c},setColumnMovingCss:function(c,p){return r.addOrRemoveCssClass(Ay,p)},updateLayoutClasses:function(c,p){var v=r.eBodyViewport.classList;v.toggle(z.LBn.AUTO_HEIGHT,p.autoHeight),v.toggle(z.LBn.NORMAL,p.normal),v.toggle(z.LBn.PRINT,p.print),r.addOrRemoveCssClass(z.LBn.AUTO_HEIGHT,p.autoHeight),r.addOrRemoveCssClass(z.LBn.NORMAL,p.normal),r.addOrRemoveCssClass(z.LBn.PRINT,p.print)},setAlwaysVerticalScrollClass:function(c,p){return r.eBodyViewport.classList.toggle(Dy,p)},registerBodyViewportResizeListener:function(c){var p=r.resizeObserverService.observeResize(r.eBodyViewport,c);r.addDestroyFunc(function(){return p()})},setPinnedTopBottomOverflowY:function(c){return r.eTop.style.overflowY=r.eBottom.style.overflowY=c},setCellSelectableCss:function(c,p){[r.eTop,r.eBodyViewport,r.eBottom].forEach(function(v){return v.classList.toggle(Ug,p)})}};this.ctrl=this.createManagedBean(new ky),this.ctrl.setComp(l,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&Mx(this.getGui(),!0)},o.prototype.setRowAnimationCssOnBodyViewport=function(r,s){var l=this.eBodyViewport.classList;l.toggle(z.SJN.ANIMATION_ON,s),l.toggle(z.SJN.ANIMATION_OFF,!s)},o.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Ul([de("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Ul([gn("rangeService")],o.prototype,"rangeService",void 0),Ul([ct("eBodyViewport")],o.prototype,"eBodyViewport",void 0),Ul([ct("eTop")],o.prototype,"eTop",void 0),Ul([ct("eBottom")],o.prototype,"eBottom",void 0),Ul([ct("gridHeader")],o.prototype,"headerRootComp",void 0),Ul([tt],o.prototype,"init",null),o}(ln),qy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),hd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Xy=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return qy(o,u),o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},o.prototype.onDisplayedColumnsChanged=function(){this.update()},o.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},o.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},o.prototype.updateImpl=function(){var r=this.ctrlsService.getCenterRowContainerCtrl();if(r){var s={horizontalScrollShowing:r.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(s)}},o.prototype.setScrollsVisible=function(r){this.horizontalScrollShowing===r.horizontalScrollShowing&&this.verticalScrollShowing===r.verticalScrollShowing||(this.horizontalScrollShowing=r.horizontalScrollShowing,this.verticalScrollShowing=r.verticalScrollShowing,this.eventService.dispatchEvent({type:Te.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},o.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},hd([de("columnApi")],o.prototype,"columnApi",void 0),hd([de("gridApi")],o.prototype,"gridApi",void 0),hd([de("ctrlsService")],o.prototype,"ctrlsService",void 0),hd([tt],o.prototype,"postConstruct",null),hd([ut("scrollVisibleService")],o)}(ft),Qc=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Cs=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},oS=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.gridInstanceId=r.gridInstanceSequence.next(),s}var r;return Qc(o,u),r=o,o.prototype.stampTopLevelGridCompWithGridInstance=function(s){s[r.GRID_DOM_KEY]=this.gridInstanceId},o.prototype.getRenderedCellForEvent=function(s){return $a(this.gridOptionsWrapper,s,Xa.DOM_DATA_KEY_CELL_CTRL)},o.prototype.isEventFromThisGrid=function(s){return this.isElementInThisGrid(s.target)},o.prototype.isElementInThisGrid=function(s){for(var l=s;l;){var c=l[r.GRID_DOM_KEY];if(I(c))return c===this.gridInstanceId;l=l.parentElement}return!1},o.prototype.getCellPositionForEvent=function(s){var l=this.getRenderedCellForEvent(s);return l?l.getCellPosition():null},o.prototype.getNormalisedPosition=function(s){var p,v,l=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_NORMAL;if(null!=s.clientX||null!=s.clientY?(p=s.clientX,v=s.clientY):(p=s.x,v=s.y),l){var F=this.ctrlsService.getGridBodyCtrl(),B=F.getScrollFeature().getVScrollPosition();p+=F.getScrollFeature().getHScrollPosition().left,v+=B.top}return{x:p,y:v}},o.gridInstanceSequence=new Il,o.GRID_DOM_KEY="__ag_grid_instance",Cs([de("ctrlsService")],o.prototype,"ctrlsService",void 0),r=Cs([ut("mouseEventService")],o)}(ft),_R=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),pd=function(){return pd=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},pd.apply(this,arguments)},qr=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},co=function(u){function o(){var r=u.call(this)||this;return r.onPageDown=nt(r.onPageDown,100),r.onPageUp=nt(r.onPageUp,100),r}return _R(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.gridBodyCon=s.gridBodyCtrl})},o.prototype.handlePageScrollingKey=function(r){var s=r.key,l=r.altKey,c=r.ctrlKey||r.metaKey,p=!!this.rangeService&&r.shiftKey,v=this.mouseEventService.getCellPositionForEvent(r);if(!v)return!1;var F=!1;switch(s){case ht.PAGE_HOME:case ht.PAGE_END:!c&&!l&&(this.onHomeOrEndKey(s),F=!0);break;case ht.LEFT:case ht.RIGHT:case ht.UP:case ht.DOWN:c&&!l&&!p&&(this.onCtrlUpDownLeftRight(s,v),F=!0);break;case ht.PAGE_DOWN:!c&&!l&&(this.onPageDown(v),F=!0);break;case ht.PAGE_UP:!c&&!l&&(this.onPageUp(v),F=!0)}return F&&r.preventDefault(),F},o.prototype.navigateTo=function(r){var s=r.scrollIndex,l=r.scrollType,c=r.scrollColumn,p=r.focusIndex,v=r.focusColumn;I(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),I(s)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(s,l),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(p,v,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:p,rowPinned:null,column:v})},o.prototype.onPageDown=function(r){var l=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.getViewportHeight(),p=this.paginationProxy.getPixelOffset(),F=this.paginationProxy.getRowIndexAtPixel(l.top+c+p);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,F):this.navigateToNextPage(r,F)},o.prototype.onPageUp=function(r){var l=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.paginationProxy.getPixelOffset(),v=this.paginationProxy.getRowIndexAtPixel(l.top+c);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,v,!0):this.navigateToNextPage(r,v,!0)},o.prototype.navigateToNextPage=function(r,s,l){void 0===l&&(l=!1);var c,p,Be,v=this.getViewportHeight(),F=this.paginationProxy.getPageFirstRow(),B=this.paginationProxy.getPageLastRow(),q=this.paginationProxy.getPixelOffset(),se=this.paginationProxy.getRow(r.rowIndex),fe=l?(null===(c=se)||void 0===c?void 0:c.rowHeight)-v-q:v-q,we=(null===(p=se)||void 0===p?void 0:p.rowTop)+fe,xe=this.paginationProxy.getRowIndexAtPixel(we+q);xe===r.rowIndex&&(s=xe=r.rowIndex+(l?-1:1)),l?(Be="bottom",xe<F&&(xe=F),s<F&&(s=F)):(Be="top",xe>B&&(xe=B),s>B&&(s=B)),this.isRowTallerThanView(xe)&&(s=xe,Be="top"),this.navigateTo({scrollIndex:s,scrollType:Be,scrollColumn:null,focusIndex:xe,focusColumn:r.column})},o.prototype.navigateToNextPageWithAutoHeight=function(r,s,l){var c=this;void 0===l&&(l=!1),this.navigateTo({scrollIndex:s,scrollType:l?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:r.column}),setTimeout(function(){var p=c.getNextFocusIndexForAutoHeight(r,l);c.navigateTo({scrollIndex:s,scrollType:l?"bottom":"top",scrollColumn:null,focusIndex:p,focusColumn:r.column})},50)},o.prototype.getNextFocusIndexForAutoHeight=function(r,s){void 0===s&&(s=!1);for(var l,c=s?-1:1,p=this.getViewportHeight(),v=this.paginationProxy.getPageLastRow(),F=0,B=r.rowIndex;B>=0&&B<=v;){var q=this.paginationProxy.getRow(B);if(q){var se=null!=(l=q.rowHeight)?l:0;if(F+se>p)break;F+=se}B+=c}return Math.max(0,Math.min(B,v))},o.prototype.getViewportHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),l=this.gridOptionsWrapper.getScrollbarWidth(),c=s.bottom-s.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(c-=l),c},o.prototype.isRowTallerThanView=function(r){var s=this.paginationProxy.getRow(r);if(!s)return!1;var l=s.rowHeight;return"number"==typeof l&&l>this.getViewportHeight()},o.prototype.onCtrlUpDownLeftRight=function(r,s){var l=this.cellNavigationService.getNextCellToFocus(r,s,!0),c=l.rowIndex,p=l.column;this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:p,focusIndex:c,focusColumn:p})},o.prototype.onHomeOrEndKey=function(r){var s=r===ht.PAGE_HOME,l=this.columnModel.getAllDisplayedColumns(),c=s?l[0]:St(l),p=s?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:p,scrollType:null,scrollColumn:c,focusIndex:p,focusColumn:c})},o.prototype.onTabKeyDown=function(r,s){var l=s.shiftKey;if(this.tabToNextCellCommon(r,l,s))s.preventDefault();else if(l){var p=r.getRowPosition(),v=p.rowIndex;(p.rowPinned?0===v:v===this.paginationProxy.getPageFirstRow())&&(s.preventDefault(),this.focusService.focusLastHeader(s))}else r instanceof Xa&&r.focusCell(!0),this.focusService.focusNextGridCoreContainer(l)&&s.preventDefault()},o.prototype.tabToNextCell=function(r,s){var l=this.focusService.getFocusedCell();if(!l)return!1;var c=this.getCellByPosition(l);return!!(c||(c=this.rowRenderer.getRowByPosition(l),c&&c.isFullWidth()))&&this.tabToNextCellCommon(c,r,s)},o.prototype.tabToNextCellCommon=function(r,s,l){var c=r.isEditing();if(!c&&r instanceof Xa){var v=r.getRowCtrl();v&&(c=v.isEditing())}return(c?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(r,s,l):this.moveToNextEditingCell(r,s,l):this.moveToNextCellNotEditing(r,s))||!!this.focusService.getFocusedHeader()},o.prototype.moveToNextEditingCell=function(r,s,l){void 0===l&&(l=null);var c=r.getCellPosition();r.stopEditing();var p=this.findNextCellToFocusOn(c,s,!0);return null!=p&&(p.startEditing(null,null,!0,l),p.focusCell(!1),!0)},o.prototype.moveToNextEditingRow=function(r,s,l){void 0===l&&(l=null);var c=r.getCellPosition(),p=this.findNextCellToFocusOn(c,s,!0);if(null==p)return!1;var v=p.getCellPosition(),F=this.isCellEditable(c),B=this.isCellEditable(v),q=v&&c.rowIndex===v.rowIndex&&c.rowPinned===v.rowPinned;return F&&r.setFocusOutOnEditor(),q||(r.getRowCtrl().stopEditing(),p.getRowCtrl().startRowEditing(void 0,void 0,void 0,l)),B?(p.setFocusInOnEditor(),p.focusCell()):p.focusCell(!0),!0},o.prototype.moveToNextCellNotEditing=function(r,s){var c,l=this.columnModel.getAllDisplayedColumns();c=r instanceof Wl?pd(pd({},r.getRowPosition()),{column:s?l[0]:St(l)}):r.getCellPosition();var p=this.findNextCellToFocusOn(c,s,!1);if(p instanceof Xa)p.focusCell(!0);else if(p)return this.tryToFocusFullWidthRow(p.getRowPosition(),s);return I(p)},o.prototype.findNextCellToFocusOn=function(r,s,l){for(var c=r;;){r!==c&&(r=c),s||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,s);var p=this.gridOptionsWrapper.getTabToNextCellFunc();if(I(p)){var F=p({backwards:s,editing:l,previousCellPosition:r,nextCellPosition:c||null});I(F)?(F.floating&&(ze(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),F.rowPinned=F.floating),c={rowIndex:F.rowIndex,column:F.column,rowPinned:F.rowPinned}):c=null}if(!c)return null;if(c.rowIndex<0){var B=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:B+c.rowIndex,column:c.column}}),null}var q=this.gridOptionsWrapper.isFullRowEdit();if(!l||q||this.isCellEditable(c)){this.ensureCellVisible(c);var fe=this.getCellByPosition(c);if(!fe){var we=this.rowRenderer.getRowByPosition(c);if(!we||!we.isFullWidth())continue;return we}if(!fe.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(c),fe}}},o.prototype.isCellEditable=function(r){var s=this.lookupRowNodeForCell(r);return!!s&&r.column.isCellEditable(s)},o.prototype.getCellByPosition=function(r){var s=this.rowRenderer.getRowByPosition(r);return s?s.getCellCtrl(r.column):null},o.prototype.lookupRowNodeForCell=function(r){return r.rowPinned===Ie.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(r.rowIndex):r.rowPinned===Ie.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(r.rowIndex):this.paginationProxy.getRow(r.rowIndex)},o.prototype.navigateToNextCell=function(r,s,l,c){for(var p=l,v=!1;p&&(p===l||!this.isValidNavigateCell(p));)this.gridOptionsWrapper.isEnableRtl()?s===ht.LEFT&&(p=this.getLastCellOfColSpan(p)):s===ht.RIGHT&&(p=this.getLastCellOfColSpan(p)),v=O(p=this.cellNavigationService.getNextCellToFocus(s,p));if(v&&r&&r.key===ht.UP&&(p={rowIndex:-1,rowPinned:null,column:l.column}),c){var F=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(I(F)){var q=F({key:s,previousCellPosition:l,nextCellPosition:p||null,event:r});I(q)?(q.floating&&(ze(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),q.rowPinned=q.floating),p={rowPinned:q.rowPinned,rowIndex:q.rowIndex,column:q.column}):p=null}}if(p){if(p.rowIndex<0){var se=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:se+p.rowIndex,column:l.column},event:r||void 0})}var fe=this.getNormalisedPosition(p);fe?this.focusPosition(fe):this.tryToFocusFullWidthRow(p)}},o.prototype.getNormalisedPosition=function(r){this.ensureCellVisible(r);var s=this.getCellByPosition(r);return s?(r=s.getCellPosition(),this.ensureCellVisible(r),r):null},o.prototype.tryToFocusFullWidthRow=function(r,s){void 0===s&&(s=!1);var l=this.columnModel.getAllDisplayedColumns(),c=this.rowRenderer.getRowByPosition(r);if(!c||!c.isFullWidth())return!1;var p=this.focusService.getFocusedCell(),v={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column||(s?St(l):l[0])};this.focusPosition(v);var F=null!=p&&this.rowPositionUtils.before(v,p);return this.eventService.dispatchEvent({type:Te.EVENT_FULL_WIDTH_ROW_FOCUSED,api:this.gridApi,columnApi:this.columnApi,rowIndex:v.rowIndex,rowPinned:v.rowPinned,column:v.column,isFullWidthCell:!0,floating:v.rowPinned,fromBelow:F}),!0},o.prototype.focusPosition=function(r){this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(r)},o.prototype.isValidNavigateCell=function(r){return!!this.rowPositionUtils.getRowNode(r)},o.prototype.getLastCellOfColSpan=function(r){var s=this.getCellByPosition(r);if(!s)return r;var l=s.getColSpanningList();return 1===l.length?r:{rowIndex:r.rowIndex,column:St(l),rowPinned:r.rowPinned}},o.prototype.ensureCellVisible=function(r){O(r.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(r.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},qr([de("columnApi")],o.prototype,"columnApi",void 0),qr([de("gridApi")],o.prototype,"gridApi",void 0),qr([de("mouseEventService")],o.prototype,"mouseEventService",void 0),qr([de("paginationProxy")],o.prototype,"paginationProxy",void 0),qr([de("focusService")],o.prototype,"focusService",void 0),qr([de("animationFrameService")],o.prototype,"animationFrameService",void 0),qr([gn("rangeService")],o.prototype,"rangeService",void 0),qr([de("columnModel")],o.prototype,"columnModel",void 0),qr([de("ctrlsService")],o.prototype,"ctrlsService",void 0),qr([de("rowRenderer")],o.prototype,"rowRenderer",void 0),qr([de("headerNavigationService")],o.prototype,"headerNavigationService",void 0),qr([de("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),qr([de("cellNavigationService")],o.prototype,"cellNavigationService",void 0),qr([de("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),qr([tt],o.prototype,"postConstruct",null),qr([ut("navigationService")],o)}(ft),em=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Qy=function(u){function o(r){var s=u.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return s.params=r,s}return em(o,u),o.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),o.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},o.prototype.addKeyDownListener=function(){var r=this,s=this.getGui(),l=this.params;this.addManagedListener(s,"keydown",function(p){Pl(r.gridOptionsWrapper,p,l.node,l.column,!0)||l.onKeyDown(p)})},o.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([tt],o.prototype,"postConstruct",null),o}(Fl),Zy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Zc=function(u){function o(r,s,l,c,p){var v=u.call(this)||this;v.rendererVersion=0,v.editorVersion=0,v.beans=r,v.column=s.getColumn(),v.rowNode=s.getRowNode(),v.rowCtrl=s.getRowCtrl(),v.eRow=c,v.setTemplate('<div comp-id="'+v.getCompId()+'"/>');var F=v.getGui();v.forceWrapper=s.isForceWrapper(),v.refreshWrapper(!1);var B=function(se,fe,we){var xe=we||F;null!=fe&&""!=fe?xe.setAttribute(se,fe):xe.removeAttribute(se)},q={addOrRemoveCssClass:function(se,fe){return v.addOrRemoveCssClass(se,fe)},setUserStyles:function(se){return Ft(F,se)},getFocusableElement:function(){return v.getFocusableElement()},setTabIndex:function(se){return B("tabindex",se.toString())},setRole:function(se){return ar(F,se)},setColId:function(se){return B("col-id",se)},setTitle:function(se){return B("title",se)},setIncludeSelection:function(se){return v.includeSelection=se},setIncludeRowDrag:function(se){return v.includeRowDrag=se},setIncludeDndSource:function(se){return v.includeDndSource=se},setRenderDetails:function(se,fe,we){return v.setRenderDetails(se,fe,we)},setEditDetails:function(se,fe,we){return v.setEditDetails(se,fe,we)},getCellEditor:function(){return v.cellEditor||null},getCellRenderer:function(){return v.cellRenderer||null},getParentOfValue:function(){return v.getParentOfValue()}};return v.cellCtrl=s,s.setComp(q,v.getGui(),v.eCellWrapper,l,p),v}return Zy(o,u),o.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},o.prototype.setRenderDetails=function(r,s,l){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var p=this.refreshWrapper(!1);r?!l&&!p&&this.refreshCellRenderer(r)||(this.destroyRenderer(),this.createCellRendererInstance(r)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(s))}},o.prototype.setEditDetails=function(r,s,l){r?this.createCellEditorInstance(r,s,l):this.destroyEditor()},o.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},o.prototype.refreshWrapper=function(r){var s=this.includeRowDrag||this.includeDndSource||this.includeSelection,l=s||this.forceWrapper,c=l&&null==this.eCellWrapper;c&&(this.eCellWrapper=di('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var p=!l&&null!=this.eCellWrapper;p&&(pr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!l);var v=!r&&l,F=v&&null==this.eCellValue;F&&(this.eCellValue=di('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var B=!v&&null!=this.eCellValue;B&&(pr(this.eCellValue),this.eCellValue=void 0);var q=c||p||F||B;return q&&this.removeControls(),!r&&s&&this.addControls(),q},o.prototype.addControls=function(){var r=this.eCellValue.id="cell-"+this.getCompId(),s=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),s.push(this.checkboxSelectionComp.getCheckboxId())),s.push(r),Lv(this.getGui(),s.join(" "))},o.prototype.createCellEditorInstance=function(r,s,l){var c=this,p=this.editorVersion,v=r.newAgStackInstance();if(v){var F=r.params;v.then(function(q){return c.afterCellEditorCreated(p,q,F,s,l)}),O(this.cellEditor)&&F.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},o.prototype.insertValueWithoutCellRenderer=function(r){var s=this.getParentOfValue();bi(s);var l=null!=r?hs(r):null;null!=l&&(s.innerHTML=l)},o.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},o.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),pr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},o.prototype.destroyEditor=function(){var r=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=r.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=r.destroyBean(this.cellEditorPopupWrapper),pr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},o.prototype.refreshCellRenderer=function(r){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==r.componentClass)return!1;var s=this.cellRenderer.refresh(r.params);return!0===s||void 0===s},o.prototype.createCellRendererInstance=function(r){var s=this,l=this.beans.gridOptionsWrapper.isAngularCompileRows(),c=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),v=this.rendererVersion,F=r.componentClass,B=function(){if(s.rendererVersion===v&&s.isAlive()){var se=r.newAgStackInstance(),fe=s.afterCellRendererCreated.bind(s,v,F);se&&se.then(fe)}};l||c||!this.firstRender?B():this.beans.animationFrameService.createTask(B,this.rowNode.rowIndex,"createTasksP2")},o.prototype.getCtrl=function(){return this.cellCtrl},o.prototype.getRowCtrl=function(){return this.rowCtrl},o.prototype.getCellRenderer=function(){return this.cellRenderer},o.prototype.getCellEditor=function(){return this.cellEditor},o.prototype.afterCellRendererCreated=function(r,s,l){if(this.isAlive()&&r===this.rendererVersion){if(this.cellRenderer=l,this.cellRendererClass=s,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var p=this.getParentOfValue();bi(p),p.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(l)},o.prototype.afterCellEditorCreated=function(r,s,l,c,p){if(r!==this.editorVersion)this.beans.context.destroyBean(s);else{if(s.isCancelBeforeStart&&s.isCancelBeforeStart())return this.beans.context.destroyBean(s),void this.cellCtrl.stopEditing();if(!s.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(s);this.cellEditor=s,this.cellEditorGui=s.getGui(),c||void 0!==s.isPopup&&s.isPopup()?(c||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(l,p)):this.addInCellEditor(),s.afterGuiAttached&&s.afterGuiAttached()}},o.prototype.addInCellEditor=function(){var r=this.getGui(),s=this.beans.gridOptionsWrapper.getDocument();r.contains(s.activeElement)&&r.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},o.prototype.addPopupCellEditor=function(r,s){var l=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Qy(r));var p=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&p.appendChild(this.cellEditorGui);var v=this.beans.popupService,F=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),B=null!=s?s:c.getPopupPosition?c.getPopupPosition():"over",q={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:p,keepWithinBounds:!0},se="under"===B?v.positionPopupUnderComponent.bind(v,q):v.positionPopupOverComponent.bind(v,q),fe=this.beans.gridOptionsWrapper.getLocaleTextFunc(),we=v.addPopup({modal:F,eChild:p,closeOnEsc:!0,closedCallback:function(){l.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:se,ariaLabel:fe("ariaLabelCellEditor","Cell Editor")});we&&(this.hideEditorPopup=we.hideFunc)},o.prototype.detach=function(){this.eRow.removeChild(this.getGui())},o.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),u.prototype.destroy.call(this)},o.prototype.clearParentOfValue=function(){var r=this.getGui(),s=this.beans.gridOptionsWrapper.getDocument();r.contains(s.activeElement)&&r.focus({preventScroll:!0}),bi(this.getParentOfValue())},o}(ln),Jy=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),eC=function(u){function o(r,s,l){var c=u.call(this)||this;c.cellComps={},c.beans=s,c.rowCtrl=r,c.setTemplate('<div comp-id="'+c.getCompId()+'" style="'+c.getInitialStyle()+'"/>');var p=c.getGui(),v=p.style;return r.setComp({setDomOrder:function(B){return c.domOrder=B},setCellCtrls:function(B){return c.setCellCtrls(B)},showFullWidth:function(B){return c.showFullWidth(B)},getFullWidthCellRenderer:function(){return c.getFullWidthCellRenderer()},addOrRemoveCssClass:function(B,q){return c.addOrRemoveCssClass(B,q)},setUserStyles:function(B){return Ft(p,B)},setTop:function(B){return v.top=B},setTransform:function(B){return v.transform=B},setRowIndex:function(B){return p.setAttribute("row-index",B)},setRole:function(B){return ar(p,B)},setRowId:function(B){return p.setAttribute("row-id",B)},setRowBusinessKey:function(B){return p.setAttribute("row-business-key",B)},setTabIndex:function(B){return p.setAttribute("tabindex",B.toString())}},c.getGui(),l),c}return Jy(o,u),o.prototype.getInitialStyle=function(){var r=this.rowCtrl.getInitialTransform(),s=this.rowCtrl.getInitialRowTop();return r?"transform: "+r:"top: "+s},o.prototype.showFullWidth=function(r){var s=this,c=r.newAgStackInstance();!c||c.then(function(p){if(s.isAlive()){var v=p.getGui();s.getGui().appendChild(v),s.rowCtrl.setupDetailRowAutoHeight(v),s.setFullWidthRowComp(p)}else s.beans.context.destroyBean(p)})},o.prototype.setCellCtrls=function(r){var s=this,l=Object.assign({},this.cellComps);r.forEach(function(p){var v=p.getInstanceId();null==s.cellComps[v]?s.newCellComp(p):l[v]=null});var c=te(l).filter(function(p){return null!=p});this.destroyCells(c),this.ensureDomOrder(r)},o.prototype.ensureDomOrder=function(r){var s=this;if(this.domOrder){var l=[];r.forEach(function(c){var p=s.cellComps[c.getInstanceId()];p&&l.push(p.getGui())}),fr(this.getGui(),l)}},o.prototype.newCellComp=function(r){var s=new Zc(this.beans,r,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[r.getInstanceId()]=s,this.getGui().appendChild(s.getGui())},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.destroyAllCells()},o.prototype.destroyAllCells=function(){var r=te(this.cellComps).filter(function(s){return null!=s});this.destroyCells(r)},o.prototype.setFullWidthRowComp=function(r){var s=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=r,this.addDestroyFunc(function(){s.fullWidthCellRenderer=s.beans.context.destroyBean(s.fullWidthCellRenderer)})},o.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},o.prototype.destroyCells=function(r){var s=this;r.forEach(function(l){if(l){var c=l.getCtrl().getInstanceId();s.cellComps[c]===l&&(l.detach(),l.destroy(),s.cellComps[c]=null)}})},o}(ln),nm=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),fd=function(){return fd=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},fd.apply(this,arguments)},zl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Yl=function(u){function o(){var r=u.call(this,function vR(){var u=ln.elementGettingCreated.getAttribute("name"),o=yp.getRowContainerCssClasses(u);return u===z.hA6.CENTER?'<div class="'+o.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+o.container+'" ref="eContainer"></div>\n                </div>\n            </div>':u===z.hA6.TOP_CENTER||u===z.hA6.BOTTOM_CENTER?'<div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+o.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+o.container+'" ref="eContainer"></div>'}())||this;return r.rowComps={},r.name=ln.elementGettingCreated.getAttribute("name"),r.type=function zy(u){switch(u){case z.hA6.CENTER:case z.hA6.TOP_CENTER:case z.hA6.BOTTOM_CENTER:return z.EDi.CENTER;case z.hA6.LEFT:case z.hA6.TOP_LEFT:case z.hA6.BOTTOM_LEFT:return z.EDi.LEFT;case z.hA6.RIGHT:case z.hA6.TOP_RIGHT:case z.hA6.BOTTOM_RIGHT:return z.EDi.RIGHT;case z.hA6.FULL_WIDTH:case z.hA6.TOP_FULL_WIDTH:case z.hA6.BOTTOM_FULL_WIDTH:return z.EDi.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(r.name),r}return nm(o,u),o.prototype.postConstruct=function(){var r=this,s={setViewportHeight:function(c){return r.eViewport.style.height=c},setRowCtrls:function(c){return r.setRowCtrls(c)},setDomOrder:function(c){r.domOrder=c},setContainerWidth:function(c){return r.eContainer.style.width=c}};this.createManagedBean(new yp(this.name)).setComp(s,this.eContainer,this.eViewport,this.eWrapper)},o.prototype.preDestroy=function(){this.setRowCtrls([])},o.prototype.setRowCtrls=function(r){var s=this,l=fd({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,r.forEach(function(p){var v=p.getInstanceId(),F=l[v];if(F)s.rowComps[v]=F,delete l[v],s.ensureDomOrder(F.getGui());else{var B=s.newRowComp(p);s.rowComps[v]=B,s.appendRow(B.getGui())}}),te(l).forEach(function(p){s.eContainer.removeChild(p.getGui()),p.destroy()}),ar(this.eContainer,r.length?"rowgroup":"presentation")},o.prototype.appendRow=function(r){this.domOrder?Mv(this.eContainer,r,this.lastPlacedElement):this.eContainer.appendChild(r),this.lastPlacedElement=r},o.prototype.ensureDomOrder=function(r){this.domOrder&&(ma(this.eContainer,r,this.lastPlacedElement),this.lastPlacedElement=r)},o.prototype.newRowComp=function(r){return yp.getPinned(this.name),new eC(r,this.beans,this.type)},zl([de("beans")],o.prototype,"beans",void 0),zl([ct("eViewport")],o.prototype,"eViewport",void 0),zl([ct("eContainer")],o.prototype,"eContainer",void 0),zl([ct("eWrapper")],o.prototype,"eWrapper",void 0),zl([tt],o.prototype,"postConstruct",null),zl([Kt],o.prototype,"preDestroy",null),o}(ln),Cp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},im=function(){function u(o){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=o}return u.prototype.onDragEnter=function(o){var r=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var s=o.dragItem.columns;!s||s.forEach(function(l){!l.isPrimary()||l.isAnyFunctionActive()||(l.isAllowValue()?r.columnsToAggregate.push(l):l.isAllowRowGroup()?r.columnsToGroup.push(l):l.isAllowPivot()&&r.columnsToPivot.push(l))})}},u.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ao.ICON_PINNED:ao.ICON_MOVE:null},u.prototype.onDragLeave=function(o){this.clearColumnsList()},u.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},u.prototype.onDragging=function(o){},u.prototype.onDragStop=function(o){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Cp([de("columnModel")],u.prototype,"columnModel",void 0),Cp([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),u}(),gd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},bp=function(){function u(o,r){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=o,this.eContainer=r,this.centerContainer=!I(o)}return u.prototype.init=function(){var o=this;this.ctrlsService.whenReady(function(){o.gridBodyCon=o.ctrlsService.getGridBodyCtrl()})},u.prototype.getIconName=function(){return this.pinned?ao.ICON_PINNED:ao.ICON_MOVE},u.prototype.onDragEnter=function(o){var r=o.dragItem.columns;if(o.dragSource.type===z.rvo.ToolPanel)this.setColumnsVisible(r,!0,"uiColumnDragged");else{var l=o.dragItem.visibleState,c=(r||[]).filter(function(p){return l[p.getId()]});this.setColumnsVisible(c,!0,"uiColumnDragged")}this.setColumnsPinned(r,this.pinned,"uiColumnDragged"),this.onDragging(o,!0)},u.prototype.onDragLeave=function(o){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!o.fromNudge){var s=o.dragSource.getDragItem();this.setColumnsVisible(s.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},u.prototype.setColumnsVisible=function(o,r,s){if(void 0===s&&(s="api"),o){var l=o.filter(function(c){return!c.getColDef().lockVisible});this.columnModel.setColumnsVisible(l,r,s)}},u.prototype.setColumnsPinned=function(o,r,s){if(void 0===s&&(s="api"),o){var l=o.filter(function(c){return!c.getColDef().lockPinned});this.columnModel.setColumnsPinned(l,r,s)}},u.prototype.onDragStop=function(){this.ensureIntervalCleared()},u.prototype.normaliseX=function(o){return this.gridOptionsWrapper.isEnableRtl()&&(o=this.eContainer.clientWidth-o),this.centerContainer&&(o+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),o},u.prototype.checkCenterForScrolling=function(o){if(this.centerContainer){var r=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),s=r+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=o<r+50,this.needToMoveLeft=o>s-50):(this.needToMoveLeft=o<r+50,this.needToMoveRight=o>s-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},u.prototype.onDragging=function(o,r){var s=this;if(void 0===r&&(r=!1),this.lastDraggingEvent=o,!O(o.hDirection)){var l=this.normaliseX(o.x);r||this.checkCenterForScrolling(l);var c=this.normaliseDirection(o.hDirection),p=o.dragSource.type,v=o.dragSource.getDragItem().columns;v=v.filter(function(F){return!F.getColDef().lockPinned||F.getPinned()==s.pinned}),this.attemptMoveColumns(p,v,c,l,r)}},u.prototype.normaliseDirection=function(o){if(!this.gridOptionsWrapper.isEnableRtl())return o;switch(o){case z.poj.Left:return z.poj.Right;case z.poj.Right:return z.poj.Left;default:console.error("AG Grid: Unknown direction "+o)}},u.prototype.calculateOldIndex=function(o){var r=this.columnModel.getAllGridColumns(),s=Ns(o.map(function(F){return r.indexOf(F)})),l=s[0];return St(s)-l!=s.length-1?null:l},u.prototype.attemptMoveColumns=function(o,r,s,l,c){var p=s===z.poj.Left,v=s===z.poj.Right,F=r.slice();this.columnModel.sortColumnsLikeGridColumns(F);var B=this.calculateValidMoves(F,v,l),q=this.calculateOldIndex(F);if(0!==B.length){var se=B[0],fe=null!==q&&!c;if(o==z.rvo.HeaderCell&&(fe=null!==q),!fe||!(p&&se>=q||v&&se<=q))for(var we=0;we<B.length;we++){var xe=B[we];if(this.columnModel.doesMovePassRules(F,xe))return void this.columnModel.moveColumns(F,xe,"uiColumnDragged")}}},u.prototype.calculateValidMoves=function(o,r,s){if(this.gridOptionsWrapper.isSuppressMovableColumns()||o.some(function(An){return An.getColDef().suppressMovable}))return[];var Pe,c=this.columnModel.getDisplayedColumns(this.pinned),p=this.columnModel.getAllGridColumns(),v=c.filter(function(An){return So(o,An)}),F=c.filter(function(An){return!So(o,An)}),B=p.filter(function(An){return!So(o,An)}),q=0,se=s;if(r){var fe=0;v.forEach(function(An){return fe+=An.getActualWidth()}),se-=fe}if(se>0){for(var we=0;we<F.length&&!((se-=F[we].getActualWidth())<0);we++)q++;r&&q++}q>0?Pe=B.indexOf(F[q-1])+1:-1===(Pe=B.indexOf(F[0]))&&(Pe=0);var We=[Pe],Ue=function(An,Yt){return An-Yt};if(r){for(var Ze=Pe+1,gt=p.length-1;Ze<=gt;)We.push(Ze),Ze++;We.sort(Ue)}else{gt=p.length-1;for(var Ut=p[Ze=Pe];Ze<=gt&&this.isColumnHidden(c,Ut);)Ze++,We.push(Ze),Ut=p[Ze];for(Ze=Pe-1;Ze>=0;)We.push(Ze),Ze--;We.sort(Ue).reverse()}return We},u.prototype.isColumnHidden=function(o,r){return o.indexOf(r)<0},u.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?ao.ICON_LEFT:ao.ICON_RIGHT,!0))},u.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ao.ICON_MOVE))},u.prototype.moveInterval=function(){var o;this.intervalCount++,(o=10+5*this.intervalCount)>100&&(o=100);var r=null,s=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?r=s.scrollHorizontally(-o):this.needToMoveRight&&(r=s.scrollHorizontally(o)),0!==r)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var c=this.lastDraggingEvent.dragItem.columns.filter(function(v){return!v.getColDef().lockPinned});c.length>0&&(this.dragAndDropService.setGhostIcon(ao.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(c,this.needToMoveLeft?Ie.PINNED_LEFT:Ie.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},gd([de("columnModel")],u.prototype,"columnModel",void 0),gd([de("dragAndDropService")],u.prototype,"dragAndDropService",void 0),gd([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),gd([de("ctrlsService")],u.prototype,"ctrlsService",void 0),gd([tt],u.prototype,"init",null),u}(),sS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),md=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},tC=function(u){function o(r,s){var l=u.call(this)||this;return l.pinned=r,l.eContainer=s,l}return sS(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){switch(r.pinned){case Ie.PINNED_LEFT:r.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.leftRowContainerCtrl.getContainerElement()],[s.bottomLeftRowContainerCtrl.getContainerElement()],[s.topLeftRowContainerCtrl.getContainerElement()]];break;case Ie.PINNED_RIGHT:r.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.rightRowContainerCtrl.getContainerElement()],[s.bottomRightRowContainerCtrl.getContainerElement()],[s.topRightRowContainerCtrl.getContainerElement()]];break;default:r.eSecondaryContainers=[[s.gridBodyCtrl.getBodyViewportElement(),s.centerRowContainerCtrl.getViewportElement()],[s.bottomCenterRowContainerCtrl.getViewportElement()],[s.topCenterRowContainerCtrl.getViewportElement()]]}})},o.prototype.isInterestedIn=function(r){return r===z.rvo.HeaderCell||r===z.rvo.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},o.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},o.prototype.getContainer=function(){return this.eContainer},o.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new bp(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new im(this.pinned)),this.dragAndDropService.addDropTarget(this)},o.prototype.getIconName=function(){return this.currentDropListener.getIconName()},o.prototype.isDropColumnInPivotMode=function(r){return this.columnModel.isPivotMode()&&r.dragSource.type===z.rvo.ToolPanel},o.prototype.onDragEnter=function(r){this.currentDropListener=this.isDropColumnInPivotMode(r)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(r)},o.prototype.onDragLeave=function(r){this.currentDropListener.onDragLeave(r)},o.prototype.onDragging=function(r){this.currentDropListener.onDragging(r)},o.prototype.onDragStop=function(r){this.currentDropListener.onDragStop(r)},md([de("dragAndDropService")],o.prototype,"dragAndDropService",void 0),md([de("columnModel")],o.prototype,"columnModel",void 0),md([de("ctrlsService")],o.prototype,"ctrlsService",void 0),md([tt],o.prototype,"postConstruct",null),md([tt],o.prototype,"init",null),o}(ft),aS=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},rm=function(){function u(){}return u.getHeaderClassesFromColDef=function(o,r,s,l){return O(o)?[]:this.getColumnClassesFromCollDef(o.headerClass,o,r,s,l)},u.getToolPanelClassesFromColDef=function(o,r,s,l){return O(o)?[]:this.getColumnClassesFromCollDef(o.toolPanelClass,o,r,s,l)},u.getClassParams=function(o,r,s,l){return{colDef:o,column:s,columnGroup:l,api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext()}},u.getColumnClassesFromCollDef=function(o,r,s,l,c){return O(o)?[]:"string"==typeof(p="function"==typeof o?o(this.getClassParams(r,s,l,c)):o)?[p]:Array.isArray(p)?function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(aS(arguments[o]));return u}(p):[];var p},u}(),nC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),_d=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},iC=function(u){function o(r){var s=u.call(this,o.TEMPLATE,r)||this;return s.headerCompVersion=0,s.column=r.getColumnGroupChild(),s.pinned=r.getPinned(),s}return nC(o,u),o.prototype.postConstruct=function(){var r=this,s=this.getGui(),l=function(v,F,B){var q=B||s;null!=F&&""!=F?q.setAttribute(v,F):q.removeAttribute(v)};this.ctrl.setComp({setWidth:function(v){return s.style.width=v},addOrRemoveCssClass:function(v,F){return r.addOrRemoveCssClass(v,F)},setColId:function(v){return l("col-id",v)},setTitle:function(v){return l("title",v)},setAriaDescription:function(v){return Ox(s,v)},setAriaSort:function(v){return v?$h(s,v):Lx(s)},setUserCompDetails:function(v){return r.setUserCompDetails(v)},getUserCompInstance:function(){return r.headerComp}},this.getGui(),this.eResize);var p=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",p)},o.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},o.prototype.setUserCompDetails=function(r){var s=this;this.headerCompVersion++;var l=this.headerCompVersion;r.newAgStackInstance().then(function(c){return s.afterCompCreated(l,c)})},o.prototype.afterCompCreated=function(r,s){r==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=s,this.headerCompGui=s.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(s)},o.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',_d([ct("eResize")],o.prototype,"eResize",void 0),_d([tt],o.prototype,"postConstruct",null),_d([Kt],o.prototype,"destroyHeaderComp",null),o}(hp),om=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),sm=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},cS=function(u){function o(r){return u.call(this,o.TEMPLATE,r)||this}return om(o,u),o.prototype.postConstruct=function(){var r=this,s=this.getGui(),l=function(p,v){return null!=v?s.setAttribute(p,v):s.removeAttribute(p)};this.ctrl.setComp({addOrRemoveCssClass:function(p,v){return r.addOrRemoveCssClass(p,v)},addOrRemoveResizableCssClass:function(p,v){return r.eResize.classList.toggle(p,v)},setWidth:function(p){return s.style.width=p},setColId:function(p){return s.setAttribute("col-id",p)},setAriaExpanded:function(p){return l("aria-expanded",p)},setTitle:function(p){return l("title",p)},setUserCompDetails:function(p){return r.setUserCompDetails(p)}},s,this.eResize)},o.prototype.setUserCompDetails=function(r){var s=this;r.newAgStackInstance().then(function(l){return s.afterHeaderCompCreated(l)})},o.prototype.afterHeaderCompCreated=function(r){var s=this,l=function(){return s.destroyBean(r)};this.isAlive()?(this.getGui().appendChild(r.getGui()),this.addDestroyFunc(l),this.ctrl.setDragSource(r.getGui())):l()},o.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',sm([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),sm([ct("eResize")],o.prototype,"eResize",void 0),sm([tt],o.prototype,"postConstruct",null),o}(hp),rC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),am=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c};!function(u){u.COLUMN_GROUP="group",u.COLUMN="column",u.FLOATING_FILTER="filter"}(z.A6C||(z.A6C={}));var Qa=function(u){function o(r){var s=u.call(this)||this;s.headerComps={};var l=r.getType()==z.A6C.COLUMN_GROUP?"ag-header-row-column-group":r.getType()==z.A6C.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return s.setTemplate('<div class="ag-header-row '+l+'" role="row"></div>'),s.ctrl=r,s}return rC(o,u),o.prototype.init=function(){var r=this;this.ctrl.setComp({setTransform:function(l){return r.getGui().style.transform=l},setHeight:function(l){return r.getGui().style.height=l},setTop:function(l){return r.getGui().style.top=l},setHeaderCtrls:function(l){return r.setHeaderCtrls(l)},setWidth:function(l){return r.getGui().style.width=l},setAriaRowIndex:function(l){return Hv(r.getGui(),l)}})},o.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},o.prototype.setHeaderCtrls=function(r){var s=this;if(this.isAlive()){var l=this.headerComps;if(this.headerComps={},r.forEach(function(F){var B=F.getInstanceId(),q=l[B];delete l[B],null==q&&(q=s.createHeaderComp(F),s.getGui().appendChild(q.getGui())),s.headerComps[B]=q}),E(l,function(F,B){s.getGui().removeChild(B.getGui()),s.destroyBean(B)}),this.gridOptionsWrapper.isEnsureDomOrder()){var p=te(this.headerComps);p.sort(function(F,B){return F.getCtrl().getColumnGroupChild().getLeft()-B.getCtrl().getColumnGroupChild().getLeft()});var v=p.map(function(F){return F.getGui()});fr(this.getGui(),v)}}},o.prototype.createHeaderComp=function(r){var s;switch(this.ctrl.getType()){case z.A6C.COLUMN_GROUP:s=new cS(r);break;case z.A6C.FLOATING_FILTER:s=new Bg(r);break;default:s=new iC(r)}return this.createBean(s),s.setParentComponent(this),s},am([tt],o.prototype,"init",null),am([Kt],o.prototype,"destroyHeaderCtrls",null),o}(ln),oC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),uS=0,Za=function(u){function o(r,s){var l=u.call(this)||this;return l.lastFocusEvent=null,l.columnGroupChild=r,l.parentRowCtrl=s,l.instanceId=r.getUniqueId()+"-"+uS++,l}return oC(o,u),o.prototype.shouldStopEventPropagation=function(r){var s=this.focusService.getFocusedHeader();return Do(this.gridOptionsWrapper,r,s.headerRowIndex,s.column)},o.prototype.setGui=function(r){this.eGui=r,this.addDomData()},o.prototype.addDomData=function(){var r=this,s=o.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,s,this),this.addDestroyFunc(function(){return r.gridOptionsWrapper.setDomData(r.eGui,s,null)})},o.prototype.getGui=function(){return this.eGui},o.prototype.focus=function(r){return!!this.eGui&&(this.lastFocusEvent=r||null,this.eGui.focus(),!0)},o.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},o.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},o.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.getColumnGroupChild=function(){return this.columnGroupChild},o.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([de("focusService")],o.prototype,"focusService",void 0),o}(ft);!function(u){u.EVERYTHING="group",u.FILTER="filter",u.SORT="sort",u.MAP="map",u.AGGREGATE="aggregate",u.FILTER_AGGREGATES="filter_aggregates",u.PIVOT="pivot",u.NOTHING="nothing"}(z.j_r||(z.j_r={}));var zn=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c};function Ja(u){return null!=u&&null!=u.getFrameworkComponentInstance?u.getFrameworkComponentInstance():u}var lm=function(){function u(){this.detailGridInfoMap={},this.destroyCalled=!1}return u.prototype.registerOverlayWrapperComp=function(o){this.overlayWrapperComp=o},u.prototype.registerSideBarComp=function(o){this.sideBarComp=o},u.prototype.init=function(){var o=this;switch(this.rowModel.getType()){case Ie.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case Ie.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case Ie.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){o.gridBodyCtrl=o.ctrlsService.getGridBodyCtrl()})},u.prototype.__getAlignedGridService=function(){return this.alignedGridsService},u.prototype.__getContext=function(){return this.context},u.prototype.addDetailGridInfo=function(o,r){this.detailGridInfoMap[o]=r},u.prototype.removeDetailGridInfo=function(o){this.detailGridInfoMap[o]=void 0},u.prototype.getDetailGridInfo=function(o){return this.detailGridInfoMap[o]},u.prototype.forEachDetailGridInfo=function(o){var r=0;E(this.detailGridInfoMap,function(s,l){I(l)&&(o(l,r),r++)})},u.prototype.getDataAsCsv=function(o){if(Le.assertRegistered(z.GXE.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(o)},u.prototype.exportDataAsCsv=function(o){Le.assertRegistered(z.GXE.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(o)},u.prototype.getExcelExportMode=function(o){var r=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},r,o).exportMode},u.prototype.getDataAsExcel=function(o){if(Le.assertRegistered(z.GXE.ExcelExportModule,"api.getDataAsExcel")){var r=this.getExcelExportMode(o);return this.excelCreator.getFactoryMode(r)===z.nPL.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(o)}},u.prototype.exportDataAsExcel=function(o){if(Le.assertRegistered(z.GXE.ExcelExportModule,"api.exportDataAsExcel")){var r=this.getExcelExportMode(o);if(this.excelCreator.getFactoryMode(r)===z.nPL.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(o)}},u.prototype.getSheetDataForExcel=function(o){if(Le.assertRegistered(z.GXE.ExcelExportModule,"api.getSheetDataForExcel")){var r=this.getExcelExportMode(o);return this.excelCreator.setFactoryMode(z.nPL.MULTI_SHEET,r),this.excelCreator.getSheetDataForExcel(o)}},u.prototype.getMultipleSheetsAsExcel=function(o){if(Le.assertRegistered(z.GXE.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(o)},u.prototype.exportMultipleSheetsAsExcel=function(o){if(Le.assertRegistered(z.GXE.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(o)},u.prototype.setEnterpriseDatasource=function(o){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(o)},u.prototype.setGridAriaProperty=function(o,r){if(o){var s=this.ctrlsService.getGridBodyCtrl().getGui(),l="aria-"+o;null===r?s.removeAttribute(l):s.setAttribute(l,r)}},u.prototype.setServerSideDatasource=function(o){this.serverSideRowModel?this.serverSideRowModel.setDatasource(o):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+Ie.ROW_MODEL_TYPE_SERVER_SIDE+"'")},u.prototype.setDatasource=function(o){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(o):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+Ie.ROW_MODEL_TYPE_INFINITE+"'")},u.prototype.setViewportDatasource=function(o){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(o):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+Ie.ROW_MODEL_TYPE_VIEWPORT+"'")},u.prototype.setRowData=function(o){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(o):(this.selectionService.reset(),this.clientSideRowModel.setRowData(o))},u.prototype.setFloatingTopRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(o)},u.prototype.setFloatingBottomRowData=function(o){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(o)},u.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},u.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},u.prototype.getFloatingTopRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(o)},u.prototype.getFloatingBottomRow=function(o){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(o)},u.prototype.setPinnedTopRowData=function(o){this.pinnedRowModel.setPinnedTopRowData(o)},u.prototype.setPinnedBottomRowData=function(o){this.pinnedRowModel.setPinnedBottomRowData(o)},u.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},u.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},u.prototype.getPinnedTopRow=function(o){return this.pinnedRowModel.getPinnedTopRow(o)},u.prototype.getPinnedBottomRow=function(o){return this.pinnedRowModel.getPinnedBottomRow(o)},u.prototype.setColumnDefs=function(o,r){void 0===r&&(r="api"),this.columnModel.setColumnDefs(o,r)},u.prototype.setAutoGroupColumnDef=function(o,r){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",o,!0)},u.prototype.setDefaultColDef=function(o,r){this.gridOptionsWrapper.setProperty("defaultColDef",o,!0)},u.prototype.expireValueCache=function(){this.valueCache.expire()},u.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},u.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},u.prototype.setAlwaysShowHorizontalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",o)},u.prototype.setAlwaysShowVerticalScroll=function(o){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",o)},u.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},u.prototype.refreshCells=function(o){void 0===o&&(o={}),Array.isArray(o)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(o)},u.prototype.flashCells=function(o){void 0===o&&(o={}),this.rowRenderer.flashCells(o)},u.prototype.redrawRows=function(o){void 0===o&&(o={}),this.rowRenderer.redrawRows(o?o.rowNodes:void 0)},u.prototype.setFunctionsReadOnly=function(o){this.gridOptionsWrapper.setProperty("functionsReadOnly",o)},u.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(o){return o.refresh()})},u.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},u.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},u.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},u.prototype.getModel=function(){return this.rowModel},u.prototype.setRowNodeExpanded=function(o,r){o&&o.setExpanded(r)},u.prototype.onGroupExpandedOrCollapsed=function(o){O(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),I(o)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:z.j_r.MAP})},u.prototype.refreshInMemoryRowModel=function(o){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(o)},u.prototype.refreshClientSideRowModel=function(o){O(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var r=z.j_r.EVERYTHING,s={group:z.j_r.EVERYTHING,filter:z.j_r.FILTER,map:z.j_r.MAP,aggregate:z.j_r.AGGREGATE,sort:z.j_r.SORT,pivot:z.j_r.PIVOT};if(I(o)&&(r=s[o]),O(r))console.error("AG Grid: invalid step "+o+", available steps are "+Object.keys(s).join(", "));else{var l=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:l})}},u.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},u.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},u.prototype.getRowNode=function(o){return this.rowModel.getRowNode(o)},u.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},u.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},u.prototype.getToolPanelInstance=function(o){if(this.sideBarComp)return Ja(this.sideBarComp.getToolPanelInstance(o));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.addVirtualRowListener=function(o,r,s){"string"!=typeof o&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(o,r,s)},u.prototype.addRenderedRowListener=function(o,r,s){"virtualRowSelected"===o&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(o,r,s)},u.prototype.setQuickFilter=function(o){this.filterManager.setQuickFilter(o)},u.prototype.selectIndex=function(o,r,s){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(o,r)},u.prototype.deselectIndex=function(o,r){void 0===r&&(r=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(o)},u.prototype.selectNode=function(o,r,s){void 0===r&&(r=!1),void 0===s&&(s=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),s&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!0,clearSelection:!r})},u.prototype.deselectNode=function(o,r){void 0===r&&(r=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),o.setSelectedParams({newValue:!1})},u.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},u.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},u.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},u.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},u.prototype.recomputeAggregates=function(){O(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:z.j_r.AGGREGATE})},u.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},u.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},u.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},u.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},u.prototype.isNodeSelected=function(o){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),o.isSelected()},u.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},u.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},u.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},u.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},u.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},u.prototype.ensureColIndexVisible=function(o){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},u.prototype.ensureColumnVisible=function(o,r){void 0===r&&(r="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(o,r)},u.prototype.ensureIndexVisible=function(o,r){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(o,r)},u.prototype.ensureNodeVisible=function(o,r){void 0===r&&(r=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(o,r)},u.prototype.forEachLeafNode=function(o){O(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(o)},u.prototype.forEachNode=function(o){this.rowModel.forEachNode(o)},u.prototype.forEachNodeAfterFilter=function(o){O(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(o)},u.prototype.forEachNodeAfterFilterAndSort=function(o){O(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(o)},u.prototype.getFilterInstance=function(o,r){var s=this.getFilterInstanceImpl(o,function(c){if(r){var p=Ja(c);r(p)}});return Ja(s)},u.prototype.getFilterInstanceImpl=function(o,r){var s=this.columnModel.getPrimaryColumn(o);if(s){var l=this.filterManager.getFilterComponent(s,"NO_UI"),c=l&&l.resolveNow(null,function(p){return p});return c?setTimeout(r,0,c):l&&l.then(function(p){r(p)}),c}},u.prototype.destroyFilter=function(o){var r=this.columnModel.getPrimaryColumn(o);if(r)return this.filterManager.destroyFilter(r,"filterDestroyed")},u.prototype.getStatusPanel=function(o){if(this.statusBarService)return Ja(this.statusBarService.getStatusPanel(o))},u.prototype.getColumnDef=function(o){var r=this.columnModel.getPrimaryColumn(o);return r?r.getColDef():null},u.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},u.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},u.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},u.prototype.setFilterModel=function(o){this.filterManager.setFilterModel(o)},u.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},u.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},u.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},u.prototype.setFocusedCell=function(o,r,s){this.focusService.setFocusedCell(o,r,s,!0)},u.prototype.setSuppressRowDrag=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_SUPPRESS_ROW_DRAG,o)},u.prototype.setSuppressMoveWhenRowDragging=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,o)},u.prototype.setSuppressRowClickSelection=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_SUPPRESS_ROW_CLICK_SELECTION,o)},u.prototype.addRowDropZone=function(o){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(o)},u.prototype.removeRowDropZone=function(o){var r=this.dragAndDropService.findExternalZone(o);r&&this.dragAndDropService.removeDropTarget(r)},u.prototype.getRowDropZoneParams=function(o){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(o)},u.prototype.setHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_HEADER_HEIGHT,o)},u.prototype.setDomLayout=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_DOM_LAYOUT,o)},u.prototype.setEnableCellTextSelection=function(o){this.gridBodyCtrl.setCellTextSelection(o)},u.prototype.setFillHandleDirection=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_FILL_HANDLE_DIRECTION,o)},u.prototype.setGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GROUP_HEADER_HEIGHT,o)},u.prototype.setFloatingFiltersHeight=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_FLOATING_FILTERS_HEIGHT,o)},u.prototype.setPivotHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_PIVOT_HEADER_HEIGHT,o)},u.prototype.setPivotGroupHeaderHeight=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_PIVOT_GROUP_HEADER_HEIGHT,o)},u.prototype.setIsExternalFilterPresent=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_IS_EXTERNAL_FILTER_PRESENT,o)},u.prototype.setDoesExternalFilterPass=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_DOES_EXTERNAL_FILTER_PASS,o)},u.prototype.setNavigateToNextCell=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_NAVIGATE_TO_NEXT_CELL,o)},u.prototype.setTabToNextCell=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_TAB_TO_NEXT_CELL,o)},u.prototype.setTabToNextHeader=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_TAB_TO_NEXT_HEADER,o)},u.prototype.setNavigateToNextHeader=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_NAVIGATE_TO_NEXT_HEADER,o)},u.prototype.setGroupRowAggNodes=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GROUP_ROW_AGG_NODES,o)},u.prototype.setGetGroupRowAgg=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_GROUP_ROW_AGG,o)},u.prototype.setGetBusinessKeyForNode=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_BUSINESS_KEY_FOR_NODE,o)},u.prototype.setGetChildCount=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_CHILD_COUNT,o)},u.prototype.setProcessRowPostCreate=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_PROCESS_ROW_POST_CREATE,o)},u.prototype.setGetRowNodeId=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_ROW_NODE_ID,o)},u.prototype.setGetRowId=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_ROW_ID,o)},u.prototype.setGetRowClass=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_ROW_CLASS,o)},u.prototype.setIsFullWidthCell=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_IS_FULL_WIDTH_CELL,o)},u.prototype.setIsFullWidthRow=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_IS_FULL_WIDTH_ROW,o)},u.prototype.setIsRowSelectable=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_IS_ROW_SELECTABLE,o)},u.prototype.setIsRowMaster=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_IS_ROW_MASTER,o)},u.prototype.setPostSort=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_POST_SORT,o)},u.prototype.setPostSortRows=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_POST_SORT_ROWS,o)},u.prototype.setGetDocument=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_DOCUMENT,o)},u.prototype.setGetContextMenuItems=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_CONTEXT_MENU_ITEMS,o)},u.prototype.setGetMainMenuItems=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_MAIN_MENU_ITEMS,o)},u.prototype.setProcessCellForClipboard=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_PROCESS_CELL_FOR_CLIPBOARD,o)},u.prototype.setSendToClipboard=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_SEND_TO_CLIPBOARD,o)},u.prototype.setProcessCellFromClipboard=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_PROCESS_CELL_FROM_CLIPBOARD,o)},u.prototype.setProcessSecondaryColDef=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_PROCESS_TO_SECONDARY_COLDEF,o)},u.prototype.setProcessSecondaryColGroupDef=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,o)},u.prototype.setPostProcessPopup=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_POST_PROCESS_POPUP,o)},u.prototype.setDefaultGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,o)},u.prototype.setInitialGroupOrderComparator=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_INITIAL_GROUP_ORDER_COMPARATOR,o)},u.prototype.setGetChartToolbarItems=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_CHART_TOOLBAR_ITEMS,o)},u.prototype.setPaginationNumberFormatter=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_PAGINATION_NUMBER_FORMATTER,o)},u.prototype.setGetServerSideStoreParams=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_SERVER_SIDE_STORE_PARAMS,o)},u.prototype.setIsServerSideGroupOpenByDefault=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,o)},u.prototype.setIsApplyServerSideTransaction=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,o)},u.prototype.setIsServerSideGroup=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_IS_SERVER_SIDE_GROUP,o)},u.prototype.setGetServerSideGroupKey=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_SERVER_SIDE_GROUP_KEY,o)},u.prototype.setGetRowStyle=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_ROW_STYLE,o)},u.prototype.setGetRowHeight=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GET_ROW_HEIGHT,o)},u.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},u.prototype.setSideBarVisible=function(o){this.sideBarComp?this.sideBarComp.setDisplayed(o):o&&console.warn("AG Grid: sideBar is not loaded")},u.prototype.setSideBarPosition=function(o){this.sideBarComp?this.sideBarComp.setSideBarPosition(o):console.warn("AG Grid: sideBar is not loaded")},u.prototype.openToolPanel=function(o){this.sideBarComp?this.sideBarComp.openToolPanel(o):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},u.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},u.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},u.prototype.setSideBar=function(o){this.gridOptionsWrapper.setProperty("sideBar",xy.parse(o))},u.prototype.setSuppressClipboardPaste=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_SUPPRESS_CLIPBOARD_PASTE,o)},u.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},u.prototype.doLayout=function(){ze(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},u.prototype.resetRowHeights=function(){if(I(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},u.prototype.setGroupRemoveSingleChildren=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o)},u.prototype.setGroupRemoveLowestSingleChildren=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o)},u.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},u.prototype.getValue=function(o,r){var s=this.columnModel.getPrimaryColumn(o);return O(s)&&(s=this.columnModel.getGridColumn(o)),O(s)?null:this.valueService.getValue(s,r)},u.prototype.addEventListener=function(o,r){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(o,r,s)},u.prototype.addGlobalListener=function(o){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(o,r)},u.prototype.removeEventListener=function(o,r){var s=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(o,r,s)},u.prototype.removeGlobalListener=function(o){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(o,r)},u.prototype.dispatchEvent=function(o){this.eventService.dispatchEvent(o)},u.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var o=this.ctrlsService.getGridCtrl();o&&o.destroyGridUi(),this.context.destroy()}},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Oe.bind(window,this,"Grid API"),100)},u.prototype.warnIfDestroyed=function(o){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+o+" was called on a grid that was destroyed."),this.destroyCalled},u.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(o){return o.quickFilterAggregateText=null})},u.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},u.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},u.prototype.camelCaseToHumanReadable=function(o){return kv(o)},u.prototype.addRangeSelection=function(o){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},u.prototype.addCellRange=function(o){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(o)},u.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},u.prototype.undoCellEditing=function(){this.undoRedoService.undo()},u.prototype.redoCellEditing=function(){this.undoRedoService.redo()},u.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},u.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},u.prototype.getChartModels=function(){if(Le.assertRegistered(z.GXE.RangeSelectionModule,"api.getChartModels")&&Le.assertRegistered(z.GXE.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},u.prototype.getChartRef=function(o){if(Le.assertRegistered(z.GXE.RangeSelectionModule,"api.getChartRef")&&Le.assertRegistered(z.GXE.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(o)},u.prototype.getChartImageDataURL=function(o){if(Le.assertRegistered(z.GXE.RangeSelectionModule,"api.getChartImageDataURL")&&Le.assertRegistered(z.GXE.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(o)},u.prototype.createRangeChart=function(o){if(Le.assertRegistered(z.GXE.RangeSelectionModule,"api.createRangeChart")&&Le.assertRegistered(z.GXE.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(o)},u.prototype.createCrossFilterChart=function(o){if(Le.assertRegistered(z.GXE.RangeSelectionModule,"api.createCrossFilterChart")&&Le.assertRegistered(z.GXE.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(o)},u.prototype.restoreChart=function(o,r){if(Le.assertRegistered(z.GXE.RangeSelectionModule,"api.restoreChart")&&Le.assertRegistered(z.GXE.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(o,r)},u.prototype.createPivotChart=function(o){if(Le.assertRegistered(z.GXE.RangeSelectionModule,"api.createPivotChart")&&Le.assertRegistered(z.GXE.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(o)},u.prototype.copySelectedRowsToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(o)},u.prototype.copySelectedRangeToClipboard=function(o){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(o)},u.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},u.prototype.showColumnMenuAfterButtonClick=function(o,r){var s=this.columnModel.getGridColumn(o);this.menuFactory.showMenuAfterButtonClick(s,r,"columnMenu")},u.prototype.showColumnMenuAfterMouseClick=function(o,r){var s=this.columnModel.getGridColumn(o);s||(s=this.columnModel.getPrimaryColumn(o)),s?this.menuFactory.showMenuAfterMouseEvent(s,r):console.error("AG Grid: column '"+o+"' not found")},u.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},u.prototype.setPopupParent=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_POPUP_PARENT,o)},u.prototype.tabToNextCell=function(o){return this.navigationService.tabToNextCell(!1,o)},u.prototype.tabToPreviousCell=function(o){return this.navigationService.tabToNextCell(!0,o)},u.prototype.getCellRendererInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellRendererInstances(o).map(Ja)},u.prototype.getCellEditorInstances=function(o){return void 0===o&&(o={}),this.rowRenderer.getCellEditorInstances(o).map(Ja)},u.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},u.prototype.stopEditing=function(o){void 0===o&&(o=!1),this.rowRenderer.stopEditing(o)},u.prototype.startEditingCell=function(o){var r=this.columnModel.getGridColumn(o.colKey);if(r){var s={rowIndex:o.rowIndex,rowPinned:o.rowPinned||null,column:r};null==o.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(o.rowIndex);var c=this.navigationService.getCellByPosition(s);!c||c.startRowOrCellEdit(o.key,o.charPress)}else console.warn("AG Grid: no column found for "+o.colKey)},u.prototype.addAggFunc=function(o,r){this.aggFuncService&&this.aggFuncService.addAggFunc(o,r)},u.prototype.addAggFuncs=function(o){this.aggFuncService&&this.aggFuncService.addAggFuncs(o)},u.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},u.prototype.applyServerSideTransaction=function(o){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(o);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyServerSideTransactionAsync=function(o,r){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(o,r);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},u.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},u.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},u.prototype.applyTransaction=function(o){if(this.clientSideRowModel){var r=this.clientSideRowModel.updateRowData(o);return this.rowRenderer.refreshFullWidthRows(r.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),r}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},u.prototype.setDeltaSort=function(o){this.gridOptionsWrapper.setProperty("deltaSort",o)},u.prototype.updateRowData=function(o){return ze(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(o)},u.prototype.applyTransactionAsync=function(o,r){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(o,r):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},u.prototype.batchUpdateRowData=function(o,r){ze(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(o,r)},u.prototype.insertItemsAtIndex=function(o,r,s){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:r,addIndex:o,update:null,remove:null})},u.prototype.removeItems=function(o,r){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var s=o.map(function(l){return l.data});this.updateRowData({add:null,addIndex:null,update:null,remove:s})},u.prototype.addItems=function(o,r){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:o,addIndex:null,update:null,remove:null})},u.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},u.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},u.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},u.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},u.prototype.purgeEnterpriseCache=function(o){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(o)},u.prototype.purgeServerSideCache=function(o){void 0===o&&(o=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:o,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},u.prototype.refreshServerSideStore=function(o){this.serverSideRowModel?this.serverSideRowModel.refreshStore(o):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},u.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},u.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},u.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},u.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},u.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},u.prototype.setVirtualRowCount=function(o,r){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(o,r)},u.prototype.setInfiniteRowCount=function(o,r){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(o,r)},u.prototype.setRowCount=function(o,r){this.infiniteRowModel?this.infiniteRowModel.setRowCount(o,r):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},u.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},u.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},u.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},u.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},u.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},u.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},u.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},u.prototype.getDisplayedRowAtIndex=function(o){return this.rowModel.getRow(o)},u.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},u.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},u.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},u.prototype.paginationSetPageSize=function(o){this.gridOptionsWrapper.setProperty("paginationPageSize",o)},u.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},u.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},u.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},u.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},u.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},u.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},u.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},u.prototype.paginationGoToPage=function(o){this.paginationProxy.goToPage(o)},u.prototype.setRowClass=function(o){this.gridOptionsWrapper.setProperty(Mt.PROP_ROW_CLASS,o)},zn([gn("immutableService")],u.prototype,"immutableService",void 0),zn([gn("csvCreator")],u.prototype,"csvCreator",void 0),zn([gn("excelCreator")],u.prototype,"excelCreator",void 0),zn([de("rowRenderer")],u.prototype,"rowRenderer",void 0),zn([de("navigationService")],u.prototype,"navigationService",void 0),zn([de("filterManager")],u.prototype,"filterManager",void 0),zn([de("columnModel")],u.prototype,"columnModel",void 0),zn([de("selectionService")],u.prototype,"selectionService",void 0),zn([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),zn([de("valueService")],u.prototype,"valueService",void 0),zn([de("alignedGridsService")],u.prototype,"alignedGridsService",void 0),zn([de("eventService")],u.prototype,"eventService",void 0),zn([de("pinnedRowModel")],u.prototype,"pinnedRowModel",void 0),zn([de("context")],u.prototype,"context",void 0),zn([de("rowModel")],u.prototype,"rowModel",void 0),zn([de("sortController")],u.prototype,"sortController",void 0),zn([de("paginationProxy")],u.prototype,"paginationProxy",void 0),zn([de("focusService")],u.prototype,"focusService",void 0),zn([de("dragAndDropService")],u.prototype,"dragAndDropService",void 0),zn([gn("rangeService")],u.prototype,"rangeService",void 0),zn([gn("clipboardService")],u.prototype,"clipboardService",void 0),zn([gn("aggFuncService")],u.prototype,"aggFuncService",void 0),zn([de("menuFactory")],u.prototype,"menuFactory",void 0),zn([gn("contextMenuFactory")],u.prototype,"contextMenuFactory",void 0),zn([de("valueCache")],u.prototype,"valueCache",void 0),zn([de("animationFrameService")],u.prototype,"animationFrameService",void 0),zn([gn("statusBarService")],u.prototype,"statusBarService",void 0),zn([gn("chartService")],u.prototype,"chartService",void 0),zn([gn("undoRedoService")],u.prototype,"undoRedoService",void 0),zn([gn("rowNodeBlockLoader")],u.prototype,"rowNodeBlockLoader",void 0),zn([gn("ssrmTransactionManager")],u.prototype,"serverSideTransactionManager",void 0),zn([de("ctrlsService")],u.prototype,"ctrlsService",void 0),zn([gn("frameworkComponentWrapper")],u.prototype,"frameworkComponentWrapper",void 0),zn([tt],u.prototype,"init",null),zn([Kt],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),zn([ut("gridApi")],u)}(),aC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),vd=function(u){function o(r,s,l,c){var p=u.call(this)||this;return p.columnOrGroup=r,p.eCell=s,p.ariaEl=p.eCell.querySelector("[role=columnheader]")||p.eCell,p.colsSpanning=c,p.beans=l,p}return aC(o,u),o.prototype.setColsSpanning=function(r){this.colsSpanning=r,this.onLeftChanged()},o.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?St(this.colsSpanning):this.columnOrGroup},o.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,at.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Mt.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},o.prototype.setLeftFirstTime=function(){var r=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),s=I(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&s&&!r?this.animateInLeft():this.onLeftChanged()},o.prototype.animateInLeft=function(){var r=this,s=this.getColumnOrGroup(),l=s.getLeft(),c=s.getOldLeft(),p=this.modifyLeftForPrintLayout(s,c),v=this.modifyLeftForPrintLayout(s,l);this.setLeft(p),this.actualLeft=v,this.beans.columnAnimationService.executeNextVMTurn(function(){r.actualLeft===v&&r.setLeft(v)})},o.prototype.onLeftChanged=function(){var r=this.getColumnOrGroup(),s=r.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(r,s),this.setLeft(this.actualLeft)},o.prototype.modifyLeftForPrintLayout=function(r,s){if(this.beans.gridOptionsWrapper.getDomLayout()!==Ie.DOM_LAYOUT_PRINT||r.getPinned()===Ie.PINNED_LEFT)return s;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();return r.getPinned()===Ie.PINNED_RIGHT?c+this.beans.columnModel.getBodyContainerWidth()+s:c+s},o.prototype.setLeft=function(r){var s;if(I(r)&&(this.eCell.style.left=r+"px"),this.columnOrGroup instanceof at)s=this.columnOrGroup;else{var c=this.columnOrGroup.getLeafColumns();if(!c.length)return;c.length>1&&dg(this.ariaEl,c.length),s=c[0]}var p=this.beans.columnModel.getAriaColumnIndex(s);jv(this.ariaEl,p)},function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([tt],o.prototype,"postConstruct",null),o}(ft),wp=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),yd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},xp=function(u){function o(r,s){var l=u.call(this)||this;return l.columns=r,l.element=s,l}return wp(o,u),o.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},o.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},o.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},o.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},yd([de("columnHoverService")],o.prototype,"columnHoverService",void 0),yd([tt],o.prototype,"postConstruct",null),o}(ft),um=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Kl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Sp=function(u){function o(r,s){var l=u.call(this,r,s)||this;return l.column=r,l}return um(o,u),o.prototype.setComp=function(r,s,l,c){u.prototype.setGui.call(this,s),this.comp=r,this.eButtonShowMainFilter=l,this.eFloatingFilterBody=c;var p=this.column.getColDef();this.active=!(!p.filter&&!p.filterFramework||!p.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},o.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var r=Ui("filter",this.gridOptionsWrapper,this.column);r&&this.eButtonShowMainFilter.appendChild(r)}},o.prototype.setupFocus=function(){this.createManagedBean(new fs(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.onTabKeyDown=function(r){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var p=this.focusService.findNextFocusableElement(this.eGui,null,r.shiftKey);if(p)return this.beans.headerNavigationService.scrollToColumn(this.column),r.preventDefault(),void p.focus();var v=this.findNextColumnWithFloatingFilter(r.shiftKey);!v||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:v},event:r})&&r.preventDefault()}},o.prototype.findNextColumnWithFloatingFilter=function(r){var s=this.beans.columnModel,l=this.column;do{if(!(l=r?s.getDisplayedColBefore(l):s.getDisplayedColAfter(l)))break}while(!l.getColDef().filter||!l.getColDef().floatingFilter);return l},o.prototype.handleKeyDown=function(r){var c=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(r.key){case ht.UP:case ht.DOWN:c||r.preventDefault();case ht.LEFT:case ht.RIGHT:if(c)return;r.stopPropagation();case ht.ENTER:c&&this.focusService.focusInto(this.eGui)&&r.preventDefault();break;case ht.ESCAPE:c||this.eGui.focus()}},o.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var l=!!r.relatedTarget&&!r.relatedTarget.classList.contains("ag-floating-filter"),c=!!r.relatedTarget&&zt(r.relatedTarget,"ag-floating-filter");if(l&&c&&r.target===this.eGui){var p=this.lastFocusEvent;p&&p&&p.key===ht.TAB&&this.focusService.focusInto(this.eGui,p.shiftKey)}var B=this.getRowIndex();this.beans.focusService.setFocusedHeader(B,this.column)}},o.prototype.setupHover=function(){var r=this;this.createManagedBean(new xp([this.column],this.eGui));var s=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var l=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",l)}};this.addManagedListener(this.eventService,Te.EVENT_COLUMN_HOVER_CHANGED,s),s()},o.prototype.setupLeft=function(){var r=new vd(this.column,this.eGui,this.beans);this.createManagedBean(r)},o.prototype.setupUserComp=function(){var r=this;if(this.active){var s=this.column.getColDef(),l=this.filterManager.createFilterParams(this.column,s),c=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,Lg,l),p=this.userComponentFactory.getDefaultFloatingFilterType(s);null==p&&(p="agReadOnlyFloatingFilter");var v={column:this.column,filterParams:c,currentParentModel:function(){return r.currentParentModel()},parentFilterInstance:function(B){return r.parentFilterInstance(B)},showParentFilter:function(){return r.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!s.floatingFilterComponentParams&&!!s.floatingFilterComponentParams.suppressFilterButton;var F=this.userComponentFactory.getFloatingFilterCompDetails(s,v,p);F&&this.comp.setCompDetails(F)}},o.prototype.currentParentModel=function(){var r=this.getFilterComponent(!1);return r?r.resolveNow(null,function(s){return s&&s.getModel()}):null},o.prototype.getFilterComponent=function(r){return void 0===r&&(r=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",r)},o.prototype.parentFilterInstance=function(r){var s=this.getFilterComponent();null!=s&&s.then(function(l){r(Ja(l))})},o.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},o.prototype.setupSyncWithFilter=function(){var r=this;if(this.active){var s=function(l){var c=r.comp.getFloatingFilterComp();if(c){var p=r.currentParentModel();c.then(function(v){v&&v.onParentModelChanged(p,l)})}};this.addManagedListener(this.column,at.EVENT_FILTER_CHANGED,s),this.filterManager.isFilterActive(this.column)&&s(null)}},o.prototype.setupWidth=function(){var r=this,s=function(){var l=r.column.getActualWidth()+"px";r.comp.setWidth(l)};this.addManagedListener(this.column,at.EVENT_WIDTH_CHANGED,s),s()},Kl([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Kl([de("filterManager")],o.prototype,"filterManager",void 0),Kl([de("columnHoverService")],o.prototype,"columnHoverService",void 0),Kl([de("gridApi")],o.prototype,"gridApi",void 0),Kl([de("menuFactory")],o.prototype,"menuFactory",void 0),Kl([de("beans")],o.prototype,"beans",void 0),o}(Za),Cd=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),dm=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},lC=function(u){function o(r,s,l,c,p){var v=u.call(this)||this;return v.pinned=r,v.column=s,v.eResize=l,v.comp=c,v.ctrl=p,v}return Cd(o,u),o.prototype.postConstruct=function(){var c,p,r=this,s=this.column.getColDef(),l=[],F=function(){l.forEach(function(q){return q()}),l.length=0},B=function(){var q=r.column.isResizable(),se=!r.gridOptionsWrapper.isSuppressAutoSize()&&!s.suppressAutoSize;(q!==c||se!==p)&&(c=q,p=se,F(),function(){if(Kn(r.eResize,c),c){var q=r.horizontalResizeService.addResizeBar({eResizeBar:r.eResize,onResizeStart:r.onResizeStart.bind(r),onResizing:r.onResizing.bind(r,!1),onResizeEnd:r.onResizing.bind(r,!0)});if(l.push(q),p){var se=r.gridOptionsWrapper.isSkipHeaderOnAutoSize(),fe=function(){r.columnModel.autoSizeColumn(r.column,se,"uiColumnResized")};r.eResize.addEventListener("dblclick",fe);var we=new so(r.eResize);we.addEventListener(so.EVENT_DOUBLE_TAP,fe),r.addDestroyFunc(function(){r.eResize.removeEventListener("dblclick",fe),we.removeEventListener(so.EVENT_DOUBLE_TAP,fe),we.destroy()})}}}())};B(),this.addDestroyFunc(F),this.ctrl.addRefreshFunction(B)},o.prototype.onResizing=function(r,s){var l=this.normaliseResizeAmount(s);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+l}],this.resizeWithShiftKey,r,"uiColumnDragged"),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.onResizeStart=function(r){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=r,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.normaliseResizeAmount=function(r){var s=r,l=this.pinned!==Ie.PINNED_LEFT,c=this.pinned===Ie.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?l&&(s*=-1):c&&(s*=-1),s},dm([de("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),dm([de("columnModel")],o.prototype,"columnModel",void 0),dm([tt],o.prototype,"postConstruct",null),o}(ft),dS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Jc=function(u){function o(r,s,l){void 0===s&&(s="ag-checkbox"),void 0===l&&(l="checkbox");var c=u.call(this,r,s,l)||this;return c.labelAlignment="right",c.selected=!1,c.readOnly=!1,c.passive=!1,c}return dS(o,u),o.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},o.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},o.prototype.setPassive=function(r){this.passive=r},o.prototype.isReadOnly=function(){return this.readOnly},o.prototype.setReadOnly=function(r){this.eWrapper.classList.toggle("ag-disabled",r),this.eInput.disabled=r,this.readOnly=r},o.prototype.setDisabled=function(r){return this.eWrapper.classList.toggle("ag-disabled",r),u.prototype.setDisabled.call(this,r)},o.prototype.toggle=function(){if(!this.eInput.disabled){var r=this.isSelected(),s=this.getNextValue();this.passive?this.dispatchChange(s,r):this.setValue(s)}},o.prototype.getValue=function(){return this.isSelected()},o.prototype.setValue=function(r,s){return this.refreshSelectedClass(r),this.setSelected(r,s),this},o.prototype.setName=function(r){return this.getInputElement().name=r,this},o.prototype.isSelected=function(){return this.selected},o.prototype.setSelected=function(r,s){this.isSelected()!==r&&(this.previousValue=this.isSelected(),r=this.selected="boolean"==typeof r?r:void 0,this.eInput.checked=r,this.eInput.indeterminate=void 0===r,s||this.dispatchChange(this.selected,this.previousValue))},o.prototype.dispatchChange=function(r,s,l){this.dispatchEvent({type:o.EVENT_CHANGED,selected:r,previousValue:s,event:l});var c=this.getInputElement();this.eventService.dispatchEvent({type:Te.EVENT_CHECKBOX_CHANGED,id:c.id,name:c.name,selected:r,previousValue:s})},o.prototype.onCheckboxClick=function(r){if(!this.passive&&!this.eInput.disabled){var s=this.isSelected(),l=this.selected=r.target.checked;this.refreshSelectedClass(l),this.dispatchChange(l,s,r)}},o.prototype.refreshSelectedClass=function(r){this.eWrapper.classList.toggle("ag-checked",!0===r),this.eWrapper.classList.toggle("ag-indeterminate",null==r)},o}(Ca),cC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),eu=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},uC=function(u){function o(r){var s=u.call(this)||this;s.cbSelectAllVisible=!1,s.processingEventFromCheckbox=!1,s.column=r;var l=r.getColDef();return s.filteredOnly=!!l&&!!l.headerCheckboxSelectionFilteredOnly,s}return cC(o,u),o.prototype.onSpaceKeyPressed=function(r){var s=this.cbSelectAll,l=this.gridOptionsWrapper.getDocument();s.isDisplayed()&&!s.getGui().contains(l.activeElement)&&(r.preventDefault(),s.setValue(!s.getValue()))},o.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},o.prototype.setComp=function(r){this.headerCellCtrl=r,this.cbSelectAll=this.createManagedBean(new Jc),this.cbSelectAll.addCssClass("ag-header-select-all"),ar(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Jc.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},o.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},o.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},o.prototype.getNextCheckboxState=function(r){return(0!==r.selected||0!==r.notSelected)&&(r.selected>0&&r.notSelected>0?null:r.selected>0)},o.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var r=this.getSelectionCount(),s=this.getNextCheckboxState(r);this.cbSelectAll.setValue(s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},o.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var r=this.gridOptionsWrapper.getLocaleTextFunc(),l=this.cbSelectAll.getValue()?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),c=r("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",c+" ("+l+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);this.headerCellCtrl.refreshAriaDescription()},o.prototype.getSelectionCount=function(){var r=this,s=0,l=0,c=function(p){r.gridOptionsWrapper.isGroupSelectsChildren()&&p.group||(p.isSelected()?s++:p.selectable&&l++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(c):this.gridApi.forEachNode(c),{notSelected:l,selected:s}},o.prototype.checkRightRowModelType=function(){var r=this.rowModel.getType();r===Ie.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+r)},o.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},o.prototype.isCheckboxSelection=function(){var r=this.column.getColDef().headerCheckboxSelection;return"function"==typeof r&&(r=r({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!r||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},eu([de("gridApi")],o.prototype,"gridApi",void 0),eu([de("columnApi")],o.prototype,"columnApi",void 0),eu([de("rowModel")],o.prototype,"rowModel",void 0),eu([de("selectionService")],o.prototype,"selectionService",void 0),o}(ft),yR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),bs=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},dC=function(u){function o(r,s){var l=u.call(this,r,s)||this;return l.refreshFunctions=[],l.userHeaderClasses=new Set,l.ariaDescriptionProperties=new Map,l.column=r,l}return yR(o,u),o.prototype.setComp=function(r,s,l){var c=this;u.prototype.setGui.call(this,s),this.comp=r,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new lC(this.getPinned(),this.column,l,r,this)),this.createManagedBean(new xp([this.column],s)),this.createManagedBean(new vd(this.column,s,this.beans)),this.createManagedBean(new fs(s,{shouldStopEventPropagation:function(p){return c.shouldStopEventPropagation(p)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},o.prototype.setupUserComp=function(){var r=this.lookupUserCompDetails();this.setCompDetails(r)},o.prototype.setCompDetails=function(r){this.userCompDetails=r,this.comp.setUserCompDetails(r)},o.prototype.lookupUserCompDetails=function(){var r=this.createParams(),s=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(s,r)},o.prototype.createParams=function(){var r=this,s=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:s.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(c){r.gridApi.showColumnMenuAfterButtonClick(r.column,c)},progressSort:function(c){r.sortController.progressSort(r.column,!!c,"uiColumnSorted")},setSort:function(c,p){r.sortController.setSortForColumn(r.column,c,!!p,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},o.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new uC(this.column)),this.selectAllFeature.setComp(this)},o.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},o.prototype.handleKeyDown=function(r){r.key===ht.SPACE&&this.selectAllFeature.onSpaceKeyPressed(r),r.key===ht.ENTER&&this.onEnterKeyPressed(r)},o.prototype.onEnterKeyPressed=function(r){var s=this.comp.getUserCompInstance();s&&(r.ctrlKey||r.metaKey?this.menuEnabled&&s.showMenu&&(r.preventDefault(),s.showMenu()):this.sortable&&this.sortController.progressSort(this.column,r.shiftKey,"uiColumnSorted"))},o.prototype.isMenuEnabled=function(){return this.menuEnabled},o.prototype.onFocusIn=function(r){if(!this.getGui().contains(r.relatedTarget)){var s=this.getRowIndex();this.focusService.setFocusedHeader(s,this.column)}this.setActiveHeader(!0)},o.prototype.onFocusOut=function(r){this.getGui().contains(r.relatedTarget)||this.setActiveHeader(!1)},o.prototype.setupTooltip=function(){var r=this,l=this.createManagedBean(new fp({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getGui:function(){return r.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return r.column.getColDef().headerTooltip}},this.beans));l.setComp(this.comp),this.refreshFunctions.push(function(){return l.refreshToolTip()})},o.prototype.setupClassesFromColDef=function(){var r=this,s=function(){var l=r.column.getColDef(),p=rm.getHeaderClassesFromColDef(l,r.gridOptionsWrapper,r.column,null),v=r.userHeaderClasses;r.userHeaderClasses=new Set(p),p.forEach(function(F){v.has(F)?v.delete(F):r.comp.addOrRemoveCssClass(F,!0)}),v.forEach(function(F){return r.comp.addOrRemoveCssClass(F,!1)})};this.refreshFunctions.push(s),s()},o.prototype.setDragSource=function(r){var s=this;this.dragSourceElement=r,this.removeDragSource(),r&&(!this.draggable||(this.moveDragSource={type:z.rvo.HeaderCell,eElement:r,defaultIconName:ao.ICON_HIDE,getDragItem:function(){return s.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return s.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return s.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},o.prototype.createDragItem=function(){var r={};return r[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:r}},o.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},o.prototype.onNewColumnsLoaded=function(){var r=this.columnModel.getColDefVersion();r!=this.colDefVersion&&(this.colDefVersion=r,this.refresh())},o.prototype.updateState=function(){var r=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!r.suppressMenu,this.sortable=r.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},o.prototype.addRefreshFunction=function(r){this.refreshFunctions.push(r)},o.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(r){return r()})},o.prototype.refreshHeaderComp=function(){var r=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==r.componentClass&&this.attemptHeaderCompRefresh(r.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(r)},o.prototype.attemptHeaderCompRefresh=function(r){var s=this.comp.getUserCompInstance();return!(!s||!s.refresh)&&s.refresh(r)},o.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},o.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},o.prototype.workOutDraggable=function(){var r=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||r.suppressMovable||r.lockPosition)||!!r.enableRowGroup||!!r.enablePivot},o.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},o.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},o.prototype.onColumnValueChanged=function(){this.checkDisplayName()},o.prototype.setupWidth=function(){var r=this,s=function(){r.comp.setWidth(r.column.getActualWidth()+"px")};this.addManagedListener(this.column,at.EVENT_WIDTH_CHANGED,s),s()},o.prototype.setupMovingCss=function(){var r=this,s=function(){r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.column.isMoving())};this.addManagedListener(this.column,at.EVENT_MOVING_CHANGED,s),s()},o.prototype.setupMenuClass=function(){var r=this,s=function(){r.comp.addOrRemoveCssClass("ag-column-menu-visible",r.column.isMenuVisible())};this.addManagedListener(this.column,at.EVENT_MENU_VISIBLE_CHANGED,s),s()},o.prototype.setupSortableClass=function(){var r=this,s=function(){r.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!r.sortable)};s(),this.addRefreshFunction(s),this.addManagedListener(this.column,at.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},o.prototype.refreshAriaSort=function(){if(this.sortable){var r=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(qo(this.column)),this.setAriaDescriptionProperty("sort",r("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},o.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var r=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",r("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},o.prototype.setAriaDescriptionProperty=function(r,s){null!=s?this.ariaDescriptionProperties.set(r,s):this.ariaDescriptionProperties.delete(r)},o.prototype.refreshAriaDescription=function(){var r=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(r.length?r.join(" "):void 0)},o.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},o.prototype.addColumnHoverListener=function(){var r=this,s=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var l=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",l)}};this.addManagedListener(this.eventService,Te.EVENT_COLUMN_HOVER_CHANGED,s),s()},o.prototype.setupFilterCss=function(){var r=this,s=function(){r.comp.addOrRemoveCssClass("ag-header-cell-filtered",r.column.isFilterActive())};this.addManagedListener(this.column,at.EVENT_FILTER_ACTIVE_CHANGED,s),s()},o.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},o.prototype.addActiveHeaderMouseListeners=function(){var r=this,s=function(l){return r.setActiveHeader("mouseenter"===l.type)};this.addManagedListener(this.getGui(),"mouseenter",s),this.addManagedListener(this.getGui(),"mouseleave",s)},o.prototype.setActiveHeader=function(r){this.comp.addOrRemoveCssClass("ag-header-active",r)},bs([de("columnModel")],o.prototype,"columnModel",void 0),bs([de("columnHoverService")],o.prototype,"columnHoverService",void 0),bs([de("beans")],o.prototype,"beans",void 0),bs([de("sortController")],o.prototype,"sortController",void 0),bs([de("menuFactory")],o.prototype,"menuFactory",void 0),bs([de("dragAndDropService")],o.prototype,"dragAndDropService",void 0),bs([de("gridApi")],o.prototype,"gridApi",void 0),bs([de("columnApi")],o.prototype,"columnApi",void 0),bs([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),bs([Kt],o.prototype,"removeDragSource",null),o}(Za),hC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Tp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},hS=function(u){function o(r,s,l,c){var p=u.call(this)||this;return p.eResize=s,p.comp=r,p.pinned=l,p.columnGroup=c,p}return hC(o,u),o.prototype.postConstruct=function(){var r=this;if(this.columnGroup.isResizable()){var s=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(s),!this.gridOptionsWrapper.isSuppressAutoSize()){var l=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var c=[];r.columnGroup.getDisplayedLeafColumns().forEach(function(v){v.getColDef().suppressAutoSize||c.push(v.getColId())}),c.length>0&&r.columnModel.autoSizeColumns({columns:c,skipHeader:l,stopAtGroup:r.columnGroup,source:"uiColumnResized"}),r.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},o.prototype.onResizeStart=function(r){var s=this;this.calculateInitialValues();var l=null;if(r&&(l=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),l){var c=l.getDisplayedLeafColumns();this.resizeTakeFromCols=c.filter(function(p){return p.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(p){return s.resizeTakeFromStartWidth+=p.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(p){return s.resizeTakeFromRatios.push(p.getActualWidth()/s.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},o.prototype.onResizing=function(r,s){var l=this.normaliseDragChange(s);this.resizeColumns(this.resizeStartWidth+l,r)},o.prototype.resizeLeafColumnsToFit=function(){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),r>this.resizeStartWidth&&this.resizeColumns(r,!0)},o.prototype.resizeColumns=function(r,s){void 0===s&&(s=!0);var l=[];l.push({columns:this.resizeCols,ratios:this.resizeRatios,width:r}),this.resizeTakeFromCols&&l.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(r-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:l,finished:s,source:"uiColumnDragged"}),s&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},o.prototype.calculateInitialValues=function(){var r=this,s=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=s.filter(function(l){return l.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(l){return r.resizeStartWidth+=l.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(l){return r.resizeRatios.push(l.getActualWidth()/r.resizeStartWidth)})},o.prototype.normaliseDragChange=function(r){var s=r;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==Ie.PINNED_LEFT&&(s*=-1):this.pinned===Ie.PINNED_RIGHT&&(s*=-1),s},Tp([de("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),Tp([de("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),Tp([de("columnModel")],o.prototype,"columnModel",void 0),Tp([tt],o.prototype,"postConstruct",null),o}(ft),ws=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),pC=function(u){function o(r,s){var l=u.call(this)||this;return l.removeChildListenersFuncs=[],l.columnGroup=s,l.comp=r,l}return ws(o,u),o.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,br.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},o.prototype.addListenersToChildrenColumns=function(){var r=this;this.removeListenersOnChildrenColumns();var s=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(l){l.addEventListener(at.EVENT_WIDTH_CHANGED,s),l.addEventListener(at.EVENT_VISIBLE_CHANGED,s),r.removeChildListenersFuncs.push(function(){l.removeEventListener(at.EVENT_WIDTH_CHANGED,s),l.removeEventListener(at.EVENT_VISIBLE_CHANGED,s)})})},o.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(r){return r()}),this.removeChildListenersFuncs=[]},o.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},o.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([tt],o.prototype,"postConstruct",null),o}(ft),fS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),tu=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},fC=function(u){function o(r,s){var l=u.call(this,r,s)||this;return l.columnGroup=r,l}return fS(o,u),o.prototype.setComp=function(r,s,l){u.prototype.setGui.call(this,s),this.comp=r,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var c=this.getParentRowCtrl().getPinned(),p=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new xp(p,s)),this.createManagedBean(new vd(this.columnGroup,s,this.beans)),this.createManagedBean(new pC(r,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new hS(r,l,c,this.columnGroup)),this.createManagedBean(new fs(s,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},o.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},o.prototype.setupUserComp=function(){var r=this,s=this.displayName,l={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(B){r.columnModel.setColumnGroupOpened(r.columnGroup.getProvidedColumnGroup(),B,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!s){for(var c=this.columnGroup,p=c.getLeafColumns();c.getParent()&&c.getParent().getLeafColumns().length===p.length;)c=c.getParent();var v=c.getColGroupDef();v&&(s=v.headerName),s||(s=p?this.columnModel.getDisplayNameForColumn(p[0],"header",!0):"")}var F=this.userComponentFactory.getHeaderGroupCompDetails(l);this.comp.setUserCompDetails(F)},o.prototype.setupTooltip=function(){var r=this,s=this.columnGroup.getColGroupDef(),l={getColumn:function(){return r.columnGroup},getGui:function(){return r.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return s&&s.headerTooltip}};s&&(l.getColDef=function(){return s}),this.createManagedBean(new fp(l,this.beans)).setComp(this.comp)},o.prototype.setupExpandable=function(){var r=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(r,Tn.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(r,Tn.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},o.prototype.refreshExpanded=function(){var r=this.columnGroup;this.expandable=r.isExpandable();var s=r.isExpanded();this.comp.setAriaExpanded(this.expandable?s?"true":"false":void 0)},o.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},o.prototype.addClasses=function(){var r=this,s=this.columnGroup.getColGroupDef(),l=rm.getHeaderClassesFromColDef(s,this.gridOptionsWrapper,null,this.columnGroup);l.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),l.forEach(function(c){return r.comp.addOrRemoveCssClass(c,!0)})},o.prototype.setupMovingCss=function(){var r=this,l=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c=function(){return r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.columnGroup.isMoving())};l.forEach(function(p){r.addManagedListener(p,at.EVENT_MOVING_CHANGED,c)}),c()},o.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.columnGroup)}},o.prototype.handleKeyDown=function(r){var s=this.gridOptionsWrapper.getDocument();if(this.expandable&&s.activeElement===this.eGui&&r.key===ht.ENTER){var p=this.columnGroup,v=!p.isExpanded();this.columnModel.setColumnGroupOpened(p.getProvidedColumnGroup(),v,"uiColumnExpanded")}},o.prototype.setDragSource=function(r){var s=this;if(!this.isSuppressMoving()){var l=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c={type:z.rvo.HeaderCell,eElement:r,defaultIconName:ao.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return l.forEach(function(p){return p.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return l.forEach(function(p){return p.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(c,!0),this.addDestroyFunc(function(){return s.dragAndDropService.removeDragSource(c)})}},o.prototype.getDragItemForGroup=function(){var r=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),s={};r.forEach(function(c){return s[c.getId()]=c.isVisible()});var l=[];return this.columnModel.getAllDisplayedColumns().forEach(function(c){r.indexOf(c)>=0&&(l.push(c),fi(r,c))}),r.forEach(function(c){return l.push(c)}),{columns:l,visibleState:s}},o.prototype.isSuppressMoving=function(){var r=!1;return this.columnGroup.getLeafColumns().forEach(function(l){(l.getColDef().suppressMovable||l.getColDef().lockPosition)&&(r=!0)}),r||this.gridOptionsWrapper.isSuppressMovableColumns()},tu([de("beans")],o.prototype,"beans",void 0),tu([de("columnModel")],o.prototype,"columnModel",void 0),tu([de("dragAndDropService")],o.prototype,"dragAndDropService",void 0),tu([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),tu([de("gridApi")],o.prototype,"gridApi",void 0),tu([de("columnApi")],o.prototype,"columnApi",void 0),o}(Za),gS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ep=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},mS=0,Dp=function(u){function o(r,s,l){var c=u.call(this)||this;return c.instanceId=mS++,c.headerCellCtrls={},c.rowIndex=r,c.pinned=s,c.type=l,c}return gS(o,u),o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setComp=function(r){this.comp=r,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Lh()&&this.comp.setTransform("translateZ(0)"),r.setAriaRowIndex(this.rowIndex+1)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Te.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},o.prototype.getHeaderCellCtrl=function(r){return b(this.headerCellCtrls).find(function(s){return s.getColumnGroupChild()===r})},o.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},o.prototype.getType=function(){return this.type},o.prototype.onColumnResized=function(){this.setWidth()},o.prototype.setWidth=function(){var r=this.getWidthForRow();this.comp.setWidth(r+"px")},o.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(Ie.PINNED_RIGHT)+this.columnModel.getContainerWidth(Ie.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},o.prototype.onRowHeightChanged=function(){var c,p,r=this.columnModel.getHeaderRowCount(),s=[],l=0;this.columnModel.hasFloatingFilters()&&(r++,l=1),this.columnModel.isPivotMode()?(c=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),p=this.gridOptionsWrapper.getPivotHeaderHeight()):(c=this.gridOptionsWrapper.getGroupHeaderHeight(),p=this.gridOptionsWrapper.getHeaderHeight());for(var F=r-(1+l),B=0;B<F;B++)s.push(c);for(s.push(p),B=0;B<l;B++)s.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var q=0;for(B=0;B<this.rowIndex;B++)q+=s[B];this.comp.setTop(q+"px"),this.comp.setHeight(s[this.rowIndex]+"px")},o.prototype.getPinned=function(){return this.pinned},o.prototype.getRowIndex=function(){return this.rowIndex},o.prototype.onVirtualColumnsChanged=function(){var r=this,s=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(v){if(!v.isEmptyGroup()){var F=v.getUniqueId(),B=s[F];if(delete s[F],B&&B.getColumnGroupChild()!=v&&(r.destroyBean(B),B=void 0),null==B)switch(r.type){case z.A6C.FLOATING_FILTER:B=r.createBean(new Sp(v,r));break;case z.A6C.COLUMN_GROUP:B=r.createBean(new fC(v,r));break;default:B=r.createBean(new dC(v,r))}r.headerCellCtrls[F]=B}}),E(s,function(v,F){var B=function(v){return!!r.focusService.isHeaderWrapperFocused(v)&&r.columnModel.isDisplayed(v.getColumnGroupChild())}(F);B?r.headerCellCtrls[v]=F:r.destroyBean(F)});var p=te(this.headerCellCtrls);this.comp.setHeaderCtrls(p)},o.prototype.destroyCtrls=function(){var r=this;E(this.headerCellCtrls,function(s,l){r.destroyBean(l)}),this.headerCellCtrls={}},o.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},o.prototype.getColumnsInViewportPrintLayout=function(){var r=this;if(null!=this.pinned)return[];var s=[],l=this.getActualDepth();return[Ie.PINNED_LEFT,null,Ie.PINNED_RIGHT].forEach(function(c){var p=r.columnModel.getVirtualHeaderGroupRow(c,l);s=s.concat(p)}),s},o.prototype.getActualDepth=function(){return this.type==z.A6C.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},o.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},o.prototype.focusHeader=function(r,s){var c=te(this.headerCellCtrls).find(function(p){return p.getColumnGroupChild()==r});return!!c&&(c.focus(s),!0)},Ep([de("columnModel")],o.prototype,"columnModel",void 0),Ep([de("focusService")],o.prototype,"focusService",void 0),Ep([Kt],o.prototype,"destroyCtrls",null),o}(ft),_S=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),hn=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},V=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},hm=function(u){function o(r){var s=u.call(this)||this;return s.groupsRowCtrls=[],s.pinned=r,s}return _S(o,u),o.prototype.setComp=function(r,s){this.comp=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(s),this.addManagedListener(this.eventService,Te.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},o.prototype.setupDragAndDrop=function(r){var s=new tC(this.pinned,r);this.createManagedBean(s)},o.prototype.refresh=function(r){var s=this;void 0===r&&(r=!1);var q,l=new Il,c=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var q=s.columnModel.getHeaderRowCount()-1;s.groupsRowCtrls=s.destroyBeans(s.groupsRowCtrls);for(var se=0;se<q;se++){var fe=s.createBean(new Dp(l.next(),s.pinned,z.A6C.COLUMN_GROUP));s.groupsRowCtrls.push(fe)}})(),q=l.next(),(null==s.columnsRowCtrl||!r||s.columnsRowCtrl.getRowIndex()!==q)&&(s.destroyBean(s.columnsRowCtrl),s.columnsRowCtrl=s.createBean(new Dp(q,s.pinned,z.A6C.COLUMN))),function(){var se=function(){s.filtersRowCtrl=s.destroyBean(s.filtersRowCtrl)};if(s.columnModel.hasFloatingFilters()){var fe=l.next();if(s.filtersRowCtrl){var we=s.filtersRowCtrl.getRowIndex()!==fe;(!r||we)&&se()}s.filtersRowCtrl||(s.filtersRowCtrl=s.createBean(new Dp(fe,s.pinned,z.A6C.FLOATING_FILTER)))}else se()}();var B=this.getAllCtrls();this.comp.setCtrls(B),this.restoreFocusOnHeader(c)},o.prototype.restoreFocusOnHeader=function(r){null==r||r.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:r})},o.prototype.getAllCtrls=function(){var r=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(V(arguments[o]));return u}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&r.push(this.filtersRowCtrl),r},o.prototype.onGridColumnsChanged=function(){this.refresh(!0)},o.prototype.setupCenterWidth=function(){var r=this;null==this.pinned&&this.createManagedBean(new Jg(function(s){return r.comp.setCenterWidth(s+"px")}))},o.prototype.setHorizontalScroll=function(r){this.comp.setContainerTransform("translateX("+r+"px)")},o.prototype.setupPinnedWidth=function(){var r=this;if(null!=this.pinned){var s=this.pinned===Ie.PINNED_LEFT,l=this.pinned===Ie.PINNED_RIGHT,c=function(){var p=s?r.pinnedWidthService.getPinnedLeftWidth():r.pinnedWidthService.getPinnedRightWidth();if(null!=p){var v=0==p,F=r.gridOptionsWrapper.isEnableRtl(),B=r.gridOptionsWrapper.getScrollbarWidth(),q=r.scrollVisibleService.isVerticalScrollShowing()&&(F&&s||!F&&l);r.comp.setPinnedContainerWidth((q?p+B:p)+"px"),r.comp.addOrRemoveCssClass("ag-hidden",v)}};this.addManagedListener(this.eventService,Te.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,Te.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,Te.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,Te.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}},o.prototype.getHeaderCtrlForColumn=function(r){if(r instanceof at)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(r):void 0;if(0!==this.groupsRowCtrls.length)for(var s=0;s<this.groupsRowCtrls.length;s++){var l=this.groupsRowCtrls[s].getHeaderCellCtrl(r);if(l)return l}},o.prototype.getHtmlElementForColumnHeader=function(r){var s=this.getHeaderCtrlForColumn(r);return s?s.getGui():null},o.prototype.getRowType=function(r){var l=this.getAllCtrls()[r];return l?l.getType():void 0},o.prototype.focusHeader=function(r,s,l){var p=this.getAllCtrls()[r];return!!p&&p.focusHeader(s,l)},o.prototype.getRowCount=function(){return this.getAllCtrls().length},hn([de("ctrlsService")],o.prototype,"ctrlsService",void 0),hn([de("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),hn([de("pinnedWidthService")],o.prototype,"pinnedWidthService",void 0),hn([de("columnModel")],o.prototype,"columnModel",void 0),hn([de("focusService")],o.prototype,"focusService",void 0),o}(ft),Ap=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Io=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},bd=function(u){function o(r){var s=u.call(this)||this;return s.headerRowComps={},s.rowCompsList=[],s.pinned=r,s}return Ap(o,u),o.prototype.init=function(){var r=this;this.selectAndSetTemplate();var s={addOrRemoveCssClass:function(c,p){return r.addOrRemoveCssClass(c,p)},setCtrls:function(c){return r.setCtrls(c)},setCenterWidth:function(c){return r.eCenterContainer.style.width=c},setContainerTransform:function(c){return r.eCenterContainer.style.transform=c},setPinnedContainerWidth:function(c){var p=r.getGui();p.style.width=c,p.style.maxWidth=c,p.style.minWidth=c}};this.createManagedBean(new hm(this.pinned)).setComp(s,this.getGui())},o.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==Ie.PINNED_LEFT?o.PINNED_LEFT_TEMPLATE:this.pinned==Ie.PINNED_RIGHT?o.PINNED_RIGHT_TEMPLATE:o.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},o.prototype.destroyRowComps=function(){this.setCtrls([])},o.prototype.destroyRowComp=function(r){this.destroyBean(r),this.eRowContainer.removeChild(r.getGui())},o.prototype.setCtrls=function(r){var c,s=this,l=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],r.forEach(function(v){var F=v.getInstanceId(),B=l[F];delete l[F];var q=B||s.createBean(new Qa(v));s.headerRowComps[F]=q,s.rowCompsList.push(q),function(v){var F=v.getGui();F.parentElement!=s.eRowContainer&&s.eRowContainer.appendChild(F),c&&ma(s.eRowContainer,F,c),c=F}(q)}),te(l).forEach(function(v){return s.destroyRowComp(v)})},o.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',o.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',o.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Io([ct("eCenterContainer")],o.prototype,"eCenterContainer",void 0),Io([tt],o.prototype,"init",null),Io([Kt],o.prototype,"destroyRowComps",null),o}(ln),vS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),el=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c};!function(u){u[u.UP=0]="UP",u[u.DOWN=1]="DOWN",u[u.LEFT=2]="LEFT",u[u.RIGHT=3]="RIGHT"}(z.Y8R||(z.Y8R={}));var qs=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return vS(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.gridBodyCon=s.gridBodyCtrl})},o.prototype.getHeaderRowCount=function(){var r=this.ctrlsService.getHeaderRowContainerCtrl();return r?r.getRowCount():0},o.prototype.getHeaderRowType=function(r){var s=this.ctrlsService.getHeaderRowContainerCtrl();if(s)return s.getRowType(r)},o.prototype.navigateVertically=function(r,s,l){if(s||(s=this.focusService.getFocusedHeader()),!s)return!1;var c=s.headerRowIndex,p=s.column,v=this.getHeaderRowCount(),F=r===z.Y8R.UP,B=F?c-1:c+1,q=null,se=!1;B<0&&(B=0,q=p,se=!0),B>=v&&(B=-1);var fe=this.getHeaderRowType(c);if(!se){if(fe===z.A6C.COLUMN_GROUP){var we=p;q=F?p.getParent():we.getDisplayedChildren()[0]}else fe===z.A6C.FLOATING_FILTER?q=p:(we=p,q=F?we.getParent():we);if(!q)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:B,column:q},allowUserOverride:!0,event:l})},o.prototype.navigateHorizontally=function(r,s,l){void 0===s&&(s=!1);var F,B,c=this.focusService.getFocusedHeader();return(F=r===z.Y8R.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(c,B="Before"):this.headerPositionUtils.findHeader(c,B="After"))?this.focusService.focusHeaderPosition({headerPosition:F,direction:B,fromTab:s,allowUserOverride:!0,event:l}):!s||this.focusNextHeaderRow(c,B,l)},o.prototype.focusNextHeaderRow=function(r,s,l){var c=r.headerRowIndex,p=null;return"Before"===s?c>0&&(p=this.headerPositionUtils.findColAtEdgeForHeaderRow(c-1,"end")):p=this.headerPositionUtils.findColAtEdgeForHeaderRow(c+1,"start"),this.focusService.focusHeaderPosition({headerPosition:p,direction:s,fromTab:!0,allowUserOverride:!0,event:l})},o.prototype.scrollToColumn=function(r,s){if(void 0===s&&(s="After"),!r.getPinned()){var l;if(r instanceof br){var c=r.getDisplayedLeafColumns();l="Before"===s?St(c):c[0]}else l=r;this.gridBodyCon.getScrollFeature().ensureColumnVisible(l),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},el([de("focusService")],o.prototype,"focusService",void 0),el([de("headerPositionUtils")],o.prototype,"headerPositionUtils",void 0),el([de("animationFrameService")],o.prototype,"animationFrameService",void 0),el([de("ctrlsService")],o.prototype,"ctrlsService",void 0),el([tt],o.prototype,"postConstruct",null),el([ut("headerNavigationService")],o)}(ft),pm=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),wd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},kp=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return pm(o,u),o.prototype.setComp=function(r,s,l){this.comp=r,this.eGui=s,this.createManagedBean(new fs(l,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},o.prototype.setupHeaderHeight=function(){var r=this.setHeaderHeight.bind(this);r(),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_PIVOT_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_PIVOT_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_FLOATING_FILTERS_HEIGHT,r),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,r)},o.prototype.setHeaderHeight=function(){var v,F,B,s=this.columnModel,l=this.gridOptionsWrapper,c=0,p=s.getHeaderRowCount();s.hasFloatingFilters()&&(p++,c=1),s.isPivotMode()?(F=l.getPivotGroupHeaderHeight(),B=l.getPivotHeaderHeight()):(F=l.getGroupHeaderHeight(),B=l.getHeaderHeight());var fe=p-(1+c);v=c*l.getFloatingFiltersHeight(),v+=fe*F,this.comp.setHeightAndMinHeight((v+=B)+1+"px")},o.prototype.onPivotModeChanged=function(){var r=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",r),this.comp.addOrRemoveCssClass("ag-pivot-off",!r)},o.prototype.onTabKeyDown=function(r){var s=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(r.shiftKey!==s?z.Y8R.LEFT:z.Y8R.RIGHT,!0,r)||this.focusService.focusNextGridCoreContainer(r.shiftKey))&&r.preventDefault()},o.prototype.handleKeyDown=function(r){var s=null;switch(r.key){case ht.LEFT:s=z.Y8R.LEFT;case ht.RIGHT:I(s)||(s=z.Y8R.RIGHT),this.headerNavigationService.navigateHorizontally(s,!1,r);break;case ht.UP:s=z.Y8R.UP;case ht.DOWN:I(s)||(s=z.Y8R.DOWN),this.headerNavigationService.navigateVertically(s,null,r)&&r.preventDefault();break;default:return}},o.prototype.onFocusOut=function(r){var s=this.gridOptionsWrapper.getDocument(),l=r.relatedTarget;!l&&this.eGui.contains(s.activeElement)||this.eGui.contains(l)||this.focusService.clearFocusedHeader()},wd([de("headerNavigationService")],o.prototype,"headerNavigationService",void 0),wd([de("focusService")],o.prototype,"focusService",void 0),wd([de("columnModel")],o.prototype,"columnModel",void 0),wd([de("ctrlsService")],o.prototype,"ctrlsService",void 0),o}(ft),CR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),yS=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return CR(o,u),o.prototype.postConstruct=function(){var r=this,s={addOrRemoveCssClass:function(p,v){return r.addOrRemoveCssClass(p,v)},setHeightAndMinHeight:function(p){r.getGui().style.height=p,r.getGui().style.minHeight=p}};this.createManagedBean(new kp).setComp(s,this.getGui(),this.getFocusableElement());var c=function(p){r.createManagedBean(p),r.appendChild(p)};c(new bd(Ie.PINNED_LEFT)),c(new bd(null)),c(new bd(Ie.PINNED_RIGHT))},o.TEMPLATE='<div class="ag-header" role="presentation"/>',function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([tt],o.prototype,"postConstruct",null),o}(ln),Rp=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),nu=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Op=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Rp(o,u),o.prototype.addResizeBar=function(r){var s=this,l={dragStartPixels:r.dragStartPixels||0,eElement:r.eResizeBar,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this,r),onDragging:this.onDragging.bind(this,r)};return this.dragService.addDragSource(l,!0),function(){return s.dragService.removeDragSource(l)}},o.prototype.onDragStart=function(r,s){this.dragStartX=s.clientX,this.setResizeIcons();var l=s instanceof MouseEvent&&!0===s.shiftKey;r.onResizeStart(l)},o.prototype.setResizeIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!0),r.disableUserSelect(!0)},o.prototype.onDragStop=function(r,s){r.onResizeEnd(this.resizeAmount),this.resetIcons()},o.prototype.resetIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!1),r.disableUserSelect(!1)},o.prototype.onDragging=function(r,s){this.resizeAmount=s.clientX-this.dragStartX,r.onResizing(this.resizeAmount)},nu([de("dragService")],o.prototype,"dragService",void 0),nu([de("ctrlsService")],o.prototype,"ctrlsService",void 0),nu([ut("horizontalResizeService")],o)}(ft),fm=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ql=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},CS=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return fm(o,u),o.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},o.prototype.showMenuAfterMouseEvent=function(r,s){var l=this;this.showPopup(r,function(c){l.popupService.positionPopupUnderMouseEvent({column:r,type:"columnMenu",mouseEvent:s,ePopup:c})},s.target)},o.prototype.showMenuAfterButtonClick=function(r,s,l){var c=this;this.showPopup(r,function(p){c.popupService.positionPopupUnderComponent({type:l,eventSource:s,ePopup:p,keepWithinBounds:!0,column:r})},s)},o.prototype.showPopup=function(r,s,l){var c=this,p=this.filterManager.getOrCreateFilterWrapper(r,"COLUMN_MENU");if(!p)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var v=document.createElement("div");ar(v,"presentation"),v.classList.add("ag-menu"),this.tabListener=this.addManagedListener(v,"keydown",function(we){return c.trapFocusWithin(we,v)}),p.guiPromise.then(function(we){return v.appendChild(we)});var F,B=l||this.ctrlsService.getGridBodyCtrl().getGui(),se=this.gridOptionsWrapper.getLocaleTextFunc(),fe=this.popupService.addPopup({modal:!0,eChild:v,closeOnEsc:!0,closedCallback:function(we){r.setMenuVisible(!1,"contextMenu");var xe=we instanceof KeyboardEvent;if(c.tabListener&&(c.tabListener=c.tabListener()),xe&&l&&Yo(l)){var Pe=c.focusService.findTabbableParent(l);Pe&&Pe.focus()}},positionCallback:function(){return s(v)},anchorToElement:B,ariaLabel:se("ariaLabelColumnMenu","Column Menu")});fe&&(this.hidePopup=F=fe.hideFunc),p.filterPromise.then(function(we){s(v),we.afterGuiAttached&&we.afterGuiAttached({container:"columnMenu",hidePopup:F})}),r.setMenuVisible(!0,"contextMenu")},o.prototype.trapFocusWithin=function(r,s){r.key!==ht.TAB||r.defaultPrevented||this.focusService.findNextFocusableElement(s,!1,r.shiftKey)||(r.preventDefault(),this.focusService.focusInto(s,r.shiftKey))},o.prototype.isMenuEnabled=function(r){return r.isFilterAllowed()},ql([de("filterManager")],o.prototype,"filterManager",void 0),ql([de("popupService")],o.prototype,"popupService",void 0),ql([de("focusService")],o.prototype,"focusService",void 0),ql([de("ctrlsService")],o.prototype,"ctrlsService",void 0),ql([ut("menuFactory")],o)}(ft),bS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Pp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},_C=(function(u){function o(r){var s=u.call(this,o.getTemplate(r.cssClass))||this;return s.items=[],s.tabbedItemScrollMap=new Map,s.params=r,r.items&&r.items.forEach(function(l){return s.addItem(l)}),s}bS(o,u),o.prototype.postConstruct=function(){this.createManagedBean(new fs(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},o.getTemplate=function(r){return'<div class="ag-tabs '+r+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(r?r+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(r?r+"-body":"")+'"></div>\n        </div>'},o.prototype.handleKeyDown=function(r){var s=this.gridOptionsWrapper.getDocument();switch(r.key){case ht.RIGHT:case ht.LEFT:if(!this.eHeader.contains(s.activeElement))return;var l=this.items.indexOf(this.activeItem),c=r.key===ht.RIGHT?Math.min(l+1,this.items.length-1):Math.max(l-1,0);if(l===c)return;r.preventDefault();var p=this.items[c];this.showItemWrapper(p),p.eHeaderButton.focus();break;case ht.UP:case ht.DOWN:r.stopPropagation()}},o.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented){var s=this,l=s.focusService,c=s.eHeader,p=s.eBody,v=s.activeItem,B=this.gridOptionsWrapper.getDocument().activeElement;if(r.preventDefault(),c.contains(B))l.focusInto(p,r.shiftKey);else if(l.isFocusUnderManagedComponent(p))v.eHeaderButton.focus();else{var q=l.findNextFocusableElement(p,!1,r.shiftKey);q?q.focus():v.eHeaderButton.focus()}}},o.prototype.setAfterAttachedParams=function(r){this.afterAttachedParams=r},o.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},o.prototype.addItem=function(r){var s=document.createElement("span");ar(s,"tab"),s.setAttribute("tabIndex","-1"),s.appendChild(r.title),s.classList.add("ag-tab"),this.eHeader.appendChild(s),Rl(s,r.titleLabel);var l={tabbedItem:r,eHeaderButton:s};this.items.push(l),s.addEventListener("click",this.showItemWrapper.bind(this,l))},o.prototype.showItem=function(r){var s=this.items.find(function(l){return l.tabbedItem===r});s&&this.showItemWrapper(s)},o.prototype.showItemWrapper=function(r){var s=this,l=r.tabbedItem,c=r.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:l}),this.activeItem!==r?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),bi(this.eBody),l.bodyPromise.then(function(p){s.eBody.appendChild(p);var v=!s.focusService.isKeyboardMode();if(s.focusService.focusInto(s.eBody,!1,v),l.afterAttachedCallback&&l.afterAttachedCallback(s.afterAttachedParams),s.params.keepScrollPosition){var F=l.getScrollableContainer&&l.getScrollableContainer()||p;s.lastScrollListener=s.addManagedListener(F,"scroll",function(){s.tabbedItemScrollMap.set(l.name,F.scrollTop)});var B=s.tabbedItemScrollMap.get(l.name);void 0!==B&&setTimeout(function(){F.scrollTop=B},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),c.classList.add("ag-tab-selected"),this.activeItem=r):nn(this.params.onActiveItemClicked)},Pp([de("focusService")],o.prototype,"focusService",void 0),Pp([ct("eHeader")],o.prototype,"eHeader",void 0),Pp([ct("eBody")],o.prototype,"eBody",void 0),Pp([tt],o.prototype,"postConstruct",null)}(ln),function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}()),SS=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.polyfillFunctions=[],r}return _C(o,u),o.prototype.observeResize=function(r,s){var fe,l=this,p=this.gridOptionsWrapper.getDocument().defaultView||window,v=$e(s,50),q=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return p.ResizeObserver&&!q?((fe=new p.ResizeObserver(v)).observe(r),function(){return fe.disconnect()}):function(){var fe=Oc(r),we=Dl(r),xe=!0,Pe=function(){if(xe){var Be=Oc(r),We=Dl(r);(Be!==fe||We!==we)&&(fe=Be,we=We,s()),l.doNextPolyfillTurn(Pe)}};return Pe(),function(){return xe=!1}}()},o.prototype.doNextPolyfillTurn=function(r){this.polyfillFunctions.push(r),this.schedulePolyfill()},o.prototype.schedulePolyfill=function(){var r=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var l=r.polyfillFunctions;r.polyfillScheduled=!1,r.polyfillFunctions=[],l.forEach(function(c){return c()})},50))},o=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut("resizeObserverService")],o),o}(ft),yC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ip=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},CC=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.createTasksP1={list:[],sorted:!1},r.createTasksP2={list:[],sorted:!1},r.destroyTasks=[],r.ticking=!1,r.scrollGoingDown=!0,r.lastScrollTop=0,r.taskCount=0,r.cancelledTasks=new Set,r}return yC(o,u),o.prototype.setScrollTop=function(r){this.scrollGoingDown=r>this.lastScrollTop,this.lastScrollTop=r},o.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},o.prototype.isOn=function(){return this.useAnimationFrame},o.prototype.verifyAnimationFrameOn=function(r){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+r+" called but animation frames are off")},o.prototype.createTask=function(r,s,l){this.verifyAnimationFrameOn(l);var c={task:r,index:s,createOrder:++this.taskCount};this.addTaskToList(this[l],c),this.schedule()},o.prototype.cancelTask=function(r){this.cancelledTasks.add(r)},o.prototype.addTaskToList=function(r,s){r.list.push(s),r.sorted=!1},o.prototype.sortTaskList=function(r){if(!r.sorted){var s=this.scrollGoingDown?1:-1;r.list.sort(function(l,c){return l.index!==c.index?s*(c.index-l.index):c.createOrder-l.createOrder}),r.sorted=!0}},o.prototype.addDestroyTask=function(r){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(r),this.schedule()},o.prototype.executeFrame=function(r){this.verifyAnimationFrameOn("executeFrame");for(var s=this.createTasksP1,l=s.list,c=this.createTasksP2,p=c.list,v=this.destroyTasks,F=(new Date).getTime(),B=(new Date).getTime()-F,q=r<=0,se=this.ctrlsService.getGridBodyCtrl();q||B<r;){if(!se.getScrollFeature().executeAnimationFrameScroll()){var we=void 0;if(l.length)this.sortTaskList(s),we=l.pop().task;else if(p.length)this.sortTaskList(c),we=p.pop().task;else{if(!v.length){this.cancelledTasks.clear();break}we=v.pop()}this.cancelledTasks.has(we)||we()}B=(new Date).getTime()-F}l.length||p.length||v.length?this.requestFrame():this.stopTicking()},o.prototype.stopTicking=function(){this.ticking=!1},o.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},o.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},o.prototype.requestFrame=function(){var r=this.executeFrame.bind(this,60),l=this.gridOptionsWrapper.getDocument().defaultView||window;l.requestAnimationFrame?l.requestAnimationFrame(r):l.webkitRequestAnimationFrame?l.webkitRequestAnimationFrame(r):l.setTimeout(r,0)},o.prototype.isQueueEmpty=function(){return!this.ticking},o.prototype.debounce=function(r){var s=this,l=!1;return function(){s.isOn()?l||(l=!0,s.addDestroyTask(function(){l=!1,r()})):s.getFrameworkOverrides().setTimeout(r,0)}},Ip([de("ctrlsService")],o.prototype,"ctrlsService",void 0),Ip([tt],o.prototype,"init",null),Ip([ut("animationFrameService")],o)}(ft),gm=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),TS=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},DS=function(u){function o(r,s){var l=u.call(this)||this;return l.element=r,l.dragStartPosition={x:0,y:0},l.position={x:0,y:0},l.lastSize={width:-1,height:-1},l.positioned=!1,l.resizersAdded=!1,l.resizeListeners=[],l.boundaryEl=null,l.isResizing=!1,l.isMoving=!1,l.resizable={},l.movable=!1,l.currentResizer=null,l.config=Object.assign({},{popup:!1},s),l}return gm(o,u),o.prototype.center=function(){var r=this.offsetParent,s=r.clientHeight,c=r.clientWidth/2-this.getWidth()/2,p=s/2-this.getHeight()/2;this.offsetElement(c,p)},o.prototype.initialisePosition=function(){var r=this.config,s=r.centered,l=r.forcePopupParentAsOffsetParent,c=r.minWidth,p=r.width,v=r.minHeight,F=r.height,B=r.x,q=r.y;this.offsetParent||this.setOffsetParent();var se=0,fe=0,we=!!this.element.offsetParent;if(we){var xe=this.findBoundaryElement(),Pe=window.getComputedStyle(xe);if(null!=Pe.minWidth){var Be=xe.offsetWidth-this.element.offsetWidth;fe=parseInt(Pe.minWidth,10)-Be}if(null!=Pe.minHeight){var We=xe.offsetHeight-this.element.offsetHeight;se=parseInt(Pe.minHeight,10)-We}}if(this.minHeight=v||se,this.minWidth=c||fe,p&&this.setWidth(p),F&&this.setHeight(F),(!p||!F)&&this.refreshSize(),s)this.center();else if(B||q)this.offsetElement(B,q);else if(we&&l&&this.boundaryEl){var Ue=parseFloat(this.boundaryEl.style.top),Ze=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Ze)?0:Ze,isNaN(Ue)?0:Ue)}this.positioned=!!this.offsetParent},o.prototype.isPositioned=function(){return this.positioned},o.prototype.getPosition=function(){return this.position},o.prototype.setMovable=function(r,s){if(this.config.popup&&r!==this.movable){this.movable=r;var l=this.moveElementDragListener||{eElement:s,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};r?(this.dragService.addDragSource(l),this.moveElementDragListener=l):(this.dragService.removeDragSource(l),this.moveElementDragListener=void 0)}},o.prototype.setResizable=function(r){var s=this;if(this.clearResizeListeners(),r?this.addResizers():this.removeResizers(),"boolean"==typeof r){if(!1===r)return;r={topLeft:r,top:r,topRight:r,right:r,bottomRight:r,bottom:r,bottomLeft:r,left:r}}Object.keys(r).forEach(function(l){var p=!!r[l],v=s.getResizerElement(l),F={dragStartPixels:0,eElement:v,onDragStart:function(B){return s.onResizeStart(B,l)},onDragging:s.onResize.bind(s),onDragStop:function(B){return s.onResizeEnd(B,l)}};(!!s.resizable[l]!==p||!s.isAlive()&&!p)&&(p?(s.dragService.addDragSource(F),s.resizeListeners.push(F),v.style.pointerEvents="all"):v.style.pointerEvents="none")})},o.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},o.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var r=this.lastSize,s=r.height,l=r.width;-1!==l&&(this.element.style.width=l+"px"),-1!==s&&(this.element.style.height=s+"px")},o.prototype.getHeight=function(){return this.element.offsetHeight},o.prototype.setHeight=function(r){var s=this.config.popup,l=this.element,c=!1;if("string"==typeof r&&-1!==r.indexOf("%"))Eo(l,r),r=Hh(l),c=!0;else if(this.positioned){var p=this.element.getBoundingClientRect(),v=this.offsetParent.getBoundingClientRect();r=Math.max(this.minHeight,r);var F=this.offsetParent.clientHeight,B=s?this.position.y:p.top;F&&r+B>F+(s?0:v.top)&&(r=F-B)}this.getHeight()!==r&&(c?(l.style.maxHeight="unset",l.style.minHeight="unset"):s?Eo(l,r):(l.style.height=r+"px",l.style.flex="0 0 auto",this.lastSize.height="number"==typeof r?r:parseFloat(r)))},o.prototype.getWidth=function(){return this.element.offsetWidth},o.prototype.setWidth=function(r){var s=this.element,l=this.config.popup,c=!1;if("string"==typeof r&&-1!==r.indexOf("%"))Pr(s,r),r=en(s),c=!0;else if(this.positioned){r=Math.max(this.minWidth,r);var p=this.offsetParent.clientWidth,v=l?this.position.x:this.element.getBoundingClientRect().left;p&&r+v>p&&(r=p-v)}this.getWidth()!==r&&(c?(s.style.maxWidth="unset",s.style.minWidth="unset"):this.config.popup?Pr(s,r):(s.style.width=r+"px",s.style.flex=" unset",this.lastSize.width="number"==typeof r?r:parseFloat(r)))},o.prototype.offsetElement=function(r,s){void 0===r&&(r=0),void 0===s&&(s=0);var l=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:l,x:r,y:s,keepWithinBounds:!0}),this.setPosition(parseFloat(l.style.left),parseFloat(l.style.top))},o.prototype.setPosition=function(r,s){this.position.x=r,this.position.y=s},o.prototype.updateDragStartPosition=function(r,s){this.dragStartPosition={x:r,y:s}},o.prototype.calculateMouseMovement=function(r){var s=r.e,c=r.isTop,v=r.topBuffer,F=s.clientX-this.dragStartPosition.x,B=s.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(s,!!r.isLeft,!!r.anywhereWithin,F)?0:F,movementY:this.shouldSkipY(s,!!c,v,B)?0:B}},o.prototype.shouldSkipX=function(r,s,l,c){var p=this.element.getBoundingClientRect(),v=this.offsetParent.getBoundingClientRect(),F=this.boundaryEl.getBoundingClientRect(),B=this.config.popup?this.position.x:p.left,q=B<=0&&v.left>=r.clientX||v.right<=r.clientX&&v.right<=F.right;return!!q||(s?c<0&&r.clientX>B+v.left||c>0&&r.clientX<B+v.left:l?c<0&&r.clientX>F.right||c>0&&r.clientX<B+v.left:c<0&&r.clientX>F.right||c>0&&r.clientX<F.right)},o.prototype.shouldSkipY=function(r,s,l,c){void 0===l&&(l=0);var p=this.element.getBoundingClientRect(),v=this.offsetParent.getBoundingClientRect(),F=this.boundaryEl.getBoundingClientRect(),B=this.config.popup?this.position.y:p.top,q=B<=0&&v.top>=r.clientY||v.bottom<=r.clientY&&v.bottom<=F.bottom;return!!q||(s?c<0&&r.clientY>B+v.top+l||c>0&&r.clientY<B+v.top:c<0&&r.clientY>F.bottom||c>0&&r.clientY<F.bottom)},o.prototype.createResizeMap=function(){var r=this.element;this.resizerMap={topLeft:{element:r.querySelector("[ref=eTopLeftResizer]")},top:{element:r.querySelector("[ref=eTopResizer]")},topRight:{element:r.querySelector("[ref=eTopRightResizer]")},right:{element:r.querySelector("[ref=eRightResizer]")},bottomRight:{element:r.querySelector("[ref=eBottomRightResizer]")},bottom:{element:r.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:r.querySelector("[ref=eBottomLeftResizer]")},left:{element:r.querySelector("[ref=eLeftResizer]")}}},o.prototype.addResizers=function(){if(!this.resizersAdded){var r=this.element;if(r){var l=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;r.appendChild(l.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},o.prototype.removeResizers=function(){this.resizerMap=void 0;var r=this.element.querySelector(".ag-resizer-wrapper");r&&this.element.removeChild(r),this.resizersAdded=!1},o.prototype.getResizerElement=function(r){return this.resizerMap[r].element},o.prototype.onResizeStart=function(r,s){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!s.match(/top/i),isRight:!!s.match(/right/i),isBottom:!!s.match(/bottom/i),isLeft:!!s.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[s].element.classList.add("ag-active");var l=this.config;!l.popup&&!l.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(r.clientX,r.clientY)},o.prototype.getSiblings=function(){var s=this.element.parentElement;return s?Array.prototype.slice.call(s.children).filter(function(l){return!l.classList.contains("ag-hidden")}):null},o.prototype.getMinSizeOfSiblings=function(){for(var r=this.getSiblings()||[],s=0,l=0,c=0;c<r.length;c++){var p=r[c];if(p!==this.element){var F=this.minHeight||0,B=this.minWidth||0;if(p.style.flex&&"0 0 auto"!==p.style.flex){var q=window.getComputedStyle(p);q.minHeight&&(F=parseInt(q.minHeight,10)),q.minWidth&&(B=parseInt(q.minWidth,10))}else F=p.offsetHeight,B=p.offsetWidth;s+=F,l+=B}}return{height:s,width:l}},o.prototype.applySizeToSiblings=function(r){var s=null,l=this.getSiblings();if(l){for(var c=0;c<l.length;c++){var p=l[c];p!==s&&(r?p.style.height=p.offsetHeight+"px":p.style.width=p.offsetWidth+"px",p.style.flex="0 0 auto",p===this.element&&(s=l[c+1]))}s&&(s.style.removeProperty("height"),s.style.removeProperty("min-height"),s.style.removeProperty("max-height"),s.style.flex="1 1 auto")}},o.prototype.onResize=function(r){if(this.isResizing&&this.currentResizer){var s=this.config,l=s.popup,c=s.forcePopupParentAsOffsetParent,p=this.currentResizer,v=p.isTop,q=p.isLeft,se=p.isRight||q,fe=p.isBottom||v,we=this.calculateMouseMovement({e:r,isLeft:q,isTop:v}),xe=we.movementX,Pe=we.movementY,Be=this.position.x,We=this.position.y,Ue=0,Ze=0;if(se&&xe){var gt=q?-1:1,Ut=this.getWidth(),Sn=Ut+xe*gt,An=!1;q&&(Be+(Ue=Ut-Sn)<=0||Sn<=this.minWidth)&&(An=!0,Ue=0),An||this.setWidth(Sn)}if(fe&&Pe){gt=v?-1:1;var Yt=this.getHeight(),Mn=Yt+Pe*gt,Nn=!1;v?(We+(Ze=Yt-Mn)<=0||Mn<=this.minHeight)&&(Nn=!0,Ze=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Yt<Mn&&this.getMinSizeOfSiblings().height+Mn>this.element.parentElement.offsetHeight&&(Nn=!0),Nn||this.setHeight(Mn)}this.updateDragStartPosition(r.clientX,r.clientY),((l||c)&&Ue||Ze)&&this.offsetElement(Be+Ue,We+Ze)}},o.prototype.onResizeEnd=function(r,s){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var l={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[s].element.classList.remove("ag-active"),this.dispatchEvent(l)},o.prototype.refreshSize=function(){var r=this.element;this.config.popup&&(this.config.width||this.setWidth(r.offsetWidth),this.config.height||this.setHeight(r.offsetHeight))},o.prototype.onMoveStart=function(r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(r.clientX,r.clientY)},o.prototype.onMove=function(r){if(this.isMoving){var p,s=this.position,l=s.x,c=s.y;this.config.calculateTopBuffer&&(p=this.config.calculateTopBuffer());var v=this.calculateMouseMovement({e:r,isTop:!0,anywhereWithin:!0,topBuffer:p});this.offsetElement(l+v.movementX,c+v.movementY),this.updateDragStartPosition(r.clientX,r.clientY)}},o.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},o.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},o.prototype.findBoundaryElement=function(){for(var r=this.element;r;){if("static"!==window.getComputedStyle(r).position)return r;r=r.parentElement}return this.element},o.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var r=this.resizeListeners.pop();this.dragService.removeDragSource(r)}},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},TS([de("popupService")],o.prototype,"popupService",void 0),TS([de("dragService")],o.prototype,"dragService",void 0),o}(ft),xR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Mp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},AS=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return xR(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.centerRowContainerCtrl=s.centerRowContainerCtrl})},o.prototype.getPreferredWidthForColumn=function(r,s){var l=this.getHeaderCellForColumn(r);if(!l)return-1;var c=this.rowRenderer.getAllCellsForColumn(r);return s||c.push(l),this.addElementsToContainerAndGetWidth(c)},o.prototype.getPreferredWidthForColumnGroup=function(r){var s=this.getHeaderCellForColumn(r);return s?this.addElementsToContainerAndGetWidth([s]):-1},o.prototype.addElementsToContainerAndGetWidth=function(r){var s=this,l=document.createElement("span");l.style.position="fixed";var c=this.centerRowContainerCtrl.getContainerElement();c.appendChild(l),r.forEach(function(F){return s.cloneItemIntoDummy(F,l)});var p=l.offsetWidth;return c.removeChild(l),p+this.gridOptionsWrapper.getAutoSizePadding()},o.prototype.getHeaderCellForColumn=function(r){var s=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(l){var c=l.getHtmlElementForColumnHeader(r);null!=c&&(s=c)}),s},o.prototype.cloneItemIntoDummy=function(r,s){var l=r.cloneNode(!0);l.style.width="",l.style.position="static",l.style.left="";var c=document.createElement("div"),p=c.classList;["ag-header-cell","ag-header-group-cell"].some(function(fe){return l.classList.contains(fe)})?(p.add("ag-header","ag-header-row"),c.style.position="static"):p.add("ag-row");for(var F=r.parentElement;F;){if(["ag-header-row","ag-row"].some(function(fe){return F.classList.contains(fe)})){for(var q=0;q<F.classList.length;q++){var se=F.classList[q];"ag-row-position-absolute"!=se&&p.add(se)}break}F=F.parentElement}c.appendChild(l),s.appendChild(c)},Mp([de("rowRenderer")],o.prototype,"rowRenderer",void 0),Mp([de("ctrlsService")],o.prototype,"ctrlsService",void 0),Mp([de("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),Mp([tt],o.prototype,"postConstruct",null),Mp([ut("autoWidthCalculator")],o)}(ft),SR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xs=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},TR=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},xa=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(TR(arguments[o]));return u},Np=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.destroyFuncsForColumnListeners=[],r.rowCtrlsByRowIndex={},r.zombieRowCtrls={},r.allRowCtrls=[],r.topRowCtrls=[],r.bottomRowCtrls=[],r.refreshInProgress=!1,r}return SR(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.initialise()})},o.prototype.initialise=function(){this.addManagedListener(this.eventService,Te.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},o.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var r=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new kS(null!=r?r:3)}},o.prototype.getRowCtrls=function(){return this.allRowCtrls},o.prototype.updateAllRowCtrls=function(){var r=te(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&r.sort(function(c,p){return c.getRowNode().rowIndex-p.getRowNode.rowIndex});var s=te(this.zombieRowCtrls),l=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=xa(r,s,l)},o.prototype.registerCellEventListeners=function(){var r=this;this.addManagedListener(this.eventService,Te.EVENT_CELL_FOCUSED,function(l){r.getAllCellCtrls().forEach(function(c){return c.onCellFocused(l)}),r.getFullWidthRowCtrls().forEach(function(c){c.onFullWidthRowFocused(l)})}),this.addManagedListener(this.eventService,Te.EVENT_FLASH_CELLS,function(l){r.getAllCellCtrls().forEach(function(c){return c.onFlashCells(l)})}),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_HOVER_CHANGED,function(){r.getAllCellCtrls().forEach(function(l){return l.onColumnHover()})}),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){r.getAllCellCtrls().forEach(function(l){return l.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){r.printLayout&&r.getAllCellCtrls().forEach(function(l){return l.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,Te.EVENT_RANGE_SELECTION_CHANGED,function(){r.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_MOVED,function(){r.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PINNED,function(){r.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_VISIBLE,function(){r.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Te.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},o.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(r){return r()}),this.destroyFuncsForColumnListeners.length=0},o.prototype.refreshListenersToColumnsForCellComps=function(){var r=this;this.removeGridColumnListeners();var s=this.columnModel.getAllGridColumns();!s||s.forEach(function(l){var c=function(q){r.getAllCellCtrls().forEach(function(se){se.getColumn()===l&&q(se)})},p=function(){c(function(q){return q.onLeftChanged()})},v=function(){c(function(q){return q.onWidthChanged()})},F=function(){c(function(q){return q.onFirstRightPinnedChanged()})},B=function(){c(function(q){return q.onLastLeftPinnedChanged()})};l.addEventListener(at.EVENT_LEFT_CHANGED,p),l.addEventListener(at.EVENT_WIDTH_CHANGED,v),l.addEventListener(at.EVENT_FIRST_RIGHT_PINNED_CHANGED,F),l.addEventListener(at.EVENT_LAST_LEFT_PINNED_CHANGED,B),r.destroyFuncsForColumnListeners.push(function(){l.removeEventListener(at.EVENT_LEFT_CHANGED,p),l.removeEventListener(at.EVENT_WIDTH_CHANGED,v),l.removeEventListener(at.EVENT_FIRST_RIGHT_PINNED_CHANGED,F),l.removeEventListener(at.EVENT_LAST_LEFT_PINNED_CHANGED,B)})})},o.prototype.onDomLayoutChanged=function(){var r=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,s=r||this.gridOptionsWrapper.isEmbedFullWidthRows(),l=s!==this.embedFullWidthRows||this.printLayout!==r;this.printLayout=r,this.embedFullWidthRows=s,l&&this.redrawAfterModelUpdate()},o.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},o.prototype.onPageLoaded=function(r){this.redrawAfterModelUpdate({recycleRows:r.keepRenderedRows,animate:r.animate,newData:r.newData,newPage:r.newPage,onlyBody:!0})},o.prototype.getAllCellsForColumn=function(r){var s=[];return this.getAllRowCtrls().forEach(function(l){var c=l.getCellElement(r);c&&s.push(c)}),s},o.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},o.prototype.getTopRowCtrls=function(){return this.topRowCtrls},o.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},o.prototype.refreshFloatingRows=function(r,s){var l=this;r.forEach(function(c){c.destroyFirstPass(),c.destroySecondPass()}),r.length=0,s&&s.forEach(function(c){var p=new Wl(c,l.beans,!1,!1,l.printLayout);r.push(p)})},o.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},o.prototype.getRenderedIndexesForRowNodes=function(r){var s=[];return O(r)||E(this.rowCtrlsByRowIndex,function(l,c){var p=c.getRowNode();r.indexOf(p)>=0&&s.push(l)}),s},o.prototype.redrawRows=function(r){var s=null!=r&&r.length>0;if(s){var l=this.getRenderedIndexesForRowNodes(r);this.removeRowCtrls(l)}this.redrawAfterModelUpdate({recycleRows:s})},o.prototype.getCellToRestoreFocusToAfterRefresh=function(r){var s=r.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==s)return null;var c=this.gridOptionsWrapper.getDocument().activeElement,p=this.gridOptionsWrapper.getDomData(c,Xa.DOM_DATA_KEY_CELL_CTRL),v=this.gridOptionsWrapper.getDomData(c,Wl.DOM_DATA_KEY_ROW_CTRL);return p||v?s:null},o.prototype.redrawAfterModelUpdate=function(r){void 0===r&&(r={}),this.getLockOnRefresh();var s=this.getCellToRestoreFocusToAfterRefresh(r);this.updateContainerHeights(),this.scrollToTopIfNewData(r);var l=!this.printLayout&&!!r.recycleRows,c=r.animate&&this.gridOptionsWrapper.isAnimateRows(),p=l?this.recycleRows():null;l||this.removeAllRowComps();var F=function(){if(null==s||null==p)return!1;var B=!1;return E(p,function(q,se){var fe=se.getRowNode();fe.rowIndex==s.rowIndex&&fe.rowPinned==s.rowPinned&&(B=!0)}),B}();this.redraw(p,c),r.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),F||this.restoreFocusedCell(s),this.releaseLockOnRefresh()},o.prototype.scrollToTopIfNewData=function(r){var s=r.newData||r.newPage,l=this.gridOptionsWrapper.isSuppressScrollOnNewData();s&&!l&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},o.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var r=this.paginationProxy.getCurrentPageHeight();0===r&&(r=1),this.rowContainerHeightService.setModelHeight(r)}},o.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},o.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},o.prototype.isRefreshInProgress=function(){return this.refreshInProgress},o.prototype.restoreFocusedCell=function(r){r&&this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0)},o.prototype.stopEditing=function(r){void 0===r&&(r=!1),this.getAllRowCtrls().forEach(function(s){s.stopEditing(r)})},o.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(r){return r.onNewColumnsLoaded()})},o.prototype.getAllCellCtrls=function(){var r=[];return this.getAllRowCtrls().forEach(function(s){return r=r.concat(s.getAllCellCtrls())}),r},o.prototype.getAllRowCtrls=function(){var r=this,s=xa(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(l){return s.push(r.rowCtrlsByRowIndex[l])}),s},o.prototype.addRenderedRowListener=function(r,s,l){var c=this.rowCtrlsByRowIndex[s];c&&c.addEventListener(r,l)},o.prototype.flashCells=function(r){void 0===r&&(r={});var s=r.flashDelay,l=r.fadeDelay;this.getCellCtrls(r.rowNodes,r.columns).forEach(function(c){return c.flashCell({flashDelay:s,fadeDelay:l})})},o.prototype.refreshCells=function(r){void 0===r&&(r={});var s={forceRefresh:r.force,newData:!1,suppressFlash:r.suppressFlash};this.getCellCtrls(r.rowNodes,r.columns).forEach(function(l){if(l.refreshShouldDestroy()){var c=l.getRowCtrl();c&&c.refreshCell(l)}else l.refreshCell(s)}),this.getFullWidthRowCtrls(r.rowNodes).forEach(function(l){l.refreshFullWidth()})},o.prototype.getCellRendererInstances=function(r){return this.getCellCtrls(r.rowNodes,r.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return null!=l})},o.prototype.getCellEditorInstances=function(r){var s=[];return this.getCellCtrls(r.rowNodes,r.columns).forEach(function(l){var c=l.getCellEditor();c&&s.push(c)}),s},o.prototype.getEditingCells=function(){var r=[];return this.getAllCellCtrls().forEach(function(s){if(s.isEditing()){var l=s.getCellPosition();r.push(l)}}),r},o.prototype.mapRowNodes=function(r){if(r){var s={top:{},bottom:{},normal:{}};return r.forEach(function(l){var c=l.id;l.rowPinned===Ie.PINNED_TOP?s.top[c]=l:l.rowPinned===Ie.PINNED_BOTTOM?s.bottom[c]=l:s.normal[c]=l}),s}},o.prototype.isRowInMap=function(r,s){var l=r.id,c=r.rowPinned;return c===Ie.PINNED_BOTTOM?null!=s.bottom[l]:c===Ie.PINNED_TOP?null!=s.top[l]:null!=s.normal[l]},o.prototype.getCellCtrls=function(r,s){var v,l=this,c=this.mapRowNodes(r),p=[];I(s)&&(v={},s.forEach(function(B){var q=l.columnModel.getGridColumn(B);I(q)&&(v[q.getId()]=!0)}));var F=function(B){var q=B.getRowNode();null!=c&&!l.isRowInMap(q,c)||B.getAllCellCtrls().forEach(function(se){var fe=se.getColumn().getId();v&&!v[fe]||p.push(se)})};return E(this.rowCtrlsByRowIndex,function(B,q){F(q)}),this.topRowCtrls&&this.topRowCtrls.forEach(F),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(F),p},o.prototype.destroy=function(){this.removeAllRowComps(),u.prototype.destroy.call(this)},o.prototype.removeAllRowComps=function(){var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},o.prototype.recycleRows=function(){var r=[];E(this.rowCtrlsByRowIndex,function(l,c){null==c.getRowNode().id&&r.push(l)}),this.removeRowCtrls(r);var s={};return E(this.rowCtrlsByRowIndex,function(l,c){var p=c.getRowNode();s[p.id]=c}),this.rowCtrlsByRowIndex={},s},o.prototype.removeRowCtrls=function(r){var s=this;r.forEach(function(l){var c=s.rowCtrlsByRowIndex[l];c&&(c.destroyFirstPass(),c.destroySecondPass()),delete s.rowCtrlsByRowIndex[l]})},o.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},o.prototype.removeRowCompsNotToDraw=function(r){var s={};r.forEach(function(p){return s[p]=!0});var c=Object.keys(this.rowCtrlsByRowIndex).filter(function(p){return!s[p]});this.removeRowCtrls(c)},o.prototype.calculateIndexesToDraw=function(r){var s=this,l=$n(this.firstRenderedRow,this.lastRenderedRow),c=function(p,v){var F=v.getRowNode().rowIndex;null!=F&&(F<s.firstRenderedRow||F>s.lastRenderedRow)&&s.doNotUnVirtualiseRow(v)&&l.push(F)};return E(this.rowCtrlsByRowIndex,c),E(r,c),l.sort(function(p,v){return p-v}),l},o.prototype.redraw=function(r,s,l){var c=this;void 0===s&&(s=!1),void 0===l&&(l=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var p=this.calculateIndexesToDraw(r);this.removeRowCompsNotToDraw(p),this.printLayout&&(s=!1),p.forEach(function(F){I(c.createOrUpdateRowCtrl(F,r,s,l))}),r&&(!l||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(r,s):this.beans.animationFrameService.addDestroyTask(function(){c.destroyRowCtrls(r,s),c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.gridBodyCtrl.updateRowCount()},o.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:Te.EVENT_DISPLAYED_ROWS_CHANGED})},o.prototype.onDisplayedColumnsChanged=function(){var r=this.columnModel.isPinningLeft(),s=this.columnModel.isPinningRight();(this.pinningLeft!==r||s!==this.pinningRight)&&(this.pinningLeft=r,this.pinningRight=s,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},o.prototype.redrawFullWidthEmbeddedRows=function(){var r=[];this.getFullWidthRowCtrls().forEach(function(s){var l=s.getRowNode().rowIndex;r.push(l.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(r),this.redrawAfterScroll()},o.prototype.getFullWidthRowCtrls=function(r){var s=this,l=this.mapRowNodes(r);return te(this.rowCtrlsByRowIndex).filter(function(c){if(!c.isFullWidth())return!1;var p=c.getRowNode();return!(null!=l&&!s.isRowInMap(p,l))})},o.prototype.refreshFullWidthRows=function(r){var s=[],l=!!r,c=l?{}:void 0;l&&c&&r.forEach(function(p){return c[p.id]=!0}),this.getFullWidthRowCtrls().forEach(function(p){var v=p.getRowNode();if((!l||!c||c[v.id]||c[v.level>0&&v.parent?v.parent.id:void 0])&&!p.refreshFullWidth()){var se=p.getRowNode().rowIndex;s.push(se.toString())}}),this.removeRowCtrls(s),this.redrawAfterScroll()},o.prototype.createOrUpdateRowCtrl=function(r,s,l,c){var p,v=this.rowCtrlsByRowIndex[r];if(v||I(p=this.paginationProxy.getRow(r))&&I(s)&&s[p.id]&&p.alreadyRendered&&(v=s[p.id],s[p.id]=null),!v){if(p||(p=this.paginationProxy.getRow(r)),!I(p))return;v=this.createRowCon(p,l,c)}return p&&(p.alreadyRendered=!0),this.rowCtrlsByRowIndex[r]=v,v},o.prototype.destroyRowCtrls=function(r,s){var l=this,c=[];E(r,function(p,v){if(v){if(l.cachedRowCtrls&&v.isCacheable())return void l.cachedRowCtrls.addRow(v);v.destroyFirstPass(),s?(l.zombieRowCtrls[v.getInstanceId()]=v,c.push(function(){v.destroySecondPass(),delete l.zombieRowCtrls[v.getInstanceId()]})):v.destroySecondPass()}}),s&&(c.push(function(){l.updateAllRowCtrls(),l.dispatchDisplayedRowsChanged()}),Re(c))},o.prototype.workOutFirstAndLastRowsToRender=function(){var s,l,r=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)s=this.paginationProxy.getPageFirstRow(),l=this.paginationProxy.getPageLastRow();else{var c=this.gridOptionsWrapper.getRowBufferInPixels(),p=this.ctrlsService.getGridBodyCtrl(),v=this.gridOptionsWrapper.isSuppressRowVirtualisation(),F=!1,B=void 0,q=void 0;do{var se=this.paginationProxy.getPixelOffset(),fe=this.paginationProxy.getCurrentPagePixelRange(),we=fe.pageFirstPixel,xe=fe.pageLastPixel,Pe=this.rowContainerHeightService.getDivStretchOffset();if(v)B=we+Pe,q=xe+Pe;else{var Be=p.getScrollFeature().getVScrollPosition(),Ue=Be.bottom;B=Math.max(Be.top+se-c,we)+Pe,q=Math.min(Ue+se+c,xe)+Pe}F=this.ensureAllRowsInRangeHaveHeightsCalculated(B,q)}while(F);var Ze=this.paginationProxy.getRowIndexAtPixel(B),gt=this.paginationProxy.getRowIndexAtPixel(q),Ut=this.paginationProxy.getPageFirstRow(),Sn=this.paginationProxy.getPageLastRow();Ze<Ut&&(Ze=Ut),gt>Sn&&(gt=Sn),s=Ze,l=gt}else s=0,l=-1;var An=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_NORMAL,Yt=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),Mn=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(An&&!Yt&&l-s>Mn&&(l=s+Mn),(s!==this.firstRenderedRow||l!==this.lastRenderedRow)&&(this.firstRenderedRow=s,this.lastRenderedRow=l,this.eventService.dispatchEvent({type:Te.EVENT_VIEWPORT_CHANGED,firstRow:s,lastRow:l,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var Es={type:Te.EVENT_FIRST_DATA_RENDERED,firstRow:s,lastRow:l,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return r.eventService.dispatchEventOnce(Es)},50)}},o.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(r,s){var l=this.paginationProxy.ensureRowHeightsValid(r,s,-1,-1);return l&&this.updateContainerHeights(),l},o.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},o.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},o.prototype.doNotUnVirtualiseRow=function(r){var c=r.getRowNode(),p=this.focusService.isRowNodeFocused(c),v=r.isEditing();return!!(p||v||c.detail)&&!!this.paginationProxy.isRowPresent(c)},o.prototype.createRowCon=function(r,s,l){var c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(r):null;if(c)return c;var p=this.gridOptionsWrapper.isSuppressAnimationFrame();return new Wl(r,this.beans,s,l&&!p&&!this.printLayout,this.printLayout)},o.prototype.getRenderedNodes=function(){var r=this.rowCtrlsByRowIndex;return Object.keys(r).map(function(s){return r[s].getRowNode()})},o.prototype.getRowByPosition=function(r){var s;switch(r.rowPinned){case Ie.PINNED_TOP:s=this.topRowCtrls[r.rowIndex];break;case Ie.PINNED_BOTTOM:s=this.bottomRowCtrls[r.rowIndex];break;default:s=this.rowCtrlsByRowIndex[r.rowIndex]}return s},o.prototype.getRowNode=function(r){switch(r.rowPinned){case Ie.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case Ie.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},o.prototype.isRangeInRenderedViewport=function(r,s){return!(null==r||null==s||s<this.firstRenderedRow||r>this.lastRenderedRow)},xs([de("paginationProxy")],o.prototype,"paginationProxy",void 0),xs([de("columnModel")],o.prototype,"columnModel",void 0),xs([de("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),xs([de("rowModel")],o.prototype,"rowModel",void 0),xs([de("focusService")],o.prototype,"focusService",void 0),xs([de("columnApi")],o.prototype,"columnApi",void 0),xs([de("gridApi")],o.prototype,"gridApi",void 0),xs([de("beans")],o.prototype,"beans",void 0),xs([de("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),xs([gn("ctrlsService")],o.prototype,"ctrlsService",void 0),xs([tt],o.prototype,"postConstruct",null),xs([ut("rowRenderer")],o)}(ft),kS=function(){function u(o){this.entriesMap={},this.entriesList=[],this.maxCount=o}return u.prototype.addRow=function(o){if(this.entriesMap[o.getRowNode().id]=o,this.entriesList.push(o),o.setCached(!0),this.entriesList.length>this.maxCount){var r=this.entriesList[0];r.destroyFirstPass(),r.destroySecondPass(),this.removeFromCache(r)}},u.prototype.getRow=function(o){if(null==o||null==o.id)return null;var r=this.entriesMap[o.id];return r?(this.removeFromCache(r),r.setCached(!1),r.getRowNode()!=o?null:r):null},u.prototype.removeFromCache=function(o){var r=o.getRowNode().id;delete this.entriesMap[r],fi(this.entriesList,o)},u.prototype.getEntries=function(){return this.entriesList},u}(),bC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Fp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},mm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return bC(o,u),o.prototype.formatValue=function(r,s,l,c,p){void 0===p&&(p=!0);var F,v=null,B=r.getColDef();if(c?F=c:p&&(F=s&&s.rowPinned&&B.pinnedRowValueFormatter?B.pinnedRowValueFormatter:B.valueFormatter),F){var q={value:l,node:s,data:s?s.data:null,colDef:B,column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};v=this.expressionService.evaluate(F,q)}else if(B.refData)return B.refData[l]||"";return null==v&&Array.isArray(l)&&(v=l.join(", ")),v},Fp([de("expressionService")],o.prototype,"expressionService",void 0),Fp([ut("valueFormatterService")],o)}(ft),_m=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Sa=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return _m(o,u),o.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},o.prototype.isEmpty=function(r){return S(r===Ie.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},o.prototype.isRowsToRender=function(r){return!this.isEmpty(r)},o.prototype.getRowAtPixel=function(r,s){var l=s===Ie.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(S(l))return 0;for(var c=0;c<l.length;c++){var p=l[c];if(p.rowTop+p.rowHeight-1>=r)return c}return l.length-1},o.prototype.setPinnedTopRowData=function(r){this.pinnedTopRows=this.createNodesFromData(r,!0),this.eventService.dispatchEvent({type:Te.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.setPinnedBottomRowData=function(r){this.pinnedBottomRows=this.createNodesFromData(r,!1),this.eventService.dispatchEvent({type:Te.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.createNodesFromData=function(r,s){var l=this,c=[];if(r){var p=0;r.forEach(function(v,F){var B=new Dn(l.beans);B.data=v,B.id=(s?Dn.ID_PREFIX_TOP_PINNED:Dn.ID_PREFIX_BOTTOM_PINNED)+F,B.rowPinned=s?Ie.PINNED_TOP:Ie.PINNED_BOTTOM,B.setRowTop(p),B.setRowHeight(l.gridOptionsWrapper.getRowHeightForNode(B).height),B.setRowIndex(F),p+=B.rowHeight,c.push(B)})}return c},o.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},o.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},o.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},o.prototype.getPinnedTopRow=function(r){return this.pinnedTopRows[r]},o.prototype.getPinnedBottomRow=function(r){return this.pinnedBottomRows[r]},o.prototype.forEachPinnedTopRow=function(r){S(this.pinnedTopRows)||this.pinnedTopRows.forEach(r)},o.prototype.forEachPinnedBottomRow=function(r){S(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(r)},o.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},o.prototype.getTotalHeight=function(r){if(!r||0===r.length)return 0;var s=St(r);return s.rowTop+s.rowHeight},xd([de("columnApi")],o.prototype,"columnApi",void 0),xd([de("gridApi")],o.prototype,"gridApi",void 0),xd([de("beans")],o.prototype,"beans",void 0),xd([tt],o.prototype,"init",null),xd([ut("pinnedRowModel")],o)}(ft);!function(u){u.Applied="Applied",u.StoreNotFound="StoreNotFound",u.StoreLoading="StoreLoading",u.StoreWaitingToLoad="StoreWaitingToLoad",u.StoreLoadingFailed="StoreLoadingFailed",u.StoreWrongType="StoreWrongType",u.Cancelled="Cancelled"}(z.Qk6||(z.Qk6={}));var Sd=function(){function u(o,r){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=o,this.pathRoot={rowNode:r,children:null},this.mapToItems[r.id]=this.pathRoot}return u.prototype.setInactive=function(){this.active=!1},u.prototype.isActive=function(){return this.active},u.prototype.depthFirstSearchChangedPath=function(o,r){if(o.children)for(var s=0;s<o.children.length;s++)this.depthFirstSearchChangedPath(o.children[s],r);r(o.rowNode)},u.prototype.depthFirstSearchEverything=function(o,r,s){if(o.childrenAfterGroup)for(var l=0;l<o.childrenAfterGroup.length;l++){var c=o.childrenAfterGroup[l];c.childrenAfterGroup?this.depthFirstSearchEverything(o.childrenAfterGroup[l],r,s):s&&r(c)}r(o)},u.prototype.forEachChangedNodeDepthFirst=function(o,r){void 0===r&&(r=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,o):this.depthFirstSearchEverything(this.pathRoot.rowNode,o,r)},u.prototype.executeFromRootNode=function(o){o(this.pathRoot.rowNode)},u.prototype.createPathItems=function(o){for(var r=o,s=0;!this.mapToItems[r.id];)this.mapToItems[r.id]={rowNode:r,children:null},s++,r=r.parent;return s},u.prototype.populateColumnsMap=function(o,r){var s=this;if(this.keepingColumns&&r)for(var l=o;l;)this.nodeIdsToColumns[l.id]||(this.nodeIdsToColumns[l.id]={}),r.forEach(function(c){return s.nodeIdsToColumns[l.id][c.getId()]=!0}),l=l.parent},u.prototype.linkPathItems=function(o,r){for(var s=o,l=0;l<r;l++){var c=this.mapToItems[s.id],p=this.mapToItems[s.parent.id];p.children||(p.children=[]),p.children.push(c),s=s.parent}},u.prototype.addParentNode=function(o,r){if(o&&!o.isRowPinned()){var s=this.createPathItems(o);this.linkPathItems(o,s),this.populateColumnsMap(o,r)}},u.prototype.canSkip=function(o){return this.active&&!this.mapToItems[o.id]},u.prototype.getValueColumnsForNode=function(o,r){if(!this.keepingColumns)return r;var s=this.nodeIdsToColumns[o.id];return r.filter(function(c){return s[c.getId()]})},u.prototype.getNotValueColumnsForNode=function(o,r){if(!this.keepingColumns)return null;var s=this.nodeIdsToColumns[o.id];return r.filter(function(c){return!s[c.getId()]})},u}(),RS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),iu=function(u){function o(r){var s=u.call(this)||this;return s.state=o.STATE_WAITING_TO_LOAD,s.version=0,s.id=r,s}return RS(o,u),o.prototype.getId=function(){return this.id},o.prototype.load=function(){this.state=o.STATE_LOADING,this.loadFromDatasource()},o.prototype.getVersion=function(){return this.version},o.prototype.setStateWaitingToLoad=function(){this.version++,this.state=o.STATE_WAITING_TO_LOAD},o.prototype.getState=function(){return this.state},o.prototype.pageLoadFailed=function(r){this.isRequestMostRecentAndLive(r)&&(this.state=o.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},o.prototype.success=function(r,s){this.successCommon(r,s)},o.prototype.pageLoaded=function(r,s,l){this.successCommon(r,{rowData:s,rowCount:l})},o.prototype.isRequestMostRecentAndLive=function(r){var s=r===this.version,l=this.isAlive();return s&&l},o.prototype.successCommon=function(r,s){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(r)&&(this.state=o.STATE_LOADED,this.processServerResult(s))},o.prototype.dispatchLoadCompleted=function(r){void 0===r&&(r=!0),this.dispatchEvent({type:o.EVENT_LOAD_COMPLETE,success:r,block:this})},o.EVENT_LOAD_COMPLETE="loadComplete",o.STATE_WAITING_TO_LOAD="needsLoading",o.STATE_LOADING="loading",o.STATE_LOADED="loaded",o.STATE_FAILED="failed",o}(ft),OS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Lp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},PS=function(u,o){return function(r,s){o(r,s,u)}},wC=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.activeBlockLoadsCount=0,s.blocks=[],s.active=!0,s}var r;return OS(o,u),r=o,o.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var s=this.gridOptionsWrapper.getBlockLoadDebounceMillis();s&&s>0&&(this.checkBlockToLoadDebounce=an.debounce(this.performCheckBlocksToLoad.bind(this),s))},o.prototype.setBeans=function(s){this.logger=s.create("RowNodeBlockLoader")},o.prototype.addBlock=function(s){this.blocks.push(s),s.addEventListener(iu.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},o.prototype.removeBlock=function(s){an.removeFromArray(this.blocks,s)},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.active=!1},o.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:r.BLOCK_LOADER_FINISHED_EVENT})},o.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},o.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var s=null;this.blocks.forEach(function(l){l.getState()===iu.STATE_WAITING_TO_LOAD&&(s=l)}),s&&(s.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},o.prototype.getBlockState=function(){var s={};return this.blocks.forEach(function(l){var c=l.getBlockStateJson();s[c.id]=c.state}),s},o.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},o.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},o.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Lp([tt],o.prototype,"postConstruct",null),Lp([PS(0,oi("loggerFactory"))],o.prototype,"setBeans",null),r=Lp([ut("rowNodeBlockLoader")],o)}(ft),Td=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Xs=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Vp=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.currentPage=0,r.topDisplayedRowIndex=0,r.bottomDisplayedRowIndex=0,r.pixelOffset=0,r.masterRowCount=0,r}return Td(o,u),o.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,Te.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},o.prototype.ensureRowHeightsValid=function(r,s,l,c){var p=this.rowModel.ensureRowHeightsValid(r,s,this.getPageFirstRow(),this.getPageLastRow());return p&&this.calculatePages(),p},o.prototype.onModelUpdated=function(r){this.calculatePages(),this.eventService.dispatchEvent({type:Te.EVENT_PAGINATION_CHANGED,animate:!!r&&r.animate,newData:!!r&&r.newData,newPage:!!r&&r.newPage,keepRenderedRows:!!r&&r.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},o.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:Te.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},o.prototype.goToPage=function(r){this.active&&this.currentPage!==r&&(this.currentPage=r,this.onModelUpdated({type:Te.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},o.prototype.getPixelOffset=function(){return this.pixelOffset},o.prototype.getRow=function(r){return this.rowModel.getRow(r)},o.prototype.getRowNode=function(r){return this.rowModel.getRowNode(r)},o.prototype.getRowIndexAtPixel=function(r){return this.rowModel.getRowIndexAtPixel(r)},o.prototype.getCurrentPageHeight=function(){return O(this.topRowBounds)||O(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},o.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},o.prototype.isRowPresent=function(r){return!!this.rowModel.isRowPresent(r)&&r.rowIndex>=this.topDisplayedRowIndex&&r.rowIndex<=this.bottomDisplayedRowIndex},o.prototype.isEmpty=function(){return this.rowModel.isEmpty()},o.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},o.prototype.getNodesInRangeForSelection=function(r,s){return this.rowModel.getNodesInRangeForSelection(r,s)},o.prototype.forEachNode=function(r){return this.rowModel.forEachNode(r)},o.prototype.getType=function(){return this.rowModel.getType()},o.prototype.getRowBounds=function(r){var s=this.rowModel.getRowBounds(r);return s.rowIndex=r,s},o.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},o.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},o.prototype.getRowCount=function(){return this.rowModel.getRowCount()},o.prototype.getPageForIndex=function(r){return Math.floor(r/this.pageSize)},o.prototype.goToPageWithIndex=function(r){if(this.active){var s=this.getPageForIndex(r);this.goToPage(s)}},o.prototype.isRowInPage=function(r){return!this.active||this.getPageForIndex(r.rowIndex)===this.currentPage},o.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},o.prototype.getCurrentPage=function(){return this.currentPage},o.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},o.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},o.prototype.goToFirstPage=function(){this.goToPage(0)},o.prototype.goToLastPage=function(){var r=this.rowModel.getRowCount(),s=Math.floor(r/this.pageSize);this.goToPage(s)},o.prototype.getPageSize=function(){return this.pageSize},o.prototype.getTotalPages=function(){return this.totalPages},o.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},o.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(I(this.topRowBounds)?this.topRowBounds.rowTop:0)},o.prototype.setPixelOffset=function(r){this.pixelOffset!==r&&(this.pixelOffset=r,this.eventService.dispatchEvent({type:Te.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},o.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},o.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!qu(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var l=this.pageSize*(this.currentPage+1)-1;if(l>r&&(l=r),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),l===r)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var c=this.rowModel.getTopLevelRowDisplayedIndex(l+1);this.bottomDisplayedRowIndex=c-1}}},o.prototype.getMasterRowCount=function(){return this.masterRowCount},o.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!qu(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}else this.setZeroRows()},o.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Xs([de("rowModel")],o.prototype,"rowModel",void 0),Xs([de("columnApi")],o.prototype,"columnApi",void 0),Xs([de("gridApi")],o.prototype,"gridApi",void 0),Xs([tt],o.prototype,"postConstruct",null),Xs([ut("paginationProxy")],o)}(ft),ru=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ou=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Xl=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ru(o,u),o.prototype.processAllCellClasses=function(r,s,l,c){this.processClassRules(r.cellClassRules,s,l,c),this.processStaticCellClasses(r,s,l)},o.prototype.processClassRules=function(r,s,l,c){if(null!=r){for(var p=Object.keys(r),v={},F={},B=function(fe){var Pe,we=p[fe],xe=r[we];"string"==typeof xe?Pe=q.expressionService.evaluate(xe,s):"function"==typeof xe&&(Pe=xe(s)),we.split(" ").forEach(function(Be){null==Be||""==Be.trim()||(Pe?v[Be]=!0:F[Be]=!0)})},q=this,se=0;se<p.length;se++)B(se);c&&Object.keys(F).forEach(c),Object.keys(v).forEach(l)}},o.prototype.getStaticCellClasses=function(r,s){var c,l=r.cellClass;return l?("string"==typeof(c="function"==typeof l?l(s):l)&&(c=[c]),c||[]):[]},o.prototype.processStaticCellClasses=function(r,s,l){this.getStaticCellClasses(r,s).forEach(function(p){l(p)})},ou([de("expressionService")],o.prototype,"expressionService",void 0),ou([ut("stylingService")],o)}(ft),IS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),vm=function(u){function o(r){return u.call(this,r,"ag-radio-button","radio")||this}return IS(o,u),o.prototype.isSelected=function(){return this.eInput.checked},o.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},o.prototype.addInputListeners=function(){u.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Te.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},o.prototype.onChange=function(r){r.selected&&r.name&&this.eInput.name&&this.eInput.name===r.name&&r.id&&this.eInput.id!==r.id&&this.setValue(!1,!0)},o}(Jc),xC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Gp=function(u){function o(r){return u.call(this,r,"ag-toggle-button")||this}return xC(o,u),o.prototype.setValue=function(r,s){return u.prototype.setValue.call(this,r,s),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},o}(Jc),ym=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Bp=function(u){function o(r,s,l){return void 0===s&&(s="ag-text-field"),void 0===l&&(l="text"),u.call(this,r,s,l)||this}return ym(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},o.prototype.setValue=function(r,s){var l=u.prototype.setValue.call(this,r,s);return this.eInput.value!==r&&(this.eInput.value=I(r)?r:""),l},o.prototype.preventDisallowedCharacters=function(){var r=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(l){l.key&&!r.test(l.key)&&l.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(l){var c,p=null===(c=l.clipboardData)||void 0===c?void 0:c.getData("text");p&&p.split("").some(function(v){return!r.test(v)})&&l.preventDefault()})},o}(Ca),Hp=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),SC=function(u){function o(r){return u.call(this,r,"ag-text-area",null,"textarea")||this}return Hp(o,u),o.prototype.setValue=function(r,s){var l=u.prototype.setValue.call(this,r,s);return this.eInput.value=r,l},o.prototype.setCols=function(r){return this.eInput.cols=r,this},o.prototype.setRows=function(r){return this.eInput.rows=r,this},o}(Ca),TC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),MS=function(u){function o(r){return u.call(this,r,"ag-number-field","number")||this}return TC(o,u),o.prototype.postConstruct=function(){var r=this;u.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var s=parseFloat(r.eInput.value),l=isNaN(s)?"":r.normalizeValue(s.toString());r.value!==l&&r.setValue(l)}),this.eInput.step="any"},o.prototype.normalizeValue=function(r){if(""===r)return"";this.precision&&(r=this.adjustPrecision(r));var s=parseFloat(r);return null!=this.min&&s<this.min?r=this.min.toString():null!=this.max&&s>this.max&&(r=this.max.toString()),r},o.prototype.adjustPrecision=function(r){if(this.precision){var s=parseFloat(r).toFixed(this.precision);r=parseFloat(s).toString()}return r},o.prototype.setMin=function(r){return this.min===r||(this.min=r,Vs(this.eInput,"min",r)),this},o.prototype.setMax=function(r){return this.max===r||(this.max=r,Vs(this.eInput,"max",r)),this},o.prototype.setPrecision=function(r){return this.precision=r,this},o.prototype.setStep=function(r){return this.step===r||(this.step=r,Vs(this.eInput,"step",r)),this},o.prototype.setValue=function(r,s){return(r=this.adjustPrecision(r))!=this.normalizeValue(r)?this:u.prototype.setValue.call(this,r,s)},o}(Bp),EC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Cm=function(u){function o(r){return u.call(this,r,"ag-range-field","range")||this}return EC(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this);var r=this.config,s=r.min,l=r.max,c=r.step;null!=s&&this.setMinValue(s),null!=l&&this.setMaxValue(l),this.setStep(c||1)},o.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(s){r.setValue(s.target.value)})},o.prototype.setMinValue=function(r){return this.min=r,this.eInput.setAttribute("min",r.toString()),this},o.prototype.setMaxValue=function(r){return this.max=r,this.eInput.setAttribute("max",r.toString()),this},o.prototype.setStep=function(r){return this.eInput.setAttribute("step",r.toString()),this},o.prototype.setValue=function(r,s){null!=this.min&&(r=Math.max(parseFloat(r),this.min).toString()),null!=this.max&&(r=Math.min(parseFloat(r),this.max).toString());var l=u.prototype.setValue.call(this,r,s);return this.eInput.value=r,l},o}(Ca),NS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ed=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},DC=function(u){function o(r){var s=u.call(this,r,o.TEMPLATE)||this;return s.labelAlignment="top",s}return NS(o,u),o.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},o.prototype.onValueChange=function(r){var s=this,l=gs.EVENT_CHANGED;return this.addManagedListener(this.eText,l,function(){var c=parseFloat(s.eText.getValue());s.eSlider.setValue(c.toString(),!0),r(c||0)}),this.addManagedListener(this.eSlider,l,function(){var c=s.eSlider.getValue();s.eText.setValue(c,!0),r(parseFloat(c))}),this},o.prototype.setSliderWidth=function(r){return this.eSlider.setWidth(r),this},o.prototype.setTextFieldWidth=function(r){return this.eText.setWidth(r),this},o.prototype.setMinValue=function(r){return this.eSlider.setMinValue(r),this.eText.setMin(r),this},o.prototype.setMaxValue=function(r){return this.eSlider.setMaxValue(r),this.eText.setMax(r),this},o.prototype.getValue=function(){return this.eText.getValue()},o.prototype.setValue=function(r){return this.getValue()===r||(this.eText.setValue(r,!0),this.eSlider.setValue(r,!0),this.dispatchEvent({type:gs.EVENT_CHANGED})),this},o.prototype.setStep=function(r){return this.eSlider.setStep(r),this.eText.setStep(r),this},o.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Ed([ct("eLabel")],o.prototype,"eLabel",void 0),Ed([ct("eSlider")],o.prototype,"eSlider",void 0),Ed([ct("eText")],o.prototype,"eText",void 0),Ed([tt],o.prototype,"init",null),o}(Qh),FS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xr=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},AC=function(u){function o(r){var s=u.call(this,r,o.TEMPLATE)||this;return s.radius=0,s.offsetX=0,s.offsetY=0,s}return FS(o,u),o.prototype.postConstruct=function(){var r=this;u.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(s){r.parentCircleRect=r.eParentCircle.getBoundingClientRect()},onDragging:function(s){return r.calculateAngleDrag(s)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(s){(null==s||""===s)&&(s="0"),s=r.eAngleValue.normalizeValue(s);var l=parseFloat(s);l>180&&(l-=360),r.setValue(l)}),this.updateNumberInput(),I(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,gs.EVENT_CHANGED,function(){var s=r.gridOptionsWrapper.getDocument();r.eAngleValue.getInputElement().contains(s.activeElement)||r.updateNumberInput()})},o.prototype.updateNumberInput=function(){var r=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(r.toString())},o.prototype.positionChildCircle=function(r){var s=this.parentCircleRect||{width:24,height:24},l=this.eChildCircle,p=s.height/2;l.style.left=s.width/2+8*Math.cos(r)+"px",l.style.top=p+8*Math.sin(r)+"px"},o.prototype.calculatePolar=function(){var r=this.offsetX,s=this.offsetY,l=Math.atan2(s,r);this.degrees=this.toDegrees(l),this.radius=Math.sqrt(r*r+s*s),this.positionChildCircle(l)},o.prototype.calculateCartesian=function(){var r=this.toRadians(this.getValue()),s=this.getRadius();this.setOffsetX(Math.cos(r)*s).setOffsetY(Math.sin(r)*s)},o.prototype.setOffsetX=function(r){return this.offsetX!==r&&(this.offsetX=r,this.calculatePolar()),this},o.prototype.setOffsetY=function(r){return this.offsetY!==r&&(this.offsetY=r,this.calculatePolar()),this},o.prototype.calculateAngleDrag=function(r){var s=this.parentCircleRect,q=Math.atan2(r.clientY-s.top-s.height/2,r.clientX-s.left-s.width/2);this.setValue(q,!0)},o.prototype.toDegrees=function(r){return r/Math.PI*180},o.prototype.toRadians=function(r){return r/180*Math.PI},o.prototype.normalizeNegativeValue=function(r){return r<0?360+r:r},o.prototype.normalizeAngle180=function(r){return(r%=2*Math.PI)<-Math.PI?r+=2*Math.PI:r>=Math.PI&&(r-=2*Math.PI),r},o.prototype.getRadius=function(){return this.radius},o.prototype.setRadius=function(r){return this.radius===r||(this.radius=r,this.calculateCartesian()),this},o.prototype.onValueChange=function(r){var s=this;return this.addManagedListener(this,gs.EVENT_CHANGED,function(){r(s.degrees)}),this},o.prototype.getValue=function(r){return r?this.toRadians(this.degrees):this.degrees},o.prototype.setValue=function(r,s){var l;return l=s?r:this.normalizeAngle180(this.toRadians(r)),r=this.toDegrees(l),this.degrees!==r&&(this.degrees=Math.floor(r),this.calculateCartesian(),this.positionChildCircle(l),this.dispatchEvent({type:gs.EVENT_CHANGED})),this},o.prototype.setWidth=function(r){return Pr(this.getGui(),r),this},o.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),u.prototype.destroy.call(this)},o.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',xr([ct("eLabel")],o.prototype,"eLabel",void 0),xr([ct("eParentCircle")],o.prototype,"eParentCircle",void 0),xr([ct("eChildCircle")],o.prototype,"eChildCircle",void 0),xr([ct("eAngleValue")],o.prototype,"eAngleValue",void 0),xr([de("dragService")],o.prototype,"dragService",void 0),o}(Qh),LS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),tl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},kC=function(u){function o(r){var s=u.call(this,o.TEMPLATE)||this;return s.H=1,s.S=1,s.B=1,s.A=1,s.isSpectrumDragging=!1,s.isSpectrumHueDragging=!1,s.isSpectrumAlphaDragging=!1,s.colorChanged=!1,s.picker=r.picker,s}return LS(o,u),o.prototype.postConstruct=function(){var r=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},o.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},o.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},o.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},o.prototype.onSpectrumDraggerDown=function(r){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(r)},o.prototype.onSpectrumDraggerMove=function(r){this.isSpectrumDragging&&this.moveDragger(r)},o.prototype.onSpectrumHueDown=function(r){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(r)},o.prototype.onSpectrumHueMove=function(r){this.isSpectrumHueDragging&&this.moveHueSlider(r)},o.prototype.onSpectrumAlphaDown=function(r){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(r)},o.prototype.onSpectrumAlphaMove=function(r){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(r)},o.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},o.prototype.moveDragger=function(r){var s=this.spectrumValRect;if(s){var l=r.clientX-s.left,c=r.clientY-s.top;l=Math.max(l,0),l=Math.min(l,s.width),c=Math.max(c,0),c=Math.min(c,s.height),this.setSpectrumValue(l/s.width,1-c/s.height)}},o.prototype.moveHueSlider=function(r){var s=this.spectrumHueRect;if(s){var l=this.spectrumHueSlider,c=l.getBoundingClientRect(),p=r.clientX-s.left;p=Math.max(p,0),p=Math.min(p,s.width),this.H=1-p/s.width,l.style.left=p+c.width/2+"px",this.update()}},o.prototype.moveAlphaSlider=function(r){var s=this.spectrumAlphaRect;if(s){var l=this.spectrumAlphaSlider,c=l.getBoundingClientRect(),p=r.clientX-s.left;p=Math.max(p,0),p=Math.min(p,s.width),this.A=p/s.width,l.style.left=p+c.width/2+"px",this.update()}},o.prototype.update=function(){var r=xc.fromHSB(360*this.H,this.S,this.B,this.A),s=xc.fromHSB(360*this.H,1,1),l=r.toRgbaString(),c=this.picker;xc.fromString(c.getValue()).toRgbaString()!==l&&(this.colorChanged=!0),c.setValue(l),this.spectrumColor.style.backgroundColor=s.toRgbaString(),this.spectrumDragger.style.backgroundColor=l},o.prototype.setSpectrumValue=function(r,s){var l=this.spectrumValRect||this.refreshSpectrumRect();if(l){var c=this.spectrumDragger,p=c.getBoundingClientRect();r=Math.max(0,r),r=Math.min(1,r),s=Math.max(0,s),s=Math.min(1,s),this.S=r,this.B=s,c.style.left=r*l.width-p.width/2+"px",c.style.top=(1-s)*l.height-p.height/2+"px",this.update()}},o.prototype.initRecentColors=function(){var s=o.recentColors.map(function(l,c){return'<div class="ag-recent-color" id='+c+' style="background-color: '+l+'; width: 15px; height: 15px;" recent-color="'+l+'"></div>'});this.recentColors.innerHTML=s.join("")},o.prototype.setValue=function(r){var s=xc.fromString(r),l=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c}(s.toHSB(),3),c=l[0],p=l[1],v=l[2];this.H=(isNaN(c)?0:c)/360,this.A=s.a;var F=this.spectrumHueRect||this.refreshHueRect(),B=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-F.width+"px",this.spectrumAlphaSlider.style.left=this.A*B.width+"px",this.setSpectrumValue(p,v)},o.prototype.onRecentColorClick=function(r){var s=r.target;if(I(s.id)){var l=parseInt(s.id,10);this.setValue(o.recentColors[l]),this.destroy()}},o.prototype.addRecentColor=function(){var s=xc.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),l=o.recentColors;!this.colorChanged||l[0]===s||(l=l.filter(function(c){return c!=s}),(l=[s].concat(l)).length>o.maxRecentColors&&(l=l.slice(0,o.maxRecentColors)),o.recentColors=l)},o.prototype.destroy=function(){this.addRecentColor(),u.prototype.destroy.call(this)},o.maxRecentColors=8,o.recentColors=[],o.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',tl([ct("spectrumColor")],o.prototype,"spectrumColor",void 0),tl([ct("spectrumVal")],o.prototype,"spectrumVal",void 0),tl([ct("spectrumDragger")],o.prototype,"spectrumDragger",void 0),tl([ct("spectrumHue")],o.prototype,"spectrumHue",void 0),tl([ct("spectrumHueSlider")],o.prototype,"spectrumHueSlider",void 0),tl([ct("spectrumAlpha")],o.prototype,"spectrumAlpha",void 0),tl([ct("spectrumAlphaSlider")],o.prototype,"spectrumAlphaSlider",void 0),tl([ct("recentColors")],o.prototype,"recentColors",void 0),tl([tt],o.prototype,"postConstruct",null),o}(ln),DR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Dd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ad=function(u){function o(r){var s=u.call(this,o.getTemplate(r))||this;return s.closable=!0,s.config=r,s}return DR(o,u),o.getTemplate=function(r){var s=r&&r.cssIdentifier||"default";return'<div class="ag-panel ag-'+s+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+s+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+s+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+s+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+s+'-panel-content-wrapper"></div>\n        </div>'},o.prototype.postConstruct=function(){var r=this,s=this.config,l=s.component,c=s.closable,p=s.hideTitleBar,v=s.title,F=s.minWidth,B=void 0===F?250:F,q=s.width,se=s.minHeight,fe=void 0===se?250:se,we=s.height,xe=s.centered,Pe=s.popup,Be=s.x,We=s.y;this.positionableFeature=new DS(this.getGui(),{minWidth:B,width:q,minHeight:fe,height:we,centered:xe,x:Be,y:We,popup:Pe,calculateTopBuffer:function(){return r.positionableFeature.getHeight()-r.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var Ue=this.getGui();l&&this.setBodyComponent(l),p?this.eTitleBar.classList.add("ag-hidden"):(v&&this.setTitle(v),this.setClosable(null!=c?c:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Ze){var gt=r.gridOptionsWrapper.getDocument();if(Ue.contains(Ze.relatedTarget)||Ue.contains(gt.activeElement)||r.eTitleBarButtons.contains(Ze.target))Ze.preventDefault();else{var Ut=r.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Ut&&Ut.focus()}}),(!Pe||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},o.prototype.renderComponent=function(){var r=this,s=this.getGui();s.focus(),this.close=function(){s.parentElement.removeChild(s),r.destroy()}},o.prototype.getHeight=function(){return this.positionableFeature.getHeight()},o.prototype.setHeight=function(r){this.positionableFeature.setHeight(r)},o.prototype.getWidth=function(){return this.positionableFeature.getWidth()},o.prototype.setWidth=function(r){this.positionableFeature.setWidth(r)},o.prototype.setClosable=function(r){if(r!==this.closable&&(this.closable=r),r){var s=this.closeButtonComp=new ln(o.CLOSE_BTN_TEMPLATE);this.getContext().createBean(s);var l=s.getGui(),c=Ui("close",this.gridOptionsWrapper);c.classList.add("ag-panel-title-bar-button-icon"),l.appendChild(c),this.addTitleBarButton(s),s.addManagedListener(l,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((l=this.closeButtonComp.getGui()).parentElement.removeChild(l),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},o.prototype.setBodyComponent=function(r){r.setParentComponent(this),this.eContentWrapper.appendChild(r.getGui())},o.prototype.addTitleBarButton=function(r,s){var l=this.eTitleBarButtons,c=l.children,p=c.length;null==s&&(s=p),s=Math.max(0,Math.min(s,p)),r.addCssClass("ag-panel-title-bar-button");var v=r.getGui();0===s?l.insertAdjacentElement("afterbegin",v):s===p?l.insertAdjacentElement("beforeend",v):c[s-1].insertAdjacentElement("afterend",v),r.setParentComponent(this)},o.prototype.getBodyHeight=function(){return kc(this.eContentWrapper)},o.prototype.getBodyWidth=function(){return $u(this.eContentWrapper)},o.prototype.setTitle=function(r){this.eTitle.innerText=r},o.prototype.onBtClose=function(){this.close()},o.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var r=this.getGui();r&&r.offsetParent&&this.close(),u.prototype.destroy.call(this)},o.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Dd([ct("eContentWrapper")],o.prototype,"eContentWrapper",void 0),Dd([ct("eTitleBar")],o.prototype,"eTitleBar",void 0),Dd([ct("eTitleBarButtons")],o.prototype,"eTitleBarButtons",void 0),Dd([ct("eTitle")],o.prototype,"eTitle",void 0),Dd([tt],o.prototype,"postConstruct",null),o}(ln),RC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),jp=function(){return jp=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},jp.apply(this,arguments)},bm=function(u){function o(r){var s=u.call(this,jp(jp({},r),{popup:!0}))||this;return s.isMaximizable=!1,s.isMaximized=!1,s.maximizeListeners=[],s.resizeListenerDestroy=null,s.lastPosition={x:0,y:0,width:0,height:0},s}return RC(o,u),o.prototype.postConstruct=function(){var r=this,s=this.getGui(),l=this.config,c=l.movable,p=l.resizable,v=l.maximizable;this.addCssClass("ag-dialog"),u.prototype.postConstruct.call(this),this.addManagedListener(s,"focusin",function(F){s.contains(F.relatedTarget)||r.popupService.bringPopupToFront(s)}),c&&this.setMovable(c),v&&this.setMaximizable(v),p&&this.setResizable(p)},o.prototype.renderComponent=function(){var r=this.getGui(),s=this.config,l=s.alwaysOnTop,c=s.modal,p=s.title,v=this.gridOptionsWrapper.getLocaleTextFunc(),F=this.popupService.addPopup({modal:c,eChild:r,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:l,ariaLabel:p||v("ariaLabelDialog","Dialog")});F&&(this.close=F.hideFunc)},o.prototype.toggleMaximize=function(){var r=this.positionableFeature.getPosition();if(this.isMaximized){var s=this.lastPosition,l=s.x,c=s.y,v=s.height;this.setWidth(s.width),this.setHeight(v),this.positionableFeature.offsetElement(l,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=r.x,this.lastPosition.y=r.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},o.prototype.refreshMaximizeIcon=function(){Kn(this.maximizeIcon,!this.isMaximized),Kn(this.minimizeIcon,this.isMaximized)},o.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(r){return r()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},o.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),u.prototype.destroy.call(this)},o.prototype.setResizable=function(r){this.positionableFeature.setResizable(r)},o.prototype.setMovable=function(r){this.positionableFeature.setMovable(r,this.eTitleBar)},o.prototype.setMaximizable=function(r){var s=this;if(!r)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var l=this.eTitleBar;if(l&&r!==this.isMaximizable){var c=this.maximizeButtonComp=this.createBean(new ln('<div class="ag-dialog-button"></span>')),p=c.getGui();p.appendChild(this.maximizeIcon=Ui("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),p.appendChild(this.minimizeIcon=Ui("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),c.addManagedListener(p,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(l,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){s.isMaximized=!1,s.refreshMaximizeIcon()})}},function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([de("popupService")],o.prototype,"popupService",void 0),o}(Ad),OC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),PC=function(u){function o(r){var s=u.call(this,r,"ag-color-picker","colorPicker")||this;return r&&r.color&&(s.value=r.color),s}return OC(o,u),o.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},o.prototype.showPicker=function(){var r=this,s=this.getGui().getBoundingClientRect(),l=this.createBean(new bm({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:s.right-190,y:s.top-250}));this.isPickerDisplayed=!0,l.addCssClass("ag-color-dialog"),Xo(this.eWrapper,!0);var c=this.createBean(new kC({picker:this}));return c.addDestroyFunc(function(){l.isAlive()&&r.destroyBean(l)}),l.setParentComponent(this),l.setBodyComponent(c),c.setValue(this.getValue()),l.addDestroyFunc(function(){r.isDestroyingPicker?r.isDestroyingPicker=!1:(r.isDestroyingPicker=!0,c.isAlive()&&r.destroyBean(c)),r.isAlive()&&(Xo(r.eWrapper,!1),r.getFocusableElement().focus()),r.isPickerDisplayed=!1}),l},o.prototype.setValue=function(r){return this.value===r?this:(this.eDisplayField.style.backgroundColor=r,u.prototype.setValue.call(this,r))},o.prototype.getValue=function(){return this.value},o}(ey),IC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),nl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},MC=function(u){function o(r){void 0===r&&(r={});var s=u.call(this,o.getTemplate(r))||this;s.suppressEnabledCheckbox=!0,s.suppressOpenCloseIcons=!1;var c=r.enabled,p=r.items,v=r.suppressEnabledCheckbox,F=r.suppressOpenCloseIcons;return s.title=r.title,s.cssIdentifier=r.cssIdentifier||"default",s.enabled=null==c||c,s.items=p||[],s.alignItems=r.alignItems||"center",null!=v&&(s.suppressEnabledCheckbox=v),null!=F&&(s.suppressOpenCloseIcons=F),s}return IC(o,u),o.getTemplate=function(r){var s=r.cssIdentifier||"default";return'<div class="ag-group ag-'+s+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+s+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+s+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+s+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+s+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(r.direction||"vertical")+" ag-"+s+'-group-container"></div>\n        </div>'},o.prototype.postConstruct=function(){if(this.items.length){var r=this.items;this.items=[],this.addItems(r)}var s=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(s("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},o.prototype.setupExpandContract=function(){var r=this;this.eGroupClosedIcon.appendChild(ti("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(ti("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return r.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(s){switch(s.key){case ht.ENTER:case ht.SPACE:s.preventDefault(),r.toggleGroupExpand();break;case ht.RIGHT:case ht.LEFT:s.preventDefault(),r.toggleGroupExpand(s.key===ht.RIGHT)}})},o.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Xo(this.eTitleBar,this.expanded)},o.prototype.refreshChildDisplay=function(){var r=!this.suppressOpenCloseIcons;Kn(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Kn(this.eGroupOpenedIcon,r&&this.expanded),Kn(this.eGroupClosedIcon,r&&!this.expanded)},o.prototype.isExpanded=function(){return this.expanded},o.prototype.setAlignItems=function(r){return this.alignItems!==r&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=r,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},o.prototype.toggleGroupExpand=function(r){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Kn(this.eContainer,!0),this):(this.expanded===(r=null!=r?r:!this.expanded)||(this.expanded=r,this.refreshAriaStatus(),this.refreshChildDisplay(),Kn(this.eContainer,r),this.dispatchEvent({type:this.expanded?o.EVENT_EXPANDED:o.EVENT_COLLAPSED})),this)},o.prototype.addItems=function(r){var s=this;r.forEach(function(l){return s.addItem(l)})},o.prototype.addItem=function(r){var s=this.eContainer,l=r instanceof ln?r.getGui():r;l.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),s.appendChild(l),this.items.push(l)},o.prototype.hideItem=function(r,s){this.items[s].classList.toggle("ag-hidden",r)},o.prototype.setTitle=function(r){return this.eTitle.innerText=r,this},o.prototype.addCssClassToTitleBar=function(r){this.eTitleBar.classList.add(r)},o.prototype.setEnabled=function(r,s){return this.enabled=r,this.refreshDisabledStyles(),this.toggleGroupExpand(r),s||this.cbGroupEnabled.setValue(r),this},o.prototype.isEnabled=function(){return this.enabled},o.prototype.onEnableChange=function(r){var s=this;return this.cbGroupEnabled.onValueChange(function(l){s.setEnabled(l,!0),r(l)}),this},o.prototype.hideEnabledCheckbox=function(r){return this.suppressEnabledCheckbox=r,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},o.prototype.hideOpenCloseIcons=function(r){return this.suppressOpenCloseIcons=r,r&&this.toggleGroupExpand(!0),this},o.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},o.EVENT_EXPANDED="expanded",o.EVENT_COLLAPSED="collapsed",nl([ct("eTitleBar")],o.prototype,"eTitleBar",void 0),nl([ct("eGroupOpenedIcon")],o.prototype,"eGroupOpenedIcon",void 0),nl([ct("eGroupClosedIcon")],o.prototype,"eGroupClosedIcon",void 0),nl([ct("eToolbar")],o.prototype,"eToolbar",void 0),nl([ct("cbGroupEnabled")],o.prototype,"cbGroupEnabled",void 0),nl([ct("eTitle")],o.prototype,"eTitle",void 0),nl([ct("eContainer")],o.prototype,"eContainer",void 0),nl([tt],o.prototype,"postConstruct",null),o}(ln),NC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),wm=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},FC=function(u){function o(r){var s=u.call(this)||this;s.skipTabGuardFocus=!1;var c=r.eTopGuard,p=r.eBottomGuard,v=r.focusInnerElement,F=r.onFocusIn,B=r.onFocusOut,q=r.shouldStopEventPropagation,se=r.onTabKeyDown,fe=r.handleKeyDown,we=r.eFocusableElement;return s.comp=r.comp,s.eTopGuard=c,s.eBottomGuard=p,s.providedFocusInnerElement=v,s.eFocusableElement=we,s.providedFocusIn=F,s.providedFocusOut=B,s.providedShouldStopEventPropagation=q,s.providedOnTabKeyDown=se,s.providedHandleKeyDown=fe,s}return NC(o,u),o.prototype.postConstruct=function(){var r=this;this.createManagedBean(new fs(this.eFocusableElement,{shouldStopEventPropagation:function(){return r.shouldStopEventPropagation()},onTabKeyDown:function(s){return r.onTabKeyDown(s)},handleKeyDown:function(s){return r.handleKeyDown(s)},onFocusIn:function(s){return r.onFocusIn(s)},onFocusOut:function(s){return r.onFocusOut(s)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(s){return r.addManagedListener(s,"focus",r.onFocus.bind(r))})},o.prototype.handleKeyDown=function(r){this.providedHandleKeyDown&&this.providedHandleKeyDown(r)},o.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},o.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},o.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},o.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},o.prototype.onFocus=function(r){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var s=r.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(s):this.focusInnerElement(s)}},o.prototype.onFocusIn=function(r){this.providedFocusIn&&this.providedFocusIn(r)||this.deactivateTabGuards()},o.prototype.onFocusOut=function(r){this.providedFocusOut&&this.providedFocusOut(r)||this.eFocusableElement.contains(r.relatedTarget)||this.activateTabGuards()},o.prototype.onTabKeyDown=function(r){var s=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(r);else if(!r.defaultPrevented){var l=this.tabGuardsAreActive();l&&this.deactivateTabGuards();var c=this.getNextFocusableElement(r.shiftKey);l&&setTimeout(function(){return s.activateTabGuards()},0),c&&(c.focus(),r.preventDefault())}},o.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},o.prototype.focusInnerElement=function(r){void 0===r&&(r=!1);var s=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(s.splice(0,1),s.splice(s.length-1,1)),s.length&&s[r?s.length-1:0].focus()},o.prototype.getNextFocusableElement=function(r){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r)},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1);var s=r?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,s.focus()},wm([de("focusService")],o.prototype,"focusService",void 0),wm([tt],o.prototype,"postConstruct",null),o}(ft),Qs=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),xm=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},kd=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Qs(o,u),o.prototype.initialiseTabGuard=function(r){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var s=[this.eTopGuard,this.eBottomGuard],l={setTabIndex:function(c){s.forEach(function(p){return null!=c?p.setAttribute("tabIndex",c):p.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new FC({comp:l,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:r.onFocusIn,onFocusOut:r.onFocusOut,focusInnerElement:r.focusInnerElement,handleKeyDown:r.handleKeyDown,onTabKeyDown:r.onTabKeyDown,shouldStopEventPropagation:r.shouldStopEventPropagation}))},o.prototype.createTabGuard=function(r){var s=document.createElement("div");return s.classList.add("ag-tab-guard","ag-tab-guard-"+r),ar(s,"presentation"),s},o.prototype.addTabGuards=function(r,s){this.eFocusableElement.insertAdjacentElement("afterbegin",r),this.eFocusableElement.insertAdjacentElement("beforeend",s)},o.prototype.removeAllChildrenExceptTabGuards=function(){var r=[this.eTopGuard,this.eBottomGuard];bi(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(xm(arguments[o]));return u}(r))},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.tabGuardCtrl.forceFocusOutOfContainer(r)},o.prototype.appendChild=function(r,s){vn(r)||(r=r.getGui());var l=this.eBottomGuard;l?l.insertAdjacentElement("beforebegin",r):u.prototype.appendChild.call(this,r,s)},o}(ln),AR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Rd=function(){return Rd=Object.assign||function(u){for(var o,r=1,s=arguments.length;r<s;r++)for(var l in o=arguments[r])Object.prototype.hasOwnProperty.call(o,l)&&(u[l]=o[l]);return u},Rd.apply(this,arguments)},LC=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},VC=function(u){function o(r){void 0===r&&(r=1);var s=u.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return s.level=r,s.menuItems=[],s}return AR(o,u),o.prototype.postConstruct=function(){var r=this;this.initialiseTabGuard({onTabKeyDown:function(s){return r.onTabKeyDown(s)},handleKeyDown:function(s){return r.handleKeyDown(s)}})},o.prototype.onTabKeyDown=function(r){var s=this.getParentComponent(),l=s&&s.getGui();l&&l.classList.contains("ag-focus-managed")||r.preventDefault(),r.shiftKey&&this.closeIfIsChild(r)},o.prototype.handleKeyDown=function(r){switch(r.key){case ht.UP:case ht.RIGHT:case ht.DOWN:case ht.LEFT:r.preventDefault(),this.handleNavKey(r.key);break;case ht.ESCAPE:var s=this.findTopMenu();s&&this.focusService.focusInto(s.getGui())}},o.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},o.prototype.addMenuItems=function(r){var s=this;null!=r&&r.forEach(function(l){"separator"===l?s.addSeparator():"string"==typeof l?console.warn("AG Grid: unrecognised menu item "+l):s.addItem(l)})},o.prototype.addItem=function(r){var s=this,l=this.createManagedBean(new il(Rd(Rd({},r),{isAnotherSubMenuOpen:function(){return s.menuItems.some(function(c){return c.isSubMenuOpen()})}})));l.setParentComponent(this),Px(l.getGui(),this.level),this.menuItems.push(l),this.appendChild(l.getGui()),this.addManagedListener(l,il.EVENT_MENU_ITEM_SELECTED,function(c){s.dispatchEvent(c)}),this.addManagedListener(l,il.EVENT_MENU_ITEM_ACTIVATED,function(c){s.activeMenuItem&&s.activeMenuItem!==c.menuItem&&s.activeMenuItem.deactivate(),s.activeMenuItem=c.menuItem})},o.prototype.activateFirstItem=function(){var r=this.menuItems.filter(function(s){return!s.isDisabled()})[0];!r||r.activate()},o.prototype.addSeparator=function(){this.appendChild(di('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},o.prototype.findTopMenu=function(){var r=this.getParentComponent();if(!r&&this instanceof o)return this;for(;;){var s=r&&r.getParentComponent&&r.getParentComponent();if(!s||!(s instanceof o||s instanceof il))break;r=s}return r instanceof o?r:void 0},o.prototype.handleNavKey=function(r){switch(r){case ht.UP:case ht.DOWN:var s=this.findNextItem(r===ht.UP);return void(s&&s!==this.activeMenuItem&&s.activate())}r===(this.gridOptionsWrapper.isEnableRtl()?ht.RIGHT:ht.LEFT)?this.closeIfIsChild():this.openChild()},o.prototype.closeIfIsChild=function(r){var s=this.getParentComponent();s&&s instanceof il&&(r&&r.preventDefault(),s.closeSubMenu(),s.getGui().focus())},o.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},o.prototype.findNextItem=function(r){var s=this.menuItems.filter(function(F){return!F.isDisabled()});if(s.length){if(!this.activeMenuItem)return r?St(s):s[0];r&&s.reverse();for(var l,c=!1,p=0;p<s.length;p++){var v=s[p];if(c){l=v;break}v===this.activeMenuItem&&(c=!0)}return l||this.activeMenuItem}},o.prototype.destroy=function(){this.clearActiveItem(),u.prototype.destroy.call(this)},LC([de("focusService")],o.prototype,"focusService",void 0),LC([tt],o.prototype,"postConstruct",null),o}(kd),BS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),GC=function(u){function o(r){var s=u.call(this)||this;return s.wrappedComponent=r,s.setTemplateFromElement(r.getGui()),s}return BS(o,u),o.prototype.postConstruct=function(){var r=this;this.initialiseTabGuard({onTabKeyDown:function(s){return r.onTabKeyDown(s)},handleKeyDown:function(s){return r.handleKeyDown(s)}})},o.prototype.handleKeyDown=function(r){r.key===ht.ESCAPE&&this.closePanel()},o.prototype.onTabKeyDown=function(r){r.defaultPrevented||(this.closePanel(),r.preventDefault())},o.prototype.closePanel=function(){var r=this.parentComponent;r.closeSubMenu(),setTimeout(function(){return r.getGui().focus()},0)},function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);l>3&&c&&Object.defineProperty(o,r,c)}([tt],o.prototype,"postConstruct",null),o}(kd),HS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Od=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},il=function(u){function o(r){var s=u.call(this)||this;return s.params=r,s.isActive=!1,s.subMenuIsOpen=!1,s.setTemplate('<div class="'+s.getClassName()+'" tabindex="-1" role="treeitem"></div>'),s}return HS(o,u),o.prototype.init=function(){var r=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var s=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Vv(s,!0)):(this.addGuiEventListener("click",function(l){return r.onItemSelected(l)}),this.addGuiEventListener("keydown",function(l){(l.key===ht.ENTER||l.key===ht.SPACE)&&(l.preventDefault(),r.onItemSelected(l))}),this.addGuiEventListener("mousedown",function(l){l.stopPropagation(),l.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return r.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return r.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(l){return r.addCssClass(l)})},o.prototype.isDisabled=function(){return!!this.params.disabled},o.prototype.openSubMenu=function(r){var s=this;if(void 0===r&&(r=!1),this.closeSubMenu(),this.params.subMenu){var c,l=di('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var p=Nv(this.getGui()),v=isNaN(p)?1:p+1,F=this.createBean(new VC(v));F.setParentComponent(this),F.addMenuItems(this.params.subMenu),l.appendChild(F.getGui()),this.addManagedListener(F,o.EVENT_MENU_ITEM_SELECTED,function(Ue){return s.dispatchEvent(Ue)}),F.addGuiEventListener("mouseenter",function(){return s.cancelDeactivate()}),c=function(){return s.destroyBean(F)},r&&setTimeout(function(){return F.activateFirstItem()},0)}else{var B=this.params.subMenu,q=this.createBean(new GC(B));q.setParentComponent(this);var se=q.getGui(),fe="mouseenter",we=function(){return s.cancelDeactivate()};se.addEventListener(fe,we),c=function(){return se.removeEventListener(fe,we)},l.appendChild(se),B.afterGuiAttached&&setTimeout(function(){return B.afterGuiAttached()},0)}var xe=this.getGui(),Pe=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:xe,ePopup:l}),Be=this.gridOptionsWrapper.getLocaleTextFunc(),We=this.popupService.addPopup({modal:!0,eChild:l,positionCallback:Pe,anchorToElement:xe,ariaLabel:Be("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Xo(xe,!0),this.hideSubMenu=function(){We&&We.hideFunc(),s.subMenuIsOpen=!1,Xo(xe,!1),c()}}},o.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Xo(this.getGui(),!1))},o.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},o.prototype.activate=function(r){var s=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),r&&this.params.subMenu&&window.setTimeout(function(){s.isAlive()&&s.isActive&&s.openSubMenu()},300),this.onItemActivated())},o.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},o.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var r=di('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?r.appendChild(Ui("check",this.gridOptionsWrapper)):this.params.icon&&(vn(this.params.icon)?r.appendChild(this.params.icon):"string"==typeof this.params.icon?r.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(r)}},o.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var r=di('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(r)}},o.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Wn(this)))},o.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},o.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var r=di('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(r)}},o.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var r=di('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),s=this.getGui();if(this.params.subMenu){var l=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Xo(s,!1),r.appendChild(Ui(l,this.gridOptionsWrapper))}s.appendChild(r)}},o.prototype.onItemSelected=function(r){this.params.action?this.params.action():this.openSubMenu(r&&"keydown"===r.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:o.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:r})},o.prototype.onItemActivated=function(){this.dispatchEvent({type:o.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},o.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},o.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},o.prototype.onMouseEnter=function(){var r=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return r.activate(!0)},o.ACTIVATION_DELAY):this.activate(!0)},o.prototype.onMouseLeave=function(){var r=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return r.deactivate()},o.ACTIVATION_DELAY):this.deactivate()},o.prototype.getClassName=function(r){var s=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return r?s+"-"+r:s},o.EVENT_MENU_ITEM_SELECTED="menuItemSelected",o.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",o.ACTIVATION_DELAY=80,Od([de("popupService")],o.prototype,"popupService",void 0),Od([tt],o.prototype,"init",null),o}(ln),jS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),uo=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Tm=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},su=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var r;return jS(o,u),r=o,o.addKeyboardModeEvents=function(s,l){var c=r.instancesMonitored.get(s);c&&c.length>0?-1===c.indexOf(l)&&c.push(l):(r.instancesMonitored.set(s,[l]),s.addEventListener("keydown",r.toggleKeyboardMode),s.addEventListener("mousedown",r.toggleKeyboardMode))},o.removeKeyboardModeEvents=function(s,l){var c=r.instancesMonitored.get(s),p=[];c&&c.length&&(p=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(Tm(arguments[o]));return u}(c).filter(function(v){return v!==l}),r.instancesMonitored.set(s,p)),0===p.length&&(s.removeEventListener("keydown",r.toggleKeyboardMode),s.removeEventListener("mousedown",r.toggleKeyboardMode))},o.toggleKeyboardMode=function(s){var l=r.keyboardModeActive,c="keydown"===s.type;if(!(c&&(s.ctrlKey||s.metaKey||s.altKey)||l&&c||!l&&!c)){r.keyboardModeActive=c;var p=s.target.ownerDocument;if(p){var v=r.instancesMonitored.get(p);v&&v.forEach(function(F){F.dispatchEvent({type:c?Te.EVENT_KEYBOARD_FOCUS:Te.EVENT_MOUSE_FOCUS})})}}},o.prototype.init=function(){var s=this,l=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PIVOT_MODE_CHANGED,l),this.addManagedListener(this.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_GROUP_OPENED,l),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_ROW_GROUP_CHANGED,l),this.ctrlsService.whenReady(function(c){s.gridCtrl=c.gridCtrl;var p=s.gridOptionsWrapper.getDocument();r.addKeyboardModeEvents(p,s.gridCtrl),s.addDestroyFunc(function(){return s.unregisterGridCompController(s.gridCtrl)})})},o.prototype.unregisterGridCompController=function(s){var l=this.gridOptionsWrapper.getDocument();r.removeKeyboardModeEvents(l,s)},o.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var s=this.focusedCellPosition.column,l=this.columnModel.getGridColumn(s.getId());s!==l&&this.clearFocusedCell()}},o.prototype.isKeyboardMode=function(){return r.keyboardModeActive},o.prototype.getFocusCellToUseAfterRefresh=function(){var s=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(s.activeElement,Wl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},o.prototype.getFocusHeaderToUseAfterRefresh=function(){var s=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(s.activeElement,Za.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},o.prototype.isDomDataMissingInHierarchy=function(s,l){for(var c=s;c;){if(this.gridOptionsWrapper.getDomData(c,l))return!1;c=c.parentNode}return!0},o.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},o.prototype.getFocusedCell=function(){return this.focusedCellPosition},o.prototype.setFocusedCell=function(s,l,c,p){void 0===p&&(p=!1);var v=this.columnModel.getGridColumn(l);v?(this.focusedCellPosition=v?{rowIndex:s,rowPinned:k(c),column:v}:null,this.onCellFocused(p)):this.focusedCellPosition=null},o.prototype.isCellFocused=function(s){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===s.column&&this.isRowFocused(s.rowIndex,s.rowPinned)},o.prototype.isRowNodeFocused=function(s){return this.isRowFocused(s.rowIndex,s.rowPinned)},o.prototype.isHeaderWrapperFocused=function(s){if(null==this.focusedHeaderPosition)return!1;var l=s.getColumnGroupChild(),c=s.getRowIndex(),p=s.getPinned(),v=this.focusedHeaderPosition,F=v.column;return l===F&&c===v.headerRowIndex&&p==F.getPinned()},o.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},o.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},o.prototype.setFocusedHeader=function(s,l){this.focusedHeaderPosition={headerRowIndex:s,column:l}},o.prototype.focusHeaderPosition=function(s){var l=s.direction,c=s.fromTab,v=s.event,F=s.headerPosition;if(s.allowUserOverride){var fe,B=this.gridOptionsWrapper,q=this.getFocusedHeader(),se=this.headerNavigationService.getHeaderRowCount();c?(fe=B.getTabToNextHeaderFunc())&&(F=fe({backwards:"Before"===l,previousHeaderPosition:q,nextHeaderPosition:F,headerRowCount:se})):(fe=B.getNavigateToNextHeaderFunc())&&v&&(F=fe({key:v.key,previousHeaderPosition:q,nextHeaderPosition:F,headerRowCount:se,event:v}))}return!!F&&(-1===F.headerRowIndex?this.focusGridView(F.column):(this.headerNavigationService.scrollToColumn(F.column,l),this.ctrlsService.getHeaderRowContainerCtrl(F.column.getPinned()).focusHeader(F.headerRowIndex,F.column,v)))},o.prototype.focusFirstHeader=function(){var s=this.columnModel.getAllDisplayedColumns()[0];return!!s&&(s.getParent()&&(s=this.columnModel.getColumnGroupAtLevel(s,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:s}}))},o.prototype.focusLastHeader=function(s){var l=this.headerNavigationService.getHeaderRowCount()-1,c=St(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:c},event:s})},o.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},o.prototype.isRowFocused=function(s,l){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===s&&this.focusedCellPosition.rowPinned===k(l)},o.prototype.findFocusableElements=function(s,l,c){void 0===c&&(c=!1);var v=Ie.FOCUSABLE_EXCLUDE;l&&(v+=", "+l),c&&(v+=', [tabindex="-1"]');var fe,F=Array.prototype.slice.apply(s.querySelectorAll(Ie.FOCUSABLE_SELECTOR)),B=Array.prototype.slice.apply(s.querySelectorAll(v));return B.length?(fe=B,F.filter(function(we){return-1===fe.indexOf(we)})):F},o.prototype.focusInto=function(s,l,c){void 0===l&&(l=!1),void 0===c&&(c=!1);var p=this.findFocusableElements(s,null,c),v=l?St(p):p[0];return!!v&&(v.focus(),!0)},o.prototype.findNextFocusableElement=function(s,l,c){void 0===s&&(s=this.eGridDiv);var p=this.findFocusableElements(s,l?':not([tabindex="-1"])':null),F=this.gridOptionsWrapper.getDocument().activeElement,q=(l?p.findIndex(function(se){return se.contains(F)}):p.indexOf(F))+(c?-1:1);return q<0||q>=p.length?null:p[q]},o.prototype.isFocusUnderManagedComponent=function(s){var l=this.gridOptionsWrapper.getDocument(),c=s.querySelectorAll("."+fs.FOCUS_MANAGED_CLASS);if(!c.length)return!1;for(var p=0;p<c.length;p++)if(c[p].contains(l.activeElement))return!0;return!1},o.prototype.findTabbableParent=function(s,l){void 0===l&&(l=5);for(var c=0;s&&null===Gh(s)&&++c<=l;)s=s.parentElement;return null===Gh(s)?null:s},o.prototype.onCellFocused=function(s){var l={type:Te.EVENT_CELL_FOCUSED,forceBrowserFocus:s,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var c=l.rowIndex=this.focusedCellPosition.rowIndex,p=l.rowPinned=this.focusedCellPosition.rowPinned;l.column=this.focusedCellPosition.column;var v=this.rowRenderer.getRowByPosition({rowIndex:c,rowPinned:p});v&&(l.isFullWidthCell=v.isFullWidth())}this.eventService.dispatchEvent(l)},o.prototype.focusGridView=function(s,l){if(this.gridOptionsWrapper.isSuppressCellFocus())return l?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var c=l?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!c)return!1;var p=c.rowIndex,v=c.rowPinned,F=this.getFocusedHeader();return!s&&F&&(s=F.column),!(null==p||!s)&&(this.navigationService.ensureCellVisible({rowIndex:p,column:s,rowPinned:v}),this.setFocusedCell(p,s,k(v),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:p,rowPinned:v,column:s}),!0)},o.prototype.focusNextGridCoreContainer=function(s){return!!this.gridCtrl.focusNextInnerContainer(s)||(!s&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)},o.AG_KEYBOARD_FOCUS="ag-keyboard-focus",o.keyboardModeActive=!1,o.instancesMonitored=new Map,uo([de("eGridDiv")],o.prototype,"eGridDiv",void 0),uo([de("columnModel")],o.prototype,"columnModel",void 0),uo([de("headerNavigationService")],o.prototype,"headerNavigationService",void 0),uo([de("columnApi")],o.prototype,"columnApi",void 0),uo([de("gridApi")],o.prototype,"gridApi",void 0),uo([de("rowRenderer")],o.prototype,"rowRenderer",void 0),uo([de("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),uo([gn("rangeService")],o.prototype,"rangeService",void 0),uo([de("navigationService")],o.prototype,"navigationService",void 0),uo([de("ctrlsService")],o.prototype,"ctrlsService",void 0),uo([tt],o.prototype,"init",null),r=uo([ut("focusService")],o)}(ft),$S=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ql=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},rl=(()=>(function(u){u[u.vertical=0]="vertical",u[u.horizontal=1]="horizontal"}(rl||(rl={})),rl))(),WS=0,Em=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.popupList=[],r}return $S(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.gridCtrl=s.gridCtrl,r.addManagedListener(r.gridCtrl,Te.EVENT_KEYBOARD_FOCUS,function(){r.popupList.forEach(function(l){return l.element.classList.add(su.AG_KEYBOARD_FOCUS)})}),r.addManagedListener(r.gridCtrl,Te.EVENT_MOUSE_FOCUS,function(){r.popupList.forEach(function(l){return l.element.classList.remove(su.AG_KEYBOARD_FOCUS)})})})},o.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},o.prototype.positionPopupForMenu=function(r){var s=r.eventSource.getBoundingClientRect(),l=this.getParentRect(),c=this.keepXYWithinBounds(r.ePopup,s.top-l.top,rl.vertical),p=r.ePopup.clientWidth>0?r.ePopup.clientWidth:200;r.ePopup.style.minWidth=p+"px";var B,F=l.right-l.left-p;function q(){return s.right-l.left-2}function se(){return s.left-l.left-p}this.gridOptionsWrapper.isEnableRtl()?((B=se())<0&&(B=q()),B>F&&(B=0)):((B=q())>F&&(B=se()),B<0&&(B=0)),r.ePopup.style.left=B+"px",r.ePopup.style.top=c+"px"},o.prototype.positionPopupUnderMouseEvent=function(r){var s=r.ePopup,l=r.nudgeX,c=r.nudgeY,p=this.calculatePointerAlign(r.mouseEvent);this.positionPopup({ePopup:s,x:p.x,y:p.y,nudgeX:l,nudgeY:c,keepWithinBounds:!0}),this.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)},o.prototype.calculatePointerAlign=function(r){var s=this.getParentRect();return{x:r.clientX-s.left,y:r.clientY-s.top}},o.prototype.positionPopupUnderComponent=function(r){var s=r.eventSource.getBoundingClientRect(),l=r.alignSide||"left",c=this.getParentRect(),p=s.left-c.left;"right"===l&&(p-=r.ePopup.offsetWidth-s.width),this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:p,y:s.top-c.top+s.height,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},o.prototype.positionPopupOverComponent=function(r){var s=r.eventSource.getBoundingClientRect(),l=this.getParentRect();this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:s.left-l.left,y:s.top-l.top,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},o.prototype.callPostProcessPopup=function(r,s,l,c,p,v){var F=this.gridOptionsWrapper.getPostProcessPopupFunc();F&&F({column:p,rowNode:v,ePopup:s,type:r,eventSource:l,mouseEvent:c})},o.prototype.positionPopup=function(r){var s=r.ePopup,c=r.nudgeX,p=r.nudgeY,v=r.x,F=r.y;c&&(v+=c),p&&(F+=p),r.keepWithinBounds&&(v=this.keepXYWithinBounds(s,v,rl.horizontal),F=this.keepXYWithinBounds(s,F,rl.vertical)),s.style.left=v+"px",s.style.top=F+"px"},o.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},o.prototype.getPopupList=function(){return this.popupList},o.prototype.getParentRect=function(){var r=this.gridOptionsWrapper.getDocument(),s=this.getPopupParent();s===r.body&&(s=r.documentElement);var l=getComputedStyle(s),c=s.getBoundingClientRect();return{top:c.top+parseFloat(l.borderTopWidth)||0,left:c.left+parseFloat(l.borderLeftWidth)||0,right:c.right+parseFloat(l.borderRightWidth)||0,bottom:c.bottom+parseFloat(l.borderBottomWidth)||0}},o.prototype.keepXYWithinBounds=function(r,s,l){var c=l===rl.vertical,p=c?"clientHeight":"clientWidth",v=c?"top":"left",F=c?"offsetHeight":"offsetWidth",B=c?"scrollTop":"scrollLeft",q=this.gridOptionsWrapper.getDocument(),se=q.documentElement,fe=this.getPopupParent(),we=fe.getBoundingClientRect(),xe=q.documentElement.getBoundingClientRect(),Pe=fe===q.body,Be=r[F],Ue=Pe?(c?Hh:en)(se)+se[B]:fe[p];Pe&&(Ue-=Math.abs(xe[v]-we[v]));var Ze=Ue-Be;return Math.min(Math.max(s,0),Math.abs(Ze))},o.prototype.keepPopupPositionedRelativeTo=function(r){var s=this,l=this.getPopupParent(),c=l.getBoundingClientRect(),p=r.element.getBoundingClientRect(),v=c.top-p.top,F=c.left-p.left,B=v,q=F,se=r.ePopup.style.top,fe=parseInt(se.substring(0,se.length-1),10),we=r.ePopup.style.left,xe=parseInt(we.substring(0,we.length-1),10);return new oo(function(Pe){s.getFrameworkOverrides().setInterval(function(){var Be=l.getBoundingClientRect(),We=r.element.getBoundingClientRect();if(0==We.top&&0==We.left&&0==We.height&&0==We.width)r.hidePopup();else{var Ze=Be.top-We.top;if(Ze!=B){var gt=s.keepXYWithinBounds(r.ePopup,fe+v-Ze,rl.vertical);r.ePopup.style.top=gt+"px"}B=Ze;var Ut=Be.left-We.left;if(Ut!=q){var Sn=s.keepXYWithinBounds(r.ePopup,xe+F-Ut,rl.horizontal);r.ePopup.style.left=Sn+"px"}q=Ut}},200).then(function(Be){Pe(function(){null!=Be&&window.clearInterval(Be)})})})},o.prototype.addPopup=function(r){var s=this,l=r.modal,c=r.eChild,p=r.closeOnEsc,v=r.closedCallback,F=r.click,B=r.alwaysOnTop,q=r.afterGuiAttached,se=r.positionCallback,fe=r.anchorToElement,we=r.ariaLabel,xe=this.gridOptionsWrapper.getDocument(),Pe=new oo(function(Nn){return Nn(function(){})});if(!xe)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:Pe};var Be=this.popupList.findIndex(function(Nn){return Nn.element===c});if(-1!==Be){var We=this.popupList[Be];return{hideFunc:We.hideFunc,stopAnchoringPromise:We.stopAnchoringPromise}}var Ue=this.getPopupParent();null==c.style.top&&(c.style.top="0px"),null==c.style.left&&(c.style.left="0px");var Ze=document.createElement("div"),gt=this.environment.getTheme().theme;gt&&Ze.classList.add(gt),Ze.classList.add("ag-popup"),c.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),c.hasAttribute("role")||ar(c,"dialog"),Rl(c,we),this.focusService.isKeyboardMode()&&c.classList.add(su.AG_KEYBOARD_FOCUS),Ze.appendChild(c),Ue.appendChild(Ze),B?this.setAlwaysOnTop(Ze,!0):this.bringPopupToFront(Ze);var Ut=!1,Sn=function(Nn){Ze.contains(xe.activeElement)&&Nn.key===ht.ESCAPE&&Mn({keyboardEvent:Nn})},An=function(Nn){return Mn({mouseEvent:Nn})},Yt=function(Nn){return Mn({touchEvent:Nn})},Mn=function(Nn){void 0===Nn&&(Nn={});var Ii=Nn.mouseEvent,Si=Nn.touchEvent,Es=Nn.keyboardEvent;s.isEventFromCurrentPopup({mouseEvent:Ii,touchEvent:Si},c)||s.isEventSameChainAsOriginalEvent({originalMouseEvent:F,mouseEvent:Ii,touchEvent:Si})||Ut||(Ut=!0,Ue.removeChild(Ze),xe.removeEventListener("keydown",Sn),xe.removeEventListener("mousedown",An),xe.removeEventListener("touchstart",Yt),xe.removeEventListener("contextmenu",An),s.eventService.removeEventListener(Te.EVENT_DRAG_STARTED,An),v&&v(Ii||Si||Es),s.popupList=s.popupList.filter(function(ns){return ns.element!==c}),Pe&&Pe.then(function(ns){return ns&&ns()}))};return q&&q({hidePopup:Mn}),window.setTimeout(function(){p&&xe.addEventListener("keydown",Sn),l&&(xe.addEventListener("mousedown",An),s.eventService.addEventListener(Te.EVENT_DRAG_STARTED,An),xe.addEventListener("touchstart",Yt),xe.addEventListener("contextmenu",An))},0),se&&se(),fe&&(Pe=this.keepPopupPositionedRelativeTo({element:fe,ePopup:c,hidePopup:Mn})),this.popupList.push({element:c,wrapper:Ze,hideFunc:Mn,stopAnchoringPromise:Pe,instanceId:WS++,isAnchored:!!fe}),{hideFunc:Mn,stopAnchoringPromise:Pe}},o.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},o.prototype.isEventFromCurrentPopup=function(r,s){var p=r.mouseEvent||r.touchEvent;if(!p)return!1;var v=this.popupList.findIndex(function(q){return q.element===s});if(-1===v)return!1;for(var F=v;F<this.popupList.length;F++)if(Bu(this.popupList[F].element,p))return!0;return this.isElementWithinCustomPopup(p.target)},o.prototype.isElementWithinCustomPopup=function(r){for(var s=this.gridOptionsWrapper.getDocument();r&&r!==s.body;){if(r.classList.contains("ag-custom-component-popup")||null===r.parentElement)return!0;r=r.parentElement}return!1},o.prototype.isEventSameChainAsOriginalEvent=function(r){var s=r.originalMouseEvent,l=r.mouseEvent,c=r.touchEvent,p=null;if(l?p=l:c&&(p=c.touches[0]),p&&s){var F=l?l.screenY:0,B=Math.abs(s.screenX-(l?l.screenX:0))<5,q=Math.abs(s.screenY-F)<5;if(B&&q)return!0}return!1},o.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},o.prototype.setAlwaysOnTop=function(r,s){var l=this.getWrapper(r);!l||(l.classList.toggle("ag-always-on-top",!!s),s&&this.bringPopupToFront(l))},o.prototype.bringPopupToFront=function(r){var s=this.getPopupParent(),l=Array.prototype.slice.call(s.querySelectorAll(".ag-popup")),c=l.length,p=Array.prototype.slice.call(s.querySelectorAll(".ag-popup.ag-always-on-top")),v=p.length,F=this.getWrapper(r);if(F&&!(c<=1)&&s.contains(r)){var B=l.indexOf(F),q=F.querySelectorAll("div"),se=[];for(q.forEach(function(Pe){0!==Pe.scrollTop&&se.push([Pe,Pe.scrollTop])}),v?F.classList.contains("ag-always-on-top")?B!==c-1&&St(p).insertAdjacentElement("afterend",F):B!==c-v-1&&p[0].insertAdjacentElement("beforebegin",F):B!==c-1&&St(l).insertAdjacentElement("afterend",F);se.length;){var we=se.pop();we[0].scrollTop=we[1]}var xe={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:F};this.eventService.dispatchEvent(xe)}},Ql([de("environment")],o.prototype,"environment",void 0),Ql([de("focusService")],o.prototype,"focusService",void 0),Ql([de("ctrlsService")],o.prototype,"ctrlsService",void 0),Ql([tt],o.prototype,"postConstruct",null),Ql([ut("popupService")],o)}(ft),HC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Pd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},$C=(function(u){function o(r,s,l){void 0===r&&(r="default"),void 0===s&&(s="listbox");var c=u.call(this,o.getTemplate(r))||this;return c.cssIdentifier=r,c.ariaRole=s,c.listName=l,c.renderedRows=new Map,c.rowHeight=20,c.isDestroyed=!1,c}HC(o,u),o.prototype.postConstruct=function(){var r=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(s){return r.onFocusIn(s)},onFocusOut:function(s){return r.onFocusOut(s)},focusInnerElement:function(s){return r.focusInnerElement(s)},onTabKeyDown:function(s){return r.onTabKeyDown(s)},handleKeyDown:function(s){return r.handleKeyDown(s)}}),this.setAriaProperties()},o.prototype.setAriaProperties=function(){var s=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),l=this.eContainer;ar(l,this.ariaRole),Rl(l,s)},o.prototype.addResizeObserver=function(){var r=this.drawVirtualRows.bind(this),s=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(s)},o.prototype.focusInnerElement=function(r){this.focusRow(r?this.model.getRowCount()-1:0)},o.prototype.onFocusIn=function(r){var s=r.target;return s.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=kx(s)-1),!1},o.prototype.onFocusOut=function(r){return this.getFocusableElement().contains(r.relatedTarget)||(this.lastFocusedRowIndex=null),!1},o.prototype.handleKeyDown=function(r){switch(r.key){case ht.UP:case ht.DOWN:this.navigate(r.key===ht.UP)&&r.preventDefault()}},o.prototype.onTabKeyDown=function(r){this.navigate(r.shiftKey)?r.preventDefault():this.focusService.focusInto(this.getGui(),!r.shiftKey)},o.prototype.navigate=function(r){if(null==this.lastFocusedRowIndex)return!1;var s=this.lastFocusedRowIndex+(r?-1:1);return!(s<0||s>=this.model.getRowCount()||(this.focusRow(s),0))},o.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},o.prototype.focusRow=function(r){var s=this;this.ensureIndexVisible(r),window.setTimeout(function(){var l=s.renderedRows.get(r);l&&l.eDiv.focus()},10)},o.prototype.getComponentAt=function(r){var s=this.renderedRows.get(r);return s&&s.rowComponent},o.getTemplate=function(r){return'\n            <div class="ag-virtual-list-viewport ag-'+r+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+r+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},o.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},o.prototype.ensureIndexVisible=function(r){var s=this.model.getRowCount();if("number"!=typeof r||r<0||r>=s)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+r);else{var l=r*this.rowHeight,c=l+this.rowHeight,p=this.getGui(),v=p.scrollTop,F=p.offsetHeight,se=v+F<c;v>l?p.scrollTop=l:se&&(p.scrollTop=c-F)}},o.prototype.setComponentCreator=function(r){this.componentCreator=r},o.prototype.getRowHeight=function(){return this.rowHeight},o.prototype.getScrollTop=function(){return this.getGui().scrollTop},o.prototype.setRowHeight=function(r){this.rowHeight=r,this.refresh()},o.prototype.refresh=function(){var r=this;if(null!=this.model&&!this.isDestroyed){var s=this.model.getRowCount();this.eContainer.style.height=s*this.rowHeight+"px",wt(function(){return r.eContainer.clientHeight>=s*r.rowHeight},function(){r.isDestroyed||(r.clearVirtualRows(),r.drawVirtualRows())})}},o.prototype.clearVirtualRows=function(){var r=this;this.renderedRows.forEach(function(s,l){return r.removeRow(l)})},o.prototype.drawVirtualRows=function(){var r=this.getGui(),s=r.scrollTop,l=s+r.offsetHeight,c=Math.floor(s/this.rowHeight),p=Math.floor(l/this.rowHeight);this.ensureRowsRendered(c,p)},o.prototype.ensureRowsRendered=function(r,s){var l=this;this.renderedRows.forEach(function(p,v){(v<r||v>s)&&v!==l.lastFocusedRowIndex&&l.removeRow(v)});for(var c=r;c<=s;c++)this.renderedRows.has(c)||c<this.model.getRowCount()&&this.insertRow(c)},o.prototype.insertRow=function(r){var s=this,l=this.model.getRow(r),c=document.createElement("div");if(c.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),ar(c,"tree"===this.ariaRole?"treeitem":"option"),Gv(c,this.model.getRowCount()),Bv(c,r+1),c.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var p=this.model.isRowSelected(r);Ku(c,!!p),Vx(c,p)}c.style.height=this.rowHeight+"px",c.style.top=this.rowHeight*r+"px";var v=this.componentCreator(l,c);v.addGuiEventListener("focusin",function(){return s.lastFocusedRowIndex=r}),c.appendChild(v.getGui()),this.renderedRows.has(r-1)?this.renderedRows.get(r-1).eDiv.insertAdjacentElement("afterend",c):this.renderedRows.has(r+1)?this.renderedRows.get(r+1).eDiv.insertAdjacentElement("beforebegin",c):this.eContainer.appendChild(c),this.renderedRows.set(r,{rowComponent:v,eDiv:c})},o.prototype.removeRow=function(r){var s=this.renderedRows.get(r);this.eContainer.removeChild(s.eDiv),this.destroyBean(s.rowComponent),this.renderedRows.delete(r)},o.prototype.addScrollListener=function(){var r=this;this.addGuiEventListener("scroll",function(){return r.drawVirtualRows()})},o.prototype.setModel=function(r){this.model=r},o.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,u.prototype.destroy.call(this))},Pd([de("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Pd([de("focusService")],o.prototype,"focusService",void 0),Pd([ct("eContainer")],o.prototype,"eContainer",void 0),Pd([tt],o.prototype,"postConstruct",null)}(kd),["mouseover","mouseout","mouseenter","mouseleave"]),Ta=["touchstart","touchend","touchmove","touchcancel"],Id=function(){function u(){this.isOutsideAngular=function(o){return So($C,o)}}return u.prototype.setTimeout=function(o,r){window.setTimeout(o,r)},u.prototype.setInterval=function(o,r){return new oo(function(s){s(window.setInterval(o,r))})},u.prototype.addEventListener=function(o,r,s,l){var c=So(Ta,r);o.addEventListener(r,s,{capture:!!l,passive:c})},u.prototype.dispatchEvent=function(o,r,s){r()},u.prototype.frameworkComponent=function(o){return null},u.prototype.isFrameworkComponent=function(o){return!1},u}(),US=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Md=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},zS=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return US(o,u),o.prototype.getNextCellToFocus=function(r,s,l){return void 0===l&&(l=!1),l?this.getNextCellToFocusWithCtrlPressed(r,s):this.getNextCellToFocusWithoutCtrlPressed(r,s)},o.prototype.getNextCellToFocusWithCtrlPressed=function(r,s){var v,F,l=r===ht.UP,p=r===ht.LEFT;if(l||r===ht.DOWN)F=l?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),v=s.column;else{var B=this.columnModel.getAllDisplayedColumns(),q=this.gridOptionsWrapper.isEnableRtl();F=s.rowIndex,v=p!==q?B[0]:St(B)}return{rowIndex:F,rowPinned:null,column:v}},o.prototype.getNextCellToFocusWithoutCtrlPressed=function(r,s){for(var l=s,c=!1;!c;){switch(r){case ht.UP:l=this.getCellAbove(l);break;case ht.DOWN:l=this.getCellBelow(l);break;case ht.RIGHT:l=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(l):this.getCellToRight(l);break;case ht.LEFT:l=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(l):this.getCellToLeft(l);break;default:l=null,console.warn("AG Grid: unknown key for navigation "+r)}c=!l||this.isCellGoodToFocusOn(l)}return l},o.prototype.isCellGoodToFocusOn=function(r){var l,s=r.column;switch(r.rowPinned){case Ie.PINNED_TOP:l=this.pinnedRowModel.getPinnedTopRow(r.rowIndex);break;case Ie.PINNED_BOTTOM:l=this.pinnedRowModel.getPinnedBottomRow(r.rowIndex);break;default:l=this.rowModel.getRow(r.rowIndex)}return!!l&&!s.isSuppressNavigable(l)},o.prototype.getCellToLeft=function(r){if(!r)return null;var s=this.columnModel.getDisplayedColBefore(r.column);return s?{rowIndex:r.rowIndex,column:s,rowPinned:r.rowPinned}:null},o.prototype.getCellToRight=function(r){if(!r)return null;var s=this.columnModel.getDisplayedColAfter(r.column);return s?{rowIndex:r.rowIndex,column:s,rowPinned:r.rowPinned}:null},o.prototype.getRowBelow=function(r){var s=r.rowIndex,l=r.rowPinned;if(this.isLastRowInContainer(r))switch(l){case Ie.PINNED_BOTTOM:return null;case Ie.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(Ie.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Ie.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(Ie.PINNED_BOTTOM)?{rowIndex:0,rowPinned:Ie.PINNED_BOTTOM}:null}return{rowIndex:s+1,rowPinned:l}},o.prototype.getCellBelow=function(r){if(!r)return null;var s=this.getRowBelow(r);return s?{rowIndex:s.rowIndex,column:r.column,rowPinned:s.rowPinned}:null},o.prototype.isLastRowInContainer=function(r){var s=r.rowPinned,l=r.rowIndex;return s===Ie.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=l:s===Ie.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=l:this.paginationProxy.getPageLastRow()<=l},o.prototype.getRowAbove=function(r){var s=r.rowIndex,l=r.rowPinned;return(l?0===s:s===this.paginationProxy.getPageFirstRow())?l===Ie.PINNED_TOP?null:l&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(Ie.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:s-1,rowPinned:l}},o.prototype.getCellAbove=function(r){if(!r)return null;var s=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});return s?{rowIndex:s.rowIndex,column:r.column,rowPinned:s.rowPinned}:null},o.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},o.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:Ie.PINNED_TOP}},o.prototype.getNextTabbedCell=function(r,s){return s?this.getNextTabbedCellBackwards(r):this.getNextTabbedCellForwards(r)},o.prototype.getNextTabbedCellForwards=function(r){var s=this.columnModel.getAllDisplayedColumns(),l=r.rowIndex,c=r.rowPinned,p=this.columnModel.getDisplayedColAfter(r.column);if(!p){p=s[0];var v=this.getRowBelow(r);if(O(v)||!v.rowPinned&&!this.paginationProxy.isRowInPage(v))return null;l=v?v.rowIndex:null,c=v?v.rowPinned:null}return{rowIndex:l,column:p,rowPinned:c}},o.prototype.getNextTabbedCellBackwards=function(r){var s=this.columnModel.getAllDisplayedColumns(),l=r.rowIndex,c=r.rowPinned,p=this.columnModel.getDisplayedColBefore(r.column);if(!p){p=St(s);var v=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});if(O(v)||!v.rowPinned&&!this.paginationProxy.isRowInPage(v))return null;l=v?v.rowIndex:null,c=v?v.rowPinned:null}return{rowIndex:l,column:p,rowPinned:c}},Md([de("columnModel")],o.prototype,"columnModel",void 0),Md([de("rowModel")],o.prototype,"rowModel",void 0),Md([de("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Md([de("paginationProxy")],o.prototype,"paginationProxy",void 0),Md([ut("cellNavigationService")],o)}(ft),Dm=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),au=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Am=function(u,o){return function(r,s){o(r,s,u)}},lu=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.consuming=!1,r}return Dm(o,u),o.prototype.setBeans=function(r){this.logger=r.create("AlignedGridsService")},o.prototype.init=function(){this.addManagedListener(this.eventService,Te.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},o.prototype.fireEvent=function(r){if(!this.consuming){var s=this.gridOptionsWrapper.getAlignedGrids();s&&s.forEach(function(l){if(l.api){var c=l.api.__getAlignedGridService();r(c)}})}},o.prototype.onEvent=function(r){this.consuming=!0,r(),this.consuming=!1},o.prototype.fireColumnEvent=function(r){this.fireEvent(function(s){s.onColumnEvent(r)})},o.prototype.fireScrollEvent=function(r){"horizontal"===r.direction&&this.fireEvent(function(s){s.onScrollEvent(r)})},o.prototype.onScrollEvent=function(r){var s=this;this.onEvent(function(){s.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(r.left)})},o.prototype.getMasterColumns=function(r){var s=[];return r.columns?r.columns.forEach(function(l){s.push(l)}):r.column&&s.push(r.column),s},o.prototype.getColumnIds=function(r){var s=[];return r.columns?r.columns.forEach(function(l){s.push(l.getColId())}):r.column&&s.push(r.column.getColId()),s},o.prototype.onColumnEvent=function(r){var s=this;this.onEvent(function(){switch(r.type){case Te.EVENT_COLUMN_MOVED:case Te.EVENT_COLUMN_VISIBLE:case Te.EVENT_COLUMN_PINNED:case Te.EVENT_COLUMN_RESIZED:s.processColumnEvent(r);break;case Te.EVENT_COLUMN_GROUP_OPENED:s.processGroupOpenedEvent(r);break;case Te.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},o.prototype.processGroupOpenedEvent=function(r){var s=r.columnGroup,l=null;if(s){var c=s.getGroupId();l=this.columnModel.getProvidedColumnGroup(c)}s&&!l||(this.logger.log("onColumnEvent-> processing "+r+" expanded = "+s.isExpanded()),this.columnModel.setColumnGroupOpened(l,s.isExpanded(),"alignedGridChanged"))},o.prototype.processColumnEvent=function(r){var s=this,l=r.column,c=null;if(l&&(c=this.columnModel.getPrimaryColumn(l.getColId())),!l||c){var p=this.getMasterColumns(r);switch(r.type){case Te.EVENT_COLUMN_MOVED:var v=r,B=r.columnApi.getColumnState().map(function(Be){return{colId:Be.colId}});this.columnModel.applyColumnState({state:B,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" toIndex = "+v.toIndex);break;case Te.EVENT_COLUMN_VISIBLE:var q=r;B=r.columnApi.getColumnState().map(function(Ue){return{colId:Ue.colId,hide:Ue.hide}}),this.columnModel.applyColumnState({state:B},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" visible = "+q.visible);break;case Te.EVENT_COLUMN_PINNED:var se=r;B=r.columnApi.getColumnState().map(function(Ue){return{colId:Ue.colId,pinned:Ue.pinned}}),this.columnModel.applyColumnState({state:B},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" pinned = "+se.pinned);break;case Te.EVENT_COLUMN_RESIZED:var fe=r;p.forEach(function(Be){s.logger.log("onColumnEvent-> processing "+r.type+" actualWidth = "+Be.getActualWidth());var We=[{key:Be.getColId(),newWidth:Be.getActualWidth()}];s.columnModel.setColumnWidths(We,!1,fe.finished,"alignedGridChanged")})}var xe=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),Pe=this.gridOptionsWrapper.getAlignedGrids();Pe&&Pe.forEach(function(Be){Be.api&&Be.api.setAlwaysShowVerticalScroll(xe)})}},au([de("columnModel")],o.prototype,"columnModel",void 0),au([de("ctrlsService")],o.prototype,"ctrlsService",void 0),au([Am(0,oi("loggerFactory"))],o.prototype,"setBeans",null),au([tt],o.prototype,"init",null),au([ut("alignedGridsService")],o)}(ft),YS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ol=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},WC=function(u,o){return function(r,s){o(r,s,u)}},km=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return YS(o,u),o.prototype.setBeans=function(r){this.logger=r.create("selectionService"),this.reset()},o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,Te.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},o.prototype.setLastSelectedNode=function(r){this.lastSelectedNode=r},o.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},o.prototype.getSelectedNodes=function(){var r=[];return E(this.selectedNodes,function(s,l){l&&r.push(l)}),r},o.prototype.getSelectedRows=function(){var r=[];return E(this.selectedNodes,function(s,l){l&&l.data&&r.push(l.data)}),r},o.prototype.removeGroupsFromSelection=function(){var r=this;E(this.selectedNodes,function(s,l){l&&l.group&&(r.selectedNodes[l.id]=void 0)})},o.prototype.updateGroupsFromChildrenSelections=function(r){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE){var l=this.rowModel.getRootNode();r||(r=new Sd(!0,l)).setInactive(),r.forEachChangedNodeDepthFirst(function(c){c!==l&&c.calculateSelectedFromChildren()})}},o.prototype.getNodeForIdIfSelected=function(r){return this.selectedNodes[r]},o.prototype.clearOtherNodes=function(r){var s=this,l={},c=0;return E(this.selectedNodes,function(p,v){v&&v.id!==r.id&&(c+=s.selectedNodes[v.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),s.groupSelectsChildren&&v.parent&&(l[v.parent.id]=v.parent))}),E(l,function(p,v){v.calculateSelectedFromChildren()}),c},o.prototype.onRowSelected=function(r){var s=r.node;this.groupSelectsChildren&&s.group||(this.selectedNodes[s.id]=s.isSelected()?s:void 0)},o.prototype.syncInRowNode=function(r,s){this.syncInOldRowNode(r,s),this.syncInNewRowNode(r)},o.prototype.syncInOldRowNode=function(r,s){I(s)&&r.id!==s.id&&s&&this.selectedNodes[s.id]==r&&(this.selectedNodes[s.id]=s)},o.prototype.syncInNewRowNode=function(r){I(this.selectedNodes[r.id])?(r.setSelectedInitialValue(!0),this.selectedNodes[r.id]=r):r.setSelectedInitialValue(!1)},o.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},o.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE){var s=this.rowModel.getTopLevelNodes();if(null!==s){var l=[];return function c(p){for(var v=0,F=p.length;v<F;v++){var B=p[v];B.isSelected()?l.push(B):B.group&&B.children&&c(B.children)}}(s),l}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},o.prototype.setRowModel=function(r){this.rowModel=r},o.prototype.isEmpty=function(){var r=0;return E(this.selectedNodes,function(s,l){l&&r++}),0===r},o.prototype.deselectAllRowNodes=function(r){void 0===r&&(r=!1);var s=function(v){return v.selectThisNode(!1)},l=this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE;if(r){if(!l)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(s)}else E(this.selectedNodes,function(v,F){F&&s(F)}),this.reset();l&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Te.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectAllRowNodes=function(r){if(void 0===r&&(r=!1),this.rowModel.getType()!==Ie.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var s=this.rowModel,l=function(p){return p.selectThisNode(!0)};r?s.forEachNodeAfterFilter(l):s.forEachNode(l),this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:Te.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.selectNode=function(r,s){r&&r.setSelectedParams({newValue:!0,clearSelection:!s})},o.prototype.deselectIndex=function(r){var s=this.rowModel.getRow(r);this.deselectNode(s)},o.prototype.deselectNode=function(r){r&&r.setSelectedParams({newValue:!1,clearSelection:!1})},o.prototype.selectIndex=function(r,s){var l=this.rowModel.getRow(r);this.selectNode(l,s)},ol([de("rowModel")],o.prototype,"rowModel",void 0),ol([de("columnApi")],o.prototype,"columnApi",void 0),ol([de("gridApi")],o.prototype,"gridApi",void 0),ol([WC(0,oi("loggerFactory"))],o.prototype,"setBeans",null),ol([tt],o.prototype,"init",null),ol([ut("selectionService")],o)}(ft),$p=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},UC=function(){function u(){}return u.prototype.sizeColumnsToFit=function(o){void 0===o&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(o,"api")},u.prototype.setColumnGroupOpened=function(o,r){this.columnModel.setColumnGroupOpened(o,r,"api")},u.prototype.getColumnGroup=function(o,r){return this.columnModel.getColumnGroup(o,r)},u.prototype.getProvidedColumnGroup=function(o){return this.columnModel.getProvidedColumnGroup(o)},u.prototype.getDisplayNameForColumn=function(o,r){return this.columnModel.getDisplayNameForColumn(o,r)||""},u.prototype.getDisplayNameForColumnGroup=function(o,r){return this.columnModel.getDisplayNameForColumnGroup(o,r)||""},u.prototype.getColumn=function(o){return this.columnModel.getPrimaryColumn(o)},u.prototype.applyColumnState=function(o){return this.columnModel.applyColumnState(o,"api")},u.prototype.getColumnState=function(){return this.columnModel.getColumnState()},u.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},u.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},u.prototype.setColumnGroupState=function(o){this.columnModel.setColumnGroupState(o,"api")},u.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},u.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},u.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},u.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},u.prototype.getDisplayedColAfter=function(o){return this.columnModel.getDisplayedColAfter(o)},u.prototype.getDisplayedColBefore=function(o){return this.columnModel.getDisplayedColBefore(o)},u.prototype.setColumnVisible=function(o,r){this.columnModel.setColumnVisible(o,r,"api")},u.prototype.setColumnsVisible=function(o,r){this.columnModel.setColumnsVisible(o,r,"api")},u.prototype.setColumnPinned=function(o,r){this.columnModel.setColumnPinned(o,r,"api")},u.prototype.setColumnsPinned=function(o,r){this.columnModel.setColumnsPinned(o,r,"api")},u.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},u.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},u.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},u.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},u.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},u.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},u.prototype.moveColumn=function(o,r){"number"==typeof o?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(o,r,"api")):this.columnModel.moveColumn(o,r,"api")},u.prototype.moveColumnByIndex=function(o,r){this.columnModel.moveColumnByIndex(o,r,"api")},u.prototype.moveColumns=function(o,r){this.columnModel.moveColumns(o,r,"api")},u.prototype.moveRowGroupColumn=function(o,r){this.columnModel.moveRowGroupColumn(o,r)},u.prototype.setColumnAggFunc=function(o,r){this.columnModel.setColumnAggFunc(o,r)},u.prototype.setColumnWidth=function(o,r,s,l){void 0===s&&(s=!0),this.columnModel.setColumnWidths([{key:o,newWidth:r}],!1,s,l)},u.prototype.setColumnWidths=function(o,r,s){void 0===r&&(r=!0),this.columnModel.setColumnWidths(o,!1,r,s)},u.prototype.setPivotMode=function(o){this.columnModel.setPivotMode(o)},u.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},u.prototype.getSecondaryPivotColumn=function(o,r){return this.columnModel.getSecondaryPivotColumn(o,r)},u.prototype.setValueColumns=function(o){this.columnModel.setValueColumns(o,"api")},u.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},u.prototype.removeValueColumn=function(o){this.columnModel.removeValueColumn(o,"api")},u.prototype.removeValueColumns=function(o){this.columnModel.removeValueColumns(o,"api")},u.prototype.addValueColumn=function(o){this.columnModel.addValueColumn(o,"api")},u.prototype.addValueColumns=function(o){this.columnModel.addValueColumns(o,"api")},u.prototype.setRowGroupColumns=function(o){this.columnModel.setRowGroupColumns(o,"api")},u.prototype.removeRowGroupColumn=function(o){this.columnModel.removeRowGroupColumn(o,"api")},u.prototype.removeRowGroupColumns=function(o){this.columnModel.removeRowGroupColumns(o,"api")},u.prototype.addRowGroupColumn=function(o){this.columnModel.addRowGroupColumn(o,"api")},u.prototype.addRowGroupColumns=function(o){this.columnModel.addRowGroupColumns(o,"api")},u.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},u.prototype.setPivotColumns=function(o){this.columnModel.setPivotColumns(o,"api")},u.prototype.removePivotColumn=function(o){this.columnModel.removePivotColumn(o,"api")},u.prototype.removePivotColumns=function(o){this.columnModel.removePivotColumns(o,"api")},u.prototype.addPivotColumn=function(o){this.columnModel.addPivotColumn(o,"api")},u.prototype.addPivotColumns=function(o){this.columnModel.addPivotColumns(o,"api")},u.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},u.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},u.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},u.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},u.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},u.prototype.autoSizeColumn=function(o,r){return this.columnModel.autoSizeColumn(o,r,"api")},u.prototype.autoSizeColumns=function(o,r){this.columnModel.autoSizeColumns({columns:o,skipHeader:r})},u.prototype.autoSizeAllColumns=function(o){this.columnModel.autoSizeAllColumns(o,"api")},u.prototype.setSecondaryColumns=function(o){this.columnModel.setSecondaryColumns(o,"api")},u.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},u.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},u.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(an.removeAllReferences.bind(window,this,"Column API"),100)},u.prototype.columnGroupOpened=function(o,r){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(o,r)},u.prototype.hideColumns=function(o,r){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(o,!r,"api")},u.prototype.hideColumn=function(o,r){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(o,!r,"api")},u.prototype.setState=function(o){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(o)},u.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},u.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},u.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},u.prototype.removeAggregationColumn=function(o){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(o,"api")},u.prototype.removeAggregationColumns=function(o){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(o,"api")},u.prototype.addAggregationColumn=function(o){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(o,"api")},u.prototype.addAggregationColumns=function(o){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(o,"api")},u.prototype.setColumnAggFunction=function(o,r){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(o,r,"api")},u.prototype.getDisplayNameForCol=function(o){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(o,null)},u.prototype.setColumnState=function(o){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:o,applyOrder:!0},"api")},u.prototype.getOriginalColumnGroup=function(o){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(o)},$p([de("columnModel")],u.prototype,"columnModel",void 0),$p([Kt],u.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),$p([ut("columnApi")],u)}(),Rm=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Nd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},zC=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.initialised=!1,r}return Rm(o,u),o.prototype.init=function(){var r=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(Te.EVENT_CELL_VALUE_CHANGED,function(s){return r.callColumnCellValueChangedHandler(s)},this.gridOptionsWrapper.useAsyncEvents())},o.prototype.getValue=function(r,s,l,c){if(void 0===l&&(l=!1),void 0===c&&(c=!1),this.initialised||this.init(),s){var q,p=r.getColDef(),v=p.field,F=r.getId(),B=s.data,se=s.groupData&&void 0!==s.groupData[F],fe=!c&&s.aggData&&void 0!==s.aggData[F];if(l&&p.filterValueGetter?q=this.executeFilterValueGetter(p.filterValueGetter,B,r,s):this.gridOptionsWrapper.isTreeData()&&fe?q=s.aggData[F]:this.gridOptionsWrapper.isTreeData()&&p.valueGetter?q=this.executeValueGetter(p.valueGetter,B,r,s):this.gridOptionsWrapper.isTreeData()&&v&&B?q=Se(B,v,r.isFieldContainsDots()):se?q=s.groupData[F]:fe?q=s.aggData[F]:p.valueGetter?q=this.executeValueGetter(p.valueGetter,B,r,s):v&&B&&(q=Se(B,v,r.isFieldContainsDots())),this.cellExpressions&&"string"==typeof q&&0===q.indexOf("=")){var we=q.substring(1);q=this.executeValueGetter(we,B,r,s)}if(null==q){var xe=this.getOpenedGroup(s,r);if(null!=xe)return xe}return q}},o.prototype.getOpenedGroup=function(r,s){if(this.gridOptionsWrapper.isShowOpenedGroup()&&s.getColDef().showRowGroup)for(var c=s.getColDef().showRowGroup,p=r.parent;null!=p;){if(p.rowGroupColumn&&(!0===c||c===p.rowGroupColumn.getId()))return p.key;p=p.parent}},o.prototype.setValue=function(r,s,l,c){var p=this.columnModel.getPrimaryColumn(s);if(!r||!p)return!1;O(r.data)&&(r.data={});var v=p.getColDef(),F=v.field,B=v.newValueHandler,q=v.valueSetter;if(O(F)&&O(B)&&O(q))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var fe,se={node:r,data:r.data,oldValue:this.getValue(p,r),newValue:l,colDef:p.getColDef(),column:p,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return se.newValue=l,void 0===(fe=B&&I(B)?B(se):I(q)?this.expressionService.evaluate(q,se):this.setValueUsingField(r.data,F,l,p.isFieldContainsDots()))&&(fe=!0),!!fe&&(r.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),se.newValue=this.getValue(p,r),this.eventService.dispatchEvent({type:Te.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:se.column,api:se.api,columnApi:se.columnApi,colDef:se.colDef,context:se.context,data:r.data,node:r,oldValue:se.oldValue,newValue:se.newValue,value:se.newValue,source:c}),!0)},o.prototype.callColumnCellValueChangedHandler=function(r){var s=r.colDef.onCellValueChanged;"function"==typeof s&&s({node:r.node,data:r.data,oldValue:r.oldValue,newValue:r.newValue,colDef:r.colDef,column:r.column,api:r.api,columnApi:r.columnApi,context:r.context})},o.prototype.setValueUsingField=function(r,s,l,c){if(!s)return!1;if(c)for(var v=s.split("."),F=r;v.length>0&&F;){var B=v.shift();0===v.length?F[B]=l:F=F[B]}else r[s]=l;return!0},o.prototype.executeFilterValueGetter=function(r,s,l,c){var p={data:s,node:c,column:l,colDef:l.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)};return this.expressionService.evaluate(r,p)},o.prototype.executeValueGetter=function(r,s,l,c){var p=l.getId(),v=this.valueCache.getValue(c,p);if(void 0!==v)return v;var F={data:s,node:c,column:l,colDef:l.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)},B=this.expressionService.evaluate(r,F);return this.valueCache.setValue(c,p,B),B},o.prototype.getValueCallback=function(r,s){var l=this.columnModel.getPrimaryColumn(s);return l?this.getValue(l,r):null},o.prototype.getKeyForNode=function(r,s){var l=this.getValue(r,s),c=r.getColDef().keyCreator,p=l;return c&&(p=c({value:l,colDef:r.getColDef(),column:r,node:s,data:s.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof p||null==p||"[object Object]"===(p=String(p))&&ze(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),p},Nd([de("expressionService")],o.prototype,"expressionService",void 0),Nd([de("columnModel")],o.prototype,"columnModel",void 0),Nd([de("valueCache")],o.prototype,"valueCache",void 0),Nd([tt],o.prototype,"init",null),Nd([ut("valueService")],o)}(ft),YC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Zl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},KC=function(u,o){return function(r,s){o(r,s,u)}},qC=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.expressionToFunctionCache={},r}return YC(o,u),o.prototype.setBeans=function(r){this.logger=r.create("ExpressionService")},o.prototype.evaluate=function(r,s){return"function"==typeof r?r(s):"string"==typeof r?this.evaluateExpression(r,s):void console.error("AG Grid: value should be either a string or a function",r)},o.prototype.evaluateExpression=function(r,s){try{return this.createExpressionFunction(r)(s.value,s.context,s.oldValue,s.newValue,s.value,s.node,s.data,s.colDef,s.rowIndex,s.api,s.columnApi,s.getValue,s.column,s.columnGroup)}catch(p){return console.log("Processing of the expression failed"),console.log("Expression = "+r),console.log("Params =",s),console.log("Exception = "+p),null}},o.prototype.createExpressionFunction=function(r){if(this.expressionToFunctionCache[r])return this.expressionToFunctionCache[r];var s=this.createFunctionBody(r),l=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",s);return this.expressionToFunctionCache[r]=l,l},o.prototype.createFunctionBody=function(r){return r.indexOf("return")>=0?r:"return "+r+";"},Zl([KC(0,oi("loggerFactory"))],o.prototype,"setBeans",null),Zl([ut("expressionService")],o)}(ft),KS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),XC=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.templateCache={},r.waitingCallbacks={},r}return KS(o,u),o.prototype.getTemplate=function(r,s){var l=this.templateCache[r];if(l)return l;var c=this.waitingCallbacks[r],p=this;if(!c){this.waitingCallbacks[r]=c=[];var v=new XMLHttpRequest;v.onload=function(){p.handleHttpResult(this,r)},v.open("GET",r),v.send()}return s&&c.push(s),null},o.prototype.handleHttpResult=function(r,s){if(200===r.status&&null!==r.response){this.templateCache[s]=r.response||r.responseText;for(var l=this.waitingCallbacks[s],c=0;c<l.length;c++)(0,l[c])()}else console.warn("AG Grid: Unable to get template error "+r.status+" - "+s)},o=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut("templateService")],o),o}(ft),qS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),QC=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},XS=function(u,o){return function(r,s){o(r,s,u)}},Ri=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return qS(o,u),o.prototype.setBeans=function(r){this.logging=r.isDebug()},o.prototype.create=function(r){return new uu(r,this.isLogging.bind(this))},o.prototype.isLogging=function(){return this.logging},QC([XS(0,oi("gridOptionsWrapper"))],o.prototype,"setBeans",null),QC([ut("loggerFactory")],o)}(ft),uu=function(){function u(o,r){this.name=o,this.isLoggingFunc=r}return u.prototype.isLogging=function(){return this.isLoggingFunc()},u.prototype.log=function(o){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+o)},u}(),ZC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),sl=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Om=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return ZC(o,u),o.prototype.setComp=function(r,s,l){var c=this;this.view=r,this.eGridHostDiv=s,this.eGui=l,this.mouseEventService.stampTopLevelGridCompWithGridInstance(s),this.createManagedBean(new Xc(this.view)),this.addRtlSupport(),this.addManagedListener(this,Te.EVENT_KEYBOARD_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,Te.EVENT_MOUSE_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!1)});var p=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return p()}),this.ctrlsService.registerGridCtrl(this)},o.prototype.isDetailGrid=function(){var r,s;return(null===(s=null===(r=this.focusService.findTabbableParent(this.getGui()))||void 0===r?void 0:r.getAttribute("row-id"))||void 0===s?void 0:s.startsWith("detail"))||!1},o.prototype.showDropZones=function(){return Le.isRegistered(z.GXE.RowGroupingModule)},o.prototype.showSideBar=function(){return Le.isRegistered(z.GXE.SideBarModule)},o.prototype.showStatusBar=function(){return Le.isRegistered(z.GXE.StatusBarModule)},o.prototype.showWatermark=function(){return Le.isRegistered(z.GXE.EnterpriseCoreModule)},o.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:Te.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},o.prototype.addRtlSupport=function(){var r=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(r)},o.prototype.destroyGridUi=function(){this.view.destroyGridUi()},o.prototype.getGui=function(){return this.eGui},o.prototype.setResizeCursor=function(r){this.view.setCursor(r?"ew-resize":null)},o.prototype.disableUserSelect=function(r){this.view.setUserSelect(r?"none":null)},o.prototype.focusNextInnerContainer=function(r){var s=this.gridOptionsWrapper.getDocument(),l=this.view.getFocusableContainers(),p=l.findIndex(function(v){return v.contains(s.activeElement)})+(r?-1:1);return!(p<=0||p>=l.length)&&this.focusService.focusInto(l[p])},o.prototype.focusInnerElement=function(r){var s=this.view.getFocusableContainers();if(r){if(s.length>1)return this.focusService.focusInto(St(s),!0);var l=St(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(l,!0))return!0}return this.focusService.focusFirstHeader()},o.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.view.forceFocusOutOfContainer(r)},sl([de("columnApi")],o.prototype,"columnApi",void 0),sl([de("gridApi")],o.prototype,"gridApi",void 0),sl([de("focusService")],o.prototype,"focusService",void 0),sl([de("resizeObserverService")],o.prototype,"resizeObserverService",void 0),sl([de("columnModel")],o.prototype,"columnModel",void 0),sl([de("ctrlsService")],o.prototype,"ctrlsService",void 0),sl([de("mouseEventService")],o.prototype,"mouseEventService",void 0),o}(ft),JC=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Fd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},e0=function(u){function o(r){var s=u.call(this,void 0)||this;return s.eGridDiv=r,s}return JC(o,u),o.prototype.postConstruct=function(){var r=this;this.logger=this.loggerFactory.create("GridComp");var s={destroyGridUi:function(){return r.destroyBean(r)},setRtlClass:function(c){return r.addCssClass(c)},addOrRemoveKeyboardFocusClass:function(c){return r.addOrRemoveCssClass(su.AG_KEYBOARD_FOCUS,c)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(c){r.getGui().style.userSelect=null!=c?c:"",r.getGui().style.webkitUserSelect=null!=c?c:""},setCursor:function(c){r.getGui().style.cursor=null!=c?c:""}};this.ctrl=this.createManagedBean(new Om);var l=this.createTemplate();this.setTemplate(l),this.ctrl.setComp(s,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(c){return r.ctrl.focusInnerElement(c)}})},o.prototype.insertGridIntoDom=function(){var r=this,s=this.getGui();this.eGridDiv.appendChild(s),this.addDestroyFunc(function(){r.eGridDiv.removeChild(s),r.logger.log("Grid removed from DOM")})},o.prototype.updateLayoutClasses=function(r,s){var l=this.eRootWrapperBody.classList;l.toggle(z.LBn.AUTO_HEIGHT,s.autoHeight),l.toggle(z.LBn.NORMAL,s.normal),l.toggle(z.LBn.PRINT,s.print),this.addOrRemoveCssClass(z.LBn.AUTO_HEIGHT,s.autoHeight),this.addOrRemoveCssClass(z.LBn.NORMAL,s.normal),this.addOrRemoveCssClass(z.LBn.PRINT,s.print)},o.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},o.prototype.getFocusableElement=function(){return this.eRootWrapperBody},o.prototype.getFocusableContainers=function(){var r=[this.gridBodyComp.getGui()];return this.sideBarComp&&r.push(this.sideBarComp.getGui()),r.filter(function(s){return Yo(s)})},Fd([de("loggerFactory")],o.prototype,"loggerFactory",void 0),Fd([ct("gridBody")],o.prototype,"gridBodyComp",void 0),Fd([ct("sideBar")],o.prototype,"sideBarComp",void 0),Fd([ct("rootWrapperBody")],o.prototype,"eRootWrapperBody",void 0),Fd([tt],o.prototype,"postConstruct",null),o}(kd),QS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Wp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Pm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var r;return QS(o,u),r=o,o.prototype.progressSort=function(s,l,c){var p=this.getNextSortDirection(s);this.setSortForColumn(s,p,l,c)},o.prototype.setSortForColumn=function(s,l,c,p){l!==Ie.SORT_ASC&&l!==Ie.SORT_DESC&&(l=null),s.setSort(l,p),(c||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(s,p),this.updateSortIndex(s),this.dispatchSortChangedEvents(p)},o.prototype.updateSortIndex=function(s){var l=this.getColumnsWithSortingOrdered(),c=0;l.forEach(function(v){v!==s&&(v.setSortIndex(c),c++)}),s.getSort()&&s.setSortIndex(c),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(v){return null==v.getSort()}).forEach(function(v){return v.setSortIndex()})},o.prototype.onSortChanged=function(s){this.dispatchSortChangedEvents(s)},o.prototype.isSortActive=function(){var l=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});return l&&l.length>0},o.prototype.dispatchSortChangedEvents=function(s){this.eventService.dispatchEvent({type:Te.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:s})},o.prototype.clearSortBarThisColumn=function(s,l){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){c!==s&&c.setSort(void 0,l)})},o.prototype.getNextSortDirection=function(s){var l;if(l=s.getColDef().sortingOrder?s.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():r.DEFAULT_SORTING_ORDER,!Array.isArray(l)||l.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+l),null;var F,c=l.indexOf(s.getSort());return r.DEFAULT_SORTING_ORDER.indexOf(F=c<0||c==l.length-1?l[0]:l[c+1])<0?(console.warn("AG Grid: invalid sort type "+F),null):F},o.prototype.getColumnsWithSortingOrdered=function(){var s=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),l=s.filter(function(p){return!!p.getSort()}),c={};return s.forEach(function(p,v){return c[p.getId()]=v}),l.sort(function(p,v){var F=p.getSortIndex(),B=v.getSortIndex();return null!=F&&null!=B?F-B:null==F&&null==B?c[p.getId()]>c[v.getId()]?1:-1:null==B?-1:1}),l},o.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),colId:s.getId()}})},o.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(s){return{sort:s.getSort(),column:s}})},o.DEFAULT_SORTING_ORDER=[Ie.SORT_ASC,Ie.SORT_DESC,null],Wp([de("columnModel")],o.prototype,"columnModel",void 0),Wp([de("columnApi")],o.prototype,"columnApi",void 0),Wp([de("gridApi")],o.prototype,"gridApi",void 0),r=Wp([ut("sortController")],o)}(ft),kR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Up=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},ZS=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return kR(o,u),o.prototype.setMouseOver=function(r){this.selectedColumns=r,this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:Te.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.isHovered=function(r){return!!this.selectedColumns&&this.selectedColumns.indexOf(r)>=0},Up([de("columnApi")],o.prototype,"columnApi",void 0),Up([de("gridApi")],o.prototype,"gridApi",void 0),Up([ut("columnHoverService")],o)}(ft),JS=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),t0=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},RR=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.executeNextFuncs=[],r.executeLaterFuncs=[],r.active=!1,r.animationThreadCount=0,r}return JS(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){return r.gridBodyCtrl=s.gridBodyCtrl})},o.prototype.isActive=function(){return this.active},o.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},o.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},o.prototype.executeNextVMTurn=function(r){this.active?this.executeNextFuncs.push(r):r()},o.prototype.executeLaterVMTurn=function(r){this.active?this.executeLaterFuncs.push(r):r()},o.prototype.ensureAnimationCssClassPresent=function(){var r=this;this.animationThreadCount++;var s=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){r.animationThreadCount===s&&r.gridBodyCtrl.setColumnMovingCss(!1)})},o.prototype.flush=function(){var r=this.executeNextFuncs;this.executeNextFuncs=[];var s=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==r.length||0!==s.length)&&(window.setTimeout(function(){return r.forEach(function(l){return l()})},0),window.setTimeout(function(){return s.forEach(function(l){return l()})},300))},t0([de("ctrlsService")],o.prototype,"ctrlsService",void 0),t0([tt],o.prototype,"postConstruct",null),t0([ut("columnAnimationService")],o)}(ft),Im=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Mm=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},n0=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}var r;return Im(o,u),r=o,o.prototype.createAutoGroupColumns=function(s,l){var c=this,p=[],v=this.gridOptionsWrapper.isTreeData(),F=this.gridOptionsWrapper.isGroupMultiAutoColumn();return v&&F&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),F=!1),F?l.forEach(function(B,q){p.push(c.createOneAutoGroupColumn(s,B,q))}):p.push(this.createOneAutoGroupColumn(s)),p},o.prototype.createOneAutoGroupColumn=function(s,l,c){var v,p=this.generateDefaultColDef(l);v=l?Ie.GROUP_AUTO_COLUMN_ID+"-"+l.getId():r.GROUP_AUTO_COLUMN_BUNDLE_ID,ee(p,this.gridOptionsWrapper.getAutoGroupColumnDef()),(p=this.columnFactory.mergeColDefs(p)).colId=v,this.gridOptionsWrapper.isTreeData()||O(p.field)&&O(p.valueGetter)&&O(p.filterValueGetter)&&(p.filter=!1),c&&c>0&&(p.headerCheckboxSelection=!1);var q=s.find(function(fe){return fe.getId()==v});if(q)return q.setColDef(p,null),this.columnFactory.applyColumnState(q,p),q;var se=new at(p,null,v,!0);return this.context.createBean(se),se},o.prototype.generateDefaultColDef=function(s){var l=this.gridOptionsWrapper.getAutoGroupColumnDef(),p={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(l&&(l.cellRenderer||l.cellRendererFramework||l.cellRendererSelector)||(p.cellRenderer="agGroupCellRenderer"),s){var F=s.getColDef();Object.assign(p,{headerName:this.columnModel.getDisplayNameForColumn(s,"header"),headerValueGetter:F.headerValueGetter}),(F.cellRenderer||F.cellRendererFramework)&&Object.assign(p,{cellRendererParams:{innerRenderer:F.cellRenderer,innerRendererFramework:F.cellRendererFramework,innerRendererParams:F.cellRendererParams}}),p.showRowGroup=s.getColId()}else p.showRowGroup=!0;return p},o.GROUP_AUTO_COLUMN_BUNDLE_ID=Ie.GROUP_AUTO_COLUMN_ID,Mm([de("columnModel")],o.prototype,"columnModel",void 0),Mm([de("columnFactory")],o.prototype,"columnFactory",void 0),r=Mm([ut("autoGroupColService")],o)}(ft),r0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),o0=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ss=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return r0(o,u),o.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(s){r.centerRowContainerCon=s.centerRowContainerCtrl,r.addManagedListener(r.eventService,Te.EVENT_BODY_HEIGHT_CHANGED,r.onBodyHeightChanged.bind(r)),r.addManagedListener(r.eventService,Te.EVENT_SCROLL_VISIBILITY_CHANGED,r.onScrollVisibilityChanged.bind(r)),r.checkPageSize()})},o.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},o.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},o.prototype.onBodyHeightChanged=function(){this.checkPageSize()},o.prototype.checkPageSize=function(){if(!this.notActive()){var r=this.gridOptionsWrapper.getRowHeightAsNumber(),s=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(s>0){var l=Math.floor(s/r);this.gridOptionsWrapper.setProperty("paginationPageSize",l)}}},o0([de("ctrlsService")],o.prototype,"ctrlsService",void 0),o0([tt],o.prototype,"postConstruct",null),o0([ut("paginationAutoPageSizeService")],o)}(ft),OR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),eT=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Nm=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.cacheVersion=0,r}return OR(o,u),o.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},o.prototype.onDataChanged=function(){this.neverExpires||this.expire()},o.prototype.expire=function(){this.cacheVersion++},o.prototype.setValue=function(r,s,l){this.active&&(r.__cacheVersion!==this.cacheVersion&&(r.__cacheVersion=this.cacheVersion,r.__cacheData={}),r.__cacheData[s]=l)},o.prototype.getValue=function(r,s){if(this.active&&r.__cacheVersion===this.cacheVersion)return r.__cacheData[s]},eT([tt],o.prototype,"init",null),eT([ut("valueCache")],o)}(ft),s0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ld=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},tT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return s0(o,u),o.prototype.init=function(){this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Te.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},o.prototype.onCellValueChanged=function(r){r.source!==Ie.SOURCE_PASTE&&this.doChangeDetection(r.node,r.column)},o.prototype.doChangeDetection=function(r,s){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!r.isRowPinned()){var l=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),c=new Sd(l,this.clientSideRowModel.getRootNode());c.addParentNode(r.parent,[s]),this.clientSideRowModel.doAggregate(c)}this.rowRenderer.refreshCells()}},Ld([de("rowModel")],o.prototype,"rowModel",void 0),Ld([de("rowRenderer")],o.prototype,"rowRenderer",void 0),Ld([tt],o.prototype,"init",null),Ld([ut("changeDetectionService")],o)}(ft),PR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Fm=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},On=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return PR(o,u),o.prototype.adaptFunction=function(r,s){var l=this.componentMetadataProvider.retrieve(r);return l&&l.functionAdapter?l.functionAdapter(s):null},o.prototype.adaptCellRendererFunction=function(r){return function(){function l(){}return l.prototype.refresh=function(c){return!1},l.prototype.getGui=function(){return this.eGui},l.prototype.init=function(c){var p=r(c),v=typeof p;this.eGui="string"!==v&&"number"!==v&&"boolean"!==v?null!=p?p:di("<span></span>"):di("<span>"+p+"</span>")},l}()},o.prototype.doesImplementIComponent=function(r){return!!r&&r.prototype&&"getGui"in r.prototype},Fm([de("componentMetadataProvider")],o.prototype,"componentMetadataProvider",void 0),Fm([ut("agComponentUtils")],o)}(ft),nT=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Vd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},iT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return nT(o,u),o.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},o.prototype.retrieve=function(r){return this.componentMetaData[r]},Vd([de("agComponentUtils")],o.prototype,"agComponentUtils",void 0),Vd([tt],o.prototype,"postConstruct",null),Vd([ut("componentMetadataProvider")],o)}(ft),rT=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),a0=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},hu={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},l0={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ea={},c0=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return rT(o,u),o.prototype.getSassVariable=function(r,s){var l="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),c=hu[l][s],p=0;Ea[r]||(Ea[r]={});var v=Ea[r][s];if(null!=v)return v;if(l0[s]){var F=l0[s],B=document.createElement("div");B.classList.add(r),B.style.position="absolute";var q=F.reduce(function(fe,we){var xe=document.createElement("div");return xe.style.position="static",xe.classList.add(we),fe.appendChild(xe),xe},B);if(document.body){document.body.appendChild(B);var se=-1!==s.toLowerCase().indexOf("height")?"height":"width";p=parseInt(window.getComputedStyle(q)[se],10),document.body.removeChild(B)}}return Ea[r][s]=p||c,Ea[r][s]},o.prototype.isThemeDark=function(){var r=this.getTheme().theme;return!!r&&r.indexOf("dark")>=0},o.prototype.chartMenuPanelWidth=function(){var r=this.getTheme().themeFamily;return this.getSassVariable(r,"chartMenuPanelWidth")},o.prototype.getTheme=function(){for(var r=/\bag-(material|(?:theme-([\w\-]*)))\b/,s=this.eGridDiv,l=null;s&&!(l=r.exec(s.className));)s=s.parentElement||void 0;if(!l)return{};var c=l[0];if(void 0===l[2]){var v=c.replace("ag-","ag-theme-");ze(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+c+" with "+v+".")},"using-old-theme")}return{theme:c,el:s,themeFamily:c.replace(/-dark$/,"")}},a0([de("eGridDiv")],o.prototype,"eGridDiv",void 0),a0([ut("environment")],o)}(ft),sT=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),pu=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Zs=function(u,o){return function(r,s){o(r,s,u)}},Gd=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.scrollY=0,r.uiBodyHeight=0,r}return sT(o,u),o.prototype.agWire=function(r){this.logger=r.create("RowContainerHeightService")},o.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Te.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Iv(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},o.prototype.isStretching=function(){return this.stretching},o.prototype.getDivStretchOffset=function(){return this.divStretchOffset},o.prototype.updateOffset=function(){if(this.stretching){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,l=this.getUiBodyHeight();(s!==this.scrollY||l!==this.uiBodyHeight)&&(this.scrollY=s,this.uiBodyHeight=l,this.calculateOffset())}},o.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var r=this.scrollY/this.maxScrollY,s=r*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+s+" ("+this.pixelsToShave+" * "+r+")"),this.setDivStretchOffset(s)},o.prototype.setUiContainerHeight=function(r){r!==this.uiContainerHeight&&(this.uiContainerHeight=r,this.eventService.dispatchEvent({type:Te.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},o.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},o.prototype.setDivStretchOffset=function(r){var s="number"==typeof r?Math.floor(r):null;this.divStretchOffset!==s&&(this.divStretchOffset=s,this.eventService.dispatchEvent({type:Te.EVENT_HEIGHT_SCALE_CHANGED}))},o.prototype.setModelHeight=function(r){this.modelHeight=r,this.stretching=null!=r&&this.maxDivHeight>0&&r>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},o.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},o.prototype.getRealPixelPosition=function(r){return r-this.divStretchOffset},o.prototype.getUiBodyHeight=function(){var s=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return s.bottom-s.top},o.prototype.getScrollPositionForPixel=function(r){if(this.pixelsToShave<=0)return r;var s=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(r/s)},pu([de("ctrlsService")],o.prototype,"ctrlsService",void 0),pu([Zs(0,oi("loggerFactory"))],o.prototype,"agWire",null),pu([tt],o.prototype,"postConstruct",null),pu([ut("rowContainerHeightService")],o)}(ft),Nr=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),al=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Bd=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Nr(o,u),o.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},o.prototype.updateSelectableAfterGrouping=function(r){this.isRowSelectableFunc&&this.recurseDown(r.childrenAfterGroup,function(l){return l.childrenAfterGroup})},o.prototype.recurseDown=function(r,s){var l=this;!r||r.forEach(function(c){var p;c.group&&(c.hasChildren()&&l.recurseDown(s(c),s),p=l.groupSelectsChildren?I((s(c)||[]).find(function(F){return!0===F.selectable})):!!l.isRowSelectableFunc&&l.isRowSelectableFunc(c),c.setRowSelectable(p))})},al([tt],o.prototype,"init",null),al([ut("selectableService")],o)}(ft),Zo=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),kt=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},fu=function(u){function o(){var r=u.call(this)||this;return r.previousAndFirstButtonsDisabled=!1,r.nextButtonDisabled=!1,r.lastButtonDisabled=!1,r}return Zo(o,u),o.prototype.postConstruct=function(){var r=this,s=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Ui(s?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Ui(s?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Ui(s?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Ui(s?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,Te.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(p){var v=p.el,F=p.fn;r.addManagedListener(v,"click",F),r.addManagedListener(v,"keydown",function(B){(B.key===ht.ENTER||B.key===ht.SPACE)&&(B.preventDefault(),F())})}),this.onPaginationChanged()):this.setDisplayed(!1)},o.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},o.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},o.prototype.setCurrentPageLabel=function(){var r=this.paginationProxy.getTotalPages()>0,s=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(r?s+1:0)},o.prototype.formatNumber=function(r){var s=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(s)return s({value:r});var c=this.gridOptionsWrapper.getLocaleTextFunc();return Wh(r,c("thousandSeparator",","),c("decimalSeparator","."))},o.prototype.getTemplate=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),s=r("page","Page"),l=r("to","to"),c=r("of","of"),p=r("firstPage","First Page"),v=r("previousPage","Previous Page"),F=r("nextPage","Next Page"),B=r("lastPage","Last Page"),q=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+q+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+q+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+q+'-to">'+l+'</span>\n                    <span id="ag-'+q+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+q+'-of">'+c+'</span>\n                    <span id="ag-'+q+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+p+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+v+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+q+'-start-page">'+s+'</span>\n                        <span id="ag-'+q+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+q+'-of-page">'+c+'</span>\n                        <span id="ag-'+q+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+F+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+B+'"></div>\n                </span>\n            </div>'},o.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},o.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},o.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},o.prototype.enableOrDisableButtons=function(){var r=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.isLastPageFound(),l=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===r,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var c=this.isZeroPagesToDisplay();this.nextButtonDisabled=s&&r===l-1||c,this.lastButtonDisabled=!s||c||r===l-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},o.prototype.toggleButtonDisabled=function(r,s){Vv(r,s),r.classList.toggle("ag-disabled",s),s?r.removeAttribute("tabindex"):r.setAttribute("tabindex","0")},o.prototype.updateRowLabels=function(){var p,v,r=this.paginationProxy.getCurrentPage(),s=this.paginationProxy.getPageSize(),l=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?p=v=0:(v=(p=s*r+1)+s-1,l&&v>c&&(v=c)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(p),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(v)},o.prototype.isZeroPagesToDisplay=function(){var r=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages();return r&&0===s},o.prototype.setTotalLabels=function(){var r=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.getTotalPages(),l=r?this.paginationProxy.getMasterRowCount():null;if(1===l){var c=this.paginationProxy.getRow(0);if(c&&c.group&&!c.groupData&&!c.aggData)return void this.setTotalLabelsToZero()}if(r)this.lbTotal.innerHTML=this.formatNumber(s),this.lbRecordCount.innerHTML=this.formatNumber(l);else{var v=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=v,this.lbRecordCount.innerHTML=v}},o.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},kt([de("paginationProxy")],o.prototype,"paginationProxy",void 0),kt([de("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),kt([ct("btFirst")],o.prototype,"btFirst",void 0),kt([ct("btPrevious")],o.prototype,"btPrevious",void 0),kt([ct("btNext")],o.prototype,"btNext",void 0),kt([ct("btLast")],o.prototype,"btLast",void 0),kt([ct("lbRecordCount")],o.prototype,"lbRecordCount",void 0),kt([ct("lbFirstRowOnPage")],o.prototype,"lbFirstRowOnPage",void 0),kt([ct("lbLastRowOnPage")],o.prototype,"lbLastRowOnPage",void 0),kt([ct("lbCurrent")],o.prototype,"lbCurrent",void 0),kt([ct("lbTotal")],o.prototype,"lbTotal",void 0),kt([tt],o.prototype,"postConstruct",null),o}(ln),gu=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ts=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Jo=(()=>(function(u){u[u.Loading=0]="Loading",u[u.NoRows=1]="NoRows"}(Jo||(Jo={})),Jo))(),mu=function(u){function o(){var r=u.call(this,o.TEMPLATE)||this;return r.inProgress=!1,r.destroyRequested=!1,r.manuallyDisplayed=!1,r}return gu(o,u),o.prototype.updateLayoutClasses=function(r,s){var l=this.eOverlayWrapper.classList;l.toggle(z.LBn.AUTO_HEIGHT,s.autoHeight),l.toggle(z.LBn.NORMAL,s.normal),l.toggle(z.LBn.PRINT,s.print)},o.prototype.postConstruct=function(){this.createManagedBean(new Xc(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,Te.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},o.prototype.setWrapperTypeClass=function(r){var s=this.eOverlayWrapper.classList;s.toggle("ag-overlay-loading-wrapper",r===Jo.Loading),s.toggle("ag-overlay-no-rows-wrapper",r===Jo.NoRows)},o.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var l=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(l,Jo.Loading)}},o.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var l=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(l,Jo.NoRows)}},o.prototype.showOverlay=function(r,s){var l=this;this.inProgress||(this.setWrapperTypeClass(s),this.destroyActiveOverlay(),this.inProgress=!0,r&&r.then(function(c){l.inProgress=!1,l.eOverlayWrapper.appendChild(c.getGui()),l.activeOverlay=c,l.destroyRequested&&(l.destroyRequested=!1,l.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},o.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),bi(this.eOverlayWrapper))},o.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},o.prototype.destroy=function(){this.destroyActiveOverlay(),u.prototype.destroy.call(this)},o.prototype.showOrHideOverlay=function(){var r=this.paginationProxy.isEmpty(),s=this.gridOptionsWrapper.isSuppressNoRowsOverlay();r&&!s?this.showNoRowsOverlay():this.hideOverlay()},o.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},o.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},o.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Ts([de("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Ts([de("paginationProxy")],o.prototype,"paginationProxy",void 0),Ts([de("gridApi")],o.prototype,"gridApi",void 0),Ts([de("columnModel")],o.prototype,"columnModel",void 0),Ts([ct("eOverlayWrapper")],o.prototype,"eOverlayWrapper",void 0),Ts([tt],o.prototype,"postConstruct",null),o}(ln),_u=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Da=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Jl=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return _u(o,u),o.prototype.getFirstRow=function(){var s,r=0;return this.pinnedRowModel.getPinnedTopRowCount()?s=Ie.PINNED_TOP:this.rowModel.getRowCount()?(s=null,r=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(s=Ie.PINNED_BOTTOM),void 0===s?null:{rowIndex:r,rowPinned:s}},o.prototype.getLastRow=function(){var r,s=null,l=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return l?(s=Ie.PINNED_BOTTOM,r=l-1):this.rowModel.getRowCount()?(s=null,r=this.paginationProxy.getPageLastRow()):c&&(s=Ie.PINNED_TOP,r=c-1),void 0===r?null:{rowIndex:r,rowPinned:s}},o.prototype.getRowNode=function(r){switch(r.rowPinned){case Ie.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case Ie.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},o.prototype.sameRow=function(r,s){return!r&&!s||!(r&&!s||!r&&s)&&r.rowIndex===s.rowIndex&&r.rowPinned==s.rowPinned},o.prototype.before=function(r,s){switch(r.rowPinned){case Ie.PINNED_TOP:if(s.rowPinned!==Ie.PINNED_TOP)return!0;break;case Ie.PINNED_BOTTOM:if(s.rowPinned!==Ie.PINNED_BOTTOM)return!1;break;default:if(I(s.rowPinned))return s.rowPinned!==Ie.PINNED_TOP}return r.rowIndex<s.rowIndex},Da([de("rowModel")],o.prototype,"rowModel",void 0),Da([de("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Da([de("paginationProxy")],o.prototype,"paginationProxy",void 0),Da([ut("rowPositionUtils")],o)}(ft),vu=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Gm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return vu(o,u),o.prototype.createId=function(r){return this.createIdFromValues(r.rowIndex,r.column,r.rowPinned)},o.prototype.createIdFromValues=function(r,s,l){return r+"."+(null==l?"null":l)+"."+s.getId()},o.prototype.equals=function(r,s){return r.column===s.column&&r.rowPinned===s.rowPinned&&r.rowIndex===s.rowIndex},o=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut("cellPositionUtils")],o),o}(ft),d0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Hd=function u(o){this.cellValueChanges=o},zp=function(u){function o(r,s,l){var c=u.call(this,r)||this;return c.initialRange=s,c.finalRange=l,c}return d0(o,u),o}(Hd),Bm=function(){function u(o){this.actionStack=[],this.maxStackSize=o||u.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return u.prototype.pop=function(){return this.actionStack.pop()},u.prototype.push=function(o){!(o.cellValueChanges&&o.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(o))},u.prototype.clear=function(){this.actionStack=[]},u.prototype.getCurrentStackSize=function(){return this.actionStack.length},u.DEFAULT_STACK_SIZE=10,u}(),h0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Aa=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},p0=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.cellValueChanges=[],r.activeCellEdit=null,r.activeRowEdit=null,r.isPasting=!1,r.isFilling=!1,r.onCellValueChanged=function(s){var l={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned},c=null!==r.activeCellEdit&&r.cellPositionUtils.equals(r.activeCellEdit,l),p=null!==r.activeRowEdit&&r.rowPositionUtils.sameRow(r.activeRowEdit,l);if(c||p||r.isPasting||r.isFilling){var se=s.oldValue,fe=s.value,we={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:s.column.getColId(),newValue:fe,oldValue:se};r.cellValueChanges.push(we)}},r.clearStacks=function(){r.undoStack.clear(),r.redoStack.clear()},r}return h0(o,u),o.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var r=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();r<=0||(this.undoStack=new Bm(r),this.redoStack=new Bm(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,Te.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Te.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Te.EVENT_ROW_DRAG_END,this.clearStacks))}},o.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},o.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},o.prototype.undo=function(){if(this.undoStack){var r=this.undoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(s){return s.oldValue}),r instanceof zp?this.processRangeAndCellFocus(r.cellValueChanges,r.initialRange):this.processRangeAndCellFocus(r.cellValueChanges),this.redoStack.push(r))}},o.prototype.redo=function(){if(this.redoStack){var r=this.redoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(s){return s.newValue}),r instanceof zp?this.processRangeAndCellFocus(r.cellValueChanges,r.finalRange):this.processRangeAndCellFocus(r.cellValueChanges),this.undoStack.push(r))}},o.prototype.processAction=function(r,s){var l=this;r.cellValueChanges.forEach(function(c){var F=c.columnId,q=l.getRowNode({rowIndex:c.rowIndex,rowPinned:c.rowPinned});!q.displayed||q.setDataValue(F,s(c))})},o.prototype.processRangeAndCellFocus=function(r,s){var l;if(s){var c=s.startRow,p=s.endRow;return l={rowPinned:c.rowPinned,rowIndex:c.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(l),void this.gridApi.addCellRange({rowStartIndex:c.rowIndex,rowStartPinned:c.rowPinned,rowEndIndex:p.rowIndex,rowEndPinned:p.rowPinned,columnStart:s.startColumn,columns:s.columns})}var F=r[0],fe=this.getRowNode({rowIndex:F.rowIndex,rowPinned:F.rowPinned});this.setLastFocusedCell(l={rowPinned:F.rowPinned,rowIndex:fe.rowIndex,columnId:F.columnId})},o.prototype.setLastFocusedCell=function(r){var s=r.rowIndex,l=r.columnId,c=r.rowPinned;this.gridApi.ensureIndexVisible(s),this.gridApi.ensureColumnVisible(l),Le.isRegistered(z.GXE.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(s,l,c,!0)},o.prototype.addRowEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,Te.EVENT_ROW_EDITING_STARTED,function(s){r.activeRowEdit={rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,Te.EVENT_ROW_EDITING_STOPPED,function(){var s=new Hd(r.cellValueChanges);r.pushActionsToUndoStack(s),r.activeRowEdit=null})},o.prototype.addCellEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,Te.EVENT_CELL_EDITING_STARTED,function(s){r.activeCellEdit={column:s.column,rowIndex:s.rowIndex,rowPinned:s.rowPinned}}),this.addManagedListener(this.eventService,Te.EVENT_CELL_EDITING_STOPPED,function(){if(r.activeCellEdit=null,!r.activeRowEdit&&!r.isPasting&&!r.isFilling){var l=new Hd(r.cellValueChanges);r.pushActionsToUndoStack(l)}})},o.prototype.addPasteListeners=function(){var r=this;this.addManagedListener(this.eventService,Te.EVENT_PASTE_START,function(){r.isPasting=!0}),this.addManagedListener(this.eventService,Te.EVENT_PASTE_END,function(){var s=new Hd(r.cellValueChanges);r.pushActionsToUndoStack(s),r.isPasting=!1})},o.prototype.addFillListeners=function(){var r=this;this.addManagedListener(this.eventService,Te.EVENT_FILL_START,function(){r.isFilling=!0}),this.addManagedListener(this.eventService,Te.EVENT_FILL_END,function(s){var l=new zp(r.cellValueChanges,s.initialRange,s.finalRange);r.pushActionsToUndoStack(l),r.isFilling=!1})},o.prototype.pushActionsToUndoStack=function(r){this.undoStack.push(r),this.cellValueChanges=[],this.redoStack.clear()},o.prototype.getRowNode=function(r){switch(r.rowPinned){case Ie.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case Ie.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},Aa([de("focusService")],o.prototype,"focusService",void 0),Aa([de("gridApi")],o.prototype,"gridApi",void 0),Aa([de("rowModel")],o.prototype,"rowModel",void 0),Aa([de("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),Aa([de("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),Aa([de("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),Aa([tt],o.prototype,"init",null),Aa([ut("undoRedoService")],o)}(ft),aT=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ie=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},f0=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return aT(o,u),o.prototype.findHeader=function(r,s){var l;if(l=r.column instanceof br?this.columnModel["getDisplayedGroup"+s](r.column):this.columnModel["getDisplayedCol"+s](r.column))return{column:l,headerRowIndex:r.headerRowIndex}},o.prototype.findColAtEdgeForHeaderRow=function(r,s){var l=this.columnModel.getAllDisplayedColumns(),c=l["start"===s?0:l.length-1];if(c){var v=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()).getRowType(r);return v==z.A6C.COLUMN_GROUP?{headerRowIndex:r,column:this.columnModel.getColumnGroupAtLevel(c,r)}:{headerRowIndex:null==v?-1:r,column:c}}},ie([de("columnModel")],o.prototype,"columnModel",void 0),ie([de("ctrlsService")],o.prototype,"ctrlsService",void 0),ie([ut("headerPositionUtils")],o)}(ft),g0=function(){function u(){}return u.prototype.buildColumnDefs=function(o,r,s){var l=this,c=[],p={};return o.forEach(function(v){for(var B=!0,q=l.createDefFromColumn(v,r,s),se=v.getOriginalParent();se;){var fe=null;if(se.isPadding())se=se.getOriginalParent();else{var we=p[se.getGroupId()];if(we){we.children.push(q),B=!1;break}(fe=l.createDefFromGroup(se))&&(fe.children=[q],p[fe.groupId]=fe,q=fe,se=se.getOriginalParent())}}B&&c.push(q)}),c},u.prototype.createDefFromGroup=function(o){var r=$(o.getColGroupDef(),["children"]);return r&&(r.groupId=o.getGroupId()),r},u.prototype.createDefFromColumn=function(o,r,s){var l=$(o.getColDef());return l.colId=o.getColId(),l.width=o.getActualWidth(),l.rowGroup=o.isRowGroupActive(),l.rowGroupIndex=o.isRowGroupActive()?r.indexOf(o):null,l.pivot=o.isPivotActive(),l.pivotIndex=o.isPivotActive()?s.indexOf(o):null,l.aggFunc=o.isValueActive()?o.getAggFunc():null,l.hide=!o.isVisible()||void 0,l.pinned=o.isPinned()?o.getPinned():null,l.sort=o.getSort()?o.getSort():null,l.sortIndex=null!=o.getSortIndex()?o.getSortIndex():null,l},u=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut("columnDefFactory")],u),u}(),Hm=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},lT=function(){function u(){}return u.prototype.getInitialRowClasses=function(o){var r=[];return I(o.extraCssClass)&&r.push(o.extraCssClass),r.push("ag-row"),r.push(o.rowFocused?"ag-row-focus":"ag-row-no-focus"),o.fadeRowIn&&r.push("ag-opacity-zero"),r.push(o.rowIsEven?"ag-row-even":"ag-row-odd"),o.rowNode.isRowPinned()&&r.push("ag-row-pinned"),o.rowNode.isSelected()&&r.push("ag-row-selected"),o.rowNode.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+o.rowLevel),o.rowNode.stub&&r.push("ag-row-loading"),o.fullWidthRow&&r.push("ag-full-width-row"),o.expandable&&(r.push("ag-row-group"),r.push(o.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),o.rowNode.dragging&&r.push("ag-row-dragging"),qf(r,this.processClassesFromGridOptions(o.rowNode)),qf(r,this.preProcessRowClassRules(o.rowNode)),r.push(o.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),o.firstRowOnPage&&r.push("ag-row-first"),o.lastRowOnPage&&r.push("ag-row-last"),o.fullWidthRow&&(o.pinned===Ie.PINNED_LEFT&&r.push("ag-cell-last-left-pinned"),o.pinned===Ie.PINNED_RIGHT&&r.push("ag-cell-first-right-pinned")),r},u.prototype.processClassesFromGridOptions=function(o){var r=[],s=function(F){"string"==typeof F?r.push(F):Array.isArray(F)&&F.forEach(function(B){return r.push(B)})},l=this.gridOptionsWrapper.getRowClass();if(l){if("function"==typeof l)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];s(l)}var c=this.gridOptionsWrapper.getRowClassFunc();return c&&s(c({data:o.data,node:o,rowIndex:o.rowIndex})),r},u.prototype.preProcessRowClassRules=function(o){var r=[];return this.processRowClassRules(o,function(s){r.push(s)},function(s){}),r},u.prototype.processRowClassRules=function(o,r,s){var l={data:o.data,node:o,rowIndex:o.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),l,r,s)},u.prototype.calculateRowLevel=function(o){return o.group?o.level:o.parent?o.parent.level+1:0},Hm([de("stylingService")],u.prototype,"stylingService",void 0),Hm([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),Hm([ut("rowCssClassCalculator")],u)}(),jd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},m0=function(){function u(){}return u.prototype.doFullSort=function(o,r){var l=o.map(function(c,p){return{currentPos:p,rowNode:c}});return l.sort(this.compareRowNodes.bind(this,r)),l.map(function(c){return c.rowNode})},u.prototype.compareRowNodes=function(o,r,s){for(var l=r.rowNode,c=s.rowNode,p=0,v=o.length;p<v;p++){var fe,F=o[p],B=F.sort===Ie.SORT_DESC,q=this.getValue(l,F.column),se=this.getValue(c,F.column),we=this.getComparator(F,l);if(fe=we?we(q,se,l,c,B):an.defaultComparator(q,se,this.gridOptionsWrapper.isAccentedSort()),!isNaN(fe)&&0!==fe)return F.sort===Ie.SORT_ASC?fe:-1*fe}return r.currentPos-s.currentPos},u.prototype.getComparator=function(o,r){var s=o.column,l=s.getColDef().comparator;if(null!=l)return l;if(r.rowGroupColumn)return r.rowGroupColumn.getColDef().comparator;if(s.getColDef().showRowGroup){var c=!r.group&&s.getColDef().field;if(c){var p=this.columnModel.getPrimaryColumn(c);if(p)return p.getColDef().comparator}}},u.prototype.getValue=function(o,r){return this.valueService.getValue(r,o,!1,!1)},jd([de("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),jd([de("valueService")],u.prototype,"valueService",void 0),jd([de("columnModel")],u.prototype,"columnModel",void 0),jd([ut("rowNodeSorter")],u)}(),_0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),v0=function(u){function o(){var s=null!==u&&u.apply(this,arguments)||this;return s.ready=!1,s.readyCallbacks=[],s}var r;return _0(o,u),r=o,o.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var s=this.createReadyParams();this.readyCallbacks.forEach(function(l){return l(s)}),this.readyCallbacks.length=0}},o.prototype.whenReady=function(s){this.ready?s(this.createReadyParams()):this.readyCallbacks.push(s)},o.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},o.prototype.registerFakeHScrollCtrl=function(s){this.fakeHScrollCtrl=s,this.checkReady()},o.prototype.registerGridHeaderCtrl=function(s){this.gridHeaderCtrl=s,this.checkReady()},o.prototype.registerCenterRowContainerCtrl=function(s){this.centerRowContainerCtrl=s,this.checkReady()},o.prototype.registerLeftRowContainerCtrl=function(s){this.leftRowContainerCtrl=s,this.checkReady()},o.prototype.registerRightRowContainerCtrl=function(s){this.rightRowContainerCtrl=s,this.checkReady()},o.prototype.registerTopCenterRowContainerCtrl=function(s){this.topCenterRowContainerCtrl=s,this.checkReady()},o.prototype.registerTopLeftRowContainerCon=function(s){this.topLeftRowContainerCtrl=s,this.checkReady()},o.prototype.registerTopRightRowContainerCtrl=function(s){this.topRightRowContainerCtrl=s,this.checkReady()},o.prototype.registerBottomCenterRowContainerCtrl=function(s){this.bottomCenterRowContainerCtrl=s,this.checkReady()},o.prototype.registerBottomLeftRowContainerCtrl=function(s){this.bottomLeftRowContainerCtrl=s,this.checkReady()},o.prototype.registerBottomRightRowContainerCtrl=function(s){this.bottomRightRowContainerCtrl=s,this.checkReady()},o.prototype.registerHeaderContainer=function(s,l){switch(l){case Ie.PINNED_LEFT:this.leftHeaderRowContainerCtrl=s;break;case Ie.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=s;break;default:this.centerHeaderRowContainerCtrl=s}this.checkReady()},o.prototype.registerGridBodyCtrl=function(s){this.gridBodyCtrl=s,this.checkReady()},o.prototype.registerGridCtrl=function(s){this.gridCtrl=s,this.checkReady()},o.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},o.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},o.prototype.getGridCtrl=function(){return this.gridCtrl},o.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},o.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},o.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},o.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},o.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},o.prototype.getHeaderRowContainerCtrl=function(s){switch(s){case Ie.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case Ie.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},o.NAME="ctrlsService",o=r=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut(r.NAME)],o),o}(ft),IR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),jm=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.registry={},r}return IR(o,u),o.prototype.register=function(r){this.registry[r.controllerName]=r.controllerClass},o.prototype.getInstance=function(r){var s=this.registry[r];if(null!=s)return new s},o=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c}([ut("ctrlsFactory")],o),o}(ft),$m=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Yp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},MR=function(u){function o(){return u.call(this)||this}return $m(o,u),o.prototype.setComp=function(r,s,l,c){this.view=r,this.eViewport=l,this.eContainer=c,this.eGui=s,this.addManagedListener(this.eventService,Te.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var p=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,p),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,p),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_DOM_LAYOUT,p),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},o.prototype.addActiveListenerToggles=function(){var r=this;["mouseenter","mousedown","touchstart"].forEach(function(c){return r.addManagedListener(r.eGui,c,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(c){return r.addManagedListener(r.eGui,c,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},o.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Ex()},o.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},o.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var r=this;this.addManagedListener(this.eventService,Te.EVENT_BODY_SCROLL,function(s){"horizontal"===s.direction&&r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,Te.EVENT_BODY_SCROLL_END,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},o.prototype.setFakeHScrollSpacerWidths=function(){var r=this.scrollVisibleService.isVerticalScrollShowing(),s=this.columnModel.getDisplayedColumnsRightWidth(),l=!this.enableRtl&&r,c=this.gridOptionsWrapper.getScrollbarWidth();l&&(s+=c),this.view.setRightSpacerFixedWidth(s),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",s<=c);var p=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&r&&(p+=c),this.view.setLeftSpacerFixedWidth(p),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",p<=c)},o.prototype.setScrollVisible=function(){var r=this.scrollVisibleService.isHorizontalScrollShowing(),s=this.invisibleScrollbar,l=this.gridOptionsWrapper.isSuppressHorizontalScroll(),c=r&&this.gridOptionsWrapper.getScrollbarWidth()||0,v=l?0:0===c&&s?15:c;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",s),this.view.setHeight(v),this.view.setViewportHeight(v),this.view.setContainerHeight(v)},o.prototype.getViewport=function(){return this.eViewport},o.prototype.getContainer=function(){return this.eContainer},Yp([de("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),Yp([de("columnModel")],o.prototype,"columnModel",void 0),Yp([de("ctrlsService")],o.prototype,"ctrlsService",void 0),Yp([tt],o.prototype,"postConstruct",null),o}(ft),NR=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Kp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},dT=function(u){function o(){return u.call(this,o.TEMPLATE)||this}return NR(o,u),o.prototype.postConstruct=function(){var r=this,s={addOrRemoveCssClass:function(c,p){return r.addOrRemoveCssClass(c,p)},setHeight:function(c){return Eo(r.getGui(),c)},setContainerHeight:function(c){return Eo(r.eContainer,c)},setViewportHeight:function(c){return Eo(r.eViewport,c)},setRightSpacerFixedWidth:function(c){return Pr(r.eRightSpacer,c)},setLeftSpacerFixedWidth:function(c){return Pr(r.eLeftSpacer,c)},includeLeftSpacerScrollerCss:function(c,p){return r.eLeftSpacer.classList.toggle(c,p)},includeRightSpacerScrollerCss:function(c,p){return r.eRightSpacer.classList.toggle(c,p)}};this.createManagedBean(new MR).setComp(s,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Jg(function(c){return r.eContainer.style.width=c+"px"}))},o.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Kp([ct("eLeftSpacer")],o.prototype,"eLeftSpacer",void 0),Kp([ct("eRightSpacer")],o.prototype,"eRightSpacer",void 0),Kp([ct("eViewport")],o.prototype,"eViewport",void 0),Kp([ct("eContainer")],o.prototype,"eContainer",void 0),Kp([tt],o.prototype,"postConstruct",null),o}(ln),y0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),C0=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},hT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return y0(o,u),o.prototype.postConstruct=function(){var r=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,Te.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_DOM_LAYOUT,r)},o.prototype.checkContainerWidths=function(){var r=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_PRINT,s=r?0:this.columnModel.getDisplayedColumnsLeftWidth(),l=r?0:this.columnModel.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,this.eventService.dispatchEvent({type:Te.EVENT_LEFT_PINNED_WIDTH_CHANGED})),l!=this.rightWidth&&(this.rightWidth=l,this.eventService.dispatchEvent({type:Te.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},o.prototype.getPinnedRightWidth=function(){return this.rightWidth},o.prototype.getPinnedLeftWidth=function(){return this.leftWidth},C0([de("columnModel")],o.prototype,"columnModel",void 0),C0([tt],o.prototype,"postConstruct",null),C0([ut("pinnedWidthService")],o)}(ft),yu=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),qp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},b0=function(u){function o(){var r=null!==u&&u.apply(this,arguments)||this;return r.events=[],r}return yu(o,u),o.prototype.postConstruct=function(){this.rowModel.getType()==Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.dispatchExpanded=function(r){var s=this;null!=this.clientSideRowModel?(this.events.push(r),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){s.clientSideRowModel&&s.clientSideRowModel.onRowGroupOpened(),s.events.forEach(function(c){return s.eventService.dispatchEvent(c)}),s.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(r)},qp([de("animationFrameService")],o.prototype,"animationFrameService",void 0),qp([de("rowModel")],o.prototype,"rowModel",void 0),qp([tt],o.prototype,"postConstruct",null),qp([ut("rowNodeEventThrottle")],o)}(ft),pT=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},Wm=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(pT(arguments[o]));return u},Xp=function(){function u(o,r,s){r?(this.gridOptions=r,(new w0).create(o,r,function(l){var c=new e0(o);l.createBean(c)},void 0,s)):console.error("AG Grid: no gridOptions provided to the grid")}return u.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},u}(),w0=function(){function u(){}return u.prototype.create=function(o,r,s,l,c){var p=this,v=!!r.debug,F=this.getRegisteredModules(c),B=this.createBeansList(r.rowModelType,F),q=this.createProvidedBeans(o,r,c);if(B){var se={providedBeanInstances:q,beanClasses:B,debug:v},fe=new uu("AG Grid",function(){return r.debug}),we=new uu("Context",function(){return se.debug}),xe=new Ei(se,we),Pe=xe.getBean("beans");this.registerModuleUserComponents(Pe,F),this.registerStackComponents(Pe,F),this.registerControllers(Pe,F),s(xe),Pe.ctrlsService.whenReady(function(){p.setColumnsAndData(Pe),p.dispatchGridReadyEvent(Pe,r);var Be=Le.isRegistered(z.GXE.EnterpriseCoreModule);fe.log("initialised successfully, enterprise = "+Be)}),l&&l(xe)}},u.prototype.registerControllers=function(o,r){r.forEach(function(s){s.controllers&&s.controllers.forEach(function(l){return o.ctrlsFactory.register(l)})})},u.prototype.registerStackComponents=function(o,r){var s=this.createAgStackComponentsList(r);o.agStackComponentsRegistry.setupComponents(s)},u.prototype.getRegisteredModules=function(o){var r=o?o.modules:null,s=Le.getRegisteredModules(),l=[],c={};function p(v,F){(function B(q){c[q.moduleName]||(c[q.moduleName]=!0,l.push(q),Le.register(q,v))})(F),F.dependantModules&&F.dependantModules.forEach(p.bind(null,v))}return r&&r.forEach(p.bind(null,!0)),s&&s.forEach(p.bind(null,!Le.isPackageBased())),l},u.prototype.registerModuleUserComponents=function(o,r){this.extractModuleEntity(r,function(l){return l.userComponents?l.userComponents:[]}).forEach(function(l){o.userComponentRegistry.registerDefaultComponent(l.componentName,l.componentClass)})},u.prototype.createProvidedBeans=function(o,r,s){var l=s?s.frameworkOverrides:null;O(l)&&(l=new Id);var c={gridOptions:r,eGridDiv:o,globalEventListener:s?s.globalEventListener:null,frameworkOverrides:l};return s&&s.providedBeanInstances&&Object.assign(c,s.providedBeanInstances),c},u.prototype.createAgStackComponentsList=function(o){var r=[{componentName:"AgCheckbox",componentClass:Jc},{componentName:"AgRadioButton",componentClass:vm},{componentName:"AgToggleButton",componentClass:Gp},{componentName:"AgInputTextField",componentClass:Bp},{componentName:"AgInputTextArea",componentClass:SC},{componentName:"AgInputNumberField",componentClass:MS},{componentName:"AgInputRange",componentClass:Cm},{componentName:"AgSelect",componentClass:xg},{componentName:"AgSlider",componentClass:DC},{componentName:"AgAngleSelect",componentClass:AC},{componentName:"AgColorPicker",componentClass:PC},{componentName:"AgGridBody",componentClass:Ky},{componentName:"AgHeaderRoot",componentClass:yS},{componentName:"AgPagination",componentClass:fu},{componentName:"AgOverlayWrapper",componentClass:mu},{componentName:"AgGroupComponent",componentClass:MC},{componentName:"AgPanel",componentClass:Ad},{componentName:"AgDialog",componentClass:bm},{componentName:"AgRowContainer",componentClass:Yl},{componentName:"AgFakeHorizontalScroll",componentClass:dT}],s=this.extractModuleEntity(o,function(l){return l.agStackComponents?l.agStackComponents:[]});return r.concat(s)},u.prototype.createBeansList=function(o,r){var s=this.getRowModelClass(o,r);if(s){var l=[s,My,Jl,Gm,f0,Ss,lm,_y,On,iT,SS,zc,Gd,Op,Sa,wy,Rv,ds,Mt,Em,km,Yc,Cx,qs,Vp,Np,qC,Jf,XC,lu,co,Nm,zC,Ri,bx,AS,CS,ao,UC,su,oS,c0,zS,mm,Xl,Xy,Pm,ZS,RR,Bd,n0,tT,CC,p0,Sx,g0,lT,wC,m0,v0,hT,b0,jm],c=this.extractModuleEntity(r,function(v){return v.beans?v.beans:[]});l.push.apply(l,Wm(c));var p=[];return l.forEach(function(v){p.indexOf(v)<0&&p.push(v)}),p}},u.prototype.extractModuleEntity=function(o,r){return[].concat.apply([],Wm(o.map(r)))},u.prototype.setColumnsAndData=function(o){var r=o.gridOptionsWrapper.getColumnDefs();o.columnModel.setColumnDefs(r||[],"gridInitializing"),o.rowModel.start()},u.prototype.dispatchGridReadyEvent=function(o,r){o.eventService.dispatchEvent({type:Te.EVENT_GRID_READY,api:r.api,columnApi:r.columnApi})},u.prototype.getRowModelClass=function(o,r){o||(o=Ie.ROW_MODEL_TYPE_CLIENT_SIDE);var s={};r.forEach(function(c){E(c.rowModels,function(p,v){s[p]=v})});var l=s[o];if(I(l))return l;Le.isPackageBased()?[Ie.ROW_MODEL_TYPE_VIEWPORT,Ie.ROW_MODEL_TYPE_SERVER_SIDE].includes(o)?console.error('AG Grid: Row Model "'+o+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+o):o===Ie.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+z.GXE.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Ie.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+z.GXE.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Ie.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+z.GXE.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):o===Ie.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+z.GXE.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+o)},u}(),fT=function(){function u(){}return u.prototype.wrap=function(o,r,s,l){var c=this;void 0===s&&(s=[]);var p=this.createWrapper(o,l);return r.forEach(function(v){c.createMethod(p,v,!0)}),s.forEach(function(v){c.createMethod(p,v,!1)}),p},u.prototype.unwrap=function(o){return o},u.prototype.createMethod=function(o,r,s){o.addMethod(r,this.createMethodProxy(o,r,s))},u.prototype.createMethodProxy=function(o,r,s){return function(){return o.hasMethod(r)?o.callMethod(r,arguments):(s&&console.warn("AG Grid: Framework component is missing the method "+r+"()"),null)}},u}();!function(u){u.InsideBase="insideBase",u.InsideEnd="insideEnd",u.Center="center",u.OutsideEnd="outsideEnd"}(z.nWP||(z.nWP={}));var Cu="undefined"==typeof global?{}:global;Cu.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,Cu.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,Cu.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,Cu.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,Cu.Node="undefined"==typeof Node?{}:Node,Cu.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var gT=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c},_T=function(){function u(o,r,s,l,c,p,v,F){this.nextId=0,this.allNodesMap={},this.rootNode=o,this.gridOptionsWrapper=r,this.eventService=s,this.columnModel=l,this.gridApi=c,this.columnApi=p,this.beans=F,this.selectionService=v,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=u.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return u.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},u.prototype.getCopyOfNodesMap=function(){return an.cloneObject(this.allNodesMap)},u.prototype.getRowNode=function(o){return this.allNodesMap[o]},u.prototype.setRowData=function(o){var r=this;if("string"!=typeof o){var s=this.rootNode,l=this.rootNode.sibling;s.childrenAfterFilter=null,s.childrenAfterGroup=null,s.childrenAfterAggFilter=null,s.childrenAfterSort=null,s.childrenMapped=null,s.updateHasChildren(),this.nextId=0,this.allNodesMap={},o?s.allLeafChildren=o.map(function(c){return r.createNode(c,r.rootNode,u.TOP_LEVEL)}):(s.allLeafChildren=[],s.childrenAfterGroup=[]),l&&(l.childrenAfterFilter=s.childrenAfterFilter,l.childrenAfterGroup=s.childrenAfterGroup,l.childrenAfterAggFilter=s.childrenAfterAggFilter,l.childrenAfterSort=s.childrenAfterSort,l.childrenMapped=s.childrenMapped,l.allLeafChildren=s.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},u.prototype.updateRowData=function(o,r){var s={remove:[],update:[],add:[]},l=[];return this.executeRemove(o,s,l),this.executeUpdate(o,s,l),this.executeAdd(o,s),this.updateSelection(l),r&&an.sortRowNodesByOrder(this.rootNode.allLeafChildren,r),s},u.prototype.updateSelection=function(o){var r=o.length>0;r&&o.forEach(function(l){l.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),r&&this.eventService.dispatchEvent({type:Te.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},u.prototype.executeAdd=function(o,r){var s=this,l=o.add,c=o.addIndex;if(!an.missingOrEmpty(l)){var F,B,p=l.map(function(fe){return s.createNode(fe,s.rootNode,u.TOP_LEVEL)});if("number"==typeof c&&c>=0){var q=this.rootNode.allLeafChildren,se=0===c?0:q.reduce(function(fe,we,xe){var Pe,Be=we.rowIndex,We=null===(Pe=q[fe])||void 0===Pe?void 0:Pe.rowIndex;return null!=Be&&null!=We&&Be<c&&Be>We?xe:fe},0)+1;F=q.slice(0,se),B=q.slice(se,q.length)}else F=this.rootNode.allLeafChildren,B=[];this.rootNode.allLeafChildren=function(){for(var u=[],o=0;o<arguments.length;o++)u=u.concat(gT(arguments[o]));return u}(F,p,B),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=p}},u.prototype.executeRemove=function(o,r,s){var l=this,c=o.remove;if(!an.missingOrEmpty(c)){var p={};c.forEach(function(v){var F=l.lookupRowNode(v);!F||(F.isSelected()&&s.push(F),F.clearRowTopAndRowIndex(),p[F.id]=!0,delete l.allNodesMap[F.id],r.remove.push(F))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(v){return!p[v.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},u.prototype.executeUpdate=function(o,r,s){var l=this,c=o.update;an.missingOrEmpty(c)||c.forEach(function(p){var v=l.lookupRowNode(p);!v||(v.updateData(p),!v.selectable&&v.isSelected()&&s.push(v),l.setMasterForRow(v,p,u.TOP_LEVEL,!1),r.update.push(v))})},u.prototype.lookupRowNode=function(o){var s,r=this.gridOptionsWrapper.getRowIdFunc();if(r){var l=r({data:o,level:0});if(!(s=this.allNodesMap[l]))return console.error("AG Grid: could not find row id="+l+", data item was not found for this id"),null}else if(!(s=this.rootNode.allLeafChildren.find(function(c){return c.data===o})))return console.error("AG Grid: could not find data item as object was not found",o),console.error("Consider using getRowId to help the Grid find matching row data"),null;return s||null},u.prototype.createNode=function(o,r,s){var l=new Dn(this.beans);return l.group=!1,this.setMasterForRow(l,o,s,!0),r&&!this.suppressParentsInRowNodes&&(l.parent=r),l.level=s,l.setDataAndId(o,this.nextId.toString()),this.allNodesMap[l.id]&&console.warn("AG Grid: duplicate node id '"+l.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[l.id]=l,this.nextId++,l},u.prototype.setMasterForRow=function(o,r,s,l){if(this.doingTreeData)o.setMaster(!1),l&&(o.expanded=!1);else if(o.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(r))),l){var c=this.columnModel.getRowGroupColumns();o.expanded=!!o.master&&this.isExpanded(s+(c?c.length:0))}},u.prototype.isExpanded=function(o){var r=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===r||o<r},u.TOP_LEVEL=0,u.ROOT_NODE_ID="ROOT_NODE_ID",u}(),S0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Sr=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},es=(()=>(function(u){u[u.Normal=0]="Normal",u[u.AfterFilter=1]="AfterFilter",u[u.AfterFilterAndSort=2]="AfterFilterAndSort",u[u.PivotNodes=3]="PivotNodes"}(es||(es={})),es))(),T0=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return S0(o,u),o.prototype.init=function(){var r=this.refreshModel.bind(this,{step:z.j_r.EVERYTHING}),s=!this.gridOptionsWrapper.isSuppressAnimationFrame(),l=this.refreshModel.bind(this,{step:z.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:s});this.addManagedListener(this.eventService,Te.EVENT_NEW_COLUMNS_LOADED,l),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:z.j_r.PIVOT})),this.addManagedListener(this.eventService,Te.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_COLUMN_PIVOT_MODE_CHANGED,r);var c=this.refreshModel.bind(this,{step:z.j_r.MAP,keepRenderedRows:!0,animate:s});this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_GROUP_REMOVE_SINGLE_CHILDREN,c),this.addManagedListener(this.gridOptionsWrapper,Mt.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,c),this.rootNode=new Dn(this.beans),this.nodeManager=new _T(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},o.prototype.start=function(){var r=this.gridOptionsWrapper.getRowData();r&&this.setRowData(r)},o.prototype.ensureRowHeightsValid=function(r,s,l,c){var p,v=!1;do{p=!1;for(var F=this.getRowIndexAtPixel(r),B=this.getRowIndexAtPixel(s),q=Math.max(F,l),se=Math.min(B,c),fe=q;fe<=se;fe++){var we=this.getRow(fe);if(we.rowHeightEstimated){var xe=this.gridOptionsWrapper.getRowHeightForNode(we);we.setRowHeight(xe.height),p=!0,v=!0}}p&&this.setRowTopAndRowIndex()}while(p);return v},o.prototype.setRowTopAndRowIndex=function(){for(var r=this.gridOptionsWrapper.getDefaultRowHeight(),s=0,l=new Set,c=this.gridOptionsWrapper.getDomLayout()===Ie.DOM_LAYOUT_NORMAL,p=0;p<this.rowsToDisplay.length;p++){var v=this.rowsToDisplay[p];if(null!=v.id&&l.add(v.id),null==v.rowHeight){var F=this.gridOptionsWrapper.getRowHeightForNode(v,c,r);v.setRowHeight(F.height,F.estimated)}v.setRowTop(s),v.setRowIndex(p),s+=v.rowHeight}return l},o.prototype.clearRowTopAndRowIndex=function(r,s){var l=r.isActive(),c=function(v){v&&null!=v.id&&!s.has(v.id)&&v.clearRowTopAndRowIndex()},p=function(v){c(v),c(v.detailNode),c(v.sibling),v.hasChildren()&&v.childrenAfterGroup&&(l&&-1!=v.level&&!v.expanded||v.childrenAfterGroup.forEach(p))};p(this.rootNode)},o.prototype.ensureRowsAtPixel=function(r,s,l){var c=this;void 0===l&&(l=0);var p=this.getRowIndexAtPixel(s),v=this.getRow(p),F=!this.gridOptionsWrapper.isSuppressAnimationFrame();return v!==r[0]&&(r.forEach(function(B){an.removeFromArray(c.rootNode.allLeafChildren,B)}),r.forEach(function(B,q){an.insertIntoArray(c.rootNode.allLeafChildren,B,Math.max(p+l,0)+q)}),this.refreshModel({step:z.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:F}),!0)},o.prototype.highlightRowAtPixel=function(r,s){var l=null!=s?this.getRowIndexAtPixel(s):null,c=null!=l?this.getRow(l):null;if(c&&r&&c!==r&&null!=s){var p=this.getHighlightPosition(s,c);this.lastHighlightedRow&&this.lastHighlightedRow!==c&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),c.setHighlighted(p),this.lastHighlightedRow=c}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},o.prototype.getHighlightPosition=function(r,s){if(!s){var l=this.getRowIndexAtPixel(r);if(!(s=this.getRow(l||0)))return z.oh5.Below}return r-s.rowTop<s.rowHeight/2?z.oh5.Above:z.oh5.Below},o.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},o.prototype.isLastRowIndexKnown=function(){return!0},o.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},o.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var s=this.rootNode.childrenAfterAggFilter;return s?s.length:0},o.prototype.getTopLevelRowDisplayedIndex=function(r){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return r;var l=this.rootNode.childrenAfterSort[r];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},o.prototype.getRowBounds=function(r){if(an.missing(this.rowsToDisplay))return null;var s=this.rowsToDisplay[r];return s?{rowTop:s.rowTop,rowHeight:s.rowHeight}:null},o.prototype.onRowGroupOpened=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:z.j_r.MAP,keepRenderedRows:!0,animate:r})},o.prototype.onFilterChanged=function(r){if(!r.afterDataChange){var s=this.gridOptionsWrapper.isAnimateRows(),l=0===r.columns.length||r.columns.some(function(p){return p.isPrimary()});this.refreshModel({step:l?z.j_r.FILTER:z.j_r.FILTER_AGGREGATES,keepRenderedRows:!0,animate:s})}},o.prototype.onSortChanged=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:z.j_r.SORT,keepRenderedRows:!0,animate:r,keepEditingRows:!0})},o.prototype.getType=function(){return Ie.ROW_MODEL_TYPE_CLIENT_SIDE},o.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:z.j_r.PIVOT}):this.refreshModel({step:z.j_r.AGGREGATE})},o.prototype.createChangePath=function(r){var s=an.missingOrEmpty(r),l=new Sd(!1,this.rootNode);return(s||this.gridOptionsWrapper.isTreeData())&&l.setInactive(),l},o.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(r){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==r.rowNodeTransactions)return!1;var s=r.rowNodeTransactions.filter(function(c){return null!=c.add&&c.add.length>0||null!=c.remove&&c.remove.length>0});return null==s||0==s.length},o.prototype.refreshModel=function(r){if(!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var s=this.createChangePath(r.rowNodeTransactions);switch(r.step){case z.j_r.EVERYTHING:this.doRowGrouping(r.groupState,r.rowNodeTransactions,r.rowNodeOrder,s,!!r.afterColumnsChanged);case z.j_r.FILTER:this.doFilter(s);case z.j_r.PIVOT:this.doPivot(s);case z.j_r.AGGREGATE:this.doAggregate(s);case z.j_r.FILTER_AGGREGATES:this.doFilterAggregates(s);case z.j_r.SORT:this.doSort(r.rowNodeTransactions,s);case z.j_r.MAP:this.doRowsToDisplay()}var l=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(s,l),this.eventService.dispatchEvent({type:Te.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1})}},o.prototype.isEmpty=function(){var r=an.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return an.missing(this.rootNode)||r||!this.columnModel.isReady()},o.prototype.isRowsToRender=function(){return an.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},o.prototype.getNodesInRangeForSelection=function(r,s){var p,l=!s,c=!1,v=[],F=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(B){var q=l&&!c;if(l||(B===s||B===r)&&(l=!0),!B.group||!F){var fe=l&&!c,we=B.isParentOfNode(p);(fe||we)&&v.push(B)}q&&(B===s||B===r)&&(c=!0,p=B===s?s:r)}),v},o.prototype.setDatasource=function(r){console.error("AG Grid: should never call setDatasource on clientSideRowController")},o.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},o.prototype.getRootNode=function(){return this.rootNode},o.prototype.getRow=function(r){return this.rowsToDisplay[r]},o.prototype.isRowPresent=function(r){return this.rowsToDisplay.indexOf(r)>=0},o.prototype.getRowIndexAtPixel=function(r){if(this.isEmpty())return-1;var s=0,l=this.rowsToDisplay.length-1;if(r<=0)return 0;if(an.last(this.rowsToDisplay).rowTop<=r)return this.rowsToDisplay.length-1;for(;;){var p=Math.floor((s+l)/2),v=this.rowsToDisplay[p];if(this.isRowInPixel(v,r))return p;v.rowTop<r?s=p+1:v.rowTop>r&&(l=p-1)}},o.prototype.isRowInPixel=function(r,s){return r.rowTop<=s&&r.rowTop+r.rowHeight>s},o.prototype.forEachLeafNode=function(r){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(s,l){return r(s,l)})},o.prototype.forEachNode=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,r,es.Normal,0)},o.prototype.forEachNodeAfterFilter=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,r,es.AfterFilter,0)},o.prototype.forEachNodeAfterFilterAndSort=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,r,es.AfterFilterAndSort,0)},o.prototype.forEachPivotNode=function(r){this.recursivelyWalkNodesAndCallback([this.rootNode],r,es.PivotNodes,0)},o.prototype.recursivelyWalkNodesAndCallback=function(r,s,l,c){if(!r)return c;for(var p=0;p<r.length;p++){var v=r[p];if(s(v,c++),v.hasChildren()){var F=null;switch(l){case es.Normal:F=v.childrenAfterGroup;break;case es.AfterFilter:F=v.childrenAfterAggFilter;break;case es.AfterFilterAndSort:F=v.childrenAfterSort;break;case es.PivotNodes:F=v.leafGroup?null:v.childrenAfterSort}F&&(c=this.recursivelyWalkNodesAndCallback(F,s,l,c))}}return c},o.prototype.doAggregate=function(r){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.doFilterAggregates=function(r){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:r}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},o.prototype.expandOrCollapseAll=function(r){var s=this.gridOptionsWrapper.isTreeData(),l=this.columnModel.isPivotActive(),c=function(F){!F||F.forEach(function(B){var q=function(){B.expanded=r,c(B.childrenAfterGroup)};s?an.exists(B.childrenAfterGroup)&&q():l?!B.leafGroup&&q():B.group&&q()})};this.rootNode&&c(this.rootNode.childrenAfterGroup),this.refreshModel({step:z.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:Te.EVENT_EXPAND_COLLAPSE_ALL,source:r?"expandAll":"collapseAll"})},o.prototype.doSort=function(r,s){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,changedPath:s})},o.prototype.doRowGrouping=function(r,s,l,c,p){this.groupStage?(s?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:s,rowNodeOrder:l,changedPath:c}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:c,afterColumnsChanged:p}),this.restoreGroupState(r)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(c)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},o.prototype.restoreGroupState=function(r){!r||an.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,l){"boolean"==typeof r[l]&&(s.expanded=r[l])})},o.prototype.doFilter=function(r){this.filterStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.doPivot=function(r){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:r})},o.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var r={};return an.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(s,l){return r[l]=s.expanded}),r},o.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},o.prototype.getRowNode=function(r){if("string"==typeof r&&0==r.indexOf(Dn.ID_PREFIX_ROW_GROUP)){var l=void 0;return this.forEachNode(function(c){c.id===r&&(l=c)}),l}return this.nodeManager.getRowNode(r)},o.prototype.setRowData=function(r){var s=this.getGroupState();this.nodeManager.setRowData(r),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:Te.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:z.j_r.EVERYTHING,groupState:s,newData:!0})},o.prototype.batchUpdateRowData=function(r,s){var l=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var c=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){l.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:r,callback:s})},o.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},o.prototype.executeBatchUpdateRowData=function(){var r=this;this.valueCache.onDataChanged();var s=[],l=[],c=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(v){var F=r.nodeManager.updateRowData(v.rowDataTransaction,void 0);l.push(F),v.callback&&s.push(v.callback.bind(null,F)),"number"==typeof v.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(l,void 0,c),s.length>0&&window.setTimeout(function(){s.forEach(function(v){return v()})},0),l.length>0){var p={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:Te.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:l};this.eventService.dispatchEvent(p)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},o.prototype.updateRowData=function(r,s){this.valueCache.onDataChanged();var l=this.nodeManager.updateRowData(r,s);return this.commonUpdateRowData([l],s,"number"==typeof r.addIndex),l},o.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var s={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var l=0;l<this.rootNode.allLeafChildren.length;l++)s[this.rootNode.allLeafChildren[l].id]=l;return s}},o.prototype.commonUpdateRowData=function(r,s,l){var c=!this.gridOptionsWrapper.isSuppressAnimationFrame();l&&(s=this.createRowNodeOrder()),this.refreshModel({step:z.j_r.EVERYTHING,rowNodeTransactions:r,rowNodeOrder:s,keepRenderedRows:!0,keepEditingRows:!0,animate:c}),this.eventService.dispatchEvent({type:Te.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},o.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},o.prototype.onRowHeightChanged=function(){this.refreshModel({step:z.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},o.prototype.resetRowHeights=function(){var r=!1;this.forEachNode(function(s){s.setRowHeight(s.rowHeight,!0);var l=s.detailNode;l&&l.setRowHeight(l.rowHeight,!0),r=!0}),r&&this.onRowHeightChanged()},Sr([de("columnModel")],o.prototype,"columnModel",void 0),Sr([de("selectionService")],o.prototype,"selectionService",void 0),Sr([de("filterManager")],o.prototype,"filterManager",void 0),Sr([de("valueCache")],o.prototype,"valueCache",void 0),Sr([de("columnApi")],o.prototype,"columnApi",void 0),Sr([de("gridApi")],o.prototype,"gridApi",void 0),Sr([de("animationFrameService")],o.prototype,"animationFrameService",void 0),Sr([de("beans")],o.prototype,"beans",void 0),Sr([de("filterStage")],o.prototype,"filterStage",void 0),Sr([de("sortStage")],o.prototype,"sortStage",void 0),Sr([de("flattenStage")],o.prototype,"flattenStage",void 0),Sr([gn("groupStage")],o.prototype,"groupStage",void 0),Sr([gn("aggregationStage")],o.prototype,"aggregationStage",void 0),Sr([gn("pivotStage")],o.prototype,"pivotStage",void 0),Sr([gn("filterAggregatesStage")],o.prototype,"filterAggregatesStage",void 0),Sr([tt],o.prototype,"init",null),Sr([ut("rowModel")],o)}(ft),Um=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),vT=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},zm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Um(o,u),o.prototype.execute=function(r){this.filterService.filter(r.changedPath)},vT([de("filterService")],o.prototype,"filterService",void 0),vT([ut("filterStage")],o)}(ft),yT=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Ym=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ce=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return yT(o,u),o.prototype.execute=function(r){var s=this.sortController.getSortOptions(),l=an.exists(s)&&s.length>0,c=l&&an.exists(r.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),p=s.some(function(v){return!!v.column.getColDef().showRowGroup});this.sortService.sort(s,l,c,r.rowNodeTransactions,r.changedPath,p)},Ym([de("sortService")],o.prototype,"sortService",void 0),Ym([de("sortController")],o.prototype,"sortController",void 0),Ym([de("columnModel")],o.prototype,"columnModel",void 0),Ym([ut("sortStage")],o)}(ft),Km=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),U=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},qm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Km(o,u),o.prototype.execute=function(r){var s=r.rowNode,l=[],c={value:0},p=this.columnModel.isPivotMode(),v=p&&s.leafGroup;return this.recursivelyAddToRowsToDisplay(v?[s]:s.childrenAfterSort,l,c,p,0),!v&&l.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(s),this.addRowNodeToRowsToDisplay(s.sibling,l,c,0)),l},o.prototype.recursivelyAddToRowsToDisplay=function(r,s,l,c,p){if(!an.missingOrEmpty(r))for(var v=this.gridOptionsWrapper.isGroupHideOpenParents(),F=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),B=!F&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),q=0;q<r.length;q++){var se=r[q],fe=se.hasChildren(),xe=F&&fe&&1===se.childrenAfterGroup.length,Pe=B&&fe&&se.leafGroup&&1===se.childrenAfterGroup.length;if(!(c&&!fe||v&&se.expanded&&!se.master&&(!c||!se.leafGroup)||xe||Pe)&&this.addRowNodeToRowsToDisplay(se,s,l,p),!c||!se.leafGroup)if(fe){var Ze=xe||Pe;(se.expanded||Ze)&&(this.recursivelyAddToRowsToDisplay(se.childrenAfterSort,s,l,c,Ze?p:p+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(se),this.addRowNodeToRowsToDisplay(se.sibling,s,l,p)))}else if(se.master&&se.expanded){var Ut=this.createDetailNode(se);this.addRowNodeToRowsToDisplay(Ut,s,l,p)}}},o.prototype.addRowNodeToRowsToDisplay=function(r,s,l,c){var p=this.gridOptionsWrapper.isGroupMultiAutoColumn();s.push(r),r.setUiLevel(p?0:c)},o.prototype.ensureFooterNodeExists=function(r){if(!an.exists(r.sibling)){var s=new Dn(this.beans);Object.keys(r).forEach(function(l){s[l]=r[l]}),s.footer=!0,s.setRowTop(null),s.setRowIndex(null),s.oldRowTop=null,an.exists(s.id)&&(s.id="rowGroupFooter_"+s.id),s.sibling=r,r.sibling=s}},o.prototype.createDetailNode=function(r){if(an.exists(r.detailNode))return r.detailNode;var s=new Dn(this.beans);return s.detail=!0,s.selectable=!1,s.parent=r,an.exists(r.id)&&(s.id="detail_"+r.id),s.data=r.data,s.level=r.level+1,r.detailNode=s,s},U([de("columnModel")],o.prototype,"columnModel",void 0),U([de("beans")],o.prototype,"beans",void 0),U([ut("flattenStage")],o)}(ft),CT=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),M=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},N=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return CT(o,u),o.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},o.prototype.sort=function(r,s,l,c,p,v){var F=this,B=this.gridOptionsWrapper.isGroupMaintainOrder(),q=this.columnModel.getAllGridColumns().some(function(xe){return xe.isRowGroupActive()}),se={};l&&c&&(se=this.calculateDirtyNodes(c));var fe=this.columnModel.isPivotMode();p&&p.forEachChangedNodeDepthFirst(function(xe){if(F.pullDownGroupDataForHideOpenParents(xe.childrenAfterAggFilter,!0),!s||B&&q&&!xe.leafGroup&&!v||fe&&xe.leafGroup){var We=xe.childrenAfterAggFilter.slice(0);if(B&&xe.childrenAfterSort){var Ue=xe.childrenAfterSort.reduce(function(gt,Ut,Sn){return gt[Ut.id]=Sn,gt},{});We.sort(function(gt,Ut){return(Ue[gt.id]||0)-(Ue[Ut.id]||0)})}xe.childrenAfterSort=We}else xe.childrenAfterSort=l?F.doDeltaSort(xe,se,p,r):F.rowNodeSorter.doFullSort(xe.childrenAfterAggFilter,r);xe.sibling&&(xe.sibling.childrenAfterSort=xe.childrenAfterSort),F.updateChildIndexes(xe),F.postSortFunc&&F.postSortFunc({nodes:xe.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(p)},o.prototype.calculateDirtyNodes=function(r){var s={},l=function(c){c&&c.forEach(function(p){return s[p.id]=!0})};return r&&r.forEach(function(c){l(c.add),l(c.update),l(c.remove)}),s},o.prototype.doDeltaSort=function(r,s,l,c){var p=this,v=r.childrenAfterAggFilter,F=r.childrenAfterSort;if(!F)return this.rowNodeSorter.doFullSort(v,c);var B={},q=[];v.forEach(function(xe){s[xe.id]||!l.canSkip(xe)?q.push(xe):B[xe.id]=!0});var se=F.filter(function(xe){return B[xe.id]}),fe=function(xe,Pe){return{currentPos:Pe,rowNode:xe}},we=q.map(fe).sort(function(xe,Pe){return p.rowNodeSorter.compareRowNodes(c,xe,Pe)});return this.mergeSortedArrays(c,we,se.map(fe)).map(function(xe){return xe.rowNode})},o.prototype.mergeSortedArrays=function(r,s,l){for(var c=[],p=0,v=0;p<s.length&&v<l.length;){var F=this.rowNodeSorter.compareRowNodes(r,s[p],l[v]);c.push(F<0?s[p++]:l[v++])}for(;p<s.length;)c.push(s[p++]);for(;v<l.length;)c.push(l[v++]);return c},o.prototype.updateChildIndexes=function(r){if(!an.missing(r.childrenAfterSort))for(var s=r.childrenAfterSort,l=0;l<s.length;l++){var c=s[l],v=l===r.childrenAfterSort.length-1;c.setFirstChild(0===l),c.setLastChild(v),c.setChildIndex(l)}},o.prototype.updateGroupDataForHideOpenParents=function(r){var s=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return an.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var c=function(p){s.pullDownGroupDataForHideOpenParents(p.childrenAfterSort,!1),p.childrenAfterSort.forEach(function(v){v.hasChildren()&&c(v)})};r&&r.executeFromRootNode(function(p){return c(p)})}},o.prototype.pullDownGroupDataForHideOpenParents=function(r,s){var l=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||an.missing(r)||r.forEach(function(c){l.columnModel.getGroupDisplayColumns().forEach(function(v){var F=v.getColDef().showRowGroup;if("string"==typeof F){var q=l.columnModel.getPrimaryColumn(F);if(q!==c.rowGroupColumn)if(s)c.setGroupValue(v.getId(),void 0);else{var fe=c.getFirstChildOfFirstChild(q);fe&&c.setGroupValue(v.getId(),fe.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},M([de("columnModel")],o.prototype,"columnModel",void 0),M([de("rowNodeSorter")],o.prototype,"rowNodeSorter",void 0),M([tt],o.prototype,"init",null),M([ut("sortService")],o)}(ft),_e=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),bT=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},wT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return _e(o,u),o.prototype.filter=function(r){var s=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent();this.filterNodes(s,r)},o.prototype.filterNodes=function(r,s){var l=this,c=function(B,q){B.childrenAfterFilter=B.hasChildren()&&r&&!q?B.childrenAfterGroup.filter(function(se){var fe=se.childrenAfterFilter&&se.childrenAfterFilter.length>0,we=se.data&&l.filterManager.doesRowPassFilter({rowNode:se});return fe||we}):B.childrenAfterGroup,B.sibling&&(B.sibling.childrenAfterFilter=B.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var p=function(B,q){if(B.childrenAfterGroup)for(var se=0;se<B.childrenAfterGroup.length;se++){var fe=B.childrenAfterGroup[se],we=q||l.filterManager.doesRowPassFilter({rowNode:fe});fe.childrenAfterGroup?p(B.childrenAfterGroup[se],we):c(fe,we)}c(B,q)};s.executeFromRootNode(function(B){return p(B,!1)})}else s.forEachChangedNodeDepthFirst(function(B){return c(B,!1)},!0)},o.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},bT([de("filterManager")],o.prototype,"filterManager",void 0),bT([ut("filterService")],o)}(ft),Tr=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Hi=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Tt=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Tr(o,u),o.prototype.postConstruct=function(){this.rowModel.getType()===Ie.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},o.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},o.prototype.setRowData=function(r){var s=this.createTransactionForRowData(r);if(s){var l=function(u,o){var r="function"==typeof Symbol&&u[Symbol.iterator];if(!r)return u;var l,p,s=r.call(u),c=[];try{for(;(void 0===o||o-- >0)&&!(l=s.next()).done;)c.push(l.value)}catch(v){p={error:v}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(p)throw p.error}}return c}(s,2),v=this.clientSideRowModel.updateRowData(l[0],l[1]);v&&this.rowRenderer.refreshFullWidthRows(v.update),this.eventService.dispatchEvent({type:Te.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},o.prototype.createTransactionForRowData=function(r){if(an.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var s=this.gridOptionsWrapper.getRowIdFunc();if(null!=s){var l={remove:[],update:[],add:[]},c=this.clientSideRowModel.getCopyOfNodesMap(),v=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return an.exists(r)&&r.forEach(function(F,B){var q=s({data:F,level:0}),se=c[q];v&&(v[q]=B),se?(se.data!==F&&l.update.push(F),c[q]=void 0):l.add.push(F)}),an.iterateObject(c,function(F,B){B&&l.remove.push(B.data)}),[l,v]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Hi([de("rowModel")],o.prototype,"rowModel",void 0),Hi([de("rowRenderer")],o.prototype,"rowRenderer",void 0),Hi([de("columnApi")],o.prototype,"columnApi",void 0),Hi([de("gridApi")],o.prototype,"gridApi",void 0),Hi([tt],o.prototype,"postConstruct",null),Hi([ut("immutableService")],o)}(ft),$d={moduleName:z.GXE.ClientSideRowModelModule,beans:[zm,Ce,qm,N,wT,Tt],rowModels:{clientSide:T0}},D0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Wd=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Ve=function(u){function o(r,s,l){var c=u.call(this,r)||this;return c.parentCache=s,c.params=l,c.startRow=r*l.blockSize,c.endRow=c.startRow+l.blockSize,c}return D0(o,u),o.prototype.postConstruct=function(){this.createRowNodes()},o.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},o.prototype.setDataAndId=function(r,s,l){!r.id&&r.alreadyRendered&&(r.alreadyRendered=!1),an.exists(s)?r.setDataAndId(s,l.toString()):r.setDataAndId(void 0,void 0)},o.prototype.loadFromDatasource=function(){var r=this,s=this.createLoadParams();an.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){r.params.datasource.getRows(s)},0)},o.prototype.processServerFail=function(){},o.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},o.prototype.forEachNode=function(r,s,l){var c=this;this.rowNodes.forEach(function(p,v){c.startRow+v<l&&r(p,s.next())})},o.prototype.getLastAccessed=function(){return this.lastAccessed},o.prototype.getRow=function(r,s){return void 0===s&&(s=!1),s||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[r-this.startRow]},o.prototype.getStartRow=function(){return this.startRow},o.prototype.getEndRow=function(){return this.endRow},o.prototype.createRowNodes=function(){this.rowNodes=[];for(var r=0;r<this.params.blockSize;r++){var s=this.startRow+r,l=new Dn(this.beans);l.setRowHeight(this.params.rowHeight),l.uiLevel=0,l.setRowIndex(s),l.setRowTop(this.params.rowHeight*s),this.rowNodes.push(l)}},o.prototype.processServerResult=function(r){var s=this;this.rowNodes.forEach(function(c,p){s.setDataAndId(c,r.rowData?r.rowData[p]:void 0,s.startRow+p)}),this.parentCache.pageLoaded(this,null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0)},o.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(r){r.clearRowTopAndRowIndex()})},Wd([de("beans")],o.prototype,"beans",void 0),Wd([tt],o.prototype,"postConstruct",null),Wd([Kt],o.prototype,"destroyRowNodes",null),o}(iu),A0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),Qp=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},k0=function(u,o){return function(r,s){o(r,s,u)}},R0=function(u){function o(r){var s=u.call(this)||this;return s.lastRowIndexKnown=!1,s.blocks={},s.blockCount=0,s.rowCount=r.initialRowCount,s.params=r,s}return A0(o,u),o.prototype.setBeans=function(r){this.logger=r.create("InfiniteCache")},o.prototype.getRow=function(r,s){void 0===s&&(s=!1);var l=Math.floor(r/this.params.blockSize),c=this.blocks[l];if(!c){if(s)return;c=this.createBlock(l)}return c.getRow(r)},o.prototype.createBlock=function(r){var s=this.createBean(new Ve(r,this,this.params));return this.blocks[s.getId()]=s,this.blockCount++,this.purgeBlocksIfNeeded(s),this.params.rowNodeBlockLoader.addBlock(s),s},o.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(s){return s.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},o.prototype.destroyAllBlocks=function(){var r=this;this.getBlocksInOrder().forEach(function(s){return r.destroyBlock(s)})},o.prototype.getRowCount=function(){return this.rowCount},o.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},o.prototype.pageLoaded=function(r,s){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+r.getId()+", lastRow = "+s),this.checkRowCount(r,s),this.onCacheUpdated())},o.prototype.purgeBlocksIfNeeded=function(r){var s=this,l=this.getBlocksInOrder().filter(function(B){return B!=r});l.sort(function(B,q){return q.getLastAccessed()-B.getLastAccessed()});var p=this.params.maxBlocksInCache>0,v=p?this.params.maxBlocksInCache-1:null,F=o.MAX_EMPTY_BLOCKS_TO_KEEP-1;l.forEach(function(B,q){if(B.getState()===Ve.STATE_WAITING_TO_LOAD&&q>=F||p&&q>=v){if(s.isBlockCurrentlyDisplayed(B)||s.isBlockFocused(B))return;s.removeBlockFromCache(B)}})},o.prototype.isBlockFocused=function(r){var s=this.focusService.getFocusCellToUseAfterRefresh();if(!s||null!=s.rowPinned)return!1;var l=r.getStartRow(),c=r.getEndRow();return s.rowIndex>=l&&s.rowIndex<c},o.prototype.isBlockCurrentlyDisplayed=function(r){var s=r.getStartRow(),l=r.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(s,l)},o.prototype.removeBlockFromCache=function(r){!r||this.destroyBlock(r)},o.prototype.checkRowCount=function(r,s){if("number"==typeof s&&s>=0)this.rowCount=s,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(r.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}},o.prototype.setRowCount=function(r,s){this.rowCount=r,an.exists(s)&&(this.lastRowIndexKnown=s),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},o.prototype.forEachNodeDeep=function(r){var s=this,l=new Il;this.getBlocksInOrder().forEach(function(c){return c.forEachNode(r,l,s.rowCount)})},o.prototype.getBlocksInOrder=function(){return an.getAllValuesInObject(this.blocks).sort(function(l,c){return l.getId()-c.getId()})},o.prototype.destroyBlock=function(r){delete this.blocks[r.getId()],this.destroyBean(r),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(r)},o.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:Te.EVENT_STORE_UPDATED}))},o.prototype.destroyAllBlocksPastVirtualRowCount=function(){var r=this,s=[];this.getBlocksInOrder().forEach(function(l){l.getId()*r.params.blockSize>=r.rowCount&&s.push(l)}),s.length>0&&s.forEach(function(l){return r.destroyBlock(l)})},o.prototype.purgeCache=function(){var r=this;this.getBlocksInOrder().forEach(function(s){return r.removeBlockFromCache(s)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},o.prototype.getRowNodesInRange=function(r,s){var l=this,c=[],p=-1,v=!1,F=new Il;an.missing(r)&&(v=!0);var B=!1;return this.getBlocksInOrder().forEach(function(se){if(!B){if(v&&p+1!==se.getId())return void(B=!0);p=se.getId(),se.forEachNode(function(fe){var we=fe===r||fe===s;(v||we)&&c.push(fe),we&&(v=!v)},F,l.rowCount)}}),B||v?[]:c},o.MAX_EMPTY_BLOCKS_TO_KEEP=2,Qp([de("rowRenderer")],o.prototype,"rowRenderer",void 0),Qp([de("focusService")],o.prototype,"focusService",void 0),Qp([k0(0,oi("loggerFactory"))],o.prototype,"setBeans",null),Qp([Kt],o.prototype,"destroyAllBlocks",null),o}(ft),Xm=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ae=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},xT=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return Xm(o,u),o.prototype.getRowBounds=function(r){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*r}},o.prototype.ensureRowHeightsValid=function(r,s,l,c){return!1},o.prototype.init=function(){var r=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return r.destroyCache()}),this.verifyProps())},o.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&an.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},o.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},o.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Te.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Te.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},o.prototype.onFilterChanged=function(){this.reset()},o.prototype.onSortChanged=function(){this.reset()},o.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},o.prototype.isSortModelDifferent=function(){return!an.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},o.prototype.getType=function(){return Ie.ROW_MODEL_TYPE_INFINITE},o.prototype.setDatasource=function(r){this.destroyDatasource(),this.datasource=r,r&&this.reset()},o.prototype.isEmpty=function(){return!this.infiniteCache},o.prototype.isRowsToRender=function(){return!!this.infiniteCache},o.prototype.getNodesInRangeForSelection=function(r,s){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(r,s):[]},o.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var l=this.createModelUpdatedEvent();this.eventService.dispatchEvent(l)}},o.prototype.createModelUpdatedEvent=function(){return{type:Te.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},o.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Il},this.infiniteCache=this.createBean(new R0(this.cacheParams))},o.prototype.defaultIfInvalid=function(r,s){return r>0?r:s},o.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},o.prototype.onCacheUpdated=function(){var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},o.prototype.getRow=function(r){if(this.infiniteCache&&!(r>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(r)},o.prototype.getRowNode=function(r){var s;return this.forEachNode(function(l){l.id===r&&(s=l)}),s},o.prototype.forEachNode=function(r){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(r)},o.prototype.getTopLevelRowCount=function(){return this.getRowCount()},o.prototype.getTopLevelRowDisplayedIndex=function(r){return r},o.prototype.getRowIndexAtPixel=function(r){if(0!==this.rowHeight){var s=Math.floor(r/this.rowHeight),l=this.getRowCount()-1;return s>l?l:s}return 0},o.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},o.prototype.isRowPresent=function(r){return!!this.getRowNode(r.id)},o.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},o.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},o.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},o.prototype.setRowCount=function(r,s){this.infiniteCache&&this.infiniteCache.setRowCount(r,s)},ae([de("filterManager")],o.prototype,"filterManager",void 0),ae([de("sortController")],o.prototype,"sortController",void 0),ae([de("selectionService")],o.prototype,"selectionService",void 0),ae([de("gridApi")],o.prototype,"gridApi",void 0),ae([de("columnApi")],o.prototype,"columnApi",void 0),ae([de("rowRenderer")],o.prototype,"rowRenderer",void 0),ae([de("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),ae([tt],o.prototype,"init",null),ae([Kt],o.prototype,"destroyDatasource",null),ae([ut("rowModel")],o)}(ft),Ud={moduleName:z.GXE.InfiniteRowModelModule,rowModels:{infinite:xT}},bu=function(){function u(){}return u.prototype.setBeans=function(o){this.beans=o},u.prototype.getFileName=function(o){var r=this.getDefaultFileExtension();return(null==o||!o.length)&&(o=this.getDefaultFileName()),-1===o.indexOf(".")?o+"."+r:o},u.prototype.getData=function(o){var r=this.createSerializingSession(o);return this.beans.gridSerializer.serialize(r,o)},u}(),qn=function(){function u(o){this.groupColumns=[];var s=o.valueService,l=o.gridOptionsWrapper,c=o.processCellCallback,p=o.processHeaderCallback,v=o.processGroupHeaderCallback,F=o.processRowGroupCallback;this.columnModel=o.columnModel,this.valueService=s,this.gridOptionsWrapper=l,this.processCellCallback=c,this.processHeaderCallback=p,this.processGroupHeaderCallback=v,this.processRowGroupCallback=F}return u.prototype.prepare=function(o){this.groupColumns=o.filter(function(r){return!!r.getColDef().showRowGroup})},u.prototype.extractHeaderValue=function(o){var r=this.getHeaderName(this.processHeaderCallback,o);return null!=r?r:""},u.prototype.extractRowCellValue=function(o,r,s,l,c){var F,p=this.gridOptionsWrapper.isGroupMultiAutoColumn()?c.rowGroupIndex:0;F=c&&c.group&&(r===p&&-1!==this.groupColumns.indexOf(o)||0===r&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(c):this.valueService.getValue(o,c);var B=this.processCell(s,c,o,F,this.processCellCallback,l);return null!=B?B:""},u.prototype.getHeaderName=function(o,r){return o?o({column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(r,"csv",!0)},u.prototype.createValueForGroupNode=function(o){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var r=[o.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;o.parent;)r.push((o=o.parent).key);return r.reverse().join(" -> ")},u.prototype.processCell=function(o,r,s,l,c,p){return c?c({accumulatedRowIndex:o,column:s,node:r,value:l,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:p}):null!=l?l:""},u}(),ts=function(){function u(){}return u.download=function(o,r){var s=document.defaultView||window;if(s){var l=document.createElement("a"),c=s.URL.createObjectURL(r);l.setAttribute("href",c),l.setAttribute("download",o),l.style.display="none",document.body.appendChild(l),l.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:s})),document.body.removeChild(l),s.setTimeout(function(){s.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},u}(),O0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),P0=function(u){function o(r){var s=u.call(this,r)||this;s.isFirstLine=!0,s.result="";var c=r.columnSeparator;return s.suppressQuotes=r.suppressQuotes,s.columnSeparator=c,s}return O0(o,u),o.prototype.addCustomContent=function(r){var s=this;!r||("string"==typeof r?(/^\s*\n/.test(r)||this.beginNewLine(),r=r.replace(/\r?\n/g,"\r\n"),this.result+=r):r.forEach(function(l){s.beginNewLine(),l.forEach(function(c,p){0!==p&&(s.result+=s.columnSeparator),s.result+=s.putInQuotes(c.data.value||""),c.mergeAcross&&s.appendEmptyCells(c.mergeAcross)})}))},o.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},o.prototype.onNewHeaderGroupingRowColumn=function(r,s,l){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(l)},o.prototype.appendEmptyCells=function(r){for(var s=1;s<=r;s++)this.result+=this.columnSeparator+this.putInQuotes("")},o.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},o.prototype.onNewHeaderRowColumn=function(r,s){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(r))},o.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},o.prototype.onNewBodyRowColumn=function(r,s,l){0!=s&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(r,s,s,Ie.EXPORT_TYPE_CSV,l))},o.prototype.putInQuotes=function(r){return this.suppressQuotes?r:null==r?'""':("string"==typeof r?s=r:"function"==typeof r.toString?s=r.toString():(console.warn("AG Grid: unknown value type during csv conversion"),s=""),'"'+s.replace(/"/g,'""')+'"');var s},o.prototype.parse=function(){return this.result},o.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},o}(qn),I0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ec=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c},Zm=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return I0(o,u),o.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},o.prototype.getMergedParams=function(r){var s=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},s,r)},o.prototype.export=function(r){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var s=this.getMergedParams(r),l=this.getData(s),c=new Blob(["\ufeff",l],{type:"text/plain"});return ts.download(this.getFileName(s.fileName),c),l},o.prototype.exportDataAsCsv=function(r){return this.export(r)},o.prototype.getDataAsCsv=function(r){var s=this.getMergedParams(r);return this.getData(s)},o.prototype.getDefaultFileName=function(){return"export.csv"},o.prototype.getDefaultFileExtension=function(){return"csv"},o.prototype.createSerializingSession=function(r){var s=this;return new P0({columnModel:s.columnModel,valueService:s.valueService,gridOptionsWrapper:s.gridOptionsWrapper,processCellCallback:r.processCellCallback||void 0,processHeaderCallback:r.processHeaderCallback||void 0,processGroupHeaderCallback:r.processGroupHeaderCallback||void 0,processRowGroupCallback:r.processRowGroupCallback||void 0,suppressQuotes:r.suppressQuotes||!1,columnSeparator:r.columnSeparator||","})},o.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},ec([de("columnModel")],o.prototype,"columnModel",void 0),ec([de("valueService")],o.prototype,"valueService",void 0),ec([de("gridSerializer")],o.prototype,"gridSerializer",void 0),ec([de("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),ec([tt],o.prototype,"postConstruct",null),ec([ut("csvCreator")],o)}(bu),M0=function(){var u=function(o,r){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)l.hasOwnProperty(c)&&(s[c]=l[c])})(o,r)};return function(o,r){function s(){this.constructor=o}u(o,r),o.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}(),ll=function(u,o,r,s){var p,l=arguments.length,c=l<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(u,o,r,s);else for(var v=u.length-1;v>=0;v--)(p=u[v])&&(c=(l<3?p(c):l>3?p(o,r,c):p(o,r))||c);return l>3&&c&&Object.defineProperty(o,r,c),c};!function(u){u[u.HEADER_GROUPING=0]="HEADER_GROUPING",u[u.HEADER=1]="HEADER",u[u.BODY=2]="BODY"}(z.aCu||(z.aCu={}));var ST=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return M0(o,u),o.prototype.serialize=function(r,s){void 0===s&&(s={});var l=this.getColumnsToExport(s.allColumns,s.columnKeys);return an.compose(this.prepareSession(l),this.prependContent(s),this.exportColumnGroups(s,l),this.exportHeaders(s,l),this.processPinnedTopRows(s,l),this.processRows(s,l),this.processPinnedBottomRows(s,l),this.appendContent(s))(r).parse()},o.prototype.processRow=function(r,s,l,c){var p=this,v=s.shouldRowBeSkipped||function(){return!1},F=this.gridOptionsWrapper,B=F.getContext(),q=F.getApi(),se=F.getColumnApi(),fe=F.isGroupRemoveSingleChildren(),we=F.isGroupHideOpenParents(),xe=F.isGroupRemoveLowestSingleChildren(),Pe=this.columnModel.isPivotMode()?c.leafGroup:!c.group,Ue=1===c.allChildrenCount&&(fe||xe&&c.leafGroup);(s.skipGroups||s.skipRowGroups)&&s.skipGroups&&an.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var Ze={rowIndex:c.rowIndex,rowPinned:c.rowPinned};if(!(!Pe&&(s.skipRowGroups||Ue||we)||s.onlySelected&&!c.isSelected()||s.rowNodes&&!s.rowNodes.some(function(Yt){return p.rowPositionUtils.sameRow(Yt,Ze)})||s.skipPinnedTop&&"top"===c.rowPinned||s.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||c.leafGroup)&&!v({node:c,api:q,columnApi:se,context:B})){var Sn=r.onNewBodyRow();if(l.forEach(function(Yt,Mn){Sn.onColumn(Yt,Mn,c)}),s.getCustomContentBelowRow){var An=s.getCustomContentBelowRow({node:c,api:q,columnApi:se,context:B});An&&r.addCustomContent(An)}}},o.prototype.appendContent=function(r){return function(s){var l=r.customFooter||r.appendContent;return l&&(r.customFooter&&an.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),s.addCustomContent(l)),s}},o.prototype.prependContent=function(r){return function(s){var l=r.customHeader||r.prependContent;return l&&(r.customHeader&&an.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),s.addCustomContent(l)),s}},o.prototype.prepareSession=function(r){return function(s){return s.prepare(r),s}},o.prototype.exportColumnGroups=function(r,s){var l=this;return function(c){if(r.skipColumnGroupHeaders)r.columnGroups&&an.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var p=new li,v=l.displayedGroupCreator.createDisplayedGroups(s,l.columnModel.getGridBalancedTree(),p,null);l.recursivelyAddHeaderGroups(v,c,r.processGroupHeaderCallback)}return c}},o.prototype.exportHeaders=function(r,s){return function(l){if(r.skipHeader||r.skipColumnHeaders)r.skipHeader&&an.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=l.onNewHeaderRow();s.forEach(function(p,v){c.onColumn(p,v,void 0)})}return l}},o.prototype.processPinnedTopRows=function(r,s){var l=this;return function(c){var p=l.processRow.bind(l,c,r,s);return l.pinnedRowModel.forEachPinnedTopRow(p),c}},o.prototype.processRows=function(r,s){var l=this;return function(c){var p=l.rowModel,v=p.getType(),F=v===Ie.ROW_MODEL_TYPE_CLIENT_SIDE,B=v===Ie.ROW_MODEL_TYPE_SERVER_SIDE,q=!F&&r.onlySelected,se=l.processRow.bind(l,c,r,s);return l.columnModel.isPivotMode()?F?p.forEachPivotNode(se):p.forEachNode(se):r.onlySelectedAllPages||q?l.selectionService.getSelectedNodes().forEach(se):F||B?p.forEachNodeAfterFilterAndSort(se):p.forEachNode(se),c}},o.prototype.processPinnedBottomRows=function(r,s){var l=this;return function(c){var p=l.processRow.bind(l,c,r,s);return l.pinnedRowModel.forEachPinnedBottomRow(p),c}},o.prototype.getColumnsToExport=function(r,s){void 0===r&&(r=!1);var l=this.columnModel.isPivotMode();return s&&s.length?this.columnModel.getGridColumns(s):r&&!l?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([Ie.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},o.prototype.recursivelyAddHeaderGroups=function(r,s,l){var c=[];r.forEach(function(p){!p.getChildren||p.getChildren().forEach(function(F){return c.push(F)})}),r.length>0&&r[0]instanceof br&&this.doAddHeaderHeader(s,r,l),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,s,l)},o.prototype.doAddHeaderHeader=function(r,s,l){var c=this,p=r.onNewHeaderGroupingRow(),v=0;s.forEach(function(F){var q,B=F;q=l?l({columnGroup:B,api:c.gridOptionsWrapper.getApi(),columnApi:c.gridOptionsWrapper.getColumnApi(),context:c.gridOptionsWrapper.getContext()}):c.columnModel.getDisplayNameForColumnGroup(B,"header");var se=B.getLeafColumns().reduce(function(fe,we,xe,Pe){var Be=an.last(fe);return"open"===we.getColumnGroupShow()?(!Be||null!=Be[1])&&fe.push(Be=[xe]):Be&&null==Be[1]&&(Be[1]=xe-1),xe===Pe.length-1&&Be&&null==Be[1]&&(Be[1]=xe),fe},[]);p.onColumn(q||"",v++,B.getLeafColumns().length-1,se)})},ll([de("displayedGroupCreator")],o.prototype,"displayedGroupCreator",void 0),ll([de("columnModel")],o.prototype,"columnModel",void 0),ll([de("rowModel")],o.prototype,"rowModel",void 0),ll([de("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ll([de("selectionService")],o.prototype,"selectionService",void 0),ll([de("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),ll([ut("gridSerializer")],o)}(ft),N0={moduleName:z.GXE.CsvExportModule,beans:[Zm,ST]},cr=(function(){function u(){}u.createHeader=function(o){void 0===o&&(o={});var l=["version"];return o.version||(o.version="1.0"),o.encoding&&l.push("encoding"),o.standalone&&l.push("standalone"),"<?xml "+l.map(function(p){return p+'="'+o[p]+'"'}).join(" ")+" ?>"},u.createXml=function(o,r){var s=this,l="";o.properties&&(o.properties.prefixedAttributes&&o.properties.prefixedAttributes.forEach(function(p){Object.keys(p.map).forEach(function(v){l+=s.returnAttributeIfPopulated(p.prefix+v,p.map[v],r)})}),o.properties.rawMap&&Object.keys(o.properties.rawMap).forEach(function(p){l+=s.returnAttributeIfPopulated(p,o.properties.rawMap[p],r)}));var c="<"+o.name+l;return o.children||null!=o.textNode?null!=o.textNode?c+">"+o.textNode+"</"+o.name+">\r\n":(c+=">\r\n",o.children&&o.children.forEach(function(p){c+=s.createXml(p,r)}),c+"</"+o.name+">\r\n"):c+"/>\r\n"},u.returnAttributeIfPopulated=function(o,r,s){if(!r&&""!==r&&0!==r)return"";var l=r;return"boolean"==typeof r&&s&&(l=s(r))," "+o+'="'+l+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function u(){}u.addFolders=function(o){o.forEach(this.addFolder.bind(this))},u.addFolder=function(o){this.folders.push({path:o,created:new Date,isBase64:!1})},u.addFile=function(o,r,s){void 0===s&&(s=!1),this.files.push({path:o,created:new Date,content:r,isBase64:s})},u.getContent=function(o){void 0===o&&(o="application/zip");var r=this.buildFileStream(),s=this.buildUint8Array(r);return this.clearStream(),new Blob([s],{type:o})},u.clearStream=function(){this.folders=[],this.files=[]},u.buildFileStream=function(o){var r,s;void 0===o&&(o="");var l=this.folders.concat(this.files),c=l.length,p="",v=0,F=0;try{for(var B=function(u){var o="function"==typeof Symbol&&Symbol.iterator,r=o&&u[o],s=0;if(r)return r.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&s>=u.length&&(u=void 0),{value:u&&u[s++],done:!u}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),q=B.next();!q.done;q=B.next()){var fe=this.getHeader(q.value,v),we=fe.fileHeader,xe=fe.folderHeader,Pe=fe.content;v+=we.length+Pe.length,F+=xe.length,o+=we+Pe,p+=xe}}catch(We){r={error:We}}finally{try{q&&!q.done&&(s=B.return)&&s.call(B)}finally{if(r)throw r.error}}return o+p+this.buildFolderEnd(c,F,v)},u.getHeader=function(o,r){var s=o.content,l=o.path,c=o.created,p=o.isBase64,F=an.decToHex,B=(0,an.utf8_encode)(l),q=B!==l,se=this.convertTime(c),fe=this.convertDate(c),we="";if(q){var xe=F(1,1)+F(this.getFromCrc32Table(B),4)+B;we="up"+F(xe.length,2)+xe}var Pe=s?this.getConvertedContent(s,p):{size:0,content:""},Be=Pe.size,We=Pe.content,Ue="\n\0"+(q?"\0\b":"\0\0")+"\0\0"+F(se,2)+F(fe,2)+F(Be?this.getFromCrc32Table(We):0,4)+F(Be,4)+F(Be,4)+F(B.length,2)+F(we.length,2);return{fileHeader:"PK\x03\x04"+Ue+B+we,folderHeader:"PK\x01\x02\x14\0"+Ue+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+F(r,4)+B+we,content:We||""}},u.getConvertedContent=function(o,r){return void 0===r&&(r=!1),r&&(o=o.split(";base64,")[1]),{size:(o=r?atob(o):o).length,content:o}},u.buildFolderEnd=function(o,r,s){var l=an.decToHex;return"PK\x05\x06\0\0\0\0"+l(o,2)+l(o,2)+l(r,4)+l(s,4)+"\0\0"},u.buildUint8Array=function(o){for(var r=new Uint8Array(o.length),s=0;s<r.length;s++)r[s]=o.charCodeAt(s);return r},u.getFromCrc32Table=function(o){if(!o.length)return 0;for(var r=o.length,s=new Uint8Array(r),l=0;l<r;l++)s[l]=o.charCodeAt(l);var c=-1;for(l=0;l<r;l++)c=c>>>8^cr[255&(c^s[l])];return-1^c},u.convertTime=function(o){var r=o.getHours();return r<<=6,r|=o.getMinutes(),(r<<=5)|o.getSeconds()/2},u.convertDate=function(o){var r=o.getFullYear()-1980;return r<<=4,r|=o.getMonth()+1,(r<<=5)|o.getDate()},u.folders=[],u.files=[]}();Le.register($d,!1),Le.register(Ud,!1),Le.register(N0,!1),z.j_S=oo,z.Nk3=fT,z.plv=Tl,z.rjZ=Xp,z.vA3=Id},123:function(Rr){Rr.exports=function(z){function J(I){if(k[I])return k[I].exports;var O=k[I]={exports:{},id:I,loaded:!1};return z[I].call(O.exports,O,O.exports,J),O.loaded=!0,O.exports}var k={};return J.m=z,J.c=k,J.p="dist/",J(0)}([function(z,J,k){"use strict";function I(he){return he&&he.__esModule?he:{default:he}}var O=Object.assign||function(he){for(var me=1;me<arguments.length;me++){var ye=arguments[me];for(var Se in ye)Object.prototype.hasOwnProperty.call(ye,Se)&&(he[Se]=ye[Se])}return he},D=(I(k(1)),k(6)),C=I(D),y=I(k(7)),g=I(k(8)),b=I(k(9)),P=I(k(10)),G=I(k(11)),$=I(k(14)),j=[],Q=!1,Y={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ne=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Q=!0),Q)return j=(0,G.default)(j,Y),(0,P.default)(j,Y.once),j},oe=function(){j=(0,$.default)(),ne()};z.exports={init:function(he){Y=O(Y,he),j=(0,$.default)();var me=document.all&&!window.atob;return function(he){return!0===he||"mobile"===he&&b.default.mobile()||"phone"===he&&b.default.phone()||"tablet"===he&&b.default.tablet()||"function"==typeof he&&!0===he()}(Y.disable)||me?void j.forEach(function(he,me){he.node.removeAttribute("data-aos"),he.node.removeAttribute("data-aos-easing"),he.node.removeAttribute("data-aos-duration"),he.node.removeAttribute("data-aos-delay")}):(Y.disableMutationObserver||g.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Y.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Y.easing),document.querySelector("body").setAttribute("data-aos-duration",Y.duration),document.querySelector("body").setAttribute("data-aos-delay",Y.delay),"DOMContentLoaded"===Y.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?ne(!0):"load"===Y.startEvent?window.addEventListener(Y.startEvent,function(){ne(!0)}):document.addEventListener(Y.startEvent,function(){ne(!0)}),window.addEventListener("resize",(0,y.default)(ne,Y.debounceDelay,!0)),window.addEventListener("orientationchange",(0,y.default)(ne,Y.debounceDelay,!0)),window.addEventListener("scroll",(0,C.default)(function(){(0,P.default)(j,Y.once)},Y.throttleDelay)),Y.disableMutationObserver||g.default.ready("[data-aos]",oe),j)},refresh:ne,refreshHard:oe}},function(z,J){},,,,,function(z,J){(function(k){"use strict";function I(ee,le,he){function me(nt){var wt=ze,jt=qe;return ze=qe=void 0,jn=nt,bt=ee.apply(jt,wt)}function ye(nt){return jn=nt,Re=setTimeout(Ne,le),yt?me(nt):bt}function Oe(nt){var wt=nt-Nt;return void 0===Nt||wt>=le||wt<0||Fe&&nt-jn>=mt}function Ne(){var nt=te();return Oe(nt)?ke(nt):void(Re=setTimeout(Ne,function Se(nt){var nn=le-(nt-Nt);return Fe?oe(nn,mt-(nt-jn)):nn}(nt)))}function ke(nt){return Re=void 0,$e&&ze?me(nt):(ze=qe=void 0,bt)}function rt(){var nt=te(),wt=Oe(nt);if(ze=arguments,qe=this,Nt=nt,wt){if(void 0===Re)return ye(Nt);if(Fe)return Re=setTimeout(Ne,le),me(Nt)}return void 0===Re&&(Re=setTimeout(Ne,le)),bt}var ze,qe,mt,bt,Re,Nt,jn=0,yt=!1,Fe=!1,$e=!0;if("function"!=typeof ee)throw new TypeError(f);return le=_(le)||0,S(he)&&(yt=!!he.leading,mt=(Fe="maxWait"in he)?ne(_(he.maxWait)||0,le):mt,$e="trailing"in he?!!he.trailing:$e),rt.cancel=function Ge(){void 0!==Re&&clearTimeout(Re),jn=0,ze=Nt=qe=Re=void 0},rt.flush=function je(){return void 0===Re?bt:ke(te())},rt}function S(ee){var le=void 0===ee?"undefined":y(ee);return!!ee&&("object"==le||"function"==le)}function C(ee){return"symbol"==(void 0===ee?"undefined":y(ee))||function D(ee){return!!ee&&"object"==(void 0===ee?"undefined":y(ee))}(ee)&&Y.call(ee)==w}function _(ee){if("number"==typeof ee)return ee;if(C(ee))return g;if(S(ee)){var le="function"==typeof ee.valueOf?ee.valueOf():ee;ee=S(le)?le+"":le}if("string"!=typeof ee)return 0===ee?ee:+ee;ee=ee.replace(b,"");var he=P.test(ee);return he||E.test(ee)?G(ee.slice(2),he?2:8):T.test(ee)?g:+ee}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},f="Expected a function",g=NaN,w="[object Symbol]",b=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,E=/^0o[0-7]+$/i,G=parseInt,H="object"==(void 0===k?"undefined":y(k))&&k&&k.Object===Object&&k,$="object"==("undefined"==typeof self?"undefined":y(self))&&self&&self.Object===Object&&self,j=H||$||Function("return this")(),Y=Object.prototype.toString,ne=Math.max,oe=Math.min,te=function(){return j.Date.now()};z.exports=function O(ee,le,he){var me=!0,ye=!0;if("function"!=typeof ee)throw new TypeError(f);return S(he)&&(me="leading"in he?!!he.leading:me,ye="trailing"in he?!!he.trailing:ye),I(ee,le,{leading:me,maxWait:le,trailing:ye})}}).call(J,function(){return this}())},function(z,J){(function(k){"use strict";function O(te){var ee=void 0===te?"undefined":_(te);return!!te&&("object"==ee||"function"==ee)}function D(te){return"symbol"==(void 0===te?"undefined":_(te))||function S(te){return!!te&&"object"==(void 0===te?"undefined":_(te))}(te)&&Q.call(te)==g}function C(te){if("number"==typeof te)return te;if(D(te))return f;if(O(te)){var ee="function"==typeof te.valueOf?te.valueOf():te;te=O(ee)?ee+"":ee}if("string"!=typeof te)return 0===te?te:+te;te=te.replace(w,"");var le=T.test(te);return le||P.test(te)?E(te.slice(2),le?2:8):b.test(te)?f:+te}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(te){return typeof te}:function(te){return te&&"function"==typeof Symbol&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},y="Expected a function",f=NaN,g="[object Symbol]",w=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,P=/^0o[0-7]+$/i,E=parseInt,G="object"==(void 0===k?"undefined":_(k))&&k&&k.Object===Object&&k,H="object"==("undefined"==typeof self?"undefined":_(self))&&self&&self.Object===Object&&self,$=G||H||Function("return this")(),Q=Object.prototype.toString,Y=Math.max,ne=Math.min,oe=function(){return $.Date.now()};z.exports=function I(te,ee,le){function he($e){var nt=rt,wt=ze;return rt=ze=void 0,Nt=$e,mt=te.apply(wt,nt)}function me($e){return Nt=$e,bt=setTimeout(Oe,ee),jn?he($e):mt}function Se($e){var nt=$e-Re;return void 0===Re||nt>=ee||nt<0||yt&&$e-Nt>=qe}function Oe(){var $e=oe();return Se($e)?Ne($e):void(bt=setTimeout(Oe,function ye($e){var jt=ee-($e-Re);return yt?ne(jt,qe-($e-Nt)):jt}($e)))}function Ne($e){return bt=void 0,Fe&&rt?he($e):(rt=ze=void 0,mt)}function je(){var $e=oe(),nt=Se($e);if(rt=arguments,ze=this,Re=$e,nt){if(void 0===bt)return me(Re);if(yt)return bt=setTimeout(Oe,ee),he(Re)}return void 0===bt&&(bt=setTimeout(Oe,ee)),mt}var rt,ze,qe,mt,bt,Re,Nt=0,jn=!1,yt=!1,Fe=!0;if("function"!=typeof te)throw new TypeError(y);return ee=C(ee)||0,O(le)&&(jn=!!le.leading,qe=(yt="maxWait"in le)?Y(C(le.maxWait)||0,ee):qe,Fe="trailing"in le?!!le.trailing:Fe),je.cancel=function ke(){void 0!==bt&&clearTimeout(bt),Nt=0,rt=Re=ze=bt=void 0},je.flush=function Ge(){return void 0===bt?mt:Ne(oe())},je}}).call(J,function(){return this}())},function(z,J){"use strict";function k(_){var y=void 0,f=void 0;for(y=0;y<_.length;y+=1)if((f=_[y]).dataset&&f.dataset.aos||f.children&&k(f.children))return!0;return!1}function I(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function D(_){_&&_.forEach(function(y){var f=Array.prototype.slice.call(y.addedNodes),g=Array.prototype.slice.call(y.removedNodes);if(k(f.concat(g)))return C()})}Object.defineProperty(J,"__esModule",{value:!0});var C=function(){};J.default={isSupported:function O(){return!!I()},ready:function S(_,y){var f=window.document,w=new(I())(D);C=y,w.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(z,J){"use strict";function I(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(J,"__esModule",{value:!0});var O=function(){function f(g,w){for(var b=0;b<w.length;b++){var T=w[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,w,b){return w&&f(g.prototype,w),b&&f(g,b),g}}(),S=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,D=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,C=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,_=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,y=function(){function f(){!function k(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f)}return O(f,[{key:"phone",value:function(){var g=I();return!(!S.test(g)&&!D.test(g.substr(0,4)))}},{key:"mobile",value:function(){var g=I();return!(!C.test(g)&&!_.test(g.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();J.default=new y},function(z,J){"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.default=function(O,S){var D=window.pageYOffset,C=window.innerHeight;O.forEach(function(_,y){!function(O,S,D){var C=O.node.getAttribute("data-aos-once");S>O.position?O.node.classList.add("aos-animate"):void 0!==C&&("false"===C||!D&&"true"!==C)&&O.node.classList.remove("aos-animate")}(_,C+D,S)})}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var S=function I(C){return C&&C.__esModule?C:{default:C}}(k(12));J.default=function(C,_){return C.forEach(function(y,f){y.node.classList.add("aos-init"),y.position=(0,S.default)(y.node,_.offset)}),C}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var S=function I(C){return C&&C.__esModule?C:{default:C}}(k(13));J.default=function(C,_){var y=0,f=0,g=window.innerHeight,w={offset:C.getAttribute("data-aos-offset"),anchor:C.getAttribute("data-aos-anchor"),anchorPlacement:C.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(f=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(C=document.querySelectorAll(w.anchor)[0]),y=(0,S.default)(C).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":y+=C.offsetHeight/2;break;case"bottom-bottom":y+=C.offsetHeight;break;case"top-center":y+=g/2;break;case"bottom-center":y+=g/2+C.offsetHeight;break;case"center-center":y+=g/2+C.offsetHeight/2;break;case"top-top":y+=g;break;case"bottom-top":y+=C.offsetHeight+g;break;case"center-top":y+=C.offsetHeight/2+g}return w.anchorPlacement||w.offset||isNaN(_)||(f=_),y+f}},function(z,J){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(I){for(var O=0,S=0;I&&!isNaN(I.offsetLeft)&&!isNaN(I.offsetTop);)O+=I.offsetLeft-("BODY"!=I.tagName?I.scrollLeft:0),S+=I.offsetTop-("BODY"!=I.tagName?I.scrollTop:0),I=I.offsetParent;return{top:S,left:O}}},function(z,J){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(I){return I=I||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(I,function(O){return{node:O}})}}])},87:(Rr,z,J)=>{"use strict";const k=J(315),I=J(872),O=J(717);Rr.exports=function S(_,y){switch(I(_)){case"object":return function D(_,y){if("function"==typeof y)return y(_);if(y||O(_)){const f=new _.constructor;for(let g in _)f[g]=S(_[g],y);return f}return _}(_,y);case"array":return function C(_,y){const f=new _.constructor(_.length);for(let g=0;g<_.length;g++)f[g]=S(_[g],y);return f}(_,y);default:return k(_)}}},190:Rr=>{window,Rr.exports=function(z){var J={};function k(I){if(J[I])return J[I].exports;var O=J[I]={i:I,l:!1,exports:{}};return z[I].call(O.exports,O,O.exports,k),O.l=!0,O.exports}return k.m=z,k.c=J,k.d=function(I,O,S){k.o(I,O)||Object.defineProperty(I,O,{enumerable:!0,get:S})},k.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},k.t=function(I,O){if(1&O&&(I=k(I)),8&O||4&O&&"object"==typeof I&&I&&I.__esModule)return I;var S=Object.create(null);if(k.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:I}),2&O&&"string"!=typeof I)for(var D in I)k.d(S,D,function(C){return I[C]}.bind(null,D));return S},k.n=function(I){var O=I&&I.__esModule?function(){return I.default}:function(){return I};return k.d(O,"a",O),O},k.o=function(I,O){return Object.prototype.hasOwnProperty.call(I,O)},k.p="/codebase/",k(k.s=63)}([function(z,J,k){function I(C){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}var O,S=k(2),D={}.constructor.toString();z.exports={copy:function C(_){var y,f;if(_&&"object"==I(_))switch(!0){case S.isDate(_):f=new Date(_);break;case S.isArray(_):for(f=new Array(_.length),y=0;y<_.length;y++)f[y]=C(_[y]);break;default:for(y in f=_.constructor.toString()!==D?Object.create(_):{},_)Object.prototype.hasOwnProperty.apply(_,[y])&&(f[y]=C(_[y]))}return f||_},defined:function(C){return void 0!==C},mixin:function(C,_,y){for(var f in _)(void 0===C[f]||y)&&(C[f]=_[f]);return C},uid:function(){return O||(O=(new Date).valueOf()),++O},bind:function(C,_){return C.bind?C.bind(_):function(){return C.apply(_,arguments)}},event:function(C,_,y,f){C.addEventListener?C.addEventListener(_,y,void 0!==f&&f):C.attachEvent&&C.attachEvent("on"+_,y)},eventRemove:function(C,_,y,f){C.removeEventListener?C.removeEventListener(_,y,void 0!==f&&f):C.detachEvent&&C.detachEvent("on"+_,y)}}},function(z,J){function k(b){var T=0,P=0,E=0,G=0;if(b.getBoundingClientRect){var H=b.getBoundingClientRect(),$=document.body,j=document.documentElement||document.body.parentNode||document.body,Q=window.pageYOffset||j.scrollTop||$.scrollTop,Y=window.pageXOffset||j.scrollLeft||$.scrollLeft;T=H.top+Q-(j.clientTop||$.clientTop||0),P=H.left+Y-(j.clientLeft||$.clientLeft||0),E=document.body.offsetWidth-H.right,G=document.body.offsetHeight-H.bottom}else{for(;b;)T+=parseInt(b.offsetTop,10),P+=parseInt(b.offsetLeft,10),b=b.offsetParent;E=document.body.offsetWidth-b.offsetWidth-P,G=document.body.offsetHeight-b.offsetHeight-T}return{y:Math.round(T),x:Math.round(P),width:b.offsetWidth,height:b.offsetHeight,right:Math.round(E),bottom:Math.round(G)}}function I(b){var T=!1,P=!1;if(window.getComputedStyle){var E=window.getComputedStyle(b,null);T=E.display,P=E.visibility}else b.currentStyle&&(T=b.currentStyle.display,P=b.currentStyle.visibility);return"none"!=T&&"hidden"!=P}function O(b){return!isNaN(b.getAttribute("tabindex"))&&1*b.getAttribute("tabindex")>=0}function S(b){return!{a:!0,area:!0}[b.nodeName.loLowerCase()]||!!b.getAttribute("href")}function D(b){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[b.nodeName.toLowerCase()]||!b.hasAttribute("disabled")}function C(b){if(!b)return"";var T=b.className||"";return T.baseVal&&(T=T.baseVal),T.indexOf||(T=""),f(T)}var _;function y(b){var T;return b.tagName?T=b:(T=(b=b||window.event).target||b.srcElement).shadowRoot&&b.composedPath&&(T=b.composedPath()[0]),T}function f(b){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(b)}function g(){return document.head.createShadowRoot||document.head.attachShadow}function w(b){if(!b||!g())return document.body;for(;b.parentNode&&(b=b.parentNode);)if(b instanceof ShadowRoot)return b.host;return document.body}z.exports={getNodePosition:k,getFocusableNodes:function(b){for(var T=b.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),P=Array.prototype.slice.call(T,0),E=0;E<P.length;E++)P[E].$position=E;for(P.sort(function(H,$){return 0===H.tabIndex&&0!==$.tabIndex?1:0!==H.tabIndex&&0===$.tabIndex?-1:H.tabIndex===$.tabIndex?H.$position-$.$position:H.tabIndex<$.tabIndex?-1:1}),E=0;E<P.length;E++){var G=P[E];(O(G)||D(G)||S(G))&&I(G)||(P.splice(E,1),E--)}return P},getScrollSize:function(){var b=document.createElement("div");b.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(b);var T=b.offsetWidth-b.clientWidth;return document.body.removeChild(b),T},getClassName:C,addClassName:function(b,T){T&&-1===b.className.indexOf(T)&&(b.className+=" "+T)},removeClassName:function(b,T){T=T.split(" ");for(var P=0;P<T.length;P++){var E=new RegExp("\\s?\\b"+T[P]+"\\b(?![-_.])","");b.className=b.className.replace(E,"")}},insertNode:function(b,T){_||(_=document.createElement("div")),_.innerHTML=T;var P=_.firstChild;return b.appendChild(P),P},removeNode:function(b){b&&b.parentNode&&b.parentNode.removeChild(b)},getChildNodes:function(b,T){for(var P=b.childNodes,E=P.length,G=[],H=0;H<E;H++){var $=P[H];$.className&&-1!==$.className.indexOf(T)&&G.push($)}return G},toNode:function(b){return"string"==typeof b?document.getElementById(b)||document.querySelector(b)||document.body:b||document.body},locateClassName:function(b,T,P){var E=y(b),G="";for(void 0===P&&(P=!0);E;){if(G=C(E)){var H=G.indexOf(T);if(H>=0){if(!P)return E;var $=0===H||!f(G.charAt(H-1)),j=H+T.length>=G.length||!f(G.charAt(H+T.length));if($&&j)return E}}E=E.parentNode}return null},locateAttribute:function(b,T){if(T){for(var P=y(b);P;){if(P.getAttribute&&P.getAttribute(T))return P;P=P.parentNode}return null}},getTargetNode:y,getRelativeEventPosition:function(b,T){var P=document.documentElement,E=k(T);return{x:b.clientX+P.scrollLeft-P.clientLeft-E.x+T.scrollLeft,y:b.clientY+P.scrollTop-P.clientTop-E.y+T.scrollTop}},isChildOf:function(b,T){if(!b||!T)return!1;for(;b&&b!=T;)b=b.parentNode;return b===T},hasClass:function(b,T){return"classList"in b?b.classList.contains(T):new RegExp("\\b"+T+"\\b").test(b.className)},closest:function(b,T){if(b.closest)return b.closest(T);if(b.matches||b.msMatchesSelector||b.webkitMatchesSelector){var P=b;if(!document.documentElement.contains(P))return null;do{if((P.matches||P.msMatchesSelector||P.webkitMatchesSelector).call(P,T))return P;P=P.parentElement||P.parentNode}while(null!==P&&1===P.nodeType);return null}return console.error("Your browser is not supported"),null},getRootNode:w,hasShadowParent:function(b){return!!w(b)},isShadowDomSupported:g,getActiveElement:function(){var b=document.activeElement;return b.shadowRoot&&(b=b.shadowRoot.activeElement),b===document.body&&document.getSelection&&(b=document.getSelection().focusNode||document.body),b}}},function(z,J){function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}var I={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function O(C){return!(!C||"object"!==k(C)||!(C.getFullYear&&C.getMonth&&C.getDate))}function S(C,_){var y=[];if(C.filter)return C.filter(_);for(var f=0;f<C.length;f++)_(C[f],f)&&(y[y.length]=C[f]);return y}function D(C){return 0===C}z.exports={getSecondsInUnit:function(C){return I[C]||I.hour},forEach:function(C,_){if(C.forEach)C.forEach(_);else for(var y=C.slice(),f=0;f<y.length;f++)_(y[f],f)},arrayMap:function(C,_){if(C.map)return C.map(_);for(var y=C.slice(),f=[],g=0;g<y.length;g++)f.push(_(y[g],g));return f},arrayIncludes:function(C,_){if(C.includes)return C.includes(_);for(var y=0;y<C.length;y++)if(C[y]===_)return!0;return!1},arrayFind:function(C,_){if(C.find)return C.find(_);for(var y=0;y<C.length;y++)if(_(C[y],y))return C[y]},arrayFilter:S,arrayDifference:function(C,_){return S(C,function(y,f){return!_(y,f)})},arraySome:function(C,_){if(0===C.length)return!1;for(var y=0;y<C.length;y++)if(_(C[y],y,C))return!0;return!1},hashToArray:function(C){var _=[];for(var y in C)C.hasOwnProperty(y)&&_.push(C[y]);return _},sortArrayOfHash:function(C,_,y){var f=function(g,w){return g<w};C.sort(function(g,w){return g[_]===w[_]?0:y?f(g[_],w[_]):f(w[_],g[_])})},throttle:function(C,_){var y=!1;return function(){y||(C.apply(null,arguments),y=!0,setTimeout(function(){y=!1},_))}},isArray:function(C){return Array.isArray?Array.isArray(C):C&&void 0!==C.length&&C.pop&&C.push},isDate:O,isValidDate:function(C){return O(C)&&!isNaN(C.getTime())},isStringObject:function(C){return C&&"object"===k(C)&&"function String() { [native code] }"===Function.prototype.toString.call(C.constructor)},isNumberObject:function(C){return C&&"object"===k(C)&&"function Number() { [native code] }"===Function.prototype.toString.call(C.constructor)},isBooleanObject:function(C){return C&&"object"===k(C)&&"function Boolean() { [native code] }"===Function.prototype.toString.call(C.constructor)},delay:function(C,_){var y,f=function g(){g.$cancelTimeout(),g.$pending=!0;var w=Array.prototype.slice.call(arguments);y=setTimeout(function(){C.apply(this,w),g.$pending=!1},_)};return f.$pending=!1,f.$cancelTimeout=function(){clearTimeout(y),f.$pending=!1},f.$execute=function(){var g=Array.prototype.slice.call(arguments);C.apply(this,g),f.$cancelTimeout()},f},objectKeys:function(C){if(Object.keys)return Object.keys(C);var _,y=[];for(_ in C)Object.prototype.hasOwnProperty.call(C,_)&&y.push(_);return y},isEventable:function(C){return C.attachEvent&&C.detachEvent},replaceValidZeroId:function(C,_){return D(C)&&!D(_)&&(C="0"),C},checkZeroId:D,findBinary:function(C,_){for(var y,f,g,w=0,b=C.length-1;w<=b;)if(f=+C[y=Math.floor((w+b)/2)],g=+C[y-1],f<_)w=y+1;else{if(!(f>_)){for(;+C[y]==+C[y+1];)y++;return y}if(!isNaN(g)&&g<_)return y-1;b=y-1}return C.length-1}}},function(z,J){z.exports=function(k,I){for(var O in I)I.hasOwnProperty(O)&&(k[O]=I[O]);function S(){this.constructor=k}k.prototype=null===I?Object.create(I):(S.prototype=I.prototype,new S)}},function(z,J){var k=function(){this._silent_mode=!1,this.listeners={}};k.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};z.exports=function(O){var S=new k;O.attachEvent=function(D,C,_){D="ev_"+D.toLowerCase(),S.listeners[D]||(S.listeners[D]=function(O){var S={},D=0,C=function(){var _=!0;for(var y in S){var f=S[y].apply(O,arguments);_=_&&f}return _};return C.addEvent=function(_,y){if("function"==typeof _){var f;if(y&&y.id?f=y.id:(f=D,D++),y&&y.once){var g=_;_=function(){g(),C.removeEvent(f)}}return S[f]=_,f}return!1},C.removeEvent=function(_){delete S[_]},C.clear=function(){S={}},C}(this)),_&&_.thisObject&&(C=C.bind(_.thisObject));var y=D+":"+S.listeners[D].addEvent(C,_);return _&&_.id&&(y=_.id),y},O.attachAll=function(D){this.attachEvent("listen_all",D)},O.callEvent=function(D,C){if(S._silent_mode)return!0;var _="ev_"+D.toLowerCase(),y=S.listeners;return y.ev_listen_all&&y.ev_listen_all.apply(this,[D].concat(C)),!y[_]||y[_].apply(this,C)},O.checkEvent=function(D){return!!S.listeners["ev_"+D.toLowerCase()]},O.detachEvent=function(D){if(D){var C=S.listeners;for(var _ in C)C[_].removeEvent(D);var y=D.split(":");if(C=S.listeners,2===y.length){var f=y[0];C[f]&&C[f].removeEvent(y[1])}}},O.detachAllEvents=function(){for(var D in S.listeners)S.listeners[D].clear()}}},function(z,J){z.exports=function(k,I,O,S,D){var C=I.getItemIndexByTopPosition(D.y)||0,_=I.getItemIndexByTopPosition(D.y_end)||S.count();return{start:Math.max(0,C-1),end:Math.min(S.count(),_+1)}}},function(z,J){function k(){console.log("Method is not implemented.")}function I(){}I.prototype.render=k,I.prototype.set_value=k,I.prototype.get_value=k,I.prototype.focus=k,z.exports=function(O){return I}},function(z,J){var k="undefined"!=typeof window,I={isIE:k&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:k&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:k&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:k&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:k&&navigator.userAgent.indexOf("Opera")>=0,isChrome:k&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:k&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:k&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:k&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:k&&-1!=navigator.userAgent.indexOf("Edge"),isNode:!k||"undefined"==typeof navigator};z.exports=I},function(z,J){z.exports=function(k){var I=function(){};return I.prototype={show:function(O,S,D,C){},hide:function(){},set_value:function(O,S,D,C){this.get_input(C).value=O},get_value:function(O,S,D){return this.get_input(D).value||""},is_changed:function(O,S,D,C){var _=this.get_value(S,D,C);return _&&O&&_.valueOf&&O.valueOf?_.valueOf()!=O.valueOf():_!=O},is_valid:function(O,S,D,C){return!0},save:function(O,S,D){},get_input:function(O){return O.querySelector("input")},focus:function(O){var S=this.get_input(O);S&&(S.focus&&S.focus(),S.select&&S.select())}},I}},function(z,J){z.exports=function(k,I,O,S){return!!((S=I?I.config:S)&&S.placeholder_task&&O.exists(k))&&O.getItem(k).type===S.types.placeholder}},function(z,J,k){var I=k(7);z.exports=function(O){return I.isNode||!O.$root}},function(z,J,k){var I=k(0),O=k(4),S=k(1),D=function(){"use strict";function C(_,y,f,g){_&&(this.$container=S.toNode(_),this.$parent=_),this.$config=I.mixin(y,{headerHeight:33}),this.$gantt=g,this.$domEvents=g._createDomEventScope(),this.$id=y.id||"c"+I.uid(),this.$name="cell",this.$factory=f,O(this)}return C.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},C.prototype.cell=function(_){return null},C.prototype.scrollTo=function(_,y){var f=this.$view;this.$config.html&&(f=this.$view.firstChild),1*_==_&&(f.scrollLeft=_),1*y==y&&(f.scrollTop=y)},C.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},C.prototype.resize=function(_){if(this.$parent)return this.$parent.resize(_);!1===_&&(this.$preResize=!0);var y=this.$container,f=y.offsetWidth,g=y.offsetHeight,w=this.getSize();y===document.body&&(f=document.body.offsetWidth,g=document.body.offsetHeight),f<w.minWidth&&(f=w.minWidth),f>w.maxWidth&&(f=w.maxWidth),g<w.minHeight&&(g=w.minHeight),g>w.maxHeight&&(g=w.maxHeight),this.setSize(f,g),this.$preResize=!1},C.prototype.hide=function(){this._hide(!0),this.resize()},C.prototype.show=function(_){this._hide(!1),_&&this.$parent&&this.$parent.show(),this.resize()},C.prototype._hide=function(_){if(!0===_&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(!1===_&&!this.$view.parentNode){var y=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,y)}this.$config.hidden=_},C.prototype.$toHTML=function(_,y){void 0===_&&(_=""),y=[y||"",this.$config.css||""].join(" ");var f=this.$config,g="";return f.raw?_="string"==typeof f.raw?f.raw:"":(_||(_="<div class='gantt_layout_content' "+(y?" class='"+y+"' ":"")+" >"+(f.html||"")+"</div>"),f.header&&(g="<div class='gantt_layout_header'>"+(f.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+f.header+"</div></div>")),"<div class='gantt_layout_cell "+y+"' data-cell-id='"+this.$id+"'>"+g+_+"</div>"},C.prototype.$fill=function(_,y){this.$view=_,this.$parent=y,this.init()},C.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},C.prototype.init=function(){var _=this;this._headerClickHandler=function(y){S.locateAttribute(y,"data-cell-id")==_.$id&&_.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},C.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},C.prototype.getSize=function(){var _={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var y="x"===this.$config.mode;_[y?"width":"height"]=_[y?"maxWidth":"maxHeight"]=this.$config.headerHeight}return _},C.prototype.getContentSize=function(){var _=this.$lastSize.contentX;_!==1*_&&(_=this.$lastSize.width);var y=this.$lastSize.contentY;return y!==1*y&&(y=this.$lastSize.height),{width:_,height:y}},C.prototype._getBorderSizes=function(){var _={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(_.left=1,_.horizontal++),this._currentBorders[this._borders.right]&&(_.right=1,_.horizontal++),this._currentBorders[this._borders.top]&&(_.top=1,_.vertical++),this._currentBorders[this._borders.bottom]&&(_.bottom=1,_.vertical++)),_},C.prototype.setSize=function(_,y){this.$view.style.width=_+"px",this.$view.style.height=y+"px";var f=this._getBorderSizes();this.$lastSize={x:_,y,contentX:_-f.horizontal,contentY:y-f.vertical},this.$config.header?this._sizeHeader():this._sizeContent()},C.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},C.prototype._setBorders=function(_,y){y||(y=this);var f=y.$view;for(var g in this._borders)S.removeClassName(f,this._borders[g]);"string"==typeof _&&(_=[_]);var w={};for(g=0;g<_.length;g++)S.addClassName(f,_[g]),w[_[g]]=!0;y._currentBorders=w},C.prototype._sizeContent=function(){var _=this.$view.childNodes[0];_&&"gantt_layout_content"==_.className&&(_.style.height=this.$lastSize.contentY+"px")},C.prototype._sizeHeader=function(){var _=this.$lastSize;_.contentY-=this.$config.headerHeight;var y=this.$view.childNodes[0],f=this.$view.childNodes[1],g="x"===this.$config.mode;if(this.$config.collapsed)if(f.style.display="none",g){y.className="gantt_layout_header collapsed_x",y.style.width=_.y+"px";var w=Math.floor(_.y/2-_.x/2);y.style.transform="rotate(90deg) translate("+w+"px, "+w+"px)",f.style.display="none"}else y.className="gantt_layout_header collapsed_y";else y.className=g?"gantt_layout_header":"gantt_layout_header vertical",y.style.width="auto",y.style.transform="",f.style.display="",f.style.height=_.contentY+"px";y.style.height=this.$config.headerHeight+"px"},C}();z.exports=D},function(z,J,k){(function(I){var O;O="undefined"!=typeof window?window:I,z.exports=O}).call(this,k(13))},function(z,J){function k(O){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}var I;I=function(){return this}();try{I=I||new Function("return this")()}catch(O){"object"===("undefined"==typeof window?"undefined":k(window))&&(I=window)}z.exports=I},function(z,J){z.exports=function(k){return k.config.smart_rendering&&k._smart_render}},function(z,J,k){var I=k(3),O=k(43);z.exports=function(S){var D=k(6)(S);function C(){return D.apply(this,arguments)||this}return I(C,D),C.prototype.render=function(_){var y="<div class='gantt_cal_ltext' style='height:"+(_.height||"23")+"px;'>";return(y+=O.getHtmlSelect(_.options,[{key:"style",value:"width:100%;"}]))+"</div>"},C.prototype.set_value=function(_,y,f,g){var w=_.firstChild;!w._dhx_onchange&&g.onchange&&(w.onchange=g.onchange,w._dhx_onchange=!0),void 0===y&&(y=(w.options[0]||{}).value),w.value=y||""},C.prototype.get_value=function(_){return _.firstChild.value},C.prototype.focus=function(_){S._focus(_.firstChild,!0)},C}},function(z,J,k){},,function(z,J,k){var I=k(0);z.exports=function(O){var S=O.date,D=O.$services;return{getSum:function(C,_,y){void 0===y&&(y=C.length-1),void 0===_&&(_=0);for(var f=0,g=_;g<=y;g++)f+=C[g];return f},setSumWidth:function(C,_,y,f){var g=_.width;if(void 0===f&&(f=g.length-1),void 0===y&&(y=0),!(y>g.length-1||f-y+1<=0||f>g.length-1)){var b=C-this.getSum(g,y,f);this.adjustSize(b,g,y,f),this.adjustSize(-b,g,f+1),_.full_width=this.getSum(g)}},splitSize:function(C,_){for(var y=[],f=0;f<_;f++)y[f]=0;return this.adjustSize(C,y),y},adjustSize:function(C,_,y,f){y||(y=0),void 0===f&&(f=_.length-1);for(var g=f-y+1,w=this.getSum(_,y,f),b=y;b<=f;b++){var T=Math.floor(C*(w?_[b]/w:1/g));w-=_[b],C-=T,g--,_[b]+=T}_[_.length-1]+=C},sortScales:function(C){function _(f,g){var w=new Date(1970,0,1);return S.add(w,g,f)-w}C.sort(function(f,g){return _(f.unit,f.step)<_(g.unit,g.step)?1:_(f.unit,f.step)>_(g.unit,g.step)?-1:0});for(var y=0;y<C.length;y++)C[y].index=y},_isLegacyMode:function(C){var _=C||O.config;return _.scale_unit||_.date_scale||_.subscales},_prepareScaleObject:function(C){var _=C.format;return _||(_=C.template||C.date||"%d %M"),"string"==typeof _&&(_=O.date.date_to_str(_)),{unit:C.unit||"day",step:C.step||1,format:_,css:C.css}},primaryScale:function(C){var _,y=D.getService("templateLoader"),f=this._isLegacyMode(C),g=C||O.config;if(f)y.initTemplate("date_scale",void 0,void 0,g,O.config.templates),_={unit:O.config.scale_unit,step:O.config.step,template:O.templates.date_scale,date:O.config.date_scale,css:O.templates.scale_cell_class};else{var w=g.scales[0];_={unit:w.unit,step:w.step,template:w.template,format:w.format,date:w.date,css:w.css||O.templates.scale_cell_class}}return this._prepareScaleObject(_)},getSubScales:function(C){var _=this._isLegacyMode(C),y=C||O.config;return(_?y.subscales||[]:y.scales.slice(1)).map(function(f){return this._prepareScaleObject(f)}.bind(this))},prepareConfigs:function(C,_,y,f,g,w,b){for(var T=this.splitSize(f,C.length),P=y,E=[],G=C.length-1;G>=0;G--){var H=G==C.length-1,$=this.initScaleConfig(C[G],g,w);H&&this.processIgnores($),this.initColSizes($,_,P,T[G]),this.limitVisibleRange($),H&&(P=$.full_width),E.unshift($)}for(G=0;G<E.length-1;G++)this.alineScaleColumns(E[E.length-1],E[G]);for(G=0;G<E.length;G++)b&&this.reverseScale(E[G]),this.setPosSettings(E[G]);return E},reverseScale:function(C){C.width=C.width.reverse(),C.trace_x=C.trace_x.reverse();var _=C.trace_indexes;C.trace_indexes={},C.trace_index_transition={},C.rtl=!0;for(var y=0;y<C.trace_x.length;y++)C.trace_indexes[C.trace_x[y].valueOf()]=y,C.trace_index_transition[_[C.trace_x[y].valueOf()]]=y;return C},setPosSettings:function(C){for(var _=0,y=C.trace_x.length;_<y;_++)C.left.push((C.width[_-1]||0)+(C.left[_-1]||0))},_ignore_time_config:function(C,_){if(O.config.skip_off_time){for(var y=!0,f=C,g=0;g<_.step;g++)g&&(f=S.add(C,g,_.unit)),y=y&&!this.isWorkTime(f,_.unit);return y}return!1},processIgnores:function(C){C.ignore_x={},C.display_count=C.count},initColSizes:function(C,_,y,f){var g=y;C.height=f;var w=void 0===C.display_count?C.count:C.display_count;w||(w=1),C.col_width=Math.floor(g/w),_&&C.col_width<_&&(C.col_width=_,g=C.col_width*w),C.width=[];for(var b=C.ignore_x||{},T=0;T<C.trace_x.length;T++)if(b[C.trace_x[T].valueOf()]||C.display_count==C.count)C.width[T]=0;else{var P=1;"month"==C.unit&&(P=Math.round((S.add(C.trace_x[T],C.step,C.unit)-C.trace_x[T])/864e5)),C.width[T]=P}this.adjustSize(g-this.getSum(C.width),C.width),C.full_width=this.getSum(C.width)},initScaleConfig:function(C,_,y){var f=I.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(_),max_date:new Date(y)},C);return this.eachColumn(C.unit,C.step,_,y,function(g){f.count++,f.trace_x.push(new Date(g)),f.trace_indexes[g.valueOf()]=f.trace_x.length-1}),f.trace_x_ascending=f.trace_x.slice(),f},iterateScales:function(C,_,y,f,g){for(var w=_.trace_x,T=y||0,P=f||C.trace_x.length-1,E=0,G=1;G<w.length;G++){var H=C.trace_indexes[+w[G]];void 0!==H&&H<=P&&(g&&g.apply(this,[E,G,T,H]),T=H,E=G)}},alineScaleColumns:function(C,_,y,f){this.iterateScales(C,_,y,f,function(g,w,b,T){var P=this.getSum(C.width,b,T-1);this.getSum(_.width,g,w-1)!=P&&this.setSumWidth(P,_,g,w-1)})},eachColumn:function(C,_,y,f,g){var w=new Date(y),b=new Date(f);S[C+"_start"]&&(w=S[C+"_start"](w));var T=new Date(w);for(+T>=+b&&(b=S.add(T,_,C));+T<+b;){g.call(this,new Date(T));var P=T.getTimezoneOffset();T=S.add(T,_,C),T=O._correct_dst_change(T,P,_,C),S[C+"_start"]&&(T=S[C+"_start"](T))}},limitVisibleRange:function(C){var _=C.trace_x,f=0;if(+_[0]<+C.min_date&&0!=C.width.length-1){var g=Math.floor(C.width[0]*((_[1]-C.min_date)/(_[1]-_[0])));f+=C.width[0]-g,C.width[0]=g,_[0]=new Date(C.min_date)}var w=_.length-1,b=_[w],T=S.add(b,C.step,C.unit);if(+T>+C.max_date&&w>0&&(g=C.width[w]-Math.floor(C.width[w]*((T-C.max_date)/(T-b))),f+=C.width[w]-g,C.width[w]=g),f){for(var P=this.getSum(C.width),E=0,G=0;G<C.width.length;G++){var H=Math.floor(f*(C.width[G]/P));C.width[G]+=H,E+=H}this.adjustSize(f-E,C.width)}}}}},function(z,J,k){var I=k(1),O=k(0),S=k(4),D=k(132),C=k(38),_=k(134),y=k(135).default,f=function(g,w,b,T){this.$config=O.mixin({},w||{}),this.$gantt=T,this.$parent=g,S(this),this.$state={},O.mixin(this,C(this))};f.prototype={init:function(g){var w=this.$gantt,b=w._waiAria.gridAttrString(),T=w._waiAria.gridDataAttrString(),P=this.$getConfig(),E=P.reorder_grid_columns||!1;void 0!==this.$config.reorder_grid_columns&&(E=this.$config.reorder_grid_columns),g.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+b+"></div>",this.$grid=g.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+w._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+T+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var G=P[this.$config.bind+"_attribute"];if(!G&&this.$config.bind&&(G="data-"+this.$config.bind+"-id"),this.$config.item_attribute=G||null,!this.$config.layers){var H=this._createLayerConfig();this.$config.layers=H}var $=D(w,this);$.init(),this._renderHeaderResizers=$.doOnRender,this._mouseDelegates=k(20)(w),_(w,this).init(),this._addLayers(this.$gantt),this._initEvents(),E&&(this._columnDND=new y(w,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(g,w){var b=g[w];if(b&&"*"!=b){var T=this.$gantt,P=1*b;isNaN(P)?T.assert(!1,"Wrong "+w+" value of column "+g.name):g[w]=P}},setSize:function(g,w){this.$config.width=this.$state.width=g,this.$config.height=this.$state.height=w;for(var b,T=this.getGridColumns(),P=0,E=(Q=this.$getConfig()).grid_elastic_columns,G=0,H=T.length;G<H;G++)this._validateColumnWidth(T[G],"min_width"),this._validateColumnWidth(T[G],"max_width"),this._validateColumnWidth(T[G],"width"),P+=1*T[G].width;if(!isNaN(P)&&this.$config.scrollable||(P=b=this._setColumnsWidth(g+1)),this.$config.scrollable&&E&&!isNaN(P)){var $=0;T.forEach(function(ne){$+=ne.min_width||Q.min_grid_column_width});var j=Math.max($,g);P=this._setColumnsWidth(j),b=g}this.$config.scrollable?(this.$grid_scale.style.width=P+"px",this.$grid_data.style.width=P+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var Q=this.$getConfig();b!==g&&(void 0!==b?(Q.grid_width=b,this.$config.width=b-1):isNaN(P)||(this._setColumnsWidth(P),Q.grid_width=P,this.$config.width=P-1));var Y=Math.max(this.$state.height-Q.scale_height,0);this.$grid_data.style.height=Y+"px",this.refresh()},getSize:function(){var g=this.$getConfig(),w=this.$config.rowStore?this.getTotalHeight():0,b=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?b:0,contentY:this.isVisible()?g.scale_height+w:0,scrollHeight:this.isVisible()?w:0,scrollWidth:this.isVisible()?b:0}},_bindStore:function(){if(this.$config.bind){var g=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=g,g&&!g._gridCacheAttached){var w=this;g._gridCacheAttached=g.attachEvent("onBeforeFilter",function(){w._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var g=this.$gantt.getDatastore(this.$config.bind);g&&g._gridCacheAttached&&(g.detachEvent(g._gridCacheAttached),g._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var g=this.$config.scrollLeft||0,w=this.$config.scrollTop||0,b=this.$config.height||0,T=this.$config.width||0;return{y:w,y_end:w+b,x:g,x_end:g+T,height:b,width:T}},scrollTo:function(g,w){if(this.isVisible()){var b=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*g==g&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=g,b=!0),1*w==w&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=w,b=!0),b&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(g,w){for(var b=this.$getConfig().columns,T=0,P=0;P<b.length;P++)if(w&&b[P].hide&&T++,b[P].name==g)return P-T;return null},getColumn:function(g){var w=this.getColumnIndex(g);return null===w?null:this.$getConfig().columns[w]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var g=this.$gantt,w=this;return[{renderer:g.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return w.isVisible()}]},{renderer:g.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return g.config.resize_rows}]}]},_addLayers:function(g){if(this.$config.bind){this._taskLayers=[];var w=this,b=this.$gantt.$services.getService("layers"),T=b.getDataRender(this.$config.bind);T||(T=b.createDataRender({name:this.$config.bind,defaultContainer:function(){return w.$grid_data}}));for(var P=this.$config.layers,E=0;P&&E<P.length;E++){var G=P[E];G.view=this;var H=T.addLayer(G);this._taskLayers.push(H)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(g){var w=this.$getConfig(),b=this.$config.rowStore;if(b&&null===g&&this.isVisible()&&w.smart_rendering){var T;if(this.$config.scrollY){var P=this.$gantt.$ui.getView(this.$config.scrollY);P&&(T=P.getScrollState().scrollSize)}if(T||(T=b?this.getTotalHeight():0),T){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var E=this.$rowsPlaceholder=document.createElement("div");E.style.visibility="hidden",E.style.height=T+"px",E.style.width="1px",this.$grid_data.appendChild(E)}}},_initSmartRenderingPlaceholder:function(){var g=this.$config.rowStore;g&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=g.attachEvent("onStoreUpdated",O.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var g=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",g.bind(function(w,b,T){var P=this.$config.rowStore;if(!P)return!0;var E=I.locateAttribute(w,this.$config.item_attribute);return E&&P.close(E.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",g.bind(function(w,b,T){var P=this.$config.rowStore;if(!P)return!0;var E=I.locateAttribute(w,this.$config.item_attribute);return E&&P.open(E.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(g){var w=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var b=0;b<this._taskLayers.length;b++)w.removeLayer(this._taskLayers[b]);this._taskLayers=[]},_getColumnWidth:function(g,w,b){var P=Math.max(b,g.min_width||w.min_grid_column_width||10);return g.max_width&&(P=Math.min(P,g.max_width)),P},_checkGridColumnMinWidthLimits:function(g,w){for(var b=0,T=g.length;b<T;b++){var P=1*g[b].width;!g[b].min_width&&P<w.min_grid_column_width&&(g[b].min_width=P)}},_getGridWidthLimits:function(){for(var g=this.$getConfig(),w=this.getGridColumns(),b=0,T=0,P=0;P<w.length;P++)b+=w[P].min_width?w[P].min_width:g.min_grid_column_width,void 0!==T&&(T=w[P].max_width?T+w[P].max_width:void 0);return this._checkGridColumnMinWidthLimits(w,g),[b,T]},_setColumnsWidth:function(g,w){var b=this.$getConfig(),T=this.getGridColumns(),P=0,E=g;w=window.isNaN(w)?-1:w;for(var G=0,H=T.length;G<H;G++)P+=1*T[G].width;if(window.isNaN(P))for(this._calculateGridWidth(),P=0,G=0,H=T.length;G<H;G++)P+=1*T[G].width;var $=E-P,j=0;for(G=0;G<w+1;G++)j+=T[G].width;for(P-=j,G=w+1;G<T.length;G++){var Q=T[G],Y=Math.round($*(Q.width/P));$<0?Q.min_width&&Q.width+Y<Q.min_width?Y=Q.min_width-Q.width:!Q.min_width&&b.min_grid_column_width&&Q.width+Y<b.min_grid_column_width&&(Y=b.min_grid_column_width-Q.width):Q.max_width&&Q.width+Y>Q.max_width&&(Y=Q.max_width-Q.width),P-=Q.width,Q.width+=Y,$-=Y}for(var ne=$>0?1:-1;$>0&&1===ne||$<0&&-1===ne;){var oe=$;for(G=w+1;G<T.length;G++){var te;if((te=T[G].width+ne)==this._getColumnWidth(T[G],b,te)&&($-=ne,T[G].width=te),!$)break}if(oe==$)break}return $&&w>-1&&(te=T[w].width+$)==this._getColumnWidth(T[w],b,te)&&(T[w].width=te),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var g=this.getGridColumns(),w=0,b=0;b<g.length;b++){var T=parseFloat(g[b].width);if(window.isNaN(T))return!1;w+=T}return w},_calculateGridWidth:function(){for(var g=this.$getConfig(),w=this.getGridColumns(),b=0,T=[],P=[],E=0;E<w.length;E++){var G=parseFloat(w[E].width);window.isNaN(G)&&(G=g.min_grid_column_width||10,T.push(E)),P[E]=G,b+=G}var H=this._getGridWidth()+1;if(g.autofit||T.length){var $=H-b;if(g.autofit&&!g.grid_elastic_columns)for(E=0;E<P.length;E++){var j=Math.round($/(P.length-E));P[E]+=j,(Q=this._getColumnWidth(w[E],g,P[E]))!=P[E]&&(j=Q-P[E],P[E]=Q),$-=j}else if(T.length)for(E=0;E<T.length;E++){j=Math.round($/(T.length-E));var Q,Y=T[E];P[Y]+=j,(Q=this._getColumnWidth(w[Y],g,P[Y]))!=P[Y]&&(j=Q-P[Y],P[Y]=Q),$-=j}for(E=0;E<P.length;E++)w[E].width=P[E]}else{var ne=H!=b;this.$config.width=b-1,g.grid_width=b,ne&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var g=this.$gantt,w=this.$getConfig(),b=this.$gantt.locale,T=this.$gantt.templates,P=this.getGridColumns();w.rtl&&(P=P.reverse());for(var E=[],G=0,H=b.labels,$=w.scale_height-1,j=0;j<P.length;j++){var Q=j==P.length-1,Y=P[j];Y.name||(Y.name=g.uid()+"");var ne=1*Y.width,oe=this._getGridWidth();Q&&oe>G+ne&&(Y.width=ne=oe-G),G+=ne;var te=g._sort&&Y.name==g._sort.name?"<div class='gantt_sort gantt_"+g._sort.direction+"'></div>":"",ee=["gantt_grid_head_cell","gantt_grid_head_"+Y.name,Q?"gantt_last_cell":"",T.grid_header_class(Y.name,Y)].join(" "),he=Y.label||H["column_"+Y.name]||H[Y.name],me="<div class='"+ee+"' style='width:"+(ne-(Q?1:0))+"px;' "+g._waiAria.gridScaleCellAttrString(Y,he=he||"")+" data-column-id='"+Y.name+"' column_id='"+Y.name+"' data-column-name='"+Y.name+"' data-column-index='"+j+"'>"+he+te+"</div>";E.push(me)}this.$grid_scale.style.height=w.scale_height+"px",this.$grid_scale.style.lineHeight=$+"px",this.$grid_scale.innerHTML=E.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},z.exports=f},function(z,J){z.exports=function(k){var I=[];return{delegate:function(O,S,D,C){I.push([O,S,D,C]),k.$services.getService("mouseEvents").delegate(O,S,D,C)},destructor:function(){for(var O=k.$services.getService("mouseEvents"),S=0;S<I.length;S++){var D=I[S];O.detach(D[0],D[1],D[2],D[3])}I=[]}}}},function(z,J){z.exports=function(k,I,O){return{top:I.getItemTop(k.id),height:I.getItemHeight(k.id),left:0,right:1/0}}},function(z,J,k){var I=k(18),O=k(4),S=k(0),D=k(2),C=k(38),_=k(211),y=function(f,g,w,b){this.$config=S.mixin({},g||{}),this.$scaleHelper=new I(b),this.$gantt=b,this._posFromDateCache={},this._timelineDragScroll=null,S.mixin(this,C(this)),O(this)};y.prototype={init:function(f){f.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=f.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var g=this.$getConfig(),w=g[this.$config.bind+"_attribute"],b=g[this.$config.bindLinks+"_attribute"];!w&&this.$config.bind&&(w="data-"+this.$config.bind+"-id"),!b&&this.$config.bindLinks&&(b="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=w||null,this.$config.link_attribute=b||null;var T=this._createLayerConfig();this.$config.layers||(this.$config.layers=T.tasks),this.$config.linkLayers||(this.$config.linkLayers=T.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(f,g){var w=this.$getConfig();if(1*f===f&&(this.$config.width=f),1*g===g){this.$config.height=g;var b=Math.max(this.$config.height-w.scale_height);this.$task_data.style.height=b+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",this.$task_bg.style.height=w.smart_rendering&&this.$config.rowStore?this.getTotalHeight()+"px":"";for(var T=this._tasks,P=this.$task_data.childNodes,E=0,G=P.length;E<G;E++){var H=P[E];H.hasAttribute("data-layer")&&H.style&&(H.style.width=T.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var f=this.$getConfig(),g=this.$config.rowStore?this.getTotalHeight():0,w=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?w:0,contentY:this.isVisible()?f.scale_height+g:0,scrollHeight:this.isVisible()?g:0,scrollWidth:this.isVisible()?w:0}},scrollTo:function(f,g){if(this.isVisible()){var w=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*g===g&&(this.$config.scrollTop=g,this.$task_data.scrollTop=this.$config.scrollTop,w=!0),1*f===f&&(this.$task.scrollLeft=f,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),w=!0),w&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var f=this.getViewPort();this.$task_scale.innerHTML=this._getScaleChunkHtml(this._scales,f.x,f.x_end)}},getViewPort:function(){var f=this.$config.scrollLeft||0,g=this.$config.scrollTop||0,w=this.$config.height||0,b=this.$config.width||0;return{y:g,y_end:g+w,x:f,x_end:f+b,height:w,width:b}},_createLayerConfig:function(){var f=this,g=function(){return f.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[g,function(w,b){return!b.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[g],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[g],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[g]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[g]}]}},_attachLayers:function(f){this._taskLayers=[],this._linkLayers=[];var g=this,w=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var b=w.getDataRender(this.$config.bind);b||(b=w.createDataRender({name:this.$config.bind,defaultContainer:function(){return g.$task_data}})),b.container=function(){return g.$task_data};for(var T=this.$config.layers,P=0;T&&P<T.length;P++){"string"==typeof($=T[P])&&($=this.$gantt.$ui.layers[$]()),("function"==typeof $||$&&$.render&&$.update)&&($={renderer:$}),$.view=this;var E=b.addLayer($);this._taskLayers.push(E),$.expose&&(this._taskRenderer=b.getLayer(E))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){g.$config.linkStore=g.$gantt.getDatastore(g.$config.bindLinks);var G=w.getDataRender(this.$config.bindLinks);G||(G=w.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return g.$task_data}}));var H=this.$config.linkLayers;for(P=0;H&&P<H.length;P++){var $;"string"==typeof $&&($=this.$gantt.$ui.layers[$]()),($=H[P]).view=this;var j=G.addLayer($);this._taskLayers.push(j),H[P].expose&&(this._linkRenderer=G.getLayer(j))}}},_initStaticBackgroundRender:function(){var f=this,g=_.create(),w=f.$config.rowStore;w&&(this._staticBgHandler=w.attachEvent("onStoreUpdated",function(b,T,P){if(null===b&&f.isVisible()){var E=f.$getConfig();if(E.static_background){var G=f.$gantt.getDatastore(f.$config.bind),H=f.$task_bg_static;H||((H=document.createElement("div")).className="gantt_task_bg",f.$task_bg_static=H,f.$task_bg.nextSibling?f.$task_data.insertBefore(H,f.$task_bg.nextSibling):f.$task_data.appendChild(H)),G&&g.render(H,E,f.getScale(),f.getTotalHeight(),f.getItemHeight(T?T.id:null))}else E.static_background&&f.$task_bg_static&&f.$task_bg_static.parentNode&&f.$task_bg_static.parentNode.removeChild(f.$task_bg_static)}}),this.attachEvent("onDestroy",function(){g.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(f){var g=this.$gantt.$services.getService("layers"),w=g.getDataRender(this.$config.bind),b=g.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var T=0;T<this._taskLayers.length;T++)w.removeLayer(this._taskLayers[T]);if(this._linkLayers)for(T=0;T<this._linkLayers.length;T++)b.removeLayer(this._linkLayers[T]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var f=this.$getConfig(),g="",w=0,b=0,T=this.$gantt.getState();if(this.isVisible()){var P=this.$scaleHelper,E=this._getScales();b=f.scale_height;var G=this.$config.width;"x"!=f.autosize&&"xy"!=f.autosize||(G=Math.max(f.autosize_min_width,0));var H=P.prepareConfigs(E,f.min_column_width,G,b-1,T.min_date,T.max_date,f.rtl),$=this._tasks=H[H.length-1];this._scales=H,this._posFromDateCache={},g=this._getScaleChunkHtml(H,0,this.$config.width),w=$.full_width+"px",b+="px"}this.$task_scale.style.height=b,this.$task_data.style.width=this.$task_scale.style.width=w,this.$task_scale.innerHTML=g},_getScaleChunkHtml:function(f,g,w){for(var b=[],T=this.$gantt.templates.scale_row_class,P=0;P<f.length;P++){var E="gantt_scale_line",G=T(f[P]);G&&(E+=" "+G),b.push('<div class="'+E+'" style="height:'+f[P].height+"px;position:relative;line-height:"+f[P].height+'px">'+this._prepareScaleHtml(f[P],g,w)+"</div>")}return b.join("")},_prepareScaleHtml:function(f,g,w){var b=this.$getConfig(),T=this.$gantt.templates,P=[],E=null,G=null,H=f.format||f.template||f.date;"string"==typeof H&&(H=this.$gantt.date.date_to_str(H));var $=0,j=f.count;!b.smart_scales||isNaN(g)||isNaN(w)||($=D.findBinary(f.left,g),j=D.findBinary(f.left,w)+1),G=f.css||function(){},!f.css&&b.inherit_scale_class&&(G=T.scale_cell_class);for(var Q=$;Q<j&&f.trace_x[Q];Q++){E=new Date(f.trace_x[Q]);var Y=H.call(this,E),ne=f.width[Q],ee="",le="",he="";if(ne){ee="width:"+ne+"px;height:"+f.height+"px;"+(b.smart_scales?"position:absolute;left:"+f.left[Q]+"px":""),he="gantt_scale_cell"+(Q==f.count-1?" gantt_last_cell":""),(le=G.call(this,E))&&(he+=" "+le);var me="<div class='"+he+"'"+this.$gantt._waiAria.getTimelineCellAttr(Y)+" style='"+ee+"'>"+Y+"</div>";P.push(me)}}return P.join("")},dateFromPos:function(f){var g=this._tasks;if(f<0||f>g.full_width||!g.full_width)return null;var w=D.findBinary(this._tasks.left,f),T=g.width[w]||g.col_width,P=0;T&&(P=(f-this._tasks.left[w])/T,g.rtl&&(P=1-P));var E=0;return P&&(E=this._getColumnDuration(g,g.trace_x[w])),new Date(g.trace_x[w].valueOf()+Math.round(P*E))},posFromDate:function(f){if(!this.isVisible()||!f)return 0;var g=String(f.valueOf());if(void 0!==this._posFromDateCache[g])return this._posFromDateCache[g];var w=this.columnIndexByDate(f);this.$gantt.assert(w>=0,"Invalid day index");var b=Math.floor(w),T=w%1,P=this._tasks.left[Math.min(b,this._tasks.width.length-1)];b==this._tasks.width.length&&(P+=this._tasks.width[this._tasks.width.length-1]),T&&(P+=b<this._tasks.width.length?this._tasks.width[b]*(T%1):1);var E=Math.round(P);return this._posFromDateCache[g]=E,Math.round(E)},_getNextVisibleColumn:function(f,g,w){for(var b=+g[f],T=f;w[b];)b=+g[++T];return T},_getPrevVisibleColumn:function(f,g,w){for(var b=+g[f],T=f;w[b];)b=+g[--T];return T},_getClosestVisibleColumn:function(f,g,w){var b=this._getNextVisibleColumn(f,g,w);return g[b]||(b=this._getPrevVisibleColumn(f,g,w)),b},columnIndexByDate:function(f){var g=new Date(f).valueOf(),w=this._tasks.trace_x_ascending,b=this._tasks.ignore_x,T=this.$gantt.getState();if(g<=T.min_date)return this._tasks.rtl?w.length:0;if(g>=T.max_date)return this._tasks.rtl?0:w.length;var P=D.findBinary(w,g),E=this._getClosestVisibleColumn(P,w,b),H=this._tasks.trace_index_transition;if(!w[E])return H?H[0]:0;var $=(f-w[E])/this._getColumnDuration(this._tasks,w[E]);return H?H[E]+(1-$):E+$},getItemPosition:function(f,g,w){var b,T,P;return this._tasks.rtl?(T=this.posFromDate(g||f.start_date),b=this.posFromDate(w||f.end_date)):(b=this.posFromDate(g||f.start_date),T=this.posFromDate(w||f.end_date)),P=Math.max(T-b,0),{left:b,top:this.getItemTop(f.id),height:this.getBarHeight(f.id),width:P,rowHeight:this.getItemHeight(f.id)}},getBarHeight:function(f,g){var w=this.$getConfig(),b=this.$config.rowStore.getItem(f),T=b.task_height||b.bar_height||w.bar_height||w.task_height,P=this.getItemHeight(f);return"full"==T&&(T=P-(w.task_height_offset||5)),T=Math.min(T,P),g&&(T=Math.round(T/Math.sqrt(2))),Math.max(T,0)},getScale:function(){return this._tasks},_getScales:function(){var f=this.$getConfig(),g=this.$scaleHelper,w=[g.primaryScale(f)].concat(g.getSubScales(f));return g.sortScales(w),w},_getColumnDuration:function(f,g){return this.$gantt.date.add(g,f.step,f.unit)-g},_bindStore:function(){if(this.$config.bind){var f=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=f,f&&!f._timelineCacheAttached){var g=this;f._timelineCacheAttached=f.attachEvent("onBeforeFilter",function(){g._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var f=this.$gantt.getDatastore(this.$config.bind);f&&f._timelineCacheAttached&&(f.detachEvent(f._timelineCacheAttached),f._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){this._clearLayers(this.$gantt),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},z.exports=y},function(z,J){z.exports=function(k,I,O,S,D){if(!k.start_date||!k.end_date)return null;var C=O.getItemTop(k.id),_=O.getItemHeight(k.id);if(C>I.y_end||C+_<I.y)return!1;var y=O.posFromDate(k.start_date),f=O.posFromDate(k.end_date),g=Math.min(y,f)-200,w=Math.max(y,f)+200;return!(g>I.x_end||w<I.x)}},function(z,J){z.exports=function(k){function I(C,_,y){if(!k._isAllowedUnscheduledTask(C)&&k._isTaskInTimelineLimits(C)){var f=_.getItemPosition(C),g=y,w=_.$getTemplates(),b=k.getTaskType(C.type),T=_.getBarHeight(C.id,b==g.types.milestone),P=0;b==g.types.milestone&&(P=(T-f.height)/2);var E=Math.floor((_.getItemHeight(C.id)-T)/2);b==g.types.milestone&&(f.left-=Math.round(T/2),f.width=T);var G=document.createElement("div"),H=Math.round(f.width);_.$config.item_attribute&&(G.setAttribute(_.$config.item_attribute,C.id),G.setAttribute(_.$config.bind+"_id",C.id)),g.show_progress&&b!=g.types.milestone&&function(oe,te,ee,le,he){var me=1*oe.progress||0;ee=Math.max(ee-2,0);var ye=document.createElement("div"),Se=Math.round(ee*me);Se=Math.min(ee,Se),oe.progressColor&&(ye.style.backgroundColor=oe.progressColor,ye.style.opacity=1),ye.style.width=Se+"px",ye.className="gantt_task_progress",ye.innerHTML=he.progress_text(oe.start_date,oe.end_date,oe),le.rtl&&(ye.style.position="absolute",ye.style.right="0px");var Oe=document.createElement("div");if(Oe.className="gantt_task_progress_wrapper",Oe.appendChild(ye),te.appendChild(Oe),k.config.drag_progress&&!k.isReadonly(oe)){var Ne=document.createElement("div"),ke=Se;le.rtl&&(ke=ee-Se),Ne.style.left=ke+"px",Ne.className="gantt_task_progress_drag",ye.appendChild(Ne),te.appendChild(Ne)}}(C,G,H,g,w);var $=(oe=C,te=H,ee=w,le=document.createElement("div"),k.getTaskType(oe.type)!=k.config.types.milestone?le.innerHTML=ee.task_text(oe.start_date,oe.end_date,oe):k.getTaskType(oe.type)==k.config.types.milestone&&te&&(le.style.height=le.style.width=te+"px"),le.className="gantt_task_content",le);C.textColor&&($.style.color=C.textColor),G.appendChild($);var j=function(oe,te,ee,le){var he=le.$getConfig(),me=["gantt_task_line"];te&&me.push(te);var ye=k.getState(),Se=k.getTask(ee);if(k.getTaskType(Se.type)==he.types.milestone?me.push("gantt_milestone"):k.getTaskType(Se.type)==he.types.project&&me.push("gantt_project"),me.push("gantt_bar_"+k.getTaskType(Se.type)),k.isSummaryTask(Se)&&me.push("gantt_dependent_task"),k.isSplitTask(Se)&&(he.open_split_tasks&&!Se.$open||!he.open_split_tasks)&&me.push("gantt_split_parent"),he.select_task&&k.isSelectedTask(ee)&&me.push("gantt_selected"),ee==ye.drag_id&&(me.push("gantt_drag_"+ye.drag_mode),ye.touch_drag&&me.push("gantt_touch_"+ye.drag_mode)),ye.link_source_id==ee&&me.push("gantt_link_source"),ye.link_target_id==ee&&me.push("gantt_link_target"),he.highlight_critical_path&&k.isCriticalTask&&k.isCriticalTask(Se)&&me.push("gantt_critical_task"),ye.link_landing_area&&ye.link_target_id&&ye.link_source_id&&ye.link_target_id!=ye.link_source_id&&(ye.link_target_id==ee||ye.link_source_id==ee)){var ke=ye.link_to_start,Ge=k.isLinkAllowed(ye.link_source_id,ee,ye.link_from_start,ke);me.push(Ge?ke?"link_start_allow":"link_finish_allow":ke?"link_start_deny":"link_finish_deny")}return me.join(" ")}(0,w.task_class(C.start_date,C.end_date,C),C.id,_);(C.color||C.progressColor||C.textColor)&&(j+=" gantt_task_inline_color"),f.width<20&&(j+=" gantt_thin_task"),G.className=j;var Q=["left:"+f.left+"px","top:"+(E+f.top)+"px","height:"+(b==g.types.milestone?f.height:T)+"px","line-height:"+Math.max(T<30?T-2:T,0)+"px","width:"+H+"px"];C.color&&Q.push("background-color:"+C.color),C.textColor&&Q.push("color:"+C.textColor),G.style.cssText=Q.join(";");var Y=function(oe,te,ee,le){var he="gantt_left "+S(!te.rtl,oe),me=null;return le&&(me={type:"marginRight",value:le}),O(oe,ee.leftside_text,he,me)}(C,g,w,P);Y&&G.appendChild(Y),(Y=function(oe,te,ee,le){var he="gantt_right "+S(!!te.rtl,oe),me=null;return le&&(me={type:"marginLeft",value:le}),O(oe,ee.rightside_text,he,me)}(C,g,w,P))&&G.appendChild(Y),k._waiAria.setTaskBarAttr(C,G);var ne=k.getState();return k.isReadonly(C)||(g.drag_resize&&!k.isSummaryTask(C)&&b!=g.types.milestone&&D(G,"gantt_task_drag",C,function(oe){var te=document.createElement("div");return te.className=oe,te},g),g.drag_links&&g.show_links&&D(G,"gantt_link_control",C,function(oe){var te=document.createElement("div");te.className=oe,te.style.cssText=["height:"+T+"px","line-height:"+T+"px"].join(";");var ee=document.createElement("div");ee.className="gantt_link_point";var le=!1;return ne.link_source_id&&g.touch&&(le=!0),ee.style.display=le?"block":"",te.appendChild(ee),te},g,P)),G}var oe,te,ee,le}function O(C,_,y,f){if(!_)return null;var g=_(C.start_date,C.end_date,C);if(!g)return null;var w=document.createElement("div");return w.className="gantt_side_content "+y,w.innerHTML=g,f&&(w.style[f.type]=Math.abs(f.value)+"px"),w}function S(C,_){var y=C?{$source:[k.config.links.start_to_start],$target:[k.config.links.start_to_start,k.config.links.finish_to_start]}:{$source:[k.config.links.finish_to_start,k.config.links.finish_to_finish],$target:[k.config.links.finish_to_finish]};for(var f in y)for(var g=_[f],w=0;w<g.length;w++)for(var b=k.getLink(g[w]),T=0;T<y[f].length;T++)if(b.type==y[f][T])return"gantt_link_crossing";return""}function D(C,_,y,f,g,w){var b,T=k.getState();+y.start_date>=+T.min_date&&((b=f([_,g.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),w&&(b.style.marginLeft=w+"px"),C.appendChild(b)),+y.end_date<=+T.max_date&&((b=f([_,g.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),w&&(b.style.marginRight=w+"px"),C.appendChild(b))}return function(C,_,y){var f=(y=_.$getConfig()).type_renderers[k.getTaskType(C.type)],g=I;return f?f.call(k,C,function(w){return g.call(k,w,_,y)},_):g.call(k,C,_,y)}}},function(z,J){z.exports=function(k,I,O){return{top:I.getItemTop(k.id),height:I.getItemHeight(k.id),left:0,right:1/0}}},function(z,J){z.exports=function(k,I){var O=0,S=k.left.length-1;if(I)for(var D=0;D<k.left.length;D++){var C=k.left[D];if(C<I.x&&(O=D),C>I.x_end){S=D;break}}return{start:O,end:S}}},function(z,J,k){var I=k(14);z.exports=function(O,S,D,C){var _=S.width[O];return!(_<=0||C.config.smart_rendering&&!I(C)&&!(S.left[O]-_<=D.x_end&&S.left[O]+_>=D.x))}},function(z,J,k){var I=k(0);z.exports={createDropTargetObject:function(O){var S={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return O&&I.mixin(S,O,!0),S},nextSiblingTarget:function(O,S,D){var C=this.createDropTargetObject();return C.targetId=S,C.nextSibling=!0,C.targetParent=D.getParent(C.targetId),C.targetIndex=D.getBranchIndex(C.targetId),(D.getParent(O)!=C.targetParent||C.targetIndex<D.getBranchIndex(O))&&(C.targetIndex+=1),C},prevSiblingTarget:function(O,S,D){var C=this.createDropTargetObject();return C.targetId=S,C.prevSibling=!0,C.targetParent=D.getParent(C.targetId),C.targetIndex=D.getBranchIndex(C.targetId),D.getParent(O)==C.targetParent&&C.targetIndex>D.getBranchIndex(O)&&(C.targetIndex-=1),C},firstChildTarget:function(O,S,D){var C=this.createDropTargetObject();return C.targetId=S,C.targetParent=C.targetId,C.targetIndex=0,C.child=!0,C},lastChildTarget:function(O,S,D){var C=D.getChildren(S),_=this.createDropTargetObject();return _.targetId=C[C.length-1],_.targetParent=S,_.targetIndex=C.length,_.nextSibling=!0,_}}},function(z,J,k){var I=k(0);z.exports=function O(S,D){S=S||I.event,D=D||I.eventRemove;var C=[],_={attach:function(y,f,g,w){C.push({element:y,event:f,callback:g,capture:w}),S(y,f,g,w)},detach:function(y,f,g,w){D(y,f,g,w);for(var b=0;b<C.length;b++){var T=C[b];T.element===y&&T.event===f&&T.callback===g&&T.capture===w&&(C.splice(b,1),b--)}},detachAll:function(){for(var y=C.slice(),f=0;f<y.length;f++){var g=y[f];_.detach(g.element,g.event,g.callback,g.capture),_.detach(g.element,g.event,g.callback,void 0),_.detach(g.element,g.event,g.callback,!1),_.detach(g.element,g.event,g.callback,!0)}C.splice(0,C.length)},extend:function(){return O(this.event,this.eventRemove)}};return _}},function(z,J){z.exports=function(k,I){if(!I)return!0;if(k._on_timeout)return!1;var O=Math.ceil(1e3/I);return O<2||(setTimeout(function(){delete k._on_timeout},O),k._on_timeout=!0,!0)}},function(z,J){var k,I,O=z.exports={};function S(){throw new Error("setTimeout has not been defined")}function D(){throw new Error("clearTimeout has not been defined")}function C(E){if(k===setTimeout)return setTimeout(E,0);if((k===S||!k)&&setTimeout)return k=setTimeout,setTimeout(E,0);try{return k(E,0)}catch(G){try{return k.call(null,E,0)}catch(H){return k.call(this,E,0)}}}!function(){try{k="function"==typeof setTimeout?setTimeout:S}catch(E){k=S}try{I="function"==typeof clearTimeout?clearTimeout:D}catch(E){I=D}}();var _,y=[],f=!1,g=-1;function w(){f&&_&&(f=!1,_.length?y=_.concat(y):g=-1,y.length&&b())}function b(){if(!f){var E=C(w);f=!0;for(var G=y.length;G;){for(_=y,y=[];++g<G;)_&&_[g].run();g=-1,G=y.length}_=null,f=!1,function(H){if(I===clearTimeout)return clearTimeout(H);if((I===D||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(H);try{I(H)}catch($){try{return I.call(null,H)}catch(j){return I.call(this,H)}}}(E)}}function T(E,G){this.fun=E,this.array=G}function P(){}O.nextTick=function(E){var G=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)G[H-1]=arguments[H];y.push(new T(E,G)),1!==y.length||f||C(b)},T.prototype.run=function(){this.fun.apply(null,this.array)},O.title="browser",O.browser=!0,O.env={},O.argv=[],O.version="",O.versions={},O.on=P,O.addListener=P,O.once=P,O.off=P,O.removeListener=P,O.removeAllListeners=P,O.emit=P,O.prependListener=P,O.prependOnceListener=P,O.listeners=function(E){return[]},O.binding=function(E){throw new Error("process.binding is not supported")},O.cwd=function(){return"/"},O.chdir=function(E){throw new Error("process.chdir is not supported")},O.umask=function(){return 0}},function(z,J,k){var I=k(33),O=k(0),S=k(4),D=k(9),C=function(_){return this.pull={},this.$initItem=_.initItem,this.visibleOrder=I.$create(),this.fullOrder=I.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=_,S(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};C.prototype={_attachDataChange:function(_){this.attachEvent("onClearAll",_),this.attachEvent("onBeforeParse",_),this.attachEvent("onBeforeUpdate",_),this.attachEvent("onBeforeDelete",_),this.attachEvent("onBeforeAdd",_),this.attachEvent("onParse",_),this.attachEvent("onBeforeFilter",_)},_parseInner:function(_){for(var y=null,f=[],g=0,w=_.length;g<w;g++)y=_[g],this.$initItem&&(this.$config.copyOnParse()&&(y=O.copy(y)),y=this.$initItem(y)),this.callEvent("onItemLoading",[y])&&(this.pull.hasOwnProperty(y.id)||this.fullOrder.push(y.id),f.push(y),this.pull[y.id]=y);return f},parse:function(_){this.isSilent()||this.callEvent("onBeforeParse",[_]);var y=this._parseInner(_);this.isSilent()||(this.refresh(),this.callEvent("onParse",[y]))},getItem:function(_){return this.pull[_]},_updateOrder:function(_){_.call(this.visibleOrder),_.call(this.fullOrder)},updateItem:function(_,y){if(O.defined(y)||(y=this.getItem(_)),!this.isSilent()&&!1===this.callEvent("onBeforeUpdate",[y.id,y]))return!1;O.mixin(this.pull[_],y,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[y.id,y]),this.callEvent("onStoreUpdated",[y.id,y,"update"]))},_removeItemInner:function(_){this._updateOrder(function(){this.$remove(_)}),delete this.pull[_]},removeItem:function(_){var y=this.getItem(_);if(!this.isSilent()&&!1===this.callEvent("onBeforeDelete",[y.id,y]))return!1;this.callEvent("onAfterDeleteConfirmed",[y.id,y]),this._removeItemInner(_),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[y.id,y]),this.callEvent("onStoreUpdated",[y.id,y,"delete"]))},_addItemInner:function(_,y){if(this.exists(_.id))this.silent(function(){this.updateItem(_.id,_)});else{var f=this.visibleOrder,g=f.length;(!O.defined(y)||y<0)&&(y=g),y>g&&(y=Math.min(f.length,y))}this.pull[_.id]=_,this.isSilent()||this._updateOrder(function(){-1===this.$find(_.id)&&this.$insertAt(_.id,y)}),this.filter()},isVisible:function(_){return this.visibleOrder.$find(_)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(_,y){return O.defined(_.id)||(_.id=O.uid()),this.$initItem&&(_=this.$initItem(_)),!(!this.isSilent()&&!1===this.callEvent("onBeforeAdd",[_.id,_]))&&(this._addItemInner(_,y),this.isSilent()||(this.callEvent("onAfterAdd",[_.id,_]),this.callEvent("onStoreUpdated",[_.id,_,"add"])),_.id)},_changeIdInner:function(_,y){this.pull[_]&&(this.pull[y]=this.pull[_]);var f=this._searchVisibleOrder[_];this.pull[y].id=y,this._updateOrder(function(){this[this.$find(_)]=y}),this._searchVisibleOrder[y]=f,delete this._searchVisibleOrder[_],delete this.pull[_]},changeId:function(_,y){this._changeIdInner(_,y),this.callEvent("onIdChange",[_,y])},exists:function(_){return!!this.pull[_]},_moveInner:function(_,y){var f=this.getIdByIndex(_);this._updateOrder(function(){this.$removeAt(_),this.$insertAt(f,Math.min(this.length,y))})},move:function(_,y){var f=this.getIdByIndex(_),g=this.getItem(f);this._moveInner(_,y),this.isSilent()||this.callEvent("onStoreUpdated",[g.id,g,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=I.$create(),this.fullOrder=I.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(_,y){var f=!1;this.isSilent()&&(f=!0),this._skip_refresh=!0,_.call(y||this),f||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(_,y){if(_.length!==y.length)return!1;for(var f=0;f<_.length;f++)if(_[f]!==y[f])return!1;return!0},refresh:function(_,y){var f;if(!this.isSilent()&&(_&&(f=this.getItem(_)),!1!==this.callEvent("onBeforeStoreUpdate",_?[_,f,"paint"]:[null,null,null]))){var w=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,_){if(!y&&!w){var b=this.visibleOrder;this.filter(),this.arraysEqual(b,this.visibleOrder)||(_=void 0)}}else w||this.filter();this.callEvent("onStoreUpdated",_?[_,f,"paint"]:[null,null,null])}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(_){},serialize:function(){},eachItem:function(_){for(var y=0;y<this.fullOrder.length;y++){var f=this.getItem(this.fullOrder[y]);_.call(this,f)}},find:function(_){var y=[];return this.eachItem(function(f){_(f)&&y.push(f)}),y},filter:function(_){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var y=I.$create(),f=[];this.eachItem(function(w){this.callEvent("onFilterItem",[w.id,w])&&(D(w.id,null,this,this._ganttConfig)?f.push(w.id):y.push(w.id))});for(var g=0;g<f.length;g++)y.push(f[g]);for(this.visibleOrder=y,this._searchVisibleOrder={},g=0;g<this.visibleOrder.length;g++)this._searchVisibleOrder[this.visibleOrder[g]]=g;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(_,y){var f=Math.min(y||1/0,this.countVisible()-1),g=_||0,w=g+"-"+f;if(this._indexRangeCache[w])return this._indexRangeCache[w].slice();for(var b=[],T=g;T<=f;T++)b.push(this.getItem(this.visibleOrder[T]));return this._indexRangeCache[w]=b.slice(),b},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var _=[];for(var y in this.pull)_.push(this.pull[y]);return this._getItemsCache=_.slice(),_},getIdByIndex:function(_){return this.visibleOrder[_]},getIndexById:function(_){var y=this._searchVisibleOrder[_];return void 0===y&&(y=-1),y},_getNullIfUndefined:function(_){return void 0===_?null:_},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(_){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(_)+1])},getPrev:function(_){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(_)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},z.exports=C},function(z,J,k){var I=k(0);z.exports={$create:function(S){return I.mixin(S||[],this)},$removeAt:function(S,D){S>=0&&this.splice(S,D||1)},$remove:function(S){this.$removeAt(this.$find(S))},$insertAt:function(S,D){if(D||0===D){var C=this.splice(D,this.length-D);this[D]=S,this.push.apply(this,C)}else this.push(S)},$find:function(S){for(var D=0;D<this.length;D++)if(S==this[D])return D;return-1},$each:function(S,D){for(var C=0;C<this.length;C++)S.call(D||this,this[C])},$map:function(S,D){for(var C=0;C<this.length;C++)this[C]=S.call(D||this,this[C]);return this},$filter:function(S,D){for(var C=0;C<this.length;C++)S.call(D||this,this[C])||(this.splice(C,1),C--);return this}}},function(z,J,k){var I=k(33),O=k(0),S=k(2),D=k(32),C=k(9),_=k(2).replaceValidZeroId;D.default&&(D=D.default);var y=function(f){var E;D.apply(this,[f]),this._branches={},this.pull={},this.$initItem=function(E){var G=E;f.initItem&&(G=f.initItem(G));var H=this.getItem(E.id);return H&&H.parent!=G.parent&&this.move(G.id,G.$index||-1,G.parent||this._ganttConfig.root_id),G},this.$parentProperty=f.parentProperty||"parent",this.$getRootId="function"!=typeof f.rootId?(E=f.rootId||0,function(){return E}):f.rootId,this.$openInitially=f.openInitially,this.visibleOrder=I.$create(),this.fullOrder=I.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,f.getConfig&&(this._ganttConfig=f.getConfig());var g={},w={},b={},T={},P=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,g={},w={},b={},T={},P=!1,this.eachItem(function(E){var G=this.getParent(E.id);b[E.id]=!(!E.$open||!1===b[G]),this._isSplitItem(E)&&(P=!0,g[E.id]=!0,w[E.id]=!0),P&&w[G]&&(w[E.id]=!0),T[E.id]=!(!b[G]&&void 0!==b[G])})}),this.attachEvent("onFilterItem",function(E,G){var H=!1;this._ganttConfig&&(H=this._ganttConfig.open_split_tasks);var $=T[G.id];return P&&($&&w[G.id]&&!g[G.id]&&($=!!H),w[G.id]&&!g[G.id]&&(G.$split_subtask=!0)),G.$expanded_branch=!!T[G.id],!!$}),this.attachEvent("onFilter",function(){g={},w={},b={},T={}}),this};y.prototype=O.mixin({_buildTree:function(f){for(var g=null,w=this.$getRootId(),b=0,T=f.length;b<T;b++)this.setParent(g=f[b],_(this.getParent(g),w)||w);for(b=0,T=f.length;b<T;b++)this._add_branch(g=f[b]),g.$level=this.calculateItemLevel(g),g.$local_index=this.getBranchIndex(g.id),O.defined(g.$open)||(g.$open=O.defined(g.open)?g.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(f){return"split"==f.render&&this.hasChild(f.id)},parse:function(f){this._skip_refresh||this.callEvent("onBeforeParse",[f]);var g=this._parseInner(f);this._buildTree(g),this.filter(),this._skip_refresh||this.callEvent("onParse",[g])},_addItemInner:function(f,g){var w=this.getParent(f);O.defined(w)||(w=this.$getRootId(),this.setParent(f,w));var b=this.getIndexById(w)+Math.min(Math.max(g,0),this.visibleOrder.length);1*b!==b&&(b=void 0),D.prototype._addItemInner.call(this,f,b),this.setParent(f,w),f.hasOwnProperty("$rendered_parent")&&this._move_branch(f,f.$rendered_parent),this._add_branch(f,g)},_changeIdInner:function(f,g){var w=this.getChildren(f),b=this._searchVisibleOrder[f];D.prototype._changeIdInner.call(this,f,g);var T=this.getParent(g);this._replace_branch_child(T,f,g),this._branches[f]&&(this._branches[g]=this._branches[f]);for(var P=0;P<w.length;P++){var E=this.getItem(w[P]);E[this.$parentProperty]=g,E.$rendered_parent=g}this._searchVisibleOrder[g]=b,delete this._branches[f]},_traverseBranches:function(f,g){O.defined(g)||(g=this.$getRootId());var w=this._branches[g];if(w)for(var b=0;b<w.length;b++){var T=w[b];f.call(this,T),this._branches[T]&&this._traverseBranches(f,T)}},_updateOrder:function(f){this.fullOrder=I.$create(),this._traverseBranches(function(g){this.fullOrder.push(g)}),f&&D.prototype._updateOrder.call(this,f)},_removeItemInner:function(f){var g=[];this.eachItem(function(b){g.push(b)},f),g.push(this.getItem(f));for(var w=0;w<g.length;w++)this._move_branch(g[w],this.getParent(g[w]),null),D.prototype._removeItemInner.call(this,g[w].id),this._move_branch(g[w],this.getParent(g[w]),null)},move:function(f,g,w){var b=arguments[3],T=(this._ganttConfig||{}).root_id||0;if(b=_(b,T)){if(b===f)return;w=this.getParent(b),g=this.getBranchIndex(b)}if(f!=w){O.defined(w)||(w=this.$getRootId());var P=this.getItem(f),E=this.getParent(P.id),G=this.getChildren(w);if(-1==g&&(g=G.length+1),E==w&&this.getBranchIndex(f)==g)return;if(!1===this.callEvent("onBeforeItemMove",[f,w,g]))return!1;for(var H=[],$=0;$<G.length;$++)C(G[$],null,this,this._ganttConfig)&&(H.push(G[$]),G.splice($,1),$--);this._replace_branch_child(E,f);var j=(G=this.getChildren(w))[g];(j=_(j,T))?G=G.slice(0,g).concat([f]).concat(G.slice(g)):G.push(f),H.length&&(G=G.concat(H)),this.setParent(P,w),this._branches[w]=G;var Q=this.calculateItemLevel(P)-P.$level;P.$level+=Q,this.eachItem(function(Y){Y.$level+=Q},P.id,this),this._moveInner(this.getIndexById(f),this.getIndexById(w)+g),this.callEvent("onAfterItemMove",[f,w,g]),this.refresh()}},getBranchIndex:function(f){for(var g=this.getChildren(this.getParent(f)),w=0;w<g.length;w++)if(g[w]==f)return w;return-1},hasChild:function(f){var g=this._branches[f];return g&&g.length},getChildren:function(f){return this._branches[f]||I.$create()},isChildOf:function(f,g){if(!this.exists(f))return!1;if(g===this.$getRootId())return!0;if(!this.hasChild(g))return!1;var w=this.getItem(f),b=this.getParent(f);if(this.getItem(g).$level>=w.$level)return!1;for(;w&&this.exists(b);){if((w=this.getItem(b))&&w.id==g)return!0;b=this.getParent(w)}return!1},getSiblings:function(f){if(!this.exists(f))return I.$create();var g=this.getParent(f);return this.getChildren(g)},getNextSibling:function(f){for(var g=this.getSiblings(f),w=0,b=g.length;w<b;w++)if(g[w]==f){var T=g[w+1];return 0===T&&w>0&&(T="0"),T||null}return null},getPrevSibling:function(f){for(var g=this.getSiblings(f),w=0,b=g.length;w<b;w++)if(g[w]==f){var T=g[w-1];return 0===T&&w>0&&(T="0"),T||null}return null},getParent:function(f){var g;return(g=void 0!==f.id?f:this.getItem(f))?g[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},D.prototype.clearAll.call(this)},calculateItemLevel:function(f){var g=0;return this.eachParent(function(){g++},f),g},_setParentInner:function(f,g,w){w||(f.hasOwnProperty("$rendered_parent")?this._move_branch(f,f.$rendered_parent,g):this._move_branch(f,f[this.$parentProperty],g))},setParent:function(f,g,w){this._setParentInner(f,g,w),f[this.$parentProperty]=g},_eachItemCached:function(f,g){for(var w=0,b=g.length;w<b;w++)f.call(this,g[w])},_eachItemIterate:function(f,g,w){var b=this.getChildren(g);for(b.length&&(b=b.slice().reverse());b.length;){var T=b.pop(),P=this.getItem(T);if(f.call(this,P),w&&w.push(P),this.hasChild(P.id))for(var E=this.getChildren(P.id),G=E.length-1;G>=0;G--)b.push(E[G])}},eachItem:function(f,g){var w=this.$getRootId();O.defined(g)||(g=w);var b=_(g,w)||w,T=!1,P=!1,E=null;b===w&&(this._eachItemMainRangeCache?(T=!0,E=this._eachItemMainRangeCache):(P=!0,E=this._eachItemMainRangeCache=[])),T?this._eachItemCached(f,E):this._eachItemIterate(f,b,P?E:null)},eachParent:function(f,g){for(var w={},b=g,T=this.getParent(b);this.exists(T);){if(w[T])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+T);w[T]=!0,b=this.getItem(T),f.call(this,b),T=this.getParent(b)}},_add_branch:function(f,g,w){var b=void 0===w?this.getParent(f):w;this.hasChild(b)||(this._branches[b]=I.$create());for(var T=this.getChildren(b),P=!1,E=0,G=T.length;E<G;E++)if(T[E]==f.id){P=!0;break}P||(1*g==g?T.splice(g,0,f.id):T.push(f.id),f.$rendered_parent=b)},_move_branch:function(f,g,w){this._eachItemMainRangeCache=null,this._replace_branch_child(g,f.id),this.exists(w)||w==this.$getRootId()?this._add_branch(f,void 0,w):delete this._branches[f.id],f.$level=this.calculateItemLevel(f),this.eachItem(function(b){b.$level=this.calculateItemLevel(b)},f.id)},_replace_branch_child:function(f,g,w){var b=this.getChildren(f);if(b&&void 0!==f){for(var T=I.$create(),P=0;P<b.length;P++)b[P]!=g?T.push(b[P]):w&&T.push(w);this._branches[f]=T}},sort:function(f,g,w){this.exists(w)||(w=this.$getRootId()),f||(f="order");var b="string"==typeof f?function(H,$){return H[f]==$[f]||S.isDate(H[f])&&S.isDate($[f])&&H[f].valueOf()==$[f].valueOf()?0:H[f]>$[f]?1:-1}:f;if(g){var T=b;b=function(H,$){return T($,H)}}var P=this.getChildren(w);if(P){for(var E=[],G=P.length-1;G>=0;G--)E[G]=this.getItem(P[G]);for(E.sort(b),G=0;G<E.length;G++)P[G]=E[G].id,this.sort(f,g,P[G])}},filter:function(f){for(var g in this.pull)this.pull[g].$rendered_parent!==this.getParent(this.pull[g])&&this._move_branch(this.pull[g],this.pull[g].$rendered_parent,this.getParent(this.pull[g]));return D.prototype.filter.apply(this,arguments)},open:function(f){this.exists(f)&&(this.getItem(f).$open=!0,this.callEvent("onItemOpen",[f]))},close:function(f){this.exists(f)&&(this.getItem(f).$open=!1,this.callEvent("onItemClose",[f]))},destructor:function(){D.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},D.prototype),z.exports=y},function(z,J,k){var I=k(18),O=k(18);z.exports=function(D){var C;(function S(D){var C=function(E){var G=new O(E).primaryScale(),H=G.unit,$=G.step;if(E.config.scale_offset_minimal){var j=new I(E),Q=[j.primaryScale()].concat(j.getSubScales());j.sortScales(Q),H=Q[Q.length-1].unit,$=Q[Q.length-1].step||1}return{unit:H,step:$}}(D),_=C.unit,y=C.step,f=function(E,G){var H={start_date:null,end_date:null};if(G.config.start_date&&G.config.end_date){H.start_date=G.date[E+"_start"](new Date(G.config.start_date));var $=new Date(G.config.end_date),j=G.date[E+"_start"](new Date($));$=+$!=+j?G.date.add(j,1,E):j,H.end_date=$}return H}(_,D);if(!f.start_date||!f.end_date){for(var g=!0,w=D.getTaskByTime(),b=0;b<w.length;b++)if(w[b].type!==D.config.types.project){g=!1;break}if(w.length&&g){var T=w[0].start_date,P=D.date.add(T,1,D.config.duration_unit);f={start_date:new Date(T),end_date:new Date(P)}}else f=D.getSubtaskDates();f.start_date&&f.end_date||(f={start_date:new Date,end_date:new Date}),f.start_date=D.date[_+"_start"](f.start_date),f.start_date=D.calculateEndDate({start_date:D.date[_+"_start"](f.start_date),duration:-1,unit:_,step:y}),f.end_date=D.date[_+"_start"](f.end_date),f.end_date=D.calculateEndDate({start_date:f.end_date,duration:2,unit:_,step:y})}D._min_date=f.start_date,D._max_date=f.end_date})(D),!(C=D).config.fit_tasks||+C._min_date==+C._min_date&&+C._max_date==+C._max_date||(C.render(),C.callEvent("onScaleAdjusted",[]))}},function(z,J){function k(O,S,D){for(var C=0;C<S.length;C++)O.isLinkExists(S[C])&&(D[S[C]]=O.getLink(S[C]))}function I(O,S,D){k(O,S.$source,D),k(O,S.$target,D)}z.exports={getSubtreeLinks:function(O,S){var D={};return O.isTaskExists(S)&&I(O,O.getTask(S),D),O.eachTask(function(C){I(O,C,D)},S),D},getSubtreeTasks:function(O,S){var D={};return O.eachTask(function(C){D[C.id]=C},S),D}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=function(){function O(){var S=this;this.canParse=function(D){return!isNaN(S.parse(D))},this.format=function(D){return String(D)},this.parse=function(D){return parseInt(D,10)}}return O.create=function(S){return void 0===S&&(S=null),new O},O}();J.default=I},function(z,J,k){var I=k(133);z.exports=function(O){var S={},D={},C=null,_=-1,y=null,f=I(O);return{_resetTopPositionHeight:function(){S={},D={},f.resetCache()},_resetHeight:function(){var w=this.getCacheStateTotalHeight(this.$config.rowStore);y?this.shouldClearHeightCache(y,w)&&(y=w,C=null):y=w,_=-1,f.resetCache()},getRowTop:function(g){if(f.canUseSimpleCalculation())return f.getRowTop(g);var w=this.$config.rowStore;if(!w)return 0;if(void 0!==D[g])return D[g];for(var b=w.getIndexRange(),T=0,P=0,E=0;E<b.length;E++)D[E]=T,T+=this.getItemHeight(b[E].id),E<g&&(P=T);return P},getItemTop:function(g){if(this.$config.rowStore){if(void 0!==S[g])return S[g];var w=this.$config.rowStore;if(!w)return 0;var b=w.getIndexById(g);if(-1===b&&w.getParent&&w.exists(g)){var T=w.getParent(g);if(w.exists(T)){var P=w.getItem(T);if(this.$gantt.isSplitTask(P))return this.getItemTop(T)}}return S[g]=this.getRowTop(b),S[g]}return 0},getItemHeight:function(g){if(f.canUseSimpleCalculation())return f.getItemHeight(g);if(!C&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),void 0!==C[g])return C[g];var w=this.$getConfig().row_height;if(this.$config.rowStore){var b=this.$config.rowStore;if(!b)return w;var T=b.getItem(g);return C[g]=T&&T.row_height||w}return w},_fillHeightCache:function(g){if(g){C={};var w=this.$getConfig().row_height;g.eachItem(function(b){return C[b.id]=b&&b.row_height||w})}},getCacheStateTotalHeight:function(g){var w=this.$getConfig().row_height,b={},T=[],P=0;return g&&g.eachItem(function(E){T.push(E),b[E.id]=E.row_height,P+=E.row_height||w}),{globalHeight:w,items:T,count:T.length,sumHeight:P}},shouldClearHeightCache:function(g,w){if(g.count!=w.count||g.globalHeight!=w.globalHeight||g.sumHeight!=w.sumHeight)return!0;for(var b in g.items){var T=w.items[b];if(void 0!==T&&T!=g.items[b])return!0}return!1},getTotalHeight:function(){if(f.canUseSimpleCalculation())return f.getTotalHeight();if(-1!=_)return _;if(this.$config.rowStore){var g=this.$config.rowStore;this._fillHeightCache(g);var w=this.getItemHeight.bind(this),b=0;return g.getVisibleItems().forEach(function(T){b+=w(T.id)}),_=b,b}return 0},getItemIndexByTopPosition:function(g){if(!this.$config.rowStore)return 0;if(f.canUseSimpleCalculation())return f.getItemIndexByTopPosition(g);for(var w=this.$config.rowStore,b=0;b<w.countVisible();b++){var T=this.getRowTop(b),P=this.getRowTop(b+1);if(!P){var E=w.getIdByIndex(b);P=T+this.getItemHeight(E)}if(g>=T&&g<P)return b}}}}},function(z,J,k){var I=k(0),O=k(2);function S(y,f,g,w,b){return this.date=y,this.unit=f,this.task=g,this.id=w,this.calendar=b,this}function D(y,f,g,w,b,T){return this.date=y,this.dir=f,this.unit=g,this.task=w,this.id=b,this.calendar=T,this}function C(y,f,g,w,b,T,P){return this.start_date=y,this.duration=f,this.unit=g,this.step=w,this.task=b,this.id=T,this.calendar=P,this}function _(y,f,g,w){return this.start_date=y,this.end_date=f,this.task=g,this.calendar=w,this.unit=null,this.step=null,this}z.exports=function(y){return{getWorkHoursArguments:function(){var f=arguments[0];if(f=O.isDate(f)?{date:f}:I.mixin({},f),!O.isValidDate(f.date))throw y.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return f},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var f,g=arguments[0];if(g instanceof S)return g;if((f=g.date?new S(g.date,g.unit,g.task,null,g.calendar):new S(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=f.unit||y.config.duration_unit,!O.isValidDate(f.date))throw y.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return f},getClosestWorkTimeArguments:function(f){var g,w=arguments[0];if(w instanceof D)return w;if(g=O.isDate(w)?new D(w):new D(w.date,w.dir,w.unit,w.task,null,w.calendar),w.id&&(g.task=w),g.dir=w.dir||"any",g.unit=w.unit||y.config.duration_unit,!O.isValidDate(g.date))throw y.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return g},_getStartEndConfig:function(f){var g,w=_;if(f instanceof w)return f;if(O.isDate(f)?g=new w(arguments[0],arguments[1],arguments[2],arguments[3]):(g=new w(f.start_date,f.end_date,f.task),null!=f.id&&(g.task=f)),g.unit=g.unit||y.config.duration_unit,g.step=g.step||y.config.duration_step,g.start_date=g.start_date||g.start||g.date,!O.isValidDate(g.start_date))throw y.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!O.isValidDate(g.end_date))throw y.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return g},getDurationArguments:function(f,g,w,b){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(f,g,w,b){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(f,g,w,b){var T,P=arguments[0];if(P instanceof C)return P;if(T=O.isDate(P)?new C(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new C(P.start_date,P.duration,P.unit,P.step,P.task,null,P.calendar),null!=P.id&&(T.task=P,T.unit=null,T.step=null),T.unit=T.unit||y.config.duration_unit,T.step=T.step||y.config.duration_step,!O.isValidDate(T.start_date))throw y.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return T}}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.createCacheObject=void 0;var I=k(145),O=k(146),S=k(147);Object.defineProperty(J,"LargerUnitsCache",{enumerable:!0,get:function(){return S.LargerUnitsCache}}),J.createCacheObject=function(){return"undefined"!=typeof Map?new I.WorkUnitsMapCache:new O.WorkUnitsObjectCache}},function(z,J,k){var I=k(3),O=k(1),S=function(D){"use strict";function C(_,y,f){var g=D.apply(this,arguments)||this;return _&&(g.$root=!0),g._parseConfig(y),g.$name="layout",g}return I(C,D),C.prototype.destructor=function(){this.$container&&this.$view&&O.removeNode(this.$view);for(var _=0;_<this.$cells.length;_++)this.$cells[_].destructor();this.$cells=[],D.prototype.destructor.call(this)},C.prototype._resizeScrollbars=function(_,y){var f,$,g=!1,w=[],b=[];function T($){$.$parent.show(),g=!0,w.push($)}for(var E=0;E<y.length;E++)_[(f=y[E]).$config.scroll]||f.shouldHide()?(($=f).$parent.hide(),g=!0,b.push($)):f.shouldShow()?T(f):f.isVisible()?w.push(f):b.push(f);var G={};for(E=0;E<w.length;E++)w[E].$config.group&&(G[w[E].$config.group]=!0);for(E=0;E<b.length;E++)if((f=b[E]).$config.group&&G[f.$config.group]){T(f);for(var H=0;H<w.length;H++)if(w[H]==f){this.$gantt.$scrollbarRepaint=!0;break}}return g},C.prototype._syncCellSizes=function(_,y){if(_){var f={};return this._eachChild(function(g){g.$config.group&&"scrollbar"!=g.$name&&"resizer"!=g.$name&&(f[g.$config.group]||(f[g.$config.group]=[]),f[g.$config.group].push(g))}),f[_]&&this._syncGroupSize(f[_],y),f[_]}},C.prototype._syncGroupSize=function(_,y){if(_.length)for(var f=_[0].$parent._xLayout?"width":"height",g=_[0].$parent.getNextSibling(_[0].$id)?1:-1,w=y.value,b=y.isGravity,T=0;T<_.length;T++){var P=_[T].getSize(),E=g>0?_[T].$parent.getNextSibling(_[T].$id):_[T].$parent.getPrevSibling(_[T].$id);"resizer"==E.$name&&(E=g>0?E.$parent.getNextSibling(E.$id):E.$parent.getPrevSibling(E.$id));var G=E.getSize();if(b)_[T].$config.gravity=w;else if(E[f]){var H=P.gravity+G.gravity,$=P[f]+G[f],j=H/$;_[T].$config.gravity=j*w,E.$config[f]=$-w,E.$config.gravity=H-j*w}else _[T].$config[f]=w;var Q=this.$gantt.$ui.getView("grid");!Q||_[T].$content!==Q||Q.$config.scrollable||b||(this.$gantt.config.grid_width=w)}},C.prototype.resize=function(_){var y=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),y=!0,this._resizeInProgress=!0),D.prototype.resize.call(this,!0),D.prototype.resize.call(this,!1),y){var f=[];f=(f=(f=f.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var g=this.getCellsByType("scroller"),w=0;w<f.length;w++)f[w].$config.hidden||f[w].setContentSize();var b=this._getAutosizeMode(this.$config.autosize),T=this._resizeScrollbars(b,g);if(this.$config.autosize&&(this.autosize(this.$config.autosize),f.forEach(function(P){var E=P.$parent,G=E.getContentSize(b);b.x&&(E.$config.$originalWidthStored||(E.$config.$originalWidthStored=!0,E.$config.$originalWidth=E.$config.width),E.$config.width=G.width),b.y&&(E.$config.$originalHeightStored||(E.$config.$originalHeightStored=!0,E.$config.$originalHeight=E.$config.height),E.$config.height=G.height)}),T=!0),T)for(this.resize(),w=0;w<f.length;w++)f[w].$config.hidden||f[w].setContentSize();this.callEvent("onResize",[])}y&&(this._resizeInProgress=!1)},C.prototype._eachChild=function(_,y){if(_(y=y||this),y.$cells)for(var f=0;f<y.$cells.length;f++)this._eachChild(_,y.$cells[f])},C.prototype.isChild=function(_){var y=!1;return this._eachChild(function(f){f!==_&&f.$content!==_||(y=!0)}),y},C.prototype.getCellsByType=function(_){var y=[];if(_===this.$name&&y.push(this),this.$content&&this.$content.$name==_&&y.push(this.$content),this.$cells)for(var f=0;f<this.$cells.length;f++){var g=C.prototype.getCellsByType.call(this.$cells[f],_);g.length&&y.push.apply(y,g)}return y},C.prototype.getNextSibling=function(_){var y=this.cellIndex(_);return y>=0&&this.$cells[y+1]?this.$cells[y+1]:null},C.prototype.getPrevSibling=function(_){var y=this.cellIndex(_);return y>=0&&this.$cells[y-1]?this.$cells[y-1]:null},C.prototype.cell=function(_){for(var y=0;y<this.$cells.length;y++){var f=this.$cells[y];if(f.$id===_)return f;var g=f.cell(_);if(g)return g}},C.prototype.cellIndex=function(_){for(var y=0;y<this.$cells.length;y++)if(this.$cells[y].$id===_)return y;return-1},C.prototype.moveView=function(_,y){if(this.$cells[y]!==_)return window.alert("Not implemented");var f=this.$view;(y+=this.$config.header?1:0)>=f.childNodes.length?f.appendChild(_.$view):f.insertBefore(_.$view,f.childNodes[y])},C.prototype._parseConfig=function(_){this.$cells=[],this._xLayout=!_.rows;for(var y=_.rows||_.cols||_.views,f=0;f<y.length;f++){var g=y[f];g.mode=this._xLayout?"x":"y";var w=this.$factory.initUI(g,this);w?(w.$parent=this,this.$cells.push(w)):(y.splice(f,1),f--)}},C.prototype.getCells=function(){return this.$cells},C.prototype.render=function(){var _=O.insertNode(this.$container,this.$toHTML());this.$fill(_,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},C.prototype.$fill=function(_,y){this.$view=_,this.$parent=y;for(var f=O.getChildNodes(_,"gantt_layout_cell"),g=f.length-1;g>=0;g--){var w=this.$cells[g];w.$fill(f[g],this),w.$config.hidden&&w.$view.parentNode.removeChild(w.$view)}},C.prototype.$toHTML=function(){for(var _=this._xLayout?"x":"y",y=[],f=0;f<this.$cells.length;f++)y.push(this.$cells[f].$toHTML());return D.prototype.$toHTML.call(this,y.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+_)},C.prototype.getContentSize=function(_){for(var y,f,g,w=0,b=0,T=0;T<this.$cells.length;T++)(f=this.$cells[T]).$config.hidden||(y=f.getContentSize(_),"scrollbar"===f.$config.view&&_[f.$config.scroll]&&(y.height=0,y.width=0),f.$config.resizer&&(this._xLayout?y.height=0:y.width=0),g=f._getBorderSizes(),this._xLayout?(w+=y.width+g.horizontal,b=Math.max(b,y.height+g.vertical)):(w=Math.max(w,y.width+g.horizontal),b+=y.height+g.vertical));return{width:w+=(g=this._getBorderSizes()).horizontal,height:b+=g.vertical}},C.prototype._cleanElSize=function(_){return 1*(_||"").toString().replace("px","")||0},C.prototype._getBoxStyles=function(_){var y,f=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],g={boxSizing:"border-box"==(y=window.getComputedStyle?window.getComputedStyle(_,null):{width:_.clientWidth,height:_.clientHeight}).boxSizing};y.MozBoxSizing&&(g.boxSizing="border-box"==y.MozBoxSizing);for(var w=0;w<f.length;w++)g[f[w]]=y[f[w]]?this._cleanElSize(y[f[w]]):0;var b={horPaddings:g.paddingLeft+g.paddingRight+g.borderLeftWidth+g.borderRightWidth,vertPaddings:g.paddingTop+g.paddingBottom+g.borderTopWidth+g.borderBottomWidth,borderBox:g.boxSizing,innerWidth:g.width,innerHeight:g.height,outerWidth:g.width,outerHeight:g.height};return b.borderBox?(b.innerWidth-=b.horPaddings,b.innerHeight-=b.vertPaddings):(b.outerWidth+=b.horPaddings,b.outerHeight+=b.vertPaddings),b},C.prototype._getAutosizeMode=function(_){var y={x:!1,y:!1};return"xy"===_?y.x=y.y=!0:"y"===_||!0===_?y.y=!0:"x"===_&&(y.x=!0),y},C.prototype.autosize=function(_){var y=this._getAutosizeMode(_),f=this._getBoxStyles(this.$container),g=this.getContentSize(_),w=this.$container;y.x&&(f.borderBox&&(g.width+=f.horPaddings),w.style.width=g.width+"px"),y.y&&(f.borderBox&&(g.height+=f.vertPaddings),w.style.height=g.height+"px")},C.prototype.getSize=function(){this._sizes=[];for(var _=0,y=0,f=1e11,g=0,w=1e11,b=0,T=0;T<this.$cells.length;T++){var P=this._sizes[T]=this.$cells[T].getSize();this.$cells[T].$config.hidden||(this._xLayout?(_+=!P.width&&P.minWidth?P.minWidth:P.width,f+=P.maxWidth,y+=P.minWidth,g=Math.max(g,P.height),w=Math.min(w,P.maxHeight),b=Math.max(b,P.minHeight)):(g+=!P.height&&P.minHeight?P.minHeight:P.height,w+=P.maxHeight,b+=P.minHeight,_=Math.max(_,P.width),f=Math.min(f,P.maxWidth),y=Math.max(y,P.minWidth)))}var E=D.prototype.getSize.call(this);return E.maxWidth>=1e5&&(E.maxWidth=f),E.maxHeight>=1e5&&(E.maxHeight=w),E.minWidth=E.minWidth!=E.minWidth?0:E.minWidth,E.minHeight=E.minHeight!=E.minHeight?0:E.minHeight,this._xLayout?(E.minWidth+=this.$config.margin*this.$cells.length||0,E.minWidth+=2*this.$config.padding||0,E.minHeight+=2*this.$config.padding||0):(E.minHeight+=this.$config.margin*this.$cells.length||0,E.minHeight+=2*this.$config.padding||0),E},C.prototype._calcFreeSpace=function(_,y,f){var g=f?y.minWidth:y.minHeight,w=y.maxWidth,b=_;return b?(b>w&&(b=w),b<g&&(b=g),this._free-=b):((b=Math.floor(this._free/this._gravity*y.gravity))>w&&(this._free-=b=w,this._gravity-=y.gravity),b<g&&(this._free-=b=g,this._gravity-=y.gravity)),b},C.prototype._calcSize=function(_,y,f){var g=_,w=f?y.minWidth:y.minHeight,b=f?y.maxWidth:y.maxHeight;return g||(g=Math.floor(this._free/this._gravity*y.gravity)),g>b&&(g=b),g<w&&(g=w),g},C.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var _=this._xLayout?this._borders.right:this._borders.bottom,y=this.$cells,f=y.length-1,g=f;g>=0;g--)if(!y[g].$config.hidden){f=g;break}for(g=0;g<y.length;g++)if(!y[g].$config.hidden){var w=g>=f,b="";!w&&y[g+1]&&"scrollbar"==y[g+1].$config.view&&(this._xLayout?w=!0:b="gantt_layout_cell_border_transparent"),this._setBorders(w?[]:[_,b],y[g])}},C.prototype._updateCellVisibility=function(){for(var _=this._visibleCells||{},y=!this._visibleCells,f={},g=null,w=[],b=0;b<this._sizes.length;b++)(g=this.$cells[b]).$config.hide_empty&&w.push(g),!y&&g.$config.hidden&&_[g.$id]?g._hide(!0):g.$config.hidden||_[g.$id]||g._hide(!1),g.$config.hidden||(f[g.$id]=!0);for(this._visibleCells=f,b=0;b<w.length;b++){var T=!0;(g=w[b]).$cells.forEach(function(P){P.$config.hidden||P.$config.resizer||(T=!1)}),g.$config.hidden=T}},C.prototype.setSize=function(_,y){this._configureBorders(),D.prototype.setSize.call(this,_,y),y=this.$lastSize.contentY,_=this.$lastSize.contentX;var f,g,w=this.$config.padding||0;this.$view.style.padding=w+"px",this._gravity=0,this._free=this._xLayout?_:y,this._free-=2*w,this._updateCellVisibility();for(var b=0;b<this._sizes.length;b++)if(!(f=this.$cells[b]).$config.hidden){var T=this.$config.margin||0;"resizer"!=f.$name||T||(T=-1),b!==this.$cells.length-1&&(f.$view.style[this._xLayout?"marginRight":"marginBottom"]=T+"px",this._free-=T),g=this._sizes[b],this._xLayout?g.width||(this._gravity+=g.gravity):g.height||(this._gravity+=g.gravity)}for(b=0;b<this._sizes.length;b++)if(!(f=this.$cells[b]).$config.hidden){var G=(g=this._sizes[b]).width,H=g.height;this._xLayout?this._calcFreeSpace(G,g,!0):this._calcFreeSpace(H,g,!1)}for(b=0;b<this.$cells.length;b++)if(!(f=this.$cells[b]).$config.hidden){g=this._sizes[b];var $=void 0,j=void 0;this._xLayout?($=this._calcSize(g.width,g,!0),j=y-2*w):($=_-2*w,j=this._calcSize(g.height,g,!1)),f.setSize($,j)}},C}(k(11));z.exports=S},function(z,J,k){var I=k(2);z.exports=function(O){var S={};return O.$data.tasksStore.attachEvent("onStoreUpdated",function(){S={}}),function(D,C,_,y){var f=D.id+"_"+C+"_"+_.unit+"_"+_.step;return S[f]?S[f]:S[f]=function(g,w,b,T){var P,G,E=!1;O.config.process_resource_assignments&&w===O.config.resource_property?(P="task"==g.$role?O.getResourceAssignments(g.$resource_id,g.$task_id):O.getResourceAssignments(g.id),E=!0):P="task"==g.$role?[]:O.getTaskBy(w,g.id),G=function(me,ye,Se){for(var Oe=ye.unit,Ne=ye.step,ke={},Ge={},je=0;je<me.length;je++){var rt=me[je],ze=rt;Se&&(ze=O.getTask(rt.task_id));var qe=rt.start_date||ze.start_date,mt=rt.end_date||ze.end_date;Se&&(rt.start_date&&(qe=new Date(Math.max(rt.start_date.valueOf(),ze.start_date.valueOf()))),rt.end_date&&(mt=new Date(Math.min(rt.end_date.valueOf(),ze.end_date.valueOf()))));var bt=I.findBinary(ye.trace_x,qe.valueOf()),Re=new Date(ye.trace_x[bt]||O.date[Oe+"_start"](new Date(qe))),Nt=O.config.work_time?O.getTaskCalendar(ze):O;for(Ge[Nt.id]={};Re<mt;){var jn=Ge[Nt.id],yt=Re,Fe=yt.valueOf();Re=O.date.add(Re,Ne,Oe),!1!==jn[Fe]&&(Nt.isWorkTime({date:yt,task:ze,unit:Oe})?(ke[Fe]||(ke[Fe]={tasks:[],assignments:[]}),ke[Fe].tasks.push(ze),Se&&ke[Fe].assignments.push(rt)):jn[Fe]=!1)}}return ke}(P,b,E);for(var H,$,j,Y,ne=b.unit,oe=b.step,te=[],ee=T.$getConfig(),le=0;le<b.trace_x.length;le++)H=new Date(b.trace_x[le]),$=O.date.add(H,oe,ne),Y=G[H.valueOf()]||{},te.push((j=Y.tasks||[]).length||ee.resource_render_empty_cells?{start_date:H,end_date:$,tasks:j,assignments:Y.assignments||[]}:null);return te}(D,C,_,y)}}},function(z,J,k){var I=k(2);function S(C,_,y){return _=_||[],"<"+C+D(y||[])+">"+(_.innerHTML||"")+"</"+C+">"}function D(C){var _="";return I.forEach(C,function(y){_+=" "+y.key+"='"+y.value+"'"}),_}z.exports={getHtmlSelect:function(C,_,y){var f="",g=this;return I.forEach(C=C||[],function(w){var b=[{key:"value",value:w.key}];y==w.key&&(b[b.length]={key:"selected",value:"selected"}),w.attributes&&(b=b.concat(w.attributes)),f+=g.getHtmlOption({innerHTML:w.label},b)}),S("select",{innerHTML:f},_)},getHtmlOption:function(C,_){return S("option",C,_)},getHtmlButton:function(C,_){return S("button",C,_)},getHtmlDiv:function(C,_){return S("div",C,_)},getHtmlLabel:function(C,_){return S("label",C,_)},getHtmlInput:function(C){return"<input"+D(C||[])+">"}}},,,,,,,,,,,,,,,,,,,,function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.gantt=void 0;var I=k(64),O=k(92),S=k(12).gantt=O(I.default);J.gantt=S,J.default=S},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(65),O=k(68),S=k(70),D=k(71),C=k(82),_=k(83),y=k(84),f=k(86),g=k(89);J.default={click_drag:I.default,drag_timeline:O.default,fullscreen:S.default,keyboard_navigation:D,quick_info:y.default,tooltip:f.default,undo:g.default,marker:C,multiselect:_}},function(z,J,k){"use strict";var I=this&&this.__assign||function(){return(I=Object.assign||function(D){for(var C,_=1,y=arguments.length;_<y;_++)for(var f in C=arguments[_])Object.prototype.hasOwnProperty.call(C,f)&&(D[f]=C[f]);return D}).apply(this,arguments)};Object.defineProperty(J,"__esModule",{value:!0});var O=k(66),S=k(67);J.default=function(D){D.ext||(D.ext={});var C={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},_=new O.EventsManager(D);D.ext.clickDrag=_,D.attachEvent("onGanttReady",function(){var y=I({viewPort:D.$task_data},C);if(D.config.click_drag){var f=D.config.click_drag;y.render=f.render||C.render,y.className=f.className||C.className,y.callback=f.callback||C.callback,y.viewPort=f.viewPort||D.$task_data,y.useRequestAnimationFrame=void 0===f.useRequestAnimationFrame?C.useRequestAnimationFrame:f.useRequestAnimationFrame,y.singleRow=void 0===f.singleRow?C.singleRow:f.singleRow;var g=D.$ui.getView("timeline"),w=new S.SelectedRegion(y,D,g);D.ext.clickDrag.attach(w,f.useKey,f.ignore)}}),D.attachEvent("onDestroy",function(){_.destructor()})}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.EventsManager=void 0;var I=k(1),O=function(){function S(D){this._mouseDown=!1,this._gantt=D,this._domEvents=D._createDomEventScope()}return S.prototype.attach=function(D,C,_){var y=this,f=this._gantt,g=D.getViewPort();this._originPosition=window.getComputedStyle(g).display,this._restoreOriginPosition=function(){g.style.position=y._originPosition},"static"===this._originPosition&&(g.style.position="relative");var w=f.$services.getService("state");w.registerProvider("clickDrag",function(){return{autoscroll:!1}});var b=null;this._domEvents.attach(g,"mousedown",function(P){b=null;var E=".gantt_task_line, .gantt_task_link";void 0!==_&&(E=_ instanceof Array?_.join(", "):_),E&&f.utils.dom.closest(P.target,E)||(w.registerProvider("clickDrag",function(){return{autoscroll:y._mouseDown}}),C&&!0!==P[C]||(b=y._getCoordinates(P,D)))});var T=I.getRootNode(f.$root)||document.body;this._domEvents.attach(T,"mouseup",function(P){if(b=null,(!C||!0===P[C])&&!0===y._mouseDown){y._mouseDown=!1;var E=y._getCoordinates(P,D);D.dragEnd(E)}}),this._domEvents.attach(g,"mousemove",function(P){if(!C||!0===P[C]){var G=(y._gantt.config.drag_timeline||{}).useKey;if(!y._gantt.ext.clickDrag||!G||C||!P[G]){var H=null;if(!y._mouseDown&&b)return H=y._getCoordinates(P,D),void(Math.abs(b.relative.left-H.relative.left)>5&&b&&(y._mouseDown=!0,D.setStart(f.copy(b)),D.setPosition(f.copy(b)),D.setEnd(f.copy(b)),b=null));!0===y._mouseDown&&(H=y._getCoordinates(P,D),D.setEnd(H),D.render())}}})},S.prototype.detach=function(){var D=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),D.$services.getService("state").unregisterProvider("clickDrag")},S.prototype.destructor=function(){this.detach()},S.prototype._getCoordinates=function(D,C){var _=C.getViewPort(),y=_.getBoundingClientRect(),f=D.clientX,g=D.clientY;return{absolute:{left:f,top:g},relative:{left:f-y.left+_.scrollLeft,top:g-y.top+_.scrollTop}}},S}();J.EventsManager=O},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.SelectedRegion=void 0;var I=k(4),O=k(2),S=function(){function D(C,_,y){var f=this;this._el=document.createElement("div"),this.defaultRender=function(g,w){f._el||(f._el=document.createElement("div"));var b=f._el,T=Math.min(g.relative.top,w.relative.top),P=Math.max(g.relative.top,w.relative.top),E=Math.min(g.relative.left,w.relative.left),G=Math.max(g.relative.left,w.relative.left);if(f._singleRow){var H=f._getTaskPositionByTop(f._startPoint.relative.top);b.style.height=H.height+"px",b.style.top=H.top+"px"}else b.style.height=Math.abs(P-T)+"px",b.style.top=T+"px";return b.style.width=Math.abs(G-E)+"px",b.style.left=E+"px",b},this._gantt=_,this._view=y,this._viewPort=C.viewPort,this._el.classList.add(C.className),"function"==typeof C.callback&&(this._callback=C.callback),this.render=function(){var g;(g=C.render?C.render(f._startPoint,f._endPoint):f.defaultRender(f._startPoint,f._endPoint))!==f._el&&(f._el&&f._el.parentNode&&f._el.parentNode.removeChild(f._el),f._el=g),""!==C.className&&f._el.classList.add(C.className),f.draw()},O.isEventable(this._viewPort)||I(this._viewPort),this._singleRow=C.singleRow,this._useRequestAnimationFrame=C.useRequestAnimationFrame}return D.prototype.draw=function(){var C=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){C._viewPort.appendChild(C.getElement())});this._viewPort.appendChild(this.getElement())},D.prototype.clear=function(){var C=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){C._el.parentNode&&C._viewPort.removeChild(C._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},D.prototype.getElement=function(){return this._el},D.prototype.getViewPort=function(){return this._viewPort},D.prototype.setStart=function(C){var _=this._gantt;this._startPoint=C,this._startDate=_.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},D.prototype.setEnd=function(C){var _=this._gantt;if(this._endPoint=C,this._singleRow){var y=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=y.top}this._endDate=_.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},D.prototype.setPosition=function(C){this._positionPoint=C},D.prototype.dragEnd=function(C){var _,y=this._gantt;C.relative.left<0&&(C.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,C]),this.setEnd(C),this._endDate=this._endDate||y.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(this._startDate=(_=[this._endDate,this._startDate])[0],this._endDate=_[1]),this.clear();var f=y.getTaskByTime(this._startDate,this._endDate),g=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,f,g)},D.prototype.getInBounds=function(){return this._singleRow},D.prototype._getTasksByTop=function(C,_){var y=this._gantt,f=C,g=_;C>_&&(f=_,g=C);for(var w=this._getTaskPositionByTop(f).index,b=this._getTaskPositionByTop(g).index,T=[],P=w;P<=b;P++)y.getTaskByIndex(P)&&T.push(y.getTaskByIndex(P));return T},D.prototype._getTaskPositionByTop=function(C){var _=this._gantt,y=this._view,f=y.getItemIndexByTopPosition(C),g=_.getTaskByIndex(f);if(g){var w=y.getItemHeight(g.id);return{top:y.getItemTop(g.id)||0,height:w||0,index:f}}var b=y.getTotalHeight();return{top:C>b?b:0,height:_.config.row_height,index:C>b?_.getTaskCount():0}},D}();J.SelectedRegion=S},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(69);J.default=function(O){O.ext||(O.ext={}),O.ext.dragTimeline={create:function(){return I.EventsManager.create(O)}},O.config.drag_timeline={enabled:!0}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.EventsManager=void 0;var I=function(){function O(S){var D=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(D._trace.length>=10){for(var C=D._trace.slice(D._trace.length-10),_=[],y=1;y<C.length;y++)_.push({x:C[y].x-C[y-1].x,y:C[y].y-C[y-1].y});var f={x:0,y:0};return _.forEach(function(g){f.x+=g.x,f.y+=g.y}),{magnitude:Math.sqrt(f.x*f.x+f.y*f.y),angleDegrees:180*Math.atan2(Math.abs(f.y),Math.abs(f.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){D._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){D._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(C){var _=D._gantt;return{x:_.$ui.getView(C.$config.scrollX).getScrollState().position,y:_.$ui.getView(C.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(C){var _=D._calculateDirectionVector(),y=D._startPoint.x-C.x,f=D._startPoint.y-C.y;return _&&(_.angleDegrees<15?f=0:_.angleDegrees>75&&(y=0)),{x:D._scrollState.x+y,y:D._scrollState.y+f}},this._setScrollPosition=function(C,_){var y=D._gantt;requestAnimationFrame(function(){y.$ui.getView(C.$config.scrollX).scroll(_.x),y.$ui.getView(C.$config.scrollY).scroll(_.y)})},this._stopDrag=function(C){var _=D._gantt;if(D._trace=[],_.$root.classList.remove("gantt_noselect"),void 0!==D._originalReadonly&&(_.config.readonly=D._originalReadonly),void 0!==D._originAutoscroll&&(_.config.autoscroll=D._originAutoscroll),_.config.drag_timeline){var y=_.config.drag_timeline.useKey;if(y&&!0!==C[y])return}D._mouseDown=!1},this._startDrag=function(C){var _=D._gantt;D._originAutoscroll=_.config.autoscroll,_.config.autoscroll=!1,_.$root.classList.add("gantt_noselect"),D._originalReadonly=_.config.readonly,_.config.readonly=!0,D._trace=[],D._mouseDown=!0;var y=D._getScrollPosition(D._timeline);D._scrollState={x:y.x,y:y.y},D._startPoint={x:C.clientX,y:C.clientY},D._trace.push(D._startPoint)},this._gantt=S,this._domEvents=S._createDomEventScope(),this._trace=[]}return O.create=function(S){return new O(S)},O.prototype.destructor=function(){this._domEvents.detachAll()},O.prototype.attach=function(S){var D=this;this._timeline=S;var C=this._gantt;this._domEvents.attach(S.$task,"mousedown",function(_){if(C.config.drag_timeline){var y=C.config.drag_timeline,f=y.useKey,g=y.ignore;if(!1!==y.enabled){var w=".gantt_task_line, .gantt_task_link";void 0!==g&&(w=g instanceof Array?g.join(", "):g),w&&C.utils.dom.closest(_.target,w)||f&&!0!==_[f]||D._startDrag(_)}}}),this._domEvents.attach(document,"keydown",function(_){if(C.config.drag_timeline){var y=C.config.drag_timeline.useKey;y&&!0===_[y]&&D._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(_){if(C.config.drag_timeline){var y=C.config.drag_timeline.useKey;y&&!1===_[y]&&(D._clearDndReadyStyles(),D._stopDrag(_))}}),this._domEvents.attach(document,"mouseup",function(_){D._stopDrag(_)}),this._domEvents.attach(C.$root,"mouseup",function(_){D._stopDrag(_)}),this._domEvents.attach(document,"mouseleave",function(_){D._stopDrag(_)}),this._domEvents.attach(C.$root,"mouseleave",function(_){D._stopDrag(_)}),this._domEvents.attach(C.$root,"mousemove",function(_){if(C.config.drag_timeline){var y=C.config.drag_timeline.useKey;if(!y||!0===_[y]){var g=(D._gantt.config.click_drag||{}).useKey;if((!D._gantt.ext.clickDrag||!g||y||!_[g])&&!0===D._mouseDown){D._trace.push({x:_.clientX,y:_.clientY});var w=D._countNewScrollPosition({x:_.clientX,y:_.clientY});D._setScrollPosition(S,w),D._scrollState=w,D._startPoint={x:_.clientX,y:_.clientY}}}}})},O}();J.EventsManager=I},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(I){function O(){var w=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!w||w!==document.body)}I.$services.getService("state").registerProvider("fullscreen",function(){return{fullscreen:O()}});var S={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},D={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},C=null;function _(w,b){b.width=w.width,b.height=w.height,b.top=w.top,b.left=w.left,b.position=w.position,b.zIndex=w.zIndex}var y=!1;function f(){var w,b,T;I.$container&&(O()?y&&(w="onExpand",b=I.ext.fullscreen.getFullscreenElement(),T=document.body,_(b.style,D),S={overflow:T.style.overflow,padding:T.style.padding?T.style.padding:null,paddingTop:T.style.paddingTop?T.style.paddingTop:null,paddingRight:T.style.paddingRight?T.style.paddingRight:null,paddingBottom:T.style.paddingBottom?T.style.paddingBottom:null,paddingLeft:T.style.paddingLeft?T.style.paddingLeft:null},T.style.padding&&(T.style.padding="0"),T.style.paddingTop&&(T.style.paddingTop="0"),T.style.paddingRight&&(T.style.paddingRight="0"),T.style.paddingBottom&&(T.style.paddingBottom="0"),T.style.paddingLeft&&(T.style.paddingLeft="0"),T.style.overflow="hidden",b.style.width="100vw",b.style.height="100vh",b.style.top="0px",b.style.left="0px",b.style.position="absolute",b.style.zIndex=1,D.modified=!0,C=function(P){for(var E=P.parentNode,G=[];E&&E.style;)G.push({element:E,originalPositioning:E.style.position}),E.style.position="static",E=E.parentNode;return G}(b)):y&&(y=!1,w="onCollapse",function(){var b=I.ext.fullscreen.getFullscreenElement(),T=document.body;D.modified&&(S.padding&&(T.style.padding=S.padding),S.paddingTop&&(T.style.paddingTop=S.paddingTop),S.paddingRight&&(T.style.paddingRight=S.paddingRight),S.paddingBottom&&(T.style.paddingBottom=S.paddingBottom),S.paddingLeft&&(T.style.paddingLeft=S.paddingLeft),T.style.overflow=S.overflow,S={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},_(D,b.style),D.modified=!1),C.forEach(function(E){E.element.style.position=E.originalPositioning}),C=null}()),setTimeout(function(){I.render()}),setTimeout(function(){I.callEvent(w,[I.ext.fullscreen.getFullscreenElement()])}))}function g(){return!(I.$container&&I.ext.fullscreen.getFullscreenElement()&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),0)))}I.ext.fullscreen={expand:function(){if(!g()&&!O()&&I.callEvent("onBeforeExpand",[this.getFullscreenElement()])){y=!0;var w=document.body,b=w.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],T=w.msRequestFullscreen||w.mozRequestFullScreen||w.webkitRequestFullscreen||w.requestFullscreen;T&&T.apply(w,b)}},collapse:function(){if(!g()&&O()&&I.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var w=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;w&&w.apply(document)}},toggle:function(){g()||(O()?this.collapse():this.expand())},getFullscreenElement:function(){return I.$root}},I.expand=function(){I.ext.fullscreen.expand()},I.collapse=function(){I.ext.fullscreen.collapse()},I.attachEvent("onGanttReady",function(){I.event(document,"webkitfullscreenchange",f),I.event(document,"mozfullscreenchange",f),I.event(document,"MSFullscreenChange",f),I.event(document,"fullscreenChange",f),I.event(document,"fullscreenchange",f)})}},function(z,J,k){z.exports=function(I){var O=k(4);!function(S){S.config.keyboard_navigation=!0,S.config.keyboard_navigation_cells=!1,S.$keyboardNavigation={},S._compose=function(){for(var C=Array.prototype.slice.call(arguments,0),_={},y=0;y<C.length;y++){var f=C[y];for(var g in"function"==typeof f&&(f=new f),f)_[g]=f[g]}return _},k(72)(S),k(73)(S),k(74)(S),k(75)(S),k(76)(S),k(77)(S),k(78)(S),k(79)(S),k(80)(S),k(81)(S);var D=k(1);!function(){var C=S.$keyboardNavigation.dispatcher;C.isTaskFocused=function(H){var $=C.activeNode;return($ instanceof S.$keyboardNavigation.TaskRow||$ instanceof S.$keyboardNavigation.TaskCell)&&$.taskId==H};var _=function(H){if(S.config.keyboard_navigation&&(S.config.keyboard_navigation_cells||!g(H)))return C.keyDownHandler(H)},y=function(H){if(C.$preventDefault)return H.preventDefault(),S.$container.blur(),!1;C.awaitsFocus()||C.focusGlobalNode()},f=function(){if(C.isEnabled()){var H=C.getActiveNode();if(H){var $,j,Q=H.getNode();Q&&Q.parentNode&&($=Q.parentNode.scrollTop,j=Q.parentNode.scrollLeft),H.focus(!0),Q&&Q.parentNode&&(Q.parentNode.scrollTop=$,Q.parentNode.scrollLeft=j)}}};function g(H){return!!D.closest(H.target,".gantt_grid_editor_placeholder")}function w(H){if(!S.config.keyboard_navigation||!S.config.keyboard_navigation_cells&&g(H))return!0;var $,j=C.fromDomElement(H);j&&(C.activeNode instanceof S.$keyboardNavigation.TaskCell&&D.isChildOf(H.target,S.$task)&&(j=new S.$keyboardNavigation.TaskCell(j.taskId,C.activeNode.columnIndex)),$=j),$?C.isEnabled()?C.delay(function(){C.setActiveNode($)}):C.activeNode=$:(C.$preventDefault=!0,setTimeout(function(){C.$preventDefault=!1},300))}S.attachEvent("onDataRender",function(){S.config.keyboard_navigation&&f()}),S.attachEvent("onGanttRender",function(){S.eventRemove(S.$root,"keydown",_),S.eventRemove(S.$container,"focus",y),S.eventRemove(S.$container,"mousedown",w),S.config.keyboard_navigation?(S.event(S.$root,"keydown",_),S.event(S.$container,"focus",y),S.event(S.$container,"mousedown",w),S.$container.setAttribute("tabindex","0")):S.$container.removeAttribute("tabindex")});var b=S.attachEvent("onGanttReady",function(){if(S.detachEvent(b),S.$data.tasksStore.attachEvent("onStoreUpdated",function($){if(S.config.keyboard_navigation&&C.isEnabled()){var j=C.getActiveNode();j&&j.taskId==$&&f()}}),S._smart_render){var H=S._smart_render._redrawTasks;S._smart_render._redrawTasks=function($,j){if(S.config.keyboard_navigation&&C.isEnabled()){var Q=C.getActiveNode();if(Q&&void 0!==Q.taskId){for(var Y=!1,ne=0;ne<j.length;ne++)if(j[ne].id==Q.taskId&&j[ne].start_date){Y=!0;break}Y||j.push(S.getTask(Q.taskId))}}return H.apply(this,arguments)}}});S.attachEvent("onAfterTaskAdd",function(H,$){if(!S.config.keyboard_navigation)return!0;if(C.isEnabled()){var j=0,Q=C.activeNode;Q instanceof S.$keyboardNavigation.TaskCell&&(j=Q.columnIndex),C.setActiveNode(new(S.config.keyboard_navigation_cells?S.$keyboardNavigation.TaskCell:S.$keyboardNavigation.TaskRow)(H,j))}}),S.attachEvent("onTaskIdChange",function(H,$){if(!S.config.keyboard_navigation)return!0;var j=C.activeNode;return C.isTaskFocused(H)&&(j.taskId=$),!0});var T=setInterval(function(){S.config.keyboard_navigation&&(C.isEnabled()||C.enable())},500);function P(H){var $={gantt:S.$keyboardNavigation.GanttNode,headerCell:S.$keyboardNavigation.HeaderCell,taskRow:S.$keyboardNavigation.TaskRow,taskCell:S.$keyboardNavigation.TaskCell};return $[H]||$.gantt}function E(H){for(var $=S.getGridColumns(),j=0;j<$.length;j++)if($[j].name==H)return j;return 0}S.attachEvent("onDestroy",function(){clearInterval(T)});var G={};O(G),S.mixin(G,{addShortcut:function(H,$,j){var Q=P(j);Q&&Q.prototype.bind(H,$)},getShortcutHandler:function(H,$){var j=S.$keyboardNavigation.shortcuts.parse(H);if(j.length)return G.getCommandHandler(j[0],$)},getCommandHandler:function(H,$){var j=P($);if(j&&H)return j.prototype.findHandler(H)},removeShortcut:function(H,$){var j=P($);j&&j.prototype.unbind(H)},focus:function(H){var $,j=H?H.type:null,Q=P(j);switch(j){case"taskCell":$=new Q(H.id,E(H.column));break;case"taskRow":$=new Q(H.id);break;case"headerCell":$=new Q(E(H.column))}C.delay(function(){$?C.setActiveNode($):(C.enable(),C.getActiveNode()?C.awaitsFocus()||C.enable():C.setDefaultNode())})},getActiveNode:function(){if(C.isEnabled()){var H=C.getActiveNode(),$=(Q=H)instanceof S.$keyboardNavigation.GanttNode?"gantt":Q instanceof S.$keyboardNavigation.HeaderCell?"headerCell":Q instanceof S.$keyboardNavigation.TaskRow?"taskRow":Q instanceof S.$keyboardNavigation.TaskCell?"taskCell":null,j=S.getGridColumns();switch($){case"taskCell":return{type:"taskCell",id:H.taskId,column:j[H.columnIndex].name};case"taskRow":return{type:"taskRow",id:H.taskId};case"headerCell":return{type:"headerCell",column:j[H.index].name}}}var Q;return null}}),S.$keyboardNavigation.facade=G,S.ext.keyboardNavigation=G,S.focus=function(){G.focus()},S.addShortcut=G.addShortcut,S.getShortcutHandler=G.getShortcutHandler,S.removeShortcut=G.removeShortcut}()}(I)}},function(z,J){z.exports=function(k){k.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(I){for(var O=[],S=this.getExpressions(this.trim(I)),D=0;D<S.length;D++){for(var C=this.getWords(S[D]),_=this.createCommand(),y=0;y<C.length;y++)this.commandKeys[C[y]]?_.modifiers[C[y]]=!0:_.keyCode=this.specialKeys[C[y]]?this.specialKeys[C[y]]:C[y].charCodeAt(0);O.push(_)}return O},getCommandFromEvent:function(I){var O=this.createCommand();O.modifiers.shift=!!I.shiftKey,O.modifiers.alt=!!I.altKey,O.modifiers.ctrl=!!I.ctrlKey,O.modifiers.meta=!!I.metaKey,O.keyCode=I.which||I.keyCode,O.keyCode>=96&&O.keyCode<=105&&(O.keyCode-=48);var S=String.fromCharCode(O.keyCode);return S&&(O.keyCode=S.toLowerCase().charCodeAt(0)),O},getHashFromEvent:function(I){return this.getHash(this.getCommandFromEvent(I))},getHash:function(I){var O=[];for(var S in I.modifiers)I.modifiers[S]&&O.push(S);return O.push(I.keyCode),O.join(this.junctionChar)},getExpressions:function(I){return I.split(this.junctionChar)},getWords:function(I){return I.split(this.combinationChar)},trim:function(I){return I.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(z,J){z.exports=function(k){k.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(I){this._handlers||(this._handlers={});var O=k.$keyboardNavigation.shortcuts.getHash(I);return this._handlers[O]},doAction:function(I,O){var S=this.findHandler(I);if(S){if(!1===k.$keyboardNavigation.facade.callEvent("onBeforeAction",[I,O]))return;S.call(this,O),O.preventDefault?O.preventDefault():O.returnValue=!1}},bind:function(I,O){this._handlers||(this._handlers={});for(var S=k.$keyboardNavigation.shortcuts,D=S.parse(I),C=0;C<D.length;C++)this._handlers[S.getHash(D[C])]=O},unbind:function(I){for(var O=k.$keyboardNavigation.shortcuts,S=O.parse(I),D=0;D<S.length;D++)this._handlers[O.getHash(S[D])]&&delete this._handlers[O.getHash(S[D])]},bindAll:function(I){for(var O in I)this.bind(O,I[O])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(z,J,k){z.exports=function(I){var O;O=k(1),I.$keyboardNavigation.getFocusableNodes=O.getFocusableNodes,I.$keyboardNavigation.trapFocus=function(S,D){if(9!=D.keyCode)return!1;for(var C=I.$keyboardNavigation.getFocusableNodes(S),_=O.getActiveElement(),y=-1,f=0;f<C.length;f++)if(C[f]==_){y=f;break}if(D.shiftKey){if(y<=0){var g=C[C.length-1];if(g)return g.focus(),D.preventDefault(),!0}}else if(y>=C.length-1){var w=C[0];if(w)return w.focus(),D.preventDefault(),!0}return!1}}},function(z,J){z.exports=function(k){k.$keyboardNavigation.GanttNode=function(){},k.$keyboardNavigation.GanttNode.prototype=k._compose(k.$keyboardNavigation.EventHandler,{focus:function(){k.focus()},blur:function(){},isEnabled:function(){return k.$container.hasAttribute("tabindex")},scrollHorizontal:function(I){var O=k.dateFromPos(k.getScrollState().x),S=k.getScale();O=k.date.add(O,I<0?-S.step:S.step,S.unit),k.scrollTo(k.posFromDate(O))},scrollVertical:function(I){var O=k.getScrollState().y;k.scrollTo(null,O+(I<0?-1:1)*k.config.row_height)},keys:{"alt+left":function(I){this.scrollHorizontal(-1)},"alt+right":function(I){this.scrollHorizontal(1)},"alt+up":function(I){this.scrollVertical(-1)},"alt+down":function(I){this.scrollVertical(1)},"ctrl+z":function(){k.undo&&k.undo()},"ctrl+r":function(){k.redo&&k.redo()}}}),k.$keyboardNavigation.GanttNode.prototype.bindAll(k.$keyboardNavigation.GanttNode.prototype.keys)}},function(z,J){z.exports=function(k){k.$keyboardNavigation.KeyNavNode=function(){},k.$keyboardNavigation.KeyNavNode.prototype=k._compose(k.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(I){k.$keyboardNavigation.dispatcher.setActiveNode(I)},compareTo:function(I){if(!I)return!1;for(var O in this){if(!!this[O]!=!!I[O])return!1;var S=!(!this[O]||!this[O].toString),D=!(!I[O]||!I[O].toString);if(D!=S)return!1;if(D&&S){if(I[O].toString()!=this[O].toString())return!1}else if(I[O]!=this[O])return!1}return!0},getNode:function(){},focus:function(){var I=this.getNode();if(I){var O=k.$keyboardNavigation.facade;!1!==O.callEvent("onBeforeFocus",[I])&&I&&(I.setAttribute("tabindex","-1"),I.$eventAttached||(I.$eventAttached=!0,k.event(I,"focus",function(S){return S.preventDefault(),!1},!1)),I.focus&&I.focus(),O.callEvent("onFocus",[this.getNode()]))}},blur:function(){var I=this.getNode();I&&(k.$keyboardNavigation.facade.callEvent("onBlur",[I]),I.setAttribute("tabindex","-1"))}})}},function(z,J,k){z.exports=function(I){var O=k(1);I.$keyboardNavigation.HeaderCell=function(S){this.index=S||0},I.$keyboardNavigation.HeaderCell.prototype=I._compose(I.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!I.config.show_grid&&I.getVisibleTaskCount()||!I.getGridColumns()[this.index]&&I.getVisibleTaskCount())},fallback:function(){if(!I.config.show_grid)return I.getVisibleTaskCount()?new I.$keyboardNavigation.TaskRow:null;for(var S=I.getGridColumns(),D=this.index;D>=0&&!S[D];)D--;return S[D]?new I.$keyboardNavigation.HeaderCell(D):null},fromDomElement:function(S){var D=O.locateClassName(S,"gantt_grid_head_cell");if(D){for(var C=0;D&&D.previousSibling;)D=D.previousSibling,C+=1;return new I.$keyboardNavigation.HeaderCell(C)}return null},getNode:function(){return I.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new I.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var S=I.getGridColumns();this.index<S.length-1&&this.moveTo(new I.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var S,D=I.getChildren(I.config.root_id);I.isTaskExists(D[0])&&(S=D[0]),S&&this.moveTo(I.config.keyboard_navigation_cells?new I.$keyboardNavigation.TaskCell(S,this.index):new I.$keyboardNavigation.TaskRow(S))},end:function(){var S=I.getGridColumns();this.moveTo(new I.$keyboardNavigation.HeaderCell(S.length-1))},home:function(){this.moveTo(new I.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){O.getActiveElement().click()},"ctrl+enter":function(){I.isReadonly(this)||I.createTask({},this.taskId)}}}),I.$keyboardNavigation.HeaderCell.prototype.bindAll(I.$keyboardNavigation.HeaderCell.prototype.keys)}},function(z,J){z.exports=function(k){k.$keyboardNavigation.TaskRow=function(I){if(!I){var O=k.getChildren(k.config.root_id);O[0]&&(I=O[0])}this.taskId=I,k.isTaskExists(this.taskId)&&(this.index=k.getTaskIndex(this.taskId))},k.$keyboardNavigation.TaskRow.prototype=k._compose(k.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return k.isTaskExists(this.taskId)&&k.getTaskIndex(this.taskId)>-1},fallback:function(){if(!k.getVisibleTaskCount()){var I=new k.$keyboardNavigation.HeaderCell;return I.isValid()?I:null}var O=-1;if(k.getTaskByIndex(this.index-1))O=this.index-1;else if(k.getTaskByIndex(this.index+1))O=this.index+1;else for(var S=this.index;S>=0;){if(k.getTaskByIndex(S)){O=S;break}S--}if(O>-1)return new k.$keyboardNavigation.TaskRow(k.getTaskByIndex(O).id)},fromDomElement:function(I){if(k.config.keyboard_navigation_cells)return null;var O=k.locate(I);return k.isTaskExists(O)?new k.$keyboardNavigation.TaskRow(O):null},getNode:function(){if(k.isTaskExists(this.taskId)&&k.isTaskVisible(this.taskId))return k.config.show_grid?k.$grid.querySelector(".gantt_row["+k.config.task_attribute+"='"+this.taskId+"']"):k.getTaskNode(this.taskId)},focus:function(I){if(!I){var O,D=k.getTaskPosition(k.getTask(this.taskId)),C=k.getTaskHeight(this.taskId),_=k.getScrollState();O=k.$task?k.$task.offsetWidth:_.inner_width,D.top<_.y||D.top+C>_.y+(k.$grid_data||k.$task_data?(k.$grid_data||k.$task_data).offsetHeight:_.inner_height)?k.scrollTo(null,D.top-5*C):k.config.scroll_on_click&&k.config.show_chart&&(D.left>_.x+O?k.scrollTo(D.left-k.config.task_scroll_offset):D.left+D.width<_.x&&k.scrollTo(D.left+D.width-k.config.task_scroll_offset))}k.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[I]),function(){var y=k.$ui.getView("grid"),f=parseInt(y.$grid.scrollLeft),g=parseInt(y.$grid_data.scrollTop),w=y.$config.scrollX;if(w&&y.$config.scrollable){var b=k.$ui.getView(w);b&&b.scrollTo(f,g)}var T=y.$config.scrollY;if(T){var P=k.$ui.getView(T);P&&P.scrollTo(f,g)}}()},keys:{pagedown:function(){k.getVisibleTaskCount()&&this.moveTo(new k.$keyboardNavigation.TaskRow(k.getTaskByIndex(k.getVisibleTaskCount()-1).id))},pageup:function(){k.getVisibleTaskCount()&&this.moveTo(new k.$keyboardNavigation.TaskRow(k.getTaskByIndex(0).id))},up:function(){var I,O=k.getPrev(this.taskId);I=k.isTaskExists(O)?new k.$keyboardNavigation.TaskRow(O):new k.$keyboardNavigation.HeaderCell,this.moveTo(I)},down:function(){var I=k.getNext(this.taskId);k.isTaskExists(I)&&this.moveTo(new k.$keyboardNavigation.TaskRow(I))},"shift+down":function(){k.hasChild(this.taskId)&&!k.getTask(this.taskId).$open&&k.open(this.taskId)},"shift+up":function(){k.hasChild(this.taskId)&&k.getTask(this.taskId).$open&&k.close(this.taskId)},"shift+right":function(){if(!k.isReadonly(this)){var I=k.getPrevSibling(this.taskId);k.isTaskExists(I)&&!k.isChildOf(this.taskId,I)&&(k.getTask(I).$open=!0,!1!==k.moveTask(this.taskId,-1,I)&&k.updateTask(this.taskId))}},"shift+left":function(){if(!k.isReadonly(this)){var I=k.getParent(this.taskId);k.isTaskExists(I)&&!1!==k.moveTask(this.taskId,k.getTaskIndex(I)+1,k.getParent(I))&&k.updateTask(this.taskId)}},space:function(I){k.isSelectedTask(this.taskId)?k.unselectTask(this.taskId):k.selectTask(this.taskId)},"ctrl+left":function(I){k.close(this.taskId)},"ctrl+right":function(I){k.open(this.taskId)},delete:function(I){k.isReadonly(this)||k.$click.buttons.delete(this.taskId)},enter:function(){k.isReadonly(this)||k.showLightbox(this.taskId)},"ctrl+enter":function(){k.isReadonly(this)||k.createTask({},this.taskId)}}}),k.$keyboardNavigation.TaskRow.prototype.bindAll(k.$keyboardNavigation.TaskRow.prototype.keys)}},function(z,J,k){z.exports=function(I){var O=k(1),S=k(2).replaceValidZeroId;I.$keyboardNavigation.TaskCell=function(D,C){if(!(D=S(D,I.config.root_id))){var _=I.getChildren(I.config.root_id);_[0]&&(D=_[0])}this.taskId=D,this.columnIndex=C||0,I.isTaskExists(this.taskId)&&(this.index=I.getTaskIndex(this.taskId))},I.$keyboardNavigation.TaskCell.prototype=I._compose(I.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return I.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!I.getGridColumns()[this.columnIndex]},fallback:function(){var D=I.$keyboardNavigation.TaskRow.prototype.fallback.call(this),C=D;if(D instanceof I.$keyboardNavigation.TaskRow){for(var _=I.getGridColumns(),y=this.columnIndex;y>=0&&!_[y];)y--;_[y]&&(C=new I.$keyboardNavigation.TaskCell(D.taskId,y))}return C},fromDomElement:function(D){if(!I.config.keyboard_navigation_cells)return null;var C=I.locate(D);if(I.isTaskExists(C)){var _=0,y=O.locateAttribute(D,"data-column-index");return y&&(_=1*y.getAttribute("data-column-index")),new I.$keyboardNavigation.TaskCell(C,_)}return null},getNode:function(){if(I.isTaskExists(this.taskId)&&I.isTaskVisible(this.taskId)){if(I.config.show_grid){var D=I.$grid.querySelector(".gantt_row["+I.config.task_attribute+"='"+this.taskId+"']");return D?D.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return I.getTaskNode(this.taskId)}},keys:{up:function(){var D,C=I.getPrev(this.taskId);D=I.isTaskExists(C)?new I.$keyboardNavigation.TaskCell(C,this.columnIndex):new I.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(D)},down:function(){var D=I.getNext(this.taskId);I.isTaskExists(D)&&this.moveTo(new I.$keyboardNavigation.TaskCell(D,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new I.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var D=I.getGridColumns();this.columnIndex<D.length-1&&this.moveTo(new I.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var D=I.getGridColumns();this.moveTo(new I.$keyboardNavigation.TaskCell(this.taskId,D.length-1))},home:function(){this.moveTo(new I.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){I.getVisibleTaskCount()&&this.moveTo(new I.$keyboardNavigation.TaskCell(I.getTaskByIndex(I.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){I.getVisibleTaskCount()&&this.moveTo(new I.$keyboardNavigation.TaskCell(I.getTaskByIndex(0).id,this.columnIndex))}}}),I.$keyboardNavigation.TaskCell.prototype.bindAll(I.$keyboardNavigation.TaskRow.prototype.keys),I.$keyboardNavigation.TaskCell.prototype.bindAll(I.$keyboardNavigation.TaskCell.prototype.keys)}},function(z,J){z.exports=function(k){!function(){var I=[];function O(){return!!I.length}function S(g){setTimeout(function(){O()||k.$destroyed||k.focus()},1)}function D(g){k.eventRemove(g,"keydown",_),k.event(g,"keydown",_),I.push(g)}function C(){var g=I.pop();g&&k.eventRemove(g,"keydown",_),S()}function _(g){var w=g.currentTarget;w==I[I.length-1]&&k.$keyboardNavigation.trapFocus(w,g)}function y(){D(k.getLightbox())}k.attachEvent("onLightbox",y),k.attachEvent("onAfterLightbox",C),k.attachEvent("onLightboxChange",function(){C(),y()}),k.attachEvent("onAfterQuickInfo",function(){S()}),k.attachEvent("onMessagePopup",function(g){f=k.utils.dom.getActiveElement(),D(g)}),k.attachEvent("onAfterMessagePopup",function(){C(),setTimeout(function(){f&&(f.focus(),f=null)},1)});var f=null;k.$keyboardNavigation.isModal=O}()}},function(z,J){z.exports=function(k){k.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new k.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var I;return(I=k.config.keyboard_navigation_cells?new k.$keyboardNavigation.TaskCell:new k.$keyboardNavigation.TaskRow).isValid()||(I=I.fallback()),I},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var I=this.activeNode;return I&&!I.isValid()&&(I=I.fallback()),I},fromDomElement:function(I){for(var O=[k.$keyboardNavigation.TaskRow,k.$keyboardNavigation.TaskCell,k.$keyboardNavigation.HeaderCell],S=0;S<O.length;S++)if(O[S].prototype.fromDomElement){var D=O[S].prototype.fromDomElement(I);if(D)return D}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(I){var O=!0;this.activeNode&&this.activeNode.compareTo(I)&&(O=!1),this.isEnabled()&&(O&&this.blurNode(this.activeNode),this.activeNode=I,this.focusNode(this.activeNode,!O))},focusNode:function(I,O){I&&I.focus&&I.focus(O)},blurNode:function(I){I&&I.blur&&I.blur()},keyDownHandler:function(I){if(!k.$keyboardNavigation.isModal()&&this.isEnabled()&&!I.defaultPrevented){var O=this.globalNode,S=k.$keyboardNavigation.shortcuts.getCommandFromEvent(I),D=this.getActiveNode();!1!==k.$keyboardNavigation.facade.callEvent("onKeyDown",[S,I])&&(D?D.findHandler(S)?D.doAction(S,I):O.findHandler(S)&&O.doAction(S,I):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return null!==this._timeout},delay:function(I,O){clearTimeout(this._timeout),this._timeout=setTimeout(k.bind(function(){this._timeout=null,I()},this),O||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(z,J){z.exports=function(k){function I(S){if(!k.config.show_markers||!S.start_date)return!1;var D=k.getState();if(!(+S.start_date>+D.max_date||(!S.end_date||+S.end_date<+D.min_date)&&+S.start_date<+D.min_date)){var C=document.createElement("div");C.setAttribute("data-marker-id",S.id);var _="gantt_marker";k.templates.marker_class&&(_+=" "+k.templates.marker_class(S)),S.css&&(_+=" "+S.css),S.title&&(C.title=S.title),C.className=_;var y=k.posFromDate(S.start_date);if(C.style.left=y+"px",C.style.height=Math.max(k.getRowTop(k.getVisibleTaskCount()),0)+"px",S.end_date){var f=k.posFromDate(S.end_date);C.style.width=Math.max(f-y,0)+"px"}return S.text&&(C.innerHTML="<div class='gantt_marker_content' >"+S.text+"</div>"),C}}function O(){if(k.$task_data){var S=document.createElement("div");S.className="gantt_marker_area",k.$task_data.appendChild(S),k.$marker_area=S}}k._markers||(k._markers=k.createDatastore({name:"marker",initItem:function(S){return S.id=S.id||k.uid(),S}})),k.config.show_markers=!0,k.attachEvent("onBeforeGanttRender",function(){k.$marker_area||O()}),k.attachEvent("onDataRender",function(){k.$marker_area||(O(),k.renderMarkers())}),k.attachEvent("onGanttLayoutReady",function(){k.attachEvent("onBeforeGanttRender",function(){O(),k.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return k.$marker_area}}).addLayer(I)},{once:!0})}),k.getMarker=function(S){return this._markers?this._markers.getItem(S):null},k.addMarker=function(S){return this._markers.addItem(S)},k.deleteMarker=function(S){return!!this._markers.exists(S)&&(this._markers.removeItem(S),!0)},k.updateMarker=function(S){this._markers.refresh(S)},k._getMarkers=function(){return this._markers.getItems()},k.renderMarkers=function(){this._markers.refresh()}}},function(z,J,k){var I=k(2).replaceValidZeroId;z.exports=function(O){O.config.multiselect=!0,O.config.multiselect_one_level=!1,O._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var S=this.getSelected();return S.length?S[S.length-1]:null},setFirstSelected:function(S){this._first_selected_when_shift=S},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=O.config.multiselect_one_level;var S=this._active;this._active=O.config.select_task,this._active!=S&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(S){O.$data.tasksStore.silent(function(){var D=O.$data.tasksStore;S?D.select(S+""):D.unselect(null)})},getLastSelected:function(){var S=O.$data.tasksStore.getSelectedId();return S&&O.isTaskExists(S)?S:null},select:function(S,D){return!!(S&&O.callEvent("onBeforeTaskMultiSelect",[S,!0,D])&&O.callEvent("onBeforeTaskSelected",[S]))&&(this._selected[S]=!0,this.setLastSelected(S),this.afterSelect(S),O.callEvent("onTaskMultiSelect",[S,!0,D]),O.callEvent("onTaskSelected",[S]),!0)},toggle:function(S,D){this._selected[S]?this.unselect(S,D):this.select(S,D)},unselect:function(S,D){S&&O.callEvent("onBeforeTaskMultiSelect",[S,!1,D])&&(this._selected[S]=!1,this.getLastSelected()==S&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(S),O.callEvent("onTaskMultiSelect",[S,!1,D]),O.callEvent("onTaskUnselected",[S]))},isSelected:function(S){return!(!O.isTaskExists(S)||!this._selected[S])},getSelected:function(){var S=[];for(var D in this._selected)this._selected[D]&&O.isTaskExists(D)?S.push(D):this._selected[D]=!1;return S.sort(function(C,_){return O.getGlobalTaskIndex(C)>O.getGlobalTaskIndex(_)?1:-1}),S},forSelected:function(S){for(var D=this.getSelected(),C=0;C<D.length;C++)S(D[C])},isSameLevel:function(S){if(!this._one_level)return!0;var D=this.getLastSelected();return!D||!O.isTaskExists(D)||!O.isTaskExists(S)||O.calculateTaskLevel(O.getTask(D))==O.calculateTaskLevel(O.getTask(S))},afterSelect:function(S){O.isTaskExists(S)&&O._quickRefresh(function(){O.refreshTask(S)})},doSelection:function(S){if(!this.isActive()||O._is_icon_open_click(S))return!1;var D=O.locate(S);if(!D||!O.callEvent("onBeforeMultiSelect",[S]))return!1;var C=this.getSelected(),_=this.getFirstSelected(),y=!1,f=this.getLastSelected(),g=O.config.multiselect,w=function(){var T=O.ext.inlineEditors,P=T.getState(),E=T.locateCell(S.target);O.config.inline_editors_multiselect_open&&E&&T.getEditorConfig(E.columnName)&&(T.isVisible()&&P.id==E.id&&P.columnName==E.columnName||T.startEdit(E.id,E.columnName)),this.setFirstSelected(D),this.isSelected(D)||this.select(D,S),C=this.getSelected();for(var G=0;G<C.length;G++)C[G]!==D&&this.unselect(C[G],S)}.bind(this),b=function(){if(f){if(D){for(var T=O.getGlobalTaskIndex(this.getFirstSelected()),P=O.getGlobalTaskIndex(D),E=O.getGlobalTaskIndex(f),G=f;O.getGlobalTaskIndex(G)!==T;)this.unselect(G,S),G=T>E?O.getNext(G):O.getPrev(G);for(G=D;O.getGlobalTaskIndex(G)!==T;)this.select(G,S)&&!y&&(y=!0,_=G),G=T>P?O.getNext(G):O.getPrev(G)}}else f=D}.bind(this);return g&&(S.ctrlKey||S.metaKey)?(this.isSelected(D)||this.setFirstSelected(D),D&&this.toggle(D,S)):g&&S.shiftKey?(O.isTaskExists(this.getFirstSelected())&&null!==this.getFirstSelected()||this.setFirstSelected(D),C.length?b():w()):w(),this.isSelected(D)?this.setLastSelected(D):_?D==f&&this.setLastSelected(S.shiftKey?_:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var S=O.selectTask;O.selectTask=function(C){if(!(C=I(C,this.config.root_id)))return!1;var _=O._multiselect,y=C;return _.isActive()?(_.select(C,null)&&_.setLastSelected(C),_.setFirstSelected(_.getLastSelected())):y=S.call(this,C),y};var D=O.unselectTask;O.unselectTask=function(C){var _=O._multiselect,y=_.isActive();(C=C||_.getLastSelected())&&y&&(_.unselect(C,null),C==_.getLastSelected()&&_.setLastSelected(null),O.refreshTask(C),_.setFirstSelected(_.getLastSelected()));var f=C;return y||(f=D.call(this,C)),f},O.toggleTaskSelection=function(C){var _=O._multiselect;C&&_.isActive()&&(_.toggle(C),_.setFirstSelected(_.getLastSelected()))},O.getSelectedTasks=function(){var C=O._multiselect;return C.isActive(),C.getSelected()},O.eachSelectedTask=function(C){return this._multiselect.forSelected(C)},O.isSelectedTask=function(C){return this._multiselect.isSelected(C)},O.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},O.attachEvent("onGanttReady",function(){var C=O.$data.tasksStore.isSelected;O.$data.tasksStore.isSelected=function(_){return O._multiselect.isActive()?O._multiselect.isSelected(_):C.call(this,_)}})}(),O.attachEvent("onTaskIdChange",function(S,D){var C=O._multiselect;if(!C.isActive())return!0;O.isSelectedTask(S)&&(C.unselect(S,null),C.select(D,null))}),O.attachEvent("onAfterTaskDelete",function(S,D){var C=O._multiselect;if(!C.isActive())return!0;C._selected[S]&&(C.unselect(S,null),C._selected[S]=!1,C.setLastSelected(C.getDefaultSelected())),C.forSelected(function(_){O.isTaskExists(_)||C.unselect(_,null)})}),O.attachEvent("onBeforeTaskMultiSelect",function(S,D,C){var _=O._multiselect;return!(D&&_.isActive()&&_._one_level)||_.isSameLevel(S)}),O.attachEvent("onTaskClick",function(S,D){return O._multiselect.doSelection(D)&&O.callEvent("onMultiSelect",[D]),!0})}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(85);J.default=function(O){O.ext||(O.ext={}),O.ext.quickInfo=new I.QuickInfo(O),O.config.quickinfo_buttons=["icon_delete","icon_edit"],O.config.quick_info_detached=!0,O.config.show_quick_info=!0,O.templates.quick_info_title=function(y,f,g){return g.text.substr(0,50)},O.templates.quick_info_content=function(y,f,g){return g.details||g.text},O.templates.quick_info_date=function(y,f,g){return O.templates.task_time(y,f,g)},O.templates.quick_info_class=function(y,f,g){return""},O.attachEvent("onTaskClick",function(y,f){return O.utils.dom.closest(f.target,".gantt_add")||setTimeout(function(){O.ext.quickInfo.show(y)},0),!0});for(var S=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],D=function(){return O.ext.quickInfo.hide(),!0},C=0;C<S.length;C++)O.attachEvent(S[C],D);function _(){return O.ext.quickInfo.hide(),O.ext.quickInfo._quickInfoBox=null,!0}O.attachEvent("onEmptyClick",function(y){var f=!0,g=document.querySelector(".gantt_cal_quick_info");g&&O.utils.dom.isChildOf(y.target,g)&&(f=!1),f&&D()}),O.attachEvent("onGanttReady",_),O.attachEvent("onDestroy",_),O.event(window,"keydown",function(y){27===y.keyCode&&O.ext.quickInfo.hide()})}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.QuickInfo=void 0;var I=function(){function O(S){var D=this;this.show=function(C,_){void 0===_?D._showForTask(C):D._showAtCoordinates(C,_)},this.hide=function(C){var _=D._gantt,y=D._quickInfoBox;D._quickInfoBoxId=0;var f=D._quickInfoTask;if(D._quickInfoTask=null,y&&y.parentNode){if(_.config.quick_info_detached)return _.callEvent("onAfterQuickInfo",[f]),y.parentNode.removeChild(y);y.className+=" gantt_qi_hidden","auto"===y.style.right?y.style.left="-350px":y.style.right="-350px",C&&(y.style.left=y.style.right="",y.parentNode.removeChild(y)),_.callEvent("onAfterQuickInfo",[f])}},this.getNode=function(){return D._quickInfoBox?D._quickInfoBox:null},this.setContainer=function(C){C&&(D._container="string"==typeof C?document.getElementById(C):C)},this.setContent=function(C){var _=D._gantt,y={taskId:null,header:{title:"",date:""},content:"",buttons:_.config.quickinfo_buttons};C||(C=y),C.taskId||(C.taskId=y.taskId),C.header||(C.header=y.header),C.header.title||(C.header.title=y.header.title),C.header.date||(C.header.date=y.header.date),C.content||(C.content=y.content),C.buttons||(C.buttons=y.buttons);var f=D.getNode();f||(f=D._createQuickInfoElement()),C.taskId&&(D._quickInfoBoxId=C.taskId);var g=f.querySelector(".gantt_cal_qi_title"),w=g.querySelector(".gantt_cal_qi_tcontent"),b=g.querySelector(".gantt_cal_qi_tdate"),T=f.querySelector(".gantt_cal_qi_content"),P=f.querySelector(".gantt_cal_qi_controls");_._waiAria.quickInfoHeader(f,[C.header.title,C.header.date].join(" ")),w.innerHTML=C.header.title,b.innerHTML=C.header.date,g.style.display=C.header.title||C.header.date?"":"none",T.innerHTML=C.content;var E=C.buttons;P.style.display=E.length?"":"none";for(var G="",H=0;H<E.length;H++){var $=_._waiAria.quickInfoButtonAttrString(_.locale.labels[E[H]]);G+='<div class="gantt_qi_big_icon '+E[H]+'" title="'+_.locale.labels[E[H]]+'" '+$+"><div class='gantt_menu_icon "+E[H]+"'></div><div>"+_.locale.labels[E[H]]+"</div></div>"}P.innerHTML=G,_.eventRemove(f,"click",D._qiButtonClickHandler),_.eventRemove(f,"keypress",D._qiKeyPressHandler),_.event(f,"click",D._qiButtonClickHandler),_.event(f,"keypress",D._qiKeyPressHandler)},this._qiButtonClickHandler=function(C){C=C||event,D._qi_button_click(C.target||C.srcElement)},this._qiKeyPressHandler=function(C){var _=(C=C||event).which||event.keyCode;13!==_&&32!==_||setTimeout(function(){D._qi_button_click(C.target||C.srcElement)},1)},this._gantt=S}return O.prototype._showAtCoordinates=function(S,D){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(S,D),this._gantt.callEvent("onQuickInfo",[null])},O.prototype._showForTask=function(S){var D=this._gantt;if((S!==this._quickInfoBoxId||!D.utils.dom.isChildOf(this._quickInfoBox,document.body))&&D.config.show_quick_info){this.hide(!0);var C=this._getContainer(),_=this._get_event_counter_part(S,6,C.xViewport,C.yViewport);_&&(this._quickInfoBox=this._init_quick_info(S),this._quickInfoTask=S,this._quickInfoBox.className=this._prepare_quick_info_classname(S),this._fill_quick_data(S),this._show_quick_info(_,6),D.callEvent("onQuickInfo",[S]))}},O.prototype._get_event_counter_part=function(S,D,C,_){var y=this._gantt,f=y.getTaskNode(S);if(!f&&!(f=y.getTaskRowNode(S)))return null;var g=0,w=D+f.offsetTop+f.offsetHeight,b=f;if(y.utils.dom.isChildOf(b,C))for(;b&&b!==C;)g+=b.offsetLeft,b=b.offsetParent;var T=y.getScrollState();return b?{left:g,top:w,dx:g+f.offsetWidth/2-T.x>C.offsetWidth/2?1:0,dy:w+f.offsetHeight/2-T.y>_.offsetHeight/2?1:0,width:f.offsetWidth,height:f.offsetHeight}:null},O.prototype._createQuickInfoElement=function(){var S=this,D=this._gantt,C=document.createElement("div");C.className+="gantt_cal_quick_info",D._waiAria.quickInfoAttr(C);var _='<div class="gantt_cal_qi_title" '+D._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(_+='<div class="gantt_cal_qi_controls">',C.innerHTML=_+="</div>",D.config.quick_info_detached){var y=this._getContainer();D.event(y.parent,"scroll",function(){S.hide()})}return this._quickInfoBox=C,C},O.prototype._init_quick_info=function(S){var D=this._gantt,C=D.getTask(S);return"boolean"==typeof this._quickInfoReadonly&&D.isReadonly(C)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=D.isReadonly(C),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},O.prototype._prepare_quick_info_classname=function(S){var D=this._gantt,C=D.getTask(S),_="gantt_cal_quick_info",y=D.templates.quick_info_class(C.start_date,C.end_date,C);return y&&(_+=" "+y),_},O.prototype._fill_quick_data=function(S){var D=this._gantt,C=D.getTask(S);this._quickInfoBoxId=S;var _=[];if(this._quickInfoReadonly)for(var y=D.config.quickinfo_buttons,f={icon_delete:!0,icon_edit:!0},g=0;g<y.length;g++)this._quickInfoReadonly&&f[y[g]]||_.push(y[g]);else _=D.config.quickinfo_buttons;this.setContent({header:{title:D.templates.quick_info_title(C.start_date,C.end_date,C),date:D.templates.quick_info_date(C.start_date,C.end_date,C)},content:D.templates.quick_info_content(C.start_date,C.end_date,C),buttons:_})},O.prototype._appendAtCoordinates=function(S,D){var C=this._quickInfoBox,_=this._getContainer();C.parentNode&&"#document-fragment"!==C.parentNode.nodeName.toLowerCase()||_.parent.appendChild(C),C.style.left=S+"px",C.style.top=D+"px"},O.prototype._show_quick_info=function(S,D){var C=this._gantt,_=this._quickInfoBox;if(C.config.quick_info_detached){var y=this._getContainer();_.parentNode&&"#document-fragment"!==_.parentNode.nodeName.toLowerCase()||y.parent.appendChild(_);var f=_.offsetWidth,g=_.offsetHeight,w=C.getScrollState(),T=y.yViewport,P=y.xViewport.offsetWidth+w.x-f,E=S.top-w.y+g,G=S.top;E>T.offsetHeight/2&&(G=S.top-(g+S.height+2*D))<w.y&&E<=T.offsetHeight&&(G=S.top),G<w.y&&(G=w.y);var H=Math.min(Math.max(w.x,S.left-S.dx*(f-S.width)),P);this._appendAtCoordinates(H,G)}else _.style.top="20px",1===S.dx?(_.style.right="auto",_.style.left="-300px",setTimeout(function(){_.style.left="10px"},1)):(_.style.left="auto",_.style.right="-300px",setTimeout(function(){_.style.right="10px"},1)),_.className+=" gantt_qi_"+(1===S.dx?"left":"right"),C.$root.appendChild(_)},O.prototype._qi_button_click=function(S){var D=this._gantt;if(S&&S!==this._quickInfoBox){var _=S.className;if(-1!==_.indexOf("_icon")){var y=this._quickInfoBoxId;D.$click.buttons[_.split(" ")[1].replace("icon_","")](y)}else this._qi_button_click(S.parentNode)}},O.prototype._getContainer=function(){var S=this._gantt,D=this._container?this._container:S.$task_data;return D&&D.offsetHeight&&D.offsetWidth?{parent:D,xViewport:S.$task,yViewport:S.$task_data}:(D=this._container?this._container:S.$grid_data)&&D.offsetHeight&&D.offsetWidth?{parent:D,xViewport:S.$grid,yViewport:S.$grid_data}:{parent:this._container?this._container:S.$layout,xViewport:S.$layout,yViewport:S.$layout}},O}();J.QuickInfo=I},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(87);J.default=function(O){O.config.tooltip_timeout=30,O.config.tooltip_offset_y=20,O.config.tooltip_offset_x=10,O.config.tooltip_hide_timeout=30;var S=new I.TooltipManager(O);O.ext.tooltips=S,O.attachEvent("onGanttReady",function(){S.tooltipFor({selector:"["+O.config.task_attribute+"]:not(.gantt_task_row)",html:function(D){if(!O.config.touch||O.config.touch_tooltip){var C=O.locate(D);if(O.isTaskExists(C)){var _=O.getTask(C);return O.templates.tooltip_text(_.start_date,_.end_date,_)}return null}},global:!1})}),O.attachEvent("onDestroy",function(){S.destructor()}),O.attachEvent("onLightbox",function(){S.hideTooltip()}),O.attachEvent("onBeforeTooltip",function(){if(O.getState().link_source_id)return!1}),O.attachEvent("onGanttScroll",function(){S.hideTooltip()})}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.TooltipManager=void 0;var I=k(29),O=k(1),S=k(2),D=k(88),C=function(){function _(y){this._listeners={},this.tooltip=new D.Tooltip(y),this._gantt=y,this._domEvents=I(),this._initDelayedFunctions()}return _.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},_.prototype.hideTooltip=function(){this.delayHide()},_.prototype.attach=function(y){var f=this,g=document.body;y.global||(g=this._gantt.$root);var b=null,T=function(P){var E=O.getTargetNode(P),G=O.closest(E,y.selector);if(!O.isChildOf(E,f.tooltip.getNode())){var H=function(){b=G,y.onmouseenter(P,G)};b?G&&G===b?y.onmousemove(P,G):(y.onmouseleave(P,b),b=null,G&&G!==b&&H()):G&&H()}};this.detach(y.selector),this._domEvents.attach(g,"mousemove",T),this._listeners[y.selector]={node:g,handler:T}},_.prototype.detach=function(y){var f=this._listeners[y];f&&this._domEvents.detach(f.node,"mousemove",f.handler)},_.prototype.tooltipFor=function(y){var f=this,g=function(w){var b=w;return document.createEventObject&&!document.createEvent&&(b=document.createEventObject(w)),b};this._initDelayedFunctions(),this.attach({selector:y.selector,global:y.global,onmouseenter:function(w,b){var T=y.html(w,b);T&&f.delayShow(g(w),T)},onmousemove:function(w,b){var T=y.html(w,b);T?f.delayShow(g(w),T):(f.delayShow.$cancelTimeout(),f.delayHide())},onmouseleave:function(){f.delayShow.$cancelTimeout(),f.delayHide()}})},_.prototype._initDelayedFunctions=function(){var y=this,f=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=S.delay(function(g,w){!1===f.callEvent("onBeforeTooltip",[g])?y.tooltip.hide():(y.tooltip.setContent(w),y.tooltip.show(g))},f.config.tooltip_timeout||1),this.delayHide=S.delay(function(){y.delayShow.$cancelTimeout(),y.tooltip.hide()},f.config.tooltip_hide_timeout||1)},_}();J.TooltipManager=C},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.Tooltip=void 0;var I=k(1),O=function(){function S(D){this._gantt=D}return S.prototype.getNode=function(){var D=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",D._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},S.prototype.setViewport=function(D){return this._root=D,this},S.prototype.show=function(D,C){var _=this._gantt,y=document.body,f=this.getNode();if(I.isChildOf(f,y)||(this.hide(),y.appendChild(f)),this._isLikeMouseEvent(D)){var g=this._calculateTooltipPosition(D);C=g.top,D=g.left}return f.style.top=C+"px",f.style.left=D+"px",_._waiAria.tooltipVisibleAttr(f),this},S.prototype.hide=function(){var D=this._gantt,C=this.getNode();return C&&C.parentNode&&C.parentNode.removeChild(C),D._waiAria.tooltipHiddenAttr(C),this},S.prototype.setContent=function(D){return this.getNode().innerHTML=D,this},S.prototype._isLikeMouseEvent=function(D){return!(!D||"object"!=typeof D)&&"clientX"in D&&"clientY"in D},S.prototype._getViewPort=function(){return this._root||document.body},S.prototype._calculateTooltipPosition=function(D){var C=this._gantt,_=this._getViewPortSize(),y=this.getNode(),f={top:0,left:0,width:y.offsetWidth,height:y.offsetHeight,bottom:0,right:0},g=C.config.tooltip_offset_x,w=C.config.tooltip_offset_y,b=document.body,T=I.getRelativeEventPosition(D,b),P=I.getNodePosition(b);T.y+=P.y,f.top=T.y,f.left=T.x,f.top+=w,f.left+=g,f.bottom=f.top+f.height,f.right=f.left+f.width;var E=window.scrollY+b.scrollTop;return f.top<_.top-E?(f.top=_.top,f.bottom=f.top+f.height):f.bottom>_.bottom&&(f.bottom=_.bottom,f.top=f.bottom-f.height),f.left<_.left?(f.left=_.left,f.right=_.left+f.width):f.right>_.right&&(f.right=_.right,f.left=f.right-f.width),T.x>=f.left&&T.x<=f.right&&(f.left=T.x-f.width-g,f.right=f.left+f.width),T.y>=f.top&&T.y<=f.bottom&&(f.top=T.y-f.height-w,f.bottom=f.top+f.height),f},S.prototype._getViewPortSize=function(){var D,C=this._gantt,_=this._getViewPort(),y=_,f=window.scrollY+document.body.scrollTop,g=window.scrollX+document.body.scrollLeft;return _===C.$task_data?(y=C.$task,f=0,g=0,D=I.getNodePosition(C.$task)):D=I.getNodePosition(y),{left:D.x+g,top:D.y+f,width:D.width,height:D.height,bottom:D.y+D.height+f,right:D.x+D.width+g}},S}();J.Tooltip=O},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(90),O=k(91);J.default=function(S){var D=new O.Undo(S),C=new I.Monitor(D,S);function _(T,P,E){T&&(T.id===P&&(T.id=E),T.parent===P&&(T.parent=E))}function y(T,P,E){_(T.value,P,E),_(T.oldValue,P,E)}function f(T,P,E){T&&(T.source===P&&(T.source=E),T.target===P&&(T.target=E))}function g(T,P,E){f(T.value,P,E),f(T.oldValue,P,E)}function w(T,P,E){for(var G=D,H=0;H<T.length;H++)for(var $=T[H],j=0;j<$.commands.length;j++)$.commands[j].entity===G.command.entity.task?y($.commands[j],P,E):$.commands[j].entity===G.command.entity.link&&g($.commands[j],P,E)}function b(T,P,E){for(var G=D,H=0;H<T.length;H++)for(var $=T[H],j=0;j<$.commands.length;j++){var Q=$.commands[j];Q.entity===G.command.entity.link&&(Q.value&&Q.value.id===P&&(Q.value.id=E),Q.oldValue&&Q.oldValue.id===P&&(Q.oldValue.id=E))}}S.config.undo=!0,S.config.redo=!0,S.config.undo_types={link:"link",task:"task"},S.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},S.ext||(S.ext={}),S.ext.undo={undo:function(){return D.undo()},redo:function(){return D.redo()},getUndoStack:function(){return D.getUndoStack()},getRedoStack:function(){return D.getRedoStack()},clearUndoStack:function(){return D.clearUndoStack()},clearRedoStack:function(){return D.clearRedoStack()},saveState:function(T,P){return C.store(T,P,!0)}},S.undo=S.ext.undo.undo,S.redo=S.ext.undo.redo,S.getUndoStack=S.ext.undo.getUndoStack,S.getRedoStack=S.ext.undo.getRedoStack,S.clearUndoStack=S.ext.undo.clearUndoStack,S.clearRedoStack=S.ext.undo.clearRedoStack,S.attachEvent("onTaskIdChange",function(T,P){var E=D;w(E.getUndoStack(),T,P),w(E.getRedoStack(),T,P)}),S.attachEvent("onLinkIdChange",function(T,P){var E=D;b(E.getUndoStack(),T,P),b(E.getRedoStack(),T,P)}),S.attachEvent("onGanttReady",function(){D.updateConfigs()})}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.Monitor=void 0;var I={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},O=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],S=function(){function D(C,_){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=C,this._gantt=_,this._attachEvents()}return D.prototype.store=function(C,_,y){return void 0===y&&(y=!1),_===this._gantt.config.undo_types.task?this._storeTask(C,y):_===this._gantt.config.undo_types.link&&this._storeLink(C,y)},D.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},D.prototype.toggleIgnoreMoveEvents=function(C){this._ignoreMoveEvents=C||!1},D.prototype.startIgnore=function(){this._ignore=!0},D.prototype.stopIgnore=function(){this._ignore=!1},D.prototype.startBatchAction=function(){var C=this;this._timeout||(this._timeout=setTimeout(function(){C.stopBatchAction(),C._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},D.prototype.stopBatchAction=function(){this._ignore||(this._batchAction&&this._undo.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null)},D.prototype.onTaskAdded=function(C){this._ignore||this._storeTaskCommand(C,this._undo.command.type.add)},D.prototype.onTaskUpdated=function(C){this._ignore||this._storeTaskCommand(C,this._undo.command.type.update)},D.prototype.onTaskMoved=function(C){if(!this._ignore){C.$local_index=this._gantt.getTaskIndex(C.id);var _=this.getInitialTask(C.id);if(C.$local_index===_.$local_index&&this._gantt.getParent(C)===this._gantt.getParent(_))return;this._storeEntityCommand(C,this.getInitialTask(C.id),this._undo.command.type.move,this._undo.command.entity.task)}},D.prototype.onTaskDeleted=function(C){if(!this._ignore){if(this._storeTaskCommand(C,this._undo.command.type.remove),this._nestedTasks[C.id])for(var _=this._nestedTasks[C.id],y=0;y<_.length;y++)this._storeTaskCommand(_[y],this._undo.command.type.remove);if(this._nestedLinks[C.id]){var f=this._nestedLinks[C.id];for(y=0;y<f.length;y++)this._storeLinkCommand(f[y],this._undo.command.type.remove)}}},D.prototype.onLinkAdded=function(C){this._ignore||this._storeLinkCommand(C,this._undo.command.type.add)},D.prototype.onLinkUpdated=function(C){this._ignore||this._storeLinkCommand(C,this._undo.command.type.update)},D.prototype.onLinkDeleted=function(C){this._ignore||this._storeLinkCommand(C,this._undo.command.type.remove)},D.prototype.setNestedTasks=function(C,_){for(var f=null,g=[],w=this._getLinks(this._gantt.getTask(C)),b=0;b<_.length;b++)f=this.setInitialTask(_[b]),w=w.concat(this._getLinks(f)),g.push(f);var T={};for(b=0;b<w.length;b++)T[w[b]]=!0;var P=[];for(var b in T)P.push(this.setInitialLink(b));this._nestedTasks[C]=g,this._nestedLinks[C]=P},D.prototype.setInitialTask=function(C,_){var y=this._gantt;if(_||!this._initialTasks[C]||!this._batchMode){var f=y.copy(y.getTask(C));f.$index=y.getGlobalTaskIndex(C),f.$local_index=y.getTaskIndex(C),this.setInitialTaskObject(C,f)}return this._initialTasks[C]},D.prototype.getInitialTask=function(C){return this._initialTasks[C]},D.prototype.clearInitialTasks=function(){this._initialTasks={}},D.prototype.setInitialTaskObject=function(C,_){this._initialTasks[C]=_},D.prototype.setInitialLink=function(C,_){return this._initialLinks[C]&&this._batchMode||(this._initialLinks[C]=this._gantt.copy(this._gantt.getLink(C))),this._initialLinks[C]},D.prototype.getInitialLink=function(C){return this._initialLinks[C]},D.prototype.clearInitialLinks=function(){this._initialLinks={}},D.prototype._attachEvents=function(){var C=this,_=null,y=this._gantt,f=function(){_||(_=setTimeout(function(){_=null}),C.clearInitialTasks(),y.eachTask(function(T){C.setInitialTask(T.id)}),C.clearInitialLinks(),y.getLinks().forEach(function(T){C.setInitialLink(T.id)}))},g=function(T){return y.copy(y.getTask(T))};for(var w in I)y.attachEvent(w,function(){return C.startIgnore(),!0}),y.attachEvent(I[w],function(){return C.stopIgnore(),!0});for(w=0;w<O.length;w++)y.attachEvent(O[w],function(){return C.startBatchAction(),!0});y.attachEvent("onParse",function(){C._undo.clearUndoStack(),C._undo.clearRedoStack(),f()}),y.attachEvent("onAfterTaskAdd",function(T,P){C.setInitialTask(T,!0),C.onTaskAdded(P)}),y.attachEvent("onAfterTaskUpdate",function(T,P){C.onTaskUpdated(P)}),y.attachEvent("onAfterTaskDelete",function(T,P){C.onTaskDeleted(P)}),y.attachEvent("onAfterLinkAdd",function(T,P){C.setInitialLink(T,!0),C.onLinkAdded(P)}),y.attachEvent("onAfterLinkUpdate",function(T,P){C.onLinkUpdated(P)}),y.attachEvent("onAfterLinkDelete",function(T,P){C.onLinkDeleted(P)}),y.attachEvent("onRowDragEnd",function(T,P){return C.onTaskMoved(g(T)),C.toggleIgnoreMoveEvents(),!0}),y.attachEvent("onBeforeTaskDelete",function(T){C.store(T,y.config.undo_types.task);var P=[];return f(),y.eachTask(function(E){P.push(E.id)},T),C.setNestedTasks(T,P),!0});var b=y.getDatastore("task");b.attachEvent("onBeforeItemMove",function(T,P,E){return C.isMoveEventsIgnored()||f(),!0}),b.attachEvent("onAfterItemMove",function(T,P,E){return C.isMoveEventsIgnored()||C.onTaskMoved(g(T)),!0}),y.attachEvent("onRowDragStart",function(T,P,E){return C.toggleIgnoreMoveEvents(!0),f(),!0}),y.attachEvent("onBeforeTaskDrag",function(T){return C.store(T,y.config.undo_types.task)}),y.attachEvent("onLightbox",function(T){return C.store(T,y.config.undo_types.task)}),y.attachEvent("onBeforeTaskAutoSchedule",function(T){return C.store(T.id,y.config.undo_types.task),!0}),y.ext.inlineEditors&&y.ext.inlineEditors.attachEvent("onEditStart",function(T){C.store(T.id,y.config.undo_types.task)})},D.prototype._storeCommand=function(C){var _=this._undo;if(_.updateConfigs(),_.undoEnabled)if(this._batchMode)this._batchAction.commands.push(C);else{var y=_.action.create([C]);_.logAction(y)}},D.prototype._storeEntityCommand=function(C,_,y,f){var g=this._undo.command.create(C,_,y,f);this._storeCommand(g)},D.prototype._storeTaskCommand=function(C,_){this._gantt.isTaskExists(C.id)&&(C.$local_index=this._gantt.getTaskIndex(C.id)),this._storeEntityCommand(C,this.getInitialTask(C.id),_,this._undo.command.entity.task)},D.prototype._storeLinkCommand=function(C,_){this._storeEntityCommand(C,this.getInitialLink(C.id),_,this._undo.command.entity.link)},D.prototype._getLinks=function(C){return C.$source.concat(C.$target)},D.prototype._storeTask=function(C,_){var y=this;void 0===_&&(_=!1);var f=this._gantt;return this.setInitialTask(C,_),f.eachTask(function(g){y.setInitialTask(g.id)},C),!0},D.prototype._storeLink=function(C,_){return void 0===_&&(_=!1),this.setInitialLink(C,_),!0},D}();J.Monitor=S},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.Undo=void 0;var O=function(){function S(D){var C=this;this.maxSteps=10,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(_){return{commands:_?_.slice():[]}},invert:function(_){for(var y,f=C._gantt.copy(_),g=C.command,w=0;w<_.commands.length;w++){var b=f.commands[w]=g.invert(f.commands[w]);b.type!==g.type.update&&b.type!==g.type.move||(b.value=(y=[b.oldValue,b.value])[0],b.oldValue=y[1])}return f}},this.command={entity:null,type:null,create:function(_,y,f,g){var w=C._gantt;return{entity:g,type:f,value:w.copy(_),oldValue:w.copy(y||_)}},invert:function(_){var y=C._gantt.copy(_);return y.type=C.command.inverseCommands(_.type),y},inverseCommands:function(_){var y=C._gantt,f=C.command.type;switch(_){case f.update:return f.update;case f.remove:return f.add;case f.add:return f.remove;case f.move:return f.move;default:return y.assert(!1,"Invalid command "+_),null}}},this._undoStack=[],this._redoStack=[],this._gantt=D}return S.prototype.getUndoStack=function(){return this._undoStack},S.prototype.getRedoStack=function(){return this._redoStack},S.prototype.clearUndoStack=function(){this._undoStack=[]},S.prototype.clearRedoStack=function(){this._redoStack=[]},S.prototype.updateConfigs=function(){var D=this._gantt;this.maxSteps=D.config.undo_steps||10,this.command.entity=D.config.undo_types,this.command.type=D.config.undo_actions,this.undoEnabled=!!D.config.undo,this.redoEnabled=!!D.config.redo},S.prototype.undo=function(){var D=this._gantt;if(this.updateConfigs(),this.undoEnabled){var C=this._pop(this._undoStack);if(C&&this._reorderCommands(C),!1!==D.callEvent("onBeforeUndo",[C])&&C)return this._applyAction(this.action.invert(C)),this._push(this._redoStack,D.copy(C)),void D.callEvent("onAfterUndo",[C]);D.callEvent("onAfterUndo",[null])}},S.prototype.redo=function(){var D=this._gantt;if(this.updateConfigs(),this.redoEnabled){var C=this._pop(this._redoStack);if(C&&this._reorderCommands(C),!1!==D.callEvent("onBeforeRedo",[C])&&C)return this._applyAction(C),this._push(this._undoStack,D.copy(C)),void D.callEvent("onAfterRedo",[C]);D.callEvent("onAfterRedo",[null])}},S.prototype.logAction=function(D){this._push(this._undoStack,D),this._redoStack=[]},S.prototype._push=function(D,C){if(C.commands.length&&!1!==this._gantt.callEvent(D===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack",[C])&&C.commands.length){for(D.push(C);D.length>this.maxSteps;)D.shift();return C}},S.prototype._pop=function(D){return D.pop()},S.prototype._reorderCommands=function(D){var C={any:0,link:1,task:2},_={move:1,any:0};D.commands.sort(function(y,f){return"task"===y.entity&&"task"===f.entity?y.type!==f.type?(_[f.type]||0)-(_[y.type]||0):"move"===y.type&&y.oldValue&&f.oldValue&&f.oldValue.parent===y.oldValue.parent?y.oldValue.$index-f.oldValue.$index:0:(C[f.entity]||C.any)-(C[y.entity]||C.any)})},S.prototype._applyAction=function(D){var C=null,_=this.command.entity,y=this.command.type,f=this._gantt,g={};g[_.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},g[_.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},f.batchUpdate(function(){for(var w=0;w<D.commands.length;w++){var b=g[(C=D.commands[w]).entity][C.type],T=g[C.entity].get,P=g[C.entity].isExists;if(C.type===y.add)f[b](C.oldValue,C.oldValue.parent,C.oldValue.$local_index);else if(C.type===y.remove)f[P](C.value.id)&&f[b](C.value.id);else if(C.type===y.update){var E=f[T](C.value.id);for(var G in C.value)G.startsWith("$")||G.startsWith("_")||(E[G]=C.value[G]);f[b](C.value.id)}else C.type===y.move&&(f[b](C.value.id,C.value.$local_index,C.value.parent),f.callEvent("onRowDragEnd",[C.value.id]))}})},S}();J.Undo=O},function(z,J,k){k(16);var I=k(93);z.exports=function(O){var S=I(O);return S.env.isNode||k(197)(S),S}},function(z,J,k){function I(O){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}z.exports=function(O){var S=new function(){this.constants=k(94),this.version="7.1.12",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},D=new(k(95).default)(O),C={};S.plugins=function(T){for(var P in T)if(T[P]&&!C[P]){var E=D.getExtension(P);E&&(E(S),C[P]=!0)}},S.$services=k(96)(),S.config=k(97)(),S.ajax=k(98)(S),S.date=k(100)(S);var _=k(103)(S);S.$services.setService("dnd",function(){return _});var y=k(104)(S);S.$services.setService("templateLoader",function(){return y}),k(4)(S);var f=new(k(105));f.registerProvider("global",function(){var T={min_date:S._min_date,max_date:S._max_date,selected_task:null};return S.$data&&S.$data.tasksStore&&(T.selected_task=S.$data.tasksStore.getSelectedId()),T}),S.getState=f.getState,S.$services.setService("state",function(){return f});var g=k(0);g.mixin(S,g),S.Promise=k(106),S.env=k(7),k(110)(S);var w=k(116);S.dataProcessor=w.DEPRECATED_api,S.createDataProcessor=w.createDataProcessor,k(121)(S),k(130)(S),k(131)(S),k(139)(S),k(140)(S),k(141)(S),k(154)(S),k(155).default(S),k(156)(S),k(157)(S),k(158)(S),k(161)(S),k(162).default(S);var b=k(163).default();return S.i18n={addLocale:b.addLocale,setLocale:function(T){if("string"==typeof T){var P=b.getLocale(T);P||(P=b.getLocale("en")),S.locale=P}else if(T)if(S.locale)for(var E in T)T[E]&&"object"===I(T[E])?(S.locale[E]||(S.locale[E]={}),S.mixin(S.locale[E],T[E],!0)):S.locale[E]=T[E];else S.locale=T},getLocale:b.getLocale},S.i18n.setLocale("en"),S}},function(z,J){z.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(O){var S=this;for(var D in this.addExtension=function(C,_){S._extensions[C]=_},this.getExtension=function(C){return S._extensions[C]},this._extensions={},O)this._extensions[D]=O[D]}},function(z,J){z.exports=function(){var k={};return{services:{},setService:function(I,O){k[I]=O},getService:function(I){return k[I]?k[I]():null},dropService:function(I){k[I]&&delete k[I]},destructor:function(){for(var I in k)if(k[I]){var O=k[I];O&&O.destructor&&O.destructor()}k=null}}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),z.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(z,J,k){function I(_){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(_)}var O=k(7),S=k(12),D=k(99).default;function C(_,y){var f={method:_};if(0===y.length)throw new Error("Arguments list of query is wrong.");if(1===y.length)return"string"==typeof y[0]?(f.url=y[0],f.async=!0):(f.url=y[0].url,f.async=y[0].async||!0,f.callback=y[0].callback,f.headers=y[0].headers),f.data=y[0].data?"string"!=typeof y[0].data?D(y[0].data):y[0].data:"",f;switch(f.url=y[0],_){case"GET":case"DELETE":f.callback=y[1],f.headers=y[2];break;case"POST":case"PUT":f.data=y[1]?"string"!=typeof y[1]?D(y[1]):y[1]:"",f.callback=y[2],f.headers=y[3]}return f}z.exports=function(_){return{cache:!0,method:"get",parse:function(y){return"string"!=typeof y?y:(y=y.replace(/^[\s]+/,""),"undefined"==typeof DOMParser||O.isIE?void 0!==S.ActiveXObject&&((f=new S.ActiveXObject("Microsoft.XMLDOM")).async="false",f.loadXML(y)):f=(new DOMParser).parseFromString(y,"text/xml"),f);var f},xmltop:function(y,f,g){if(void 0===f.status||f.status<400){var w=f.responseXML?f.responseXML||f:this.parse(f.responseText||f);if(w&&null!==w.documentElement&&!w.getElementsByTagName("parsererror").length)return w.getElementsByTagName(y)[0]}return-1!==g&&_.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],g]),document.createElement("DIV")},xpath:function(y,f){if(f.nodeName||(f=f.responseXML||f),O.isIE)return f.selectNodes(y)||[];for(var g,w=[],b=(f.ownerDocument||f).evaluate(y,f,null,XPathResult.ANY_TYPE,null);g=b.iterateNext();)w.push(g);return w},query:function(y){return this._call(y.method||"GET",y.url,y.data||"",y.async||!0,y.callback,y.headers)},get:function(y,f,g){var w=C("GET",arguments);return this.query(w)},getSync:function(y,f){var g=C("GET",arguments);return g.async=!1,this.query(g)},put:function(y,f,g,w){var b=C("PUT",arguments);return this.query(b)},del:function(y,f,g){var w=C("DELETE",arguments);return this.query(w)},post:function(y,f,g,w){(1==arguments.length||2==arguments.length&&"function"==typeof f)&&(f="");var b=C("POST",arguments);return this.query(b)},postSync:function(y,f,g){f=null===f?"":String(f);var w=C("POST",arguments);return w.async=!1,this.query(w)},_call:function(y,f,g,w,b,T){return new _.Promise(function(P,E){var G=void 0===("undefined"==typeof XMLHttpRequest?"undefined":I(XMLHttpRequest))||O.isIE?new S.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,H=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(w&&(G.onreadystatechange=function(){if(4==G.readyState||H&&3==G.readyState){if((200!=G.status||""===G.responseText)&&!_.callEvent("onAjaxError",[G]))return;setTimeout(function(){"function"==typeof b&&b.apply(S,[{xmlDoc:G,filePath:f}]),P(G),"function"==typeof b&&(b=null,G=null)},0)}}),"GET"!=y||this.cache||(f+=(f.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),G.open(y,f,w),T)for(var $ in T)G.setRequestHeader($,T[$]);else"POST"==y.toUpperCase()||"PUT"==y||"DELETE"==y?G.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==y&&(g=null);if(G.setRequestHeader("X-Requested-With","XMLHttpRequest"),G.send(g),!w)return{xmlDoc:G,filePath:f}})},urlSeparator:function(y){return-1!=y.indexOf("?")?"&":"?"}}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(I){if("string"==typeof I||"number"==typeof I)return I;var O="";for(var S in I){var D="";I.hasOwnProperty(S)&&(D=S+"="+(D="string"==typeof I[S]?encodeURIComponent(I[S]):"number"==typeof I[S]?I[S]:encodeURIComponent(JSON.stringify(I[S]))),O.length&&(D="&"+D),O+=D)}return O}},function(z,J,k){var I=k(101).default,O=k(102).default;z.exports=function(S){var D=null;function C(){var _=!1;return"auto"===S.config.csp?(null===D&&function(){try{new Function("canUseCsp = false;")}catch(y){D=!0}}(),_=D):_=S.config.csp,_}return{init:function(){for(var _=S.locale,y=_.date.month_short,f=_.date.month_short_hash={},g=0;g<y.length;g++)f[y[g]]=g;for(y=_.date.month_full,f=_.date.month_full_hash={},g=0;g<y.length;g++)f[y[g]]=g},date_part:function(_){var y=new Date(_);return _.setHours(0),this.hour_start(_),_.getHours()&&(_.getDate()<y.getDate()||_.getMonth()<y.getMonth()||_.getFullYear()<y.getFullYear())&&_.setTime(_.getTime()+36e5*(24-_.getHours())),_},time_part:function(_){return(_.valueOf()/1e3-60*_.getTimezoneOffset())%86400},week_start:function(_){var y=_.getDay();return S.config.start_on_monday&&(0===y?y=6:y--),this.date_part(this.add(_,-1*y,"day"))},month_start:function(_){return _.setDate(1),this.date_part(_)},quarter_start:function(_){this.month_start(_);var f=_.getMonth();return _.setMonth(f>=9?9:f>=6?6:f>=3?3:0),_},year_start:function(_){return _.setMonth(0),this.month_start(_)},day_start:function(_){return this.date_part(_)},hour_start:function(_){return _.getMinutes()&&_.setMinutes(0),this.minute_start(_),_},minute_start:function(_){return _.getSeconds()&&_.setSeconds(0),_.getMilliseconds()&&_.setMilliseconds(0),_},_add_days:function(_,y,f){_.setDate(_.getDate()+y);var g=y>=0,w=!f.getHours()&&_.getHours(),b=_.getDate()<=f.getDate()||_.getMonth()<f.getMonth()||_.getFullYear()<f.getFullYear();return g&&w&&b&&_.setTime(_.getTime()+36e5*(24-_.getHours())),y>1&&w&&_.setHours(0),_},add:function(_,y,f){var g=new Date(_.valueOf());switch(f){case"day":g=this._add_days(g,y,_);break;case"week":g=this._add_days(g,7*y,_);break;case"month":g.setMonth(g.getMonth()+y);break;case"year":g.setYear(g.getFullYear()+y);break;case"hour":g.setTime(g.getTime()+60*y*60*1e3);break;case"minute":g.setTime(g.getTime()+60*y*1e3);break;default:return this["add_"+f](_,y,f)}return g},add_quarter:function(_,y){return this.add(_,3*y,"month")},to_fixed:function(_){return _<10?"0"+_:_},copy:function(_){return new Date(_.valueOf())},date_to_str:function(_,y){var f=I;return C()&&(f=O),f.date_to_str(_,y,S)},str_to_date:function(_,y){var f=I;return C()&&(f=O),f.str_to_date(_,y,S)},getISOWeek:function(_){return S.date._getWeekNumber(_,!0)},_getWeekNumber:function(_,y){if(!_)return!1;var f=_.getDay();y&&0===f&&(f=7);var g=new Date(_.valueOf());g.setDate(_.getDate()+(4-f));var w=g.getFullYear(),b=Math.round((g.getTime()-new Date(w,0,1).getTime())/864e5);return 1+Math.floor(b/7)},getWeek:function(_){return S.date._getWeekNumber(_,S.config.start_on_monday)},getUTCISOWeek:function(_){return S.date.getISOWeek(_)},convert_to_utc:function(_){return new Date(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate(),_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds())},parseDate:function(_,y){return _&&!_.getFullYear&&("function"!=typeof y&&(y="string"==typeof y?"parse_date"===y||"xml_date"===y?S.defined(S.templates.xml_date)?S.templates.xml_date:S.templates.parse_date:S.defined(S.templates[y])?S.templates[y]:S.date.str_to_date(y):S.defined(S.templates.xml_date)?S.templates.xml_date:S.templates.parse_date),_=_?y(_):null),_}}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date_to_str:function(O,S,D){O=O.replace(/%[a-zA-Z]/g,function(_){switch(_){case"%d":return'"+to_fixed(date.get'+(S?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(S?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(S?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(S?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(S?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(S?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(S?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(S?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(S?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(S?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(S?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(S?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(S?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(S?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(S?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(S?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(S?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(S?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return _}});var C=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+O+'";');return function(_){return C(_,D.date.to_fixed,D.locale,D.date.getISOWeek,D.date.getWeek)}},str_to_date:function(O,S,D){for(var C="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",_=O.match(/%[a-zA-Z]/g),y=0;y<_.length;y++)switch(_[y]){case"%j":case"%d":C+="set[2]=temp["+y+"]||1;";break;case"%n":case"%m":C+="set[1]=(temp["+y+"]||1)-1;";break;case"%y":C+="set[0]=temp["+y+"]*1+(temp["+y+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":C+="set[3]=temp["+y+"]||0;";break;case"%i":C+="set[4]=temp["+y+"]||0;";break;case"%Y":C+="set[0]=temp["+y+"]||0;";break;case"%a":case"%A":C+="set[3]=set[3]%12+((temp["+y+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":C+="set[5]=temp["+y+"]||0;";break;case"%M":C+="set[1]=locale.date.month_short_hash[temp["+y+"]]||0;";break;case"%F":C+="set[1]=locale.date.month_full_hash[temp["+y+"]]||0;"}var f="set[0],set[1],set[2],set[3],set[4],set[5]";S&&(f=" Date.UTC("+f+")");var g=new Function("date","locale","var set=[0,0,1,0,0,0]; "+C+" return new Date("+f+");");return function(w){return g(w,D.locale)}}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date_to_str:function(O,S,D){return function(C){return O.replace(/%[a-zA-Z]/g,function(_){switch(_){case"%d":return D.date.to_fixed(S?C.getUTCDate():C.getDate());case"%m":return D.date.to_fixed(S?C.getUTCMonth()+1:C.getMonth()+1);case"%j":return S?C.getUTCDate():C.getDate();case"%n":return S?C.getUTCMonth()+1:C.getMonth()+1;case"%y":return D.date.to_fixed(S?C.getUTCFullYear()%100:C.getFullYear()%100);case"%Y":return S?C.getUTCFullYear():C.getFullYear();case"%D":return S?D.locale.date.day_short[C.getUTCDay()]:D.locale.date.day_short[C.getDay()];case"%l":return S?D.locale.date.day_full[C.getUTCDay()]:D.locale.date.day_full[C.getDay()];case"%M":return S?D.locale.date.month_short[C.getUTCMonth()]:D.locale.date.month_short[C.getMonth()];case"%F":return S?D.locale.date.month_full[C.getUTCMonth()]:D.locale.date.month_full[C.getMonth()];case"%h":return D.date.to_fixed(S?(C.getUTCHours()+11)%12+1:(C.getHours()+11)%12+1);case"%g":return S?(C.getUTCHours()+11)%12+1:(C.getHours()+11)%12+1;case"%G":return S?C.getUTCHours():C.getHours();case"%H":return D.date.to_fixed(S?C.getUTCHours():C.getHours());case"%i":return D.date.to_fixed(S?C.getUTCMinutes():C.getMinutes());case"%a":return S?C.getUTCHours()>11?"pm":"am":C.getHours()>11?"pm":"am";case"%A":return S?C.getUTCHours()>11?"PM":"AM":C.getHours()>11?"PM":"AM";case"%s":return D.date.to_fixed(S?C.getUTCSeconds():C.getSeconds());case"%W":return D.date.to_fixed(S?D.date.getUTCISOWeek(C):D.date.getISOWeek(C));default:return _}})}},str_to_date:function(O,S,D){return function(C){for(var _=[0,0,1,0,0,0],y=C.match(/[a-zA-Z]+|[0-9]+/g),f=O.match(/%[a-zA-Z]/g),g=0;g<f.length;g++)switch(f[g]){case"%j":case"%d":_[2]=y[g]||1;break;case"%n":case"%m":_[1]=(y[g]||1)-1;break;case"%y":_[0]=1*y[g]+(y[g]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":_[3]=y[g]||0;break;case"%i":_[4]=y[g]||0;break;case"%Y":_[0]=y[g]||0;break;case"%a":case"%A":_[3]=_[3]%12+("am"===(y[g]||"").toLowerCase()?0:12);break;case"%s":_[5]=y[g]||0;break;case"%M":_[1]=D.locale.date.month_short_hash[y[g]]||0;break;case"%F":_[1]=D.locale.date.month_full_hash[y[g]]||0}return S?new Date(Date.UTC(_[0],_[1],_[2],_[3],_[4],_[5])):new Date(_[0],_[1],_[2],_[3],_[4],_[5])}}}},function(z,J,k){var I=k(4),O=k(0),S=k(30),D=k(12),C=k(1);z.exports=function(_){function y(g){return{target:g.target||g.srcElement,pageX:g.pageX,pageY:g.pageY,clientX:g.clientX,clientY:g.clientY,metaKey:g.metaKey,shiftKey:g.shiftKey,ctrlKey:g.ctrlKey,altKey:g.altKey}}function f(g,w){this._obj=g,this._settings=w||{},I(this);var b=this.getInputMethods();this._drag_start_timer=null,_.attachEvent("onGanttScroll",O.bind(function(E,G){this.clearDragTimer()},this));for(var T={passive:!1},P=0;P<b.length;P++)O.bind(function(E){_.event(g,E.down,O.bind(function(H){E.accessor(H)&&(w.preventDefault&&w.selector&&C.closest(H.target,w.selector)&&H.preventDefault(),_.config.touch&&H.timeStamp&&H.timeStamp-0<300||(this._settings.original_target=y(H),_.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(O.bind(function(){_.getState().lightbox||this.dragStart(g,H,E)},this),_.config.touch_drag)):this.dragStart(g,H,E)))},this),T);var G=document.body;_.event(G,E.up,O.bind(function(H){E.accessor(H)&&this.clearDragTimer()},this),T)},this)(b[P])}return f.prototype={traceDragEvents:function(g,w){var b=O.bind(function($){return this.dragMove(g,$,w.accessor)},this);O.bind(function($){return this.dragScroll(g,$)},this);var T=O.bind(function($){if(!this.config.started||!O.defined(this.config.updates_per_second)||S(this,this.config.updates_per_second)){var j=b($);if(j)try{$&&$.preventDefault&&$.cancelable&&$.preventDefault()}catch(Q){}return j}},this),P=C.getRootNode(_.$root),E=this.config.mousemoveContainer||C.getRootNode(_.$root),G={passive:!1},H=O.bind(function($){return _.eventRemove(E,w.move,T),_.eventRemove(P,w.up,H,G),this.dragEnd(g)},this);_.event(E,w.move,T,G),_.event(P,w.up,H,G)},checkPositionChange:function(g){var b=g.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(g.x-this.config.pos.x),2)+Math.pow(Math.abs(b),2))>this.config.sensitivity},initDnDMarker:function(){var g=this.config.marker=document.createElement("div");g.className="gantt_drag_marker",g.innerHTML="",document.body.appendChild(g)},backupEventTarget:function(g,w){if(_.config.touch){var b=w(g),T=b.target||b.srcElement,P=T.cloneNode(!0);this.config.original_target=y(b),this.config.original_target.target=P,this.config.backup_element=T,T.parentNode.appendChild(P),T.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(T)}},getInputMethods:function(){var g=[];if(g.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(b){return b}}),_.config.touch){var w=!0;try{document.createEvent("TouchEvent")}catch(b){w=!1}w?g.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(b){return b.touches&&b.touches.length>1?null:b.touches[0]?{target:document.elementFromPoint(b.touches[0].clientX,b.touches[0].clientY),pageX:b.touches[0].pageX,pageY:b.touches[0].pageY,clientX:b.touches[0].clientX,clientY:b.touches[0].clientY}:b}}):D.navigator.pointerEnabled?g.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(b){return"mouse"==b.pointerType?null:b}}):D.navigator.msPointerEnabled&&g.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(b){return b.pointerType==b.MSPOINTER_TYPE_MOUSE?null:b}})}return g},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(g,w,b){this.config&&this.config.started||(this.config={obj:g,marker:null,started:!1,pos:this.getPosition(w),sensitivity:4},this._settings&&O.mixin(this.config,this._settings,!0),this.traceDragEvents(g,b),_._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",_.config.touch&&this.dragMove(g,w,b.accessor))},dragMove:function(g,w,b){var T=b(w);if(!T)return!1;if(!this.config.marker&&!this.config.started){var P=this.getPosition(T);if(_.config.touch||this.checkPositionChange(P)){if(this.config.started=!0,this.config.ignore=!1,!1===this.callEvent("onBeforeDragStart",[g,this.config.original_target]))return this.config.ignore=!0,!1;this.backupEventTarget(w,b),this.initDnDMarker(),_._touch_feedback(),this.callEvent("onAfterDragStart",[g,this.config.original_target])}else this.config.ignore=!0}return!this.config.ignore&&(w.targetTouches&&!T.target?void 0:(T.pos=this.getPosition(T),this.config.marker.style.left=T.pos.x+"px",this.config.marker.style.top=T.pos.y+"px",this.callEvent("onDragMove",[g,T]),!0))},dragEnd:function(g){var w=this.config.backup_element;w&&w.parentNode&&w.parentNode.removeChild(w),_._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(g){var w=0,b=0;return g.pageX||g.pageY?(w=g.pageX,b=g.pageY):(g.clientX||g.clientY)&&(w=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=g.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:w,y:b}}},f}},function(z,J){z.exports=function(k){var I={};function O(S,D,C){C=C||S;var _=k.config,y=k.templates;k.config[S]&&I[C]!=_[S]&&(D&&y[C]||(y[C]=k.date.date_to_str(_[S]),I[C]=_[S]))}return{initTemplates:function(){var S=k.locale.labels;S.gantt_save_btn=S.icon_save,S.gantt_cancel_btn=S.icon_cancel,S.gantt_delete_btn=S.icon_delete;var D=k.date,C=D.date_to_str,_=k.config,y=C(_.xml_date||_.date_format,_.server_utc),f=D.str_to_date(_.xml_date||_.date_format,_.server_utc);O("date_scale",!0,void 0),O("date_grid",!0,"grid_date_format"),O("task_date",!0,void 0),k.mixin(k.templates,{xml_format:void 0,format_date:y,xml_date:void 0,parse_date:f,progress_text:function(g,w,b){return""},grid_header_class:function(g,w){return""},task_text:function(g,w,b){return b.text},task_class:function(g,w,b){return""},task_end_date:function(g){return k.templates.task_date(g)},grid_row_class:function(g,w,b){return""},task_row_class:function(g,w,b){return""},timeline_cell_class:function(g,w){return""},scale_cell_class:function(g){return""},scale_row_class:function(g){return""},grid_indent:function(g){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(g){return"<div class='gantt_tree_icon gantt_folder_"+(g.$open?"open":"closed")+"'></div>"},grid_file:function(g){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(g){return"<div class='gantt_tree_icon gantt_"+(g.$open?"close":"open")+"'></div>"},grid_blank:function(g){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(g,w,b){return w&&k.isUnscheduledTask(w)&&k.config.show_unscheduled?k.templates.task_unscheduled_time(w):k.templates.grid_date_format(g,b)},task_time:function(g,w,b){return k.isUnscheduledTask(b)&&k.config.show_unscheduled?k.templates.task_unscheduled_time(b):k.templates.task_date(g)+" - "+k.templates.task_end_date(w)},task_unscheduled_time:function(g){return""},time_picker:C(_.time_picker),link_class:function(g){return""},link_description:function(g){var w=k.getTask(g.source),b=k.getTask(g.target);return"<b>"+w.text+"</b> &ndash;  <b>"+b.text+"</b>"},drag_link:function(g,w,b,T){g=k.getTask(g);var P=k.locale.labels,E="<b>"+g.text+"</b> "+(w?P.link_start:P.link_end)+"<br/>";return b&&(E+="<b> "+(b=k.getTask(b)).text+"</b> "+(T?P.link_start:P.link_end)+"<br/>"),E},drag_link_class:function(g,w,b,T){var P="";return g&&b&&(P=" "+(k.isLinkAllowed(g,b,w,T)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+P},tooltip_date_format:D.date_to_str("%Y-%m-%d"),tooltip_text:function(g,w,b){return"<b>Task:</b> "+b.text+"<br/><b>Start date:</b> "+k.templates.tooltip_date_format(g)+"<br/><b>End date:</b> "+k.templates.tooltip_date_format(w)}})},initTemplate:O}}},function(z,J,k){var I=k(0);z.exports=function(){var O={};return{getState:function(S){if(O[S])return O[S].method();var D={};for(var C in O)O[C].internal||I.mixin(D,O[C].method(),!0);return D},registerProvider:function(S,D,C){O[S]={method:D,internal:C}},unregisterProvider:function(S){delete O[S]}}}},function(z,J,k){z.exports=k(107)},function(z,J,k){(function(I,O,S){var D,_,f;function y(f){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}f=function(){return function b(T,P,E){function G(j,Q){if(!P[j]){if(!T[j]){var Y="function"==typeof _dereq_&&_dereq_;if(!Q&&Y)return Y(j,!0);if(H)return H(j,!0);var ne=new Error("Cannot find module '"+j+"'");throw ne.code="MODULE_NOT_FOUND",ne}var oe=P[j]={exports:{}};T[j][0].call(oe.exports,function(te){return G(T[j][1][te]||te)},oe,oe.exports,b,T,P,E)}return P[j].exports}for(var H="function"==typeof _dereq_&&_dereq_,$=0;$<E.length;$++)G(E[$]);return G}({1:[function(b,T,P){"use strict";T.exports=function(E){var G=E._SomePromiseArray;function H($){var j=new G($),Q=j.promise();return j.setHowMany(1),j.setUnwrap(),j.init(),Q}E.any=function($){return H($)},E.prototype.any=function(){return H(this)}}},{}],2:[function(b,T,P){"use strict";var E;try{throw new Error}catch(ee){E=ee}var G=b("./schedule"),H=b("./queue"),$=b("./util");function j(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new H(16),this._normalQueue=new H(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var ee=this;this.drainQueues=function(){ee._drainQueues()},this._schedule=G}function Q(ee,le,he){this._lateQueue.push(ee,le,he),this._queueTick()}function Y(ee,le,he){this._normalQueue.push(ee,le,he),this._queueTick()}function ne(ee){this._normalQueue._pushOne(ee),this._queueTick()}function oe(ee){for(;ee.length()>0;)te(ee)}function te(ee){var le=ee.shift();if("function"!=typeof le)le._settlePromises();else{var he=ee.shift(),me=ee.shift();le.call(he,me)}}j.prototype.setScheduler=function(ee){var le=this._schedule;return this._schedule=ee,this._customScheduler=!0,le},j.prototype.hasCustomScheduler=function(){return this._customScheduler},j.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},j.prototype.disableTrampolineIfNecessary=function(){$.hasDevTools&&(this._trampolineEnabled=!1)},j.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},j.prototype.fatalError=function(ee,le){le?(I.stderr.write("Fatal "+(ee instanceof Error?ee.stack:ee)+"\n"),I.exit(2)):this.throwLater(ee)},j.prototype.throwLater=function(ee,le){if(1===arguments.length&&(le=ee,ee=function(){throw le}),"undefined"!=typeof setTimeout)setTimeout(function(){ee(le)},0);else try{this._schedule(function(){ee(le)})}catch(he){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},$.hasDevTools?(j.prototype.invokeLater=function(ee,le,he){this._trampolineEnabled?Q.call(this,ee,le,he):this._schedule(function(){setTimeout(function(){ee.call(le,he)},100)})},j.prototype.invoke=function(ee,le,he){this._trampolineEnabled?Y.call(this,ee,le,he):this._schedule(function(){ee.call(le,he)})},j.prototype.settlePromises=function(ee){this._trampolineEnabled?ne.call(this,ee):this._schedule(function(){ee._settlePromises()})}):(j.prototype.invokeLater=Q,j.prototype.invoke=Y,j.prototype.settlePromises=ne),j.prototype._drainQueues=function(){oe(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,oe(this._lateQueue)},j.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},j.prototype._reset=function(){this._isTickUsed=!1},T.exports=j,T.exports.firstLineError=E},{"./queue":26,"./schedule":29,"./util":36}],3:[function(b,T,P){"use strict";T.exports=function(E,G,H,$){var j=!1,Q=function(te,ee){this._reject(ee)},Y=function(te,ee){ee.promiseRejectionQueued=!0,ee.bindingPromise._then(Q,Q,null,this,te)},ne=function(te,ee){0==(50397184&this._bitField)&&this._resolveCallback(ee.target)},oe=function(te,ee){ee.promiseRejectionQueued||this._reject(te)};E.prototype.bind=function(te){j||(j=!0,E.prototype._propagateFrom=$.propagateFromFunction(),E.prototype._boundValue=$.boundValueFunction());var ee=H(te),le=new E(G);le._propagateFrom(this,1);var he=this._target();if(le._setBoundTo(ee),ee instanceof E){var me={promiseRejectionQueued:!1,promise:le,target:he,bindingPromise:ee};he._then(G,Y,void 0,le,me),ee._then(ne,oe,void 0,le,me),le._setOnCancel(ee)}else le._resolveCallback(he);return le},E.prototype._setBoundTo=function(te){void 0!==te?(this._bitField=2097152|this._bitField,this._boundTo=te):this._bitField=-2097153&this._bitField},E.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},E.bind=function(te,ee){return E.resolve(ee).bind(te)}}},{}],4:[function(b,T,P){"use strict";var E;"undefined"!=typeof Promise&&(E=Promise);var G=b("./promise")();G.noConflict=function(){try{Promise===G&&(Promise=E)}catch(H){}return G},T.exports=G},{"./promise":22}],5:[function(b,T,P){"use strict";var E=Object.create;if(E){var G=E(null),H=E(null);G[" size"]=H[" size"]=0}T.exports=function($){var j=b("./util"),Q=j.canEvaluate;function Y(te){return function(ee,le){var he;if(null!=ee&&(he=ee[le]),"function"!=typeof he){var me="Object "+j.classString(ee)+" has no method '"+j.toString(le)+"'";throw new $.TypeError(me)}return he}(te,this.pop()).apply(te,this)}function ne(te){return te[this]}function oe(te){var ee=+this;return ee<0&&(ee=Math.max(0,ee+te.length)),te[ee]}$.prototype.call=function(te){var ee=[].slice.call(arguments,1);return ee.push(te),this._then(Y,void 0,void 0,ee,void 0)},$.prototype.get=function(te){var ee;if("number"==typeof te)ee=oe;else if(Q){var le=(void 0)(te);ee=null!==le?le:ne}else ee=ne;return this._then(ee,void 0,void 0,te,void 0)}}},{"./util":36}],6:[function(b,T,P){"use strict";T.exports=function(E,G,H,$){var j=b("./util"),Q=j.tryCatch,Y=j.errorObj,ne=E._async;E.prototype.break=E.prototype.cancel=function(){if(!$.cancellation())return this._warn("cancellation is disabled");for(var oe=this,te=oe;oe._isCancellable();){if(!oe._cancelBy(te)){te._isFollowing()?te._followee().cancel():te._cancelBranched();break}var ee=oe._cancellationParent;if(null==ee||!ee._isCancellable()){oe._isFollowing()?oe._followee().cancel():oe._cancelBranched();break}oe._isFollowing()&&oe._followee().cancel(),oe._setWillBeCancelled(),te=oe,oe=ee}},E.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},E.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},E.prototype._cancelBy=function(oe){return oe===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},E.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},E.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),ne.invoke(this._cancelPromises,this,void 0))},E.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},E.prototype._unsetOnCancel=function(){this._onCancelField=void 0},E.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},E.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},E.prototype._doInvokeOnCancel=function(oe,te){if(j.isArray(oe))for(var ee=0;ee<oe.length;++ee)this._doInvokeOnCancel(oe[ee],te);else if(void 0!==oe)if("function"==typeof oe){if(!te){var le=Q(oe).call(this._boundValue());le===Y&&(this._attachExtraTrace(le.e),ne.throwLater(le.e))}}else oe._resultCancelled(this)},E.prototype._invokeOnCancel=function(){var oe=this._onCancel();this._unsetOnCancel(),ne.invoke(this._doInvokeOnCancel,this,oe)},E.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},E.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(b,T,P){"use strict";T.exports=function(E){var G=b("./util"),H=b("./es5").keys,$=G.tryCatch,j=G.errorObj;return function(Q,Y,ne){return function(oe){var te=ne._boundValue();e:for(var ee=0;ee<Q.length;++ee){var le=Q[ee];if(le===Error||null!=le&&le.prototype instanceof Error){if(oe instanceof le)return $(Y).call(te,oe)}else if("function"==typeof le){var he=$(le).call(te,oe);if(he===j)return he;if(he)return $(Y).call(te,oe)}else if(G.isObject(oe)){for(var me=H(le),ye=0;ye<me.length;++ye){var Se=me[ye];if(le[Se]!=oe[Se])continue e}return $(Y).call(te,oe)}}return E}}}},{"./es5":13,"./util":36}],8:[function(b,T,P){"use strict";T.exports=function(E){var G=!1,H=[];function $(){this._trace=new $.CapturedTrace(j())}function j(){var Q=H.length-1;if(Q>=0)return H[Q]}return E.prototype._promiseCreated=function(){},E.prototype._pushContext=function(){},E.prototype._popContext=function(){return null},E._peekContext=E.prototype._peekContext=function(){},$.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,H.push(this._trace))},$.prototype._popContext=function(){if(void 0!==this._trace){var Q=H.pop(),Y=Q._promiseCreated;return Q._promiseCreated=null,Y}return null},$.CapturedTrace=null,$.create=function(){if(G)return new $},$.deactivateLongStackTraces=function(){},$.activateLongStackTraces=function(){var Q=E.prototype._pushContext,Y=E.prototype._popContext,ne=E._peekContext,oe=E.prototype._peekContext,te=E.prototype._promiseCreated;$.deactivateLongStackTraces=function(){E.prototype._pushContext=Q,E.prototype._popContext=Y,E._peekContext=ne,E.prototype._peekContext=oe,E.prototype._promiseCreated=te,G=!1},G=!0,E.prototype._pushContext=$.prototype._pushContext,E.prototype._popContext=$.prototype._popContext,E._peekContext=E.prototype._peekContext=j,E.prototype._promiseCreated=function(){var ee=this._peekContext();ee&&null==ee._promiseCreated&&(ee._promiseCreated=this)}},$}},{}],9:[function(b,T,P){"use strict";T.exports=function(E,G){var H,$,j,Q=E._getDomain,Y=E._async,ne=b("./errors").Warning,oe=b("./util"),te=b("./es5"),ee=oe.canAttachTrace,le=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,he=/\((?:timers\.js):\d+:\d+\)/,me=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,ye=null,Se=null,Oe=!1,Ne=0!=oe.env("BLUEBIRD_DEBUG"),ke=!(0==oe.env("BLUEBIRD_WARNINGS")||!Ne&&!oe.env("BLUEBIRD_WARNINGS")),Ge=!(0==oe.env("BLUEBIRD_LONG_STACK_TRACES")||!Ne&&!oe.env("BLUEBIRD_LONG_STACK_TRACES")),je=0!=oe.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(ke||!!oe.env("BLUEBIRD_W_FORGOTTEN_RETURN"));E.prototype.suppressUnhandledRejections=function(){var Le=this._target();Le._bitField=-1048577&Le._bitField|524288},E.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var Le=this;setTimeout(function(){Le._notifyUnhandledRejection()},1)}},E.prototype._notifyUnhandledRejectionIsHandled=function(){de("rejectionHandled",H,void 0,this)},E.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},E.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},E.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Le=this._settledValue();this._setUnhandledRejectionIsNotified(),de("unhandledRejection",$,Le,this)}},E.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},E.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},E.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},E.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},E.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},E.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},E.prototype._warn=function(Le,ot,Pt){return rn(Le,ot,Pt||this)},E.onPossiblyUnhandledRejection=function(Le){var ot=Q();$="function"==typeof Le?null===ot?Le:oe.domainBind(ot,Le):void 0},E.onUnhandledRejectionHandled=function(Le){var ot=Q();H="function"==typeof Le?null===ot?Le:oe.domainBind(ot,Le):void 0};var rt=function(){};E.longStackTraces=function(){if(Y.haveItemsQueued()&&!Ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Ie.longStackTraces&&wo()){var Le=E.prototype._captureStackTrace,ot=E.prototype._attachExtraTrace,Pt=E.prototype._dereferenceTrace;Ie.longStackTraces=!0,rt=function(){if(Y.haveItemsQueued()&&!Ie.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");E.prototype._captureStackTrace=Le,E.prototype._attachExtraTrace=ot,E.prototype._dereferenceTrace=Pt,G.deactivateLongStackTraces(),Y.enableTrampoline(),Ie.longStackTraces=!1},E.prototype._captureStackTrace=Ti,E.prototype._attachExtraTrace=Ei,E.prototype._dereferenceTrace=st,G.activateLongStackTraces(),Y.disableTrampolineIfNecessary()}},E.hasLongStackTraces=function(){return Ie.longStackTraces&&wo()};var ze=function(){try{if("function"==typeof CustomEvent){var Le=new CustomEvent("CustomEvent");return oe.global.dispatchEvent(Le),function(ot,Pt){var at={detail:Pt,cancelable:!0};te.defineProperty(at,"promise",{value:Pt.promise}),te.defineProperty(at,"reason",{value:Pt.reason});var cn=new CustomEvent(ot.toLowerCase(),at);return!oe.global.dispatchEvent(cn)}}return"function"==typeof Event?(Le=new Event("CustomEvent"),oe.global.dispatchEvent(Le),function(ot,Pt){var at=new Event(ot.toLowerCase(),{cancelable:!0});return at.detail=Pt,te.defineProperty(at,"promise",{value:Pt.promise}),te.defineProperty(at,"reason",{value:Pt.reason}),!oe.global.dispatchEvent(at)}):((Le=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),oe.global.dispatchEvent(Le),function(ot,Pt){var at=document.createEvent("CustomEvent");return at.initCustomEvent(ot.toLowerCase(),!1,!0,Pt),!oe.global.dispatchEvent(at)})}catch(ot){}return function(){return!1}}(),qe=oe.isNode?function(){return I.emit.apply(I,arguments)}:oe.global?function(Le){var ot="on"+Le.toLowerCase(),Pt=oe.global[ot];return!!Pt&&(Pt.apply(oe.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function mt(Le,ot){return{promise:ot}}var bt={promiseCreated:mt,promiseFulfilled:mt,promiseRejected:mt,promiseResolved:mt,promiseCancelled:mt,promiseChained:function(Le,ot,Pt){return{promise:ot,child:Pt}},warning:function(Le,ot){return{warning:ot}},unhandledRejection:function(Le,ot,Pt){return{reason:ot,promise:Pt}},rejectionHandled:mt},Re=function(Le){var ot=!1;try{ot=qe.apply(null,arguments)}catch(at){Y.throwLater(at),ot=!0}var Pt=!1;try{Pt=ze(Le,bt[Le].apply(null,arguments))}catch(at){Y.throwLater(at),Pt=!0}return Pt||ot};function Nt(){return!1}function jn(Le,ot,Pt){var at=this;try{Le(ot,Pt,function(cn){if("function"!=typeof cn)throw new TypeError("onCancel must be a function, got: "+oe.toString(cn));at._attachCancellationCallback(cn)})}catch(cn){return cn}}function yt(Le){if(!this._isCancellable())return this;var ot=this._onCancel();void 0!==ot?oe.isArray(ot)?ot.push(Le):this._setOnCancel([ot,Le]):this._setOnCancel(Le)}function Fe(){return this._onCancelField}function $e(Le){this._onCancelField=Le}function nt(){this._cancellationParent=void 0,this._onCancelField=void 0}function wt(Le,ot){if(0!=(1&ot)){this._cancellationParent=Le;var Pt=Le._branchesRemainingToCancel;void 0===Pt&&(Pt=0),Le._branchesRemainingToCancel=Pt+1}0!=(2&ot)&&Le._isBound()&&this._setBoundTo(Le._boundTo)}E.config=function(Le){if("longStackTraces"in(Le=Object(Le))&&(Le.longStackTraces?E.longStackTraces():!Le.longStackTraces&&E.hasLongStackTraces()&&rt()),"warnings"in Le){var ot=Le.warnings;Ie.warnings=!!ot,je=Ie.warnings,oe.isObject(ot)&&"wForgottenReturn"in ot&&(je=!!ot.wForgottenReturn)}if("cancellation"in Le&&Le.cancellation&&!Ie.cancellation){if(Y.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");E.prototype._clearCancellationData=nt,E.prototype._propagateFrom=wt,E.prototype._onCancel=Fe,E.prototype._setOnCancel=$e,E.prototype._attachCancellationCallback=yt,E.prototype._execute=jn,jt=wt,Ie.cancellation=!0}return"monitoring"in Le&&(Le.monitoring&&!Ie.monitoring?(Ie.monitoring=!0,E.prototype._fireEvent=Re):!Le.monitoring&&Ie.monitoring&&(Ie.monitoring=!1,E.prototype._fireEvent=Nt)),E},E.prototype._fireEvent=Nt,E.prototype._execute=function(Le,ot,Pt){try{Le(ot,Pt)}catch(at){return at}},E.prototype._onCancel=function(){},E.prototype._setOnCancel=function(Le){},E.prototype._attachCancellationCallback=function(Le){},E.prototype._captureStackTrace=function(){},E.prototype._attachExtraTrace=function(){},E.prototype._dereferenceTrace=function(){},E.prototype._clearCancellationData=function(){},E.prototype._propagateFrom=function(Le,ot){};var jt=function(Le,ot){0!=(2&ot)&&Le._isBound()&&this._setBoundTo(Le._boundTo)};function nn(){var Le=this._boundTo;return void 0!==Le&&Le instanceof E?Le.isFulfilled()?Le.value():void 0:Le}function Ti(){this._trace=new xo(this._peekContext())}function Ei(Le,ot){if(ee(Le)){var Pt=this._trace;if(void 0!==Pt&&ot&&(Pt=Pt._parent),void 0!==Pt)Pt.attachExtraTrace(Le);else if(!Le.__stackCleaned__){var at=Kt(Le);oe.notEnumerableProp(Le,"stack",at.message+"\n"+at.stack.join("\n")),oe.notEnumerableProp(Le,"__stackCleaned__",!0)}}}function st(){this._trace=void 0}function rn(Le,ot,Pt){if(Ie.warnings){var at,cn=new ne(Le);if(ot)Pt._attachExtraTrace(cn);else if(Ie.longStackTraces&&(at=E._peekContext()))at.attachExtraTrace(cn);else{var tn=Kt(cn);cn.stack=tn.message+"\n"+tn.stack.join("\n")}Re("warning",cn)||ut(cn,"",!0)}}function tt(Le){for(var ot=[],Pt=0;Pt<Le.length;++Pt){var at=Le[Pt],cn="    (No stack trace)"===at||ye.test(at),tn=cn&&oi(at);cn&&!tn&&(Oe&&" "!==at.charAt(0)&&(at="    "+at),ot.push(at))}return ot}function Kt(Le){var ot=Le.stack,Pt=Le.toString();return ot="string"==typeof ot&&ot.length>0?function(at){for(var cn=at.stack.replace(/\s+$/g,"").split("\n"),tn=0;tn<cn.length;++tn){var St=cn[tn];if("    (No stack trace)"===St||ye.test(St))break}return tn>0&&"SyntaxError"!=at.name&&(cn=cn.slice(tn)),cn}(Le):["    (No stack trace)"],{message:Pt,stack:"SyntaxError"==Le.name?ot:tt(ot)}}function ut(Le,ot,Pt){var at;"undefined"!=typeof console&&(at=oe.isObject(Le)?ot+Se(Le.stack,Le):ot+String(Le),"function"==typeof j?j(at,Pt):"function"!=typeof console.log&&"object"!==y(console.log)||console.log(at))}function de(Le,ot,Pt,at){var cn=!1;try{"function"==typeof ot&&(cn=!0,"rejectionHandled"===Le?ot(at):ot(Pt,at))}catch(tn){Y.throwLater(tn)}"unhandledRejection"===Le?Re(Le,Pt,at)||cn||ut(Pt,"Unhandled rejection "):Re(Le,at)}function gn(Le){var ot,Pt;if("function"==typeof Le)ot="[function "+(Le.name||"anonymous")+"]";else{if(ot=Le&&"function"==typeof Le.toString?Le.toString():oe.toString(Le),/\[object [a-zA-Z0-9$_]+\]/.test(ot))try{ot=JSON.stringify(Le)}catch(Pt){}0===ot.length&&(ot="(empty array)")}return"(<"+((Pt=ot).length<41?Pt:Pt.substr(0,38)+"...")+">, no stack trace)"}function wo(){return"function"==typeof ds}var oi=function(){return!1},no=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function ha(Le){var ot=Le.match(no);if(ot)return{fileName:ot[1],line:parseInt(ot[2],10)}}function xo(Le){this._parent=Le,this._promisesCreated=0;var ot=this._length=1+(void 0===Le?0:Le._length);ds(this,xo),ot>32&&this.uncycle()}oe.inherits(xo,Error),G.CapturedTrace=xo,xo.prototype.uncycle=function(){var Le=this._length;if(!(Le<2)){for(var ot=[],Pt={},at=0,cn=this;void 0!==cn;++at)ot.push(cn),cn=cn._parent;for(at=(Le=this._length=at)-1;at>=0;--at){var tn=ot[at].stack;void 0===Pt[tn]&&(Pt[tn]=at)}for(at=0;at<Le;++at){var St=Pt[ot[at].stack];if(void 0!==St&&St!==at){St>0&&(ot[St-1]._parent=void 0,ot[St-1]._length=1),ot[at]._parent=void 0,ot[at]._length=1;var Fn=at>0?ot[at-1]:this;St<Le-1?(Fn._parent=ot[St+1],Fn._parent.uncycle(),Fn._length=Fn._parent._length+1):(Fn._parent=void 0,Fn._length=1);for(var Ni=Fn._length+1,vi=at-2;vi>=0;--vi)ot[vi]._length=Ni,Ni++;return}}}},xo.prototype.attachExtraTrace=function(Le){if(!Le.__stackCleaned__){this.uncycle();for(var ot=Kt(Le),Pt=ot.message,at=[ot.stack],cn=this;void 0!==cn;)at.push(tt(cn.stack.split("\n"))),cn=cn._parent;(function(tn){for(var St=tn[0],Fn=1;Fn<tn.length;++Fn){for(var Ni=tn[Fn],vi=St.length-1,Ns=St[vi],Wr=-1,fi=Ni.length-1;fi>=0;--fi)if(Ni[fi]===Ns){Wr=fi;break}for(fi=Wr;fi>=0&&St[vi]===Ni[fi];--fi)St.pop(),vi--;St=Ni}})(at),function(tn){for(var St=0;St<tn.length;++St)(0===tn[St].length||St+1<tn.length&&tn[St][0]===tn[St+1][0])&&(tn.splice(St,1),St--)}(at),oe.notEnumerableProp(Le,"stack",function(tn,St){for(var Fn=0;Fn<St.length-1;++Fn)St[Fn].push("From previous event:"),St[Fn]=St[Fn].join("\n");return Fn<St.length&&(St[Fn]=St[Fn].join("\n")),tn+"\n"+St.join("\n")}(Pt,at)),oe.notEnumerableProp(Le,"__stackCleaned__",!0)}};var ds=function(){var Le=/^\s*at\s*/,ot=function(tn,St){return"string"==typeof tn?tn:void 0!==St.name&&void 0!==St.message?St.toString():gn(St)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,ye=Le,Se=ot;var Pt=Error.captureStackTrace;return oi=function(tn){return le.test(tn)},function(tn,St){Error.stackTraceLimit+=6,Pt(tn,St),Error.stackTraceLimit-=6}}var at,cn=new Error;if("string"==typeof cn.stack&&cn.stack.split("\n")[0].indexOf("stackDetection@")>=0)return ye=/@/,Se=ot,Oe=!0,function(tn){tn.stack=(new Error).stack};try{throw new Error}catch(tn){at="stack"in tn}return"stack"in cn||!at||"number"!=typeof Error.stackTraceLimit?(Se=function(tn,St){return"string"==typeof tn?tn:"object"!==y(St)&&"function"!=typeof St||void 0===St.name||void 0===St.message?gn(St):St.toString()},null):(ye=Le,Se=ot,function(tn){Error.stackTraceLimit+=6;try{throw new Error}catch(St){tn.stack=St.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(j=function(Le){console.warn(Le)},oe.isNode&&I.stderr.isTTY?j=function(Le,ot){console.warn((ot?"\x1b[33m":"\x1b[31m")+Le+"\x1b[0m\n")}:oe.isNode||"string"!=typeof(new Error).stack||(j=function(Le,ot){console.warn("%c"+Le,ot?"color: darkorange":"color: red")}));var Ie={warnings:ke,longStackTraces:!1,cancellation:!1,monitoring:!1};return Ge&&E.longStackTraces(),{longStackTraces:function(){return Ie.longStackTraces},warnings:function(){return Ie.warnings},cancellation:function(){return Ie.cancellation},monitoring:function(){return Ie.monitoring},propagateFromFunction:function(){return jt},boundValueFunction:function(){return nn},checkForgottenReturns:function(Le,ot,Pt,at,cn){if(void 0===Le&&null!==ot&&je){if(void 0!==cn&&cn._returnedNonUndefined()||0==(65535&at._bitField))return;Pt&&(Pt+=" ");var tn="",St="";if(ot._trace){for(var Fn=ot._trace.stack.split("\n"),Ni=tt(Fn),vi=Ni.length-1;vi>=0;--vi){var Ns=Ni[vi];if(!he.test(Ns)){var Wr=Ns.match(me);Wr&&(tn="at "+Wr[1]+":"+Wr[2]+":"+Wr[3]+" ");break}}if(Ni.length>0){var fi=Ni[0];for(vi=0;vi<Fn.length;++vi)if(Fn[vi]===fi){vi>0&&(St="\n"+Fn[vi-1]);break}}}at._warn("a promise was created in a "+Pt+"handler "+tn+"but was not returned from it, see http://goo.gl/rRqMUw"+St,!0,ot)}},setBounds:function(Le,ot){if(wo()){for(var Pt,at,cn=Le.stack.split("\n"),tn=ot.stack.split("\n"),St=-1,Fn=-1,Ni=0;Ni<cn.length;++Ni)if(vi=ha(cn[Ni])){Pt=vi.fileName,St=vi.line;break}for(Ni=0;Ni<tn.length;++Ni){var vi;if(vi=ha(tn[Ni])){at=vi.fileName,Fn=vi.line;break}}St<0||Fn<0||!Pt||!at||Pt!==at||St>=Fn||(oi=function(Ns){if(le.test(Ns))return!0;var Wr=ha(Ns);return!!(Wr&&Wr.fileName===Pt&&St<=Wr.line&&Wr.line<=Fn)})}},warn:rn,deprecated:function(Le,ot){var Pt=Le+" is deprecated and will be removed in a future version.";return ot&&(Pt+=" Use "+ot+" instead."),rn(Pt)},CapturedTrace:xo,fireDomEvent:ze,fireGlobalEvent:qe}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(b,T,P){"use strict";T.exports=function(E){function G(){return this.value}function H(){throw this.reason}E.prototype.return=E.prototype.thenReturn=function($){return $ instanceof E&&$.suppressUnhandledRejections(),this._then(G,void 0,void 0,{value:$},void 0)},E.prototype.throw=E.prototype.thenThrow=function($){return this._then(H,void 0,void 0,{reason:$},void 0)},E.prototype.catchThrow=function($){if(arguments.length<=1)return this._then(void 0,H,void 0,{reason:$},void 0);var j=arguments[1];return this.caught($,function(){throw j})},E.prototype.catchReturn=function($){if(arguments.length<=1)return $ instanceof E&&$.suppressUnhandledRejections(),this._then(void 0,G,void 0,{value:$},void 0);var j=arguments[1];return j instanceof E&&j.suppressUnhandledRejections(),this.caught($,function(){return j})}}},{}],11:[function(b,T,P){"use strict";T.exports=function(E,G){var H=E.reduce,$=E.all;function j(){return $(this)}E.prototype.each=function(Q){return H(this,Q,G,0)._then(j,void 0,void 0,this,void 0)},E.prototype.mapSeries=function(Q){return H(this,Q,G,G)},E.each=function(Q,Y){return H(Q,Y,G,0)._then(j,void 0,void 0,Q,void 0)},E.mapSeries=function(Q,Y){return H(Q,Y,G,G)}}},{}],12:[function(b,T,P){"use strict";var E,G,H=b("./es5"),$=H.freeze,j=b("./util"),Q=j.inherits,Y=j.notEnumerableProp;function ne(Ne,ke){function Ge(je){if(!(this instanceof Ge))return new Ge(je);Y(this,"message","string"==typeof je?je:ke),Y(this,"name",Ne),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return Q(Ge,Error),Ge}var oe=ne("Warning","warning"),te=ne("CancellationError","cancellation error"),ee=ne("TimeoutError","timeout error"),le=ne("AggregateError","aggregate error");try{E=TypeError,G=RangeError}catch(Ne){E=ne("TypeError","type error"),G=ne("RangeError","range error")}for(var he="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),me=0;me<he.length;++me)"function"==typeof Array.prototype[he[me]]&&(le.prototype[he[me]]=Array.prototype[he[me]]);H.defineProperty(le.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),le.prototype.isOperational=!0;var ye=0;function Se(Ne){if(!(this instanceof Se))return new Se(Ne);Y(this,"name","OperationalError"),Y(this,"message",Ne),this.cause=Ne,this.isOperational=!0,Ne instanceof Error?(Y(this,"message",Ne.message),Y(this,"stack",Ne.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}le.prototype.toString=function(){var Ne=Array(4*ye+1).join(" "),ke="\n"+Ne+"AggregateError of:\n";ye++,Ne=Array(4*ye+1).join(" ");for(var Ge=0;Ge<this.length;++Ge){for(var je=this[Ge]===this?"[Circular AggregateError]":this[Ge]+"",rt=je.split("\n"),ze=0;ze<rt.length;++ze)rt[ze]=Ne+rt[ze];ke+=(je=rt.join("\n"))+"\n"}return ye--,ke},Q(Se,Error);var Oe=Error.__BluebirdErrorTypes__;Oe||(Oe=$({CancellationError:te,TimeoutError:ee,OperationalError:Se,RejectionError:Se,AggregateError:le}),H.defineProperty(Error,"__BluebirdErrorTypes__",{value:Oe,writable:!1,enumerable:!1,configurable:!1})),T.exports={Error,TypeError:E,RangeError:G,CancellationError:Oe.CancellationError,OperationalError:Oe.OperationalError,TimeoutError:Oe.TimeoutError,AggregateError:Oe.AggregateError,Warning:oe}},{"./es5":13,"./util":36}],13:[function(b,T,P){var E=function(){"use strict";return void 0===this}();if(E)T.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:E,propertyIsWritable:function(Q,Y){var ne=Object.getOwnPropertyDescriptor(Q,Y);return!(ne&&!ne.writable&&!ne.set)}};else{var G={}.hasOwnProperty,H={}.toString,$={}.constructor.prototype,j=function(Q){var Y=[];for(var ne in Q)G.call(Q,ne)&&Y.push(ne);return Y};T.exports={isArray:function(Q){try{return"[object Array]"===H.call(Q)}catch(Y){return!1}},keys:j,names:j,defineProperty:function(Q,Y,ne){return Q[Y]=ne.value,Q},getDescriptor:function(Q,Y){return{value:Q[Y]}},freeze:function(Q){return Q},getPrototypeOf:function(Q){try{return Object(Q).constructor.prototype}catch(Y){return $}},isES5:E,propertyIsWritable:function(){return!0}}}},{}],14:[function(b,T,P){"use strict";T.exports=function(E,G){var H=E.map;E.prototype.filter=function($,j){return H(this,$,j,G)},E.filter=function($,j,Q){return H($,j,Q,G)}}},{}],15:[function(b,T,P){"use strict";T.exports=function(E,G,H){var $=b("./util"),j=E.CancellationError,Q=$.errorObj,Y=b("./catch_filter")(H);function ne(me,ye,Se){this.promise=me,this.type=ye,this.handler=Se,this.called=!1,this.cancelPromise=null}function oe(me){this.finallyHandler=me}function te(me,ye){return null!=me.cancelPromise&&(arguments.length>1?me.cancelPromise._reject(ye):me.cancelPromise._cancel(),me.cancelPromise=null,!0)}function ee(){return he.call(this,this.promise._target()._settledValue())}function le(me){if(!te(this,me))return Q.e=me,Q}function he(me){var ye=this.promise,Se=this.handler;if(!this.called){this.called=!0;var Oe=this.isFinallyHandler()?Se.call(ye._boundValue()):Se.call(ye._boundValue(),me);if(Oe===H)return Oe;if(void 0!==Oe){ye._setReturnedNonUndefined();var Ne=G(Oe,ye);if(Ne instanceof E){if(null!=this.cancelPromise){if(Ne._isCancelled()){var ke=new j("late cancellation observer");return ye._attachExtraTrace(ke),Q.e=ke,Q}Ne.isPending()&&Ne._attachCancellationCallback(new oe(this))}return Ne._then(ee,le,void 0,this,void 0)}}}return ye.isRejected()?(te(this),Q.e=me,Q):(te(this),me)}return ne.prototype.isFinallyHandler=function(){return 0===this.type},oe.prototype._resultCancelled=function(){te(this.finallyHandler)},E.prototype._passThrough=function(me,ye,Se,Oe){return"function"!=typeof me?this.then():this._then(Se,Oe,void 0,new ne(this,ye,me),void 0)},E.prototype.lastly=E.prototype.finally=function(me){return this._passThrough(me,0,he,he)},E.prototype.tap=function(me){return this._passThrough(me,1,he)},E.prototype.tapCatch=function(me){var ye=arguments.length;if(1===ye)return this._passThrough(me,1,void 0,he);var Se,Oe=new Array(ye-1),Ne=0;for(Se=0;Se<ye-1;++Se){var ke=arguments[Se];if(!$.isObject(ke))return E.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+$.classString(ke)));Oe[Ne++]=ke}return Oe.length=Ne,this._passThrough(Y(Oe,arguments[Se],this),1,void 0,he)},ne}},{"./catch_filter":7,"./util":36}],16:[function(b,T,P){"use strict";T.exports=function(E,G,H,$,j,Q){var Y=b("./errors").TypeError,ne=b("./util"),oe=ne.errorObj,te=ne.tryCatch,ee=[];function le(he,me,ye,Se){if(Q.cancellation()){var Oe=new E(H),Ne=this._finallyPromise=new E(H);this._promise=Oe.lastly(function(){return Ne}),Oe._captureStackTrace(),Oe._setOnCancel(this)}else(this._promise=new E(H))._captureStackTrace();this._stack=Se,this._generatorFunction=he,this._receiver=me,this._generator=void 0,this._yieldHandlers="function"==typeof ye?[ye].concat(ee):ee,this._yieldedPromise=null,this._cancellationPhase=!1}ne.inherits(le,j),le.prototype._isResolved=function(){return null===this._promise},le.prototype._cleanup=function(){this._promise=this._generator=null,Q.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},le.prototype._promiseCancelled=function(){if(!this._isResolved()){var he;if(void 0!==this._generator.return)this._promise._pushContext(),he=te(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var me=new E.CancellationError("generator .return() sentinel");E.coroutine.returnSentinel=me,this._promise._attachExtraTrace(me),this._promise._pushContext(),he=te(this._generator.throw).call(this._generator,me),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(he)}},le.prototype._promiseFulfilled=function(he){this._yieldedPromise=null,this._promise._pushContext();var me=te(this._generator.next).call(this._generator,he);this._promise._popContext(),this._continue(me)},le.prototype._promiseRejected=function(he){this._yieldedPromise=null,this._promise._attachExtraTrace(he),this._promise._pushContext();var me=te(this._generator.throw).call(this._generator,he);this._promise._popContext(),this._continue(me)},le.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof E){var he=this._yieldedPromise;this._yieldedPromise=null,he.cancel()}},le.prototype.promise=function(){return this._promise},le.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},le.prototype._continue=function(he){var me=this._promise;if(he===oe)return this._cleanup(),this._cancellationPhase?me.cancel():me._rejectCallback(he.e,!1);var ye=he.value;if(!0===he.done)return this._cleanup(),this._cancellationPhase?me.cancel():me._resolveCallback(ye);var Se=$(ye,this._promise);if(Se instanceof E||null!==(Se=function(Ne,ke,Ge){for(var je=0;je<ke.length;++je){Ge._pushContext();var rt=te(ke[je])(Ne);if(Ge._popContext(),rt===oe){Ge._pushContext();var ze=E.reject(oe.e);return Ge._popContext(),ze}var qe=$(rt,Ge);if(qe instanceof E)return qe}return null}(Se,this._yieldHandlers,this._promise))){var Oe=(Se=Se._target())._bitField;0==(50397184&Oe)?(this._yieldedPromise=Se,Se._proxy(this,null)):0!=(33554432&Oe)?E._async.invoke(this._promiseFulfilled,this,Se._value()):0!=(16777216&Oe)?E._async.invoke(this._promiseRejected,this,Se._reason()):this._promiseCancelled()}else this._promiseRejected(new Y("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(ye))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},E.coroutine=function(he,me){if("function"!=typeof he)throw new Y("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var ye=Object(me).yieldHandler,Se=le,Oe=(new Error).stack;return function(){var Ne=he.apply(this,arguments),ke=new Se(void 0,void 0,ye,Oe),Ge=ke.promise();return ke._generator=Ne,ke._promiseFulfilled(void 0),Ge}},E.coroutine.addYieldHandler=function(he){if("function"!=typeof he)throw new Y("expecting a function but got "+ne.classString(he));ee.push(he)},E.spawn=function(he){if(Q.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof he)return G("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var me=new le(he,this),ye=me.promise();return me._run(E.spawn),ye}}},{"./errors":12,"./util":36}],17:[function(b,T,P){"use strict";T.exports=function(E,G,H,$,j,Q){b("./util"),E.join=function(){var ne,oe=arguments.length-1;oe>0&&"function"==typeof arguments[oe]&&(ne=arguments[oe]);var te=[].slice.call(arguments);ne&&te.pop();var ee=new G(te).promise();return void 0!==ne?ee.spread(ne):ee}}},{"./util":36}],18:[function(b,T,P){"use strict";T.exports=function(E,G,H,$,j,Q){var Y=E._getDomain,ne=b("./util"),oe=ne.tryCatch,te=ne.errorObj,ee=E._async;function le(me,ye,Se,Oe){this.constructor$(me),this._promise._captureStackTrace();var Ne=Y();this._callback=null===Ne?ye:ne.domainBind(Ne,ye),this._preservedValues=Oe===j?new Array(this.length()):null,this._limit=Se,this._inFlight=0,this._queue=[],ee.invoke(this._asyncInit,this,void 0)}function he(me,ye,Se,Oe){if("function"!=typeof ye)return H("expecting a function but got "+ne.classString(ye));var Ne=0;if(void 0!==Se){if("object"!==y(Se)||null===Se)return E.reject(new TypeError("options argument must be an object but it is "+ne.classString(Se)));if("number"!=typeof Se.concurrency)return E.reject(new TypeError("'concurrency' must be a number but it is "+ne.classString(Se.concurrency)));Ne=Se.concurrency}return new le(me,ye,Ne="number"==typeof Ne&&isFinite(Ne)&&Ne>=1?Ne:0,Oe).promise()}ne.inherits(le,G),le.prototype._asyncInit=function(){this._init$(void 0,-2)},le.prototype._init=function(){},le.prototype._promiseFulfilled=function(me,ye){var Se=this._values,Oe=this.length(),Ne=this._preservedValues,ke=this._limit;if(ye<0){if(Se[ye=-1*ye-1]=me,ke>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(ke>=1&&this._inFlight>=ke)return Se[ye]=me,this._queue.push(ye),!1;null!==Ne&&(Ne[ye]=me);var Ge=this._promise,je=this._callback,rt=Ge._boundValue();Ge._pushContext();var ze=oe(je).call(rt,me,ye,Oe),qe=Ge._popContext();if(Q.checkForgottenReturns(ze,qe,null!==Ne?"Promise.filter":"Promise.map",Ge),ze===te)return this._reject(ze.e),!0;var mt=$(ze,this._promise);if(mt instanceof E){var bt=(mt=mt._target())._bitField;if(0==(50397184&bt))return ke>=1&&this._inFlight++,Se[ye]=mt,mt._proxy(this,-1*(ye+1)),!1;if(0==(33554432&bt))return 0!=(16777216&bt)?(this._reject(mt._reason()),!0):(this._cancel(),!0);ze=mt._value()}Se[ye]=ze}return++this._totalResolved>=Oe&&(null!==Ne?this._filter(Se,Ne):this._resolve(Se),!0)},le.prototype._drainQueue=function(){for(var me=this._queue,ye=this._limit,Se=this._values;me.length>0&&this._inFlight<ye;){if(this._isResolved())return;var Oe=me.pop();this._promiseFulfilled(Se[Oe],Oe)}},le.prototype._filter=function(me,ye){for(var Se=ye.length,Oe=new Array(Se),Ne=0,ke=0;ke<Se;++ke)me[ke]&&(Oe[Ne++]=ye[ke]);Oe.length=Ne,this._resolve(Oe)},le.prototype.preservedValues=function(){return this._preservedValues},E.prototype.map=function(me,ye){return he(this,me,ye,null)},E.map=function(me,ye,Se,Oe){return he(me,ye,Se,Oe)}}},{"./util":36}],19:[function(b,T,P){"use strict";T.exports=function(E,G,H,$,j){var Q=b("./util"),Y=Q.tryCatch;E.method=function(ne){if("function"!=typeof ne)throw new E.TypeError("expecting a function but got "+Q.classString(ne));return function(){var oe=new E(G);oe._captureStackTrace(),oe._pushContext();var te=Y(ne).apply(this,arguments),ee=oe._popContext();return j.checkForgottenReturns(te,ee,"Promise.method",oe),oe._resolveFromSyncValue(te),oe}},E.attempt=E.try=function(ne){if("function"!=typeof ne)return $("expecting a function but got "+Q.classString(ne));var oe,te=new E(G);if(te._captureStackTrace(),te._pushContext(),arguments.length>1){j.deprecated("calling Promise.try with more than 1 argument");var ee=arguments[1],le=arguments[2];oe=Q.isArray(ee)?Y(ne).apply(le,ee):Y(ne).call(le,ee)}else oe=Y(ne)();var he=te._popContext();return j.checkForgottenReturns(oe,he,"Promise.try",te),te._resolveFromSyncValue(oe),te},E.prototype._resolveFromSyncValue=function(ne){ne===Q.errorObj?this._rejectCallback(ne.e,!1):this._resolveCallback(ne,!0)}}},{"./util":36}],20:[function(b,T,P){"use strict";var E=b("./util"),G=E.maybeWrapAsError,H=b("./errors").OperationalError,$=b("./es5"),j=/^(?:name|message|stack|cause)$/;function Q(Y){var ne,le;if((le=Y)instanceof Error&&$.getPrototypeOf(le)===Error.prototype){(ne=new H(Y)).name=Y.name,ne.message=Y.message,ne.stack=Y.stack;for(var oe=$.keys(Y),te=0;te<oe.length;++te){var ee=oe[te];j.test(ee)||(ne[ee]=Y[ee])}return ne}return E.markAsOriginatingFromRejection(Y),Y}T.exports=function(Y,ne){return function(oe,te){if(null!==Y){if(oe){var ee=Q(G(oe));Y._attachExtraTrace(ee),Y._reject(ee)}else if(ne){var le=[].slice.call(arguments,1);Y._fulfill(le)}else Y._fulfill(te);Y=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(b,T,P){"use strict";T.exports=function(E){var G=b("./util"),H=E._async,$=G.tryCatch,j=G.errorObj;function Q(oe,te){if(!G.isArray(oe))return Y.call(this,oe,te);var ee=$(te).apply(this._boundValue(),[null].concat(oe));ee===j&&H.throwLater(ee.e)}function Y(oe,te){var ee=this._boundValue(),le=void 0===oe?$(te).call(ee,null):$(te).call(ee,null,oe);le===j&&H.throwLater(le.e)}function ne(oe,te){if(!oe){var ee=new Error(oe+"");ee.cause=oe,oe=ee}var le=$(te).call(this._boundValue(),oe);le===j&&H.throwLater(le.e)}E.prototype.asCallback=E.prototype.nodeify=function(oe,te){if("function"==typeof oe){var ee=Y;void 0!==te&&Object(te).spread&&(ee=Q),this._then(ee,ne,void 0,this,oe)}return this}}},{"./util":36}],22:[function(b,T,P){"use strict";T.exports=function(){var E=function(){return new le("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},G=function(){return new Re.PromiseInspection(this._target())},H=function(Fe){return Re.reject(new le(Fe))};function $(){}var j,Q={},Y=b("./util");Y.notEnumerableProp(Re,"_getDomain",j=Y.isNode?function(){var Fe=I.domain;return void 0===Fe&&(Fe=null),Fe}:function(){return null});var ne=b("./es5"),oe=b("./async"),te=new oe;ne.defineProperty(Re,"_async",{value:te});var ee=b("./errors"),le=Re.TypeError=ee.TypeError;Re.RangeError=ee.RangeError;var he=Re.CancellationError=ee.CancellationError;Re.TimeoutError=ee.TimeoutError,Re.OperationalError=ee.OperationalError,Re.RejectionError=ee.OperationalError,Re.AggregateError=ee.AggregateError;var me=function(){},ye={},Se={},Oe=b("./thenables")(Re,me),Ne=b("./promise_array")(Re,me,Oe,H,$),ke=b("./context")(Re),Ge=ke.create,je=b("./debuggability")(Re,ke),rt=b("./finally")(Re,Oe,Se),ze=b("./catch_filter")(Se),qe=b("./nodeback"),mt=Y.errorObj,bt=Y.tryCatch;function Re(Fe){Fe!==me&&function($e,nt){if(null==$e||$e.constructor!==Re)throw new le("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof nt)throw new le("expecting a function but got "+Y.classString(nt))}(this,Fe),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(Fe),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function Nt(Fe){this.promise._resolveCallback(Fe)}function jn(Fe){this.promise._rejectCallback(Fe,!1)}function yt(Fe){var $e=new Re(me);$e._fulfillmentHandler0=Fe,$e._rejectionHandler0=Fe,$e._promise0=Fe,$e._receiver0=Fe}return Re.prototype.toString=function(){return"[object Promise]"},Re.prototype.caught=Re.prototype.catch=function(Fe){var $e=arguments.length;if($e>1){var nt,wt=new Array($e-1),jt=0;for(nt=0;nt<$e-1;++nt){var nn=arguments[nt];if(!Y.isObject(nn))return H("Catch statement predicate: expecting an object but got "+Y.classString(nn));wt[jt++]=nn}return wt.length=jt,this.then(void 0,ze(wt,Fe=arguments[nt],this))}return this.then(void 0,Fe)},Re.prototype.reflect=function(){return this._then(G,G,void 0,this,void 0)},Re.prototype.then=function(Fe,$e){if(je.warnings()&&arguments.length>0&&"function"!=typeof Fe&&"function"!=typeof $e){var nt=".then() only accepts functions but was passed: "+Y.classString(Fe);arguments.length>1&&(nt+=", "+Y.classString($e)),this._warn(nt)}return this._then(Fe,$e,void 0,void 0,void 0)},Re.prototype.done=function(Fe,$e){this._then(Fe,$e,void 0,void 0,void 0)._setIsFinal()},Re.prototype.spread=function(Fe){return"function"!=typeof Fe?H("expecting a function but got "+Y.classString(Fe)):this.all()._then(Fe,void 0,void 0,ye,void 0)},Re.prototype.toJSON=function(){var Fe={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(Fe.fulfillmentValue=this.value(),Fe.isFulfilled=!0):this.isRejected()&&(Fe.rejectionReason=this.reason(),Fe.isRejected=!0),Fe},Re.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new Ne(this).promise()},Re.prototype.error=function(Fe){return this.caught(Y.originatesFromRejection,Fe)},Re.getNewLibraryCopy=T.exports,Re.is=function(Fe){return Fe instanceof Re},Re.fromNode=Re.fromCallback=function(Fe){var $e=new Re(me);$e._captureStackTrace();var nt=arguments.length>1&&!!Object(arguments[1]).multiArgs,wt=bt(Fe)(qe($e,nt));return wt===mt&&$e._rejectCallback(wt.e,!0),$e._isFateSealed()||$e._setAsyncGuaranteed(),$e},Re.all=function(Fe){return new Ne(Fe).promise()},Re.cast=function(Fe){var $e=Oe(Fe);return $e instanceof Re||(($e=new Re(me))._captureStackTrace(),$e._setFulfilled(),$e._rejectionHandler0=Fe),$e},Re.resolve=Re.fulfilled=Re.cast,Re.reject=Re.rejected=function(Fe){var $e=new Re(me);return $e._captureStackTrace(),$e._rejectCallback(Fe,!0),$e},Re.setScheduler=function(Fe){if("function"!=typeof Fe)throw new le("expecting a function but got "+Y.classString(Fe));return te.setScheduler(Fe)},Re.prototype._then=function(Fe,$e,nt,wt,jt){var nn=void 0!==jt,Ti=nn?jt:new Re(me),Ei=this._target(),st=Ei._bitField;nn||(Ti._propagateFrom(this,3),Ti._captureStackTrace(),void 0===wt&&0!=(2097152&this._bitField)&&(wt=0!=(50397184&st)?this._boundValue():Ei===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Ti));var rn=j();if(0!=(50397184&st)){var tt,Kt,ut=Ei._settlePromiseCtx;0!=(33554432&st)?(Kt=Ei._rejectionHandler0,tt=Fe):0!=(16777216&st)?(Kt=Ei._fulfillmentHandler0,tt=$e,Ei._unsetRejectionIsUnhandled()):(ut=Ei._settlePromiseLateCancellationObserver,Kt=new he("late cancellation observer"),Ei._attachExtraTrace(Kt),tt=$e),te.invoke(ut,Ei,{handler:null===rn?tt:"function"==typeof tt&&Y.domainBind(rn,tt),promise:Ti,receiver:wt,value:Kt})}else Ei._addCallbacks(Fe,$e,Ti,wt,rn);return Ti},Re.prototype._length=function(){return 65535&this._bitField},Re.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},Re.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},Re.prototype._setLength=function(Fe){this._bitField=-65536&this._bitField|65535&Fe},Re.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},Re.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},Re.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},Re.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},Re.prototype._isFinal=function(){return(4194304&this._bitField)>0},Re.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},Re.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},Re.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},Re.prototype._setAsyncGuaranteed=function(){te.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},Re.prototype._receiverAt=function(Fe){var $e=0===Fe?this._receiver0:this[4*Fe-4+3];if($e!==Q)return void 0===$e&&this._isBound()?this._boundValue():$e},Re.prototype._promiseAt=function(Fe){return this[4*Fe-4+2]},Re.prototype._fulfillmentHandlerAt=function(Fe){return this[4*Fe-4+0]},Re.prototype._rejectionHandlerAt=function(Fe){return this[4*Fe-4+1]},Re.prototype._boundValue=function(){},Re.prototype._migrateCallback0=function(Fe){var $e=Fe._fulfillmentHandler0,nt=Fe._rejectionHandler0,wt=Fe._promise0,jt=Fe._receiverAt(0);void 0===jt&&(jt=Q),this._addCallbacks($e,nt,wt,jt,null)},Re.prototype._migrateCallbackAt=function(Fe,$e){var nt=Fe._fulfillmentHandlerAt($e),wt=Fe._rejectionHandlerAt($e),jt=Fe._promiseAt($e),nn=Fe._receiverAt($e);void 0===nn&&(nn=Q),this._addCallbacks(nt,wt,jt,nn,null)},Re.prototype._addCallbacks=function(Fe,$e,nt,wt,jt){var nn=this._length();if(nn>=65531&&(nn=0,this._setLength(0)),0===nn)this._promise0=nt,this._receiver0=wt,"function"==typeof Fe&&(this._fulfillmentHandler0=null===jt?Fe:Y.domainBind(jt,Fe)),"function"==typeof $e&&(this._rejectionHandler0=null===jt?$e:Y.domainBind(jt,$e));else{var Ti=4*nn-4;this[Ti+2]=nt,this[Ti+3]=wt,"function"==typeof Fe&&(this[Ti+0]=null===jt?Fe:Y.domainBind(jt,Fe)),"function"==typeof $e&&(this[Ti+1]=null===jt?$e:Y.domainBind(jt,$e))}return this._setLength(nn+1),nn},Re.prototype._proxy=function(Fe,$e){this._addCallbacks(void 0,void 0,$e,Fe,null)},Re.prototype._resolveCallback=function(Fe,$e){if(0==(117506048&this._bitField)){if(Fe===this)return this._rejectCallback(E(),!1);var nt=Oe(Fe,this);if(!(nt instanceof Re))return this._fulfill(Fe);$e&&this._propagateFrom(nt,2);var wt=nt._target();if(wt!==this){var jt=wt._bitField;if(0==(50397184&jt)){var nn=this._length();nn>0&&wt._migrateCallback0(this);for(var Ti=1;Ti<nn;++Ti)wt._migrateCallbackAt(this,Ti);this._setFollowing(),this._setLength(0),this._setFollowee(wt)}else if(0!=(33554432&jt))this._fulfill(wt._value());else if(0!=(16777216&jt))this._reject(wt._reason());else{var Ei=new he("late cancellation observer");wt._attachExtraTrace(Ei),this._reject(Ei)}}else this._reject(E())}},Re.prototype._rejectCallback=function(Fe,$e,nt){var wt=Y.ensureErrorObject(Fe),jt=wt===Fe;if(!jt&&!nt&&je.warnings()){var nn="a promise was rejected with a non-error: "+Y.classString(Fe);this._warn(nn,!0)}this._attachExtraTrace(wt,!!$e&&jt),this._reject(Fe)},Re.prototype._resolveFromExecutor=function(Fe){if(Fe!==me){var $e=this;this._captureStackTrace(),this._pushContext();var nt=!0,wt=this._execute(Fe,function(jt){$e._resolveCallback(jt)},function(jt){$e._rejectCallback(jt,nt)});nt=!1,this._popContext(),void 0!==wt&&$e._rejectCallback(wt,!0)}},Re.prototype._settlePromiseFromHandler=function(Fe,$e,nt,wt){var jt=wt._bitField;if(0==(65536&jt)){var nn;wt._pushContext(),$e===ye?nt&&"number"==typeof nt.length?nn=bt(Fe).apply(this._boundValue(),nt):(nn=mt).e=new le("cannot .spread() a non-array: "+Y.classString(nt)):nn=bt(Fe).call($e,nt);var Ti=wt._popContext();0==(65536&(jt=wt._bitField))&&(nn===Se?wt._reject(nt):nn===mt?wt._rejectCallback(nn.e,!1):(je.checkForgottenReturns(nn,Ti,"",wt,this),wt._resolveCallback(nn)))}},Re.prototype._target=function(){for(var Fe=this;Fe._isFollowing();)Fe=Fe._followee();return Fe},Re.prototype._followee=function(){return this._rejectionHandler0},Re.prototype._setFollowee=function(Fe){this._rejectionHandler0=Fe},Re.prototype._settlePromise=function(Fe,$e,nt,wt){var jt=Fe instanceof Re,nn=this._bitField,Ti=0!=(134217728&nn);0!=(65536&nn)?(jt&&Fe._invokeInternalOnCancel(),nt instanceof rt&&nt.isFinallyHandler()?(nt.cancelPromise=Fe,bt($e).call(nt,wt)===mt&&Fe._reject(mt.e)):$e===G?Fe._fulfill(G.call(nt)):nt instanceof $?nt._promiseCancelled(Fe):jt||Fe instanceof Ne?Fe._cancel():nt.cancel()):"function"==typeof $e?jt?(Ti&&Fe._setAsyncGuaranteed(),this._settlePromiseFromHandler($e,nt,wt,Fe)):$e.call(nt,wt,Fe):nt instanceof $?nt._isResolved()||(0!=(33554432&nn)?nt._promiseFulfilled(wt,Fe):nt._promiseRejected(wt,Fe)):jt&&(Ti&&Fe._setAsyncGuaranteed(),0!=(33554432&nn)?Fe._fulfill(wt):Fe._reject(wt))},Re.prototype._settlePromiseLateCancellationObserver=function(Fe){var $e=Fe.handler,nt=Fe.promise,wt=Fe.receiver,jt=Fe.value;"function"==typeof $e?nt instanceof Re?this._settlePromiseFromHandler($e,wt,jt,nt):$e.call(wt,jt,nt):nt instanceof Re&&nt._reject(jt)},Re.prototype._settlePromiseCtx=function(Fe){this._settlePromise(Fe.promise,Fe.handler,Fe.receiver,Fe.value)},Re.prototype._settlePromise0=function(Fe,$e,nt){var wt=this._promise0,jt=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(wt,Fe,jt,$e)},Re.prototype._clearCallbackDataAtIndex=function(Fe){var $e=4*Fe-4;this[$e+2]=this[$e+3]=this[$e+0]=this[$e+1]=void 0},Re.prototype._fulfill=function(Fe){var $e=this._bitField;if(!((117506048&$e)>>>16)){if(Fe===this){var nt=E();return this._attachExtraTrace(nt),this._reject(nt)}this._setFulfilled(),this._rejectionHandler0=Fe,(65535&$e)>0&&(0!=(134217728&$e)?this._settlePromises():te.settlePromises(this),this._dereferenceTrace())}},Re.prototype._reject=function(Fe){var $e=this._bitField;if(!((117506048&$e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=Fe,this._isFinal())return te.fatalError(Fe,Y.isNode);(65535&$e)>0?te.settlePromises(this):this._ensurePossibleRejectionHandled()}},Re.prototype._fulfillPromises=function(Fe,$e){for(var nt=1;nt<Fe;nt++){var wt=this._fulfillmentHandlerAt(nt),jt=this._promiseAt(nt),nn=this._receiverAt(nt);this._clearCallbackDataAtIndex(nt),this._settlePromise(jt,wt,nn,$e)}},Re.prototype._rejectPromises=function(Fe,$e){for(var nt=1;nt<Fe;nt++){var wt=this._rejectionHandlerAt(nt),jt=this._promiseAt(nt),nn=this._receiverAt(nt);this._clearCallbackDataAtIndex(nt),this._settlePromise(jt,wt,nn,$e)}},Re.prototype._settlePromises=function(){var Fe=this._bitField,$e=65535&Fe;if($e>0){if(0!=(16842752&Fe)){var nt=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,nt,Fe),this._rejectPromises($e,nt)}else{var wt=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,wt,Fe),this._fulfillPromises($e,wt)}this._setLength(0)}this._clearCancellationData()},Re.prototype._settledValue=function(){var Fe=this._bitField;return 0!=(33554432&Fe)?this._rejectionHandler0:0!=(16777216&Fe)?this._fulfillmentHandler0:void 0},Re.defer=Re.pending=function(){return je.deprecated("Promise.defer","new Promise"),{promise:new Re(me),resolve:Nt,reject:jn}},Y.notEnumerableProp(Re,"_makeSelfResolutionError",E),b("./method")(Re,me,Oe,H,je),b("./bind")(Re,me,Oe,je),b("./cancel")(Re,Ne,H,je),b("./direct_resolve")(Re),b("./synchronous_inspection")(Re),b("./join")(Re,Ne,Oe,me,te,j),Re.Promise=Re,Re.version="3.5.4",b("./map.js")(Re,Ne,H,Oe,me,je),b("./call_get.js")(Re),b("./using.js")(Re,H,Oe,Ge,me,je),b("./timers.js")(Re,me,je),b("./generators.js")(Re,H,me,Oe,$,je),b("./nodeify.js")(Re),b("./promisify.js")(Re,me),b("./props.js")(Re,Ne,Oe,H),b("./race.js")(Re,me,Oe,H),b("./reduce.js")(Re,Ne,H,Oe,me,je),b("./settle.js")(Re,Ne,je),b("./some.js")(Re,Ne,H),b("./filter.js")(Re,me),b("./each.js")(Re,me),b("./any.js")(Re),Y.toFastProperties(Re),Y.toFastProperties(Re.prototype),yt({a:1}),yt({b:2}),yt({c:3}),yt(1),yt(function(){}),yt(void 0),yt(!1),yt(new Re(me)),je.setBounds(oe.firstLineError,Y.lastLineError),Re}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(b,T,P){"use strict";T.exports=function(E,G,H,$,j){var Q=b("./util");function Y(ne){var oe=this._promise=new E(G);ne instanceof E&&oe._propagateFrom(ne,3),oe._setOnCancel(this),this._values=ne,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return Q.inherits(Y,j),Y.prototype.length=function(){return this._length},Y.prototype.promise=function(){return this._promise},Y.prototype._init=function ne(oe,te){var ee=H(this._values,this._promise);if(ee instanceof E){var le=(ee=ee._target())._bitField;if(this._values=ee,0==(50397184&le))return this._promise._setAsyncGuaranteed(),ee._then(ne,this._reject,void 0,this,te);if(0==(33554432&le))return 0!=(16777216&le)?this._reject(ee._reason()):this._cancel();ee=ee._value()}if(null!==(ee=Q.asArray(ee)))0!==ee.length?this._iterate(ee):-5===te?this._resolveEmptyArray():this._resolve(function(me){switch(me){case-2:return[];case-3:return{};case-6:return new Map}}(te));else{var he=$("expecting an array or an iterable object but got "+Q.classString(ee)).reason();this._promise._rejectCallback(he,!1)}},Y.prototype._iterate=function(ne){var oe=this.getActualLength(ne.length);this._length=oe,this._values=this.shouldCopyValues()?new Array(oe):this._values;for(var te=this._promise,ee=!1,le=null,he=0;he<oe;++he){var me=H(ne[he],te);le=me instanceof E?(me=me._target())._bitField:null,ee?null!==le&&me.suppressUnhandledRejections():null!==le?0==(50397184&le)?(me._proxy(this,he),this._values[he]=me):ee=0!=(33554432&le)?this._promiseFulfilled(me._value(),he):0!=(16777216&le)?this._promiseRejected(me._reason(),he):this._promiseCancelled(he):ee=this._promiseFulfilled(me,he)}ee||te._setAsyncGuaranteed()},Y.prototype._isResolved=function(){return null===this._values},Y.prototype._resolve=function(ne){this._values=null,this._promise._fulfill(ne)},Y.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},Y.prototype._reject=function(ne){this._values=null,this._promise._rejectCallback(ne,!1)},Y.prototype._promiseFulfilled=function(ne,oe){return this._values[oe]=ne,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},Y.prototype._promiseCancelled=function(){return this._cancel(),!0},Y.prototype._promiseRejected=function(ne){return this._totalResolved++,this._reject(ne),!0},Y.prototype._resultCancelled=function(){if(!this._isResolved()){var ne=this._values;if(this._cancel(),ne instanceof E)ne.cancel();else for(var oe=0;oe<ne.length;++oe)ne[oe]instanceof E&&ne[oe].cancel()}},Y.prototype.shouldCopyValues=function(){return!0},Y.prototype.getActualLength=function(ne){return ne},Y}},{"./util":36}],24:[function(b,T,P){"use strict";T.exports=function(E,G){var H={},$=b("./util"),j=b("./nodeback"),Q=$.withAppended,Y=$.maybeWrapAsError,ne=$.canEvaluate,oe=b("./errors").TypeError,te={__isPromisified__:!0},ee=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),le=function(Ge){return $.isIdentifier(Ge)&&"_"!==Ge.charAt(0)&&"constructor"!==Ge};function he(Ge){return!ee.test(Ge)}function me(Ge){try{return!0===Ge.__isPromisified__}catch(je){return!1}}function ye(Ge,je,rt){var ze=$.getDataPropertyOrDefault(Ge,je+rt,te);return!!ze&&me(ze)}var Ne=ne?void 0:function(Ge,je,rt,ze,qe,mt){var bt=function(){return this}(),Re=Ge;function Nt(){var jn=je;je===H&&(jn=this);var yt=new E(G);yt._captureStackTrace();var Fe="string"==typeof Re&&this!==bt?this[Re]:Ge,$e=j(yt,mt);try{Fe.apply(jn,Q(arguments,$e))}catch(nt){yt._rejectCallback(Y(nt),!0,!0)}return yt._isFateSealed()||yt._setAsyncGuaranteed(),yt}return"string"==typeof Re&&(Ge=ze),$.notEnumerableProp(Nt,"__isPromisified__",!0),Nt};function ke(Ge,je,rt,ze,qe){for(var mt=new RegExp(function(Ge){return Ge.replace(/([$])/,"\\$")}(je)+"$"),bt=function Se(Ge,je,rt,ze){for(var qe=$.inheritedDataKeys(Ge),mt=[],bt=0;bt<qe.length;++bt){var Re=qe[bt],Nt=Ge[Re],jn=ze===le||le(Re);"function"!=typeof Nt||me(Nt)||ye(Ge,Re,je)||!ze(Re,Nt,Ge,jn)||mt.push(Re,Nt)}return function(yt,Fe,$e){for(var nt=0;nt<yt.length;nt+=2){var wt=yt[nt];if($e.test(wt))for(var jt=wt.replace($e,""),nn=0;nn<yt.length;nn+=2)if(yt[nn]===jt)throw new oe("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",Fe))}}(mt,je,rt),mt}(Ge,je,mt,rt),Re=0,Nt=bt.length;Re<Nt;Re+=2){var jn=bt[Re],yt=bt[Re+1],Fe=jn+je;if(ze===Ne)Ge[Fe]=Ne(jn,H,jn,yt,je,qe);else{var $e=ze(yt,function(){return Ne(jn,H,jn,yt,je,qe)});$.notEnumerableProp($e,"__isPromisified__",!0),Ge[Fe]=$e}}return $.toFastProperties(Ge),Ge}E.promisify=function(Ge,je){if("function"!=typeof Ge)throw new oe("expecting a function but got "+$.classString(Ge));if(me(Ge))return Ge;var ze,qe,rt=(ze=Ge,qe=void 0===(je=Object(je)).context?H:je.context,Ne(ze,qe,void 0,ze,null,!!je.multiArgs));return $.copyDescriptors(Ge,rt,he),rt},E.promisifyAll=function(Ge,je){if("function"!=typeof Ge&&"object"!==y(Ge))throw new oe("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var rt=!!(je=Object(je)).multiArgs,ze=je.suffix;"string"!=typeof ze&&(ze="Async");var qe=je.filter;"function"!=typeof qe&&(qe=le);var mt=je.promisifier;if("function"!=typeof mt&&(mt=Ne),!$.isIdentifier(ze))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var bt=$.inheritedDataKeys(Ge),Re=0;Re<bt.length;++Re){var Nt=Ge[bt[Re]];"constructor"!==bt[Re]&&$.isClass(Nt)&&(ke(Nt.prototype,ze,qe,mt,rt),ke(Nt,ze,qe,mt,rt))}return ke(Ge,ze,qe,mt,rt)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(b,T,P){"use strict";T.exports=function(E,G,H,$){var j,Q=b("./util"),Y=Q.isObject,ne=b("./es5");"function"==typeof Map&&(j=Map);var oe=function(){var le=0,he=0;function me(ye,Se){this[le]=ye,this[le+he]=Se,le++}return function(ye){he=ye.size,le=0;var Se=new Array(2*ye.size);return ye.forEach(me,Se),Se}}();function te(le){var he,me=!1;if(void 0!==j&&le instanceof j)he=oe(le),me=!0;else{var ye=ne.keys(le),Se=ye.length;he=new Array(2*Se);for(var Oe=0;Oe<Se;++Oe){var Ne=ye[Oe];he[Oe]=le[Ne],he[Oe+Se]=Ne}}this.constructor$(he),this._isMap=me,this._init$(void 0,me?-6:-3)}function ee(le){var he,me=H(le);return Y(me)?(he=me instanceof E?me._then(E.props,void 0,void 0,void 0,void 0):new te(me).promise(),me instanceof E&&he._propagateFrom(me,2),he):$("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}Q.inherits(te,G),te.prototype._init=function(){},te.prototype._promiseFulfilled=function(le,he){if(this._values[he]=le,++this._totalResolved>=this._length){var me;if(this._isMap)me=function(Ne){for(var ke=new j,Ge=Ne.length/2|0,je=0;je<Ge;++je)ke.set(Ne[Ge+je],Ne[je]);return ke}(this._values);else{me={};for(var ye=this.length(),Se=0,Oe=this.length();Se<Oe;++Se)me[this._values[Se+ye]]=this._values[Se]}return this._resolve(me),!0}return!1},te.prototype.shouldCopyValues=function(){return!1},te.prototype.getActualLength=function(le){return le>>1},E.prototype.props=function(){return ee(this)},E.props=function(le){return ee(le)}}},{"./es5":13,"./util":36}],26:[function(b,T,P){"use strict";function E(G){this._capacity=G,this._length=0,this._front=0}E.prototype._willBeOverCapacity=function(G){return this._capacity<G},E.prototype._pushOne=function(G){var H=this.length();this._checkCapacity(H+1),this[this._front+H&this._capacity-1]=G,this._length=H+1},E.prototype.push=function(G,H,$){var j=this.length()+3;if(this._willBeOverCapacity(j))return this._pushOne(G),this._pushOne(H),void this._pushOne($);var Q=this._front+j-3;this._checkCapacity(j);var Y=this._capacity-1;this[Q+0&Y]=G,this[Q+1&Y]=H,this[Q+2&Y]=$,this._length=j},E.prototype.shift=function(){var G=this._front,H=this[G];return this[G]=void 0,this._front=G+1&this._capacity-1,this._length--,H},E.prototype.length=function(){return this._length},E.prototype._checkCapacity=function(G){this._capacity<G&&this._resizeTo(this._capacity<<1)},E.prototype._resizeTo=function(G){var H=this._capacity;this._capacity=G,function($,j,Q,Y,ne){for(var oe=0;oe<ne;++oe)Q[oe+Y]=$[oe+0],$[oe+0]=void 0}(this,0,this,H,this._front+this._length&H-1)},T.exports=E},{}],27:[function(b,T,P){"use strict";T.exports=function(E,G,H,$){var j=b("./util");function Y(ne,oe){var te=H(ne);if(te instanceof E)return function(ne){return ne.then(function(oe){return Y(oe,ne)})}(te);if(null===(ne=j.asArray(ne)))return $("expecting an array or an iterable object but got "+j.classString(ne));var ee=new E(G);void 0!==oe&&ee._propagateFrom(oe,3);for(var le=ee._fulfill,he=ee._reject,me=0,ye=ne.length;me<ye;++me){var Se=ne[me];(void 0!==Se||me in ne)&&E.cast(Se)._then(le,he,void 0,ee,null)}return ee}E.race=function(ne){return Y(ne,void 0)},E.prototype.race=function(){return Y(this,void 0)}}},{"./util":36}],28:[function(b,T,P){"use strict";T.exports=function(E,G,H,$,j,Q){var Y=E._getDomain,ne=b("./util"),oe=ne.tryCatch;function te(ye,Se,Oe,Ne){this.constructor$(ye);var ke=Y();this._fn=null===ke?Se:ne.domainBind(ke,Se),void 0!==Oe&&(Oe=E.resolve(Oe))._attachCancellationCallback(this),this._initialValue=Oe,this._currentCancellable=null,this._eachValues=Ne===j?Array(this._length):0===Ne?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function ee(ye,Se){this.isFulfilled()?Se._resolve(ye):Se._reject(ye)}function le(ye,Se,Oe,Ne){return"function"!=typeof Se?H("expecting a function but got "+ne.classString(Se)):new te(ye,Se,Oe,Ne).promise()}function he(ye){this.accum=ye,this.array._gotAccum(ye);var Se=$(this.value,this.array._promise);return Se instanceof E?(this.array._currentCancellable=Se,Se._then(me,void 0,void 0,this,void 0)):me.call(this,Se)}function me(ye){var Se,Oe=this.array,Ne=Oe._promise,ke=oe(Oe._fn);Ne._pushContext(),(Se=void 0!==Oe._eachValues?ke.call(Ne._boundValue(),ye,this.index,this.length):ke.call(Ne._boundValue(),this.accum,ye,this.index,this.length))instanceof E&&(Oe._currentCancellable=Se);var Ge=Ne._popContext();return Q.checkForgottenReturns(Se,Ge,void 0!==Oe._eachValues?"Promise.each":"Promise.reduce",Ne),Se}ne.inherits(te,G),te.prototype._gotAccum=function(ye){null!=this._eachValues&&ye!==j&&this._eachValues.push(ye)},te.prototype._eachComplete=function(ye){return null!==this._eachValues&&this._eachValues.push(ye),this._eachValues},te.prototype._init=function(){},te.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},te.prototype.shouldCopyValues=function(){return!1},te.prototype._resolve=function(ye){this._promise._resolveCallback(ye),this._values=null},te.prototype._resultCancelled=function(ye){if(ye===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof E&&this._currentCancellable.cancel(),this._initialValue instanceof E&&this._initialValue.cancel())},te.prototype._iterate=function(ye){var Se,Oe;this._values=ye;var Ne=ye.length;if(void 0!==this._initialValue?(Se=this._initialValue,Oe=0):(Se=E.resolve(ye[0]),Oe=1),this._currentCancellable=Se,!Se.isRejected())for(;Oe<Ne;++Oe)Se=Se._then(he,void 0,void 0,{accum:null,value:ye[Oe],index:Oe,length:Ne,array:this},void 0);void 0!==this._eachValues&&(Se=Se._then(this._eachComplete,void 0,void 0,this,void 0)),Se._then(ee,ee,void 0,Se,this)},E.prototype.reduce=function(ye,Se){return le(this,ye,Se,null)},E.reduce=function(ye,Se,Oe,Ne){return le(ye,Se,Oe,Ne)}}},{"./util":36}],29:[function(b,T,P){"use strict";var E,Y,ne,oe,te,G=b("./util"),H=G.getNativePromise();if(G.isNode&&"undefined"==typeof MutationObserver){var $=O.setImmediate,j=I.nextTick;E=G.isRecentNode?function(Y){$.call(O,Y)}:function(Y){j.call(I,Y)}}else if("function"==typeof H&&"function"==typeof H.resolve){var Q=H.resolve();E=function(Y){Q.then(Y)}}else E="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==S?function(Y){S(Y)}:"undefined"!=typeof setTimeout?function(Y){setTimeout(Y,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(Y=document.createElement("div"),ne={attributes:!0},oe=!1,te=document.createElement("div"),new MutationObserver(function(){Y.classList.toggle("foo"),oe=!1}).observe(te,ne),function(ee){var le=new MutationObserver(function(){le.disconnect(),ee()});le.observe(Y,ne),oe||(oe=!0,te.classList.toggle("foo"))});T.exports=E},{"./util":36}],30:[function(b,T,P){"use strict";T.exports=function(E,G,H){var $=E.PromiseInspection;function j(Q){this.constructor$(Q)}b("./util").inherits(j,G),j.prototype._promiseResolved=function(Q,Y){return this._values[Q]=Y,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},j.prototype._promiseFulfilled=function(Q,Y){var ne=new $;return ne._bitField=33554432,ne._settledValueField=Q,this._promiseResolved(Y,ne)},j.prototype._promiseRejected=function(Q,Y){var ne=new $;return ne._bitField=16777216,ne._settledValueField=Q,this._promiseResolved(Y,ne)},E.settle=function(Q){return H.deprecated(".settle()",".reflect()"),new j(Q).promise()},E.prototype.settle=function(){return E.settle(this)}}},{"./util":36}],31:[function(b,T,P){"use strict";T.exports=function(E,G,H){var $=b("./util"),j=b("./errors").RangeError,Q=b("./errors").AggregateError,Y=$.isArray,ne={};function oe(ee){this.constructor$(ee),this._howMany=0,this._unwrap=!1,this._initialized=!1}function te(ee,le){if((0|le)!==le||le<0)return H("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var he=new oe(ee),me=he.promise();return he.setHowMany(le),he.init(),me}$.inherits(oe,G),oe.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var ee=Y(this._values);!this._isResolved()&&ee&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},oe.prototype.init=function(){this._initialized=!0,this._init()},oe.prototype.setUnwrap=function(){this._unwrap=!0},oe.prototype.howMany=function(){return this._howMany},oe.prototype.setHowMany=function(ee){this._howMany=ee},oe.prototype._promiseFulfilled=function(ee){return this._addFulfilled(ee),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},oe.prototype._promiseRejected=function(ee){return this._addRejected(ee),this._checkOutcome()},oe.prototype._promiseCancelled=function(){return this._values instanceof E||null==this._values?this._cancel():(this._addRejected(ne),this._checkOutcome())},oe.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var ee=new Q,le=this.length();le<this._values.length;++le)this._values[le]!==ne&&ee.push(this._values[le]);return ee.length>0?this._reject(ee):this._cancel(),!0}return!1},oe.prototype._fulfilled=function(){return this._totalResolved},oe.prototype._rejected=function(){return this._values.length-this.length()},oe.prototype._addRejected=function(ee){this._values.push(ee)},oe.prototype._addFulfilled=function(ee){this._values[this._totalResolved++]=ee},oe.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},oe.prototype._getRangeError=function(ee){return new j("Input array must contain at least "+this._howMany+" items but contains only "+ee+" items")},oe.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},E.some=function(ee,le){return te(ee,le)},E.prototype.some=function(ee){return te(this,ee)},E._SomePromiseArray=oe}},{"./errors":12,"./util":36}],32:[function(b,T,P){"use strict";T.exports=function(E){function G(oe){void 0!==oe?(oe=oe._target(),this._bitField=oe._bitField,this._settledValueField=oe._isFateSealed()?oe._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}G.prototype._settledValue=function(){return this._settledValueField};var H=G.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},$=G.prototype.error=G.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},j=G.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},Q=G.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},Y=G.prototype.isPending=function(){return 0==(50397184&this._bitField)},ne=G.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};G.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},E.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},E.prototype._isCancelled=function(){return this._target().__isCancelled()},E.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},E.prototype.isPending=function(){return Y.call(this._target())},E.prototype.isRejected=function(){return Q.call(this._target())},E.prototype.isFulfilled=function(){return j.call(this._target())},E.prototype.isResolved=function(){return ne.call(this._target())},E.prototype.value=function(){return H.call(this._target())},E.prototype.reason=function(){var oe=this._target();return oe._unsetRejectionIsUnhandled(),$.call(oe)},E.prototype._value=function(){return this._settledValue()},E.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},E.PromiseInspection=G}},{}],33:[function(b,T,P){"use strict";T.exports=function(E,G){var H=b("./util"),$=H.errorObj,j=H.isObject,Q={}.hasOwnProperty;return function(Y,ne){if(j(Y)){if(Y instanceof E)return Y;var oe=function(ee){try{return(le=ee).then}catch(le){return $.e=le,$}var le}(Y);if(oe===$){ne&&ne._pushContext();var te=E.reject(oe.e);return ne&&ne._popContext(),te}if("function"==typeof oe)return function(ee){try{return Q.call(ee,"_promise0")}catch(le){return!1}}(Y)?(te=new E(G),Y._then(te._fulfill,te._reject,void 0,te,null),te):function(ee,le,he){var me=new E(G),ye=me;he&&he._pushContext(),me._captureStackTrace(),he&&he._popContext();var Se=!0,Oe=H.tryCatch(le).call(ee,function(Ne){me&&(me._resolveCallback(Ne),me=null)},function(Ne){me&&(me._rejectCallback(Ne,Se,!0),me=null)});return Se=!1,me&&Oe===$&&(me._rejectCallback(Oe.e,!0,!0),me=null),ye}(Y,oe,ne)}return Y}}},{"./util":36}],34:[function(b,T,P){"use strict";T.exports=function(E,G,H){var $=b("./util"),j=E.TimeoutError;function Q(ee){this.handle=ee}Q.prototype._resultCancelled=function(){clearTimeout(this.handle)};var Y=function(ee){return ne(+this).thenReturn(ee)},ne=E.delay=function(ee,le){var he,me;return void 0!==le?(he=E.resolve(le)._then(Y,null,null,ee,void 0),H.cancellation()&&le instanceof E&&he._setOnCancel(le)):(he=new E(G),me=setTimeout(function(){he._fulfill()},+ee),H.cancellation()&&he._setOnCancel(new Q(me)),he._captureStackTrace()),he._setAsyncGuaranteed(),he};function oe(ee){return clearTimeout(this.handle),ee}function te(ee){throw clearTimeout(this.handle),ee}E.prototype.delay=function(ee){return ne(ee,this)},E.prototype.timeout=function(ee,le){var he,me;ee=+ee;var ye=new Q(setTimeout(function(){var Se,Oe,Ne,ke;he.isPending()&&(Se=he,Ne=me,ke="string"!=typeof(Oe=le)?Oe instanceof Error?Oe:new j("operation timed out"):new j(Oe),$.markAsOriginatingFromRejection(ke),Se._attachExtraTrace(ke),Se._reject(ke),null!=Ne&&Ne.cancel())},ee));return H.cancellation()?(me=this.then(),(he=me._then(oe,te,void 0,ye,void 0))._setOnCancel(ye)):he=this._then(oe,te,void 0,ye,void 0),he}}},{"./util":36}],35:[function(b,T,P){"use strict";T.exports=function(E,G,H,$,j,Q){var Y=b("./util"),ne=b("./errors").TypeError,oe=b("./util").inherits,te=Y.errorObj,ee=Y.tryCatch,le={};function he(ke){setTimeout(function(){throw ke},0)}function me(ke,Ge){var je=0,rt=ke.length,ze=new E(j);return function qe(){if(je>=rt)return ze._fulfill();var bt,Re,mt=(bt=ke[je++],(Re=H(bt))!==bt&&"function"==typeof bt._isDisposable&&"function"==typeof bt._getDisposer&&bt._isDisposable()&&Re._setDisposable(bt._getDisposer()),Re);if(mt instanceof E&&mt._isDisposable()){try{mt=H(mt._getDisposer().tryDispose(Ge),ke.promise)}catch(bt){return he(bt)}if(mt instanceof E)return mt._then(qe,he,null,null,null)}qe()}(),ze}function ye(ke,Ge,je){this._data=ke,this._promise=Ge,this._context=je}function Se(ke,Ge,je){this.constructor$(ke,Ge,je)}function Oe(ke){return ye.isDisposer(ke)?(this.resources[this.index]._setDisposable(ke),ke.promise()):ke}function Ne(ke){this.length=ke,this.promise=null,this[ke-1]=null}ye.prototype.data=function(){return this._data},ye.prototype.promise=function(){return this._promise},ye.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():le},ye.prototype.tryDispose=function(ke){var Ge=this.resource(),je=this._context;void 0!==je&&je._pushContext();var rt=Ge!==le?this.doDispose(Ge,ke):null;return void 0!==je&&je._popContext(),this._promise._unsetDisposable(),this._data=null,rt},ye.isDisposer=function(ke){return null!=ke&&"function"==typeof ke.resource&&"function"==typeof ke.tryDispose},oe(Se,ye),Se.prototype.doDispose=function(ke,Ge){return this.data().call(ke,ke,Ge)},Ne.prototype._resultCancelled=function(){for(var ke=this.length,Ge=0;Ge<ke;++Ge){var je=this[Ge];je instanceof E&&je.cancel()}},E.using=function(){var ke=arguments.length;if(ke<2)return G("you must pass at least 2 arguments to Promise.using");var Ge,je=arguments[ke-1];if("function"!=typeof je)return G("expecting a function but got "+Y.classString(je));var rt=!0;2===ke&&Array.isArray(arguments[0])?(ke=(Ge=arguments[0]).length,rt=!1):(Ge=arguments,ke--);for(var ze=new Ne(ke),qe=0;qe<ke;++qe){var mt=Ge[qe];if(ye.isDisposer(mt)){var bt=mt;(mt=mt.promise())._setDisposable(bt)}else{var Re=H(mt);Re instanceof E&&(mt=Re._then(Oe,null,null,{resources:ze,index:qe},void 0))}ze[qe]=mt}var Nt=new Array(ze.length);for(qe=0;qe<Nt.length;++qe)Nt[qe]=E.resolve(ze[qe]).reflect();var jn=E.all(Nt).then(function(Fe){for(var $e=0;$e<Fe.length;++$e){var nt=Fe[$e];if(nt.isRejected())return te.e=nt.error(),te;if(!nt.isFulfilled())return void jn.cancel();Fe[$e]=nt.value()}yt._pushContext(),je=ee(je);var wt=rt?je.apply(void 0,Fe):je(Fe),jt=yt._popContext();return Q.checkForgottenReturns(wt,jt,"Promise.using",yt),wt}),yt=jn.lastly(function(){var Fe=new E.PromiseInspection(jn);return me(ze,Fe)});return ze.promise=yt,yt._setOnCancel(ze),yt},E.prototype._setDisposable=function(ke){this._bitField=131072|this._bitField,this._disposer=ke},E.prototype._isDisposable=function(){return(131072&this._bitField)>0},E.prototype._getDisposer=function(){return this._disposer},E.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},E.prototype.disposer=function(ke){if("function"==typeof ke)return new Se(ke,this,$());throw new ne}}},{"./errors":12,"./util":36}],36:[function(b,T,P){"use strict";var $,E=b("./es5"),G="undefined"==typeof navigator,H={e:{}},j="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==O?O:void 0!==this?this:null;function Q(){try{var st=$;return $=null,st.apply(this,arguments)}catch(rn){return H.e=rn,H}}function oe(st){return null==st||!0===st||!1===st||"string"==typeof st||"number"==typeof st}function me(st,rn,tt){return oe(st)||E.defineProperty(st,rn,{value:tt,configurable:!0,enumerable:!1,writable:!0}),st}var Se=function(){var st=[Array.prototype,Object.prototype,Function.prototype],rn=function(ut){for(var de=0;de<st.length;++de)if(st[de]===ut)return!0;return!1};if(E.isES5){var tt=Object.getOwnPropertyNames;return function(ut){for(var de=[],gn=Object.create(null);null!=ut&&!rn(ut);){var wo;try{wo=tt(ut)}catch(xo){return de}for(var oi=0;oi<wo.length;++oi){var no=wo[oi];if(!gn[no]){gn[no]=!0;var ha=Object.getOwnPropertyDescriptor(ut,no);null!=ha&&null==ha.get&&null==ha.set&&de.push(no)}}ut=E.getPrototypeOf(ut)}return de}}var Kt={}.hasOwnProperty;return function(ut){if(rn(ut))return[];var de=[];e:for(var gn in ut)if(Kt.call(ut,gn))de.push(gn);else{for(var wo=0;wo<st.length;++wo)if(Kt.call(st[wo],gn))continue e;de.push(gn)}return de}}(),Oe=/this\s*\.\s*\S+\s*=/;var Ge=/^[a-z$_][a-z$_0-9]*$/i;function ze(st){try{return st+""}catch(rn){return"[no string representation]"}}function qe(st){return st instanceof Error||null!==st&&"object"===y(st)&&"string"==typeof st.message&&"string"==typeof st.name}function Re(st){return qe(st)&&E.propertyIsWritable(st,"stack")}var Nt="stack"in new Error?function(st){return Re(st)?st:new Error(ze(st))}:function(st){if(Re(st))return st;try{throw new Error(ze(st))}catch(rn){return rn}};function jn(st){return{}.toString.call(st)}var Fe=function(st){return E.isArray(st)?st:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var $e="function"==typeof Array.from?function(st){return Array.from(st)}:function(st){for(var rn,tt=[],Kt=st[Symbol.iterator]();!(rn=Kt.next()).done;)tt.push(rn.value);return tt};Fe=function(st){return E.isArray(st)?st:null!=st&&"function"==typeof st[Symbol.iterator]?$e(st):null}}var nt=void 0!==I&&"[object process]"===jn(I).toLowerCase(),wt=void 0!==I&&void 0!==I.env;var st,Ei={isClass:function Ne(st){try{if("function"==typeof st){var rn=E.names(st.prototype),tt=E.isES5&&rn.length>1,Kt=rn.length>0&&!(1===rn.length&&"constructor"===rn[0]),ut=Oe.test(st+"")&&E.names(st).length>0;if(tt||Kt||ut)return!0}return!1}catch(de){return!1}},isIdentifier:function je(st){return Ge.test(st)},inheritedDataKeys:Se,getDataPropertyOrDefault:function he(st,rn,tt){if(!E.isES5)return{}.hasOwnProperty.call(st,rn)?st[rn]:void 0;var Kt=Object.getOwnPropertyDescriptor(st,rn);return null!=Kt?null==Kt.get&&null==Kt.set?Kt.value:tt:void 0},thrower:function ye(st){throw st},isArray:E.isArray,asArray:Fe,notEnumerableProp:me,isPrimitive:oe,isObject:function te(st){return"function"==typeof st||"object"===y(st)&&null!==st},isError:qe,canEvaluate:G,errorObj:H,tryCatch:function Y(st){return $=st,Q},inherits:function(st,rn){var tt={}.hasOwnProperty;function Kt(){for(var ut in this.constructor=st,this.constructor$=rn,rn.prototype)tt.call(rn.prototype,ut)&&"$"!==ut.charAt(ut.length-1)&&(this[ut+"$"]=rn.prototype[ut])}return Kt.prototype=rn.prototype,st.prototype=new Kt,st.prototype},withAppended:function le(st,rn){var tt,Kt=st.length,ut=new Array(Kt+1);for(tt=0;tt<Kt;++tt)ut[tt]=st[tt];return ut[tt]=rn,ut},maybeWrapAsError:function ee(st){return oe(st)?new Error(ze(st)):st},toFastProperties:function ke(st){function rn(){}rn.prototype=st;var tt=new rn;function Kt(){return y(tt.foo)}return Kt(),Kt(),st},filledRange:function rt(st,rn,tt){for(var Kt=new Array(st),ut=0;ut<st;++ut)Kt[ut]=rn+ut+tt;return Kt},toString:ze,canAttachTrace:Re,ensureErrorObject:Nt,originatesFromRejection:function bt(st){return null!=st&&(st instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===st.isOperational)},markAsOriginatingFromRejection:function mt(st){try{me(st,"isOperational",!0)}catch(rn){}},classString:jn,copyDescriptors:function yt(st,rn,tt){for(var Kt=E.names(st),ut=0;ut<Kt.length;++ut){var de=Kt[ut];if(tt(de))try{E.defineProperty(rn,de,E.getDescriptor(st,de))}catch(gn){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:nt,hasEnvVariables:wt,env:function jt(st){return wt?I.env[st]:void 0},global:j,getNativePromise:function nn(){if("function"==typeof Promise)try{var st=new Promise(function(){});if("[object Promise]"==={}.toString.call(st))return Promise}catch(rn){}},domainBind:function Ti(st,rn){return st.bind(rn)}};Ei.isRecentNode=Ei.isNode&&(I.versions&&I.versions.node?st=I.versions.node.split(".").map(Number):I.version&&(st=I.version.split(".").map(Number)),0===st[0]&&st[1]>10||st[0]>0),Ei.isNode&&Ei.toFastProperties(I);try{throw new Error}catch(st){Ei.lastLineError=st}T.exports=Ei},{"./es5":13}]},{},[4])(4)},"object"==y(J)&&void 0!==z?z.exports=f():void 0===(_="function"==typeof(D=f)?D.apply(J,[]):D)||(z.exports=_),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,k(31),k(13),k(108).setImmediate)},function(z,J,k){(function(I){var O=void 0!==I&&I||"undefined"!=typeof self&&self||window,S=Function.prototype.apply;function D(C,_){this._id=C,this._clearFn=_}J.setTimeout=function(){return new D(S.call(setTimeout,O,arguments),clearTimeout)},J.setInterval=function(){return new D(S.call(setInterval,O,arguments),clearInterval)},J.clearTimeout=J.clearInterval=function(C){C&&C.close()},D.prototype.unref=D.prototype.ref=function(){},D.prototype.close=function(){this._clearFn.call(O,this._id)},J.enroll=function(C,_){clearTimeout(C._idleTimeoutId),C._idleTimeout=_},J.unenroll=function(C){clearTimeout(C._idleTimeoutId),C._idleTimeout=-1},J._unrefActive=J.active=function(C){clearTimeout(C._idleTimeoutId);var _=C._idleTimeout;_>=0&&(C._idleTimeoutId=setTimeout(function(){C._onTimeout&&C._onTimeout()},_))},k(109),J.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==I&&I.setImmediate||this&&this.setImmediate,J.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==I&&I.clearImmediate||this&&this.clearImmediate}).call(this,k(13))},function(z,J,k){(function(I,O){!function(S,D){"use strict";if(!S.setImmediate){var C,_=1,y={},f=!1,g=S.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(S);w=w&&w.setTimeout?w:S,"[object process]"==={}.toString.call(S.process)?C=function(P){O.nextTick(function(){T(P)})}:function(){if(S.postMessage&&!S.importScripts){var P=!0,E=S.onmessage;return S.onmessage=function(){P=!1},S.postMessage("","*"),S.onmessage=E,P}}()?(P="setImmediate$"+Math.random()+"$",E=function(G){G.source===S&&"string"==typeof G.data&&0===G.data.indexOf(P)&&T(+G.data.slice(P.length))},S.addEventListener?S.addEventListener("message",E,!1):S.attachEvent("onmessage",E),C=function(G){S.postMessage(P+G,"*")}):S.MessageChannel?function(){var P=new MessageChannel;P.port1.onmessage=function(E){T(E.data)},C=function(E){P.port2.postMessage(E)}}():g&&"onreadystatechange"in g.createElement("script")?function(){var P=g.documentElement;C=function(E){var G=g.createElement("script");G.onreadystatechange=function(){T(E),G.onreadystatechange=null,P.removeChild(G),G=null},P.appendChild(G)}}():C=function(P){setTimeout(T,0,P)},w.setImmediate=function(P){"function"!=typeof P&&(P=new Function(""+P));for(var E=new Array(arguments.length-1),G=0;G<E.length;G++)E[G]=arguments[G+1];return y[_]={callback:P,args:E},C(_),_++},w.clearImmediate=b}var P,E;function b(P){delete y[P]}function T(P){if(f)setTimeout(T,0,P);else{var E=y[P];if(E){f=!0;try{!function(G){var H=G.callback,$=G.args;switch($.length){case 0:H();break;case 1:H($[0]);break;case 2:H($[0],$[1]);break;case 3:H($[0],$[1],$[2]);break;default:H.apply(undefined,$)}}(E)}finally{b(P),f=!1}}}}}("undefined"==typeof self?void 0===I?this:I:self)}).call(this,k(13),k(31))},function(z,J,k){var I=k(0),O=k(111),S=k(35),D=k(9);z.exports=function(C){var _=O.create();I.mixin(C,_);var E,G,y=C.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return C.config.root_id},initItem:I.bind(function(E){this.defined(E.id)||(E.id=this.uid()),E.start_date&&(E.start_date=C.date.parseDate(E.start_date,"parse_date")),E.end_date&&(E.end_date=C.date.parseDate(E.end_date,"parse_date"));var G=null;(E.duration||0===E.duration)&&(E.duration=G=1*E.duration),G&&(E.start_date&&!E.end_date?E.end_date=this.calculateEndDate(E):!E.start_date&&E.end_date&&(E.start_date=this.calculateEndDate({start_date:E.end_date,duration:-E.duration,task:E}))),E.progress=Number(E.progress)||0,this._isAllowedUnscheduledTask(E)&&this._set_default_task_timing(E),this._init_task_timing(E),E.start_date&&E.end_date&&this.correctTaskWorkTime(E),E.$source=[],E.$target=[];var H=this.$data.tasksStore.getItem(E.id);return H&&!I.defined(E.open)&&(E.$open=H.$open),void 0===E.parent&&(E.parent=this.config.root_id),E},C),getConfig:function(){return C.config}}),f=C.createDatastore({name:"link",initItem:I.bind(function(E){return this.defined(E.id)||(E.id=this.uid()),E},C)});function g(E){var G=C.isTaskVisible(E);if(!G&&C.isTaskExists(E)){var H=C.getParent(E);C.isTaskExists(H)&&C.isTaskVisible(H)&&(H=C.getTask(H),C.isSplitTask(H)&&(G=!0))}return G}function w(E){if(C.isTaskExists(E.source)){var G=C.getTask(E.source);G.$source=G.$source||[],G.$source.push(E.id)}if(C.isTaskExists(E.target)){var H=C.getTask(E.target);H.$target=H.$target||[],H.$target.push(E.id)}}function b(E){if(C.isTaskExists(E.source))for(var G=C.getTask(E.source),H=0;H<G.$source.length;H++)if(G.$source[H]==E.id){G.$source.splice(H,1);break}if(C.isTaskExists(E.target)){var $=C.getTask(E.target);for(H=0;H<$.$target.length;H++)if($.$target[H]==E.id){$.$target.splice(H,1);break}}}function T(){for(var E=null,G=C.$data.tasksStore.getItems(),H=0,$=G.length;H<$;H++)(E=G[H]).$source=[],E.$target=[];var j=C.$data.linksStore.getItems();for(H=0,$=j.length;H<$;H++)w(j[H])}function P(E){var G=E.source,H=E.target;for(var $ in E.events)!function(j,Q){G.attachEvent(j,function(){return H.callEvent(Q,Array.prototype.slice.call(arguments))},Q)}($,E.events[$])}C.attachEvent("onDestroy",function(){y.destructor(),f.destructor()}),C.attachEvent("onLinkValidation",function(E){if(C.isLinkExists(E.id)||"predecessor_generated"===E.id)return!0;for(var G=C.getTask(E.source).$source,H=0;H<G.length;H++){var $=C.getLink(G[H]);if(E.source==$.source&&E.target==$.target&&E.type==$.type)return!1}return!0}),y.attachEvent("onBeforeRefreshAll",function(){for(var E=y.getVisibleItems(),G=0;G<E.length;G++){var H=E[G];H.$index=G,H.$local_index=C.getTaskIndex(H.id),C.resetProjectDates(H)}}),y.attachEvent("onFilterItem",function(E,G){if(C.config.show_tasks_outside_timescale)return!0;var H=null,$=null;if(C.config.start_date&&C.config.end_date){if(C._isAllowedUnscheduledTask(G))return!0;if(H=C.config.start_date.valueOf(),$=C.config.end_date.valueOf(),+G.start_date>$||+G.end_date<+H)return!1}return!0}),y.attachEvent("onIdChange",function(E,G){C._update_flags(E,G);var H=C.getTask(G);y.isSilent()||(H.$split_subtask||H.rollup)&&C.eachParent(function($){C.refreshTask($.id)},G)}),y.attachEvent("onAfterUpdate",function(E){if(C._update_parents(E),C.getState("batchUpdate").batch_update)return!0;var G=y.getItem(E);G.$source||(G.$source=[]);for(var H=0;H<G.$source.length;H++)f.refresh(G.$source[H]);for(G.$target||(G.$target=[]),H=0;H<G.$target.length;H++)f.refresh(G.$target[H])}),y.attachEvent("onBeforeItemMove",function(E,G,H){return!D(E,C,y)||(console.log("The placeholder task cannot be moved to another position."),!1)}),y.attachEvent("onAfterItemMove",function(E,G,H){C.getTask(E).$drop_target=null!==this.getNextSibling(E)?this.getNextSibling(E):null!==this.getPrevSibling(E)?"next:"+this.getPrevSibling(E):"next:null"}),y.attachEvent("onStoreUpdated",function(E,G,H){if("delete"==H&&C._update_flags(E,null),!C.$services.getService("state").getState("batchUpdate").batch_update){if(C.config.fit_tasks&&"paint"!==H){var $=C.getState();S(C);var j=C.getState();if(+$.min_date!=+j.min_date||+$.max_date!=+j.max_date)return C.render(),C.callEvent("onScaleAdjusted",[]),!0}"add"==H||"move"==H||"delete"==H?C.$layout&&C.$layout.resize():E||f.refresh()}}),f.attachEvent("onAfterAdd",function(E,G){w(G)}),f.attachEvent("onAfterUpdate",function(E,G){T()}),f.attachEvent("onAfterDelete",function(E,G){b(G)}),f.attachEvent("onBeforeIdChange",function(E,G){b(C.mixin({id:E},C.$data.linksStore.getItem(G))),w(C.$data.linksStore.getItem(G))}),f.attachEvent("onFilterItem",function(E,G){if(!C.config.show_links)return!1;var H=g(G.source),$=g(G.target);return!(!H||!$||C._isAllowedUnscheduledTask(C.getTask(G.source))||C._isAllowedUnscheduledTask(C.getTask(G.target)))&&C.callEvent("onBeforeLinkDisplay",[E,G])}),E=k(36),G={},C.attachEvent("onBeforeTaskDelete",function(H,$){return G[H]=E.getSubtreeLinks(C,H),!0}),C.attachEvent("onAfterTaskDelete",function(H,$){G[H]&&C.$data.linksStore.silent(function(){for(var j in G[H])C.$data.linksStore.removeItem(j),b(G[H][j]);G[H]=null})}),C.attachEvent("onAfterLinkDelete",function(E,G){C.refreshTask(G.source),C.refreshTask(G.target)}),C.attachEvent("onParse",T),P({source:f,target:C,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),P({source:y,target:C,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),C.$data={tasksStore:y,linksStore:f}}},function(z,J,k){var I=k(0),O=k(112),S=k(113),D=k(32),C=k(34),_=k(114),y=k(115),f=k(10),g=k(2).replaceValidZeroId;function w(){for(var T=this.$services.getService("datastores"),P=[],E=0;E<T.length;E++){var G=this.getDatastore(T[E]);G.$destroyed||P.push(G)}return P}D.default&&(D=D.default);z.exports={create:function(){var T=I.mixin({},{createDatastore:function(T){var P="treedatastore"==(T.type||"").toLowerCase()?C:D;if(T){var E=this;T.openInitially=function(){return E.config.open_tree_initially},T.copyOnParse=function(){return E.config.deepcopy_on_parse}}var G=new P(T);if(this.mixin(G,_(G)),T.name){var H="datastore:"+T.name;G.attachEvent("onDestroy",function(){this.$services.dropService(H);for(var j=this.$services.getService("datastores"),Q=0;Q<j.length;Q++)if(j[Q]===T.name){j.splice(Q,1);break}}.bind(this)),this.$services.dropService(H),this.$services.setService(H,function(){return G});var $=this.$services.getService("datastores");$?$.indexOf(T.name)<0&&$.push(T.name):($=[],this.$services.setService("datastores",function(){return $}),$.push(T.name)),y.bindDataStore(T.name,this)}return G},getDatastore:function(T){return this.$services.getService("datastore:"+T)},_getDatastores:w,refreshData:function(){var T;f(this)||(T=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var P=w.call(this),E=0;E<P.length;E++)P[E].refresh();this.config.preserve_scroll&&!f(this)&&(T.x||T.y)&&this.scrollTo(T.x,T.y),this.callEvent("onDataRender",[])},isChildOf:function(T,P){return this.$data.tasksStore.isChildOf(T,P)},refreshTask:function(T,P){var E=this.getTask(T),G=this;function H(){if(void 0===P||P){for(var j=0;j<E.$source.length;j++)G.refreshLink(E.$source[j]);for(j=0;j<E.$target.length;j++)G.refreshLink(E.$target[j])}}if(E&&this.isTaskVisible(T))this.$data.tasksStore.refresh(T,!!this.getState("tasksDnd").drag_id||!1===P),H();else if(this.isTaskExists(T)&&this.isTaskExists(this.getParent(T))&&!this._bulk_dnd){this.refreshTask(this.getParent(T));var $=!1;this.eachParent(function(j){($||this.isSplitTask(j))&&($=!0)},T),$&&H()}},refreshLink:function(T){this.$data.linksStore.refresh(T,!!this.getState("tasksDnd").drag_id)},silent:function(T){var P=this;P.$data.tasksStore.silent(function(){P.$data.linksStore.silent(function(){T()})})},clearAll:function(){for(var T=w.call(this),P=0;P<T.length;P++)T[P].silent(function(){T[P].clearAll()});for(P=0;P<T.length;P++)T[P].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(T){var P=this.$data.tasksStore;if(!this.config.select_task)return!1;if(T=g(T,this.config.root_id)){var E=this.getSelectedId();P.select(T),E&&P.pull[E].$split_subtask&&E!=T&&this.refreshTask(E),P.pull[T].$split_subtask&&E!=T&&this.refreshTask(T)}return P.getSelectedId()},unselectTask:function(T){var P=this.$data.tasksStore;P.unselect(T),T&&P.pull[T].$split_subtask&&this.refreshTask(T)},isSelectedTask:function(T){return this.$data.tasksStore.isSelected(T)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}});return I.mixin(T,O()),I.mixin(T,S()),T}}},function(z,J,k){var I=k(0),O=k(2).replaceValidZeroId;z.exports=function(){return{getTask:function(S){S=O(S,this.config.root_id),this.assert(S,"Invalid argument for gantt.getTask");var D=this.$data.tasksStore.getItem(S);return this.assert(D,"Task not found id="+S),D},getTaskByTime:function(S,D){var C=this.$data.tasksStore.getItems(),_=[];if(S||D){S=+S||-1/0,D=+D||1/0;for(var y=0;y<C.length;y++){var f=C[y];+f.start_date<D&&+f.end_date>S&&_.push(f)}}else _=C;return _},isTaskExists:function(S){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(S)},updateTask:function(S,D){I.defined(D)||(D=this.getTask(S)),this.$data.tasksStore.updateItem(S,D),this.isTaskExists(S)&&this.refreshTask(S)},addTask:function(S,D,C){return I.defined(S.id)||(S.id=I.uid()),this.isTaskExists(S.id)&&this.getTask(S.id).$index!=S.$index?(S.start_date&&"string"==typeof S.start_date&&(S.start_date=this.date.parseDate(S.start_date,"parse_date")),S.end_date&&"string"==typeof S.end_date&&(S.end_date=this.date.parseDate(S.end_date,"parse_date")),this.$data.tasksStore.updateItem(S.id,S)):(I.defined(D)||(D=this.getParent(S)||0),this.isTaskExists(D)||(D=this.config.root_id),this.setParent(S,D),this.$data.tasksStore.addItem(S,C,D))},deleteTask:function(S){return S=O(S,this.config.root_id),this.$data.tasksStore.removeItem(S)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(S){return this.$data.tasksStore.getBranchIndex(S)},getGlobalTaskIndex:function(S){return S=O(S,this.config.root_id),this.assert(S,"Invalid argument"),this.$data.tasksStore.getIndexById(S)},eachTask:function(S,D,C){return this.$data.tasksStore.eachItem(I.bind(S,C||this),D)},eachParent:function(S,D,C){return this.$data.tasksStore.eachParent(I.bind(S,C||this),D)},changeTaskId:function(S,D){this.$data.tasksStore.changeId(S,D);var C=this.$data.tasksStore.getItem(D),_=[];C.$source&&(_=_.concat(C.$source)),C.$target&&(_=_.concat(C.$target));for(var y=0;y<_.length;y++){var f=this.getLink(_[y]);f.source==S&&(f.source=D),f.target==S&&(f.target=D)}},calculateTaskLevel:function(S){return this.$data.tasksStore.calculateItemLevel(S)},getNext:function(S){return this.$data.tasksStore.getNext(S)},getPrev:function(S){return this.$data.tasksStore.getPrev(S)},getParent:function(S){return this.$data.tasksStore.getParent(S)},setParent:function(S,D,C){return this.$data.tasksStore.setParent(S,D,C)},getSiblings:function(S){return this.$data.tasksStore.getSiblings(S).slice()},getNextSibling:function(S){return this.$data.tasksStore.getNextSibling(S)},getPrevSibling:function(S){return this.$data.tasksStore.getPrevSibling(S)},getTaskByIndex:function(S){var D=this.$data.tasksStore.getIdByIndex(S);return this.isTaskExists(D)?this.getTask(D):null},getChildren:function(S){return this.hasChild(S)?this.$data.tasksStore.getChildren(S).slice():[]},hasChild:function(S){return this.$data.tasksStore.hasChild(S)},open:function(S){this.$data.tasksStore.open(S)},close:function(S){this.$data.tasksStore.close(S)},moveTask:function(S,D,C){return C=O(C,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(S,D,C,_){var y=!_;this.$data.tasksStore.sort(S,D,C),this.callEvent("onAfterSort",[S,D,C]),y&&this.render()}}}},function(z,J,k){var I=k(0);z.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(O){return this.$data.linksStore.getItem(O)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(O){return this.$data.linksStore.exists(O)},addLink:function(O){var S=this.$data.linksStore.addItem(O);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(S),S},updateLink:function(O,S){I.defined(S)||(S=this.getLink(O)),this.$data.linksStore.updateItem(O,S)},deleteLink:function(O){return this.$data.linksStore.removeItem(O)},changeLinkId:function(O,S){return this.$data.linksStore.changeId(O,S)}}}},function(z,J){z.exports=function(k){var I=null,O=k._removeItemInner;function S(D){I=null,this.callEvent("onAfterUnselect",[D])}return k._removeItemInner=function(D){return I==D&&S.call(this,D),I&&this.eachItem&&this.eachItem(function(C){C.id==I&&S.call(this,C.id)},D),O.apply(this,arguments)},k.attachEvent("onIdChange",function(D,C){k.getSelectedId()==D&&k.silent(function(){k.unselect(D),k.select(C)})}),{select:function(D){if(D){if(I==D)return I;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[D]))return!1;this.unselect(),I=D,this._skip_refresh||(this.refresh(D),this.callEvent("onAfterSelect",[D]))}return I},getSelectedId:function(){return I},isSelected:function(D){return D==I},unselect:function(D){(D=D||I)&&(I=null,this._skip_refresh||(this.refresh(D),S.call(this,D)))}}}},function(z,J,k){var I=k(10);z.exports={bindDataStore:function(O,S){var D=S.getDatastore(O),C=function(g,w){var b=w.getLayers(),T=D.getItem(g);if(T&&D.isVisible(g))for(var P=0;P<b.length;P++)b[P].render_item(T)};function f(g){return!!g.$services.getService("state").getState("batchUpdate").batch_update}D.attachEvent("onStoreUpdated",function(g,w,b){if(I(S))return!0;var T=S.$services.getService("layers").getDataRender(O);T&&(T.onUpdateRequest=function(P){!function(g){if(g.update_items){var w;if(g.get_visible_range){var b=g.get_visible_range(D);w=D.getIndexRange(b.start,b.end)}else w=D.getVisibleItems();g.update_items(w)}}(P)})}),D.attachEvent("onStoreUpdated",function(g,w,b){f(S)||(g&&"move"!=b&&"delete"!=b?(D.callEvent("onBeforeRefreshItem",[w.id]),D.callEvent("onAfterRefreshItem",[w.id])):(D.callEvent("onBeforeRefreshAll",[]),D.callEvent("onAfterRefreshAll",[])))}),D.attachEvent("onAfterRefreshAll",function(){if(I(S))return!0;var g=S.$services.getService("layers").getDataRender(O);g&&!f(S)&&function(g){for(var w=g.getLayers(),b=0;b<w.length;b++)w[b].clear();for(var T=null,P={},E=0;E<w.length;E++){var G=w[E],H=void 0;if(G.get_visible_range){var $=G.get_visible_range(D),j=$.start+" - "+$.end;P[j]?H=P[j]:(H=D.getIndexRange($.start,$.end),P[j]=H)}else T||(T=D.getVisibleItems()),H=T;w[E].render_items(H)}}(g)}),D.attachEvent("onAfterRefreshItem",function(g){if(I(S))return!0;var w=S.$services.getService("layers").getDataRender(O);w&&C(g,w)}),D.attachEvent("onItemOpen",function(){if(I(S))return!0;S.render()}),D.attachEvent("onItemClose",function(){if(I(S))return!0;S.render()}),D.attachEvent("onIdChange",function(g,w){if(I(S))return!0;if(D.callEvent("onBeforeIdChange",[g,w]),!f(S)&&!D.isSilent()){var b=S.$services.getService("layers").getDataRender(O);b?(function(T,P,E,G){for(var H=0;H<T.length;H++)T[H].change_id(P,E)}(b.getLayers(),g,w,D.getItem(w)),C(w,b)):S.render()}})}}},function(z,J,k){var I=k(117);z.exports={DEPRECATED_api:function(O){return new I.DataProcessor(O)},createDataProcessor:I.createDataProcessor,getDataProcessorModes:I.getAvailableModes}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.DataProcessor=J.createDataProcessor=void 0;var I=k(4),O=k(2),S=k(0),D=k(118),C=k(119),_=k(120);J.createDataProcessor=function(f){var g,w;f instanceof Function?g=f:f.hasOwnProperty("router")?g=f.router:f.hasOwnProperty("link")&&f.hasOwnProperty("task")&&(g=f),w=g?"CUSTOM":f.mode||"REST-JSON";var b=new y(f.url);return b.init(this),b.setTransactionMode({mode:w,router:g},f.batchUpdate),b};var y=function(){function f(g){this.serverProcessor=g,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=_.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),I(this)}return f.prototype.setTransactionMode=function(g,w){"object"==typeof g?(this._tMode=g.mode||this._tMode,S.defined(g.headers)&&(this._headers=g.headers),S.defined(g.payload)&&(this._payload=g.payload),this._tSend=!!w):(this._tMode=g,this._tSend=w),"REST"===this._tMode&&(this._tSend=!1),"JSON"===this._tMode||"REST-JSON"===this._tMode?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),"CUSTOM"===this._tMode&&(this._tSend=!1,this._router=g.router)},f.prototype.escape=function(g){return this._utf?encodeURIComponent(g):escape(g)},f.prototype.enableUTFencoding=function(g){this._utf=!!g},f.prototype.getSyncState=function(){return!this.updatedRows.length},f.prototype.setUpdateMode=function(g,w){this.autoUpdate="cell"===g,this.updateMode=g,this.dnd=w},f.prototype.ignore=function(g,w){this._silent_mode=!0,g.call(w||window),this._silent_mode=!1},f.prototype.setUpdated=function(g,w,b){if(!this._silent_mode){var T=this.findRow(g);b=b||"updated";var P=this.$gantt.getUserData(g,this.action_param);P&&"updated"===b&&(b=P),w?(this.set_invalid(g,!1),this.updatedRows[T]=g,this.$gantt.setUserData(g,this.action_param,b),this._in_progress[g]&&(this._in_progress[g]="wait")):this.is_invalid(g)||(this.updatedRows.splice(T,1),this.$gantt.setUserData(g,this.action_param,"")),this.markRow(g,w,b),w&&this.autoUpdate&&this.sendData(g)}},f.prototype.markRow=function(g,w,b){var T="",P=this.is_invalid(g);if(P&&(T=this.styles[P],w=!0),this.callEvent("onRowMark",[g,w,b,P])&&(this.$gantt[this._methods[0]](g,T=this.styles[w?b:"clear"]+" "+T),P&&P.details)){T+=this.styles[P+"_cell"];for(var E=0;E<P.details.length;E++)P.details[E]&&this.$gantt[this._methods[1]](g,E,T)}},f.prototype.getActionByState=function(g){return"inserted"===g?"create":"updated"===g?"update":"deleted"===g?"delete":"update"},f.prototype.getState=function(g){return this.$gantt.getUserData(g,this.action_param)},f.prototype.is_invalid=function(g){return this._invalid[g]},f.prototype.set_invalid=function(g,w,b){b&&(w={value:w,details:b,toString:function(){return this.value.toString()}}),this._invalid[g]=w},f.prototype.checkBeforeUpdate=function(g){return!0},f.prototype.sendData=function(g){return this.$gantt.editStop&&this.$gantt.editStop(),void 0===g||this._tSend?this.modes&&this.modes.task&&this.modes.link&&this.modes.task.updatedRows.length&&this.modes.link.updatedRows.length?(this.setGanttMode("task"),this.sendAllData(),this.setGanttMode("link"),void this.sendAllData()):this.sendAllData():!this._in_progress[g]&&(this.messages=[],!(!this.checkBeforeUpdate(g)&&this.callEvent("onValidationError",[g,this.messages]))&&void this._beforeSendData(this._getRowData(g),g))},f.prototype.serialize=function(g,w){if(this._serializeAsJson)return this._serializeAsJSON(g);if("string"==typeof g)return g;if(void 0!==w)return this.serialize_one(g,"");var b=[],T=[];for(var P in g)g.hasOwnProperty(P)&&(b.push(this.serialize_one(g[P],P+this._postDelim)),T.push(P));return b.push("ids="+this.escape(T.join(","))),this.$gantt.security_key&&b.push("dhx_security="+this.$gantt.security_key),b.join("&")},f.prototype.serialize_one=function(g,w){if("string"==typeof g)return g;var b=[],T="";for(var P in g)if(g.hasOwnProperty(P)){if(("id"===P||P==this.action_param)&&"REST"===this._tMode)continue;T="string"==typeof g[P]||"number"==typeof g[P]?g[P]:JSON.stringify(g[P]),b.push(this.escape((w||"")+P)+"="+this.escape(T))}return b.join("&")},f.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var g=!0;if(this._forEachUpdatedRow(function(w){g=g&&this.checkBeforeUpdate(w)}),!g&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(w){if(!this._in_progress[w]){if(this.is_invalid(w))return;this._beforeSendData(this._getRowData(w),w)}})}},f.prototype.findRow=function(g){var w=0;for(w=0;w<this.updatedRows.length&&g!=this.updatedRows[w];w++);return w},f.prototype.defineAction=function(g,w){this._uActions||(this._uActions={}),this._uActions[g]=w},f.prototype.afterUpdateCallback=function(g,w,b,T,P){if(this.$gantt){this.setGanttMode(P);var E=g,G="error"!==b&&"invalid"!==b;if(G||this.set_invalid(g,b),this._uActions&&this._uActions[b]&&!this._uActions[b](T))return delete this._in_progress[E];"wait"!==this._in_progress[E]&&this.setUpdated(g,!1);var H=g;switch(b){case"inserted":case"insert":w!=g&&(this.setUpdated(g,!1),this.$gantt[this._methods[2]](g,w),g=w);break;case"delete":case"deleted":return this.$gantt.setUserData(g,this.action_param,"true_deleted"),this.$gantt[this._methods[3]](g),delete this._in_progress[E],this.callEvent("onAfterUpdate",[g,b,w,T])}"wait"!==this._in_progress[E]?(G&&this.$gantt.setUserData(g,this.action_param,""),delete this._in_progress[E]):(delete this._in_progress[E],this.setUpdated(w,!0,this.$gantt.getUserData(g,this.action_param))),this.callEvent("onAfterUpdate",[H,b,w,T])}},f.prototype.afterUpdate=function(g,w,b){var T;T=3===arguments.length?arguments[1]:arguments[4];var P=this.getGanttMode(),E=T.filePath||T.url;P="REST"!==this._tMode&&"REST-JSON"!==this._tMode?-1!==E.indexOf("gantt_mode=links")?"link":"task":E.indexOf("/link")>E.indexOf("/task")?"link":"task",this.setGanttMode(P);var G,H=this.$gantt.ajax;try{G=JSON.parse(w.xmlDoc.responseText)}catch(ee){w.xmlDoc.responseText.length||(G={})}if(G){var $=G.action||this.getState(b)||"updated",j=G.sid||b[0],Q=G.tid||b[0];return g.afterUpdateCallback(j,Q,$,G,P),g.finalizeUpdate(),void this.setGanttMode(P)}var Y=H.xmltop("data",w.xmlDoc);if(!Y)return this.cleanUpdate(b);var ne=H.xpath("//data/action",Y);if(!ne.length)return this.cleanUpdate(b);for(var oe=0;oe<ne.length;oe++){var te=ne[oe];$=te.getAttribute("type"),j=te.getAttribute("sid"),Q=te.getAttribute("tid"),g.afterUpdateCallback(j,Q,$,te,P)}g.finalizeUpdate()},f.prototype.cleanUpdate=function(g){if(g)for(var w=0;w<g.length;w++)delete this._in_progress[g[w]]},f.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},f.prototype.init=function(g){if(!this._initialized){this.$gantt=g,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],C.default(this.$gantt,this);var w=new D.default(this.$gantt,this);w.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,w.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},f.prototype.setOnAfterUpdate=function(g){this.attachEvent("onAfterUpdate",g)},f.prototype.setOnBeforeUpdateHandler=function(g){this.attachEvent("onBeforeDataSending",g)},f.prototype.setAutoUpdate=function(g,w){var b=this;g=g||2e3,this._user=w||(new Date).valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){b.loadUpdate()},g)},f.prototype.afterAutoUpdate=function(g,w,b,T){return"collision"!==w||(this._needUpdate=!0,!1)},f.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},f.prototype.getUpdates=function(g,w){var b=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,b.get(g,w)},f.prototype.loadUpdate=function(){var g=this,w=this.$gantt.ajax,b=this.$gantt.getUserData(0,"version"),T=this.serverProcessor+w.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+b].join("&");T=T.replace("editing=true&",""),this.getUpdates(T,function(P){var E=w.xpath("//userdata",P);g.$gantt.setUserData(0,"version",g._getXmlNodeValue(E[0]));var G=w.xpath("//update",P);if(G.length){g._silent_mode=!0;for(var H=0;H<G.length;H++){var $=G[H].getAttribute("status"),j=G[H].getAttribute("id"),Q=G[H].getAttribute("parent");switch($){case"inserted":g.callEvent("insertCallback",[G[H],j,Q]);break;case"updated":g.callEvent("updateCallback",[G[H],j,Q]);break;case"deleted":g.callEvent("deleteCallback",[G[H],j,Q])}}g._silent_mode=!1}g._updateBusy=!1})},f.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},f.prototype.setGanttMode=function(g){"tasks"===g?g="task":"links"===g&&(g="link");var w=this.modes||{},b=this.getGanttMode();b&&(w[b]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var T=w[g];T||(T=w[g]={_in_progress:{},_invalid:{},_storage:_.default.create(),updatedRows:[]}),this._in_progress=T._in_progress,this._invalid=T._invalid,this._storage=T._storage,this.updatedRows=T.updatedRows,this.modes=w,this._ganttMode=g},f.prototype.getGanttMode=function(){return this._ganttMode},f.prototype.storeItem=function(g){this._storage.storeItem(g)},f.prototype.url=function(g){this.serverProcessor=this._serverProcessor=g},f.prototype._beforeSendData=function(g,w){if(!this.callEvent("onBeforeUpdate",[w,this.getState(w),g]))return!1;this._sendData(g,w)},f.prototype._serializeAsJSON=function(g){if("string"==typeof g)return g;var w=S.copy(g);return"REST-JSON"===this._tMode&&(delete w.id,delete w[this.action_param]),JSON.stringify(w)},f.prototype._applyPayload=function(g){var w=this.$gantt.ajax;if(this._payload)for(var b in this._payload)g=g+w.urlSeparator(g)+this.escape(b)+"="+this.escape(this._payload[b]);return g},f.prototype._cleanupArgumentsBeforeSend=function(g){var w;if(void 0===g[this.action_param])for(var b in w={},g)w[b]=this._cleanupArgumentsBeforeSend(g[b]);else w=this._cleanupItemBeforeSend(g);return w},f.prototype._cleanupItemBeforeSend=function(g){var w=null;return g&&("deleted"===g[this.action_param]?((w={}).id=g.id,w[this.action_param]=g[this.action_param]):w=g),w},f.prototype._sendData=function(g,w){var b=this;if(g){if(!this.callEvent("onBeforeDataSending",w?[w,this.getState(w),g]:[null,null,g]))return!1;w&&(this._in_progress[w]=(new Date).valueOf());var T=this.$gantt.ajax;if("CUSTOM"!==this._tMode){var P;P={callback:function(le){var he=[];if(w)he.push(w);else if(g)for(var me in g)he.push(me);return b.afterUpdate(b,le,he)},headers:this._headers};var E,G=this.serverProcessor+(this._user?T.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$gantt.getUserData(0,"version")].join("&"):""),H=this._applyPayload(G);switch(this._tMode){case"GET":E=this._cleanupArgumentsBeforeSend(g),P.url=H+T.urlSeparator(H)+this.serialize(E,w),P.method="GET";break;case"POST":E=this._cleanupArgumentsBeforeSend(g),P.url=H,P.method="POST",P.data=this.serialize(E,w);break;case"JSON":E={};var $=this._cleanupItemBeforeSend(g);for(var j in $)j!==this.action_param&&"id"!==j&&"gr_id"!==j&&(E[j]=$[j]);P.url=H,P.method="POST",P.data=JSON.stringify({id:w,action:g[this.action_param],data:E});break;case"REST":case"REST-JSON":switch(H=G.replace(/(&|\?)editing=true/,""),E="",this.getState(w)){case"inserted":P.method="POST",P.data=this.serialize(g,w);break;case"deleted":P.method="DELETE",H=H+("/"===H.slice(-1)?"":"/")+w;break;default:P.method="PUT",P.data=this.serialize(g,w),H=H+("/"===H.slice(-1)?"":"/")+w}P.url=this._applyPayload(H)}return this._waitMode++,T.query(P)}var Q=this.getState(w),Y=this.getActionByState(Q),ne=this.getGanttMode(),oe=function(le){var he=Q||"updated",me=w,ye=w;le&&(he=le.action||Q,me=le.sid||me,ye=le.id||le.tid||ye),b.afterUpdateCallback(me,ye,he,le,ne)},te=void 0;if(this._router instanceof Function)te="object"===this._routerParametersFormat?this._router({entity:ne,action:Y,data:g,id:w}):this._router(ne,Y,g,w);else if(this._router[ne]instanceof Function)te=this._router[ne](Y,g,w);else switch(Q){case"inserted":te=this._router[ne].create(g);break;case"deleted":te=this._router[ne].delete(w);break;default:te=this._router[ne].update(g,w)}if(te){if(!te.then&&void 0===te.id&&void 0===te.tid&&void 0===te.action)throw new Error("Incorrect router return value. A Promise or a response object is expected");te.then?te.then(oe).catch(function(le){oe(le&&le.action?le:{action:"error",value:le})}):oe(te)}else oe(null)}},f.prototype._forEachUpdatedRow=function(g){for(var w=this.updatedRows.slice(),b=0;b<w.length;b++){var T=w[b];this.$gantt.getUserData(T,this.action_param)&&g.call(this,T)}},f.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!==this.serverProcessor.indexOf("?")?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},f.prototype._getXmlNodeValue=function(g){return g.firstChild?g.firstChild.nodeValue:""},f.prototype._getAllData=function(){var g={},w=!1;return this._forEachUpdatedRow(function(b){if(!this._in_progress[b]&&!this.is_invalid(b)){var T=this._getRowData(b);this.callEvent("onBeforeUpdate",[b,this.getState(b),T])&&(g[b]=T,w=!0,this._in_progress[b]=(new Date).valueOf())}}),w?g:null},f.prototype._prepareDate=function(g){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(g):this.$gantt.templates.format_date(g)},f.prototype._prepareArray=function(g,w){var b=this;return w.push(g),g.map(function(T){return O.isDate(T)?b._prepareDate(T):Array.isArray(T)&&!O.arrayIncludes(w,T)?b._prepareArray(T,w):T&&"object"==typeof T&&!O.arrayIncludes(w,T)?b._prepareObject(T,w):T})},f.prototype._prepareObject=function(g,w){var b={};for(var T in w.push(g),g)if("$"!==T.substr(0,1)){var P=g[T];b[T]=O.isDate(P)?this._prepareDate(P):null===P?"":Array.isArray(P)&&!O.arrayIncludes(w,P)?this._prepareArray(P,w):P&&"object"==typeof P&&!O.arrayIncludes(w,P)?this._prepareObject(P,w):P}return b},f.prototype._prepareDataItem=function(g){var w=this._prepareObject(g,[]);return w[this.action_param]=this.$gantt.getUserData(g.id,this.action_param),w},f.prototype.getStoredItem=function(g){return this._storage.getStoredItem(g)},f.prototype._getRowData=function(g){var w,b=this.$gantt;return"task"===this.getGanttMode()?b.isTaskExists(g)&&(w=this.$gantt.getTask(g)):b.isLinkExists(g)&&(w=this.$gantt.getLink(g)),w||(w=this.getStoredItem(g)),w||(w={id:g}),this._prepareDataItem(w)},f}();J.DataProcessor=y},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(2),O=function(){function S(D,C){this.$gantt=D,this.$dp=C,this._dataProcessorHandlers=[]}return S.prototype.attach=function(){var D=this.$dp,C=this.$gantt,_=k(36),y={};function f(b){for(var T=D.updatedRows.slice(),P=!1,E=0;E<T.length&&!D._in_progress[b];E++)T[E]===b&&("inserted"===C.getUserData(b,"!nativeeditor_status")&&(P=!0),D.setUpdated(b,!1));return P}this._dataProcessorHandlers.push(C.attachEvent("onAfterTaskAdd",function(b,T){C.isTaskExists(b)&&(D.setGanttMode("tasks"),D.setUpdated(b,!0,"inserted"))})),this._dataProcessorHandlers.push(C.attachEvent("onAfterTaskUpdate",function(b,T){C.isTaskExists(b)&&(D.setGanttMode("tasks"),D.setUpdated(b,!0),C._sendTaskOrder&&C._sendTaskOrder(b,T))})),this._dataProcessorHandlers.push(C.attachEvent("onBeforeTaskDelete",function(b,T){return!C.config.cascade_delete||(y[b]={tasks:_.getSubtreeTasks(C,b),links:_.getSubtreeLinks(C,b)},!0)})),this._dataProcessorHandlers.push(C.attachEvent("onAfterTaskDelete",function(b,T){if(D.setGanttMode("tasks"),!f(b)){if(C.config.cascade_delete&&y[b]){var P=D.updateMode;D.setUpdateMode("off");var E=y[b];for(var G in E.tasks)f(G)||(D.storeItem(E.tasks[G]),D.setUpdated(G,!0,"deleted"));for(var G in D.setGanttMode("links"),E.links)f(G)||(D.storeItem(E.links[G]),D.setUpdated(G,!0,"deleted"));y[b]=null,"off"!==P&&D.sendAllData(),D.setGanttMode("tasks"),D.setUpdateMode(P)}D.storeItem(T),D.setUpdated(b,!0,"deleted"),"off"===D.updateMode||D._tSend||D.sendAllData()}})),this._dataProcessorHandlers.push(C.attachEvent("onAfterLinkUpdate",function(b,T){C.isLinkExists(b)&&(D.setGanttMode("links"),D.setUpdated(b,!0))})),this._dataProcessorHandlers.push(C.attachEvent("onAfterLinkAdd",function(b,T){C.isLinkExists(b)&&(D.setGanttMode("links"),D.setUpdated(b,!0,"inserted"))})),this._dataProcessorHandlers.push(C.attachEvent("onAfterLinkDelete",function(b,T){D.setGanttMode("links"),!f(b)&&(D.storeItem(T),D.setUpdated(b,!0,"deleted"))})),this._dataProcessorHandlers.push(C.attachEvent("onRowDragEnd",function(b,T){C._sendTaskOrder(b,C.getTask(b))}));var g=null,w=null;this._dataProcessorHandlers.push(C.attachEvent("onTaskIdChange",function(b,T){if(D._waitMode){var P=C.getChildren(T);if(P.length){g=g||{};for(var E=0;E<P.length;E++){var G=this.getTask(P[E]);g[G.id]=G}}var H=(Q=[],(j=this.getTask(T)).$source&&(Q=Q.concat(j.$source)),j.$target&&(Q=Q.concat(j.$target)),Q);if(H.length)for(w=w||{},E=0;E<H.length;E++){var $=this.getLink(H[E]);w[$.id]=$}}var j,Q})),D.attachEvent("onAfterUpdateFinish",function(){(g||w)&&(C.batchUpdate(function(){for(var b in g)C.updateTask(g[b].id);for(var b in w)C.updateLink(w[b].id);g=null,w=null}),C._dp.setGanttMode(g?"tasks":"links"))}),D.attachEvent("onBeforeDataSending",function(){if("CUSTOM"===this._tMode)return!0;var b=this._serverProcessor;if("REST-JSON"===this._tMode||"REST"===this._tMode){var T=this._ganttMode;b=b.substring(0,b.indexOf("?")>-1?b.indexOf("?"):b.length),this.serverProcessor=b+("/"===b.slice(-1)?"":"/")+T}else{var P=this._ganttMode+"s";this.serverProcessor=b+C.ajax.urlSeparator(b)+"gantt_mode="+P}return!0}),D.attachEvent("insertCallback",function(b,T,P,E){var G=b.data||C.xml._xmlNodeToJSON(b.firstChild),H={add:C.addTask,isExist:C.isTaskExists};"links"===E&&(H.add=C.addLink,H.isExist=C.isLinkExists),H.isExist.call(C,T)||(G.id=T,H.add.call(C,G))}),D.attachEvent("updateCallback",function(b,T){var P=b.data||C.xml._xmlNodeToJSON(b.firstChild);if(C.isTaskExists(T)){var E=C.getTask(T);for(var G in P){var H=P[G];switch(G){case"id":continue;case"start_date":case"end_date":H=C.defined(C.templates.xml_date)?C.templates.xml_date(H):C.templates.parse_date(H);break;case"duration":E.end_date=C.calculateEndDate({start_date:E.start_date,duration:H,task:E})}E[G]=H}C.updateTask(T),C.refreshData()}}),D.attachEvent("deleteCallback",function(b,T,P,E){var G={delete:C.deleteTask,isExist:C.isTaskExists};"links"===E&&(G.delete=C.deleteLink,G.isExist=C.isLinkExists),G.isExist.call(C,T)&&G.delete.call(C,T)})},S.prototype.detach=function(){var D=this;I.forEach(this._dataProcessorHandlers,function(C){D.$gantt.detachEvent(C)}),this._dataProcessorHandlers=[]},S}();J.default=O},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(I,O){I.getUserData=function(S,D){return this.userdata||(this.userdata={}),this.userdata[S]&&this.userdata[S][D]?this.userdata[S][D]:""},I.setUserData=function(S,D,C){this.userdata||(this.userdata={}),this.userdata[S]||(this.userdata[S]={}),this.userdata[S][D]=C},I._change_id=function(S,D){"task"!==this._dp._ganttMode?this.changeLinkId(S,D):this.changeTaskId(S,D)},I._row_style=function(S,D){"task"===this._dp._ganttMode&&I.isTaskExists(S)&&(I.getTask(S).$dataprocessor_class=D,I.refreshTask(S))},I._delete_task=function(S,D){},I._sendTaskOrder=function(S,D){D.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(S).target=D.$drop_target,this._dp.setUpdated(S,!0,"order"),delete this.getTask(S).$drop_target)},I.setDp=function(){this._dp=O},I.setDp()}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(0),O=function(){function S(){var D=this;this.clear=function(){D._storage={}},this.storeItem=function(C){D._storage[C.id]=I.copy(C)},this.getStoredItem=function(C){return D._storage[C]||null},this._storage={}}return S.create=function(){return new S},S}();J.default=O},function(z,J,k){z.exports=function(I){I.ext||(I.ext={});for(var O=[k(122),k(123),k(124),k(125),k(126),k(127),k(128)],S=0;S<O.length;S++)O[S]&&O[S](I)}},function(z,J,k){var I=k(12);function O(S){var D={},C=!1;function _(w,b){b="function"==typeof b?b:function(){},D[w]||(D[w]=this[w],this[w]=b)}function y(w){D[w]&&(this[w]=D[w],D[w]=null)}function f(){for(var w in D)y.call(this,w)}function g(w){try{w()}catch(b){I.console.error(b)}}return S.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:C}},!1),function(w,b){if(C)g(w);else{var T,P=this._dp&&"off"!=this._dp.updateMode;P&&(T=this._dp.updateMode,this._dp.setUpdateMode("off"));var E={},G={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function($){E[$.id]=$}};for(var H in function($){for(var j in $)_.call(this,j,$[j])}.call(this,G),C=!0,this.callEvent("onBeforeBatchUpdate",[]),g(w),this.callEvent("onAfterBatchUpdate",[]),f.call(this),E)this.resetProjectDates(E[H]);C=!1,b||this.render(),P&&(this._dp.setUpdateMode(T),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}z.exports=function(S){S.batchUpdate=O(S)}},function(z,J){z.exports=function(k){var S,I=(S=k,{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!S.getState().group_mode},_getWBSCode:function(D){return D?(this._isRecalcNeeded()&&this._calcWBS(),D.$virtual?"":this._isGroupSort()?D.$wbs||"":(D.$wbs||(this.reset(),this._calcWBS()),D.$wbs)):""},_setWBSCode:function(D,C){D.$wbs=C},getWBSCode:function(D){return this._getWBSCode(D)},getByWBSCode:function(D){for(var C=D.split("."),_=S.config.root_id,y=0;y<C.length;y++){var f=S.getChildren(_),g=1*C[y]-1;if(!S.isTaskExists(f[g]))return null;_=f[g]}return S.isTaskExists(_)?S.getTask(_):null},_calcWBS:function(){if(this._isRecalcNeeded()){var D=!0;S.eachTask(function(C){if(D)return D=!1,void this._setWBSCode(C,"1");var _=S.getPrevSibling(C.id);if(null!==_){var y=S.getTask(_).$wbs;y&&((y=y.split("."))[y.length-1]++,this._setWBSCode(C,y.join(".")))}else{var f=S.getParent(C.id);this._setWBSCode(C,S.getTask(f).$wbs+".1")}},S.config.root_id,this),this._needRecalc=!1}}});function O(){return I.reset(),!0}k.getWBSCode=function(S){return I.getWBSCode(S)},k.getTaskByWBSCode=function(S){return I.getByWBSCode(S)},k.attachEvent("onAfterTaskMove",O),k.attachEvent("onBeforeParse",O),k.attachEvent("onAfterTaskDelete",O),k.attachEvent("onAfterTaskAdd",O),k.attachEvent("onAfterSort",O)}},function(z,J,k){var I=k(2);z.exports=function(S){var D=function O(S){var D={},C=!1;S.$data.tasksStore.attachEvent("onStoreUpdated",function(){D={},C=!1}),S.attachEvent("onBeforeGanttRender",function(){D={}});var _=String(Math.random());function y(b){return null===b?_+String(b):String(b)}function f(b,T){return Array.isArray(b)?b.map(function(P){return y(P)}).join("_")+"_"+T:y(b)+"_"+T}function g(b,T){var P,E=f(T,b),G={};return I.forEach(T,function(H){G[y(H)]=!0}),D[E]?P=D[E]:(P=D[E]=[],S.eachTask(function(H){var $;H.type!=S.config.types.project&&b in H&&($=I.isArray(H[b])?H[b]:[H[b]],I.forEach($,function(j){if(G[y(j&&j.resource_id?j.resource_id:j)])P.push(H);else if(!C){var Y=f(j,b);D[Y]||(D[Y]=[]),D[Y].push(H)}}))}),C=!0),P}function w(b,T,P){var E=S.config.resource_property,G=[];if(S.getDatastore("task").exists(T)){var H=S.getTask(T);G=H[E]||[]}Array.isArray(G)||(G=[G]);for(var $=0;$<G.length;$++)G[$].resource_id==b&&P.push({task_id:H.id,resource_id:G[$].resource_id,value:G[$].value})}return{getTaskBy:function(b,T){return"function"==typeof b?(P=b,E=[],S.eachTask(function(G){P(G)&&E.push(G)}),E):I.isArray(T)?g(b,T):g(b,[T]);var P,E},getResourceAssignments:function(b,T){var P=[],E=S.config.resource_property;return void 0!==T?w(b,T,P):S.getTaskBy(E,b).forEach(function(G){w(b,G.id,P)}),P}}}(S);S.getTaskBy=D.getTaskBy,S.getResourceAssignments=D.getResourceAssignments,S.config.resource_property="owner_id",S.config.resource_store="resource",S.config.resource_render_empty_cells=!1,S.templates.histogram_cell_class=function(C,_,y,f,g){},S.templates.histogram_cell_label=function(C,_,y,f,g){return f.length+"/3"},S.templates.histogram_cell_allocated=function(C,_,y,f,g){return f.length/3},S.templates.histogram_cell_capacity=function(C,_,y,f,g){return 0},S.templates.resource_cell_class=function(C,_,y,f,g){return f.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},S.templates.resource_cell_value=function(C,_,y,f,g){return 8*f.length}}},function(z,J){z.exports=function(k){var I="$resourceAssignments";k.config.resource_assignment_store="resourceAssignments",k.config.process_resource_assignments=!0;var O_auto="auto",O_singleValue="singleValue",O_valueArray="valueArray",O_resourceValueArray="resourceValueArray",O_assignmentsArray="assignmentsArray",S=O_auto,D_fixedDates="fixedDates",D_fixedDuration="fixedDuration",D_default="default";function C(E,G){E.start_date=E.start_date?k.date.parseDate(E.start_date,"parse_date"):null,E.end_date=E.end_date?k.date.parseDate(E.end_date,"parse_date"):null;var H=Number(E.delay),$=!1;if(isNaN(H)?(E.delay=0,$=!0):E.delay=H,k.defined(E.value)||(E.value=null),!E.task_id||!E.resource_id)return!1;if(E.mode=E.mode||D_default,E.mode===D_fixedDuration&&(isNaN(Number(E.duration))&&(G=G||k.getTask(E.task_id),E.duration=k.calculateDuration({start_date:E.start_date,end_date:E.end_date,id:G})),$&&(G=G||k.getTask(E.task_id),E.delay=k.calculateDuration({start_date:G.start_date,end_date:E.start_date,id:G}))),E.mode!==D_fixedDates&&(G||k.isTaskExists(E.task_id))){var j=y(E,G=G||k.getTask(E.task_id));E.start_date=j.start_date,E.end_date=j.end_date,E.duration=j.duration}}var _=k.createDatastore({name:k.config.resource_assignment_store,initItem:function(E){return E.id||(E.id=k.uid()),C(E),E}});function y(E,G){if(E.mode===D_fixedDates)return{start_date:E.start_date,end_date:E.end_date,duration:E.duration};var H,$,j=E.delay?k.calculateEndDate({start_date:G.start_date,duration:E.delay,task:G}):new Date(G.start_date);return E.mode===D_fixedDuration?(H=k.calculateEndDate({start_date:j,duration:E.duration,task:G}),$=E.duration):(H=new Date(G.end_date),$=G.duration-E.delay),{start_date:j,end_date:H,duration:$}}function f(E){var H=E[k.config.resource_property],$=[],j=S===O_auto;if(k.defined(H)&&H){Array.isArray(H)||(H=[H],j&&(S=O_singleValue,j=!1));var Q={};H.forEach(function(Y){Y.resource_id||(Y={resource_id:Y},j&&(S=O_valueArray,j=!1)),j&&(Y.id&&Y.resource_id?(S=O_assignmentsArray,j=!1):(S=O_resourceValueArray,j=!1));var ne,oe=D_default;Y.mode||(Y.start_date&&Y.end_date||Y.start_date&&Y.duration)&&(oe=D_fixedDuration),ne=Y.id||!Y.$id||Q[Y.$id]?Y.id&&!Q[Y.id]?Y.id:k.uid():Y.$id,Q[ne]=!0;var te={id:ne,start_date:Y.start_date,duration:Y.duration,end_date:Y.end_date,delay:Y.delay,task_id:E.id,resource_id:Y.resource_id,value:Y.value,mode:Y.mode||oe};te.start_date&&te.start_date.getMonth&&te.end_date&&te.end_date.getMonth&&"number"==typeof te.duration||C(te,E),$.push(te)})}return $}function g(E){if(k.isTaskExists(E)){var G=k.getTask(E);w(G,k.getTaskAssignments(G.id))}}function w(E,G){G.sort(function(H,$){return H.start_date&&$.start_date&&H.start_date.valueOf()!=$.start_date.valueOf()?H.start_date-$.start_date:0}),S==O_assignmentsArray?E[k.config.resource_property]=G:S==O_resourceValueArray&&(E[k.config.resource_property]=G.map(function(H){return{$id:H.id,start_date:H.start_date,duration:H.duration,end_date:H.end_date,delay:H.delay,resource_id:H.resource_id,value:H.value,mode:H.mode}})),E[I]=G}function b(E){var G=f(E),H=[];return G.forEach(function($){$.id=$.id||k.uid(),H.push($)}),G}function T(E,G){var H=function($,j){var Q={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(S==O_singleValue){var Y=$[0],ne=Y?Y.resource_id:null,oe=!1;j.forEach(function(he){he.resource_id!=ne?Q.inStoreNotInTask.push(he):he.resource_id==ne&&(Q.inBoth.push({store:he,task:Y}),oe=!0)}),!oe&&Y&&Q.inTaskNotInStore.push(Y)}else if(S==O_valueArray){var te={},ee={},le={};$.forEach(function(he){te[he.resource_id]=he}),j.forEach(function(he){ee[he.resource_id]=he}),$.concat(j).forEach(function(he){if(!le[he.resource_id]){le[he.resource_id]=!0;var me=te[he.resource_id],ye=ee[he.resource_id];me&&ye?Q.inBoth.push({store:ye,task:me}):me&&!ye?Q.inTaskNotInStore.push(me):!me&&ye&&Q.inStoreNotInTask.push(ye)}})}else S!=O_assignmentsArray&&S!=O_resourceValueArray||(te={},ee={},le={},$.forEach(function(he){te[he.id||he.$id]=he}),j.forEach(function(he){ee[he.id]=he}),$.concat(j).forEach(function(he){var me=he.id||he.$id;if(!le[me]){le[me]=!0;var ye=te[me],Se=ee[me];ye&&Se?Q.inBoth.push({store:Se,task:ye}):ye&&!Se?Q.inTaskNotInStore.push(ye):!ye&&Se&&Q.inStoreNotInTask.push(Se)}}));return Q}(f(E),G);H.inStoreNotInTask.forEach(function($){_.removeItem($.id)}),H.inTaskNotInStore.forEach(function($){_.addItem($)}),H.inBoth.forEach(function($){if(function(Q,Y){var ne={id:!0};for(var oe in Q)if(!ne[oe]&&String(Q[oe])!==String(Y[oe]))return!0;return!1}($.task,$.store))(function(Q,Y){var ne={id:!0};for(var oe in Q)ne[oe]||(Y[oe]=Q[oe])})($.task,$.store),_.updateItem($.store.id);else if($.task.start_date&&$.task.end_date&&$.task.mode!==D_fixedDates){var j=y($.store,E);$.store.start_date.valueOf()==j.start_date.valueOf()&&$.store.end_date.valueOf()==j.end_date.valueOf()||($.store.start_date=j.start_date,$.store.end_date=j.end_date,$.store.duration=j.duration,_.updateItem($.store.id))}}),g(E.id)}function P(E){var G=E[I]||_.find(function(H){return H.task_id==E.id});T(E,G)}k.attachEvent("onGanttReady",function(){if(k.config.process_resource_assignments){k.attachEvent("onParse",function(){k.silent(function(){_.clearAll();var Y=[];k.eachTask(function(ne){if(ne.type!==k.config.types.project){var oe=b(ne);w(ne,oe),oe.forEach(function(te){Y.push(te)})}}),_.parse(Y)})});var E=!1,G=!1,H={};k.attachEvent("onBeforeBatchUpdate",function(){E=!0}),k.attachEvent("onAfterBatchUpdate",function(){if(G){var Y={};for(var ne in H)Y[ne]=k.getTaskAssignments(H[ne].id);for(var ne in H)T(H[ne],Y[ne])}G=!1,E=!1,H={}}),k.attachEvent("onTaskCreated",function(Y){var ne=b(Y);return _.parse(ne),w(Y,ne),!0}),k.attachEvent("onAfterTaskUpdate",function(Y,ne){E?(G=!0,H[Y]=ne):P(ne)}),k.attachEvent("onAfterTaskAdd",function(Y,ne){E?(G=!0,H[Y]=ne):P(ne)}),k.attachEvent("onRowDragEnd",function(Y){P(k.getTask(Y))}),k.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(Y,ne){var ee,oe=[Y];k.eachTask(function(te){oe.push(te.id)},Y),ee={},oe.forEach(function(le){ee[le]=!0}),_.find(function(le){return ee[le.task_id]}).forEach(function(le){_.removeItem(le.id)})}),k.$data.tasksStore.attachEvent("onClearAll",function(){return $=null,j=null,Q=null,_.clearAll(),!0}),k.attachEvent("onTaskIdChange",function(Y,ne){_.find(function(oe){return oe.task_id==Y}).forEach(function(oe){oe.task_id=ne,_.updateItem(oe.id)}),g(ne)});var $=null,j=null,Q=null;_.attachEvent("onStoreUpdated",function(){return!!E||($=null,j=null,Q=null,!0)}),k.getResourceAssignments=function(Y,ne){var oe=k.defined(ne)&&null!==ne;return null===$&&($={},j={},_.eachItem(function(te){$[te.resource_id]||($[te.resource_id]=[]),$[te.resource_id].push(te);var ee=te.resource_id+"-"+te.task_id;j[ee]||(j[ee]=[]),j[ee].push(te)})),oe?(j[Y+"-"+ne]||[]).slice():($[Y]||[]).slice()},k.getTaskAssignments=function(Y){if(null===Q){var ne=[];Q={},_.eachItem(function(oe){Q[oe.task_id]||(Q[oe.task_id]=[]),Q[oe.task_id].push(oe),oe.task_id==Y&&ne.push(oe)})}return(Q[Y]||[]).slice()},k.updateTaskAssignments=g}},{once:!0})}},function(z,J){z.exports=function(k){function I(y){return function(){return!k.config.placeholder_task||y.apply(this,arguments)}}function O(){var y=k.getTaskBy("type",k.config.types.placeholder);if(!y.length||!k.isTaskExists(y[0].id)){var f={unscheduled:!0,type:k.config.types.placeholder,duration:0,text:k.locale.labels.new_task};if(!1===k.callEvent("onTaskCreated",[f]))return;k.addTask(f)}}function S(y){var f=k.getTask(y);f.type==k.config.types.placeholder&&(f.start_date&&f.end_date&&f.unscheduled&&(f.unscheduled=!1),k.batchUpdate(function(){var g=k.copy(f);k.silent(function(){k.deleteTask(f.id)}),delete g["!nativeeditor_status"],g.type=k.config.types.task,g.id=k.uid(),k.addTask(g)}))}k.config.types.placeholder="placeholder",k.attachEvent("onDataProcessorReady",I(function(y){y&&!y._silencedPlaceholder&&(y._silencedPlaceholder=!0,y.attachEvent("onBeforeUpdate",I(function(f,g,w){return w.type!=k.config.types.placeholder||(y.setUpdated(f,!1),!1)})))}));var D=!1;function C(y){return!(!k.config.types.placeholder||!k.isTaskExists(y)||k.getTask(y).type!=k.config.types.placeholder)}function _(y){return!(!C(y.source)&&!C(y.target))}k.attachEvent("onGanttReady",function(){D||(D=!0,k.attachEvent("onAfterTaskUpdate",I(S)),k.attachEvent("onAfterTaskAdd",I(function(y,f){f.type!=k.config.types.placeholder&&(k.getTaskBy("type",k.config.types.placeholder).forEach(function(g){k.silent(function(){k.isTaskExists(g.id)&&k.deleteTask(g.id)})}),O())})),k.attachEvent("onParse",I(O)))}),k.attachEvent("onLinkValidation",function(y){return!_(y)}),k.attachEvent("onBeforeLinkAdd",function(y,f){return!_(f)}),k.attachEvent("onBeforeUndoStack",function(y){for(var f=0;f<y.commands.length;f++){var g=y.commands[f];"task"===g.entity&&g.value.type===k.config.types.placeholder&&(y.commands.splice(f,1),f--)}return!0})}},function(z,J){z.exports=function(k){function I(w){return function(){return!k.config.auto_types||k.getTaskType(k.config.types.project)!=k.config.types.project||w.apply(this,arguments)}}function O(w,b){var T=k.getTask(w),P=C(T);!1!==P&&k.getTaskType(T)!==P&&(b.$needsUpdate=!0,b[T.id]={task:T,type:P})}function S(w){if(!k.getState().group_mode){var b=(O(T=w,P=P||{}),k.eachParent(function(E){O(E.id,P)},T),P);b.$needsUpdate&&k.batchUpdate(function(){!function(T){for(var P in T)if(T[P]&&T[P].task){var E=T[P].task;E.type=T[P].type,k.updateTask(E.id)}}(b)})}var T,P}var D;function C(w){var b=k.config.types,T=k.hasChild(w.id),P=k.getTaskType(w.type);return T&&P===b.task?b.project:!T&&P===b.project&&b.task}var _,y,f=!0;function g(w){w!=k.config.root_id&&k.isTaskExists(w)&&S(w)}k.attachEvent("onParse",I(function(){f=!1,k.getState().group_mode||(k.batchUpdate(function(){k.eachTask(function(w){var T,P,b=C(w);!1!==b&&(T=w,P=b,k.getState().group_mode||(T.type=P,k.updateTask(T.id)))})}),f=!0)})),k.attachEvent("onAfterTaskAdd",I(function(w){f&&S(w)})),k.attachEvent("onAfterTaskUpdate",I(function(w){f&&S(w)})),k.attachEvent("onBeforeTaskDelete",I(function(w,b){return D=k.getParent(w),!0})),k.attachEvent("onAfterTaskDelete",I(function(w,b){g(D)})),k.attachEvent("onRowDragStart",I(function(w,b,T){return _=k.getParent(w),!0})),k.attachEvent("onRowDragEnd",I(function(w,b){g(_),S(w)})),k.attachEvent("onBeforeTaskMove",I(function(w,b,T){return y=k.getParent(w),!0})),k.attachEvent("onAfterTaskMove",I(function(w,b,T){document.querySelector(".gantt_drag_marker")||(g(y),S(w))}))}},function(z,J,k){var I=k(37).default,O=k(129).default;z.exports=function(S){S.ext.formatters={durationFormatter:function(D){return D||(D={}),D.store||(D.store=S.config.duration_unit),D.enter||(D.enter=S.config.duration_unit),I.create(D,S)},linkFormatter:function(D){return O.create(D,S)}}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=function(){function O(S){var D=this;this.format=function(C){return D._getWBSCode(C.source)},this.canParse=function(C){return D._linkReg.test(C)},this.parse=function(C){if(!D.canParse(C))return null;var _=D._linkReg.exec(C)[0].trim();return{id:void 0,source:D._findSource(_)||null,target:null,type:D._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(C){var _=D._gantt.getTask(C);return D._gantt.getWBSCode(_)},this._findSource=function(C){var _=new RegExp("^[0-9.]+","i");if(_.exec(C)){var y=_.exec(C)[0],f=D._gantt.getTaskByWBSCode(y);if(f)return f.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=S}return O.create=function(S,D){return void 0===S&&(S=null),new O(D)},O}();J.default=I},function(z,J,k){z.exports=function(I){var O=k(34),S={};I.attachEvent("onClearAll",function(){S={}});var D=O.prototype.hasChild;I.$data.tasksStore.hasChild=function(C){return I.config.branch_loading?!!D.call(this,C)||!!this.exists(C)&&this.getItem(C)[I.config.branch_loading_property]:D.call(this,C)},I.attachEvent("onTaskOpened",function(C){if(I.config.branch_loading&&I._load_url&&(w=C,I.config.branch_loading&&I._load_url&&!S[w]&&!I.getChildren(w).length&&I.hasChild(w))){var _=I._load_url,y=(_=_.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",f=I.getScrollState().y||0,g={taskId:C,url:_+y+"parent_id="+encodeURIComponent(C)};if(!1===I.callEvent("onBeforeBranchLoading",[g]))return;I.load(g.url,this._load_type,function(){f&&I.scrollTo(null,f),I.callEvent("onAfterBranchLoading",[g])}),S[C]=!0}var w})}},function(z,J,k){var I=k(19);z.exports=function(O){k(138)(O),I.prototype.getGridColumns=function(){for(var S=this.$getConfig().columns,D=[],C=0;C<S.length;C++)S[C].hide||D.push(S[C]);return D}}},function(z,J){z.exports=function(k,I){return{init:function(){},doOnRender:function(){}}}},function(z,J){z.exports=function(k){var I=-1,O=-1;return{resetCache:function(){I=-1,O=-1},_getRowHeight:function(){return-1===I&&(I=k.$getConfig().row_height),I},_refreshState:function(){this.resetCache(),O=!0;var S=k.$config.rowStore;if(S)for(var D=this._getRowHeight(),C=0;C<S.fullOrder.length;C++){var _=S.getItem(S.fullOrder[C]);if(_&&_.row_height&&_.row_height!==D){O=!1;break}}},canUseSimpleCalculation:function(){return-1===O&&this._refreshState(),O},getRowTop:function(S){return k.$config.rowStore?S*this._getRowHeight():0},getItemHeight:function(S){return this._getRowHeight()},getTotalHeight:function(){return k.$config.rowStore?k.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(S){return k.$config.rowStore?Math.floor(S/this._getRowHeight()):0}}}},function(z,J,k){var I=k(1);z.exports=function(O,S){var D={row_before_start:O.bind(function(C,_,y){var f=S.$getConfig(),g=S.$config.rowStore;if(!I.locateAttribute(y,f.task_grid_row_resizer_attribute))return!1;var w=this.locate(y,f.task_grid_row_resizer_attribute),b=g.getItem(w);return!1!==S.callEvent("onBeforeRowResize",[b])&&void 0},O),row_after_start:O.bind(function(C,_,y){var f=S.$getConfig(),g=this.locate(y,f.task_grid_row_resizer_attribute);C.config.marker.innerHTML="",C.config.marker.className+=" gantt_row_grid_resize_area",C.config.marker.style.width=S.$grid.offsetWidth+"px",C.config.drag_id=g},O),row_drag_move:O.bind(function(C,_,y){var f=S.$config.rowStore,g=S.$getConfig(),w=C.config,b=w.drag_id,T=S.getItemHeight(b),P=S.getItemTop(b),E=I.getNodePosition(S.$grid_data),G=parseInt(w.marker.style.top,10),H=P+E.y,$=0,j=g.min_task_grid_row_height;return($=G-H)<j&&($=j),w.marker.style.left=E.x+"px",w.marker.style.top=H-1+"px",w.marker.style.height=Math.abs($)+1+"px",w.marker_height=$,S.callEvent("onRowResize",[b,f.getItem(b),$+T]),!0},O),row_drag_end:O.bind(function(C,_,y){var g=C.config,w=g.drag_id,b=S.$config.rowStore.getItem(w),T=S.getItemHeight(w),P=g.marker_height;!1!==S.callEvent("onBeforeRowResizeEnd",[w,b,P])&&b.row_height!=P&&(b.row_height=P,O.updateTask(w),S.callEvent("onAfterRowResize",[w,b,T,P]),this.render())},O)};return{init:function(){var C=O.$services.getService("dnd"),_=S.$getConfig(),y=new C(S.$grid_data,{updates_per_second:60});O.defined(_.dnd_sensitivity)&&(y.config.sensitivity=_.dnd_sensitivity),y.attachEvent("onBeforeDragStart",function(f,g){return D.row_before_start(y,f,g)}),y.attachEvent("onAfterDragStart",function(f,g){return D.row_after_start(y,f,g)}),y.attachEvent("onDragMove",function(f,g){return D.row_drag_move(y,f,g)}),y.attachEvent("onDragEnd",function(f,g){return D.row_drag_end(y,f,g)})}}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(136);J.default=I.ColumnsGridDnd},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.ColumnsGridDnd=void 0;var I=k(1),O=k(137),S=function(){function D(C,_){var y=this;this._targetMarker=null,this.calculateCurrentPosition=function(f){var g=y.$grid.$grid.getBoundingClientRect(),w=g.right,b=g.left,T=f;return T>w&&(T=w),T<b&&(T=b),T},this.$gantt=C,this.$grid=_}return D.prototype.init=function(){var C=this.$gantt.$services.getService("dnd");this._dnd=new C(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new O.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},D.prototype.attachEvents=function(){var C=this;this._dnd.attachEvent("onBeforeDragStart",function(_,y){if(C._draggedCell=C.$gantt.utils.dom.closest(y.target,".gantt_grid_head_cell"),C._draggedCell){var f,g,w=C.$grid.$getConfig().columns,b=C._draggedCell.getAttribute("data-column-id");return w.map(function(T,P){T.name===b&&(f=T,g=P)}),!1!==C.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:f,draggedIndex:g}])&&!(!C._draggedCell||!f||(C._gridConfig=C.$grid.$getConfig(),C._originAutoscroll=C.$gantt.config.autoscroll,C.$gantt.config.autoscroll=!1,0))}}),this._dnd.attachEvent("onAfterDragStart",function(_,y){C._draggedCell&&(C._dnd.config.column=C._draggedCell.getAttribute("data-column-id"),C._dnd.config.marker.innerHTML=C._draggedCell.outerHTML,C._dnd.config.marker.classList.add("gantt_column_drag_marker"),C._dnd.config.marker.style.height=C._gridConfig.scale_height+"px",C._dnd.config.marker.style.lineHeight=C._gridConfig.scale_height+"px",C._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(_,y){if(C._draggedCell){C._dragX=y.clientX;var f=C.calculateCurrentPosition(y.clientX),g=C.findColumnsIndexes(),w=g.targetIndex,b=g.draggedIndex,T=C.$grid.$getConfig().columns;return!1===C.$grid.callEvent("onColumnDragMove",[{draggedColumn:T[b],targetColumn:T[w],draggedIndex:b,targetIndex:w}])?(C.cleanTargetMarker(),!1):(C.setMarkerPosition(f),C.drawTargetMarker(g),!0)}}),this._dnd.attachEvent("onDragEnd",function(){C._draggedCell&&(C.$gantt.config.autoscroll=C._originAutoscroll,C._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),C.cleanTargetMarker(),C.reorderColumns())})},D.prototype.reorderColumns=function(){var C=this.findColumnsIndexes(),_=C.targetIndex,y=C.draggedIndex,f=this.$grid.$getConfig().columns,g=f[y],w=f[_];!1!==this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:g,targetColumn:w,draggedIndex:y,targetIndex:_}])&&_!==y&&(f.splice(y,1),f.splice(_,0,g),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:g,targetColumn:w,draggedIndex:y,targetIndex:_}]))},D.prototype.findColumnsIndexes=function(){var C,_,y,f,g,w=this._dnd.config.column,b=this.$grid.$getConfig().columns,T={startX:0,endX:0},P=0,E=b.length-1,G=function(Q,Y){return Q<=Y},H=function(Q){return++Q};this.$gantt.config.rtl&&(P=b.length-1,E=0,G=function(Q,Y){return Q>=Y},H=function(Q){return--Q});for(var $=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),j=P;G(j,E)&&(void 0===C||void 0===_);j=H(j))b[j].hide||(T.startX=T.endX,T.endX+=b[j].width,$>=T.startX&&($<=T.endX||!G(H(j),E))&&(C=j,y=T.startX,f=T.endX,g=($-T.startX)/(T.endX-T.startX)),w===b[j].name&&(_=j));return{targetIndex:C,draggedIndex:_,xBefore:y,xAfter:f,columnRelativePos:g}},D.prototype.setMarkerPosition=function(C,_){void 0===_&&(_=10);var y=this._dnd.config.marker,f=this._dnd._obj.getBoundingClientRect();y.style.top=f.y+_+"px",y.style.left=C+"px"},D.prototype.drawTargetMarker=function(C){var y=C.targetIndex,f=C.draggedIndex,g=C.xBefore,w=C.xAfter,b=C.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),I.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),this._targetMarker.style.left=(y>f?w:y<f?g:b>.5?w:g)+"px",this._targetMarker.style.display="block"},D.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},D}();J.ColumnsGridDnd=S},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=function(){function O(S){this._scrollOrder=0;var C=S.grid,_=S.dnd,y=S.getCurrentX;this.$gantt=S.gantt,this.$grid=C,this._dnd=_,this.getCurrentX=y,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return O.prototype.attachEvents=function(){var S=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(D,C){var _=S.$grid.$grid.getBoundingClientRect(),y=_.right,f=_.left,g=S.getCurrentX(C.clientX);return g>=y-20&&(S.autoscrollRight(),S.autoscrollStart()),g<=f+20&&(S.autoscrollLeft(),S.autoscrollStart()),g<y-20&&g>f+20&&S.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){S.autoscrollStop()}))},O.prototype.autoscrollStart=function(){var S=this;if(0!==this._scrollOrder){var D=10*this._scrollOrder,C=this._scrollView.getScrollState();this._scrollView.scrollTo(C.position+D),setTimeout(function(){S.autoscrollStart()},50)}},O.prototype.autoscrollRight=function(){this._scrollOrder=1},O.prototype.autoscrollLeft=function(){this._scrollOrder=-1},O.prototype.autoscrollStop=function(){this._scrollOrder=0},O.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},O.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},O}();J.default=I},function(z,J){z.exports=function(k){k.getGridColumn=function(I){for(var O=k.config.columns,S=0;S<O.length;S++)if(O[S].name==I)return O[S];return null},k.getGridColumns=function(){return k.config.columns.slice()}}},function(z,J){z.exports=function(k){k.isReadonly=function(I){return"number"!=typeof I&&"string"!=typeof I||!k.isTaskExists(I)||(I=k.getTask(I)),(!I||!I[this.config.editable_property])&&(I&&I[this.config.readonly_property]||this.config.readonly)}}},function(z,J,k){function I(S){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(S)}var O=k(2);z.exports=function(S){function D(C){throw S.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(C)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(C))}S.load=function(C,_,y){this._load_url=C,this.assert(arguments.length,"Invalid load arguments");var f="json",g=null;return arguments.length>=3?(f=_,g=y):"string"==typeof arguments[1]?f=arguments[1]:"function"==typeof arguments[1]&&(g=arguments[1]),this._load_type=f,this.callEvent("onLoadStart",[C,f]),this.ajax.get(C,S.bind(function(w){this.on_load(w,f),this.callEvent("onLoadEnd",[C,f]),"function"==typeof g&&g.call(this)},this))},S.parse=function(C,_){this.on_load({xmlDoc:{responseText:C}},_)},S.serialize=function(C){return this[C=C||"json"].serialize()},S.on_load=function(C,_){if(C.xmlDoc&&404===C.xmlDoc.status)this.assert(!1,"Failed to load the data from <a href='"+C.xmlDoc.responseURL+"' target='_blank'>"+C.xmlDoc.responseURL+"</a>, server returns 404");else if(!S.$destroyed){this.callEvent("onBeforeParse",[]),_||(_="json"),this.assert(this[_],"Invalid data type:'"+_+"'");var f=this[_].parse(C.xmlDoc.responseText,C);this._process_loading(f)}},S._process_loading=function(C){C.collections&&this._load_collections(C.collections),this.$data.tasksStore.parse(C.data||C.tasks),this.$data.linksStore.parse(C.links||(C.collections?C.collections.links:[])),this.callEvent("onParse",[]),this.render()},S._load_collections=function(C){var _=!1;for(var y in C)if(C.hasOwnProperty(y)){_=!0;var f=C[y],g=this.serverList[y];if(!g)continue;g.splice(0,g.length);for(var w=0;w<f.length;w++){var b=f[w],T=this.copy(b);for(var P in T.key=T.value,b)if(b.hasOwnProperty(P)){if("value"==P||"label"==P)continue;T[P]=b[P]}g.push(T)}}_&&this.callEvent("onOptionsLoad",[])},S.attachEvent("onBeforeTaskDisplay",function(C,_){return!_.$ignore}),S.json={parse:function(C){if(C||D(C),"string"==typeof C)if(null!=("undefined"==typeof JSON?"undefined":I(JSON)))try{C=JSON.parse(C)}catch(_){D(C)}else S.assert(!1,"JSON is not supported");return C.data||C.tasks||D(C),C.dhx_security&&(S.security_key=C.dhx_security),C},serializeTask:function(C){return this._copyObject(C)},serializeLink:function(C){return this._copyLink(C)},_copyLink:function(C){var _={};for(var y in C)_[y]=C[y];return _},_copyObject:function(C){var _={};for(var y in C)"$"!=y.charAt(0)&&(_[y]=C[y],O.isDate(_[y])&&(_[y]=S.defined(S.templates.xml_format)?S.templates.xml_format(_[y]):S.templates.format_date(_[y])));return _},serialize:function(){var C=[],_=[];S.eachTask(function(g){S.resetProjectDates(g),C.push(this.serializeTask(g))},S.config.root_id,this);for(var y=S.getLinks(),f=0;f<y.length;f++)_.push(this.serializeLink(y[f]));return{data:C,links:_}}},S.xml={_xmlNodeToJSON:function(C,_){for(var y={},f=0;f<C.attributes.length;f++)y[C.attributes[f].name]=C.attributes[f].value;if(!_){for(f=0;f<C.childNodes.length;f++){var g=C.childNodes[f];1==g.nodeType&&(y[g.tagName]=g.firstChild?g.firstChild.nodeValue:"")}y.text||(y.text=C.firstChild?C.firstChild.nodeValue:"")}return y},_getCollections:function(C){for(var _={},y=S.ajax.xpath("//coll_options",C),f=0;f<y.length;f++)for(var g=_[y[f].getAttribute("for")]=[],w=S.ajax.xpath(".//item",y[f]),b=0;b<w.length;b++){for(var T=w[b].attributes,P={key:w[b].getAttribute("value"),label:w[b].getAttribute("label")},E=0;E<T.length;E++){var G=T[E];"value"!=G.nodeName&&"label"!=G.nodeName&&(P[G.nodeName]=G.nodeValue)}g.push(P)}return _},_getXML:function(C,_,y){y=y||"data",_.getXMLTopNode||(_=S.ajax.parse(_));var f=S.ajax.xmltop(y,_.xmlDoc);f&&f.tagName==y||function(w){throw S.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(w)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(w))}(C);var g=f.getAttribute("dhx_security");return g&&(S.security_key=g),f},parse:function(C,_){_=this._getXML(C,_);for(var y={},f=y.data=[],g=S.ajax.xpath("//task",_),w=0;w<g.length;w++)f[w]=this._xmlNodeToJSON(g[w]);return y.collections=this._getCollections(_),y},_copyLink:function(C){return"<item id='"+C.id+"' source='"+C.source+"' target='"+C.target+"' type='"+C.type+"' />"},_copyObject:function(C){return"<task id='"+C.id+"' parent='"+(C.parent||"")+"' start_date='"+C.start_date+"' duration='"+C.duration+"' open='"+!!C.open+"' progress='"+C.progress+"' end_date='"+C.end_date+"'><![CDATA["+C.text+"]]></task>"},serialize:function(){for(var C=[],_=[],y=S.json.serialize(),f=0,g=y.data.length;f<g;f++)C.push(this._copyObject(y.data[f]));for(f=0,g=y.links.length;f<g;f++)_.push(this._copyLink(y.links[f]));return"<data>"+C.join("")+"<coll_options for='links'>"+_.join("")+"</coll_options></data>"}},S.oldxml={parse:function(C,_){_=S.xml._getXML(C,_,"projects");for(var y={collections:{links:[]}},f=y.data=[],g=S.ajax.xpath("//task",_),w=0;w<g.length;w++){f[w]=S.xml._xmlNodeToJSON(g[w]);var b=g[w].parentNode;f[w].parent="project"==b.tagName?"project-"+b.getAttribute("id"):b.parentNode.getAttribute("id")}for(g=S.ajax.xpath("//project",_),w=0;w<g.length;w++)(T=S.xml._xmlNodeToJSON(g[w],!0)).id="project-"+T.id,f.push(T);for(w=0;w<f.length;w++){var T;(T=f[w]).start_date=T.startdate||T.est,T.end_date=T.enddate,T.text=T.name,T.duration=T.duration/8,T.open=1,T.duration||T.end_date||(T.duration=1),T.predecessortasks&&y.collections.links.push({target:T.id,source:T.predecessortasks,type:S.config.links.finish_to_start})}return y},serialize:function(){S.message("Serialization to 'old XML' is not implemented")}},S.serverList=function(C,_){return _?this.serverList[C]=_.slice(0):this.serverList[C]||(this.serverList[C]=[]),this.serverList[C]}}},function(z,J,k){var I=k(142),O=k(151),S=k(153),D=k(0);z.exports=function(C){var _=new I(C),y=new O(_),f=S.create(_,y);D.mixin(C,f)}},function(z,J,k){var I=k(0),O=k(39),S=k(143),D=k(144),C=k(149),_=k(150)();function y(f){this.$gantt=f,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=C.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}y.prototype={_calendars:{},_convertWorkTimeSettings:function(f){var g=f.days;if(g&&!f.dates){f.dates=f.dates||{};for(var w=0;w<g.length;w++)f.dates[w]=g[w],g[w]instanceof Array||(f.dates[w]=!!g[w])}return delete f.days,f},mergeCalendars:function(){var f=[],g=arguments;if(Array.isArray(g[0]))f=g[0].slice();else for(var w=0;w<arguments.length;w++)f.push(arguments[w]);var b,T=new S;return f.forEach(function(P){b=b?this._createCalendarFromConfig(T.merge(b,P)):P}.bind(this)),this.createCalendar(b)},_createCalendarFromConfig:function(f){var g=new D(this.$gantt,O(this.$gantt));g.id=String(I.uid());var w=this._convertWorkTimeSettings(f);if(w.customWeeks)for(var b in w.customWeeks)w.customWeeks[b]=this._convertWorkTimeSettings(w.customWeeks[b]);return g._setConfig(w),g},createCalendar:function(f){var g;f||(f={}),g=I.copy(f.getConfig?f.getConfig():f.worktime?f.worktime:f);var w=I.copy(this.defaults.fulltime.worktime);return I.mixin(g,w),this._createCalendarFromConfig(g)},getCalendar:function(f){var g=this._calendars[f=f||"global"];return g||(this.createDefaultCalendars(),g=this._calendars[f]),g},getCalendars:function(){var f=[];for(var g in this._calendars)f.push(this.getCalendar(g));return f},_getOwnCalendar:function(f){var g=this.$gantt.config;if(f[g.calendar_property])return this.getCalendar(f[g.calendar_property]);if(g.resource_calendars){var w;if(w=!1===this._legacyConfig?g.resource_property:C.getResourceProperty(g),Array.isArray(f[w]))g.dynamic_resource_calendars&&(b=_.getCalendarIdFromMultipleResources(f[w],this));else if(void 0===this._legacyConfig&&(this._legacyConfig=C.isLegacyResourceCalendarFormat(g.resource_calendars)),this._legacyConfig)var b=C.getCalendarIdFromLegacyConfig(f,g.resource_calendars);else if(w&&f[w]&&g.resource_calendars[f[w]])var T=this.getResourceCalendar(f[w]);if(b&&(T=this.getCalendar(b)),T)return T}return null},getResourceCalendar:function(f){if(null==f)return this.getCalendar();var g;g="number"==typeof f||"string"==typeof f?f:f.id||f.key;var w=this.$gantt.config,b=w.resource_calendars,T=null;if(b){if(void 0===this._legacyConfig&&(this._legacyConfig=C.isLegacyResourceCalendarFormat(w.resource_calendars)),this._legacyConfig){for(var P in b)if(b[P][g]){T=b[P][g];break}}else T=b[g];if(T)return this.getCalendar(T)}return this.getCalendar()},getTaskCalendar:function(f){var g,w=this.$gantt;if(null==f)return this.getCalendar();if(!(g="number"!=typeof f&&"string"!=typeof f||!w.isTaskExists(f)?f:w.getTask(f)))return this.getCalendar();var b=this._getOwnCalendar(g),T=!!w.getState().group_mode;if(!b&&w.config.inherit_calendar&&w.isTaskExists(g.parent)){for(var P=g;w.isTaskExists(P.parent)&&(P=w.getTask(P.parent),!w.isSummaryTask(P)||!(b=this._getOwnCalendar(P))););T&&!b&&f.$effective_calendar&&(b=this.getCalendar(f.$effective_calendar))}return b||this.getCalendar()},addCalendar:function(f){if(!this.isCalendar(f)){var g=f.id;(f=this.createCalendar(f)).id=g}if(f._tryChangeCalendarSettings(function(){})){var w=this.$gantt.config;return f.id=f.id||I.uid(),this._calendars[f.id]=f,w.worktimes||(w.worktimes={}),w.worktimes[f.id]=f.getConfig(),f.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},f]),null},deleteCalendar:function(f){var g=this.$gantt.config;return!!f&&!!this._calendars[f]&&(delete this._calendars[f],g.worktimes&&g.worktimes[f]&&delete g.worktimes[f],!0)},restoreConfigCalendars:function(f){for(var g in f)if(!this._calendars[g]){var b=this.createCalendar(f[g]);b.id=g,this.addCalendar(b)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var f=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(f.worktimes)},isCalendar:function(f){return[f.isWorkTime,f.setWorkTime,f.getWorkHours,f.unsetWorkTime,f.getClosestWorkTime,f.calculateDuration,f.hasDuration,f.calculateEndDate].every(function(g){return g instanceof Function})}},z.exports=y},function(z,J,k){var I=k(0);function O(){}O.prototype={_getIntervals:function(S){for(var D=[],C=0;C<S.length;C+=2)D.push({start:S[C],end:S[C+1]});return D},_toHoursArray:function(S){var D=[];function C(y){var w,b,f=Math.floor(y/3600);return f+":"+(w=Math.floor((y-60*f*60)/60),(b=String(w)).length<2&&(b="0"+b),b)}for(var _=0;_<S.length;_++)D.push(C(S[_].start)+"-"+C(S[_].end));return D},_intersectHourRanges:function(S,D){var C=[],_=S.length>D.length?S:D,y=S===_?D:S;_=_.slice(),y=y.slice(),C=[];for(var f=0;f<_.length;f++)for(var g=_[f],w=0;w<y.length;w++){var b=y[w];b.start<g.end&&b.end>g.start&&(C.push({start:Math.max(g.start,b.start),end:Math.min(g.end,b.end)}),g.end>b.end&&(y.splice(w,1),w--,f--))}return C},_mergeAdjacentIntervals:function(S){var D=S.slice();D.sort(function(f,g){return f.start-g.start});for(var C=D[0],_=1;_<D.length;_++){var y=D[_];y.start<=C.end?(y.end>C.end&&(C.end=y.end),D.splice(_,1),_--):C=y}return D},_mergeHoursConfig:function(S,D){return this._mergeAdjacentIntervals(this._intersectHourRanges(S,D))},merge:function(S,D){var C=I.copy(S.getConfig().parsed),_=I.copy(D.getConfig().parsed),y={hours:this._toHoursArray(this._mergeHoursConfig(C.hours,_.hours)),dates:{},customWeeks:{}};for(var f in C.dates){var g=C.dates[f],w=_.dates[f];if(g&&w)if(Array.isArray(g)||Array.isArray(w)){var b=Array.isArray(g)?g:C.hours,T=Array.isArray(w)?w:_.hours;y.dates[f]=this._toHoursArray(this._mergeHoursConfig(b,T))}else y.dates[f]=!0;else y.dates[f]=!1}if(C.customWeeks)for(var f in C.customWeeks)y.customWeeks[f]=C.customWeeks[f];if(_.customWeeks)for(var f in _.customWeeks)y.customWeeks[f]=_.customWeeks[f];return y}},z.exports=O},function(z,J,k){var I=k(40).createCacheObject,O=k(40).LargerUnitsCache,S=k(0),D=k(148).DateDurationCache;function C(_,y){this.argumentsHelper=y,this.$gantt=_,this._workingUnitsCache=I(),this._largeUnitsCache=new O(this),this._dateDurationCache=new D,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}C.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(_){for(var y=0,f=this.units.length;y<f;y++)if(this.units[y]==_)return y},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(_){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var y=null;if(_.day||0===_.day)y=_.day;else if(_.date){var f=String(_.date.valueOf());this._cached_timestamps[f]?y=this._cached_timestamps[f]:(y=Date.UTC(_.date.getFullYear(),_.date.getMonth(),_.date.getDate()),this._cached_timestamps[f]=y,this._cached_timestamps_count++)}return y},_checkIfWorkingUnit:function(_,y){if(!this["_is_work_"+y]){var f=this.$gantt.date["".concat(y,"_start")](new Date(_)),g=this.$gantt.date.add(f,1,y);return this.hasDuration(f,g)}return this["_is_work_"+y](_)},_is_work_day:function(_){var y=this._getWorkHours(_);return!!Array.isArray(y)&&y.length>0},_is_work_hour:function(_){for(var y=this._getWorkHours(_),f=_.getHours(),g=0;g<y.length;g++)if(f>=y[g].startHour&&f<y[g].endHour)return!0;return!1},_getTimeOfDayStamp:function(_,y){var f=_.getHours();return _.getHours()||_.getMinutes()||!y||(f=24),60*f*60+60*_.getMinutes()},_is_work_minute:function(_){for(var y=this._getWorkHours(_),f=this._getTimeOfDayStamp(_),g=0;g<y.length;g++)if(f>=y[g].start&&f<y[g].end)return!0;return!1},_nextDate:function(_,y,f){return this.$gantt.date.add(_,f,y)},_getWorkUnitsBetweenGeneric:function(_,y,f,g){var w=this.$gantt.date,b=new Date(_),T=new Date(y);g=g||1;var P,E,G=0,H=null,$=!1;(P=w[f+"_start"](new Date(b))).valueOf()!=b.valueOf()&&($=!0);var j=!1;(E=w[f+"_start"](new Date(y))).valueOf()!=y.valueOf()&&(j=!0);for(var Q=!1;b.valueOf()<T.valueOf();){if(Q=(H=this._nextDate(b,f,g)).valueOf()>T.valueOf(),this._isWorkTime(b,f))($||j&&Q)&&(P=w[f+"_start"](new Date(b)),E=w.add(P,g,f)),$?($=!1,H=this._nextDate(P,f,g),G+=(E.valueOf()-b.valueOf())/(E.valueOf()-P.valueOf())):j&&Q?(j=!1,G+=(T.valueOf()-b.valueOf())/(E.valueOf()-P.valueOf())):G++;else{var Y=this._getUnitOrder(f),ne=this.units[Y-1];ne&&!this._isWorkTime(b,ne)&&(H=this._getClosestWorkTimeFuture(b,ne))}b=H}return G},_getMinutesPerHour:function(_){var y=this._getTimeOfDayStamp(_),f=this._getTimeOfDayStamp(this._nextDate(_,"hour",1));0===f&&(f=86400);for(var g=this._getWorkHours(_),w=0;w<g.length;w++){var b=g[w];if(y>=b.start&&f<=b.end)return 60;if(y<b.end&&f>b.start)return(Math.min(f,b.end)-Math.max(y,b.start))/60}return 0},_getMinutesPerDay:function(_){var y=0;return this._getWorkHours(_).forEach(function(f){y+=f.durationMinutes}),y},getHoursPerDay:function(_){var y=0;return this._getWorkHours(_).forEach(function(f){y+=f.durationHours}),y},_getWorkUnitsForRange:function(_,y,f,g){var w,b=0,T=new Date(_),P=new Date(y);for(w=S.bind("minute"==f?this._getMinutesPerDay:this.getHoursPerDay,this);T.valueOf()<P.valueOf();)if(P-T>27648e5&&0===T.getDate()){var E=this._largeUnitsCache.getMinutesPerMonth(T);"hour"==f&&(E/=60),b+=E,T=this.$gantt.date.add(T,1,"month")}else{if(P-T>13824e5){var G=this.$gantt.date.week_start(new Date(T));if(T.valueOf()===G.valueOf()){E=this._largeUnitsCache.getMinutesPerWeek(T),"hour"==f&&(E/=60),b+=E,T=this.$gantt.date.add(T,7,"day");continue}}b+=w(T),T=this._nextDate(T,"day",1)}return b/g},_getMinutesBetweenSingleDay:function(_,y){for(var f=this._getIntervalTimestamp(_,y),g=this._getWorkHours(_),w=0,b=0;b<g.length;b++){var T=g[b];if(f.end>=T.start&&f.start<=T.end){var P=Math.max(T.start,f.start),E=Math.min(T.end,f.end);w+=(E-P)/60,f.start=E}}return Math.floor(w)},_getMinutesBetween:function(_,y,f,g){var w=new Date(_),b=new Date(y);g=g||1;var T=new Date(w),P=this.$gantt.date.add(this.$gantt.date.day_start(new Date(w)),1,"day");if(b.valueOf()<=P.valueOf())return this._getMinutesBetweenSingleDay(_,y);var E=this.$gantt.date.day_start(new Date(b)),G=b,H=this._getMinutesBetweenSingleDay(T,P),$=this._getMinutesBetweenSingleDay(E,G);return H+this._getWorkUnitsForRange(P,E,f,g)+$},_getHoursBetween:function(_,y,f,g){var w=new Date(_),b=new Date(y);g=g||1;var T=new Date(w),P=this.$gantt.date.add(this.$gantt.date.day_start(new Date(w)),1,"day");if(b.valueOf()<=P.valueOf())return Math.round(this._getMinutesBetweenSingleDay(_,y)/60);var E=this.$gantt.date.day_start(new Date(b)),G=b,H=this._getMinutesBetweenSingleDay(T,P,f,g)/60,$=this._getMinutesBetweenSingleDay(E,G,f,g)/60,j=H+this._getWorkUnitsForRange(P,E,f,g)+$;return Math.round(j)},getConfig:function(){return this._worktime},_setConfig:function(_){this._worktime=_,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var _=this.getConfig();for(var y in _.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},_.parsed.hours=this._parseHours(_.hours),_.dates)_.parsed.dates[y]=this._parseHours(_.dates[y]);if(_.customWeeks){var f=null,g=null;for(var y in _.customWeeks){var w=_.customWeeks[y];if(w.from&&w.to){var b=w.from,T=w.to;(!f||f>b.valueOf())&&(f=b.valueOf()),(!g||g<T.valueOf())&&(g=T.valueOf()),_.parsed.customWeeksBoundaries.push({from:b.valueOf(),fromReadable:new Date(b),to:T.valueOf(),toReadable:new Date(T),name:y}),_.parsed.haveCustomWeeks=!0;var P=_.parsed.customWeeks[y]={from:w.from,to:w.to,hours:this._parseHours(w.hours),dates:{}};for(var E in w.dates)P.dates[E]=this._parseHours(w.dates[E])}}_.parsed.customWeeksRangeStart=f,_.parsed.customWeeksRangeEnd=g}},_tryChangeCalendarSettings:function(_){var y=JSON.stringify(this.getConfig());return _(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(y)),this._clearCaches(),!1)},_arraysEqual:function(_,y){if(_===y)return!0;if(!_||!y||_.length!=y.length)return!1;for(var f=0;f<_.length;++f)if(_[f]!==y[f])return!1;return!0},_compareSettings:function(_,y){if(!this._arraysEqual(_.hours,y.hours))return!1;var f=Object.keys(_.dates),g=Object.keys(y.dates);if(f.sort(),g.sort(),!this._arraysEqual(f,g))return!1;for(var w=0;w<f.length;w++){var b=f[w],T=_.dates[b],P=_.dates[b];if(T!==P&&!(Array.isArray(T)&&Array.isArray(P)&&this._arraysEqual(T,P)))return!1}return!0},equals:function(_){if(!(_ instanceof C))return!1;var y=this.getConfig(),f=_.getConfig();if(!this._compareSettings(y,f))return!1;if(y.parsed.haveCustomWeeks&&f.parsed.haveCustomWeeks){if(y.parsed.customWeeksBoundaries.length!=f.parsed.customWeeksBoundaries.length)return!1;for(var g in y.parsed.customWeeks){var b=f.parsed.customWeeks[g];if(!b||!this._compareSettings(y.parsed.customWeeks[g],b))return!1}}else if(y.parse.haveCustomWeeks!==f.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var _=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(_.date,!1)},_getWorkHours:function(_,y){var f=this.getConfig();if(!1!==y&&(f=f.parsed),!_)return f.hours;var g=this._timestamp({date:_});if(f.haveCustomWeeks&&f.customWeeksRangeStart<=g&&f.customWeeksRangeEnd>g)for(var w=0;w<f.customWeeksBoundaries.length;w++)if(f.customWeeksBoundaries[w].from<=g&&f.customWeeksBoundaries[w].to>g){f=f.customWeeks[f.customWeeksBoundaries[w].name];break}var b=!0;return void 0!==f.dates[g]?b=f.dates[g]:void 0!==f.dates[_.getDay()]&&(b=f.dates[_.getDay()]),!0===b?f.hours:b||[]},_getIntervalTimestamp:function(_,y){var f={start:0,end:0};f.start=60*_.getHours()*60+60*_.getMinutes()+_.getSeconds();var g=y.getHours();return!g&&!y.getMinutes()&&!y.getSeconds()&&_.valueOf()<y.valueOf()&&(g=24),f.end=60*g*60+60*y.getMinutes()+y.getSeconds(),f},_parseHours:function(_){if(Array.isArray(_)){var y=[];_.forEach(function(P){"number"==typeof P?y.push(60*P*60):"string"==typeof P&&P.split("-").map(function(E){return E.trim()}).forEach(function(E){var G=E.split(":").map(function($){return $.trim()}),H=parseInt(60*G[0]*60);G[1]&&(H+=parseInt(60*G[1])),G[2]&&(H+=parseInt(G[2])),y.push(H)})});for(var f=[],g=0;g<y.length;g+=2){var w=y[g],b=y[g+1],T=b-w;f.push({start:w,end:b,startHour:Math.floor(w/3600),startMinute:Math.floor(w/60),endHour:Math.ceil(b/3600),endMinute:Math.ceil(b/60),durationSeconds:T,durationMinutes:T/60,durationHours:T/3600})}return f}return _},setWorkTime:function(_){return this._tryChangeCalendarSettings(S.bind(function(){var y=void 0===_.hours||_.hours,f=this._timestamp(_),g=this.getConfig();if(null!==f?g.dates[f]=y:_.customWeeks||(g.hours=y),_.customWeeks)for(var w in g.customWeeks||(g.customWeeks={}),_.customWeeks)g.customWeeks[w]=_.customWeeks[w];this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(_){return this._tryChangeCalendarSettings(S.bind(function(){if(_){var y=this._timestamp(_);null!==y&&delete this.getConfig().dates[y]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(_,y){var g,f=-1;return g=String(_.valueOf()),-1==(f=this._workingUnitsCache.getItem(y,g,_))&&(f=this._checkIfWorkingUnit(_,y),this._workingUnitsCache.setItem(y,g,f,_)),f},isWorkTime:function(){var _=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(_.date,_.unit)},calculateDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!_.unit)return!1;var y=this;return this._dateDurationCache.getDuration(_.start_date,_.end_date,_.unit,_.step,function(){return y._calculateDuration(_.start_date,_.end_date,_.unit,_.step)})},_calculateDuration:function(_,y,f,g){var w,b=1;if(_.valueOf()>y.valueOf()){var T=y;y=_,_=T,b=-1}return w="hour"==f&&1==g?this._getHoursBetween(_,y,f,g):"minute"==f&&1==g?this._getMinutesBetween(_,y,f,g):this._getWorkUnitsBetweenGeneric(_,y,f,g),b*Math.round(w)},hasDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),f=_.end_date,g=_.unit,w=_.step;if(!g)return!1;var b=new Date(_.start_date),T=new Date(f);for(w=w||1;b.valueOf()<T.valueOf();){if(this._isWorkTime(b,g))return!0;b=this._nextDate(b,g,w)}return!1},calculateEndDate:function(){var _=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),y=_.start_date,f=_.duration,g=_.unit,w=_.step;if(!g)return!1;var b=_.duration>=0?1:-1;f=Math.abs(1*f);var T=this;return this._dateDurationCache.getEndDate(y,f,g,w*b,function(){return T._calculateEndDate(y,f,g,w*b)})},_calculateEndDate:function(_,y,f,g){return!!f&&(1==g&&"minute"==f?this._calculateMinuteEndDate(_,y,g):-1==g&&"minute"==f?this._subtractMinuteDate(_,y,g):1==g&&"hour"==f?this._calculateHourEndDate(_,y,g):this._addInterval(_,y,f,g,null).end)},_addInterval:function(_,y,f,g,w){for(var b=0,T=_,P=!1;b<y&&(!w||!w(T));){var E=this._nextDate(T,f,g);"day"==f&&(P=P||!T.getHours()&&E.getHours())&&(E.setHours(0),E.getHours()||(P=!1));var G=new Date(E.valueOf()+1);g>0&&(G=new Date(E.valueOf()-1)),this._isWorkTime(G,f)&&!P&&b++,T=E}return{end:T,start:_,added:b}},_addHoursUntilDayEnd:function(_,y){for(var f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(_)),1,"day"),g=0,w=y,b=this._getIntervalTimestamp(_,f),T=this._getWorkHours(_),P=0;P<T.length&&g<y;P++){var E=T[P];if(b.end>=E.start&&b.start<=E.end){var G=Math.max(E.start,b.start),H=Math.min(E.end,b.end),$=(H-G)/3600;$>w&&($=w,H=G+60*w*60);var j=Math.round((H-G)/3600);g+=j,w-=j,b.start=H}}var Q=f;return g===y&&(Q=new Date(_.getFullYear(),_.getMonth(),_.getDate(),0,0,b.start)),{added:g,end:Q}},_calculateHourEndDate:function(_,y,f){var g=new Date(_),w=0;f=f||1,y=Math.abs(1*y);var b=this._addHoursUntilDayEnd(g,y);if(g=b.end,G=y-(w=b.added)){for(var T=g;w<y;){var P=this._nextDate(T,"day",f);P.setHours(0),P.setMinutes(0),P.setSeconds(0);var E;if(w+(E=this.getHoursPerDay(f>0?new Date(P.valueOf()-1):new Date(P.valueOf()+1)))>=y)break;w+=E,T=P}g=T}if(w<y){var G=y-w;g=(b=this._addHoursUntilDayEnd(g,G)).end}return g},_addMinutesUntilHourEnd:function(_,y){if(0===_.getMinutes())return{added:0,end:new Date(_)};for(var f=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(_)),1,"hour"),g=0,w=y,b=this._getIntervalTimestamp(_,f),T=this._getWorkHours(_),P=0;P<T.length&&g<y;P++){var E=T[P];if(b.end>=E.start&&b.start<=E.end){var G=Math.max(E.start,b.start),H=Math.min(E.end,b.end),$=(H-G)/60;$>w&&($=w,H=G+60*w);var j=Math.round((H-G)/60);w-=j,g+=j,b.start=H}}var Q=f;return g===y&&(Q=new Date(_.getFullYear(),_.getMonth(),_.getDate(),0,0,b.start)),{added:g,end:Q}},_subtractMinutesUntilHourStart:function(_,y){for(var f=this.$gantt.date.hour_start(new Date(_)),g=0,w=y,b=60*f.getHours()*60+60*f.getMinutes()+f.getSeconds(),T=60*_.getHours()*60+60*_.getMinutes()+_.getSeconds(),P=this._getWorkHours(_),E=P.length-1;E>=0&&g<y;E--){var G=P[E];if(T>G.start&&b<=G.end){var H=Math.min(T,G.end),$=Math.max(b,G.start),j=(H-$)/60;j>w&&(j=w,$=H-60*w);var Q=Math.abs(Math.round((H-$)/60));w-=Q,g+=Q,T=$}}var Y=f;return g===y&&(Y=new Date(_.getFullYear(),_.getMonth(),_.getDate(),0,0,T)),{added:g,end:Y}},_subtractMinuteDate:function(_,y,f){var g=new Date(_),w=0;f=f||-1,y=Math.abs(1*y),y=Math.round(y);var b=this._subtractMinutesUntilHourStart(g,y);w+=b.added,g=b.end;for(var T=0,P=[],E=0;w<y;){var G=this.$gantt.date.day_start(new Date(g)),H=!1;g.valueOf()===G.valueOf()&&(G=this.$gantt.date.add(G,-1,"day"),H=!0);var $=new Date(G.getFullYear(),G.getMonth(),G.getDate(),23,59,59,999).valueOf();$!==T&&(P=this._getWorkHours(G),E=this._getMinutesPerDay(G),T=$);var j=y-w,Q=this._getTimeOfDayStamp(g,H);if(P.length&&E)if(P[P.length-1].end<=Q&&j>E)w+=E,g=this.$gantt.date.add(g,-1,"day");else{for(var Y=!1,ne=null,oe=P.length-1;oe>=0;oe--)if(P[oe].start<Q-1&&P[oe].end>=Q-1){Y=!0,ne=P[oe];break}if(Y)if(Q===ne.end&&j>=ne.durationMinutes)w+=ne.durationMinutes,g=this.$gantt.date.add(g,-ne.durationMinutes,"minute");else if(j<=Q/60-ne.startMinute)w+=j,g=this.$gantt.date.add(g,-j,"minute");else{var te=this._getMinutesPerHour(g);te<=j?(w+=te,g=this._nextDate(g,"hour",f)):(w+=(b=this._subtractMinutesUntilHourStart(g,j)).added,g=b.end)}else if(0===g.getHours()&&0===g.getMinutes()&&0===g.getSeconds()){if((ee=this._getClosestWorkTimePast(g,"hour")).valueOf()===g.valueOf()){var ee=this.$gantt.date.add(g,-1,"day"),le=this._getWorkHours(ee);le.length&&ee.setSeconds(le[le.length-1].durationSeconds)}g=ee}else g=this._getClosestWorkTimePast(new Date(g-1),"hour")}else g=this.$gantt.date.add(g,-1,"day")}return w<y&&(w+=(b=this._subtractMinutesUntilHourStart(g,y-w)).added,g=b.end),g},_calculateMinuteEndDate:function(_,y,f){var g=new Date(_),w=0;f=f||1,y=Math.abs(1*y),y=Math.round(y);var b=this._addMinutesUntilHourEnd(g,y);w+=b.added,g=b.end;for(var T=0,P=[],E=0;w<y;){var G=this.$gantt.date.day_start(new Date(g)).valueOf();G!==T&&(P=this._getWorkHours(g),E=this._getMinutesPerDay(g),T=G);var H=y-w,$=this._getTimeOfDayStamp(g);if(P.length&&E)if(P[0].start>=$&&H>=E){if(w+=E,H==E){g=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,P[P.length-1].end);break}g=this.$gantt.date.add(g,1,"day"),g=this.$gantt.date.day_start(g)}else{for(var j=!1,Q=null,Y=0;Y<P.length;Y++)if(P[Y].start<=$&&P[Y].end>$){j=!0,Q=P[Y];break}if(j)if($===Q.start&&H>=Q.durationMinutes)w+=Q.durationMinutes,g=this.$gantt.date.add(g,Q.durationMinutes,"minute");else if(H<=Q.endMinute-$/60)w+=H,g=this.$gantt.date.add(g,H,"minute");else{var ne=this._getMinutesPerHour(g);ne<=H?(w+=ne,g=this._nextDate(g,"hour",f)):(w+=(b=this._addMinutesUntilHourEnd(g,H)).added,g=b.end)}else g=this._getClosestWorkTimeFuture(g,"hour")}else g=this.$gantt.date.add(this.$gantt.date.day_start(g),1,"day")}return w<y&&(w+=(b=this._addMinutesUntilHourEnd(g,y-w)).added,g=b.end),g},getClosestWorkTime:function(){var _=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(_.date,_.unit,_.dir)},_getClosestWorkTime:function(_,y,f){var g=new Date(_);if(this._isWorkTime(g,y))return g;if(g=this.$gantt.date[y+"_start"](g),"any"!=f&&f)g="past"==f?this._getClosestWorkTimePast(g,y):this._getClosestWorkTimeFuture(g,y);else{var w=this._getClosestWorkTimeFuture(g,y),b=this._getClosestWorkTimePast(g,y);g=Math.abs(w-_)<=Math.abs(_-b)?w:b}return g},_getClosestWorkTimeFuture:function(_,y){return this._getClosestWorkTimeGeneric(_,y,1)},_getClosestWorkTimePast:function(_,y){var f=this._getClosestWorkTimeGeneric(_,y,-1);return this.$gantt.date.add(f,1,y)},_findClosestTimeInDay:function(_,y,f){var g=new Date(_),w=null,b=!1;this._getWorkHours(g).length||(g=this._getClosestWorkTime(g,"day",y<0?"past":"future"),y<0&&(g=new Date(g.valueOf()-1),b=!0),f=this._getWorkHours(g));var T=this._getTimeOfDayStamp(g);if(b&&(T=this._getTimeOfDayStamp(new Date(g.valueOf()+1),b)),y>0){for(var P=0;P<f.length;P++)if(f[P].start>=T){w=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,f[P].start);break}}else for(P=f.length-1;P>=0;P--){if(f[P].end<=T){w=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,f[P].end);break}if(f[P].end>T&&f[P].start<=T){w=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,T);break}}return w},_getClosestWorkMinute:function(_,y,f){var g=new Date(_),w=this._getWorkHours(g),b=this._findClosestTimeInDay(g,f,w);return b||(g=this.calculateEndDate(g,f,"day"),f>0?g=this.$gantt.date.day_start(g):(g=this.$gantt.date.day_start(g),g=this.$gantt.date.add(g,1,"day"),g=new Date(g.valueOf()-1)),w=this._getWorkHours(g),b=this._findClosestTimeInDay(g,f,w)),f<0&&(b=this.$gantt.date.add(b,-1,y)),b},_getClosestWorkTimeGeneric:function(_,y,f){if("hour"===y||"minute"===y)return this._getClosestWorkMinute(_,y,f);for(var g=this._getUnitOrder(y),w=this.units[g-1],b=_,T=0;!this._isWorkTime(b,y)&&(!w||this._isWorkTime(b,w)||(b=f>0?this._getClosestWorkTimeFuture(b,w):this._getClosestWorkTimePast(b,w),!this._isWorkTime(b,y)));){if(++T>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var P=b.getTimezoneOffset();b=this.$gantt.date.add(b,f,y),b=this.$gantt._correct_dst_change(b,P,f,y),this.$gantt.date[y+"_start"]&&(b=this.$gantt.date[y+"_start"](b))}return b},hasWorkTime:function(){var _=this.getConfig(),y=_.dates,f=[];for(var g in _.dates)Number(g)>6&&f.push(Number(g));var w=this._checkWorkHours(_.hours),b=!1;return[0,1,2,3,4,5,6].forEach(function(T){if(!b){var P=y[T];!0===P?b=w:Array.isArray(P)&&(b=this._checkWorkHours(P))}}.bind(this)),b},_checkWorkHours:function(_){if(0===_.length)return!1;for(var y=!1,f=0;f<_.length;f+=2)_[f]!==_[f+1]&&(y=!0);return y}},z.exports=C},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.WorkUnitsMapCache=void 0;var I=function(){function O(){this.clear()}return O.prototype.getItem=function(S,D,C){if(this._cache.has(S)){var _=this._cache.get(S)[C.getFullYear()];if(_&&_.has(D))return _.get(D)}return-1},O.prototype.setItem=function(S,D,C,_){if(S&&D){var y,f=this._cache,g=_.getFullYear();f.has(S)?y=f.get(S):f.set(S,y=[]);var w=y[g];w||(w=y[g]=new Map),w.set(D,C)}},O.prototype.clear=function(){this._cache=new Map},O}();J.WorkUnitsMapCache=I},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.WorkUnitsObjectCache=void 0;var I=function(){function O(){this.clear()}return O.prototype.getItem=function(S,D,C){var _=this._cache;if(_&&_[S]){var y=_[S];if(void 0===y)return-1;var f=y[C.getFullYear()];if(f&&void 0!==f[D])return f[D]}return-1},O.prototype.setItem=function(S,D,C,_){if(S&&D){var y=this._cache;if(y){y[S]||(y[S]=[]);var f=y[S],g=_.getFullYear(),w=f[g];w||(w=f[g]={}),w[D]=C}}},O.prototype.clear=function(){this._cache={}},O}();J.WorkUnitsObjectCache=I},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.LargerUnitsCache=void 0,J.LargerUnitsCache=function(O){var S=this;this.getMinutesPerWeek=function(D){var C=D.valueOf();if(S._weekCache.has(C))return S._weekCache.get(C);for(var _=S._calendar,y=S._calendar.$gantt,f=0,g=y.date.week_start(new Date(D)),w=0;w<7;w++)f+=60*_.getHoursPerDay(g),g=y.date.add(g,1,"day");return S._weekCache.set(C,f),f},this.getMinutesPerMonth=function(D){var C=D.valueOf();if(S._monthCache.has(C))return S._monthCache.get(C);for(var _=S._calendar,y=S._calendar.$gantt,f=0,g=y.date.week_start(new Date(D)),w=y.date.add(g,1,"month").valueOf();g.valueOf()<w;)f+=60*_.getHoursPerDay(g),g=y.date.add(g,1,"day");return S._monthCache.set(C,f),f},this.clear=function(){S._weekCache=new Map,S._monthCache=new Map},this.clear(),this._calendar=O}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.DateDurationCache=void 0;var I=function(){function O(){this.clear()}return O.prototype._getCacheObject=function(S,D,C){var _=this._cache;_[D]||(_[D]=[]);var y=_[D];y||(y=_[D]={});var f=y[C];f||(f=y[C]={});var g=S.getFullYear(),w=f[g];return w||(w=f[g]={durations:{},endDates:{}}),w},O.prototype._endDateCacheKey=function(S,D){return String(S)+"-"+String(D)},O.prototype._durationCacheKey=function(S,D){return String(S)+"-"+String(D)},O.prototype.getEndDate=function(S,D,C,_,y){var f,g=this._getCacheObject(S,C,_),w=S.valueOf(),b=this._endDateCacheKey(w,D);if(void 0===g.endDates[b]){var T=y(),P=T.valueOf();g.endDates[b]=P,g.durations[this._durationCacheKey(w,P)]=D,f=T}else f=new Date(g.endDates[b]);return f},O.prototype.getDuration=function(S,D,C,_,y){var f,g=this._getCacheObject(S,C,_),w=S.valueOf(),b=D.valueOf(),T=this._durationCacheKey(w,b);if(void 0===g.durations[T]){var P=y();g.durations[T]=P.valueOf(),f=P}else f=g.durations[T];return f},O.prototype.clear=function(){this._cache={}},O}();J.DateDurationCache=I},function(z,J){function k(I){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}z.exports={isLegacyResourceCalendarFormat:function(I){if(!I)return!1;for(var O in I)if(I[O]&&"object"===k(I[O]))return!0;return!1},getResourceProperty:function(I){var S=I.resource_property;if(this.isLegacyResourceCalendarFormat(I.resource_calendars))for(var D in I){S=D;break}return S},getCalendarIdFromLegacyConfig:function(I,O){if(O)for(var S in O)if(I[S]){var C=O[S][I[S]];if(C)return C}return null}}},function(z,J){z.exports=function(){var k={};return{getCalendarIdFromMultipleResources:function(I,O){var _,S=I.map(function(_){return _&&_.resource_id?_.resource_id:_}).sort().join("-");if(I.length){if(1===I.length)return O.getResourceCalendar(S).id;if(k[S])return k[S].id;var D=(_=O).mergeCalendars(I.map(function(y){return _.getResourceCalendar(y&&y.resource_id?y.resource_id:y)}));return k[S]=D,O.addCalendar(D)}return null}}}},function(z,J,k){var I=k(39),O=k(152);function S(D){this.$gantt=D.$gantt,this.argumentsHelper=I(this.$gantt),this.calendarManager=D,this.$disabledCalendar=new O(this.$gantt,this.argumentsHelper)}S.prototype={_getCalendar:function(D){var C;if(this.$gantt.config.work_time){var _=this.calendarManager;D.task?C=_.getTaskCalendar(D.task):D.id?C=_.getTaskCalendar(D):D.calendar&&(C=D.calendar),C||(C=_.getTaskCalendar())}else C=this.$disabledCalendar;return C},getWorkHours:function(D){return D=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(D).getWorkHours(D.date)},setWorkTime:function(D,C){return D=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),C||(C=this.calendarManager.getCalendar()),C.setWorkTime(D)},unsetWorkTime:function(D,C){return D=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),C||(C=this.calendarManager.getCalendar()),C.unsetWorkTime(D)},isWorkTime:function(D,C,_,y){var f=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(f).isWorkTime(f)},getClosestWorkTime:function(D){return D=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(D).getClosestWorkTime(D)},calculateDuration:function(){var D=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(D).calculateDuration(D)},hasDuration:function(){var D=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(D).hasDuration(D)},calculateEndDate:function(D){return D=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(D).calculateEndDate(D)}},z.exports=S},function(z,J){function k(I,O){this.argumentsHelper=O,this.$gantt=I}k.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(I){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var I=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._calculateDuration(I.start_date,I.end_date,I.unit,I.step)},_calculateDuration:function(I,O,S,D){var C=this.$gantt.date,_={week:6048e5,day:864e5,hour:36e5,minute:6e4},y=0;if(_[S])y=Math.round((O-I)/(D*_[S]));else{for(var f=new Date(I),g=new Date(O);f.valueOf()<g.valueOf();)y+=1,f=C.add(f,D,S);f.valueOf()!=O.valueOf()&&(y+=(g-f)/(C.add(f,D,S)-f))}return Math.round(y)},hasDuration:function(){var I=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),O=I.start_date,S=I.end_date;return!!I.unit&&(O=new Date(O),S=new Date(S),O.valueOf()<S.valueOf())},hasWorkTime:function(){return!0},equals:function(I){return I instanceof k},calculateEndDate:function(){var I=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments);return this.$gantt.date.add(I.start_date,I.step*I.duration,I.unit)}},z.exports=k},function(z,J,k){var I=k(0);z.exports={create:function(O,S){return{getWorkHours:function(D){return S.getWorkHours(D)},setWorkTime:function(D){return S.setWorkTime(D)},unsetWorkTime:function(D){S.unsetWorkTime(D)},isWorkTime:function(D,C,_){return S.isWorkTime(D,C,_)},getClosestWorkTime:function(D){return S.getClosestWorkTime(D)},calculateDuration:function(D,C,_){return S.calculateDuration(D,C,_)},_hasDuration:function(D,C,_){return S.hasDuration(D,C,_)},calculateEndDate:function(D,C,_,y){return S.calculateEndDate(D,C,_,y)},mergeCalendars:I.bind(O.mergeCalendars,O),createCalendar:I.bind(O.createCalendar,O),addCalendar:I.bind(O.addCalendar,O),getCalendar:I.bind(O.getCalendar,O),getCalendars:I.bind(O.getCalendars,O),getResourceCalendar:I.bind(O.getResourceCalendar,O),getTaskCalendar:I.bind(O.getTaskCalendar,O),deleteCalendar:I.bind(O.deleteCalendar,O)}}}},function(z,J,k){var I=k(2);z.exports=function(O){O.isUnscheduledTask=function(y){return O.assert(y&&y instanceof Object,"Invalid argument <b>task</b>="+y+" of gantt.isUnscheduledTask. Task object was expected"),!!y.unscheduled||!y.start_date},O._isAllowedUnscheduledTask=function(y){return!(!y.unscheduled||!O.config.show_unscheduled)},O._isTaskInTimelineLimits=function(y){var f=y.start_date?y.start_date.valueOf():null,g=y.end_date?y.end_date.valueOf():null;return!!(f&&g&&f<=this._max_date.valueOf()&&g>=this._min_date.valueOf())},O.isTaskVisible=function(y){if(!this.isTaskExists(y))return!1;var f=this.getTask(y);return!(!this._isAllowedUnscheduledTask(f)&&!this._isTaskInTimelineLimits(f))&&this.getGlobalTaskIndex(y)>=0},O._getProjectEnd=function(){if(O.config.project_end)return O.config.project_end;var y=O.getTaskByTime();return(y=y.sort(function(f,g){return+f.end_date>+g.end_date?1:-1})).length?y[y.length-1].end_date:null},O._getProjectStart=function(){if(O.config.project_start)return O.config.project_start;if(O.config.start_date)return O.config.start_date;if(O.getState().min_date)return O.getState().min_date;var y=O.getTaskByTime();return(y=y.sort(function(f,g){return+f.start_date>+g.start_date?1:-1})).length?y[0].start_date:null};var S=function(y,f){var g=!(!f||f==O.config.root_id||!O.isTaskExists(f))&&O.getTask(f),w=null;if(g)w=O.config.schedule_from_end?O.calculateEndDate({start_date:g.end_date,duration:-O.config.duration_step,task:y}):g.start_date;else if(O.config.schedule_from_end)w=O.calculateEndDate({start_date:O._getProjectEnd(),duration:-O.config.duration_step,task:y});else{var b=O.getTaskByIndex(0);w=b?b.start_date?b.start_date:b.end_date?O.calculateEndDate({start_date:b.end_date,duration:-O.config.duration_step,task:y}):null:O.config.start_date||O.getState().min_date}return O.assert(w,"Invalid dates"),new Date(w)};O._set_default_task_timing=function(y){y.start_date=y.start_date||S(y,O.getParent(y)),y.duration=y.duration||O.config.duration_step,y.end_date=y.end_date||O.calculateEndDate(y)},O.createTask=function(y,f,g){return O.defined((y=y||{}).id)||(y.id=O.uid()),y.start_date||(y.start_date=S(y,f)),void 0===y.text&&(y.text=O.locale.labels.new_task),void 0===y.duration&&(y.duration=1),this.isTaskExists(f)&&(this.setParent(y,f,!0),this.getTask(f).$open=!0),this.callEvent("onTaskCreated",[y])?(this.config.details_on_create?(O.isTaskExists(y.id)?O.getTask(y.id).$index!=y.$index&&(y.start_date&&"string"==typeof y.start_date&&(y.start_date=this.date.parseDate(y.start_date,"parse_date")),y.end_date&&"string"==typeof y.end_date&&(y.end_date=this.date.parseDate(y.end_date,"parse_date")),this.$data.tasksStore.updateItem(y.id,y)):(y.$new=!0,this.silent(function(){O.$data.tasksStore.addItem(y,g)})),this.selectTask(y.id),this.refreshData(),this.showLightbox(y.id)):this.addTask(y,f,g)&&(this.showTask(y.id),this.selectTask(y.id)),y.id):null},O._update_flags=function(y,f){var g=O.$data.tasksStore;void 0===y?(this._lightbox_id=null,g.silent(function(){g.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==y&&(this._lightbox_id=f),g.getSelectedId()==y&&g.silent(function(){g.unselect(y),g.select(f)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==y&&(this._tasks_dnd.drag.id=f))};var D=function(y,f){var g=O.getTaskType(y.type),w={type:g,$no_start:!1,$no_end:!1};return f||g!=y.$rendered_type?(g==O.config.types.project?w.$no_end=w.$no_start=!0:g!=O.config.types.milestone&&(w.$no_end=!(y.end_date||y.duration),w.$no_start=!y.start_date,O._isAllowedUnscheduledTask(y)&&(w.$no_end=w.$no_start=!1)),w):(w.$no_start=y.$no_start,w.$no_end=y.$no_end,w)};function C(y){y.$effective_calendar=O.getTaskCalendar(y).id,y.start_date=O.getClosestWorkTime({dir:"future",date:y.start_date,unit:O.config.duration_unit,task:y}),y.end_date=O.calculateEndDate(y)}function _(y){var f=null,g=null,b=[];return O.eachTask(function(T){O.getTaskType(T.type)==O.config.types.project||O.isUnscheduledTask(T)||(T.rollup&&b.push(T.id),T.start_date&&!T.$no_start&&(!f||f>T.start_date.valueOf())&&(f=T.start_date.valueOf()),T.end_date&&!T.$no_end&&(!g||g<T.end_date.valueOf())&&(g=T.end_date.valueOf()))},void 0!==y?y:O.config.root_id),{start_date:f?new Date(f):null,end_date:g?new Date(g):null,rollup:b}}O._init_task_timing=function(y){var f=D(y,!0),g=y.$rendered_type!=f.type,w=f.type;g&&(y.$no_start=f.$no_start,y.$no_end=f.$no_end,y.$rendered_type=f.type),g&&w!=this.config.types.milestone&&w==this.config.types.project&&(this._set_default_task_timing(y),y.$calculate_duration=!1),w==this.config.types.milestone&&(y.end_date=y.start_date),y.start_date&&y.end_date&&!1!==y.$calculate_duration&&(y.duration=this.calculateDuration(y)),y.$calculate_duration||(y.$calculate_duration=!0),y.end_date||(y.end_date=y.start_date),y.duration=y.duration||0,0===this.config.min_duration&&0===y.duration&&(y.$no_end=!1);var b=this.getTaskCalendar(y);y.$effective_calendar&&y.$effective_calendar!==b.id&&(C(y),this.config.inherit_calendar&&this.isSummaryTask(y)&&this.eachTask(function(T){C(T)},y.id)),y.$effective_calendar=b.id},O.isSummaryTask=function(y){O.assert(y&&y instanceof Object,"Invalid argument <b>task</b>="+y+" of gantt.isSummaryTask. Task object was expected");var f=D(y);return!(!f.$no_end&&!f.$no_start)},O.resetProjectDates=function(y){var f=D(y);if(f.$no_end||f.$no_start){var g=_(y.id);(function(w,b,T,P){b.$no_start&&(w.start_date=T?new Date(T):S(w,this.getParent(w))),b.$no_end&&(w.end_date=P?new Date(P):this.calculateEndDate({start_date:w.start_date,duration:this.config.duration_step,task:w})),(b.$no_start||b.$no_end)&&this._init_task_timing(w)}).call(this,y,f,g.start_date,g.end_date),y.$rollup=g.rollup}},O.getSubtaskDuration=function(y){var f=0;return this.eachTask(function(w){this.getTaskType(w.type)==O.config.types.project||this.isUnscheduledTask(w)||(f+=w.duration)},void 0!==y?y:O.config.root_id),f},O.getSubtaskDates=function(y){var f=_(y);return{start_date:f.start_date,end_date:f.end_date}},O._update_parents=function(y,f,g){if(y){var w=this.getTask(y);w.rollup&&(g=!0);var b=this.getParent(w),T=D(w),P=!0;if(g||w.start_date&&w.end_date&&(T.$no_start||T.$no_end)){var E=w.start_date.valueOf(),G=w.end_date.valueOf();O.resetProjectDates(w),g||E!=w.start_date.valueOf()||G!=w.end_date.valueOf()||(P=!1),P&&!f&&this.refreshTask(w.id,!0)}P&&b&&this.isTaskExists(b)&&this._update_parents(b,f,g)}},O.roundDate=function(y){var f=O.getScale();I.isDate(y)&&(y={date:y,unit:f?f.unit:O.config.duration_unit,step:f?f.step:O.config.duration_step});var g,w,b,T=y.date,P=y.step,E=y.unit;if(!f)return T;if(E==f.unit&&P==f.step&&+T>=+f.min_date&&+T<=+f.max_date)b=Math.floor(O.columnIndexByDate(T)),f.trace_x[b]||(b-=1,f.rtl&&(b=0)),w=new Date(f.trace_x[b]),g=O.date.add(w,P,E);else{for(b=Math.floor(O.columnIndexByDate(T)),g=O.date[E+"_start"](new Date(f.min_date)),f.trace_x[b]&&(g=O.date[E+"_start"](f.trace_x[b]));+g<+T;){var G=(g=O.date[E+"_start"](O.date.add(g,P,E))).getTimezoneOffset();g=O._correct_dst_change(g,G,g,E),O.date[E+"_start"]&&(g=O.date[E+"_start"](g))}w=O.date.add(g,-1*P,E)}return y.dir&&"future"==y.dir?g:y.dir&&"past"==y.dir||Math.abs(T-w)<Math.abs(g-T)?w:g},O.correctTaskWorkTime=function(y){O.config.work_time&&O.config.correct_work_time&&(this.isWorkTime(y.start_date,void 0,y)?this.isWorkTime(new Date(+y.end_date-1),void 0,y)||(y.end_date=this.calculateEndDate(y)):(y.start_date=this.getClosestWorkTime({date:y.start_date,dir:"future",task:y}),y.end_date=this.calculateEndDate(y)))},O.attachEvent("onBeforeTaskUpdate",function(y,f){return O._init_task_timing(f),!0}),O.attachEvent("onBeforeTaskAdd",function(y,f){return O._init_task_timing(f),!0}),O.attachEvent("onAfterTaskMove",function(y,f,g){return O._init_task_timing(O.getTask(y)),!0})}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(){}},function(z,J){function k(I){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}z.exports=function(I){I.getTaskType=function(O){var S=O;for(var D in O&&"object"==k(O)&&(S=O.type),this.config.types)if(this.config.types[D]==S)return S;return I.config.types.task}}},function(z,J){z.exports=function(k){function I(){return k._cached_functions.update_if_changed(k),k._cached_functions.active||k._cached_functions.activate(),!0}k._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(S,D){if(D._prefetch_originals)for(var C in D._prefetch_originals)D[C]=D._prefetch_originals[C];for(D._prefetch_originals={},C=0;C<S.length;C++)this.prefetch(S[C],D)},prefetch:function(S,D){var C=D[S];if(C){var _=this;D._prefetch_originals[S]=C,D[S]=function(){for(var y=new Array(arguments.length),f=0,g=arguments.length;f<g;f++)y[f]=arguments[f];if(_.active){var w=_.get_arguments_hash(Array.prototype.slice.call(y));_.cache[S]||(_.cache[S]={});var b=_.cache[S];if(_.has_cached_value(b,w))return _.get_cached_value(b,w);var T=C.apply(this,y);return _.cache_value(b,w,T),T}return C.apply(this,y)}}return C},cache_value:function(S,D,C){this.is_date(C)&&(C=new Date(C)),S[D]=C},has_cached_value:function(S,D){return S.hasOwnProperty(D)},get_cached_value:function(S,D){var C=S[D];return this.is_date(C)&&(C=new Date(C)),C},is_date:function(S){return S&&S.getUTCDate},get_arguments_hash:function(S){for(var D=[],C=0;C<S.length;C++)D.push(this.stringify_argument(S[C]));return"("+D.join(";")+")"},stringify_argument:function(S){return(S.id?S.id:this.is_date(S)?S.valueOf():S)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(S){var D=[],C=["_isProjectEnd","_getProjectEnd","_getSlack"];"auto"==this.mode?S.config.highlight_critical_path&&(D=C):!0===this.mode&&(D=C),this.wrap_methods(D,S)},update_if_changed:function(S){(this.critical_path_mode!=S.config.highlight_critical_path||this.mode!==S.config.optimize_render)&&(this.critical_path_mode=S.config.highlight_critical_path,this.mode=S.config.optimize_render,this.setup(S))}},k.attachEvent("onBeforeGanttRender",I),k.attachEvent("onBeforeDataRender",I),k.attachEvent("onBeforeSmartRender",function(){I()}),k.attachEvent("onBeforeParse",I),k.attachEvent("onDataRender",function(){k._cached_functions.deactivate()});var O=null;k.attachEvent("onSmartRender",function(){O&&clearTimeout(O),O=setTimeout(function(){k._cached_functions.deactivate()},1e3)}),k.attachEvent("onBeforeGanttReady",function(){return k._cached_functions.update_if_changed(k),!0})}},function(z,J,k){function I(_){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(_)}var O=k(1),S=k(2),D=k(10),C=k(159);z.exports=function(_){var y=k(35);_.assert=k(160)(_);var f="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function g(T){if(!T||"string"==typeof T&&document.getElementById(T)||function(P){try{P.cloneNode(!1)}catch(E){return!1}return!0}(T))return!0;throw _.assert(!1,f),new Error(f)}_.init=function(T,P,E){_.env.isNode?T=null:g(T),P&&E&&(this.config.start_date=this._min_date=new Date(P),this.config.end_date=this._max_date=new Date(E)),this.date.init(),this.init=function(G){_.env.isNode?G=null:g(G),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(G)},this._reinit(T)},_._quickRefresh=function(T){for(var P=this._getDatastores.call(this),E=0;E<P.length;E++)P[E]._quick_refresh=!0;for(T(),E=0;E<P.length;E++)P[E]._quick_refresh=!1};var w=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(_),b=function(){D(_)||(this.$root.innerHTML="",this.$root.gantt=this,y(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var T=_.$services.getService("datastores"),P=0;P<T.length;P++)_.getDatastore(T[P]).filter(),_.getDatastore(T[P]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){_._quickRefresh(function(){_.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,C(this))}.bind(_);_.resetLayout=function(){w(),b(),this.render()},_._reinit=function(T){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),w(),this.$root=null,T&&(this.$root=O.toNode(T),b(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},_.$click={buttons:{edit:function(T){_.isReadonly(_.getTask(T))||_.showLightbox(T)},delete:function(T){var P=_.getTask(T);_.isReadonly(P)||_._dhtmlx_confirm(_.locale.labels.confirm_deleting,_.locale.labels.confirm_deleting_title,function(){_.isTaskExists(T)&&(P.$new?(_.silent(function(){_.deleteTask(T,!0)}),_.refreshData()):_.deleteTask(T)),_.hideLightbox()})}}},_.render=function(){var T;if(this.callEvent("onBeforeGanttRender",[]),!D(_)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var P=this.getScrollState(),E=P?P.x:0;this._getHorizontalScrollbar()&&(E=this._getHorizontalScrollbar().$config.codeScrollLeft||E||0),T=null,E&&(T=_.dateFromPos(E+this.config.task_scroll_offset))}if(y(this),D(_))_.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var G=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=G,this.config.preserve_scroll&&P){if(E||P.y){var H=_.getScrollState();if(+T!=+_.dateFromPos(H.x)||H.y!=P.y){E=null;var $=null;T&&(E=Math.max(_.posFromDate(T)-_.config.task_scroll_offset,0)),P.y&&($=P.y),_.scrollTo(E,$)}}var j=_.$ui.getView("grid");if(j){var Y=_.$ui.getView(j.$config.scrollY);Y&&(_.utils.dom.isChildOf(Y.$view,_.$container)||j.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},_.setSizes=_.render,_.getTaskRowNode=function(T){for(var P=this.$grid_data.childNodes,E=this.config.task_attribute,G=0;G<P.length;G++)if(P[G].getAttribute&&P[G].getAttribute(E)==T)return P[G];return null},_.changeLightboxType=function(T){if(this.getLightboxType()==T)return!0;_._silent_redraw_lightbox(T)},_._get_link_type=function(T,P){var E=null;return T&&P?E=_.config.links.start_to_start:!T&&P?E=_.config.links.finish_to_start:T||P?T&&!P&&(E=_.config.links.start_to_finish):E=_.config.links.finish_to_finish,E},_.isLinkAllowed=function(T,P,E,G){var H;if(!(H="object"==I(T)?T:{source:T,target:P,type:this._get_link_type(E,G)})||!(H.source&&H.target&&H.type)||H.source==H.target)return!1;var $=!0;return this.checkEvent("onLinkValidation")&&($=this.callEvent("onLinkValidation",[H])),$},_._correct_dst_change=function(T,P,E,G){var H=S.getSecondsInUnit(G)*E;if(H>3600&&H<86400){var $=T.getTimezoneOffset()-P;$&&(T=_.date.add(T,$,"minute"))}return T},_.isSplitTask=function(T){return _.assert(T&&T instanceof Object,"Invalid argument <b>task</b>="+T+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(T)},_._is_icon_open_click=function(T){if(!T)return!1;var P=T.target||T.srcElement;if(!P||!P.className)return!1;var E=O.getClassName(P);return-1!==E.indexOf("gantt_tree_icon")&&(-1!==E.indexOf("gantt_close")||-1!==E.indexOf("gantt_open"))}}},function(z,J){function k(I,O){var S,D=I.config.container_resize_timeout||20;if("timeout"==I.config.container_resize_method)f();else try{I.event(O,"resize",function(){I.$scrollbarRepaint?I.$scrollbarRepaint=null:C()})}catch(g){f()}function C(){clearTimeout(S),S=setTimeout(function(){I.$destroyed||I.render()},D)}var _=I.$root.offsetHeight,y=I.$root.offsetWidth;function f(){I.$root.offsetHeight==_&&I.$root.offsetWidth==y||C(),_=I.$root.offsetHeight,y=I.$root.offsetWidth,setTimeout(f,D)}}z.exports=function(I){"static"==window.getComputedStyle(I.$root).getPropertyValue("position")&&(I.$root.style.position="relative");var O=document.createElement("iframe");O.className="gantt_container_resize_watcher",O.tabIndex=-1,I.config.wai_aria_attributes&&(O.setAttribute("role","none"),O.setAttribute("aria-hidden",!0)),(!!window.Sfdc||!!window.$A||window.Aura)&&(I.config.container_resize_method="timeout"),I.$root.appendChild(O),O.contentWindow?k(I,O.contentWindow):(I.$root.removeChild(O),k(I,window))}},function(z,J){z.exports=function(k){return function(I,O){I||k.config.show_errors&&!1!==k.callEvent("onError",[O])&&(k.message?k.message({type:"error",text:O,expire:-1}):console.log(O))}}},function(z,J){z.exports=function(k){k.destructor=function(){for(var I in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)0===I.indexOf("$")&&delete this[I];this.$destroyed=!0}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(){}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(164),O=k(165),S=k(166),D=k(167),C=k(168),_=k(169),y=k(170),f=k(171),g=k(172),w=k(173),b=k(174),T=k(175),P=k(176),E=k(177),G=k(178),H=k(179),$=k(180),j=k(181),Q=k(182),Y=k(183),ne=k(184),oe=k(185),te=k(186),ee=k(187),le=k(188),he=k(189),me=k(190),ye=k(191),Se=k(192),Oe=k(193),Ne=k(194),ke=k(195),Ge=k(196);J.default=function(){return new ne.default({en:g.default,ar:I.default,be:O.default,ca:S.default,cn:D.default,cs:C.default,da:_.default,de:y.default,el:f.default,es:w.default,fa:b.default,fi:T.default,fr:P.default,he:E.default,hr:G.default,hu:H.default,id:$.default,it:j.default,jp:Q.default,kr:Y.default,nb:oe.default,nl:te.default,no:ee.default,pl:le.default,pt:he.default,ro:me.default,ru:ye.default,si:Se.default,sk:Oe.default,sv:Ne.default,tr:ke.default,ua:Ge.default})}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0623\u064a\u0627\u0631","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0623\u062b\u0646\u064a\u0646","\u0623\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062d\u0645\u064a\u0633","\u0623\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],day_short:["\u0627\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]},labels:{new_task:"\u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f",icon_save:"\u0627\u062e\u0632\u0646",icon_cancel:"\u0627\u0644\u063a\u0627\u0621",icon_details:"\u062a\u0641\u0627\u0635\u064a\u0644",icon_edit:"\u062a\u062d\u0631\u064a\u0631",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0633\u0648\u0641 \u062a\u0636\u064a\u0639, \u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",confirm_deleting:"\u0627\u0644\u062d\u062f\u062b \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627 \u060c \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0627\u0644\u063a\u0627\u0621",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u041b\u044e\u0442\u044b","\u0421\u0430\u043a\u0430\u0432\u0456\u043a","\u041a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","Ma\u0439","\u0427\u044d\u0440\u0432\u0435\u043d\u044c","\u041b\u0456\u043f\u0435\u043d\u044c","\u0416\u043d\u0456\u0432\u0435\u043d\u044c","\u0412\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u041a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u041b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0421\u043d\u0435\u0436\u0430\u043d\u044c"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041b\u044e\u0442","\u0421\u0430\u043a","\u041a\u0440\u0430\u0441","Ma\u0439","\u0427\u044d\u0440","\u041b\u0456\u043f","\u0416\u043d\u0456\u0432","\u0412\u0435\u0440","\u041a\u0430\u0441\u0442","\u041b\u0456\u0441\u0442","\u0421\u043d\u0435\u0436"],day_full:["\u041d\u044f\u0434\u0437\u0435\u043b\u044f","\u041f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0410\u045e\u0442\u043e\u0440\u0430\u043a","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041f\u044f\u0442\u043d\u0456\u0446\u0430","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0434","\u041f\u043d","\u0410\u045e\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0430\u0435 \u0437\u0430\u0434\u0430\u043d\u043d\u0435",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044c",icon_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",icon_details:"\u0414\u044d\u0442\u0430\u043b\u0456",icon_edit:"\u0417\u043c\u044f\u043d\u0456\u0446\u044c",icon_delete:"\u0412\u044b\u0434\u0430\u043b\u0456\u0446\u044c",confirm_closing:"",confirm_deleting:"\u041f\u0430\u0434\u0437\u0435\u044f \u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0435\u0437\u0432\u0430\u0440\u043e\u0442\u043d\u0430, \u043f\u0440\u0430\u0446\u044f\u0433\u043d\u0443\u0446\u044c?",section_description:"\u0410\u043f\u0456\u0441\u0430\u043d\u043d\u0435",section_time:"\u041f\u0435\u0440\u044b\u044f\u0434 \u0447\u0430\u0441\u0443",section_type:"\u0422\u044b\u043f",column_wbs:"\u0406\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041f\u0430\u0447\u0430\u0442\u0430\u043a",column_duration:"\u041f\u0440\u0430\u0446\u044f\u0433",column_add:"",link:"\u0421\u0443\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430",link_start:"(\u043f\u0430\u0447\u0430\u0442\u0430\u043a)",link_end:"(\u043a\u0430\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u0425\u0432i\u043bi\u043d\u0430",hours:"\u0413\u0430\u0434\u0437i\u043d\u0430",days:"\u0414\u0437\u0435\u043d\u044c",weeks:"\u0422\u044b\u0434\u0437\u0435\u043d\u044c",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel\xb7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xe0 definitivament, continuar ?",section_description:"Descripci\xf3",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel\xb7lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],day_short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},labels:{new_task:"\u65b0\u4efb\u52d9",icon_save:"\u4fdd\u5b58",icon_cancel:"\u5173\u95ed",icon_details:"\u8be6\u7ec6",icon_edit:"\u7f16\u8f91",icon_delete:"\u5220\u9664",confirm_closing:"\u8bf7\u786e\u8ba4\u662f\u5426\u64a4\u9500\u4fee\u6539!",confirm_deleting:"\u662f\u5426\u5220\u9664\u65e5\u7a0b?",section_description:"\u63cf\u8ff0",section_time:"\u65f6\u95f4\u8303\u56f4",section_type:"\u7c7b\u578b",column_wbs:"\u5de5\u4f5c\u5206\u89e3\u7ed3\u6784",column_text:"\u4efb\u52a1\u540d",column_start_date:"\u5f00\u59cb\u65f6\u95f4",column_duration:"\u6301\u7eed\u65f6\u95f4",column_add:"",link:"\u5173\u8054",confirm_link_deleting:"\u5c06\u88ab\u5220\u9664",link_start:" (\u5f00\u59cb)",link_end:" (\u7ed3\u675f)",type_task:"\u4efb\u52a1",type_project:"\u9879\u76ee",type_milestone:"\u91cc\u7a0b\u7891",minutes:"\u5206\u949f",hours:"\u5c0f\u65f6",days:"\u5929",weeks:"\u5468",months:"\u6708",years:"\u5e74",message_ok:"OK",message_cancel:"\u5173\u95ed",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],month_short:["Led","\xdan","B\u0159e","Dub","Kv\u011b","\u010cer","\u010cec","Srp","Z\xe1\u0159\xed","\u0158\xedj","List","Pro"],day_full:["Ned\u011ble","Pond\u011bl\xed","\xdater\xfd","St\u0159eda","\u010ctvrtek","P\xe1tek","Sobota"],day_short:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},labels:{new_task:"Nov\xe1 pr\xe1ce",icon_save:"Ulo\u017eit",icon_cancel:"Zp\u011bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xe1lost bude trvale smaz\xe1na, opravdu?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zp\u011bt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xe5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:[" Januar"," Februar"," M\xe4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xc4ndern",icon_delete:"L\xf6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xf6scht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gel\xf6scht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03ca\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],month_short:["\u0399\u0391\u039d","\u03a6\u0395\u0392","\u039c\u0391\u03a1","\u0391\u03a0\u03a1","\u039c\u0391\u0399","\u0399\u039f\u03a5\u039d","\u0399\u039f\u03a5\u039b","\u0391\u03a5\u0393","\u03a3\u0395\u03a0","\u039f\u039a\u03a4","\u039d\u039f\u0395","\u0394\u0395\u039a"],day_full:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae"],day_short:["\u039a\u03a5","\u0394\u0395","\u03a4\u03a1","\u03a4\u0395","\u03a0\u0395","\u03a0\u0391","\u03a3\u0391"]},labels:{new_task:"\u039d\u03ad\u03b1 \u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_save:"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7",icon_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",icon_details:"\u039b\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2",icon_edit:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_delete:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",confirm_closing:"",confirm_deleting:"\u03a4\u03bf \u03ad\u03c1\u03b3\u03bf \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b5\u03af \u03bf\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03ac. \u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5;",section_description:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",section_time:"\u03a7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],day_short:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xe1 definitivamente, \xbfcontinuar?",section_description:"Descripci\xf3n",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duraci\xf3n",column_add:"",link:"Enlace",confirm_link_deleting:"ser\xe1 borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"D\xedas",weeks:"Semanas",months:"Meses",years:"A\xf1os",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["\u064a\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],day_short:["\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c","\u0634"]},labels:{new_task:"\u0648\u0638\u06cc\u0641\u0647 \u062c\u062f\u06cc\u062f",icon_save:"\u0630\u062e\u06cc\u0631\u0647",icon_cancel:"\u0644\u063a\u0648",icon_details:"\u062c\u0632\u06cc\u06cc\u0627\u062a",icon_edit:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0634\u0645\u0627 \u0627\u0632\u062f\u0633\u062a \u062e\u0648\u0627\u0647\u062f \u0631\u0641\u062a\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",confirm_deleting:"\u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u0628\u0631\u0627\u06cc \u0647\u0645\u06cc\u0634\u0647 \u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",section_description:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",section_time:"\u0645\u062f\u062a \u0632\u0645\u0627\u0646",section_type:"\u0646\u0648\u0639",column_wbs:"WBS",column_text:"\u0639\u0646\u0648\u0627\u0646",column_start_date:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",column_duration:"\u0645\u062f\u062a",column_add:"",link:"\u0627\u0631\u062a\u0628\u0627\u0637",confirm_link_deleting:"\u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f",link_start:" (\u0622\u063a\u0627\u0632)",link_end:" (\u067e\u0627\u06cc\u0627\u0646)",type_task:"\u0648\u0638\u06cc\u0641\u0647",type_project:"\u067e\u0631\u0648\u0698\u0647",type_milestone:"\u0646\u06af\u0627\u0631\u0634",minutes:"\u062f\u0642\u0627\u06cc\u0642",hours:"\u0633\u0627\u0639\u0627\u062a",days:"\u0631\u0648\u0632\u0647\u0627",weeks:"\u0647\u0641\u062a\u0647",months:"\u0645\u0627\u0647\u200c\u0647\u0627",years:"\u0633\u0627\u0644\u200c\u0647\u0627",message_ok:"\u062a\u0627\u06cc\u06cc\u062f",message_cancel:"\u0644\u063a\u0648",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi teht\xe4v\xe4",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],month_short:["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfb","Sep","Oct","Nov","D\xe9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle t\xe2che",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xe9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xe9v\xe9nement sera effac\xe9 sans appel, \xeates-vous s\xfbr ?",section_description:"Description",section_time:"P\xe9riode",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la t\xe2che",column_start_date:"Date initiale",column_duration:"Dur\xe9e",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim\xe9",link_start:"(d\xe9but)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xe9es",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],month_short:["\u05d9\u05e0\u05d5","\u05e4\u05d1\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0","\u05d9\u05d5\u05dc","\u05d0\u05d5\u05d2","\u05e1\u05e4\u05d8","\u05d0\u05d5\u05e7","\u05e0\u05d5\u05d1","\u05d3\u05e6\u05de"],day_full:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],day_short:["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9"]},labels:{new_task:"\u05de\u05e9\u05d9\u05de\u05d4 \u05d7\u05d3\u05e9",icon_save:"\u05e9\u05de\u05d5\u05e8",icon_cancel:"\u05d1\u05d8\u05dc",icon_details:"\u05e4\u05e8\u05d8\u05d9\u05dd",icon_edit:"\u05e2\u05e8\u05d5\u05da",icon_delete:"\u05de\u05d7\u05e7",confirm_closing:"",confirm_deleting:"\u05d0\u05e8\u05d5\u05e2 \u05d9\u05de\u05d7\u05e7 \u05e1\u05d5\u05e4\u05d9\u05ea.\u05dc\u05d4\u05de\u05e9\u05d9\u05da?",section_description:"\u05d4\u05e1\u05d1\u05e8",section_time:"\u05ea\u05e7\u05d5\u05e4\u05d4",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u05d1\u05d8\u05dc",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","O\u017eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obri\u0161i",confirm_closing:"",confirm_deleting:"Zadatak \u0107e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Po\u010detno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"\u0107e biti izbrisan",link_start:" (po\u010detak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],month_short:["Jan","Feb","M\xe1r","\xc1pr","M\xe1j","J\xfan","J\xfal","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xe1rnap","H\xe9tf\xf5","Kedd","Szerda","Cs\xfct\xf6rt\xf6k","P\xe9ntek","szombat"],day_short:["Va","H\xe9","Ke","Sze","Cs\xfc","P\xe9","Szo"]},labels:{new_task:"\xdaj feladat",icon_save:"Ment\xe9s",icon_cancel:"M\xe9gse",icon_details:"R\xe9szletek",icon_edit:"Szerkeszt\xe9s",icon_delete:"T\xf6rl\xe9s",confirm_closing:"",confirm_deleting:"Az esem\xe9ny t\xf6r\xf6lve lesz, biztosan folytatja?",section_description:"Le\xedr\xe1s",section_time:"Id\xf5szak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"M\xe9gse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attivit\xe0",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar\xe0 eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],day_short:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},labels:{new_task:"\u65b0\u3057\u3044\u4ed5\u4e8b",icon_save:"\u4fdd\u5b58",icon_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",icon_details:"\u8a73\u7d30",icon_edit:"\u7de8\u96c6",icon_delete:"\u524a\u9664",confirm_closing:"",confirm_deleting:"\u30a4\u30d9\u30f3\u30c8\u5b8c\u5168\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3001\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f",section_description:"\u30c7\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3",section_time:"\u671f\u9593",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],month_short:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],day_full:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],day_short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},labels:{new_task:"\uc774\ub984\uc5c6\ub294 \uc791\uc5c5",icon_save:"\uc800\uc7a5",icon_cancel:"\ucde8\uc18c",icon_details:"\uc138\ubd80 \uc0ac\ud56d",icon_edit:"\uc218\uc815",icon_delete:"\uc0ad\uc81c",confirm_closing:"",confirm_deleting:"\uc791\uc5c5\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",section_description:"\uc124\uba85",section_time:"\uae30\uac04",section_type:"Type",column_wbs:"WBS",column_text:"\uc791\uc5c5\uba85",column_start_date:"\uc2dc\uc791\uc77c",column_duration:"\uae30\uac04",column_add:"",link:"\uc804\uc81c",confirm_link_deleting:"\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",link_start:" (start)",link_end:" (end)",type_task:"\uc791\uc5c5",type_project:"\ud504\ub85c\uc81d\ud2b8",type_milestone:"\ub9c8\uc77c\uc2a4\ud1a4",minutes:"\ubd84",hours:"\uc2dc\uac04",days:"\uc77c",weeks:"\uc8fc",months:"\ub2ec",years:"\ub144",message_ok:"OK",message_cancel:"\ucde8\uc18c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(O){var S=this;for(var D in this.addLocale=function(C,_){S._locales[C]=_},this.getLocale=function(C){return S._locales[C]},this._locales={},O)this._locales[D]=O[D]}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Mon","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xf8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015aro","Czw","Pi\u0105","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xf3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocz\u0105tek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usuni\u0119ty",link_start:" (pocz\u0105tek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie\u0144",months:"Miesi\u0105ce",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas ser\xe3o excluidas permanentemente, confirme?",section_description:"Descri\xe7\xe3o",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data in\xedcio",column_duration:"Dura\xe7\xe3o",column_add:"",link:"Link",confirm_link_deleting:"Ser\xe1 exclu\xeddo!",link_start:" (in\xedcio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restri\xe7\xe3o",constraint_type:"Tipo Restri\xe7\xe3o",constraint_date:"Data restri\xe7\xe3o",asap:"Mais breve poss\xedvel",alap:"Mais tarde poss\xedvel",snet:"N\xe3o come\xe7ar antes de",snlt:"N\xe3o come\xe7ar depois de",fnet:"N\xe3o terminar antes de",fnlt:"N\xe3o terminar depois de",mso:"Precisa come\xe7ar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","Ma\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","O\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],month_short:["\u042f\u043d\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043f\u0440","Ma\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","A\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],day_full:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],day_short:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",icon_save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0438",icon_edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon_delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirm_closing:"",confirm_deleting:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",section_description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",section_time:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",section_type:"\u0422\u0438\u043f",column_wbs:"\u0418\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041d\u0430\u0447\u0430\u043b\u043e",column_duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",column_add:"",link:"\u0421\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",link_start:" (\u043d\u0430\u0447\u0430\u043b\u043e)",link_end:" (\u043a\u043e\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u041c\u0438\u043d\u0443\u0442\u0430",hours:"\u0427\u0430\u0441",days:"\u0414\u0435\u043d\u044c",weeks:"\u041d\u0435\u0434\u0435\u043b\u044f",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438",resources_filter_label:"\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekli\u010di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017delite nadaljevati?",section_description:"Opis",section_time:"\u010casovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekli\u010di",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xe1j","J\xfan","J\xfal","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{new_task:"Nov\xe1 \xfaloha",icon_save:"Ulo\u017ei\u0165",icon_cancel:"Sp\xe4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xfa ulo\u017een\xe9. Skuto\u010dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xe1. Skuto\u010dne?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp\xe4\u0165",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"],day_short:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"\xc4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xc4r du s\xe4ker p\xe5 att du vill ta bort h\xe4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"L\xe4nk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"M\xe5nader",years:"\xc5r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],month_short:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni g\xf6rev",icon_save:"Kaydet",icon_cancel:"\u0130ptal",icon_details:"Detaylar",icon_edit:"D\xfczenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"G\xf6rev silinecek, emin misiniz?",section_description:"A\xe7\u0131klama",section_time:"Zaman Aral\u0131\u011f\u0131",section_type:"Tip",column_wbs:"WBS",column_text:"G\xf6rev Ad\u0131",column_start_date:"Ba\u015flang\u0131\xe7",column_duration:"S\xfcre",column_add:"",link:"Ba\u011flant\u0131",confirm_link_deleting:"silinecek",link_start:" (ba\u015flang\u0131\xe7)",link_end:" (biti\u015f)",type_task:"G\xf6rev",type_project:"Proje",type_milestone:"Kilometreta\u015f\u0131",minutes:"Dakika",hours:"Saat",days:"G\xfcn",weeks:"Hafta",months:"Ay",years:"Y\u0131l",message_ok:"OK",message_cancel:"\xddptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={date:{month_full:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],month_short:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0435\u0434","\u041f\u043e\u043d","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041f\u0442\u043d","\u0421\u0443\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043b\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041f\u043e\u0434\u0456\u044f \u0432\u0438\u043b\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456?",section_description:"\u041e\u043f\u0438\u0441",section_time:"\u0427\u0430\u0441\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a",section_type:"\u0422\u0438\u043f",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(z,J,k){z.exports=function(I){var O=k(0),S=k(7),D=k(10);if(!S.isNode){var C=k(1),_=k(2);I.utils={arrayFind:_.arrayFind,dom:C};var y=k(29)();I.event=y.attach,I.eventRemove=y.detach,I._eventRemoveAll=y.detachAll,I._createDomEventScope=y.extend,O.mixin(I,k(198)(I));var f=k(199).init(I);I.$ui=f.factory,I.$ui.layers=f.render,I.$mouseEvents=f.mouseEvents,I.$services.setService("mouseEvents",function(){return I.$mouseEvents}),I.mixin(I,f.layersApi),k(244)(I),I.$services.setService("layers",function(){return f.layersService});var g=k(245);I.mixin(I,g()),k(246)(I),k(247)(I),k(248)(I),k(249)(I),k(250)(I),k(251)(I),k(252)(I),k(253)(I),k(254)(I),k(259)(I),k(260)(I),k(270)(I),k(271)(I),I.locate=function(w){var b=C.getTargetNode(w);if(C.closest(b,".gantt_task_row"))return null;var T=arguments[1]||this.config.task_attribute,P=C.locateAttribute(b,T);return P?P.getAttribute(T):null},I._locate_css=function(w,b,T){return C.locateClassName(w,b,T)},I._locateHTML=function(w,b){return C.locateAttribute(w,b||this.config.task_attribute)}}I.attachEvent("onParse",function(){D(I)||I.attachEvent("onGanttRender",function(){if(I.config.initial_scroll){var w=I.getTaskByIndex(0),b=w?w.id:I.config.root_id;I.isTaskExists(b)&&I.$task&&I.utils.dom.isChildOf(I.$task,I.$container)&&I.showTask(b)}},{once:!0})}),I.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=C.getScrollSize()||1),D(I)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),I.attachEvent("onGanttReady",function(){!D(I)&&I.config.rtl&&I.$layout.getCellsByType("viewCell").forEach(function(w){var b=w.$config.scrollX;if(b){var T=I.$ui.getView(b);T&&T.scrollTo(T.$config.scrollSize,0)}})})}},function(z,J,k){function I(D){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(D)}var O=k(0),S=k(1);z.exports=function(D){var C="data-dhxbox",_=null;function y(te,ee){var le=te.callback;Y.hide(te.box),_=te.box=null,le&&le(ee)}function f(te){if(_){var ee=te.which||te.keyCode,le=!1;if(ne.keyboard){if(13==ee||32==ee){var he=te.target||te.srcElement;S.getClassName(he).indexOf("gantt_popup_button")>-1&&he.click?he.click():(y(_,!0),le=!0)}27==ee&&(y(_,!1),le=!0)}return le?(te.preventDefault&&te.preventDefault(),!(te.cancelBubble=!0)):void 0}}var g=S.getRootNode(D.$root)||document;function w(te){w.cover||((w.cover=document.createElement("div")).onkeydown=f,w.cover.className="dhx_modal_cover",document.body.appendChild(w.cover)),w.cover.style.display=te?"inline-block":"none"}function b(te,ee,le){var he=D._waiAria.messageButtonAttrString(te),me=ee.toLowerCase().replace(/ /g,"_");return"<div "+he+" class='gantt_popup_button dhtmlx_popup_button gantt_"+me+"_button dhtmlx_"+me+"_button' data-result='"+le+"' result='"+le+"' ><div>"+te+"</div></div>"}function T(te){ne.area||(ne.area=document.createElement("div"),ne.area.className="gantt_message_area dhtmlx_message_area",ne.area.style[ne.position]="5px",document.body.appendChild(ne.area)),ne.hide(te.id);var ee=document.createElement("div");return ee.innerHTML="<div>"+te.text+"</div>",ee.className="gantt-info dhtmlx-info gantt-"+te.type+" dhtmlx-"+te.type,ee.onclick=function(){ne.hide(te.id),te=null},D._waiAria.messageInfoAttr(ee),"bottom"==ne.position&&ne.area.firstChild?ne.area.insertBefore(ee,ne.area.firstChild):ne.area.appendChild(ee),te.expire>0&&(ne.timers[te.id]=window.setTimeout(function(){ne&&ne.hide(te.id)},te.expire)),ne.pull[te.id]=ee,ee=null,te.id}function P(){for(var te=[].slice.apply(arguments,[0]),ee=0;ee<te.length;ee++)if(te[ee])return te[ee]}function E(te,ee,le){var he=te.tagName?te:function(Se,Oe,Ne){var ke=document.createElement("div"),Ge=O.uid();D._waiAria.messageModalAttr(ke,Ge),ke.className=" gantt_modal_box dhtmlx_modal_box gantt-"+Se.type+" dhtmlx-"+Se.type,ke.setAttribute(C,1);var je="";if(Se.width&&(ke.style.width=Se.width),Se.height&&(ke.style.height=Se.height),Se.title&&(je+='<div class="gantt_popup_title dhtmlx_popup_title">'+Se.title+"</div>"),je+='<div class="gantt_popup_text dhtmlx_popup_text" id="'+Ge+'"><span>'+(Se.content?"":Se.text)+'</span></div><div  class="gantt_popup_controls dhtmlx_popup_controls">',Oe&&(je+=b(P(Se.ok,D.locale.labels.message_ok,"OK"),"ok",!0)),Ne&&(je+=b(P(Se.cancel,D.locale.labels.message_cancel,"Cancel"),"cancel",!1)),Se.buttons)for(var rt=0;rt<Se.buttons.length;rt++){var ze=Se.buttons[rt];"object"==I(ze)?je+=b(ze.label,ze.css||"gantt_"+ze.label.toLowerCase()+"_button dhtmlx_"+ze.label.toLowerCase()+"_button",ze.value||rt):je+=b(ze,ze,rt)}if(ke.innerHTML=je+="</div>",Se.content){var qe=Se.content;"string"==typeof qe&&(qe=document.getElementById(qe)),"none"==qe.style.display&&(qe.style.display=""),ke.childNodes[Se.title?1:0].appendChild(qe)}return ke.onclick=function(mt){var bt=mt.target||mt.srcElement;if(bt.className||(bt=bt.parentNode),S.closest(bt,".gantt_popup_button")){var Re=bt.getAttribute("data-result");y(Se,Re="true"==Re||"false"!=Re&&Re)}},Se.box=ke,(Oe||Ne)&&(_=Se),ke}(te,ee,le);te.hidden||w(!0),document.body.appendChild(he);var me=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-he.offsetWidth)/2)),ye=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-he.offsetHeight)/2));return he.style.top="top"==te.position?"-3px":ye+"px",he.style.left=me+"px",he.onkeydown=f,Y.focus(he),te.hidden&&Y.hide(he),D.callEvent("onMessagePopup",[he]),he}function G(te){return E(te,!0,!1)}function H(te){return E(te,!0,!0)}function $(te){return E(te)}function j(te,ee,le){return"object"!=I(te)&&("function"==typeof ee&&(le=ee,ee=""),te={text:te,type:ee,callback:le}),te}function Q(te,ee,le,he){return"object"!=I(te)&&(te={text:te,type:ee,expire:le,id:he}),te.id=te.id||O.uid(),te.expire=te.expire||ne.expire,te}D.event(g,"keydown",f,!0);var Y=function(){var te=j.apply(this,arguments);return te.type=te.type||"alert",$(te)};Y.hide=function(te){for(;te&&te.getAttribute&&!te.getAttribute(C);)te=te.parentNode;te&&(te.parentNode.removeChild(te),w(!1),D.callEvent("onAfterMessagePopup",[te]))},Y.focus=function(te){setTimeout(function(){var ee=S.getFocusableNodes(te);ee.length&&ee[0].focus&&ee[0].focus()},1)};var ne=function(te,ee,le,he){switch((te=Q.apply(this,arguments)).type=te.type||"info",te.type.split("-")[0]){case"alert":return G(te);case"confirm":return H(te);case"modalbox":return $(te);default:return T(te)}};ne.seed=(new Date).valueOf(),ne.uid=O.uid,ne.expire=4e3,ne.keyboard=!0,ne.position="top",ne.pull={},ne.timers={},ne.hideAll=function(){for(var te in ne.pull)ne.hide(te)},ne.hide=function(te){var ee=ne.pull[te];ee&&ee.parentNode&&(window.setTimeout(function(){ee.parentNode.removeChild(ee),ee=null},2e3),ee.className+=" hidden",ne.timers[te]&&window.clearTimeout(ne.timers[te]),delete ne.pull[te])};var oe=[];return D.attachEvent("onMessagePopup",function(te){oe.push(te)}),D.attachEvent("onAfterMessagePopup",function(te){for(var ee=0;ee<oe.length;ee++)oe[ee]===te&&(oe.splice(ee,1),ee--)}),D.attachEvent("onDestroy",function(){w.cover&&w.cover.parentNode&&w.cover.parentNode.removeChild(w.cover);for(var te=0;te<oe.length;te++)oe[te].parentNode&&oe[te].parentNode.removeChild(oe[te]);oe=null,ne.area&&ne.area.parentNode&&ne.area.parentNode.removeChild(ne.area),ne=null}),{alert:function(){var te=j.apply(this,arguments);return te.type=te.type||"confirm",G(te)},confirm:function(){var te=j.apply(this,arguments);return te.type=te.type||"alert",H(te)},message:ne,modalbox:Y}}},function(z,J,k){var I=k(200),O=k(202),S=k(203),D=k(11),C=k(41),_=k(207),y=k(208),f=k(209),g=k(210),w=k(22),b=k(19),T=k(19),P=k(22),E=k(22),G=k(212),H=k(223),$=k(224),j=k(226),Q=k(227),Y=k(228),ne=k(230),oe=k(231),te=k(232),ee=k(233),le=k(234),he=k(240),me=k(243);z.exports={init:function(ye){function Se(Ge,je){var rt=je(ye);rt.onCreated&&rt.onCreated(Ge),Ge.attachEvent("onReady",function(){rt.onInitialized&&rt.onInitialized(Ge)}),Ge.attachEvent("onDestroy",function(){rt.onDestroyed&&rt.onDestroyed(Ge)})}var Oe=I.createFactory(ye);Oe.registerView("cell",D),Oe.registerView("resizer",f),Oe.registerView("scrollbar",g),Oe.registerView("layout",C,function(Ge){"main"===(Ge.$config?Ge.$config.id:null)&&Se(Ge,me)}),Oe.registerView("viewcell",y),Oe.registerView("multiview",_),Oe.registerView("timeline",w,function(Ge){"timeline"!==(Ge.$config?Ge.$config.id:null)&&"task"!=Ge.$config.bind||Se(Ge,he)}),Oe.registerView("grid",b,function(Ge){"grid"!==(Ge.$config?Ge.$config.id:null)&&"task"!=Ge.$config.bind||Se(Ge,le)}),Oe.registerView("resourceGrid",T),Oe.registerView("resourceTimeline",P),Oe.registerView("resourceHistogram",E);var Ne=S(ye),ke=G(ye);return ye.ext.inlineEditors=ke,ye.ext._inlineEditors=ke,ke.init(ye),{factory:Oe,mouseEvents:O.init(ye),layersApi:Ne.init(),render:{gridLine:function(){return ne(ye)},taskBg:function(){return Q(ye)},taskBar:function(){return H(ye)},taskRollupBar:function(){return j(ye)},taskSplitBar:function(){return $(ye)},link:function(){return Y(ye)},resourceRow:function(){return oe(ye)},resourceHistogram:function(){return te(ye)},gridTaskRowResizer:function(){return ee(ye)}},layersService:{getDataRender:function(Ge){return Ne.getDataRender(Ge,ye)},createDataRender:function(Ge){return Ne.createDataRender(Ge,ye)}}}}}},function(z,J,k){function I(D){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(D)}var O=k(0),S=k(201);z.exports={createFactory:function(D){var C={},_={};function y(f,g,w,b){var T=C[f];if(!T||!T.create)return!1;"resizer"!=f||w.mode||(w.mode=b.$config.cols?"x":"y"),"viewcell"!=f||"scrollbar"!=w.view||w.scroll||(w.scroll=b.$config.cols?"y":"x"),(w=O.copy(w)).id||_[w.view]||(w.id=w.view),w.id&&!w.css&&(w.css=w.id+"_cell");var P=new T.create(g,w,this,D);return T.configure&&T.configure(P),S(P,b),P.$id||(P.$id=w.id||D.uid()),P.$parent||"object"!=I(g)||(P.$parent=g),P.$config||(P.$config=w),_[P.$id]&&(P.$id=D.uid()),_[P.$id]=P,P}return{initUI:function(f,g){var w="cell";return f.view?w="viewcell":f.resizer?w="resizer":f.rows||f.cols?w="layout":f.views&&(w="multiview"),y.call(this,w,null,f,g)},reset:function(){_={}},registerView:function(f,g,w){C[f]={create:g,configure:w}},createView:y,getView:function(f){return _[f]}}}}},function(z,J,k){var I=k(0);function O(S,D){var C=this.$config[S];return C?(C.$extendedConfig||(C.$extendedConfig=!0,Object.setPrototypeOf(C,D)),C):D}z.exports=function(S,D){var C,_,y;I.mixin(S,(C=D,{$getConfig:function(){return _||(_=C?C.$getConfig():this.$gantt.config),this.$config.config?O.call(this,"config",_):_},$getTemplates:function(){return y||(y=C?C.$getTemplates():this.$gantt.templates),this.$config.templates?O.call(this,"templates",y):y}}))}},function(z,J,k){var O,I=(O=k(1),function(S){var D={click:{},doubleclick:{},contextMenu:{}};function C(E,G,H,$){D[E][G]||(D[E][G]=[]),D[E][G].push({handler:H,root:$})}function _(E){E=E||window.event;var G=S.locate(E),H=f(E,D.click),$=!0;if(null!==G?$=!S.checkEvent("onTaskClick")||S.callEvent("onTaskClick",[G,E]):S.callEvent("onEmptyClick",[E]),$){if(!g(H,E,G))return;switch(E.target.nodeName){case"SELECT":case"INPUT":return}G&&S.getTask(G)&&!S._multiselect&&S.config.select_task&&S.selectTask(G)}}function y(E){var G=(E=E||window.event).target||E.srcElement,H=S.locate(G),$=S.locate(G,S.config.link_attribute),j=!S.checkEvent("onContextMenu")||S.callEvent("onContextMenu",[H,$,E]);return j||(E.preventDefault?E.preventDefault():E.returnValue=!1),j}function f(E,G){for(var H=E.target||E.srcElement,$=[];H;){var j=O.getClassName(H);if(j){j=j.split(" ");for(var Q=0;Q<j.length;Q++)if(j[Q]&&G[j[Q]])for(var Y=G[j[Q]],ne=0;ne<Y.length;ne++)Y[ne].root&&!O.isChildOf(H,Y[ne].root)||$.push(Y[ne].handler)}H=H.parentNode}return $}function g(E,G,H){for(var $=!0,j=0;j<E.length;j++){var Q=E[j].call(S,G,H,G.target||G.srcElement);$=$&&!(void 0!==Q&&!0!==Q)}return $}function w(E){E=E||window.event;var G=S.locate(E),H=f(E,D.doubleclick),$=!S.checkEvent("onTaskDblClick")||null===G||S.callEvent("onTaskDblClick",[G,E]);if($){if(!g(H,E,G))return;null!==G&&S.getTask(G)&&$&&S.config.details_on_dblclick&&!S.isReadonly(G)&&S.showLightbox(G)}}function b(E){if(S.checkEvent("onMouseMove")){var G=S.locate(E);S._last_move_event=E,S.callEvent("onMouseMove",[G,E])}}var T=S._createDomEventScope();function P(E){T.detachAll(),E&&(T.attach(E,"click",_),T.attach(E,"dblclick",w),T.attach(E,"mousemove",b),T.attach(E,"contextmenu",y))}return{reset:P,global:function(E,G,H){C(E,G,H,null)},delegate:C,detach:function(E,G,H,$){if(D[E]&&D[E][G]){for(var j=D[E],Q=j[G],Y=0;Y<Q.length;Y++)Q[Y].root==$&&(Q.splice(Y,1),Y--);Q.length||delete j[G]}},callHandler:function(E,G,H,$){var j=D[E][G];if(j)for(var Q=0;Q<j.length;Q++)(H||j[Q].root)&&j[Q].root!==H||j[Q].handler.apply(this,$)},onDoubleClick:w,onMouseMove:b,onContextMenu:y,onClick:_,destructor:function(){P(),D=null,T=null}}});z.exports={init:I}},function(z,J,k){var I=k(204);function O(S,D){if(S.view){var C=S.view;"string"==typeof C&&(C=D.$ui.getView(C)),C&&C.attachEvent&&C.attachEvent("onScroll",function(){D.$services.getService("state").getState("batchUpdate").batch_update||C.$config.$skipSmartRenderOnScroll||S.requestUpdate&&S.requestUpdate()})}}z.exports=function(S){var D=I(S);return{getDataRender:function(C){return S.$services.getService("layer:"+C)||null},createDataRender:function(C){var _=C.name,g=D.createGroup(C.defaultContainer,C.defaultContainerSibling,function(w,b){if(!g.filters)return!0;for(var T=0;T<g.filters.length;T++)if(!1===g.filters[T](w,b))return!1},O);return S.$services.setService("layer:"+_,function(){return g}),S.attachEvent("onGanttReady",function(){g.addLayer()}),g},init:function(){var C=this.createDataRender({name:"task",defaultContainer:function(){return S.$task_data?S.$task_data:S.$ui.getView("timeline")?S.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return S.$task_links?S.$task_links:S.$ui.getView("timeline")?S.$ui.getView("timeline").$task_links:void 0},filter:function(y){}},S),_=this.createDataRender({name:"link",defaultContainer:function(){return S.$task_data?S.$task_data:S.$ui.getView("timeline")?S.$ui.getView("timeline").$task_data:void 0}},S);return{addTaskLayer:function(y){return"function"==typeof y&&(y={renderer:y}),y.view="timeline",C.addLayer(y)},_getTaskLayers:function(){return C.getLayers()},removeTaskLayer:function(y){C.removeLayer(y)},_clearTaskLayers:function(){C.clear()},addLinkLayer:function(y){return"function"==typeof y&&(y={renderer:{render:y}}),y.view="timeline",_.addLayer(y)},_getLinkLayers:function(){return _.getLayers()},removeLinkLayer:function(y){_.removeLayer(y)},_clearLinkLayers:function(){_.clear()}}}}}},function(z,J,k){var I=k(205),O=k(0),S=k(1),D=k(14);function C(_){return _ instanceof Array||(_=Array.prototype.slice.call(arguments,0)),function(y){for(var f=!0,g=0,w=_.length;g<w;g++){var b=_[g];b&&(f=f&&!1!==b(y.id,y))}return f}}z.exports=function(_){var y=I(_);return{createGroup:function(f,g,w,b){var T={tempCollection:[],renderers:{},container:f,filters:[],getLayers:function(){this._add();var P=[];for(var E in this.renderers)P.push(this.renderers[E]);return P},getLayer:function(P){return this.renderers[P]},_add:function(P){P&&(P.id=P.id||O.uid(),this.tempCollection.push(P));for(var E=this.container(),G=this.tempCollection,H=0;H<G.length;H++)if(P=G[H],this.container()||P&&P.container&&S.isChildOf(P.container,document.body)){var $=P.container,j=P.id;if(!$.parentNode)if(P.topmost)E.appendChild($);else{var Y=g?g():E.firstChild;Y&&Y.parentNode==E?E.insertBefore($,Y):E.appendChild($)}this.renderers[j]=y.getRenderer(j,P,$),b&&b(P,_),this.tempCollection.splice(H,1),H--}},addLayer:function(P){if(P){"function"==typeof P&&(P={renderer:P}),void 0===P.filter?P.filter=C(w||[]):P.filter instanceof Array&&(P.filter.push(w),P.filter=C(P.filter)),P.container||(P.container=document.createElement("div"));var E=this;P.requestUpdate=function(){_.config.smart_rendering&&!D(_)&&E.renderers[P.id]&&E.onUpdateRequest(E.renderers[P.id])}}return this._add(P),P?P.id:void 0},onUpdateRequest:function(P){},eachLayer:function(P){for(var E in this.renderers)P(this.renderers[E])},removeLayer:function(P){this.renderers[P]&&(this.renderers[P].destructor(),delete this.renderers[P])},clear:function(){for(var P in this.renderers)this.renderers[P].destructor();this.renderers={}}};return _.attachEvent("onDestroy",function(){T.clear(),T=null}),T}}}},function(z,J,k){var I=k(206),O=k(14),S=k(21),D=k(5);z.exports=function(C){var _={},y={};function f(w){var b=null;return"string"==typeof w.view?b=C.$ui.getView(w.view):w.view&&(b=w.view),b}function g(w,b,T){if(y[w])return y[w];b.renderer||C.assert(!1,"Invalid renderer call");var P=null,E=null,G=null,H=null,$=null;"function"==typeof b.renderer?(P=b.renderer,G=S):(P=b.renderer.render,E=b.renderer.update,H=b.renderer.onrender,b.renderer.isInViewPort?$=b.renderer.isInViewPort:G=b.renderer.getRectangle,G||null===G||(G=S));var j=b.filter;return T&&T.setAttribute(C.config.layer_attribute,!0),y[w]={render_item:function(Q,Y,ne,oe,te){if(Y=Y||T,!j||j(Q)){var ee=oe||f(b),le=te||(ee?ee.$getConfig():null),he=ne;!he&&le&&le.smart_rendering&&(he=ee.getViewPort());var me=null;!O(C)&&(G||$)&&he?($?$(Q,he,ee,le,C):I(he,G(Q,ee,le,C)))&&(me=P.call(C,Q,ee,le,he)):me=P.call(C,Q,ee,le,he),this.append(Q,me,Y),H&&11!=Y.nodeType&&me&&H.call(C,Q,me,ee)}else this.remove_item(Q.id)},clear:function(Q){this.rendered=_[w]={},b.append||this.clear_container(Q)},clear_container:function(Q){(Q=Q||T)&&(Q.innerHTML="")},get_visible_range:function(Q){var Y,ne,oe=f(b),te=oe?oe.$getConfig():null;return te&&te.smart_rendering&&(Y=oe.getViewPort()),oe&&Y&&("function"==typeof b.renderer?ne=D(C,oe,te,Q,Y):b.renderer&&b.renderer.getVisibleRange&&(ne=b.renderer.getVisibleRange(C,oe,te,Q,Y))),ne||(ne={start:0,end:Q.count()}),ne},render_items:function(Q,Y){Y=Y||T;var ne=document.createDocumentFragment();this.clear(Y);var oe=null,te=f(b),ee=te?te.$getConfig():null;ee&&ee.smart_rendering&&(oe=te.getViewPort());for(var le=0,he=Q.length;le<he;le++)this.render_item(Q[le],ne,oe,te,ee);Y.appendChild(ne,Y);var me={};Q.forEach(function(Oe){me[Oe.id]=Oe});var ye={};if(H){var Se={};for(var le in this.rendered)ye[le]||(Se[le]=this.rendered[le],H.call(C,me[le],this.rendered[le],te))}},update_items:function(Q,Y){var ne=f(b),oe=ne?ne.$getConfig():null;if(ne&&ne.$getConfig().smart_rendering&&!O(C)&&this.rendered&&(G||$)){Y=Y||T;var te=document.createDocumentFragment(),ee=null;ne&&(ee=ne.getViewPort());var le={};Q.forEach(function(je){le[je.id]=je});var he={},me={};for(var ye in this.rendered)me[ye]=!0,he[ye]=!0;for(var Se={},Oe=(ye=0,Q.length);ye<Oe;ye++){var Ne=Q[ye],ke=this.rendered[Ne.id];me[Ne.id]=!1,ke&&ke.parentNode?($?$(Ne,ee,ne,oe,C):I(ee,G(Ne,ne,oe,C)))?(E&&E.call(C,Ne,ke,ne,oe,ee),this.restore(Ne,te)):me[Ne.id]=!0:(Se[Q[ye].id]=!0,this.render_item(Q[ye],te,ee,ne,oe))}for(var ye in me)me[ye]&&this.hide(ye);if(te.childNodes.length&&Y.appendChild(te,Y),H){var Ge={};for(var ye in this.rendered)he[ye]&&!Se[ye]||(Ge[ye]=this.rendered[ye],H.call(C,le[ye],this.rendered[ye],ne))}}},append:function(Q,Y,ne){this.rendered&&(Y?(this.rendered[Q.id]&&this.rendered[Q.id].parentNode?this.replace_item(Q.id,Y):ne.appendChild(Y),this.rendered[Q.id]=Y):this.rendered[Q.id]&&this.remove_item(Q.id))},replace_item:function(Q,Y){var ne=this.rendered[Q];ne&&ne.parentNode&&ne.parentNode.replaceChild(Y,ne),this.rendered[Q]=Y},remove_item:function(Q){this.hide(Q),delete this.rendered[Q]},hide:function(Q){var Y=this.rendered[Q];Y&&Y.parentNode&&Y.parentNode.removeChild(Y)},restore:function(Q,Y){var ne=this.rendered[Q.id];ne?ne.parentNode||this.append(Q,ne,Y||T):this.render_item(Q,Y||T)},change_id:function(Q,Y){this.rendered[Y]=this.rendered[Q],delete this.rendered[Q]},rendered:_[w],node:T,destructor:function(){this.clear(),delete y[w],delete _[w]}},y[w]}return{getRenderer:g,clearRenderers:function(){for(var w in y)g(w).destructor()}}}},function(z,J){z.exports=function(k,I){return!!I&&!(I.left>k.x_end||I.left+I.width<k.x)&&!(I.top>k.y_end||I.top+I.height<k.y)}},function(z,J,k){var I=k(3),O=k(41),S=k(11),D=function(C){"use strict";function _(y,f,g){for(var w=C.apply(this,arguments)||this,b=0;b<w.$cells.length;b++)w.$cells[b].$config.hidden=0!==b;return w.$cell=w.$cells[0],w.$name="viewLayout",w}return I(_,C),_.prototype.cell=function(y){var f=C.prototype.cell.call(this,y);return f.$view||this.$fill(null,this),f},_.prototype.moveView=function(y){var f=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,f.removeChild(this.$cell.$view)),this.$cell=y,f.appendChild(y.$view)},_.prototype.setSize=function(y,f){S.prototype.setSize.call(this,y,f)},_.prototype.setContentSize=function(){var y=this.$lastSize;this.$cell.setSize(y.contentX,y.contentY)},_.prototype.getSize=function(){var y=C.prototype.getSize.call(this);if(this.$cell){var f=this.$cell.getSize();if(this.$config.byMaxSize)for(var g=0;g<this.$cells.length;g++){var w=this.$cells[g].getSize();for(var b in f)f[b]=Math.max(f[b],w[b])}for(var T in y)y[T]=y[T]||f[T];y.gravity=Math.max(y.gravity,f.gravity)}return y},_}(O);z.exports=D},function(z,J,k){var I=k(3),O=k(0),S=function(D){"use strict";function C(_,y,f){var g=D.apply(this,arguments)||this;if(y.view){y.id&&(this.$id=O.uid());var w=O.copy(y);if(delete w.config,delete w.templates,this.$content=this.$factory.createView(y.view,this,w,this),!this.$content)return!1}return g.$name="viewCell",g}return I(C,D),C.prototype.destructor=function(){this.clear(),D.prototype.destructor.call(this)},C.prototype.clear=function(){if(this.$initialized=!1,this.$content){var _=this.$content.unload||this.$content.destructor;_&&_.call(this.$content)}D.prototype.clear.call(this)},C.prototype.scrollTo=function(_,y){this.$content&&this.$content.scrollTo?this.$content.scrollTo(_,y):D.prototype.scrollTo.call(this,_,y)},C.prototype._setContentSize=function(_,y){var f=this._getBorderSizes();"number"==typeof _&&(this.$config.width=_+f.horizontal),"number"==typeof y&&(this.$config.height=y+f.vertical)},C.prototype.setSize=function(_,y){if(D.prototype.setSize.call(this,_,y),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var g=this.$view.childNodes[1];g||(g=this.$view.childNodes[0]),this.$content.init(g)}},C.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},C.prototype.getContentSize=function(){var _=D.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var y=this.$content.getSize();_.width=void 0===y.contentX?y.width:y.contentX,_.height=void 0===y.contentY?y.height:y.contentY}var f=this._getBorderSizes();return _.width+=f.horizontal,_.height+=f.vertical,_},C}(k(11));z.exports=S},function(z,J){z.exports=null},function(z,J,k){var I=k(3),O=k(1),S=k(0),D=k(7),C=function(_){"use strict";var y=["altKey","shiftKey","metaKey"];function f(g,w,b,T){var P=_.apply(this,arguments)||this;this.$config=S.mixin(w,{scroll:"x"}),P._scrollHorizontalHandler=S.bind(P._scrollHorizontalHandler,P),P._scrollVerticalHandler=S.bind(P._scrollVerticalHandler,P),P._outerScrollVerticalHandler=S.bind(P._outerScrollVerticalHandler,P),P._outerScrollHorizontalHandler=S.bind(P._outerScrollHorizontalHandler,P),P._mouseWheelHandler=S.bind(P._mouseWheelHandler,P),this.$config.hidden=!0;var E=T.config.scroll_size;return T.env.isIE&&(E+=1),this._isHorizontal()?(P.$config.height=E,P.$parent.$config.height=E):(P.$config.width=E,P.$parent.$config.width=E),this.$config.scrollPosition=0,P.$name="scroller",P}return I(f,_),f.prototype.init=function(g){g.innerHTML=this.$toHTML(),this.$view=g.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},f.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},f.prototype._getRootParent=function(){for(var g=this.$parent;g&&g.$parent;)g=g.$parent;if(g)return g},f.prototype._eachView=function(){var g=[];return function w(b,T){if(T.push(b),b.$cells)for(var P=0;P<b.$cells.length;P++)w(b.$cells[P],T)}(this._getRootParent(),g),g},f.prototype._getLinkedViews=function(){for(var g=this._eachView(),w=[],b=0;b<g.length;b++)g[b].$config&&(this._isVertical()&&g[b].$config.scrollY==this.$id||this._isHorizontal()&&g[b].$config.scrollX==this.$id)&&w.push(g[b]);return w},f.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},f.prototype._initLinkedViews=function(){for(var g=this._getLinkedViews(),w=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",b=0;b<g.length;b++)O.addClassName(g[b].$view||g[b].getNode(),w)},f.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},f.prototype._updateLinkedViews=function(){},f.prototype._initMouseWheel=function(){this.$domEvents.attach(this._getRootParent().$view,D.isFF?"wheel":"mousewheel",this._mouseWheelHandler,{passive:!1})},f.prototype.scrollHorizontally=function(g){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=g,this.$config.codeScrollLeft=g,g=this.$scroll_hor.scrollLeft;for(var w=this._getLinkedViews(),b=0;b<w.length;b++)w[b].scrollTo&&w[b].scrollTo(g,void 0);var T=this.$config.scrollPosition;this.$config.scrollPosition=g,this.callEvent("onScroll",[T,g,this.$config.scroll]),this._scrolling=!1}},f.prototype.scrollVertically=function(g){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=g,g=this.$scroll_ver.scrollTop;for(var w=this._getLinkedViews(),b=0;b<w.length;b++)w[b].scrollTo&&w[b].scrollTo(void 0,g);var T=this.$config.scrollPosition;this.$config.scrollPosition=g,this.callEvent("onScroll",[T,g,this.$config.scroll]),this._scrolling=!1}},f.prototype._isVertical=function(){return"y"==this.$config.scroll},f.prototype._isHorizontal=function(){return"x"==this.$config.scroll},f.prototype._scrollHorizontalHandler=function(g){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;this.scrollHorizontally(this.$scroll_hor.scrollLeft),this._oldLeft=this.$scroll_hor.scrollLeft}},f.prototype._outerScrollHorizontalHandler=function(g){this._isVertical()},f.prototype.show=function(){this.$parent.show()},f.prototype.hide=function(){this.$parent.hide()},f.prototype._getScrollSize=function(){for(var g,w=0,b=0,T=this._isHorizontal(),P=this._getLinkedViews(),E=T?"scrollWidth":"scrollHeight",G=T?"contentX":"contentY",H=T?"x":"y",$=this._getScrollOffset(),j=0;j<P.length;j++)if((g=P[j])&&g.$content&&g.$content.getSize&&!g.$config.hidden){var Q,Y=g.$content.getSize();if(Q=Y.hasOwnProperty(E)?Y[E]:Y[G],$)Y[G]>Y[H]&&Y[G]>w&&Q>Y[H]-$+2&&(w=Q+(T?0:2),b=Y[H]);else{var ne=Math.max(Y[G]-Q,0);(Q+=ne)>Math.max(Y[H]-ne,0)&&Q>w&&(w=Q,b=Y[H])}}return{outerScroll:b,innerScroll:w}},f.prototype.scroll=function(g){this._isHorizontal()?this.scrollHorizontally(g):this.scrollVertically(g)},f.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},f.prototype.setSize=function(g,w){_.prototype.setSize.apply(this,arguments);var b=this._getScrollSize(),T=(this._isVertical()?w:g)-this._getScrollOffset()+(this._isHorizontal()?1:0);b.innerScroll&&T>b.outerScroll&&(b.innerScroll+=T-b.outerScroll),this.$config.scrollSize=b.innerScroll,this.$config.width=g,this.$config.height=w,this._setScrollSize(b.innerScroll)},f.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},f.prototype.shouldShow=function(){var g=this._getScrollSize();return!(!g.innerScroll&&this.$parent&&this.$parent.$view.parentNode||!g.innerScroll||this.$parent&&this.$parent.$view.parentNode)},f.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},f.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},f.prototype._getScaleOffset=function(g){var w=0;return!g||"timeline"!=g.$config.view&&"grid"!=g.$config.view||(w=g.$content.$getConfig().scale_height),w},f.prototype._getScrollOffset=function(){var g=0;if(this._isVertical()){var w=this.$parent.$parent;g=Math.max(this._getScaleOffset(w.getPrevSibling(this.$parent.$id)),this._getScaleOffset(w.getNextSibling(this.$parent.$id)))}else for(var b=this._getLinkedViews(),T=0;T<b.length;T++){var P=b[T].$parent.$cells,E=P[P.length-1];if(E&&"scrollbar"==E.$config.view&&!1===E.$config.hidden){g=E.$config.width;break}}return g||0},f.prototype._setScrollSize=function(g){var w=this._isHorizontal()?"width":"height",b=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,T=this._getScrollOffset(),P=b.firstChild;T?this._isVertical()?(this.$config.outerSize=this.$config.height-T+3,b.style.height=this.$config.outerSize+"px",b.style.top=T-1+"px",O.addClassName(b,this.$parent._borders.top),O.addClassName(b.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-T+1,b.style.width=this.$config.outerSize+"px"):(b.style.top="auto",O.removeClassName(b,this.$parent._borders.top),O.removeClassName(b.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),P.style[w]=g+"px"},f.prototype._scrollVerticalHandler=function(g){if(!this._scrollHorizontalHandler()&&!this._scrolling){var w=this.$scroll_ver.scrollTop;w!=this._oldTop&&(this.scrollVertically(w),this._oldTop=this.$scroll_ver.scrollTop)}},f.prototype._outerScrollVerticalHandler=function(g){this._scrollHorizontalHandler()},f.prototype._checkWheelTarget=function(g){for(var w=this._getLinkedViews().concat(this),b=0;b<w.length;b++)if(O.isChildOf(g,w[b].$view))return!0;return!1},f.prototype._mouseWheelHandler=function(g){if(this._checkWheelTarget(g.target||g.srcElement)){this._wheel_time=new Date;var b={},T={x:1,y:1},P=this.$gantt.config.wheel_scroll_sensitivity;"number"==typeof P&&P?T={x:P,y:P}:"[object Object]"=={}.toString.apply(P)&&(T={x:P.x,y:P.y});var E=D.isFF,G=E?g.deltaX:g.wheelDeltaX,H=E?g.deltaY:g.wheelDelta,$=-20;E&&($=0!==g.deltaMode?-40:-10);var j=E?G*$*T.x:2*G*T.x,Q=E?H*$*T.y:H*T.y,Y=this.$gantt.config.horizontal_scroll_key;if(!1!==Y&&y.indexOf(Y)>=0&&(!g[Y]||g.deltaX||g.wheelDeltaX||(j=2*Q,Q=0)),j&&Math.abs(j)>Math.abs(Q)){if(this._isVertical())return;if(b.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var ne=j/-40,oe=this._oldLeft,te=oe+30*ne;if(this.scrollHorizontally(te),this.$scroll_hor.scrollLeft=te,oe==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(b.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;ne=Q/-40,void 0===Q&&(ne=g.detail);var ee=this._oldTop,le=this.$scroll_ver.scrollTop+30*ne;if(this.scrollVertically(le),this.$scroll_ver.scrollTop=le,ee==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return g.preventDefault&&g.preventDefault(),g.cancelBubble=!0,!1}},f}(k(11));z.exports=C},function(z,J){z.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(z,J,k){var I=k(213),O=k(216),S=k(217),D=k(218),C=k(219),_=k(220),y=k(221),f=k(0),g=k(1),w=k(4),b=k(222);function T(P){P.config.editor_types={text:new(O(P)),number:new(S(P)),select:new(D(P)),date:new(C(P)),predecessor:new(_(P)),duration:new(y(P))}}z.exports=function(P){var E=I(P),G={};w(G);var H={init:T,createEditors:function($){var Q=b(P),Y=[],ne=[],oe=null,te={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(ee){if(!g.isChildOf(ee,$.$grid))return null;var le=g.locateAttribute(ee,$.$config.item_attribute),he=g.locateAttribute(ee,"data-column-name");if(le&&he){var me=he.getAttribute("data-column-name");return{id:le.getAttribute($.$config.item_attribute),columnName:me}}return null},getEditorConfig:function(ee){return $.getColumn(ee).editor},init:function(){var ee=E.getMapping();ee.init&&ee.init(this,$),oe=$.$gantt.getDatastore($.$config.bind);var le=this;Y.push(oe.attachEvent("onIdChange",function(he,me){le._itemId==he&&(le._itemId=me)})),Y.push(oe.attachEvent("onStoreUpdated",function(){$.$gantt.getState("batchUpdate").batch_update||le.isVisible()&&!oe.isVisible(le._itemId)&&le.hide()})),ne.push(P.attachEvent("onDataRender",function(){le._editor&&le._placeholder&&!g.isChildOf(le._placeholder,P.$root)&&$.$grid_data.appendChild(le._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(ee,le){if(this.isVisible()&&this.save(),oe.exists(ee)){var he={id:ee,columnName:le};P.isReadonly(oe.getItem(ee))?this.callEvent("onEditPrevent",[he]):!1!==this.callEvent("onBeforeEditStart",[he])?(this.show(he.id,he.columnName),this.setValue(),this.callEvent("onEditStart",[he])):this.callEvent("onEditPrevent",[he])}},isVisible:function(){return!(!this._editor||!g.isChildOf(this._placeholder,P.$root))},show:function(ee,le){this.isVisible()&&this.save();var he={id:ee,columnName:le},me=$.getColumn(he.columnName),ye=this.getEditorConfig(me.name);if(ye){var Se=$.$getConfig().editor_types[ye.type],Oe=function j(ee,le){var he=$.$getConfig(),me=function(Oe,Ne){for(var ke=$.$getConfig(),Ge=$.getItemTop(Oe),je=$.getItemHeight(Oe),rt=$.getGridColumns(),ze=0,qe=0,mt=0,bt=0;bt<rt.length;bt++){if(rt[bt].name==Ne){mt=rt[bt].width;break}ke.rtl?qe+=rt[bt].width:ze+=rt[bt].width}return ke.rtl?{top:Ge,right:qe,height:je,width:mt}:{top:Ge,left:ze,height:je,width:mt}}(ee,le),ye=document.createElement("div");ye.className="gantt_grid_editor_placeholder",ye.setAttribute($.$config.item_attribute,ee),ye.setAttribute($.$config.bind+"_id",ee),ye.setAttribute("data-column-name",le);var Se=function(Oe,Ne){for(var ke=Oe.getGridColumns(),Ge=0;Ge<ke.length;Ge++)if(ke[Ge].name==Ne)return Ge;return 0}($,le);return ye.setAttribute("data-column-index",Se),ye.style.cssText=he.rtl?["top:"+me.top+"px","right:"+me.right+"px","width:"+me.width+"px","height:"+me.height+"px"].join(";"):["top:"+me.top+"px","left:"+me.left+"px","width:"+me.width+"px","height:"+me.height+"px"].join(";"),ye}(he.id,he.columnName);$.$grid_data.appendChild(Oe),Se.show(he.id,me,ye,Oe),this._editor=Se,this._placeholder=Oe,this._itemId=he.id,this._columnName=he.columnName,this._editorType=ye.type;var Ne=E.getMapping();Ne.onShow&&Ne.onShow(this,Oe,$)}},setValue:function(){var ee=this.getState(),le=ee.id,he=ee.columnName,me=$.getColumn(he),ye=oe.getItem(le),Se=this.getEditorConfig(he);if(Se){var Oe=ye[Se.map_to];"auto"==Se.map_to&&(Oe=oe.getItem(le)),this._editor.set_value(Oe,le,me,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var ee=$.getColumn(this._columnName);return this._editor.get_value(this._itemId,ee,this._placeholder)},_getItemValue:function(){var ee=this.getEditorConfig(this._columnName);if(ee){var le=P.getTask(this._itemId)[ee.map_to];return"auto"==ee.map_to&&(le=oe.getItem(this._itemId)),le}},isChanged:function(){var ee=$.getColumn(this._columnName),le=this._getItemValue();return this._editor.is_changed(le,this._itemId,ee,this._placeholder)},hide:function(){if(this._itemId){var ee=this._itemId,le=this._columnName,he=E.getMapping();he.onHide&&he.onHide(this,this._placeholder,$),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:ee,columnName:le}]))}},save:function(){if(this.isVisible()&&oe.exists(this._itemId)&&this.isChanged()){var ee=this._itemId,le=this._columnName;if(oe.exists(ee)){var he=oe.getItem(ee),me=this.getEditorConfig(le),ye={id:ee,columnName:le,newValue:this.getValue(),oldValue:this._getItemValue()};if(!1!==this.callEvent("onBeforeSave",[ye])&&(!this._editor.is_valid||this._editor.is_valid(ye.newValue,ye.id,ye.columnName,this._placeholder))){var Se=me.map_to;"auto"!=Se?(he[Se]=ye.newValue,Q(he,Se,P.config.inline_editors_date_processing),oe.updateItem(ee)):this._editor.save(ee,$.getColumn(le),this._placeholder),this.callEvent("onSave",[ye])}this.hide()}}else this.hide()},_findEditableCell:function(ee,le){var he=ee,me=$.getGridColumns()[he],ye=me?me.name:null;if(ye){for(;ye&&!this.getEditorConfig(ye);)ye=this._findEditableCell(ee+le,le);return ye}return null},getNextCell:function(ee){return this._findEditableCell($.getColumnIndex(this._columnName,!0)+ee,ee)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell($.getGridColumns().length-1,-1)},editNextCell:function(ee){var le=this.getNextCell(1);if(le){var he=this.getNextCell(1);he&&this.getEditorConfig(he)&&this.startEdit(this._itemId,he)}else if(ee&&this.moveRow(1)){var me=this.moveRow(1);(le=this.getFirstCell())&&this.getEditorConfig(le)&&this.startEdit(me,le)}},editPrevCell:function(ee){var le=this.getNextCell(-1);if(le){var he=this.getNextCell(-1);he&&this.getEditorConfig(he)&&this.startEdit(this._itemId,he)}else if(ee&&this.moveRow(-1)){var me=this.moveRow(-1);(le=this.getLastCell())&&this.getEditorConfig(le)&&this.startEdit(me,le)}},moveRow:function(ee){for(var le=ee>0?P.getNext:P.getPrev,he=(le=P.bind(le,P))(this._itemId);P.isTaskExists(he)&&P.isReadonly(P.getTask(he));)he=le(he);return he},editNextRow:function(ee){var le=this.getState().id;if(P.isTaskExists(le)){var he;he=ee?this.moveRow(1):P.getNext(le),P.isTaskExists(he)&&this.startEdit(he,this._columnName)}},editPrevRow:function(ee){var le=this.getState().id;if(P.isTaskExists(le)){var he;he=ee?this.moveRow(-1):P.getPrev(le),P.isTaskExists(he)&&this.startEdit(he,this._columnName)}},destructor:function(){Y.forEach(function(ee){oe.detachEvent(ee)}),ne.forEach(function(ee){P.detachEvent(ee)}),Y=[],ne=[],oe=null,this.hide(),this.detachAllEvents()}};return f.mixin(te,E),f.mixin(te,G),te}};return f.mixin(H,E),f.mixin(H,G),H}},function(z,J,k){var I=k(214),O=k(215);z.exports=function(S){var D=null;return{setMapping:function(C){D=C},getMapping:function(){return D||(S.config.keyboard_navigation_cells&&S.ext.keyboardNavigation?O:I)}}}},function(z,J){z.exports={init:function(k,I){var O=I.$gantt;O.attachEvent("onTaskClick",function(S,D){if(O._is_icon_open_click(D))return!0;var C=k.getState(),_=k.locateCell(D.target);return!_||!k.getEditorConfig(_.columnName)||(k.isVisible()&&C.id==_.id&&C.columnName==_.columnName||k.startEdit(_.id,_.columnName),!1)}),O.attachEvent("onEmptyClick",function(){return k.isVisible()&&k.isChanged()?k.save():k.hide(),!0}),O.attachEvent("onTaskDblClick",function(S,D){var C=k.getState(),_=k.locateCell(D.target);return!_||!k.isVisible()||_.columnName!=C.columnName})},onShow:function(k,I,O){var S=O.$gantt;S.ext&&S.ext.keyboardNavigation&&S.ext.keyboardNavigation.attachEvent("onKeyDown",function(D,C){var y=!1;return C.keyCode===S.constants.KEY_CODES.SPACE&&k.isVisible()&&(y=!0),!y}),I.onkeydown=function(D){D=D||window.event;var C=S.constants.KEY_CODES;if(!(D.defaultPrevented||D.shiftKey&&D.keyCode!=C.TAB)){var _=!0;switch(D.keyCode){case S.keys.edit_save:k.save();break;case S.keys.edit_cancel:k.hide();break;case C.UP:case C.DOWN:k.isVisible()&&(k.hide(),_=!1);break;case C.TAB:D.shiftKey?k.editPrevCell(!0):k.editNextCell(!0);break;default:_=!1}_&&D.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(z,J){z.exports={init:function(k,I){var O=k,S=I.$gantt,D=null,C=S.ext.keyboardNavigation;C.attachEvent("onBeforeFocus",function(_){var y=k.locateCell(_);if(clearTimeout(D),y){var f=y.columnName,g=y.id,w=O.getState();if(O.isVisible()&&w.id==g&&w.columnName===f)return!1}return!0}),C.attachEvent("onFocus",function(_){var y=k.locateCell(_),f=k.getState();return clearTimeout(D),!y||y.id==f.id&&y.columnName==f.columnName||O.isVisible()&&O.save(),!0}),k.attachEvent("onHide",function(){clearTimeout(D)}),C.attachEvent("onBlur",function(){return D=setTimeout(function(){O.save()}),!0}),S.attachEvent("onTaskDblClick",function(_,y){var f=k.getState(),g=k.locateCell(y.target);return!g||!k.isVisible()||g.columnName!=f.columnName}),S.attachEvent("onTaskClick",function(_,y){if(S._is_icon_open_click(y))return!0;var f=k.getState(),g=k.locateCell(y.target);return!g||!k.getEditorConfig(g.columnName)||(k.isVisible()&&f.id==g.id&&f.columnName==g.columnName||k.startEdit(g.id,g.columnName),!1)}),S.attachEvent("onEmptyClick",function(){return O.save(),!0}),C.attachEvent("onKeyDown",function(_,y){var f=k.locateCell(y.target),g=!!f&&k.getEditorConfig(f.columnName),w=k.getState(),b=S.constants.KEY_CODES,T=y.keyCode,P=!1;switch(T){case b.ENTER:k.isVisible()?(k.save(),y.preventDefault(),P=!0):g&&!(y.ctrlKey||y.metaKey||y.shiftKey)&&(O.startEdit(f.id,f.columnName),y.preventDefault(),P=!0);break;case b.ESC:k.isVisible()&&(k.hide(),y.preventDefault(),P=!0);break;case b.UP:case b.DOWN:break;case b.LEFT:case b.RIGHT:(g&&k.isVisible()||"date"===w.editorType)&&(P=!0);break;case b.SPACE:k.isVisible()&&(P=!0),g&&!k.isVisible()&&(O.startEdit(f.id,f.columnName),y.preventDefault(),P=!0);break;case b.DELETE:g&&!k.isVisible()?(O.startEdit(f.id,f.columnName),P=!0):g&&k.isVisible()&&(P=!0);break;case b.TAB:if(k.isVisible()){y.shiftKey?k.editPrevCell(!0):k.editNextCell(!0);var E=k.getState();E.id&&C.focus({type:"taskCell",id:E.id,column:E.columnName}),y.preventDefault(),P=!0}break;default:if(k.isVisible())P=!0;else if(T>=48&&T<=57||T>95&&T<112||T>=64&&T<=91||T>185&&T<193||T>218&&T<223){var G=_.modifiers;G.alt||(G.alt||G.ctrl||G.meta||G.shift)&&C.getCommandHandler(_,"taskCell")||g&&!k.isVisible()&&(O.startEdit(f.id,f.columnName),P=!0)}}return!P})},onShow:function(k,I,O){},onHide:function(k,I,O){O.$gantt.focus()},destroy:function(){}}},function(z,J,k){z.exports=function(I){var O=k(8)(I),S=k(0);function D(){return O.apply(this,arguments)||this}return k(3)(D,O),S.mixin(D.prototype,{show:function(C,_,y,f){f.innerHTML="<div><input type='text' name='"+_.name+"'></div>"}},!0),D}},function(z,J,k){z.exports=function(I){var O=k(8)(I),S=k(0);function D(){return O.apply(this,arguments)||this}return k(3)(D,O),S.mixin(D.prototype,{show:function(C,_,y,f){f.innerHTML="<div><input type='number' min='"+(y.min||0)+"' max='"+(y.max||100)+"' name='"+_.name+"'></div>"},get_value:function(C,_,y){return this.get_input(y).value||""},is_valid:function(C,_,y,f){return!isNaN(parseInt(C,10))}},!0),D}},function(z,J,k){z.exports=function(I){var O=k(8)(I),S=k(0);function D(){return O.apply(this,arguments)||this}return k(3)(D,O),S.mixin(D.prototype,{show:function(C,_,y,f){for(var g="<div><select name='"+_.name+"'>",w=[],b=y.options||[],T=0;T<b.length;T++)w.push("<option value='"+y.options[T].key+"'>"+b[T].label+"</option>");g+=w.join("")+"</select></div>",f.innerHTML=g},get_input:function(C){return C.querySelector("select")}},!0),D}},function(z,J,k){z.exports=function(I){var O=k(8)(I),S=k(0),D="%Y-%m-%d",C=null,_=null;function y(){return O.apply(this,arguments)||this}return k(3)(y,O),S.mixin(y.prototype,{show:function(f,g,w,b){C||(C=I.date.date_to_str(D)),_||(_=I.date.str_to_date(D));var T,P;T="function"==typeof w.min?w.min(f,g):w.min,P="function"==typeof w.max?w.max(f,g):w.max;var E="<div style='width:140px'><input type='date' "+(T?" min='"+C(T)+"' ":"")+(P?" max='"+C(P)+"' ":"")+" name='"+g.name+"'></div>";b.innerHTML=E},set_value:function(f,g,w,b){this.get_input(b).value=f&&f.getFullYear?C(f):f},is_valid:function(f,g,w,b){return!(!f||isNaN(f.getTime()))},get_value:function(f,g,w){var b;try{b=_(this.get_input(w).value||"")}catch(T){b=null}return b}},!0),y}},function(z,J,k){z.exports=function(I){var O=k(8)(I),S=k(0);function D(){return O.apply(this,arguments)||this}function C(w){return w.formatter||I.ext.formatters.linkFormatter()}function _(w,b){for(var T=(w||"").split(b.delimiter||","),P=0;P<T.length;P++){var E=T[P].trim();E?T[P]=E:(T.splice(P,1),P--)}return T.sort(),T}function y(w,b,T){for(var P=w.$target,E=[],G=0;G<P.length;G++){var H=T.getLink(P[G]);E.push(C(b).format(H))}return E.join((b.delimiter||",")+" ")}function f(w){return w.source+"_"+w.target+"_"+w.type+"_"+(w.lag||0)}return k(3)(D,O),S.mixin(D.prototype,{show:function(w,b,T,P){P.innerHTML="<div><input type='text' name='"+b.name+"'></div>"},hide:function(){},set_value:function(w,b,T,P){this.get_input(P).value=y(w,T.editor,I)},get_value:function(w,b,T){return _(this.get_input(T).value||"",b.editor)},save:function(w,b,T){var P=function g(w,b,T){var j,Y,ne,P=(j=w.id,Y=T,ne=[],b.forEach(function(oe){var te=C(Y).parse(oe);te&&(te.target=j,te.id="predecessor_generated",I.isLinkAllowed(te)&&(te.id=void 0,ne.push(te)))}),ne),E={};w.$target.forEach(function(j){var Q=I.getLink(j);E[f(Q)]=Q.id});var G=[];P.forEach(function(j){var Q=f(j);E[Q]?delete E[Q]:G.push(j)});var H=[];for(var $ in E)H.push(E[$]);return{add:G,remove:H}}(I.getTask(w),this.get_value(w,b,T),b.editor);(P.add.length||P.remove.length)&&I.batchUpdate(function(){P.add.forEach(function(E){I.addLink(E)}),P.remove.forEach(function(E){I.deleteLink(E)}),I.autoSchedule&&I.autoSchedule()})},is_changed:function(w,b,T,P){var E=this.get_value(b,T,P),G=_(y(w,T.editor,I),T.editor);return E.join()!==G.join()}},!0),D}},function(z,J,k){z.exports=function(I){var O=k(8)(I),S=k(0);function D(){return O.apply(this,arguments)||this}function C(_){return _.formatter||I.ext.formatters.durationFormatter()}return k(3)(D,O),S.mixin(D.prototype,{show:function(_,y,f,g){g.innerHTML="<div><input type='text' name='"+y.name+"'></div>"},set_value:function(_,y,f,g){this.get_input(g).value=C(f.editor).format(_)},get_value:function(_,y,f){return C(y.editor).parse(this.get_input(f).value||"")}},!0),D}},function(z,J){z.exports=function(k){return function(O,S,D){var C,_;"keepDates"==D?(C=O,"duration"==(_=S)?C.end_date=k.calculateEndDate(C):"end_date"!=_&&"start_date"!=_||(C.duration=k.calculateDuration(C))):"keepDuration"==D?function(C,_){"end_date"==_?C.start_date=I(C):"start_date"!=_&&"duration"!=_||(C.end_date=k.calculateEndDate(C))}(O,S):function(C,_){k.config.schedule_from_end?"end_date"==_||"duration"==_?C.start_date=I(C):"start_date"==_&&(C.duration=k.calculateDuration(C)):"start_date"==_||"duration"==_?C.end_date=k.calculateEndDate(C):"end_date"==_&&(C.duration=k.calculateDuration(C))}(O,S)};function I(O){return k.calculateEndDate({start_date:O.end_date,duration:-O.duration,task:O})}}},function(z,J,k){var I=k(23),O=k(5),S=k(24);z.exports=function(D){return{render:S(D),update:null,isInViewPort:I,getVisibleRange:O}}},function(z,J,k){var I=k(24),O=k(225),S=k(5);z.exports=function(D){var C=I(D);return{render:function(_,y){if(D.isSplitTask(_)&&(D.config.open_split_tasks&&!_.$open||!D.config.open_split_tasks)){var f=document.createElement("div"),g=D.getTaskPosition(_);return D.hasChild(_.id)&&D.eachTask(function(w){var b=D.isSummaryTask(w);if(b&&D.resetProjectDates(w),!w.hide_bar){var T=C(w,y);if(T){var P=y.getBarHeight(_.id,w.type==D.config.types.milestone),E=Math.floor((y.getItemHeight(_.id)-P)/2);T.style.top=g.top+E+"px",T.classList.add("gantt_split_child"),b&&T.classList.add("gantt_split_subproject"),f.appendChild(T)}}},_.id),f}return!1},update:null,isInViewPort:O,getVisibleRange:S}}},function(z,J,k){var I=k(23);z.exports=function(O,S,D,C,_){if(!_.isSplitTask(O))return!1;var y=_.getSubtaskDates(O.id);return I({id:O.id,start_date:y.start_date,end_date:y.end_date,parent:O.parent},S,D,_)}},function(z,J,k){var I=k(24),O=k(23),S=k(5);z.exports=function(D){var C=I(D);return{render:function(_,y){if(_.$rollup&&_.$rollup.length){var f=document.createElement("div"),g=D.getTaskPosition(_);return _.$rollup.forEach(function(w){var b=D.getTask(w),T=C(b,y);if(T){var P=y.getBarHeight(_.id,b.type==D.config.types.milestone),E=Math.floor((y.getItemHeight(_.id)-P)/2);T.style.top=g.top+E+"px",T.classList.add("gantt_rollup_child"),f.appendChild(T)}}),f}return!1},update:null,isInViewPort:O,getVisibleRange:S}}},function(z,J,k){var I=k(25),O=k(14),S=k(5),D=k(26),C=k(27);z.exports=function(_){var y={},f={};function g(P,E){return!(!y[P.id][E]||!y[P.id][E].parentNode)}function w(P,E){y[P]&&y[P][E]&&y[P][E].parentNode&&y[P][E].parentNode.removeChild(y[P][E])}function b(P){var E,G=P.$getTemplates();return void 0!==G.task_cell_class?(E=G.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):E=G.timeline_cell_class,E}function T(P,E,G,H,$,j,Q){var Y=P.width[E],ne="";if(C(E,P,H,_)){var oe=j(G,P.trace_x[E]);if(Q.static_background&&(!Q.static_background_cells||!oe))return null;if(y[G.id][E])return f[G.id][E]=E,y[G.id][E];var te=document.createElement("div");return te.style.width=Y+"px",ne="gantt_task_cell"+(E==$-1?" gantt_last_cell":""),oe&&(ne+=" "+oe),te.className=ne,te.style.position="absolute",te.style.left=P.left[E]+"px",y[G.id][E]=te,f[G.id][E]=E,te}return null}return{render:function(P,E,G,H){var $=E.$getTemplates(),j=E.getScale(),Q=j.count;if(G.static_background&&!G.static_background_cells)return null;var Y,ne=document.createElement("div"),oe=b(E);if(Y=H&&G.smart_rendering&&!O(_)?D(j,H.x):{start:0,end:Q-1},G.show_task_cells){y[P.id]={},f[P.id]={};for(var te=Y.start;te<=Y.end;te++){var ee=T(j,te,P,H,Q,oe,G);ee&&ne.appendChild(ee)}}var le=_.getGlobalTaskIndex(P.id)%2!=0,he=$.task_row_class(P.start_date,P.end_date,P),me="gantt_task_row"+(le?" odd":"")+(he?" "+he:"");return E.$config.rowStore.isSelected(P.id)&&(me+=" gantt_selected"),ne.className=me,G.smart_rendering?(ne.style.position="absolute",ne.style.top=E.getItemTop(P.id)+"px",ne.style.width="100%"):ne.style.position="relative",ne.style.height=E.getItemHeight(P.id)+"px",E.$config.item_attribute&&(ne.setAttribute(E.$config.item_attribute,P.id),ne.setAttribute(E.$config.bind+"_id",P.id)),ne},update:function(P,E,G,H,$){var j=G.getScale(),Q=j.count,Y=b(G);if(H.show_task_cells){y[P.id]||(y[P.id]={}),f[P.id]||(f[P.id]={});var ne=D(j,$);for(var oe in f[P.id]){var te=f[P.id][oe];(Number(te)<ne.start||Number(te)>ne.end)&&w(P.id,te)}f[P.id]={};for(var ee=ne.start;ee<=ne.end;ee++){var le=T(j,ee,P,$,Q,Y,H);!le&&g(P,ee)?w(P.id,ee):le&&!le.parentNode&&E.appendChild(le)}}},getRectangle:I,getVisibleRange:S}}},function(z,J,k){var I=k(229);z.exports=function(O){var S={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(_){this.current_pos=O.copy(_)},get_lines:function(_){this.clear(),this.point(_[0]);for(var y=1;y<_.length;y++)this.line_to(_[y]);return this.get_path()},line_to:function(_){var y=O.copy(_),g=this._get_line(this.current_pos,y);this.path.push(g),this.current_pos=y},get_path:function(){return this.path},get_wrapper_sizes:function(_,y,f){var g,w=y.$getConfig().link_wrapper_width,b=_.y-w/2;switch(_.direction){case this.dirs.left:g={top:b,height:w,lineHeight:w,left:_.x-_.size-w/2,width:_.size+w};break;case this.dirs.right:g={top:b,lineHeight:w,height:w,left:_.x-w/2,width:_.size+w};break;case this.dirs.up:g={top:b-_.size,lineHeight:_.size+w,height:_.size+w,left:_.x-w/2,width:w};break;case this.dirs.down:g={top:b,lineHeight:_.size+w,height:_.size+w,left:_.x-w/2,width:w}}return g},get_line_sizes:function(_,y){var f,g=y.$getConfig(),w=g.link_line_width,b=g.link_wrapper_width,T=_.size+w;switch(_.direction){case this.dirs.left:case this.dirs.right:f={height:w,width:T,marginTop:(b-w)/2,marginLeft:(b-w)/2};break;case this.dirs.up:case this.dirs.down:f={height:T,width:w,marginTop:(b-w)/2,marginLeft:(b-w)/2}}return f},render_line:function(_,y,f,g){var w=this.get_wrapper_sizes(_,f,g),b=document.createElement("div");b.style.cssText=["top:"+w.top+"px","left:"+w.left+"px","height:"+w.height+"px","width:"+w.width+"px"].join(";"),b.className="gantt_line_wrapper";var T=this.get_line_sizes(_,f),P=document.createElement("div");return P.style.cssText=["height:"+T.height+"px","width:"+T.width+"px","margin-top:"+T.marginTop+"px","margin-left:"+T.marginLeft+"px"].join(";"),P.className="gantt_link_line_"+_.direction,b.appendChild(P),b},_get_line:function(_,y){var f=this.get_direction(_,y),g={x:_.x,y:_.y,direction:this.get_direction(_,y)};return g.size=f==this.dirs.left||f==this.dirs.right?Math.abs(_.x-y.x):Math.abs(_.y-y.y),g},get_direction:function(_,y){return y.x<_.x?this.dirs.left:y.x>_.x?this.dirs.right:y.y>_.y?this.dirs.down:this.dirs.up}},D={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(_){return _?(this.path.push(O.copy(_)),_):this.current()},point_to:function(_,y,f){f=f?{x:f.x,y:f.y}:O.copy(this.point());var g=S.dirs;switch(_){case g.left:f.x-=y;break;case g.right:f.x+=y;break;case g.up:f.y-=y;break;case g.down:f.y+=y}return this.point(f)},get_points:function(_,y,f,g){var w=this.get_endpoint(_,y,f,g),b=O.config,T=w.e_y-w.y,P=w.e_x-w.x,E=S.dirs,G=y.getItemHeight(_.source);this.clear(),this.point({x:w.x,y:w.y});var H=2*b.link_arrow_size,$=this.get_line_type(_,y.$getConfig()),j=w.e_x>w.x;if($.from_start&&$.to_start)this.point_to(E.left,H),j?(this.point_to(E.down,T),this.point_to(E.right,P)):(this.point_to(E.right,P),this.point_to(E.down,T)),this.point_to(E.right,H);else if(!$.from_start&&$.to_start)if(j=w.e_x>w.x+2*H,this.point_to(E.right,H),j)P-=H,this.point_to(E.down,T),this.point_to(E.right,P);else{P-=2*H;var Q=T>0?1:-1;this.point_to(E.down,Q*(G/2)),this.point_to(E.right,P),this.point_to(E.down,Q*(Math.abs(T)-G/2)),this.point_to(E.right,H)}else $.from_start||$.to_start?$.from_start&&!$.to_start&&(j=w.e_x>w.x-2*H,this.point_to(E.left,H),j?(P+=2*H,this.point_to(E.down,(Q=T>0?1:-1)*(G/2)),this.point_to(E.right,P),this.point_to(E.down,Q*(Math.abs(T)-G/2)),this.point_to(E.left,H)):(P+=H,this.point_to(E.down,T),this.point_to(E.right,P))):(this.point_to(E.right,H),j?(this.point_to(E.right,P),this.point_to(E.down,T)):(this.point_to(E.down,T),this.point_to(E.right,P)),this.point_to(E.left,H));return this.path},get_line_type:function(_,y){var f=y.links,g=!1,w=!1;return _.type==f.start_to_start?g=w=!0:_.type==f.finish_to_finish?g=w=!1:_.type==f.finish_to_start?(g=!1,w=!0):_.type==f.start_to_finish?(g=!0,w=!1):O.assert(!1,"Invalid link type"),y.rtl&&(g=!g,w=!w),{from_start:g,to_start:w}},get_endpoint:function(_,y,f,g){var w=y.$getConfig(),b=this.get_line_type(_,w),T=b.from_start,P=b.to_start,E=C(f,y,w),G=C(g,y,w);return{x:T?E.left:E.left+E.width,e_x:P?G.left:G.left+G.width,y:E.top+E.rowHeight/2-1,e_y:G.top+G.rowHeight/2-1}}};function C(_,y,f){var g=y.getItemPosition(_);if(O.getTaskType(_.type)==f.types.milestone){var w=y.getBarHeight(_.id,!0),b=Math.sqrt(2*w*w);g.left-=b/2,g.width=b}return g}return{render:function(_,y,f){var g=O.getTask(_.source);if(!g.hide_bar){var w=O.getTask(_.target);if(!w.hide_bar){var b=D.get_endpoint(_,y,g,w);if(!(b.e_x-b.x||b.e_y-b.y))return null;var P=D.get_points(_,y,g,w),E=S.get_lines(P,y),G=document.createElement("div"),H="gantt_task_link";_.color&&(H+=" gantt_link_inline_color");var $=O.templates.link_class?O.templates.link_class(_):"";$&&(H+=" "+$),f.highlight_critical_path&&O.isCriticalLink&&O.isCriticalLink(_)&&(H+=" gantt_critical_link"),G.className=H,y.$config.link_attribute&&(G.setAttribute(y.$config.link_attribute,_.id),G.setAttribute("link_id",_.id));for(var j=0;j<E.length;j++){j==E.length-1&&(E[j].size-=f.link_arrow_size);var Q=S.render_line(E[j],E[j+1],y,_.source);_.color&&(Q.firstChild.style.backgroundColor=_.color),G.appendChild(Q)}var ne=function(oe,te,ee,le){var he=ee.$getConfig(),me=document.createElement("div"),ye=oe.y,Se=oe.x,Oe=he.link_arrow_size,Ne="gantt_link_arrow gantt_link_arrow_"+te;switch(te){case S.dirs.right:ye-=Oe/2,Se-=Oe;break;case S.dirs.left:ye-=Oe/2;break;case S.dirs.up:Se-=Oe;break;case S.dirs.down:ye+=2*Oe,Se-=Oe}return me.style.cssText=["top:"+ye+"px","left:"+Se+"px"].join(";"),me.className=Ne,me}(P[P.length-1],E[E.length-1].direction,y);return _.color&&(ne.style.borderColor=_.color),G.appendChild(ne),O._waiAria.linkAttr(_,G),G}}},update:null,isInViewPort:I}}},function(z,J){z.exports=function(k,I,O,S,D){var C=O.$gantt.getTask(k.source),_=O.$gantt.getTask(k.target),y=O.getItemTop(C.id),f=O.getItemHeight(C.id),g=O.getItemTop(_.id),w=O.getItemHeight(_.id);if(I.y>y+f&&I.y>g+w||I.y_end<g&&I.y_end<y)return!1;var b=O.posFromDate(C.start_date),T=O.posFromDate(C.end_date),P=O.posFromDate(_.start_date),E=O.posFromDate(_.end_date);if(b>T){var G=T;T=b,b=G}return P>E&&(G=E,E=P,P=G),b+=-100,P+=-100,E+=100,!(I.x>(T+=100)&&I.x>E||I.x_end<b&&I.x_end<P)}},function(z,J,k){function I(C){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(C)}var O=k(2),S=k(21),D=k(5);z.exports=function(C){return{render:function(_,y,f,g){for(var w=y.getGridColumns(),b=y.$getTemplates(),T=y.$config.rowStore,P=[],E=0;E<w.length;E++){var G,H,$,j=E==w.length-1,Q=w[E];"add"==Q.name?(H="<div "+(le=C._waiAria.gridAddButtonAttrString(Q))+" class='gantt_add'></div>",$=""):(H=Q.template?Q.template(_):_[Q.name],O.isDate(H)&&(H=b.date_grid(H,_,Q.name)),null!=H||(H=""),$=H,H="<div class='gantt_tree_content'>"+H+"</div>");var Y="gantt_cell"+(j?" gantt_last_cell":""),ne=[];if(Q.tree){Y+=" gantt_cell_tree";for(var oe=0;oe<_.$level;oe++)ne.push(b.grid_indent(_));!T.hasChild(_.id)||C.isSplitTask(_)&&!C.config.open_split_tasks?(ne.push(b.grid_blank(_)),ne.push(b.grid_file(_))):(ne.push(b.grid_open(_)),ne.push(b.grid_folder(_)))}var te="width:"+(Q.width-(j?1:0))+"px;";this.defined(Q.align)&&(te+="text-align:"+Q.align+";justify-content:"+{right:"flex-end",left:"flex-start",center:"center"}[Q.align]+";");var le=C._waiAria.gridCellAttrString(Q,$,_);ne.push(H),G="<div class='"+Y+"' data-column-index='"+E+"' data-column-name='"+Q.name+"' style='"+te+"' "+le+">"+ne.join("")+"</div>",P.push(G)}if(Y=C.getGlobalTaskIndex(_.id)%2==0?"":" odd",Y+=_.$transparent?" gantt_transparent":"",Y+=_.$dataprocessor_class?" "+_.$dataprocessor_class:"",b.grid_row_class){var he=b.grid_row_class.call(C,_.start_date,_.end_date,_);he&&(Y+=" "+he)}T.isSelected(_.id)&&(Y+=" gantt_selected");var me=document.createElement("div");me.className="gantt_row"+Y+" gantt_row_"+C.getTaskType(_.type);var ye=y.getItemHeight(_.id);return me.style.height=ye+"px",me.style.lineHeight=ye+"px",f.smart_rendering&&(me.style.position="absolute",me.style.left="0px",me.style.top=y.getItemTop(_.id)+"px"),y.$config.item_attribute&&(me.setAttribute(y.$config.item_attribute,_.id),me.setAttribute(y.$config.bind+"_id",_.id)),C._waiAria.taskRowAttr(_,me),me.innerHTML=P.join(""),me},update:null,getRectangle:S,getVisibleRange:D,onrender:function(_,y,f){for(var g=f.getGridColumns(),w=0;w<g.length;w++){var b=g[w];if(b.onrender){var T=y.querySelector("[data-column-name="+b.name+"]");if(T){var P=b.onrender(_,T);if(P&&"string"==typeof P)T.innerHTML=P;else if(P&&"object"===I(P)&&C.config.external_render){var E=C.config.external_render;E.isElement(P)&&E.renderElement(P,T)}}}}}}}},function(z,J,k){var I=k(25),O=k(5),S=k(26),D=k(27),C=k(42);z.exports=function(_){var y=C(_),f={};function g(b,T,P,E,G){var H=P.resource_cell_class(T.start_date,T.end_date,b,T.tasks,T.assignments),$=P.resource_cell_value(T.start_date,T.end_date,b,T.tasks,T.assignments),j=G.getItemHeight(b.id)-1;if(H||$){var Q=G.getItemPosition(b,T.start_date,T.end_date),Y=document.createElement("div");return Y.setAttribute(G.$config.item_attribute,b.id),Y.className=["gantt_resource_marker",H].join(" "),Y.style.cssText=["left:"+Q.left+"px","width:"+Q.width+"px","height:"+j+"px","line-height:"+j+"px","top:"+Q.top+"px"].join(";"),$&&(Y.innerHTML=$),Y}return null}function w(b,T){f[b]&&f[b][T]&&f[b][T].parentNode&&f[b][T].parentNode.removeChild(f[b][T])}return{render:function(b,T,P,E){var G=T.$getTemplates(),H=T.getScale(),$=y(b,P.resource_property,T.getScale(),T),j=!!E,Q=[];f[b.id]={};for(var Y=S(H,E),ne=Y.start;ne<=Y.end;ne++){var oe=$[ne];if(oe&&(!j||D(ne,H,E,_))){var te=g(b,oe,G,0,T);te&&(Q.push(te),f[b.id][ne]=te)}}var ee=null;if(Q.length){ee=document.createElement("div");for(var le=0;le<Q.length;le++)ee.appendChild(Q[le])}return ee},update:function(b,T,P,E,G){var H=P.$getTemplates(),$=P.getScale(),j=y(b,E.resource_property,P.getScale(),P),Q=S($,G),Y={};if(f&&f[b.id])for(var ne in f[b.id])Y[ne]=ne;for(var oe=Q.start;oe<=Q.end;oe++){var te=j[oe];if(Y[oe]=!1,te)if(D(oe,$,G,_))if(f[b.id]&&f[b.id][oe])f[b.id]&&f[b.id][oe]&&!f[b.id][oe].parentNode&&T.appendChild(f[b.id][oe]);else{var ee=g(b,te,H,0,P);ee&&(T.appendChild(ee),f[b.id][oe]=ee)}else w(b.id,oe)}for(var ne in Y)!1!==Y[ne]&&w(b.id,ne)},getRectangle:I,getVisibleRange:O}}},function(z,J,k){var I=k(25),O=k(5),S=k(26),D=k(27),C=k(42);function _(f,g,w,b){var T=100*(1-(1*f||0)),P=b.posFromDate(g),E=b.posFromDate(w),G=document.createElement("div");return G.className="gantt_histogram_hor_bar",G.style.top=T+"%",G.style.left=P+"px",G.style.width=E-P+1+"px",G}function y(f,g,w){if(f===g)return null;var b=1-Math.max(f,g),T=Math.abs(f-g),P=document.createElement("div");return P.className="gantt_histogram_vert_bar",P.style.top=100*b+"%",P.style.height=100*T+"%",P.style.left=w+"px",P}z.exports=function(f){var g=C(f),w={},b={},T={};function P(H,$){var j=w[H];j&&j[$]&&j[$].parentNode&&j[$].parentNode.removeChild(j[$])}function E(H,$,j,Q,Y,ne,oe){var te=T[H.id];te&&te.parentNode&&te.parentNode.removeChild(te);var ee=function(le,he,me,ye){for(var Se=he.getScale(),Oe=document.createElement("div"),Ne=S(Se,ye),ke=Ne.start;ke<=Ne.end;ke++){var Ge=Se.trace_x[ke],je=Se.trace_x[ke+1]||f.date.add(Ge,Se.step,Se.unit),rt=Se.trace_x[ke].valueOf(),ze=Math.min(le[rt]/me,1)||0;if(ze<0)return null;var qe=Math.min(le[je.valueOf()]/me,1)||0,mt=_(ze,Ge,je,he);mt&&Oe.appendChild(mt);var bt=y(ze,qe,he.posFromDate(je));bt&&Oe.appendChild(bt)}return Oe}(j,Y,ne,oe);return ee&&$&&(ee.setAttribute("data-resource-id",H.id),ee.setAttribute(Y.$config.item_attribute,H.id),ee.style.position="absolute",ee.style.top=$.top+1+"px",ee.style.height=Y.getItemHeight(H.id)-1+"px",ee.style.left=0),ee}function G(H,$,j,Q,Y,ne,oe){var te=Y.histogram_cell_class(ne.start_date,ne.end_date,H,ne.tasks,ne.assignments),ee=Y.histogram_cell_label(ne.start_date,ne.end_date,H,ne.tasks,ne.assignments),le=Y.histogram_cell_allocated(ne.start_date,ne.end_date,H,ne.tasks,ne.assignments),he=oe.getItemHeight(H.id)-1;if(te||ee){var me=document.createElement("div");return me.className=["gantt_histogram_cell",te].join(" "),me.setAttribute(oe.$config.item_attribute,H.id),me.style.cssText=["left:"+$.left+"px","width:"+$.width+"px","height:"+he+"px","line-height:"+he+"px","top:"+($.top+1)+"px"].join(";"),ee&&(ee="<div class='gantt_histogram_label'>"+ee+"</div>"),le&&(ee="<div class='gantt_histogram_fill' style='height:"+100*Math.min(le/j||0,1)+"%;'></div>"+ee),ee&&(me.innerHTML=ee),me}return null}return{render:function(H,$,j,Q){var Y=$.$getTemplates(),ne=$.getScale(),oe=g(H,j.resource_property,ne,$),te=[],ee={},le=H.capacity||$.$config.capacity||24;w[H.id]={},b[H.id]=null,T[H.id]=null;for(var he=!!Q,me=S(ne,Q),ye=me.start;ye<=me.end;ye++){var Se=oe[ye];if(Se&&(!he||D(ye,ne,Q,f))){var Oe=Y.histogram_cell_capacity(Se.start_date,Se.end_date,H,Se.tasks,Se.assignments);ee[Se.start_date.valueOf()]=Oe||0;var Ne=$.getItemPosition(H,Se.start_date,Se.end_date),ke=G(H,Ne,le,0,Y,Se,$);ke&&(te.push(ke),w[H.id][ye]=ke)}}var Ge=null;if(te.length){Ge=document.createElement("div");for(var je=0;je<te.length;je++)Ge.appendChild(te[je]);var rt=E(H,Ne,ee,0,$,le,Q);rt&&(Ge.appendChild(rt),T[H.id]=rt),b[H.id]=Ge}return Ge},update:function(H,$,j,Q,Y){var ne=j.$getTemplates(),oe=j.getScale(),te=g(H,Q.resource_property,oe,j),ee=H.capacity||j.$config.capacity||24,le={},he=!!Y,me=S(oe,Y),ye={};if(w&&w[H.id])for(var Se in w[H.id])ye[Se]=Se;for(var Oe=me.start;Oe<=me.end;Oe++){var Ne=te[Oe];if(ye[Oe]=!1,Ne){var ke=ne.histogram_cell_capacity(Ne.start_date,Ne.end_date,H,Ne.tasks,Ne.assignments);le[Ne.start_date.valueOf()]=ke||0;var Ge=j.getItemPosition(H,Ne.start_date,Ne.end_date);if(!he||D(Oe,oe,Y,f)){var je=w[H.id];if(je&&je[Oe])je&&je[Oe]&&!je[Oe].parentNode&&$.appendChild(je[Oe]);else{var rt=G(H,Ge,ee,0,ne,Ne,j);rt&&($.appendChild(rt),w[H.id][Oe]=rt)}}else P(H.id,Oe)}}for(var Se in ye)!1!==ye[Se]&&P(H.id,Se);var ze=E(H,Ge,le,0,j,ee,Y);ze&&($.appendChild(ze),T[H.id]=ze)},getRectangle:I,getVisibleRange:O}}},function(z,J,k){var I=k(21),O=k(5);z.exports=function(S){return{render:function(D,C,_){var y=C.$getConfig(),f=document.createElement("div");return f.className="gantt_task_grid_row_resize_wrap",f.style.top=C.getItemTop(D.id)+C.getItemHeight(D.id)+"px",f.innerHTML="<div class='gantt_task_grid_row_resize'></div>",f.setAttribute(y.task_grid_row_resizer_attribute,D.id),S._waiAria.gridSeparatorAttr(f),f},update:null,getRectangle:I,getVisibleRange:O}}},function(z,J,k){var I=k(0),O=k(235),S=k(236);z.exports=function(C){return{onCreated:function(_){_.$config=I.mixin(_.$config,{bind:"task"}),"grid"==_.$config.id&&(this.extendGantt(_),C.ext.inlineEditors=C.ext._inlineEditors.createEditors(_),C.ext.inlineEditors.init()),this._mouseDelegates=k(20)(C)},onInitialized:function(_){var y=_.$getConfig();y.order_branch&&("marker"==y.order_branch?S.init(_.$gantt,_):O.init(_.$gantt,_)),this.initEvents(_,C),"grid"==_.$config.id&&this.extendDom(_)},onDestroyed:function(_){"grid"==_.$config.id&&C.ext.inlineEditors.destructor(),this.clearEvents(_,C)},initEvents:function(_,y){this._mouseDelegates.delegate("click","gantt_row",y.bind(function(f,g,w){var b=_.$getConfig();if(null!==g){var T=this.getTask(g);b.scroll_on_click&&!y._is_icon_open_click(f)&&this.showDate(T.start_date),y.callEvent("onTaskRowClick",[g,w])}},y),_.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",y.bind(function(f,g,w){var b=w.getAttribute("data-column-id");if(y.callEvent("onGridHeaderClick",[b,f])){var T=_.$getConfig();if("add"!=b){if(T.sort&&b){for(var P,E=b,G=0;G<T.columns.length;G++)if(T.columns[G].name==b){P=T.columns[G];break}if(P&&void 0!==P.sort&&!0!==P.sort&&!(E=P.sort))return;var H=this._sort&&this._sort.direction&&this._sort.name==b?this._sort.direction:"desc";this._sort={name:b,direction:H="desc"==H?"asc":"desc"},this.sort(E,"desc"==H)}}else y.$services.getService("mouseEvents").callHandler("click","gantt_add",_.$grid,[f,T.root_id])}},y),_.$grid),this._mouseDelegates.delegate("click","gantt_add",y.bind(function(f,g,w){if(!_.$getConfig().readonly)return this.createTask({},g||y.config.root_id),!1},y),_.$grid)},clearEvents:function(_,y){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(_){C.$grid=_.$grid,C.$grid_scale=_.$grid_scale,C.$grid_data=_.$grid_data},extendGantt:function(_){C.getGridColumns=C.bind(_.getGridColumns,_),_.attachEvent("onColumnResizeStart",function(){return C.callEvent("onColumnResizeStart",arguments)}),_.attachEvent("onColumnResize",function(){return C.callEvent("onColumnResize",arguments)}),_.attachEvent("onColumnResizeEnd",function(){return C.callEvent("onColumnResizeEnd",arguments)}),_.attachEvent("onColumnResizeComplete",function(y,f){C.config.grid_width=f}),_.attachEvent("onBeforeRowResize",function(){return C.callEvent("onBeforeRowResize",arguments)}),_.attachEvent("onRowResize",function(){return C.callEvent("onRowResize",arguments)}),_.attachEvent("onBeforeRowResizeEnd",function(){return C.callEvent("onBeforeRowResizeEnd",arguments)}),_.attachEvent("onAfterRowResize",function(){return C.callEvent("onAfterRowResize",arguments)})}}}},function(z,J,k){var I=k(1),O=k(9);z.exports={init:function(S,D){var C=S.$services.getService("dnd");if(D.$config.bind&&S.getDatastore(D.$config.bind)){var _=new C(D.$grid_data,{updates_per_second:60});S.defined(D.$getConfig().dnd_sensitivity)&&(_.config.sensitivity=D.$getConfig().dnd_sensitivity),_.attachEvent("onBeforeDragStart",S.bind(function(w,b){var T=y(b);if(!T||(S.hideQuickInfo&&S._hideQuickInfo(),I.closest(b.target,".gantt_grid_editor_placeholder")))return!1;var P=T.getAttribute(D.$config.item_attribute);if(g(P))return!1;var E=f().getItem(P);return!S.isReadonly(E)&&(_.config.initial_open_state=E.$open,!!S.callEvent("onRowDragStart",[P,b.target||b.srcElement,b])&&void 0)},S)),_.attachEvent("onAfterDragStart",S.bind(function(w,b){var T=y(b);_.config.marker.innerHTML=T.outerHTML;var P=_.config.marker.firstChild;P&&(P.style.position="static"),_.config.id=T.getAttribute(D.$config.item_attribute);var E=f(),G=E.getItem(_.config.id);_.config.index=E.getBranchIndex(_.config.id),_.config.parent=G.parent,G.$open=!1,G.$transparent=!0,this.refreshData()},S)),_.lastTaskOfLevel=function(w){for(var b=null,T=f().getItems(),P=0,E=T.length;P<E;P++)T[P].$level==w&&(b=T[P]);return b?b.id:null},_._getGridPos=S.bind(function(w){var b=I.getNodePosition(D.$grid_data),T=b.x,P=w.pos.y-10,E=D.getItemHeight(_.config.id);P<b.y&&(P=b.y);var G=D.getTotalHeight();return P>b.y+G-E&&(P=b.y+G-E),b.x=T,b.y=P,b},S),_._getTargetY=S.bind(function(w){var b=I.getNodePosition(D.$grid_data),T=D.$state.scrollTop||0,P=S.$grid_data.getBoundingClientRect().height+T,E=w.pageY-b.y+T;return E>P?E=P:E<T&&(E=T),E},S),_._getTaskByY=S.bind(function(w,b){var T=f(),P=D.getItemIndexByTopPosition(w=w||0);return(P=b<P?P-1:P)>T.countVisible()-1?null:T.getIdByIndex(P)},S),_.attachEvent("onDragMove",S.bind(function(w,b){var T=S.$grid_data.getBoundingClientRect(),P=T.height+T.y+(D.$state.scrollTop||0)+window.scrollY,E=_.config,G=_._getGridPos(b),H=D.$getConfig(),$=f();E.marker.style.top=G.y<P?G.y+"px":P+"px",E.marker.style.left=G.x+10+"px";var j=$.getItem(_.config.id),Q=_._getTargetY(b),Y=_._getTaskByY(Q,$.getIndexById(j.id));function ne(Ne,ke){return!$.isChildOf(oe.id,ke.id)&&(Ne.$level==ke.$level||H.order_branch_free)}if($.exists(Y)||(Y=_.lastTaskOfLevel(H.order_branch_free?j.$level:0))==_.config.id&&(Y=null),$.exists(Y)){var oe=$.getItem(Y),te=D.getItemTop(oe.id),ee=D.getItemHeight(oe.id);if(te+ee/2<Q){var le=$.getIndexById(oe.id),he=$.getNext(oe.id),me=$.getItem(he);if(g(he)){var ye=$.getPrev(me.id);me=$.getItem(ye)}if(me){if(me.id==j.id)return H.order_branch_free&&$.isChildOf(j.id,oe.id)&&1==$.getChildren(oe.id).length?void $.move(j.id,$.getBranchIndex(oe.id)+1,$.getParent(oe.id)):void 0;oe=me}else if(he=$.getIdByIndex(le),me=$.getItem(he),g(he)&&(ye=$.getPrev(me.id),me=$.getItem(ye)),ne(me,j)&&me.id!=j.id)return void $.move(j.id,-1,$.getParent(me.id))}else if(H.order_branch_free&&oe.id!=j.id&&ne(oe,j)&&!g(oe.id)){if(!$.hasChild(oe.id))return oe.$open=!0,void $.move(j.id,-1,oe.id);if($.getIndexById(oe.id)||ee/3<Q)return}le=$.getIndexById(oe.id),ye=$.getIdByIndex(le-1);for(var Se=$.getItem(ye),Oe=1;(!Se||Se.id==oe.id)&&le-Oe>=0;)ye=$.getIdByIndex(le-Oe),Se=$.getItem(ye),Oe++;if(j.id==oe.id||g(oe.id))return;ne(oe,j)&&j.id!=oe.id?$.move(j.id,0,0,oe.id):oe.$level!=j.$level-1||$.getChildren(oe.id).length?Se&&ne(Se,j)&&j.id!=Se.id&&$.move(j.id,-1,$.getParent(Se.id)):$.move(j.id,0,oe.id)}return!0},S)),_.attachEvent("onDragEnd",S.bind(function(){var w=f(),b=w.getItem(_.config.id);b.$transparent=!1,b.$open=_.config.initial_open_state,!1===this.callEvent("onBeforeRowDragEnd",[_.config.id,_.config.parent,_.config.index])?(w.move(_.config.id,_.config.index,_.config.parent),b.$drop_target=null):this.callEvent("onRowDragEnd",[_.config.id,b.$drop_target]),S.render(),this.refreshData()},S))}function y(w){return I.locateAttribute(w,D.$config.item_attribute)}function f(){return S.getDatastore(D.$config.bind)}function g(w){return O(w,S,f())}}}},function(z,J,k){var I=k(1),O=k(28),S=k(237),D=k(238),C=k(239),_=k(9);z.exports={init:function(y,f){var g=y.$services.getService("dnd");if(f.$config.bind&&y.getDatastore(f.$config.bind)){var w=new g(f.$grid_data,{updates_per_second:60});y.defined(f.$getConfig().dnd_sensitivity)&&(w.config.sensitivity=f.$getConfig().dnd_sensitivity),w.attachEvent("onBeforeDragStart",y.bind(function(E,G){var H=b(G);if(!H||(y.hideQuickInfo&&y._hideQuickInfo(),I.closest(G.target,".gantt_grid_editor_placeholder")))return!1;var $=H.getAttribute(f.$config.item_attribute),j=f.$config.rowStore.getItem($);return!y.isReadonly(j)&&!T($)&&(w.config.initial_open_state=j.$open,!!y.callEvent("onRowDragStart",[$,G.target||G.srcElement,G])&&void 0)},y)),w.attachEvent("onAfterDragStart",y.bind(function(E,G){var H=b(G);w.config.marker.innerHTML=H.outerHTML;var $=w.config.marker.firstChild;$&&(w.config.marker.style.opacity=.4,$.style.position="static",$.style.pointerEvents="none"),w.config.id=H.getAttribute(f.$config.item_attribute);var j=f.$config.rowStore,Q=j.getItem(w.config.id);w.config.level=j.calculateItemLevel(Q),w.config.drop_target=O.createDropTargetObject({targetParent:j.getParent(Q.id),targetIndex:j.getBranchIndex(Q.id),targetId:Q.id,nextSibling:!0}),Q.$open=!1,Q.$transparent=!0,this.refreshData()},y)),w.attachEvent("onDragMove",y.bind(function(E,G){var H=function P(E){var G,H=function(ne){var oe=I.getRelativeEventPosition(ne,f.$grid_data).y,te=f.$config.rowStore;document.doctype||(oe+=window.scrollY),oe=oe||0;var ee=f.$state.scrollTop||0,le=y.$grid_data.getBoundingClientRect().height+ee+window.scrollY,he=ee,me=f.getItemIndexByTopPosition(f.$state.scrollTop);if(te.exists(me)||(me=te.countVisible()-1),me<0)return te.$getRootId();var ye=te.getIdByIndex(me),Se=f.$state.scrollTop/f.getItemHeight(ye),Oe=Se-Math.floor(Se);Oe>.1&&Oe<.9&&(le-=f.getItemHeight(ye)*Oe,he+=f.getItemHeight(ye)*(1-Oe)),oe>=le?oe=le:oe<=he&&(oe=he);var Ne=f.getItemIndexByTopPosition(oe);if(Ne>te.countVisible()-1||Ne<0)return te.$getRootId();var ke=te.getIdByIndex(Ne);return T(ke)?te.getPrevSibling(ke):te.getIdByIndex(Ne)}(E),$=null,j=f.$config.rowStore,Q=!f.$getConfig().order_branch_free,Y=I.getRelativeEventPosition(E,f.$grid_data).y;return document.doctype||(Y+=window.scrollY),H!==j.$getRootId()&&($=(Y-f.getItemTop(H))/f.getItemHeight(H)),Q?(G=S(w.config.id,H,$,Y,j,w.config.level))&&G.targetParent&&T(G.targetParent)&&(H=j.getPrevSibling(G.targetParent),G=S(w.config.id,H,$,Y,j,w.config.level)):G=D(w.config.id,H,$,Y,j),G}(G);return H&&!1!==y.callEvent("onBeforeRowDragMove",[w.config.id,H.targetParent,H.targetIndex])||(H=O.createDropTargetObject(w.config.drop_target)),C.highlightPosition(H,w.config,f),w.config.drop_target=H,this.callEvent("onRowDragMove",[w.config.id,H.targetParent,H.targetIndex]),!0},y)),w.attachEvent("onDragEnd",y.bind(function(){var E=f.$config.rowStore,G=E.getItem(w.config.id);C.removeLineHighlight(w.config),G.$transparent=!1,G.$open=w.config.initial_open_state;var H=w.config.drop_target;!1===this.callEvent("onBeforeRowDragEnd",[w.config.id,H.targetParent,H.targetIndex])?G.$drop_target=null:(E.move(w.config.id,H.targetIndex,H.targetParent),y.render(),this.callEvent("onRowDragEnd",[w.config.id,H.targetParent,H.targetIndex])),E.refresh(G.id)},y))}function b(E){return I.locateAttribute(E,f.$config.item_attribute)}function T(E){return _(E,y,y.getDatastore(f.$config.bind))}}}},function(z,J,k){var I=k(28);function O(C,_,y,f,g){for(var w=_;f.exists(w);){var b=f.calculateItemLevel(f.getItem(w));if((b===y||b===y-1)&&f.getBranchIndex(w)>-1)break;w=g?f.getPrev(w):f.getNext(w)}return f.exists(w)?f.calculateItemLevel(f.getItem(w))===y?g?I.nextSiblingTarget(C,w,f):I.prevSiblingTarget(C,w,f):I.firstChildTarget(C,w,f):null}function S(C,_,y,f){return O(C,_,y,f,!0)}function D(C,_,y,f){return O(C,_,y,f,!1)}z.exports=function(C,_,y,f,g,w){var b;if(_!==g.$getRootId()){var T=g.getItem(_),P=g.calculateItemLevel(T);if(P===w){var E=g.getPrevSibling(_);y<.5&&!E?b=I.prevSiblingTarget(C,_,g):(y<.5&&(_=E),b=I.nextSiblingTarget(C,_,g))}else if(P>w)g.eachParent(function(Q){g.calculateItemLevel(Q)===w&&(_=Q.id)},T),b=S(C,_,w,g);else{var G=S(C,_,w,g),H=D(C,_,w,g);b=y<.5?G:H}}else{var $=g.$getRootId(),j=g.getChildren($);b=I.createDropTargetObject(),b=j.length&&f>=0?S(C,function(Q){for(var Y=Q.getNext();Q.exists(Y);){var ne=Q.getNext(Y);if(!Q.exists(ne))return Y;Y=ne}return null}(g),w,g):D(C,$,w,g)}return b}},function(z,J,k){var I=k(28);z.exports=function(O,S,D,C,_){var y;if(S!==_.$getRootId())y=D<.25?I.prevSiblingTarget(O,S,_):!(D>.6)||_.hasChild(S)&&_.getItem(S).$open?I.firstChildTarget(O,S,_):I.nextSiblingTarget(O,S,_);else{var f=_.$getRootId();y=_.hasChild(f)&&C>=0?I.lastChildTarget(O,f,_):I.firstChildTarget(O,f,_)}return y}},function(z,J,k){var I=k(1);function O(S,D){var C=I.getNodePosition(D.$grid_data);return S.x+=C.x-D.$grid.scrollLeft,S.y+=C.y-D.$grid_data.scrollTop,S}z.exports={removeLineHighlight:function(S){S.markerLine&&S.markerLine.parentNode&&S.markerLine.parentNode.removeChild(S.markerLine),S.markerLine=null},highlightPosition:function(S,D,C){var _=function(f,g){var w=I.getNodePosition(g.$grid_data),b=I.getRelativeEventPosition(f,g.$grid_data),T=w.x,P=b.y-10,E=g.getItemHeight(f.targetId);P<w.y&&(P=w.y);var G=g.getTotalHeight();return P>w.y+G-E&&(P=w.y+G-E),w.x=T,w.y=P,w}(S,C);D.marker.style.left=_.x+9+"px";var g,w,b,T,P,y=D.markerLine;y||((y=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",y.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",y.style.pointerEvents="none"),S.child?(g=y,T=O({x:0,y:(w=C).getItemTop(b=S.targetParent)},w),P=w.$grid_data.getBoundingClientRect().bottom+window.scrollY,g.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",g.style.width=w.$grid_data.offsetWidth+"px",g.style.top=T.y+"px",g.style.left=T.x+"px",g.style.height=w.getItemHeight(b)+"px",T.y>P&&(g.style.top=P+"px")):function(f,g,w){var b=function(E,G){var H=G.$config.rowStore,$={x:0,y:0},j=G.$grid_data.querySelector(".gantt_tree_indent"),Q=15,Y=0;if(j&&(Q=j.offsetWidth),E.targetId!==H.$getRootId()){var ne=G.getItemTop(E.targetId),oe=G.getItemHeight(E.targetId);if(Y=H.exists(E.targetId)?H.calculateItemLevel(H.getItem(E.targetId)):0,E.prevSibling)$.y=ne;else if(E.nextSibling){var te=0;H.eachItem(function(ee){-1!==H.getIndexById(ee.id)&&te++},E.targetId),$.y=ne+oe+te*oe}else $.y=ne+oe,Y+=1}return $.x=40+Y*Q,$.width=Math.max(G.$grid_data.offsetWidth-$.x,0),O($,G)}(f,w),T=w.$grid_data.getBoundingClientRect().bottom+window.scrollY;g.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",g.style.left=b.x+"px",g.style.height="4px";var P=b.y-2;g.style.top=P+"px",g.style.width=b.width+"px",P>T&&(g.style.top=T+"px")}(S,y,C),D.markerLine||(document.body.appendChild(y),D.markerLine=y)}}},function(z,J,k){var I=k(0),O=k(241),S=k(242),D=k(1);z.exports=function(_){var y=_.$services;return{onCreated:function(f){var g=f.$config;g.bind=I.defined(g.bind)?g.bind:"task",g.bindLinks=I.defined(g.bindLinks)?g.bindLinks:"link",f._linksDnD=S.createLinkDND(),f._tasksDnD=O.createTaskDND(),f._tasksDnD.extend(f),this._mouseDelegates=k(20)(_)},onInitialized:function(f){this._attachDomEvents(_),this._attachStateProvider(_,f),f._tasksDnD.init(f,_),f._linksDnD.init(f,_),"timeline"==f.$config.id&&this.extendDom(f)},onDestroyed:function(f){this._clearDomEvents(_),this._clearStateProvider(_),f._tasksDnD&&f._tasksDnD.destructor()},extendDom:function(f){_.$task=f.$task,_.$task_scale=f.$task_scale,_.$task_data=f.$task_data,_.$task_bg=f.$task_bg,_.$task_links=f.$task_links,_.$task_bars=f.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(f){function g(w,b){if(w&&this.callEvent("onLinkDblClick",[w,b])){var T=this.getLink(w);if(this.isReadonly(T))return;var P=this.locale.labels.link+" "+this.templates.link_description(this.getLink(w))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){f._dhtmlx_confirm(P,"",function(){f.deleteLink(w)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",f.bind(function(w,b){var T=this.locate(w,this.config.link_attribute);T&&this.callEvent("onLinkClick",[T,w])},f),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",f.bind(function(w,b){var T=D.getRelativeEventPosition(w,f.$task_data),P=f.dateFromPos(T.x),E=Math.floor(f.columnIndexByDate(P)),G=f.getScale().trace_x[E];f.callEvent("onScaleClick",[w,G])},f),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",f.bind(function(w,b,T){b=this.locate(w,f.config.link_attribute),g.call(this,b,w)},f),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",f.bind(function(w,b,T){b=this.locate(w);var P=this.getTask(b),E=null;return T.parentNode&&D.getClassName(T.parentNode)&&(E=D.getClassName(T.parentNode).indexOf("_left")>-1?P.$target[0]:P.$source[0]),E&&g.call(this,E,w),!1},f),this.$task)},_attachStateProvider:function(f,g){var w=g;y.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:w._tasks?w._tasks.unit:void 0,scale_step:w._tasks?w._tasks.step:void 0}})},_clearStateProvider:function(){y.getService("state").unregisterProvider("tasksTimeline")}}}},function(z,J,k){var I=k(1),O=k(0),S=k(30),D=k(2);z.exports={createTaskDND:function(){var C;return{extend:function(_){_.roundTaskDates=function(y){C.round_task_dates(y)}},init:function(_,y){return f=_,w=(g=y).$services,_._tasks_dnd=C={drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=g._createDomEventScope(),this.clear_drag_state();var b=g.config.drag_mode;this.set_actions(),w.getService("state").registerProvider("tasksDnd",O.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var T={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var P in this._events)for(var E in b)this._events[P][E]=T[P];this._handlers[b.move]=this._move,this._handlers[b.resize]=this._resize,this._handlers[b.progress]=this._resize_progress},set_actions:function(){var b=f.$task_data;this._domEvents.attach(b,"mousemove",g.bind(function(T){this.on_mouse_move(T)},this)),this._domEvents.attach(b,"mousedown",g.bind(function(T){this.on_mouse_down(T)},this)),this._domEvents.attach(document.body,"mouseup",g.bind(function(T){this.on_mouse_up(T)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(b,T,P){var E=f.$getConfig(),G=this._drag_task_coords(b,P);P.left?(b.start_date=g.dateFromPos(G.start+T),b.start_date||(b.start_date=new Date(g.getState().min_date))):(b.end_date=g.dateFromPos(G.end+T),b.end_date||(b.end_date=new Date(g.getState().max_date)));var H=this._calculateMinDuration(E.min_duration,E.duration_unit);b.end_date-b.start_date<E.min_duration&&(P.left?b.start_date=g.calculateEndDate(b.end_date,-H,E.duration_unit,b):b.end_date=g.calculateEndDate(b.start_date,H,E.duration_unit,b)),g._init_task_timing(b)},_calculateMinDuration:function(b,T){return Math.ceil(b/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[T])},_resize_progress:function(b,T,P){var E=this._drag_task_coords(b,P),G=f.$getConfig().rtl?E.start-P.pos.x:P.pos.x-E.start,H=Math.max(0,G);b.progress=Math.min(1,H/Math.abs(E.end-E.start))},_find_max_shift:function(b,T){var P;for(var E in b){var G=b[E],H=g.getTask(G.id),$=this._drag_task_coords(H,G),j=g.posFromDate(new Date(g.getState().min_date)),Q=g.posFromDate(new Date(g.getState().max_date));if($.end+T>Q){var Y=Q-$.end;(Y<P||void 0===P)&&(P=Y)}else if($.start+T<j){var ne=j-$.start;(ne>P||void 0===P)&&(P=ne)}}return P},_move:function(b,T,P,E){var G=this._drag_task_coords(b,P),H=null,$=null;E?(H=new Date(+P.obj.start_date+E),$=new Date(+P.obj.end_date+E)):(H=g.dateFromPos(G.start+T),$=g.dateFromPos(G.end+T)),H?$?(b.start_date=H,b.end_date=$):(b.end_date=new Date(g.getState().max_date),b.start_date=g.dateFromPos(g.posFromDate(b.end_date)-(G.end-G.start))):(b.start_date=new Date(g.getState().min_date),b.end_date=g.dateFromPos(g.posFromDate(b.start_date)+(G.end-G.start)))},_drag_task_coords:function(b,T){return{start:T.obj_s_x=T.obj_s_x||g.posFromDate(b.start_date),end:T.obj_e_x=T.obj_e_x||g.posFromDate(b.end_date)}},_mouse_position_change:function(b,T){var P=b.x-T.x,E=b.y-T.y;return Math.sqrt(P*P+E*E)},_is_number:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},on_mouse_move:function(b){if(this.drag.start_drag){var T=I.getRelativeEventPosition(b,g.$task_data),P=this.drag.start_drag.start_x,E=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(P)&&this._is_number(E)&&this._mouse_position_change({x:P,y:E},T)>20)&&this._start_dnd(b)}if(this.drag.mode){if(!S(this,40))return;this._update_on_move(b)}},_update_item_on_move:function(b,T,P,E,G,H){var $=g.getTask(T),j=g.mixin({},$),Q=g.mixin({},$);this._handlers[P].apply(this,[Q,b,E,H]),g.mixin($,Q,!0),g.callEvent("onTaskDrag",[$.id,P,Q,j,G]),g.mixin($,Q,!0),g.refreshTask(T)},_update_on_move:function(b){var T=this.drag,P=f.$getConfig();if(T.mode){var E=I.getRelativeEventPosition(b,f.$task_data);if(T.pos&&T.pos.x==E.x)return;T.pos=E;var G=g.dateFromPos(E.x);if(!G||isNaN(G.getTime()))return;var H=E.x-T.start_x,$=g.getTask(T.id);if(this._handlers[T.mode]){if(T.mode===P.drag_mode.move){var j={};this._isMultiselect()&&g.getSelectedTasks().indexOf(T.id)>=0&&(j=this.dragMultiple);var Q=!1;if(g.isSummaryTask($)&&g.config.drag_project){var Y={};Y[T.id]=O.copy(T),Q=!0,j=O.mixin(Y,this.dragMultiple)}var ne=this._find_max_shift(j,H);for(var oe in void 0!==ne&&(H=ne),this._update_item_on_move(H,T.id,T.mode,T,b),j){var te=j[oe];if(Q&&te.id!=T.id&&(g._bulk_dnd=!0),void 0===ne&&(Q||Object.keys(j).length>1))var ee=G-g.dateFromPos(T.start_x);this._update_item_on_move(H,te.id,te.mode,te,b,ee)}g._bulk_dnd=!1}else this._update_item_on_move(H,T.id,T.mode,T,b);g._update_parents(T.id)}}},on_mouse_down:function(b,T){if(2!=b.button||void 0===b.button){var P=f.$getConfig(),E=g.locate(b),G=null;if(g.isTaskExists(E)&&(G=g.getTask(E)),!g.isReadonly(G)&&!this.drag.mode){this.clear_drag_state();var H=I.getClassName(T=T||b.target||b.srcElement),$=this._get_drag_mode(H,T);if(!H||!$)return T.parentNode?this.on_mouse_down(b,T.parentNode):void 0;if($)if($.mode&&$.mode!=P.drag_mode.ignore&&P["drag_"+$.mode]){if(E=g.locate(T),G=g.copy(g.getTask(E)||{}),g.isReadonly(G))return this.clear_drag_state(),!1;if(g.isSummaryTask(G)&&!P.drag_project&&$.mode!=P.drag_mode.progress)return void this.clear_drag_state();$.id=E;var j=I.getRelativeEventPosition(b,g.$task_data);$.start_x=j.x,$.start_y=j.y,$.obj=G,this.drag.start_drag=$,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(g.checkEvent("onMouseDown")&&g.callEvent("onMouseDown",[H.split(" ")[0]])&&T.parentNode)return this.on_mouse_down(b,T.parentNode)}}},_fix_dnd_scale_time:function(b,T){var P=f.$getConfig(),E=g.getScale().unit,G=g.getScale().step;function H($){if(g.config.correct_work_time){var j=f.$getConfig();g.isWorkTime($.start_date,void 0,$)||($.start_date=g.calculateEndDate({start_date:$.start_date,duration:-1,unit:j.duration_unit,task:$}))}}P.round_dnd_dates||(E="minute",G=P.time_step),T.mode==P.drag_mode.resize?T.left?(b.start_date=g.roundDate({date:b.start_date,unit:E,step:G}),H(b)):(b.end_date=g.roundDate({date:b.end_date,unit:E,step:G}),function($){if(g.config.correct_work_time){var j=f.$getConfig();g.isWorkTime(new Date($.end_date-1),void 0,$)||($.end_date=g.calculateEndDate({start_date:$.end_date,duration:1,unit:j.duration_unit,task:$}))}}(b)):T.mode==P.drag_mode.move&&(b.start_date=g.roundDate({date:b.start_date,unit:E,step:G}),H(b),b.end_date=g.calculateEndDate(b))},_fix_working_times:function(b,T){var P=f.$getConfig();(T=T||{mode:P.drag_mode.move}).mode==P.drag_mode.resize?T.left?b.start_date=g.getClosestWorkTime({date:b.start_date,dir:"future",task:b}):b.end_date=g.getClosestWorkTime({date:b.end_date,dir:"past",task:b}):T.mode==P.drag_mode.move&&g.correctTaskWorkTime(b)},_finalize_mouse_up:function(b,T,P,E){var G=g.getTask(b);if(T.work_time&&T.correct_work_time&&this._fix_working_times(G,P),this._fix_dnd_scale_time(G,P),this._fireEvent("before_finish",P.mode,[b,P.mode,g.copy(P.obj),E])){var H=b;g._init_task_timing(G),this.clear_drag_state(),g.updateTask(G.id),this._fireEvent("after_finish",P.mode,[H,P.mode,E])}else this.clear_drag_state(),b==P.id&&(P.obj._dhx_changed=!1,g.mixin(G,P.obj,!0)),g.refreshTask(G.id)},on_mouse_up:function(b){var T=this.drag;if(T.mode&&T.id){var P=f.$getConfig(),E=g.getTask(T.id),G=this.dragMultiple,H=!1,$=0;T.mode===P.drag_mode.move&&(g.isSummaryTask(E)&&P.drag_project||this._isMultiselect())&&(H=!0,$=Object.keys(G).length);var j=function(){if(H)for(var Q in G)this._finalize_mouse_up(G[Q].id,P,G[Q],b);this._finalize_mouse_up(T.id,P,T,b)};H&&$>10?g.batchUpdate(function(){j.call(this)}.bind(this)):j.call(this)}this.clear_drag_state()},_get_drag_mode:function(b,T){var P=f.$getConfig().drag_mode,E={mode:null,left:null};switch((b||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":E.mode=P.move;break;case"gantt_task_drag":E.mode=P.resize;var G=T.getAttribute("data-bind-property");E.left="start_date"==G;break;case"gantt_task_progress_drag":E.mode=P.progress;break;case"gantt_link_control":case"gantt_link_point":E.mode=P.ignore;break;default:E=null}return E},_start_dnd:function(b){var T=this.drag=this.drag.start_drag;delete T.start_drag;var P=f.$getConfig(),E=T.id;if(P["drag_"+T.mode]&&g.callEvent("onBeforeDrag",[E,T.mode,b])&&this._fireEvent("before_start",T.mode,[E,T.mode,b])){delete T.start_drag;var G=g.getTask(E);if(g.isReadonly(G))return void this.clear_drag_state();if(this._isMultiselect()){var H=g.getSelectedTasks();H.indexOf(T.id)>=0&&D.forEach(H,g.bind(function($){var j=g.getTask($);g.isSummaryTask(j)&&g.config.drag_project&&T.mode==P.drag_mode.move&&this._addSubtasksToDragMultiple(j.id),this.dragMultiple[$]=g.mixin({id:j.id,obj:g.copy(j)},this.drag)},this))}g.isSummaryTask(G)&&g.config.drag_project&&T.mode==P.drag_mode.move&&this._addSubtasksToDragMultiple(G.id),g.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(b,T,P){g.assert(this._events[b],"Invalid stage:{"+b+"}");var E=this._events[b][T];return g.assert(E,"Unknown after drop mode:{"+T+"}"),g.assert(P,"Invalid event arguments"),!g.checkEvent(E)||g.callEvent(E,P)},round_task_dates:function(b){var T=this.drag,P=f.$getConfig();T||(T={mode:P.drag_mode.move}),this._fix_dnd_scale_time(b,T)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return g.config.drag_multiple&&!!(g.getSelectedTasks&&g.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(b){g.eachTask(function(T){this.dragMultiple[T.id]=g.mixin({id:T.id,obj:g.copy(T)},this.drag)},b,this)}},C.init(y);var f,g,w},destructor:function(){C&&(C.destructor(),C=null)}}}}},function(z,J,k){var I=k(1),O=function(S,D){var C,_,y,f,g;function T(){return{link_source_id:f,link_target_id:_,link_from_start:g,link_to_start:y,link_landing_area:C}}var P=D.$services,E=P.getService("state"),G=P.getService("dnd");E.registerProvider("linksDnD",T);var H=new G(S.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:D.$root,selector:".gantt_link_point",preventDefault:!0});function $(te,ee,le,he,me){var ye=function(Ne,ke,Ge){var mt,je=function(Ne){return D.getTaskPosition(Ne)}(Ne),rt={x:je.left,y:je.top,width:je.width,height:je.height};if(Ge.rtl?(rt.xEnd=rt.x,rt.x=rt.xEnd+rt.width):rt.xEnd=rt.x+rt.width,rt.yEnd=rt.y+rt.height,D.getTaskType(Ne.type)==D.config.types.milestone){var ze=(mt=S.getBarHeight(Ne.id,!0),Math.round(Math.sqrt(2*mt*mt))-2);rt.x+=ze/2*(Ge.rtl?1:-1),rt.xEnd+=ze/2*(Ge.rtl?-1:1),rt.width=je.xEnd-je.x}return rt}(te,0,he),Se={x:ye.x,y:ye.y};ee||(Se.x=ye.xEnd),Se.y+=D.getTaskHeight(te.id)/2;var Oe=D.getTaskType(te.type)==D.config.types.milestone&&me?2:0;return le=le||0,he.rtl&&(le*=-1),Se.x+=(ee?-1:1)*le-Oe,Se}function Q(te){var ee=T(),le=["gantt_link_tooltip"];ee.link_source_id&&ee.link_target_id&&(D.isLinkAllowed(ee.link_source_id,ee.link_target_id,ee.link_from_start,ee.link_to_start)?le.push("gantt_allowed_link"):le.push("gantt_invalid_link"));var he=D.templates.drag_link_class(ee.link_source_id,ee.link_from_start,ee.link_target_id,ee.link_to_start);he&&le.push(he);var me="<div class='"+he+"'>"+D.templates.drag_link(ee.link_source_id,ee.link_from_start,ee.link_target_id,ee.link_to_start)+"</div>";te.innerHTML=me}function Y(){f=g=_=null,y=!0}function ne(te,ee,le,he){var me=(H._direction&&H._direction.parentNode||(H._direction=document.createElement("div"),S.$task_links.appendChild(H._direction)),H._direction),ye=T(),Se=["gantt_link_direction"];D.templates.link_direction_class&&Se.push(D.templates.link_direction_class(ye.link_source_id,ye.link_from_start,ye.link_target_id,ye.link_to_start));var Re,Nt,Oe=Math.sqrt(Math.pow(le-te,2)+Math.pow(he-ee,2));if(Oe=Math.max(0,Oe-3)){me.className=Se.join(" ");var ke=Math.atan((he-ee)/(le-te));2==oe(te,le,ee,he)?ke+=Math.PI:3==oe(te,le,ee,he)&&(ke-=Math.PI);var Ge=Math.sin(ke),je=Math.cos(ke),rt=Math.round(ee),ze=Math.round(te),qe=["-webkit-transform: rotate("+ke+"rad)","-moz-transform: rotate("+ke+"rad)","-ms-transform: rotate("+ke+"rad)","-o-transform: rotate("+ke+"rad)","transform: rotate("+ke+"rad)","width:"+Math.round(Oe)+"px"];if(-1!=window.navigator.userAgent.indexOf("MSIE 8.0")){qe.push('-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11 = '+(Nt=je)+",M12 = -"+(Re=Ge)+",M21 = "+Re+",M22 = "+Nt+",SizingMethod = 'auto expand')\"");var mt=Math.abs(Math.round(te-le)),bt=Math.abs(Math.round(he-ee));switch(oe(te,le,ee,he)){case 1:rt-=bt;break;case 2:ze-=mt,rt-=bt;break;case 3:ze-=mt}}qe.push("top:"+rt+"px"),qe.push("left:"+ze+"px"),me.style.cssText=qe.join(";")}}function oe(te,ee,le,he){return ee>=te?he<=le?1:4:he<=le?2:3}H.attachEvent("onBeforeDragStart",D.bind(function(te,ee){var le=ee.target||ee.srcElement;if(Y(),D.getState("tasksDnd").drag_id)return!1;if(I.locateClassName(le,"gantt_link_point")){I.locateClassName(le,"task_start_date")&&(g=!0);var he=D.locate(ee);f=he;var me=D.getTask(he);return D.isReadonly(me)?(Y(),!1):(this._dir_start=$(me,!!g,0,S.$getConfig(),!0),!0)}return!1},this)),H.attachEvent("onAfterDragStart",D.bind(function(te,ee){D.config.touch&&D.refreshData(),Q(H.config.marker)},this)),H.attachEvent("onDragMove",D.bind(function(te,ee){var bt,Re,le=H.config,he=function j(te,ee){var Ge,je,rt,le=H.getPosition(te),he=(je=0,rt=0,(Ge=ee)&&(je=Ge.offsetWidth||0,rt=Ge.offsetHeight||0),{width:je,height:rt}),me=function(){var Ge=D.$root;return{right:Ge.offsetWidth,bottom:Ge.offsetHeight}}(),ye=D.config.tooltip_offset_x||10,Se=D.config.tooltip_offset_y||10,Oe=D.config.scroll_size||18,Ne=D.$container.getBoundingClientRect().y+window.scrollY,ke={y:le.y+Se,x:le.x+ye,bottom:le.y+he.height+Se+Oe,right:le.x+he.width+ye+Oe};return ke.bottom>me.bottom+Ne&&(ke.y=me.bottom+Ne-he.height-Se),ke.right>me.right&&(ke.x=me.right-he.width-ye),ke}(ee,le.marker);(bt=le.marker).style.left=(Re=he).x+"px",bt.style.top=Re.y+"px";var me=!!I.locateClassName(ee,"gantt_link_control"),ye=_,Se=C,Oe=y,Ne=D.locate(ee),ke=!0,Ge=I.getTargetNode(ee);if(I.isChildOf(Ge,D.$root)||(me=!1,Ne=null),me&&(ke=!I.locateClassName(ee,"task_end_date"),me=!!Ne),_=Ne,C=me,y=ke,me){var je=D.getTask(Ne),rt=S.$getConfig(),ze=I.locateClassName(ee,"gantt_link_control"),qe=0;ze&&(qe=Math.floor(ze.offsetWidth/2)),this._dir_end=$(je,!!y,qe,rt)}else this._dir_end=I.getRelativeEventPosition(ee,S.$task_data),D.env.isEdge&&(this._dir_end.y+=window.scrollY);var mt=!(Se==me&&ye==Ne&&Oe==ke);return mt&&(ye&&D.refreshTask(ye,!1),Ne&&D.refreshTask(Ne,!1)),mt&&Q(le.marker),ne(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),H.attachEvent("onDragEnd",D.bind(function(){var te=T();if(te.link_source_id&&te.link_target_id&&te.link_source_id!=te.link_target_id){var ee=D._get_link_type(te.link_from_start,te.link_to_start),le={source:te.link_source_id,target:te.link_target_id,type:ee};le.type&&D.isLinkAllowed(le)&&D.callEvent("onLinkCreated",[le])&&D.addLink(le)}Y(),D.config.touch?D.refreshData():(te.link_source_id&&D.refreshTask(te.link_source_id,!1),te.link_target_id&&D.refreshTask(te.link_target_id,!1)),H._direction&&(H._direction.parentNode&&H._direction.parentNode.removeChild(H._direction),H._direction=null)},this)),D.attachEvent("onGanttRender",D.bind(function(){H._direction&&ne(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};z.exports={createLinkDND:function(){return{init:O}}}},function(z,J,k){var I=k(1);z.exports=function(S){return{getVerticalScrollbar:function(){return S.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return S.$ui.getView("scrollHor")},_legacyGridResizerClass:function(D){for(var C=D.getCellsByType("resizer"),_=0;_<C.length;_++){var y=C[_],f=!1,g=y.$parent.getPrevSibling(y.$id);if(g&&g.$config&&"grid"===g.$config.id)f=!0;else{var w=y.$parent.getNextSibling(y.$id);w&&w.$config&&"grid"===w.$config.id&&(f=!0)}f&&(y.$config.css=(y.$config.css?y.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(D){var C=!0;this._legacyGridResizerClass(D),D.attachEvent("onBeforeResize",function(){var _=S.$ui.getView("timeline");_&&(_.$config.hidden=_.$parent.$config.hidden=!S.config.show_chart);var y=S.$ui.getView("grid");if(y){var f=y._getColsTotalWidth(),g=!S.config.show_grid||!S.config.grid_width||0===f;if(C&&!g&&!1!==f&&(S.config.grid_width=f),y.$config.hidden=y.$parent.$config.hidden=g,!y.$config.hidden){var w=y._getGridWidthLimits();if(w[0]&&S.config.grid_width<w[0]&&(S.config.grid_width=w[0]),w[1]&&S.config.grid_width>w[1]&&(S.config.grid_width=w[1]),_&&S.config.show_chart){if(y.$config.width=S.config.grid_width-1,!y.$config.scrollable&&y.$config.scrollY&&S.$root.offsetWidth){var b=y.$gantt.$layout.$container.offsetWidth,T=S.$ui.getView(y.$config.scrollY).$config.width,P=b-(y.$config.width+T);P<0&&(y.$config.width+=P,S.config.grid_width+=P)}if(C)y.$parent.$config.width=S.config.grid_width,y.$parent.$config.group&&S.$layout._syncCellSizes(y.$parent.$config.group,{value:y.$parent.$config.width,isGravity:!1});else if(_&&!I.isChildOf(_.$task,D.$view)){if(!y.$config.original_grid_width){var E=S.skins[S.skin];y.$config.original_grid_width=E&&E.config&&E.config.grid_width?E.config.grid_width:0}S.config.grid_width=y.$config.original_grid_width,y.$parent.$config.width=S.config.grid_width}else y.$parent._setContentSize(y.$config.width,null),S.$layout._syncCellSizes(y.$parent.$config.group,{value:S.config.grid_width,isGravity:!1})}else _&&I.isChildOf(_.$task,D.$view)&&(y.$config.original_grid_width=S.config.grid_width),C||(y.$parent.$config.width=0)}C=!1}}),this._initScrollStateEvents(D)},_initScrollStateEvents:function(D){S._getVerticalScrollbar=this.getVerticalScrollbar,S._getHorizontalScrollbar=this.getHorizontalScrollbar;var C=this.getVerticalScrollbar(),_=this.getHorizontalScrollbar();C&&C.attachEvent("onScroll",function(y,f,g){var w=S.getScrollState();S.callEvent("onGanttScroll",[w.x,y,w.x,f])}),_&&_.attachEvent("onScroll",function(y,f,g){var w=S.getScrollState();S.callEvent("onGanttScroll",[y,w.y,f,w.y]);var b=S.$ui.getView("grid");b&&b.$grid_data&&!b.$config.scrollable&&(b.$grid_data.style.left=b.$grid.scrollLeft+"px",b.$grid_data.scrollLeft=b.$grid.scrollLeft)}),D.attachEvent("onResize",function(){C&&!S.$scroll_ver&&(S.$scroll_ver=C.$scroll_ver),_&&!S.$scroll_hor&&(S.$scroll_hor=_.$scroll_hor)})},_findGridResizer:function(D,C){for(var _,y=D.getCellsByType("resizer"),f=!0,g=0;g<y.length;g++){var w=y[g];w._getSiblings();var b=w._behind,T=w._front;if(b&&b.$content===C||b.isChild&&b.isChild(C)){_=w,f=!0;break}if(T&&T.$content===C||T.isChild&&T.isChild(C)){_=w,f=!1;break}}return{resizer:_,gridFirst:f}},onInitialized:function(D){var C=S.$ui.getView("grid"),_=this._findGridResizer(D,C);if(_.resizer){var y,f=_.gridFirst,g=_.resizer;if("x"!==g.$config.mode)return;g.attachEvent("onResizeStart",function(w,b){var T=S.$ui.getView("grid"),P=T?T.$parent:null;if(P){var E=T._getGridWidthLimits();T.$config.scrollable||(P.$config.minWidth=E[0]),P.$config.maxWidth=E[1]}return S.callEvent("onGridResizeStart",[y=f?w:b])}),g.attachEvent("onResize",function(w,b){return S.callEvent("onGridResize",[y,f?w:b])}),g.attachEvent("onResizeEnd",function(w,b,T,P){var E=f?w:b,G=f?T:P,H=S.$ui.getView("grid"),$=H?H.$parent:null;$&&($.$config.minWidth=void 0);var j=S.callEvent("onGridResizeEnd",[E,G]);return j&&0!==G&&(S.config.grid_width=G),j})}},onDestroyed:function(D){}}}},function(z,J){z.exports=function(k){delete k.addTaskLayer,delete k.addLinkLayer}},function(z,J){z.exports=function(){function k(f){return f.$ui.getView("timeline")}function I(f){return f.$ui.getView("grid")}function O(f){var g=k(f);if(g&&!g.$config.hidden)return g;var w=I(f);return w&&!w.$config.hidden?w:null}function S(f){var g,w=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(b){w=w||!!document.querySelector(b)}),(g=w?I(f):O(f))?C(f,g,"scrollY"):null}function D(f){var g=O(f);return g&&"grid"!=g.id?C(f,g,"scrollX"):null}function C(f,g,w){return f.$ui.getView(g.$config[w])}var _="DEFAULT_VALUE";function y(f,g,w,b){var T=f(this);return T&&T.isVisible()?T[g].apply(T,w):b?b():_}return{getColumnIndex:function(f){var g=y.call(this,I,"getColumnIndex",[f]);return g===_?0:g},dateFromPos:function(f){var g=y.call(this,k,"dateFromPos",Array.prototype.slice.call(arguments));return g===_?this.getState().min_date:g},posFromDate:function(f){var g=y.call(this,k,"posFromDate",[f]);return g===_?0:g},getRowTop:function(f){var g=this,w=y.call(g,k,"getRowTop",[f],function(){return y.call(g,I,"getRowTop",[f])});return w===_?0:w},getTaskTop:function(f){var g=this,w=y.call(g,k,"getItemTop",[f],function(){return y.call(g,I,"getItemTop",[f])});return w===_?0:w},getTaskPosition:function(f,g,w){var b=y.call(this,k,"getItemPosition",[f,g,w]);return b===_?{left:0,top:this.getTaskTop(f.id),height:this.getTaskBarHeight(f.id),width:0}:b},getTaskBarHeight:function(f,g){var w=this,b=y.call(w,k,"getBarHeight",[f,g],function(){return y.call(w,I,"getItemHeight",[f])});return b===_?0:b},getTaskHeight:function(f){var g=this,w=y.call(g,k,"getItemHeight",[f],function(){return y.call(g,I,"getItemHeight",[f])});return w===_?0:w},columnIndexByDate:function(f){var g=y.call(this,k,"columnIndexByDate",[f]);return g===_?0:g},roundTaskDates:function(){y.call(this,k,"roundTaskDates",[])},getScale:function(){var f=y.call(this,k,"getScale",[]);return f===_?null:f},getTaskNode:function(f){var g=k(this);if(g&&g.isVisible()){var w=g._taskRenderer.rendered[f];return w||(w=g.$task_bars.querySelector("["+g.$config.item_attribute+"='"+f+"']")),w||null}return null},getLinkNode:function(f){var g=k(this);return g.isVisible()?g._linkRenderer.rendered[f]:null},scrollTo:function(f,g){var w=S(this),b=D(this),T={position:0},P={position:0};w&&(P=w.getScrollState()),b&&(T=b.getScrollState());var E=b&&1*f==f,G=w&&1*g==g;if(E&&G)for(var H=w._getLinkedViews(),$=b._getLinkedViews(),j=[],Q=0;Q<H.length;Q++)for(var Y=0;Y<$.length;Y++)H[Q].$config.id&&$[Y].$config.id&&H[Q].$config.id===$[Y].$config.id&&j.push(H[Q].$config.id);E&&(j&&j.forEach(function(te){this.$ui.getView(te).$config.$skipSmartRenderOnScroll=!0}.bind(this)),b.scroll(f),j&&j.forEach(function(te){this.$ui.getView(te).$config.$skipSmartRenderOnScroll=!1}.bind(this))),G&&w.scroll(g);var ne={position:0},oe={position:0};w&&(ne=w.getScrollState()),b&&(oe=b.getScrollState()),this.callEvent("onGanttScroll",[T.position,P.position,oe.position,ne.position])},showDate:function(f){var g=this.posFromDate(f),w=Math.max(g-this.config.task_scroll_offset,0);this.scrollTo(w)},showTask:function(f){var g=this.getTaskPosition(this.getTask(f)),w=g.left;this.config.rtl&&(w=g.left+g.width);var b,T=Math.max(w-this.config.task_scroll_offset,0),P=this._scroll_state().y;b=P?g.top-(P-this.getTaskBarHeight(f))/2:g.top,this.scrollTo(T,b);var E=I(this),G=k(this);E&&G&&E.$config.scrollY!=G.$config.scrollY&&C(this,E,"scrollY").scrollTo(null,b)},_scroll_state:function(){var f={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},g=S(this),w=D(this);if(w){var b=w.getScrollState();b.visible&&(f.x=b.size,f.x_inner=b.scrollSize),f.x_pos=b.position||0}if(g){var T=g.getScrollState();T.visible&&(f.y=T.size,f.y_inner=T.scrollSize),f.y_pos=T.position||0}return f},getScrollState:function(){var f=this._scroll_state();return{x:f.x_pos,y:f.y_pos,inner_width:f.x,inner_height:f.y,width:f.x_inner,height:f.y_inner}}}}},function(z,J){function k(I,O){var S=O.skin;if(!S||I)for(var D=document.getElementsByTagName("link"),C=0;C<D.length;C++){var _=D[C].href.match("dhtmlxgantt_([a-z_]+).css");if(_&&(O.skins[_[1]]||!S)){S=_[1];break}}O.skin=S||"terrace";var y=O.skins[O.skin]||O.skins.terrace;!function(w,b,T){for(var P in b)(void 0===w[P]||T)&&(w[P]=b[P])}(O.config,y.config,I);var f=O.getGridColumns();for(f[1]&&!O.defined(f[1].width)&&(f[1].width=y._second_column_width),f[2]&&!O.defined(f[2].width)&&(f[2].width=y._third_column_width),C=0;C<f.length;C++){var g=f[C];"add"==g.name&&(g.width||(g.width=44),O.defined(g.min_width)&&O.defined(g.max_width)||(g.min_width=g.min_width||g.width,g.max_width=g.max_width||g.width),g.min_width&&(g.min_width=+g.min_width),g.max_width&&(g.max_width=+g.max_width),g.width&&(g.width=+g.width,g.width=g.min_width&&g.min_width>g.width?g.min_width:g.width,g.width=g.max_width&&g.max_width<g.width?g.max_width:g.width))}y.config.task_height&&(O.config.task_height=y.config.task_height||"full"),y.config.bar_height&&(O.config.bar_height=y.config.bar_height||"full"),y._lightbox_template&&(O._lightbox_template=y._lightbox_template),y._redefine_lightbox_buttons&&(O.config.buttons_right=y._redefine_lightbox_buttons.buttons_right,O.config.buttons_left=y._redefine_lightbox_buttons.buttons_left),O.resetLightbox()}z.exports=function(I){I.resetSkin||(I.resetSkin=function(){this.skin="",k(!0,this)},I.skins={},I.attachEvent("onGanttLayoutReady",function(){k(!1,this)}))}},function(z,J){z.exports=function(k){k.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(z,J){z.exports=function(k){k.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(z,J){z.exports=function(k){k.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(z,J){z.exports=function(k){k.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(z,J){z.exports=function(k){k.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},k.attachEvent("onAfterTaskDrag",function(I){var O=k.getTaskNode(I);O&&(O.className+=" gantt_drag_animation",setTimeout(function(){var S=O.className.indexOf(" gantt_drag_animation");S>-1&&(O.className=O.className.slice(0,S))},200))})}},function(z,J){z.exports=function(k){k.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(z,J){z.exports=function(k){k.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(z,J,k){z.exports=function(I){I.ext||(I.ext={});for(var O=[k(255),k(256),k(257)],S=0;S<O.length;S++)O[S]&&O[S](I);var D=k(258).default;I.ext.zoom=new D(I)}},function(z,J,k){var I=k(1),O=k(10);z.exports=function(S){var f=null,g=!1,w=null,b={started:!1},T={};function P(Y){return Y&&I.isChildOf(Y,S.$root)&&Y.offsetHeight}function E(){var Y=!!document.querySelector(".gantt_drag_marker"),ne=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),oe=!!document.querySelector(".gantt_link_direction"),te=S.getState();return g=Y&&!ne&&!oe,!(!te.drag_mode&&!Y||ne)||te.autoscroll}function G(Y){if(w&&(clearTimeout(w),w=null),Y){var ne=S.config.autoscroll_speed;ne&&ne<10&&(ne=10),w=setTimeout(function(){f=setInterval(j,ne||50)},S.config.autoscroll_delay||10)}}function H(Y){Y?(G(!0),b.started||(b.x=T.x,b.y=T.y,b.started=!0)):(f&&(clearInterval(f),f=null),G(!1),b.started=!1)}function $(Y){var ne=E();if(!f&&!w||ne||H(!1),!S.config.autoscroll||!ne)return!1;T={x:Y.clientX,y:Y.clientY},"touchmove"==Y.type&&(T.x=Y.targetTouches[0].clientX,T.y=Y.targetTouches[0].clientY),!f&&ne&&H(!0)}function j(){if(!E())return H(!1),!1;var rt,ze,qe,mt,bt,Y=P(S.$task)?S.$task:P(S.$grid)?S.$grid:S.$root;if(Y){var ne=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(rt){ne=ne||!!document.querySelector(rt)}),ne&&(Y=S.$grid);var oe=I.getNodePosition(Y),ee=T.y-oe.y+window.scrollY,le=g?0:Q(T.x-oe.x,oe.width,b.x-oe.x),he=Q(ee,oe.height,b.y-oe.y+window.scrollY),me=S.getScrollState(),ye=me.y,Se=me.inner_height,Ne=me.x,ke=me.inner_width;(he&&!Se||he<0&&!ye||he>0&&ye+Se>=me.height+2)&&(he=0),(le&&!ke||le<0&&!Ne||le>0&&Ne+ke>=me.width)&&(le=0);var je=S.config.autoscroll_step;je&&je<2&&(je=2),he*=je||30,((le*=je||30)||he)&&(rt=le,ze=he,qe=S.getScrollState(),mt=null,bt=null,rt&&(mt=qe.x+rt,mt=Math.min(qe.width,mt),mt=Math.max(0,mt)),ze&&(bt=qe.y+ze,bt=Math.min(qe.height,bt),bt=Math.max(0,bt)),S.scrollTo(mt,bt))}}function Q(Y,ne,oe){return Y-50<0&&Y<oe?-1:Y>ne-50&&Y>oe?1:0}S.attachEvent("onGanttReady",function(){if(!O(S)){var Y=I.getRootNode(S.$root)||document.body;S.eventRemove(Y,"mousemove",$),S.event(Y,"mousemove",$),S.eventRemove(Y,"touchmove",$),S.event(Y,"touchmove",$),S.eventRemove(Y,"pointermove",$),S.event(Y,"pointermove",$)}}),S.attachEvent("onDestroy",function(){H(!1)})}},function(z,J){function k(I){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}var I,O;window.jQuery&&(I=window.jQuery,O=[],I.fn.dhx_gantt=function(S){if("string"!=typeof(S=S||{})){var D=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)D.push("object"==k(this.gantt)?this.gantt:window.gantt);else{var C=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var _ in S)"data"!=_&&(C.config[_]=S[_]);C.init(this),S.data&&C.parse(S.data),D.push(C)}}),1===D.length?D[0]:D}if(O[S])return O[S].apply(this,[]);I.error("Method "+S+" does not exist on jQuery.dhx_gantt")}),z.exports=null},function(z,J){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(k,I,O){var S=document.createElement("DIV");O=O||window.gantt,S.id="gantt_"+O.uid(),S.style.width="100%",S.style.height="100%",S.cmp="grid",document.body.appendChild(S),this.attachObject(S.id),this.dataType="gantt",this.dataObj=O;var D=this.vs[this.av];return D.grid=O,O.init(S.id,k,I),S.firstChild.style.border="none",D.gridId=S.id,D.gridObj=S,this.vs[this._viewRestore()].grid}),void 0!==window.dhtmlXCellObject&&(window.dhtmlXCellObject.prototype.attachGantt=function(k,I,O){O=O||window.gantt;var S=document.createElement("DIV");return S.id="gantt_"+O.uid(),S.style.width="100%",S.style.height="100%",S.cmp="grid",document.body.appendChild(S),this.attachObject(S.id),this.dataType="gantt",this.dataObj=O,O.init(S.id,k,I),S.firstChild.style.border="none",S=null,this.callEvent("_onContentAttach",[]),this.dataObj}),z.exports=null},function(z,J,k){"use strict";Object.defineProperty(J,"__esModule",{value:!0});var I=k(7),O=k(4),S=["ctrlKey","altKey","shiftKey","metaKey"],D=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],C=function(){function _(y){var f=this;this.zoomIn=function(){var g=f.getCurrentLevel()-1;g<0||f.setLevel(g)},this.zoomOut=function(){var g=f.getCurrentLevel()+1;g>f._levels.length-1||f.setLevel(g)},this.getCurrentLevel=function(){return f._activeLevelIndex},this.getLevels=function(){return f._levels},this.setLevel=function(g){var w=f._getZoomIndexByName(g);-1===w&&f.$gantt.assert(-1!==w,"Invalid zoom level for gantt.ext.zoom.setLevel. "+g+" is not an expected value."),f._setLevel(w,0)},this._getZoomIndexByName=function(g){var w=-1;if("string"==typeof g){if(!isNaN(Number(g))&&f._levels[Number(g)])w=Number(g);else for(var b=0;b<f._levels.length;b++)if(f._levels[b].name===g){w=b;break}}else w=g;return w},this._getVisibleDate=function(){if(!f.$gantt.$task)return null;var g=f.$gantt.getScrollState().x;f._visibleDate=f.$gantt.dateFromPos(g+f.$gantt.$task.offsetWidth/2)},this._setLevel=function(g,w){f._activeLevelIndex=g;var b=f.$gantt,T=b.copy(f._levels[f._activeLevelIndex]),P=b.copy(T);if(delete P.name,b.mixin(b.config,P,!0),b.$root&&b.$task){if(w){var E=f.$gantt.dateFromPos(w+f.$gantt.getScrollState().x);f.$gantt.render();var G=f.$gantt.posFromDate(E);f.$gantt.scrollTo(G-w)}else{var H=f.$gantt.$task.offsetWidth;f._visibleDate||f._getVisibleDate();var $=f._visibleDate;f.$gantt.render(),G=f.$gantt.posFromDate($),f.$gantt.scrollTo(G-H/2)}f.callEvent("onAfterZoom",[f._activeLevelIndex,T])}},this._attachWheelEvent=function(g){var w,b=I.isFF?"wheel":"mousewheel";(w="function"==typeof g.element?g.element():g.element)&&f._domEvents.attach(w,b,f.$gantt.bind(function(T){return!(this._useKey&&(S.indexOf(this._useKey)<0||!T[this._useKey]))&&("function"==typeof this._handler?(this._handler.apply(this,[T]),!0):void 0)},f),{passive:!1})},this._defaultHandler=function(g){var w=f.$gantt.$task.getBoundingClientRect().x,b=g.clientX-w,T=!1;(f.$gantt.env.isFF?-40*g.deltaY:g.wheelDelta)>0&&(T=!0),g.preventDefault(),g.stopPropagation(),f._setScaleSettings(T,b)},this._setScaleDates=function(){f._initialStartDate&&f._initialEndDate&&(f.$gantt.config.start_date=f._initialStartDate,f.$gantt.config.end_date=f._initialEndDate)},this.$gantt=y,this._domEvents=this.$gantt._createDomEventScope()}return _.prototype.init=function(y){var f=this;this.$gantt.env.isNode||(this._initialStartDate=y.startDate,this._initialEndDate=y.endDate,this._activeLevelIndex=y.activeLevelIndex?y.activeLevelIndex:0,this._levels=this._mapScales(y.levels||D),this._handler=y.handler||this._defaultHandler,this._minColumnWidth=y.minColumnWidth||60,this._maxColumnWidth=y.maxColumnWidth||240,this._widthStep=y.widthStep||3/8*y.minColumnWidth,this._useKey=y.useKey,this._initialized||(O(this),this.$gantt.attachEvent("onGanttScroll",function(){f._getVisibleDate()})),this._domEvents.detachAll(),"wheel"===y.trigger&&(this.$gantt.$root?this._attachWheelEvent(y):this.$gantt.attachEvent("onGanttReady",function(){f._attachWheelEvent(y)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},_.prototype._mapScales=function(y){return y.map(function(f){return Array.isArray(f)?{scales:f}:f})},_.prototype._setScaleSettings=function(y,f){y?this._stepUp(f):this._stepDown(f)},_.prototype._stepUp=function(y){if(!(this._activeLevelIndex>=this._levels.length-1)){var f=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var g=this.$gantt.config.min_column_width+this._widthStep;g>this._maxColumnWidth&&(g=this._minColumnWidth,f++),this.$gantt.config.min_column_width=g}else f++;this._setLevel(f,y)}},_.prototype._stepDown=function(y){if(!(this._activeLevelIndex<1)){var f=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var g=this.$gantt.config.min_column_width-this._widthStep;g<this._minColumnWidth&&(g=this._maxColumnWidth,f--),this.$gantt.config.min_column_width=g}else f--;this._setLevel(f,y)}},_}();J.default=C},function(z,J){z.exports=function(k){function I(D){var C=D.$config.scrollX?k.$ui.getView(D.$config.scrollX):null,_=D.$config.scrollY?k.$ui.getView(D.$config.scrollY):null,y={x:null,y:null};return C&&C.getScrollState().visible&&(y.x=C.$view.scrollLeft),_&&_.getScrollState().visible&&(y.y=_.$view.scrollTop),y}function O(){var D;return k.$ui.getView("timeline")&&(D=k.$ui.getView("timeline")._tasks_dnd),D}k.config.touch_drag=500,k.config.touch=!0,k.config.touch_feedback=!0,k.config.touch_feedback_duration=1,k._prevent_touch_scroll=!1,k._touch_feedback=function(){k.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(k.config.touch_feedback_duration)},k.attachEvent("onGanttReady",k.bind(function(){if("force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),this.config.touch){var D=!0;try{document.createEvent("TouchEvent")}catch(C){D=!1}D?this._touch_events(["touchmove","touchstart","touchend"],function(C){return C.touches&&C.touches.length>1?null:C.touches[0]?{target:C.target,pageX:C.touches[0].pageX,pageY:C.touches[0].pageY,clientX:C.touches[0].clientX,clientY:C.touches[0].clientY}:C},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(C){return"mouse"==C.pointerType?null:C},function(C){return!C||"mouse"==C.pointerType}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(C){return C.pointerType==C.MSPOINTER_TYPE_MOUSE?null:C},function(C){return!C||C.pointerType==C.MSPOINTER_TYPE_MOUSE})}},k));var S=[];k._touch_events=function(D,C,_){for(var y,f=0,g=!1,w=!1,b=null,T=null,P=null,E=[],G=null,H=0;H<S.length;H++)k.eventRemove(S[H][0],S[H][1],S[H][2]);for((S=[]).push([k.$container,D[0],function(j){var he,me,ye,Se,Oe,Q=O();if(!_(j)&&g){T&&clearTimeout(T);var Y=C(j);if(Q&&(Q.drag.id||Q.drag.start_drag))return Q.on_mouse_move(Y),j.preventDefault&&j.preventDefault(),j.cancelBubble=!0,!1;if(!k._prevent_touch_scroll){if(Y&&b){var ne=b.pageX-Y.pageX,oe=b.pageY-Y.pageY;if(!w&&(Math.abs(ne)>5||Math.abs(oe)>5)&&(w=!0,f=0,y=G?I(G):k.getScrollState()),w){var te,ee=y.x+ne,le=y.y+oe;if(G?(me=ee,ye=le,Se=(he=G).$config.scrollX?k.$ui.getView(he.$config.scrollX):null,Oe=he.$config.scrollY?k.$ui.getView(he.$config.scrollY):null,Se&&Se.scrollTo(me,null),Oe&&Oe.scrollTo(null,ye),te=I(G)):(k.scrollTo(ee,le),te=k.getScrollState()),y.x!=te.x&&oe>2*ne||y.y!=te.y&&ne>2*oe)return $(j)}}return $(j)}return!0}}]),S.push([this.$container,"contextmenu",function(j){if(g)return $(j)}]),S.push([this.$container,D[1],function(j){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!_(j))if(j.touches&&j.touches.length>1)g=!1;else{b=C(j),G=function(Y){for(var ne=k.$layout.getCellsByType("viewCell"),oe=0;oe<ne.length;oe++){var te=ne[oe].$view.getBoundingClientRect();if(Y.clientX>=te.left&&Y.clientX<=te.right&&Y.clientY<=te.bottom&&Y.clientY>=te.top)return ne[oe]}}(b),k._locate_css(b,"gantt_hor_scroll")||k._locate_css(b,"gantt_ver_scroll")||(g=!0);var Q=O();T=setTimeout(function(){var Y=k.locate(b);Q&&Y&&!k._locate_css(b,"gantt_link_control")&&!k._locate_css(b,"gantt_grid_data")&&(Q.on_mouse_down(b),Q.drag&&Q.drag.start_drag&&(function(ne){var oe=k._getTaskLayers(),te=k.getTask(ne);if(te&&k.isTaskVisible(ne)){P=ne;for(var ee=0;ee<oe.length;ee++)if((te=oe[ee].rendered[ne])&&te.getAttribute(k.config.task_attribute)&&te.getAttribute(k.config.task_attribute)==ne){var le=te.cloneNode(!0);E.push(te),oe[ee].rendered[ne]=le,te.style.display="none",le.className+=" gantt_drag_move ",te.parentNode.appendChild(le)}}}(Y),Q._start_dnd(b),k._touch_drag=!0,k.refreshTask(Y),k._touch_feedback())),T=null},k.config.touch_drag)}}]),S.push([this.$container,D[2],function(j){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!_(j)){T&&clearTimeout(T),k._touch_drag=!1,g=!1;var Q=C(j),Y=O();if(Y&&Y.on_mouse_up(Q),P&&k.isTaskExists(P)&&(k.refreshTask(P),E.length&&(E.forEach(function(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}),k._touch_feedback())),g=w=!1,E=[],P=null,b&&f){var ne=new Date;ne-f<500?(k.$services.getService("mouseEvents").onDoubleClick(b),$(j)):f=ne}else f=new Date}}]),H=0;H<S.length;H++)k.event(S[H][0],S[H][1],S[H][2]);function $(j){return j&&j.preventDefault&&j.preventDefault(),j.cancelBubble=!0,!1}}}},function(z,J,k){function I(O){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(O)}z.exports=function(O){var S=k(1),D=k(2),C=k(261)(O),_=k(262)(O),y=k(263)(O),f=k(15)(O),g=k(264)(O),w=k(265)(O),b=k(266)(O),T=k(267)(O),P=k(15)(O),E=k(268)(O),G=k(269)(O);function H(j,Q){var Y,ne,oe="";for(ne=0;ne<j.length;ne++)oe+="<div "+O._waiAria.lightboxButtonAttrString(Y=O.config._migrate_buttons[j[ne]]?O.config._migrate_buttons[j[ne]]:j[ne])+" class='gantt_btn_set gantt_left_btn_set "+Y+"_set'"+(Q?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+Y+"'></div><div>"+O.locale.labels[Y]+"</div></div>";return oe}function $(j,Q,Y){var ne,oe,te,ee,le,he,me="";switch(Y.timeFormat[Q]){case"%Y":for(j._time_format_order[2]=Q,j._time_format_order.size++,j.year_range&&(isNaN(j.year_range)?j.year_range.push&&(te=j.year_range[0],ee=j.year_range[1]):ne=j.year_range),ne=ne||10,oe=oe||Math.floor(ne/2),te=te||Y.date.getFullYear()-oe,ee=ee||O.getState().max_date.getFullYear()+oe,le=te;le<ee;le++)me+="<option value='"+le+"'>"+le+"</option>";break;case"%m":for(j._time_format_order[1]=Q,j._time_format_order.size++,le=0;le<12;le++)me+="<option value='"+le+"'>"+O.locale.date.month_full[le]+"</option>";break;case"%d":for(j._time_format_order[0]=Q,j._time_format_order.size++,le=1;le<32;le++)me+="<option value='"+le+"'>"+le+"</option>";break;case"%H:%i":for(j._time_format_order[3]=Q,j._time_format_order.size++,le=Y.first,he=Y.date.getDate(),j._time_values=[];le<Y.last;)me+="<option value='"+le+"'>"+O.templates.time_picker(Y.date)+"</option>",j._time_values.push(le),Y.date.setTime(Y.date.valueOf()+60*O._get_timepicker_step()*1e3),le=24*(Y.date.getDate()!=he?1:0)*60+60*Y.date.getHours()+Y.date.getMinutes()}return me}O._lightbox_methods={},O._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",O.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:O._lightbox_id}}),O.showLightbox=function(j){if(this.callEvent("onBeforeLightbox",[j])){var Q=this.getTask(j),Y=this.getLightbox(this.getTaskType(Q.type));this._center_lightbox(Y),this.showCover(),this._fill_lightbox(j,Y),this._waiAria.lightboxVisibleAttr(Y),this.callEvent("onLightbox",[j])}},O._get_timepicker_step=function(){if(this.config.round_dnd_dates){var j;if((ne=this.$ui.getView("timeline"))&&ne.isVisible()){var Q=O.getScale();j=D.getSecondsInUnit(Q.unit)*Q.step/60}return(!j||j>=1440)&&(j=this.config.time_step),j}var ne;return this.config.time_step},O.getLabel=function(j,Q){for(var Y=this._get_typed_lightbox_config(),ne=0;ne<Y.length;ne++)if(Y[ne].map_to==j)for(var oe=Y[ne].options,te=0;te<oe.length;te++)if(oe[te].key==Q)return oe[te].label;return""},O.updateCollection=function(j,Q){Q=Q.slice(0);var Y=O.serverList(j);if(!Y)return!1;Y.splice(0,Y.length),Y.push.apply(Y,Q||[]),O.resetLightbox()},O.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},O.getLightbox=function(j){var Q,Y,ne,oe,te,ee="";if(void 0===j&&(j=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(j)){this._lightbox_type=this.getTaskType(j),Q=document.createElement("div"),ee="gantt_cal_light",Y=this._is_lightbox_timepicker(),(O.config.wide_form||Y)&&(ee+=" gantt_cal_light_wide"),Y&&(O.config.wide_form=!0,ee+=" gantt_cal_light_full"),Q.className=ee,Q.style.visibility="hidden",ne=this._lightbox_template,ne+=H(this.config.buttons_left),ne+=H(this.config.buttons_right,!0),Q.innerHTML=ne,O._waiAria.lightboxAttr(Q),O.config.drag_lightbox&&(Q.firstChild.onmousedown=O._ready_to_dnd,Q.firstChild.onselectstart=function(){return!1},Q.firstChild.style.cursor="pointer",O._init_dnd_events()),this._lightbox&&this.resetLightbox(),document.body.insertBefore(Q,document.body.firstChild),this._lightbox=Q,oe=this._get_typed_lightbox_config(j),ne=this._render_sections(oe);var le=(te=Q.querySelector("div.gantt_cal_larea")).style.overflow;te.style.overflow="hidden",te.innerHTML=ne,function(he){var me,ye,Se,Oe,Ne,ke;for(ke=0;ke<he.length;ke++)me=he[ke],Se=document.getElementById(me.id),me.id&&Se&&(ye=Se.querySelector("label"),(Oe=Se.nextSibling)&&(Ne=Oe.querySelector("input, select, textarea"))&&(Ne.id=Ne.id||"input_"+O.uid(),me.inputId=Ne.id,ye.setAttribute("for",me.inputId)))}(oe),this.resizeLightbox(),te.style.overflow=le,this._init_lightbox_events(this),Q.style.display="none",Q.style.visibility="visible"}return this._lightbox},O._render_sections=function(j){for(var Q="",Y=0;Y<j.length;Y++){var ne=this.form_blocks[j[Y].type];if(ne){j[Y].id="area_"+this.uid();var te="";j[Y].button&&(te="<div class='gantt_custom_button' data-index='"+Y+"'><div class='gantt_custom_button_"+j[Y].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+j[Y].button]+"</div></div>"),this.config.wide_form&&(Q+="<div class='gantt_wrap_section' "+(j[Y].hidden?" style='display:none'":"")+">"),Q+="<div id='"+j[Y].id+"' class='gantt_cal_lsection'><label>"+te+this.locale.labels["section_"+j[Y].name]+"</label></div>"+ne.render.call(this,j[Y]),Q+="</div>"}}return Q},O.resizeLightbox=function(){if(this._lightbox){var j=this._lightbox.querySelector(".gantt_cal_larea");j.style.height="0px",j.style.height=j.scrollHeight+"px",this._lightbox.style.height=j.scrollHeight+this.config.lightbox_additional_height+"px",j.style.height=j.scrollHeight+"px"}},O._center_lightbox=function(j){if(j){j.style.display="block";var Q=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,Y=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,ne=window.innerHeight||document.documentElement.clientHeight;j.style.top=Q?Math.round(Q+Math.max((ne-j.offsetHeight)/2,0))+"px":Math.round(Math.max((ne-j.offsetHeight)/2,0)+9)+"px",j.style.left=document.documentElement.scrollWidth>document.body.offsetWidth?Math.round(Y+(document.body.offsetWidth-j.offsetWidth)/2)+"px":Math.round((document.body.offsetWidth-j.offsetWidth)/2)+"px"}},O.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",document.body.appendChild(this._cover))},O.event(window,"deviceorientation",function(){O.getState().lightbox&&O._center_lightbox(O.getLightbox())}),O._init_lightbox_events=function(){O.lightbox_events={},O.lightbox_events.gantt_save_btn=function(){O._save_lightbox()},O.lightbox_events.gantt_delete_btn=function(){O._lightbox_new_type=null,O.callEvent("onLightboxDelete",[O._lightbox_id])&&(O.isTaskExists(O._lightbox_id)?O.$click.buttons.delete(O._lightbox_id):O.hideLightbox())},O.lightbox_events.gantt_cancel_btn=function(){O._cancel_lightbox()},O.lightbox_events.default=function(j,Q){if(Q.getAttribute("data-dhx-button"))O.callEvent("onLightboxButton",[Q.className,Q,j]);else{var Y,ne,oe=S.getClassName(Q);if(-1!=oe.indexOf("gantt_custom_button"))if(-1!=oe.indexOf("gantt_custom_button_"))for(Y=Q.parentNode.getAttribute("data-index"),ne=Q;ne&&-1==S.getClassName(ne).indexOf("gantt_cal_lsection");)ne=ne.parentNode;else Y=Q.getAttribute("data-index"),ne=Q.parentNode,Q=Q.firstChild;var te=O._get_typed_lightbox_config();Y&&O.form_blocks[te[1*(Y*=1)].type].button_click(Y,Q,ne,ne.nextSibling)}},this.event(O.getLightbox(),"click",function(j){j=j||window.event;var Q=S.getTargetNode(j),Y=S.getClassName(Q);return Y||(Y=S.getClassName(Q=Q.previousSibling)),Q&&Y&&0===Y.indexOf("gantt_btn_set")&&(Y=S.getClassName(Q=Q.firstChild)),!(!Q||!Y)&&(O.defined(O.lightbox_events[Q.className])?O.lightbox_events[Q.className]:O.lightbox_events.default)(j,Q)}),O.getLightbox().onkeydown=function(j){var Q=j||window.event,Y=j.target||j.srcElement,ne=S.getClassName(Y).indexOf("gantt_btn_set")>-1;switch((j||Q).keyCode){case O.constants.KEY_CODES.SPACE:if((j||Q).shiftKey)return;ne&&Y.click&&Y.click();break;case O.keys.edit_save:if((j||Q).shiftKey)return;ne&&Y.click?Y.click():O._save_lightbox();break;case O.keys.edit_cancel:O._cancel_lightbox()}}},O._cancel_lightbox=function(){var j=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,j.$new]),O.isTaskExists(j.id)&&j.$new&&this.silent(function(){O.$data.tasksStore.removeItem(j.id),O._update_flags(j.id,null)}),this.refreshData(),this.hideLightbox()},O._save_lightbox=function(){var j=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,j,!!j.$new])&&(j.$new?(delete j.$new,this.addTask(j,j.parent,this.getTaskIndex(j.id))):this.isTaskExists(j.id)&&(this.mixin(this.getTask(j.id),j,!0),this.refreshTask(j.id),this.updateTask(j.id)),this.refreshData(),this.hideLightbox())},O._resolve_default_mapping=function(j){var Q=j.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[j.type]?"auto"==j.map_to?Q={start_date:"start_date",end_date:"end_date",duration:"duration"}:"string"==typeof j.map_to&&(Q={start_date:j.map_to}):"constraint"===j.type&&(j.map_to&&"string"!=typeof j.map_to||(Q={constraint_type:"constraint_type",constraint_date:"constraint_date"})),Q},O.getLightboxValues=function(){var j={};O.isTaskExists(this._lightbox_id)&&(j=this.mixin({},this.getTask(this._lightbox_id)));for(var Q=this._get_typed_lightbox_config(),Y=0;Y<Q.length;Y++){var ne=document.getElementById(Q[Y].id);ne=ne&&ne.nextSibling;var oe=this.form_blocks[Q[Y].type];if(oe){var te=oe.get_value.call(this,ne,j,Q[Y]),ee=O._resolve_default_mapping(Q[Y]);if("string"==typeof ee&&"auto"!=ee)j[ee]=te;else if("object"==I(ee))for(var le in ee)ee[le]&&(j[ee[le]]=te[le])}}return"task"==O._lightbox_new_type&&(j.type=O.config.types.task,O._lightbox_new_type=null),j},O.hideLightbox=function(){var j=this.getLightbox();j&&(j.style.display="none"),this._waiAria.lightboxHiddenAttr(j),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},O.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},O.resetLightbox=function(){O._lightbox&&!O._custom_lightbox&&O._lightbox.parentNode.removeChild(O._lightbox),O._lightbox=null,O.hideCover()},O._set_lightbox_values=function(j,Q){var Y=j,ne=Q.getElementsByTagName("span"),oe=[];O.templates.lightbox_header?(oe.push(""),oe.push(O.templates.lightbox_header(Y.start_date,Y.end_date,Y)),ne[1].innerHTML="",ne[2].innerHTML=O.templates.lightbox_header(Y.start_date,Y.end_date,Y)):(oe.push(this.templates.task_time(Y.start_date,Y.end_date,Y)),oe.push(String(this.templates.task_text(Y.start_date,Y.end_date,Y)||"").substr(0,70)),ne[1].innerHTML=this.templates.task_time(Y.start_date,Y.end_date,Y),ne[2].innerHTML=String(this.templates.task_text(Y.start_date,Y.end_date,Y)||"").substr(0,70)),ne[1].innerHTML=oe[0],ne[2].innerHTML=oe[1],O._waiAria.lightboxHeader(Q,oe.join(" "));for(var te=this._get_typed_lightbox_config(this.getLightboxType()),ee=0;ee<te.length;ee++){var le=te[ee];if(this.form_blocks[le.type]){var he=document.getElementById(le.id).nextSibling,me=this.form_blocks[le.type],ye=O._resolve_default_mapping(te[ee]),Se=this.defined(Y[ye])?Y[ye]:le.default_value;me.set_value.call(O,he,Se,Y,le),le.focus&&me.focus.call(O,he)}}O.isTaskExists(j.id)&&(O._lightbox_id=j.id)},O._fill_lightbox=function(j,Q){var Y=this.getTask(j);this._set_lightbox_values(Y,Q)},O.getLightboxSection=function(j){for(var Q=this._get_typed_lightbox_config(),Y=0;Y<Q.length&&Q[Y].name!=j;Y++);var ne=Q[Y];if(!ne)return null;this._lightbox||this.getLightbox();var oe=document.getElementById(ne.id),te=oe.nextSibling,ee={section:ne,header:oe,node:te,getValue:function(he){return O.form_blocks[ne.type].get_value.call(O,te,he||{},ne)},setValue:function(he,me){return O.form_blocks[ne.type].set_value.call(O,te,he,me||{},ne)}},le=this._lightbox_methods["get_"+ne.type+"_control"];return le?le(ee):ee},O._lightbox_methods.get_template_control=function(j){return j.control=j.node,j},O._lightbox_methods.get_select_control=function(j){return j.control=j.node.getElementsByTagName("select")[0],j},O._lightbox_methods.get_textarea_control=function(j){return j.control=j.node.getElementsByTagName("textarea")[0],j},O._lightbox_methods.get_time_control=function(j){return j.control=j.node.getElementsByTagName("select"),j},O._init_dnd_events=function(){var j=document.body;this.event(j,"mousemove",O._move_while_dnd),this.event(j,"mouseup",O._finish_dnd),O._init_dnd_events=function(){}},O._move_while_dnd=function(j){if(O._dnd_start_lb){document.gantt_unselectable||(document.body.className+=" gantt_unselectable",document.gantt_unselectable=!0);var Q=O.getLightbox(),Y=[j.pageX,j.pageY];Q.style.top=O._lb_start[1]+Y[1]-O._dnd_start_lb[1]+"px",Q.style.left=O._lb_start[0]+Y[0]-O._dnd_start_lb[0]+"px"}},O._ready_to_dnd=function(j){var Q=O.getLightbox();O._lb_start=[parseInt(Q.style.left,10),parseInt(Q.style.top,10)],O._dnd_start_lb=[j.pageX,j.pageY]},O._finish_dnd=function(){O._lb_start&&(O._lb_start=O._dnd_start_lb=!1,document.body.className=document.body.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},O._focus=function(j,Q){if(j&&j.focus&&!O.config.touch)try{Q&&j.select&&j.select(),j.focus()}catch(Y){}},O.form_blocks={getTimePicker:function(j,Q){var Y,ne,oe,he,me,Se,te="",ee=this.config,le={first:0,last:1440,date:this.date.date_part(new Date(O._min_date.valueOf())),timeFormat:(he=j,he.time_format?he.time_format:(Se=["%d","%m","%Y"],me=O.getScale(),D.getSecondsInUnit(me?me.unit:O.config.duration_unit)<D.getSecondsInUnit("day")&&Se.push("%H:%i"),Se))};for(j._time_format_order={size:0},O.config.limit_time_select&&(le.first=60*ee.first_hour,le.last=60*ee.last_hour+1,le.date.setHours(ee.first_hour)),Y=0;Y<le.timeFormat.length;Y++)Y>0&&(te+=" "),(ne=$(j,Y,le))&&(oe=O._waiAria.lightboxSelectAttrString(le.timeFormat[Y]),te+="<select "+(j.readonly?"disabled='disabled'":"")+(Q?" style='display:none' ":"")+oe+">"+ne+"</select>");return te},getTimePickerValue:function(j,Q,Y){var ne,oe=Q._time_format_order,ee=0,le=0,he=Y||0;return O.defined(oe[3])&&(ne=parseInt(j[oe[3]+he].value,10),ee=Math.floor(ne/60),le=ne%60),new Date(j[oe[2]+he].value,j[oe[1]+he].value,j[oe[0]+he].value,ee,le)},_fill_lightbox_select:function(j,Q,Y,ne){if(j[Q+ne[0]].value=Y.getDate(),j[Q+ne[1]].value=Y.getMonth(),j[Q+ne[2]].value=Y.getFullYear(),O.defined(ne[3])){var oe=60*Y.getHours()+Y.getMinutes();oe=Math.round(oe/O._get_timepicker_step())*O._get_timepicker_step();var te=j[Q+ne[3]];te.value=oe,te.setAttribute("data-value",oe)}},template:new C,textarea:new _,select:new f,time:new y,duration:new b,parent:new T,radio:new w,checkbox:new g,resources:new P,constraint:new E,typeselect:new G},O._is_lightbox_timepicker=function(){for(var j=this._get_typed_lightbox_config(),Q=0;Q<j.length;Q++)if("time"==j[Q].name&&"time"==j[Q].type)return!0;return!1},O._dhtmlx_confirm=function(j,Q,Y,ne){if(!j)return Y();var oe={text:j};Q&&(oe.title=Q),ne&&(oe.ok=ne),Y&&(oe.callback=function(te){te&&Y()}),O.confirm(oe)},O._get_typed_lightbox_config=function(j){void 0===j&&(j=this.getLightboxType());var Q=function(Y){for(var ne in this.config.types)if(this.config.types[ne]==Y)return ne;return"task"}.call(this,j);return O.config.lightbox[Q+"_sections"]?O.config.lightbox[Q+"_sections"]:O.config.lightbox.sections},O._silent_redraw_lightbox=function(j){var Q=this.getLightboxType();if(this.getState().lightbox){var Y=this.getState().lightbox,ne=this.getLightboxValues(),oe=this.copy(this.getTask(Y));this.resetLightbox();var te=this.mixin(oe,ne,!0),ee=this.getLightbox(j||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(te,ee),this.showCover()}else this.resetLightbox(),this.getLightbox(j||void 0);this.callEvent("onLightboxChange",[Q,this.getLightboxType()])}}},function(z,J,k){var I=k(3);z.exports=function(O){var S=k(6)(O);function D(){return S.apply(this,arguments)||this}return I(D,S),D.prototype.render=function(C){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+(C.height||"30")+"px;'></div>"},D.prototype.set_value=function(C,_){C.innerHTML=_||""},D.prototype.get_value=function(C){return C.innerHTML||""},D.prototype.focus=function(){},D}},function(z,J,k){var I=k(3);z.exports=function(O){var S=k(6)(O);function D(){return S.apply(this,arguments)||this}return I(D,S),D.prototype.render=function(C){return"<div class='gantt_cal_ltext' style='height:"+(C.height||"130")+"px;'><textarea></textarea></div>"},D.prototype.set_value=function(C,_){O.form_blocks.textarea._get_input(C).value=_||""},D.prototype.get_value=function(C){return O.form_blocks.textarea._get_input(C).value},D.prototype.focus=function(C){var _=O.form_blocks.textarea._get_input(C);O._focus(_,!0)},D.prototype._get_input=function(C){return C.querySelector("textarea")},D}},function(z,J,k){var I=k(3);z.exports=function(O){var S=k(6)(O);function D(){return S.apply(this,arguments)||this}return I(D,S),D.prototype.render=function(C){var _=O.form_blocks.getTimePicker.call(this,C),y="<div style='height:"+(C.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return y+=_,C.single_date?(_=O.form_blocks.getTimePicker.call(this,C,!0),y+="<span></span>"):y+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",(y+=_)+"</div>"},D.prototype.set_value=function(C,_,y,f){var g=f,w=C.getElementsByTagName("select"),b=f._time_format_order;if(g.auto_end_date)for(var T=function(){G=new Date(w[b[2]].value,w[b[1]].value,w[b[0]].value,0,0),H=O.calculateEndDate({start_date:G,duration:1,task:y}),O.form_blocks._fill_lightbox_select(w,b.size,H,b,g)},P=0;P<4;P++)w[P].onchange=T;var E=O._resolve_default_mapping(f);"string"==typeof E&&(E={start_date:E});var G=y[E.start_date]||new Date,H=y[E.end_date]||O.calculateEndDate({start_date:G,duration:1,task:y});O.form_blocks._fill_lightbox_select(w,0,G,b,g),O.form_blocks._fill_lightbox_select(w,b.size,H,b,g)},D.prototype.get_value=function(C,_,y){var f,b,T,P,E,g=C.getElementsByTagName("select"),w=y._time_format_order;return f=O.form_blocks.getTimePickerValue(g,y),"string"==typeof O._resolve_default_mapping(y)?f:{start_date:f,end_date:(b=g,T=w,P=f,E=O.form_blocks.getTimePickerValue(b,y,T.size),E<=P&&(!1!==y.autofix_end||y.single_date)?O.date.add(P,O._get_timepicker_step(),"minute"):E)}},D.prototype.focus=function(C){O._focus(C.getElementsByTagName("select")[0])},D}},function(z,J,k){var I=k(2),O=k(3);z.exports=function(S){var D=k(6)(S);function C(){return D.apply(this,arguments)||this}return O(C,D),C.prototype.render=function(_){var y="<div class='gantt_cal_ltext' style='height:"+(_.height||"23")+"px;'>";if(_.options&&_.options.length)for(var f=0;f<_.options.length;f++)y+="<label><input type='checkbox' value='"+_.options[f].key+"' name='"+_.name+"'>"+_.options[f].label+"</label>";else _.single_value=!0,y+="<label><input type='checkbox' name='"+_.name+"'></label>";return y+"</div>"},C.prototype.set_value=function(_,y,f,g){var w=Array.prototype.slice.call(_.querySelectorAll("input[type=checkbox]"));!_._dhx_onchange&&g.onchange&&(_.onchange=g.onchange,_._dhx_onchange=!0),g.single_value?w[0].checked=!!y:I.forEach(w,function(b){b.checked=!!y&&y.indexOf(b.value)>=0})},C.prototype.get_value=function(_,y,f){return f.single_value?_.querySelector("input[type=checkbox]").checked:I.arrayMap(Array.prototype.slice.call(_.querySelectorAll("input[type=checkbox]:checked")),function(g){return g.value})},C.prototype.focus=function(_){S._focus(_.querySelector("input[type=checkbox]"))},C}},function(z,J,k){var I=k(3);z.exports=function(O){var S=k(6)(O);function D(){return S.apply(this,arguments)||this}return I(D,S),D.prototype.render=function(C){var _="<div class='gantt_cal_ltext' style='height:"+(C.height||"23")+"px;'>";if(C.options&&C.options.length)for(var y=0;y<C.options.length;y++)_+="<label><input type='radio' value='"+C.options[y].key+"' name='"+C.name+"'>"+C.options[y].label+"</label>";return _+"</div>"},D.prototype.set_value=function(C,_,y,f){var g;f.options&&f.options.length&&(g=C.querySelector("input[type=radio][value='"+_+"']")||C.querySelector("input[type=radio][value='"+f.default_value+"']"))&&(!C._dhx_onchange&&f.onchange&&(C.onchange=f.onchange,C._dhx_onchange=!0),g.checked=!0)},D.prototype.get_value=function(C,_){var y=C.querySelector("input[type=radio]:checked");return y?y.value:""},D.prototype.focus=function(C){O._focus(C.querySelector("input[type=radio]"))},D}},function(z,J,k){var I=k(3),O=k(37).default;z.exports=function(S){var D=k(6)(S);function C(){return D.apply(this,arguments)||this}function _(g){return g.formatter||new O}function y(g,w){var b=g.getElementsByTagName("select"),T=w._time_format_order,P=0,E=0;if(S.defined(T[3])){var G=b[T[3]],H=parseInt(G.value,10);isNaN(H)&&G.hasAttribute("data-value")&&(H=parseInt(G.getAttribute("data-value"),10)),P=Math.floor(H/60),E=H%60}return new Date(b[T[2]].value,b[T[1]].value,b[T[0]].value,P,E)}function f(g,w){var b=g.getElementsByTagName("input")[1];return(b=_(w).parse(b.value))&&!window.isNaN(b)||(b=1),b<0&&(b*=-1),b}return I(C,D),C.prototype.render=function(g){var w="<div class='gantt_time_selects'>"+S.form_blocks.getTimePicker.call(this,g)+"</div>",b=" "+S.locale.labels[S.config.duration_unit+"s"]+" ",T=g.single_date?" style='display:none'":"",P=g.readonly?" disabled='disabled'":"",E=S._waiAria.lightboxDurationInputAttrString(g),G="gantt_duration_value";return g.formatter&&(b="",G+=" gantt_duration_value_formatted"),"<div style='height:"+(g.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+w+" <div class='gantt_duration' "+T+"><input type='button' class='gantt_duration_dec' value='\u2212'"+P+"><input type='text' value='5days' class='"+G+"'"+P+" "+E+"><input type='button' class='gantt_duration_inc' value='+'"+P+">"+b+"<span></span></div></div>"},C.prototype.set_value=function(g,w,b,T){var P,E,G,H,$=g.getElementsByTagName("select"),j=g.getElementsByTagName("input"),Q=j[1],Y=[j[0],j[2]],ne=g.getElementsByTagName("span")[0],oe=T._time_format_order;function te(){var le=y.call(S,g,T),he=f.call(S,g,T),me=S.calculateEndDate({start_date:le,duration:he,task:b});ne.innerHTML=(S.templates.task_end_date||S.templates.task_date)(me)}function ee(le){var he=Q.value;he=_(T).parse(he),window.isNaN(he)&&(he=0),(he+=le)<1&&(he=1),Q.value=_(T).format(he),te()}Y[0].onclick=S.bind(function(){ee(-1*S.config.duration_step)},this),Y[1].onclick=S.bind(function(){ee(1*S.config.duration_step)},this),$[0].onchange=te,$[1].onchange=te,$[2].onchange=te,$[3]&&($[3].onchange=te),Q.onkeydown=S.bind(function(le){var he;return(he=(le=le||window.event).charCode||le.keyCode||le.which)==S.constants.KEY_CODES.DOWN?(ee(-1*S.config.duration_step),!1):he==S.constants.KEY_CODES.UP?(ee(1*S.config.duration_step),!1):void window.setTimeout(te,1)},this),Q.onchange=S.bind(te,this),"string"==typeof(P=S._resolve_default_mapping(T))&&(P={start_date:P}),E=b[P.start_date]||new Date,G=b[P.end_date]||S.calculateEndDate({start_date:E,duration:1,task:b}),H=Math.round(b[P.duration])||S.calculateDuration({start_date:E,end_date:G,task:b}),H=_(T).format(H),S.form_blocks._fill_lightbox_select($,0,E,oe,T),Q.value=H,te()},C.prototype.get_value=function(g,w,b){var T=y(g,b),P=f(g,b),E=S.calculateEndDate({start_date:T,duration:P,task:w});return"string"==typeof S._resolve_default_mapping(b)?T:{start_date:T,end_date:E,duration:P}},C.prototype.focus=function(g){S._focus(g.getElementsByTagName("select")[0])},C}},function(z,J,k){var I=k(3);z.exports=function(O){var S=k(15)(O);function D(){return S.apply(this,arguments)||this}function C(_,y){var f=[],g=[];y&&(f=O.getTaskByTime(),_.allow_root&&f.unshift({id:O.config.root_id,text:_.root_label||""}),f=function(P,E,G){var H=E.filter||function(){return!0};P=P.slice(0);for(var $=0;$<P.length;$++){var j=P[$];(j.id==G||O.isChildOf(j.id,G)||!1===H(j.id,j))&&(P.splice($,1),$--)}return P}(f,_,y),_.sort&&f.sort(_.sort));for(var w=_.template||O.templates.task_text,b=0;b<f.length;b++){var T=w.apply(O,[f[b].start_date,f[b].end_date,f[b]]);void 0===T&&(T=""),g.push({key:f[b].id,label:T})}return _.options=g,_.map_to=_.map_to||"parent",O.form_blocks.select.render.apply(this,arguments)}return I(D,S),D.prototype.render=function(_){return C(_,!1)},D.prototype.set_value=function(_,y,f,g){0===y&&(y="0");var w=document.createElement("div");w.innerHTML=C(g,f.id);var b=w.removeChild(w.firstChild);return _.onselect=null,_.parentNode.replaceChild(b,_),O.form_blocks.select.set_value.apply(O,[b,y,f,g])},D}},function(z,J,k){var I=k(3),O=k(43);z.exports=function(S){var D=k(6)(S);function C(){return D.apply(this,arguments)||this}function _(f){return!f||f===S.config.constraint_types.ASAP||f===S.config.constraint_types.ALAP}function y(f,g){for(var w=_(g),b=0;b<f.length;b++)f[b].disabled=w}return I(C,D),C.prototype.render=function(f){var w="<div class='gantt_cal_ltext gantt_section_"+f.name+"' style='height:"+(f.height||30)+"px;'>",b=[];for(var T in S.config.constraint_types)b.push({key:S.config.constraint_types[T],label:S.locale.labels[S.config.constraint_types[T]]});return f.options=f.options||b,w+="<span data-constraint-type-select>"+O.getHtmlSelect(f.options,[{key:"data-type",value:"constraint-type"}])+"</span>",(w+="<label data-constraint-time-select>"+(S.locale.labels.constraint_date||"Constraint date")+": "+S.form_blocks.getTimePicker.call(this,f)+"</label>")+"</div>"},C.prototype.set_value=function(f,g,w,b){var T=f.querySelector("[data-constraint-type-select] select"),P=f.querySelectorAll("[data-constraint-time-select] select"),E=b._time_format_order,G=S._resolve_default_mapping(b);T._eventsInitialized||(T.addEventListener("change",function(j){y(P,j.target.value)}),T._eventsInitialized=!0);var H=w[G.constraint_date]||new Date;S.form_blocks._fill_lightbox_select(P,0,H,E,b);var $=w[G.constraint_type]||S.getConstraintType(w);T.value=$,y(P,$)},C.prototype.get_value=function(f,g,w){var b=f.querySelector("[data-constraint-type-select] select"),T=f.querySelectorAll("[data-constraint-time-select] select"),P=b.value,E=null;return _(P)||(E=S.form_blocks.getTimePickerValue(T,w)),{constraint_type:P,constraint_date:E}},C.prototype.focus=function(f){S._focus(f.querySelector("select"))},C}},function(z,J,k){var I=k(3);z.exports=function(O){var S=k(15)(O);function D(){return S.apply(this,arguments)||this}return I(D,S),D.prototype.render=function(C){var _=O.config.types,y=O.locale.labels,f=[],g=C.filter||function(T,P){return!_.placeholder||P!==_.placeholder};for(var w in _)g(w,_[w])&&f.push({key:_[w],label:y["type_"+w]});C.options=f;var b=C.onchange;return C.onchange=function(){O.changeLightboxType(this.value),this.value===O.config.types.task&&(O._lightbox_new_type="task"),"function"==typeof b&&b.apply(this,arguments)},S.prototype.render.apply(this,arguments)},D}},function(z,J){z.exports=function(k){k._extend_to_optional=function(I){var O=I,S={render:O.render,focus:O.focus,set_value:function(D,C,_,y){var f=k._resolve_default_mapping(y);if(!_[f.start_date]||"start_date"==f.start_date&&this._isAllowedUnscheduledTask(_)){S.disable(D,y);var g={};for(var w in f)g[f[w]]=_[w];return O.set_value.call(k,D,C,g,y)}return S.enable(D,y),O.set_value.call(k,D,C,_,y)},get_value:function(D,C,_){return _.disabled?{start_date:null}:O.get_value.call(k,D,C,_)},update_block:function(D,C){if(k.callEvent("onSectionToggle",[k._lightbox_id,C]),D.style.display=C.disabled?"none":"block",C.button){var _=D.previousSibling.querySelector(".gantt_custom_button_label"),y=k.locale.labels;_.innerHTML=C.disabled?y[C.name+"_enable_button"]:y[C.name+"_disable_button"]}k.resizeLightbox()},disable:function(D,C){C.disabled=!0,S.update_block(D,C)},enable:function(D,C){C.disabled=!1,S.update_block(D,C)},button_click:function(D,C,_,y){if(!1!==k.callEvent("onSectionButton",[k._lightbox_id,_])){var f=k._get_typed_lightbox_config()[D];f.disabled?S.enable(y,f):S.disable(y,f)}}};return S},k.form_blocks.duration_optional=k._extend_to_optional(k.form_blocks.duration),k.form_blocks.time_optional=k._extend_to_optional(k.form_blocks.time)}},function(z,J){z.exports=function(k){var I=new RegExp("<(?:.|\n)*?>","gm"),O=new RegExp(" +","gm");function S(y){return(y+"").replace(I," ").replace(O," ")}var D=new RegExp("'","gm");function C(y){return(y+"").replace(D,"&#39;")}for(var _ in k._waiAria={getAttributeString:function(y){var f=[" "];for(var g in y){var w=C(S(y[g]));f.push(g+"='"+w+"'")}return f.push(" "),f.join(" ")},getTimelineCellAttr:function(y){return k._waiAria.getAttributeString({"aria-label":y})},_taskCommonAttr:function(y,f){y.start_date&&y.end_date&&(f.setAttribute("aria-label",S(k.templates.tooltip_text(y.start_date,y.end_date,y))),y.$dataprocessor_class&&f.setAttribute("aria-busy",!0),f.setAttribute("aria-selected",k.isSelectedTask(y.id)?"true":"false"))},setTaskBarAttr:function(y,f){this._taskCommonAttr(y,f),!k.isReadonly(y)&&k.config.drag_move&&(y.id!=k.getState("tasksDnd").drag_id?f.setAttribute("aria-grabbed",!1):f.setAttribute("aria-grabbed",!0))},taskRowAttr:function(y,f){this._taskCommonAttr(y,f),!k.isReadonly(y)&&k.config.order_branch&&f.setAttribute("aria-grabbed",!1),f.setAttribute("role","row"),f.setAttribute("aria-level",y.$level),k.hasChild(y.id)&&f.setAttribute("aria-expanded",y.$open?"true":"false")},linkAttr:function(y,f){var g=k.config.links,T=k.locale.labels.link+" "+k.templates.drag_link(y.source,y.type==g.start_to_start||y.type==g.start_to_finish,y.target,y.type==g.finish_to_start||y.type==g.start_to_start);f.setAttribute("aria-label",S(T)),k.isReadonly(y)&&f.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(y){y.setAttribute("role","separator")},lightboxHiddenAttr:function(y){y.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(y){y.setAttribute("aria-hidden","false")},lightboxAttr:function(y){y.setAttribute("role","dialog"),y.setAttribute("aria-hidden","true"),y.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(y){return this.getAttributeString({role:"button","aria-label":k.locale.labels[y],tabindex:"0"})},lightboxHeader:function(y,f){y.setAttribute("aria-label",f)},lightboxSelectAttrString:function(y){var f="";switch(y){case"%Y":f=k.locale.labels.years;break;case"%m":f=k.locale.labels.months;break;case"%d":f=k.locale.labels.days;break;case"%H:%i":f=k.locale.labels.hours+k.locale.labels.minutes}return k._waiAria.getAttributeString({"aria-label":f})},lightboxDurationInputAttrString:function(y){return this.getAttributeString({"aria-label":k.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",k.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(y,f){var g="";if("add"==y.name)g=this.getAttributeString({role:"button","aria-label":k.locale.labels.new_task});else{var w={role:"columnheader","aria-label":f};k._sort&&k._sort.name==y.name&&(w["aria-sort"]="asc"==k._sort.direction?"ascending":"descending"),g=this.getAttributeString(w)}return g},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(y,f,g){var w={role:"gridcell","aria-label":f};return y.editor&&!k.isReadonly(g)||(w["aria-readonly"]=!0),this.getAttributeString(w)},gridAddButtonAttrString:function(y){return this.getAttributeString({role:"button","aria-label":k.locale.labels.new_task})},messageButtonAttrString:function(y){return"tabindex='0' role='button' aria-label='"+y+"'"},messageInfoAttr:function(y){y.setAttribute("role","alert")},messageModalAttr:function(y,f){y.setAttribute("role","dialog"),f&&y.setAttribute("aria-labelledby",f)},quickInfoAttr:function(y){y.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(y,f){y.setAttribute("aria-label",f)},quickInfoButtonAttrString:function(y){return k._waiAria.getAttributeString({role:"button","aria-label":y,tabindex:"0"})},tooltipAttr:function(y){y.setAttribute("role","tooltip")},tooltipVisibleAttr:function(y){y.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(y){y.setAttribute("aria-hidden","true")}},k._waiAria)k._waiAria[_]=function(y){return function(){return k.config.wai_aria_attributes?y.apply(this,arguments):""}}(k._waiAria[_])}}])},717:(Rr,z,J)=>{"use strict";var k=J(623);function I(O){return!0===k(O)&&"[object Object]"===Object.prototype.toString.call(O)}Rr.exports=function(S){var D,C;return!(!1===I(S)||(D=S.constructor,"function"!=typeof D)||(C=D.prototype,!1===I(C))||!1===C.hasOwnProperty("isPrototypeOf"))}},623:Rr=>{"use strict";Rr.exports=function(J){return null!=J&&"object"==typeof J&&!1===Array.isArray(J)}},872:Rr=>{var z=Object.prototype.toString;function J(f){return"function"==typeof f.constructor?f.constructor.name:null}Rr.exports=function(g){if(void 0===g)return"undefined";if(null===g)return"null";var w=typeof g;if("boolean"===w)return"boolean";if("string"===w)return"string";if("number"===w)return"number";if("symbol"===w)return"symbol";if("function"===w)return function D(f,g){return"GeneratorFunction"===J(f)}(g)?"generatorfunction":"function";if(function k(f){return Array.isArray?Array.isArray(f):f instanceof Array}(g))return"array";if(function y(f){return!(!f.constructor||"function"!=typeof f.constructor.isBuffer)&&f.constructor.isBuffer(f)}(g))return"buffer";if(function _(f){try{if("number"==typeof f.length&&"function"==typeof f.callee)return!0}catch(g){if(-1!==g.message.indexOf("callee"))return!0}return!1}(g))return"arguments";if(function O(f){return f instanceof Date||"function"==typeof f.toDateString&&"function"==typeof f.getDate&&"function"==typeof f.setDate}(g))return"date";if(function I(f){return f instanceof Error||"string"==typeof f.message&&f.constructor&&"number"==typeof f.constructor.stackTraceLimit}(g))return"error";if(function S(f){return f instanceof RegExp||"string"==typeof f.flags&&"boolean"==typeof f.ignoreCase&&"boolean"==typeof f.multiline&&"boolean"==typeof f.global}(g))return"regexp";switch(J(g)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function C(f){return"function"==typeof f.throw&&"function"==typeof f.return&&"function"==typeof f.next}(g))return"generator";switch(w=z.call(g)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return w.slice(8,-1).toLowerCase().replace(/\s/g,"")}},315:(Rr,z,J)=>{"use strict";const k=Symbol.prototype.valueOf,I=J(872);Rr.exports=function O(f,g){switch(I(f)){case"array":return f.slice();case"object":return Object.assign({},f);case"date":return new f.constructor(Number(f));case"map":return new Map(f);case"set":return new Set(f);case"buffer":return function _(f){const g=f.length,w=Buffer.allocUnsafe?Buffer.allocUnsafe(g):Buffer.from(g);return f.copy(w),w}(f);case"symbol":return function y(f){return k?Object(k.call(f)):{}}(f);case"arraybuffer":return function D(f){const g=new f.constructor(f.byteLength);return new Uint8Array(g).set(new Uint8Array(f)),g}(f);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function C(f,g){return new f.constructor(f.buffer,f.byteOffset,f.length)}(f);case"regexp":return function S(f){const g=void 0!==f.flags?f.flags:/\w+$/.exec(f)||void 0,w=new f.constructor(f.source,g);return w.lastIndex=f.lastIndex,w}(f);case"error":return Object.create(f);default:return f}}}},Rr=>{Rr(Rr.s=728)}]);